id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2672251629,pull_request,closed,,"ü§ñ backported ""fix(sdk): trigger save handler on question create when using SaveQuestionForm""",#50137,github-automation-metabase,2024-11-19 13:47:22+00:00,"['heypoom', 'github-automation-metabase']",2024-11-19 15:08:40+00:00,2024-11-19 14:47:02+00:00,https://github.com/metabase/metabase/pull/50203,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2485879885, 'issue_id': 2672251629, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13256_tests-38cf8ac4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50203?repo=metabase/metabase&commitHash=38cf8ac4bd7ca5b2a6e6df12be048c58fd026f80&utm_source=gh-comment&runConclusion=FAILURE&runId=3f388fc5-d8ba-5e7e-b88a-cd516b093a16) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50203?repo=metabase/metabase&commitHash=38cf8ac4bd7ca5b2a6e6df12be048c58fd026f80&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 14, 31, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 14:31:29 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13256_tests-38cf8ac4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50203?repo=metabase/metabase&commitHash=38cf8ac4bd7ca5b2a6e6df12be048c58fd026f80&utm_source=gh-comment&runConclusion=FAILURE&runId=3f388fc5-d8ba-5e7e-b88a-cd516b093a16) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50203?repo=metabase/metabase&commitHash=38cf8ac4bd7ca5b2a6e6df12be048c58fd026f80&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2672222739,pull_request,closed,,render segment control in notebook mode,"closes https://github.com/metabase/metabase/issues/50262

render segment control instead of Visualize button if query wasn't changed, and we return from the viz

### Demo (updated)

https://github.com/user-attachments/assets/8ec889f2-1508-4f2b-8ca2-924cb0881942


at least one failing test is expected, it will be addressed in the separate PR
",uladzimirdev,2024-11-19 13:37:15+00:00,['uladzimirdev'],2024-11-22 10:43:31+00:00,2024-11-22 10:43:29+00:00,https://github.com/metabase/metabase/pull/50201,"[('.Team/Querying', '')]","[{'comment_id': 2485905864, 'issue_id': 2672222739, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13223_tests-2b007dfe-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pivot tables should not have to wait for data to show fields in summarization (metabase\\$126467)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment&runConclusion=FAILURE&runId=2e3976f8-f6e9-569e-b03a-a6841f7334ff) |\n| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> | Unable to find an accessible element with the role ""button"" and name ""Visualize"" after 4000ms timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment&runConclusion=FAILURE&runId=11187fdf-8d5a-5775-9649-e66519721950) |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\$114648)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment&runConclusion=FAILURE&runId=6ffa3e87-49e4-5830-a560-c686fe528124) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 14, 41, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489433823, 'issue_id': 2672222739, 'author': 'uladzimirdev', 'body': '@kamilmielnik I reworked the approach by moving control to the footer and rendering footer in both notebook editor and view. Please take a look one more time', 'created_at': datetime.datetime(2024, 11, 20, 19, 58, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 14:41:28 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13223_tests-2b007dfe-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pivot tables should not have to wait for data to show fields in summarization (metabase\$126467)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment&runConclusion=FAILURE&runId=2e3976f8-f6e9-569e-b03a-a6841f7334ff) |
| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> | Unable to find an accessible element with the role ""button"" and name ""Visualize"" after 4000ms timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment&runConclusion=FAILURE&runId=11187fdf-8d5a-5775-9649-e66519721950) |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\$114648)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment&runConclusion=FAILURE&runId=6ffa3e87-49e4-5830-a560-c686fe528124) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50201?repo=metabase/metabase&commitHash=2b007dfef2347a45d1e0168c3d2b7bc06e37759e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2024-11-20 19:58:03 UTC): @kamilmielnik I reworked the approach by moving control to the footer and rendering footer in both notebook editor and view. Please take a look one more time

"
2672110094,pull_request,closed,,[FAI-13535] Port dashboard copy to v51,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label
> to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this
> PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71)
> in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not
> apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",fedetoledo,2024-11-19 13:10:24+00:00,[],2024-11-19 13:10:54+00:00,2024-11-19 13:10:54+00:00,https://github.com/metabase/metabase/pull/50200,[],[],
2672004303,pull_request,closed,,Quarantine the flaky assertions,"Relate to https://github.com/metabase/metabase/issues/50197

### Description

This temporary quarantines the assertions that are flaky

### How to verify

- ‚úÖ [Stress test on this branch](https://github.com/metabase/metabase/actions/runs/11912814631/job/33197215097)
- ‚ùå [Stress test on master](https://github.com/metabase/metabase/actions/runs/11911789226/job/33194040232) 

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-19 12:24:02+00:00,['WiNloSt'],2024-11-20 07:32:41+00:00,2024-11-20 06:46:58+00:00,https://github.com/metabase/metabase/pull/50198,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2485681872, 'issue_id': 2672004303, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3272_tests-b9ea816f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50198?repo=metabase/metabase&commitHash=b9ea816fc617bbbf5bbab5061837973a80f9d690&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 13, 13, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 13:13:27 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3272_tests-b9ea816f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50198?repo=metabase/metabase&commitHash=b9ea816fc617bbbf5bbab5061837973a80f9d690&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671968688,pull_request,closed,,Add basic pie charts support to visualizer,,kulyk,2024-11-19 12:07:30+00:00,"['kdoh', 'kulyk']",2024-11-19 13:32:20+00:00,2024-11-19 12:07:37+00:00,https://github.com/metabase/metabase/pull/50195,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2485607759, 'issue_id': 2671968688, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13165_tests-ca2bef90-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50195?repo=metabase/metabase&commitHash=ca2bef90648ad14e52db2925ad94cc5366b1e3ee&utm_source=gh-comment&runConclusion=FAILURE&runId=8dd490c2-c79a-5a39-b00a-29b72a4acba9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50195?repo=metabase/metabase&commitHash=ca2bef90648ad14e52db2925ad94cc5366b1e3ee&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 12, 40, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 12:40:37 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13165_tests-ca2bef90-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50195?repo=metabase/metabase&commitHash=ca2bef90648ad14e52db2925ad94cc5366b1e3ee&utm_source=gh-comment&runConclusion=FAILURE&runId=8dd490c2-c79a-5a39-b00a-29b72a4acba9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50195?repo=metabase/metabase&commitHash=ca2bef90648ad14e52db2925ad94cc5366b1e3ee&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671878796,pull_request,closed,,"ü§ñ backported ""Fix flaky e2e tests by using `synchronous-batch-updates: true` by default""",#50143,github-automation-metabase,2024-11-19 11:31:39+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-19 12:45:06+00:00,2024-11-19 12:14:37+00:00,https://github.com/metabase/metabase/pull/50193,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2485542164, 'issue_id': 2671878796, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3254_tests-a8c6586e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50193?repo=metabase/metabase&commitHash=a8c6586e4fe0077d87e95c67e4a13360ef6d9a98&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 12, 9, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 12:09:38 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3254_tests-a8c6586e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50193?repo=metabase/metabase&commitHash=a8c6586e4fe0077d87e95c67e4a13360ef6d9a98&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671824460,pull_request,open,,i18n(Settings) syntax error,minor syntax error,joebordes,2024-11-19 11:25:59+00:00,[],2024-11-26 21:33:14+00:00,,https://github.com/metabase/metabase/pull/50192,[],[],
2671814316,pull_request,closed,,"ü§ñ backported ""Fix - Remove clause button shrinks in the notebook editor""",#50150,github-automation-metabase,2024-11-19 11:21:54+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-19 12:44:08+00:00,2024-11-19 12:03:52+00:00,https://github.com/metabase/metabase/pull/50191,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2485542249, 'issue_id': 2671814316, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13148_tests-2262134c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50191?repo=metabase/metabase&commitHash=2262134c7c2d0179e462b6b04c9e25e1a1a45c4f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 12, 9, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 12:09:40 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13148_tests-2262134c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50191?repo=metabase/metabase&commitHash=2262134c7c2d0179e462b6b04c9e25e1a1a45c4f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671763294,pull_request,closed,,"ü§ñ backported ""fix(sdk): handle relative urls for metabaseInstance in loading maps""",#50135,github-automation-metabase,2024-11-19 11:01:49+00:00,"['npretto', 'github-automation-metabase']",2024-11-19 12:11:09+00:00,2024-11-19 11:44:05+00:00,https://github.com/metabase/metabase/pull/50190,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2485392283, 'issue_id': 2671763294, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff eb6b3356dfe0e68d21f2510035e732219cda65b1...014921f09f6622c259732989d1a679b1ae571eed.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.unit.spec.js |', 'created_at': datetime.datetime(2024, 11, 19, 11, 3, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485478221, 'issue_id': 2671763294, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13150_tests-014921f0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50190?repo=metabase/metabase&commitHash=014921f09f6622c259732989d1a679b1ae571eed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 11, 39, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485478222, 'issue_id': 2671763294, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12144_tests-014921f0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50190?repo=metabase/metabase&commitHash=014921f09f6622c259732989d1a679b1ae571eed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 11, 39, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 11:03:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff eb6b3356dfe0e68d21f2510035e732219cda65b1...014921f09f6622c259732989d1a679b1ae571eed.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.unit.spec.js |

trunk-io[bot] on (2024-11-19 11:39:35 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13150_tests-014921f0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50190?repo=metabase/metabase&commitHash=014921f09f6622c259732989d1a679b1ae571eed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-19 11:39:35 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12144_tests-014921f0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50190?repo=metabase/metabase&commitHash=014921f09f6622c259732989d1a679b1ae571eed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671551115,pull_request,closed,,Add v0.51.4 to the list of releases,Like it says on the tin üòÅ,github-automation-metabase,2024-11-19 09:56:47+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-19 21:49:56+00:00,2024-11-19 18:28:05+00:00,https://github.com/metabase/metabase/pull/50189,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2671286479,pull_request,closed,,Change default interactive question layout,"Adds the default layout to the `InteractiveQuestion` component, based on the designs from [this Figma](https://www.figma.com/design/Vkrs53Rit3EPmCaIkI0ZBf/SDK-Default-Layout?node-id=96-9545&t=yz9NqNQpIdXFPjdM-1). Here's a demo:


https://github.com/user-attachments/assets/ecd64099-6194-4563-9dab-97710a6fcd9e


There's a few things to be sorted still:
- the binning dropdowns in the summarize popover is messed up
- The tooltips for bar charts and the ""save question"" modal have font issues
- there still needs to be an empty state for the question layout
- some tests need to be fixed
",oisincoveney,2024-11-19 08:43:34+00:00,['oisincoveney'],2024-11-27 17:24:25+00:00,2024-11-27 17:24:22+00:00,https://github.com/metabase/metabase/pull/50188,"[('.Team/Embedding', '')]","[{'comment_id': 2485051440, 'issue_id': 2671286479, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 19, 8, 43, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492355125, 'issue_id': 2671286479, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13098_tests-1e6bbb5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Add a function or metric"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE&runId=f24f591b-3bfa-5b0d-acac-a81a18485987) |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE&runId=0f14deae-32be-5b40-a975-a85eca8ef964) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 21, 17, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499979553, 'issue_id': 2671286479, 'author': 'WiNloSt', 'body': ""This is the first impression I have of this component. First of all, the UI looks a lot better than the previous version, but I still found some UI/UX inconsistencies which would require designers to take a look and weigh in on solutions, some comments might not only apply to the SDK component so don't mind them.\r\n\r\n1. In the notebook editor, the clickable item in each section is a bit higher than the add button. This doesn't look that different in the core app.\r\n    - SDK: It's probably 1 or 2px higher than the core app due to the bold text as far as I can tell.\r\n        ![Screenshot 2024-11-26 at 3 07 04\u202fPM](https://github.com/user-attachments/assets/a3247403-042d-4e89-823b-cfb33e9469d8)\r\n    - Core app\r\n        ![Screenshot 2024-11-26 at 3 12 20\u202fPM](https://github.com/user-attachments/assets/67709a67-abf6-483c-843e-4566b2305179)\r\n1. In each query option dropdown (filter, summary, grouping), the back-to-main dropdown view experience is vastly different when we click on existing values.\r\n     ![image](https://github.com/user-attachments/assets/98c0fecd-14e9-419d-9581-fb002ef105f8)\r\n     *The main dropdown view*\r\n    - Clicking back on the filter brings users to the previous stage in the filter, which has never been shown to users before\r\n        - ![Screenshot 2024-11-26 at 3 08 59\u202fPM](https://github.com/user-attachments/assets/b86801eb-b4af-4123-9ecb-f8ba427cf8b5)\r\n        - ![Screenshot 2024-11-26 at 3 09 40\u202fPM](https://github.com/user-attachments/assets/b62bfa9a-07b7-4486-96e1-af76a1217a4f)\r\n        - ![Screenshot 2024-11-26 at 3 09 42\u202fPM](https://github.com/user-attachments/assets/5a3976e9-b7ee-4d82-a6c9-686ccef26f3a)\r\n    - There is no way to go back in the summary dropdown\r\n        - ![Screenshot 2024-11-26 at 3 08 39\u202fPM](https://github.com/user-attachments/assets/91e2dbf2-7c13-4bd8-a9ec-cd47503cd033)\r\n    - The back button is a button instead of an icon, and this is the only time I was able to back to the main dropdown view\r\n        - ![Screenshot 2024-11-26 at 3 08 19\u202fPM](https://github.com/user-attachments/assets/13da25ea-d7af-44c4-9fee-f7aaed8a0f00)\r\n\r\n1. I found the notebook mode with limited height to be somewhat jarring as there's no visual indication of where the end of the scroll container is located.\r\n    - current implementation:\r\n        ![Screenshot 2024-11-26 at 3 06 09\u202fPM](https://github.com/user-attachments/assets/77bcda1e-8a81-4cf1-80a9-6d1e90954583)\r\n    - an example solution with a faded bottom:\r\n        ![Screenshot 2024-11-26 at 3 05 26\u202fPM](https://github.com/user-attachments/assets/34c42819-ec6c-4445-97f0-5c4db7fd0fa9)"", 'created_at': datetime.datetime(2024, 11, 26, 8, 30, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2500073297, 'issue_id': 2671286479, 'author': 'oisincoveney', 'body': ""> This is the first impression I have of this component. First of all, the UI looks a lot better than the previous version, but I still found some UI/UX inconsistencies which would require designers to take a look and weigh in on solutions, some comments might not only apply to the SDK component so don't mind them.\r\n> \r\n> 1. In the notebook editor, the clickable item in each section is a bit higher than the add button. This doesn't look that different in the core app.\r\n>    \r\n>    * SDK: It's probably 1 or 2px higher than the core app due to the bold text as far as I can tell.\r\n>      ![Screenshot 2024-11-26 at 3 07 04\u202fPM](https://private-user-images.githubusercontent.com/1937582/389853685-a3247403-042d-4e89-823b-cfb33e9469d8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1MzY4NS1hMzI0NzQwMy0wNDJkLTRlODktODIzYi1jZmIzM2U5NDY5ZDgucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZjQ4NTZhYmUzNWZhOWI1NjBiNmU2NDdkMWY0MTBhMmVhMjRkZDY0YWYyYzQxMDAyZjU5MzQ4MjAwZDJiM2JmNyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ._QiNK_JdJAR72l1615N5VSr_D7WzcSmF06AdE4OKlEo)\r\n>    * Core app\r\n>      ![Screenshot 2024-11-26 at 3 12 20\u202fPM](https://private-user-images.githubusercontent.com/1937582/389853657-67709a67-abf6-483c-843e-4566b2305179.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1MzY1Ny02NzcwOWE2Ny1hYmY2LTQ4M2MtODQzZS00NTY2YjIzMDUxNzkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2Y5ODNkMWFkN2FkZjljMGFlOTIxZTMwNzg4OTAzNjdkMzI3ODhiZWU2MjA4NzNkMzI0NjAyYjkwMjQ3MWIzZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.J_23Gxt38juU2mtuC78MqGxz6HMLArpLwx4ZDXMhJXg)\r\n> 2. In each query option dropdown (filter, summary, grouping), the back-to-main dropdown view experience is vastly different when we click on existing values.\r\n>    ![image](https://private-user-images.githubusercontent.com/1937582/389858167-98c0fecd-14e9-419d-9581-fb002ef105f8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1ODE2Ny05OGMwZmVjZC0xNGU5LTQxOWQtOTU4MS1mYjAwMmVmMTA1ZjgucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MzRjYzdkNGQ3NGJlYTIyMDBiNzQ4MzE2NmViNWZmMDlmNjQ4ODFkNGJjMjg1NWVmNjYzNTM4MzQzOTVjNTU0ZCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.nSwi7RFL_qXkgazi4wa8XJ1cSKoZiIQzBZa8xzg8D-o)\r\n>    _The main dropdown view_\r\n>    \r\n>    * Clicking back on the filter brings users to the previous stage in the filter, which has never been shown to users before\r\n>      \r\n>      * ![Screenshot 2024-11-26 at 3 08 59\u202fPM](https://private-user-images.githubusercontent.com/1937582/389859092-b86801eb-b4af-4123-9ecb-f8ba427cf8b5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1OTA5Mi1iODY4MDFlYi1iNGFmLTQxMjMtOWVjYi1mOGJhNDI3Y2Y4YjUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZTUyN2QxNzE2ZmUyYzI1ODhkZTAzNGE3ODY1MTY5MmU5ZWQ3NmZhZjQ1ZmI4ZGJkYjM0YzU3MWYwNDQzYjk2MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.CokuM3vktEqtLJGRJFayPbvfp4iHjooXqa-WDnbXLBQ)\r\n>      * ![Screenshot 2024-11-26 at 3 09 40\u202fPM](https://private-user-images.githubusercontent.com/1937582/389859137-b62bfa9a-07b7-4486-96e1-af76a1217a4f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1OTEzNy1iNjJiZmE5YS0wN2I3LTQ0ODYtOTZlMS1hZjc2YTEyMTdhNGYucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OTNjZmZiMTU3NjE5ZDcwZDNhZjE3YWRjZDg3Yzk2YmM0NGVmMDBhMzBhNjMyNWFlY2ZkNThjNzYzNjkxOGFlZiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.OnMiuPDgDhmzDgT-J-5kHMjB9HizotS0ZoahmnRsiHY)\r\n>      * ![Screenshot 2024-11-26 at 3 09 42\u202fPM](https://private-user-images.githubusercontent.com/1937582/389859158-5a3976e9-b7ee-4d82-a6c9-686ccef26f3a.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1OTE1OC01YTM5NzZlOS1iN2VlLTRkODItYTZjOS02ODZjY2VmMjZmM2EucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ODIzZWM0N2RiM2RmNDBmMGYwOGEzZWE2ODEyMTY2ZjIwMzhmMzZmMjE3NTUyN2E4YTU0MmU5NTI0MTUzM2MwZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.khDutio7dd5NKORtT6Wwa0h40q0kZZ3LxOWyJAeNMvE)\r\n>    * There is no way to go back in the summary dropdown\r\n>      \r\n>      * ![Screenshot 2024-11-26 at 3 08 39\u202fPM](https://private-user-images.githubusercontent.com/1937582/389859353-91e2dbf2-7c13-4bd8-a9ec-cd47503cd033.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1OTM1My05MWUyZGJmMi03YzEzLTRiZDgtYTllYy1jZDQ3NTAzY2QwMzMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NDk3NTVjNDFjNGYxM2VkOGQ4ODkyMjFkYTYzMzY4OWVjMWU5YzBiZTMwY2E5MzQ1MTc3OTc5YjZiZTdlMTk5ZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.OHSkoV2xNpmXinGOcGvjkYsGyDcYgbUPIo3rMnGiyNY)\r\n>    * The back button is a button instead of an icon, and this is the only time I was able to back to the main dropdown view\r\n>      \r\n>      * ![Screenshot 2024-11-26 at 3 08 19\u202fPM](https://private-user-images.githubusercontent.com/1937582/389859710-13da25ea-d7af-44c4-9fee-f7aaed8a0f00.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg1OTcxMC0xM2RhMjVlYS1kN2FmLTQ0YzQtOWZlZS1mN2FhZWQ4YTBmMDAucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YzllZmQ0MGQwOTBjOTM1YWI2NTk1MGUwNTkzNmM4ZmMyODMwZTBjNGFjYTdhYjJmYWQwMDM2ZDg0NDdjZjg3MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.CIUZZhNY63m6FzSMTOeVETDQwYsbDeDvNXvWTdT-bb4)\r\n> 3. I found the notebook mode with limited height to be somewhat jarring as there's no visual indication of where the end of the scroll container is located.\r\n>    \r\n>    * current implementation:\r\n>      ![Screenshot 2024-11-26 at 3 06 09\u202fPM](https://private-user-images.githubusercontent.com/1937582/389860961-77bcda1e-8a81-4cf1-80a9-6d1e90954583.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg2MDk2MS03N2JjZGExZS04YTgxLTRjZjEtODBhOS02ZDFlOTA5NTQ1ODMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YWU1NDJkNTZkNDg4Zjc4YmYwOWFkYjY2N2ZlNDVmYWQ1ZDJiYmMyOTRmMjcxZjM1ZTQ0MThjMjE2MmY3MmY4NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.UBIqwGtGjcVp5tQz4eDXZx9iQ7C3S8tSO_61FlnoIfM)\r\n>    * an example solution with a faded bottom:\r\n>      ![Screenshot 2024-11-26 at 3 05 26\u202fPM](https://private-user-images.githubusercontent.com/1937582/389861074-34c42819-ec6c-4445-97f0-5c4db7fd0fa9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI2MTIxNjEsIm5iZiI6MTczMjYxMTg2MSwicGF0aCI6Ii8xOTM3NTgyLzM4OTg2MTA3NC0zNGM0MjgxOS1lYzZjLTQ0NDUtOTdmMC01YzRkYjdmZDBmYTkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjZUMDkwNDIxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmVmMmExMmU2ZWIyMDM3OWE4ZDZlY2U1ODFjZDkzNmVkYjk5OTNhNTNiOTVmMGYyYWExZGJiNTNmM2Y0MTMyNyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.fiehRYHXFSaIlEISosPa14GH3a_nA9y4f5rsWxBZZbo)\r\n\r\ngood calls on those issues!\r\n\r\nI can get those done in other PRs as they're smaller things that aren't totally related to the functionality of this component - they're smaller bugs within the rest of the components"", 'created_at': datetime.datetime(2024, 11, 26, 9, 15, 34, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 08:43:59 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-21 21:17:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13098_tests-1e6bbb5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Add a function or metric"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE&runId=f24f591b-3bfa-5b0d-acac-a81a18485987) |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment&runConclusion=FAILURE&runId=0f14deae-32be-5b40-a975-a85eca8ef964) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50188?repo=metabase/metabase&commitHash=1e6bbb5b6367267736a89b32a8f98f4087587932&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt on (2024-11-26 08:30:01 UTC): This is the first impression I have of this component. First of all, the UI looks a lot better than the previous version, but I still found some UI/UX inconsistencies which would require designers to take a look and weigh in on solutions, some comments might not only apply to the SDK component so don't mind them.

1. In the notebook editor, the clickable item in each section is a bit higher than the add button. This doesn't look that different in the core app.
    - SDK: It's probably 1 or 2px higher than the core app due to the bold text as far as I can tell.
        ![Screenshot 2024-11-26 at 3 07 04‚ÄØPM](https://github.com/user-attachments/assets/a3247403-042d-4e89-823b-cfb33e9469d8)
    - Core app
        ![Screenshot 2024-11-26 at 3 12 20‚ÄØPM](https://github.com/user-attachments/assets/67709a67-abf6-483c-843e-4566b2305179)
1. In each query option dropdown (filter, summary, grouping), the back-to-main dropdown view experience is vastly different when we click on existing values.
     ![image](https://github.com/user-attachments/assets/98c0fecd-14e9-419d-9581-fb002ef105f8)
     *The main dropdown view*
    - Clicking back on the filter brings users to the previous stage in the filter, which has never been shown to users before
        - ![Screenshot 2024-11-26 at 3 08 59‚ÄØPM](https://github.com/user-attachments/assets/b86801eb-b4af-4123-9ecb-f8ba427cf8b5)
        - ![Screenshot 2024-11-26 at 3 09 40‚ÄØPM](https://github.com/user-attachments/assets/b62bfa9a-07b7-4486-96e1-af76a1217a4f)
        - ![Screenshot 2024-11-26 at 3 09 42‚ÄØPM](https://github.com/user-attachments/assets/5a3976e9-b7ee-4d82-a6c9-686ccef26f3a)
    - There is no way to go back in the summary dropdown
        - ![Screenshot 2024-11-26 at 3 08 39‚ÄØPM](https://github.com/user-attachments/assets/91e2dbf2-7c13-4bd8-a9ec-cd47503cd033)
    - The back button is a button instead of an icon, and this is the only time I was able to back to the main dropdown view
        - ![Screenshot 2024-11-26 at 3 08 19‚ÄØPM](https://github.com/user-attachments/assets/13da25ea-d7af-44c4-9fee-f7aaed8a0f00)

1. I found the notebook mode with limited height to be somewhat jarring as there's no visual indication of where the end of the scroll container is located.
    - current implementation:
        ![Screenshot 2024-11-26 at 3 06 09‚ÄØPM](https://github.com/user-attachments/assets/77bcda1e-8a81-4cf1-80a9-6d1e90954583)
    - an example solution with a faded bottom:
        ![Screenshot 2024-11-26 at 3 05 26‚ÄØPM](https://github.com/user-attachments/assets/34c42819-ec6c-4445-97f0-5c4db7fd0fa9)

oisincoveney (Issue Creator) on (2024-11-26 09:15:34 UTC): good calls on those issues!

I can get those done in other PRs as they're smaller things that aren't totally related to the functionality of this component - they're smaller bugs within the rest of the components

"
2671279021,pull_request,closed,,Various tweaks for experimental search (#50142),"Brings search improvements across for Stats

See #50142 ",crisptrutski,2024-11-19 08:42:33+00:00,['crisptrutski'],2024-11-19 10:27:57+00:00,2024-11-19 09:08:51+00:00,https://github.com/metabase/metabase/pull/50187,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2485115658, 'issue_id': 2671279021, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/42627_tests-064e853c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/173-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=0ed3c71a-465d-54ba-b076-f157c130af21) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\$113817)</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=68def9f9-8e56-5ee2-8a97-315ce12f8514) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=f956dbc6-1916-55cf-8705-cbb49c954c9c) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=c1f2f308-4f95-53a6-a0c7-b49a2b96b962) |\n\n[... and 169 more](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=76526a32-0091-5ed9-8f2e-0ece9dd22dae) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=7e8448c8-e491-546f-a26d-442322833b63) |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=463e58f3-7285-5972-8dd7-366597b7b493) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 9, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485115661, 'issue_id': 2671279021, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/4_tests-a65f2d15-purple) &ensp; ![Static Badge](https://img.shields.io/badge/4-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16170 replace missing values with ""Zero"" should work on Mongo (metabase\\$116170)</code> | The test timed out waiting for an element with the text ""Done"" to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=2d08208d-95af-5f77-8d12-d2b2ffda6d73) |\n| <code>issue 16170 replace missing values with ""Nothing"" should work on Mongo (metabase\\$116170)</code> | The test timed out waiting for an element with the text ""Done"" to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=51f0e220-5f78-5611-b96a-523f91b7df4a) |\n| <code>converting question to a native query (metabase\\$115946, metabase\\$132121, metabase\\$138181) should work for both simple and nested questions based...</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=1008262d-f369-5de1-846f-9af3bc5d9b0b) |\n| <code>Metabot UI EE should allow a user to send a message to the agent and handle successful or failed responses</code> | The test timed out while trying to find an element with the text ""Metabot request"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=39cdd439-f9d1-5a39-ae25-15a7ef049d81) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 9, 12, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 09:12:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/42627_tests-064e853c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/173-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=0ed3c71a-465d-54ba-b076-f157c130af21) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\$113817)</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=68def9f9-8e56-5ee2-8a97-315ce12f8514) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=f956dbc6-1916-55cf-8705-cbb49c954c9c) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=c1f2f308-4f95-53a6-a0c7-b49a2b96b962) |

[... and 169 more](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=76526a32-0091-5ed9-8f2e-0ece9dd22dae) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=7e8448c8-e491-546f-a26d-442322833b63) |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment&runConclusion=FAILURE&runId=463e58f3-7285-5972-8dd7-366597b7b493) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=064e853cfec34d287d655dd91e43a423a13f576a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-19 09:12:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/4_tests-a65f2d15-purple) &ensp; ![Static Badge](https://img.shields.io/badge/4-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16170 replace missing values with ""Zero"" should work on Mongo (metabase\$116170)</code> | The test timed out waiting for an element with the text ""Done"" to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=2d08208d-95af-5f77-8d12-d2b2ffda6d73) |
| <code>issue 16170 replace missing values with ""Nothing"" should work on Mongo (metabase\$116170)</code> | The test timed out waiting for an element with the text ""Done"" to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=51f0e220-5f78-5611-b96a-523f91b7df4a) |
| <code>converting question to a native query (metabase\$115946, metabase\$132121, metabase\$138181) should work for both simple and nested questions based...</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=1008262d-f369-5de1-846f-9af3bc5d9b0b) |
| <code>Metabot UI EE should allow a user to send a message to the agent and handle successful or failed responses</code> | The test timed out while trying to find an element with the text ""Metabot request"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment&runConclusion=FAILURE&runId=39cdd439-f9d1-5a39-ae25-15a7ef049d81) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50187?repo=metabase/metabase&commitHash=a65f2d15612d4198b9be71c0e7642553ce92630d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671248334,pull_request,closed,,Add v0.50.34 to the list of releases,Like it says on the tin üòÅ,github-automation-metabase,2024-11-19 08:28:25+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-19 18:27:04+00:00,2024-11-19 18:27:04+00:00,https://github.com/metabase/metabase/pull/50186,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2486447225, 'issue_id': 2671248334, 'author': 'alexyarosh', 'body': 'done in #50189', 'created_at': datetime.datetime(2024, 11, 19, 18, 27, 4, tzinfo=datetime.timezone.utc)}]","alexyarosh on (2024-11-19 18:27:04 UTC): done in #50189

"
2671208653,pull_request,closed,,"ü§ñ backported ""feat(sdk): detect mismatch between sdk version and mb version""",#50032,github-automation-metabase,2024-11-19 08:09:09+00:00,"['npretto', 'github-automation-metabase']",2024-11-19 10:24:17+00:00,2024-11-19 09:32:49+00:00,https://github.com/metabase/metabase/pull/50183,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2485046799, 'issue_id': 2671208653, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37880_tests-de1932cd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50183?repo=metabase/metabase&commitHash=de1932cd1c7a479414f243ff532f78bdcdadb71b&utm_source=gh-comment&runConclusion=FAILURE&runId=502ae67d-858e-5ac0-b046-a6134f6b02bb) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50183?repo=metabase/metabase&commitHash=de1932cd1c7a479414f243ff532f78bdcdadb71b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 8, 41, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 08:41:46 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37880_tests-de1932cd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50183?repo=metabase/metabase&commitHash=de1932cd1c7a479414f243ff532f78bdcdadb71b&utm_source=gh-comment&runConclusion=FAILURE&runId=502ae67d-858e-5ac0-b046-a6134f6b02bb) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50183?repo=metabase/metabase&commitHash=de1932cd1c7a479414f243ff532f78bdcdadb71b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2671049280,pull_request,closed,,Adding Tyler to DashViz team,Adding @tsplude to DashViz team,tsplude,2024-11-19 07:18:38+00:00,['tsplude'],2024-11-26 18:51:01+00:00,2024-11-20 17:36:59+00:00,https://github.com/metabase/metabase/pull/50181,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2484885432, 'issue_id': 2671049280, 'author': 'WiNloSt', 'body': ""These files exist on the release branch https://github.com/metabase/metabase/tree/release-x.51.x so I don't think any harm will come for backporting it."", 'created_at': datetime.datetime(2024, 11, 19, 7, 26, 21, tzinfo=datetime.timezone.utc)}]","WiNloSt on (2024-11-19 07:26:21 UTC): These files exist on the release branch https://github.com/metabase/metabase/tree/release-x.51.x so I don't think any harm will come for backporting it.

"
2670922809,pull_request,closed,,"ü§ñ backported ""Separate view from data for question titles""",#50129,github-automation-metabase,2024-11-19 06:28:42+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-19 07:40:17+00:00,2024-11-19 07:26:27+00:00,https://github.com/metabase/metabase/pull/50180,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2484863885, 'issue_id': 2670922809, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13234_tests-ae1747bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment&runConclusion=FAILURE&runId=0588241f-0db3-5b7b-b765-dfb248be0f7b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 7, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484863886, 'issue_id': 2670922809, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12828_tests-ae1747bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment&runConclusion=FAILURE&runId=0588241f-0db3-5b7b-b765-dfb248be0f7b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 7, 12, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 07:12:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13234_tests-ae1747bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment&runConclusion=FAILURE&runId=0588241f-0db3-5b7b-b765-dfb248be0f7b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-19 07:12:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12828_tests-ae1747bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment&runConclusion=FAILURE&runId=0588241f-0db3-5b7b-b765-dfb248be0f7b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50180?repo=metabase/metabase&commitHash=ae1747bf380c0ef46c130c1a2ca4d326cce65f8a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2670517524,pull_request,closed,,Hacky multi-tool chain,"There are 3 contexts now (previously we had 2):
- FE->BE context, which is what the FE sends
- Tool context, which is passed to each tool and the tool can update it <-- this is new
- BE->LLM context, which is derived from the tool context

Tools do not output reactions now, instead they only update context. There is separate mechanism that checks the context and computes the list of reactions after all tools have been invoked. Currently, in this branch, there are 2 main tools - `filter-data` and `aggregate-data` and they update the passed `query` and `run-query?` property. When all tool calls are made, we check `run-query?` and send a `run-query` reaction to the FE with the provided `query`.",ranquild,2024-11-19 02:32:01+00:00,['ranquild'],2024-11-19 03:45:19+00:00,2024-11-19 02:39:52+00:00,https://github.com/metabase/metabase/pull/50179,"[('.Team/Querying', '')]","[{'comment_id': 2484616999, 'issue_id': 2670517524, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/124103_tests-d1b3415f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/232-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/4-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=752acadc-3e9f-5e23-883e-18b90bbafc10) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=7e6449d1-9ba5-5250-a681-2a8eaa7f3d6f) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | The test timed out while trying to find a label with the text \'Sum of Total\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=a59c0064-9583-596d-8f1a-73e478bf0636) |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=3bfb741e-f158-5642-9e96-46cd3118eb8c) |\n\n[... and 228 more](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=aad10f57-bb77-5a7b-8c13-0785237f030c) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=04bcde69-4745-5c9f-97c0-1fbc4c9f3a10) |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\$137726)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=0ad2c8a6-721c-5265-802c-547a2d00d4a5) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=adbf6435-55e2-5fe4-a2b5-01cfc7e5234c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 3, 11, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484617000, 'issue_id': 2670517524, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/89082_tests-d1b3415f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/69-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > snippets should update the snippet and apply it to the current query (metabase\\$115387)</code> | The expected content \'/christ/i was not found within the element <div.tNlo2.z35aj.n6lDl within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=9c6b4f45-484c-5335-97bc-e6c947d2728d) |\n| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\\$148878)""</code> | Unable to find an element with data-testid ""qb-header-info-button"" within 4000ms, causing a timeout and skipping remaining tests. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=32daee68-9b64-5c2b-b990-f7777930d070) |\n| <code>scenarios > question > native should recognize template tags and save them as parameters</code> | The element you\'re trying to click disappeared from the page while Cypress was trying to interact with it. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=aeac00ee-20c6-589d-882c-ded89ecc9ea6) |\n| <code>formatting > sandboxes Sandboxing reproductions should be able to remove columns via QB sidebar / settings (metabase\\$114841)</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=b40ba472-d0a0-5bc7-a51d-bac062c82a1e) |\n\n[... and 65 more](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 3, 11, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 03:11:44 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/124103_tests-d1b3415f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/232-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/4-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=752acadc-3e9f-5e23-883e-18b90bbafc10) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=7e6449d1-9ba5-5250-a681-2a8eaa7f3d6f) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | The test timed out while trying to find a label with the text 'Sum of Total'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=a59c0064-9583-596d-8f1a-73e478bf0636) |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=3bfb741e-f158-5642-9e96-46cd3118eb8c) |

[... and 228 more](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=aad10f57-bb77-5a7b-8c13-0785237f030c) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=04bcde69-4745-5c9f-97c0-1fbc4c9f3a10) |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\$137726)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=0ad2c8a6-721c-5265-802c-547a2d00d4a5) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=adbf6435-55e2-5fe4-a2b5-01cfc7e5234c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-19 03:11:44 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/89082_tests-d1b3415f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/69-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > snippets should update the snippet and apply it to the current query (metabase\$115387)</code> | The expected content '/christ/i was not found within the element <div.tNlo2.z35aj.n6lDl within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=9c6b4f45-484c-5335-97bc-e6c947d2728d) |
| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\$148878)""</code> | Unable to find an element with data-testid ""qb-header-info-button"" within 4000ms, causing a timeout and skipping remaining tests. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=32daee68-9b64-5c2b-b990-f7777930d070) |
| <code>scenarios > question > native should recognize template tags and save them as parameters</code> | The element you're trying to click disappeared from the page while Cypress was trying to interact with it. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=aeac00ee-20c6-589d-882c-ded89ecc9ea6) |
| <code>formatting > sandboxes Sandboxing reproductions should be able to remove columns via QB sidebar / settings (metabase\$114841)</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE&runId=b40ba472-d0a0-5bc7-a51d-bac062c82a1e) |

[... and 65 more](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50179?repo=metabase/metabase&commitHash=d1b3415f8d66e8909f8f5da2dd4d77f01ec790c7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2670382034,pull_request,closed,,Make iframe dashcards more permissive,"Closes https://github.com/metabase/metabase/issues/50020

### Description

While we added iframe dashboard cards in v51 they are excessive limiting which prevents using them for certain usecases like embedding sites that require accessing camera, microphone, and so on. It did make some sense before we introduced the allowed iframe hosts setting but now since admins can limit hosts to only safe ones, we can allow more attributes for a richer UX.

1. Allows adding `allow` [attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#allow) with any values.
2. Allows adding `allowfullscreen` [attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#allowfullscreen).
3. Explicitly sets `referrerpolicy` [attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#referrerpolicy) to its default `strict-origin-when-cross-origin` that prevents from sending full url since old versions of browser use `no-referrer-when-downgrade` as default.
4. Updates [sandbox](https://github.com/metabase/metabase/pull/50177/files#diff-bf073d51166097d37234b5d8ce649f462acbd812f252672c50260b232bce8eceR131) value which allows opening embedded videos such as youtube in a new tab by clicking on the title.

### How to verify

Create an iframe dashboard card:
```
<iframe
  width=""560""
  height=""315""
  src=""https://www.youtube.com/embed/W-i9E5_Wjmw?si=qWeMGxEymVOIHiXo""
  title=""YouTube video player""
  frameborder=""0""
  allow=""accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share""
  referrerpolicy=""strict-origin-when-cross-origin""
  allowfullscreen
></iframe>
```
- Ensure you can open the link in a new tab by clicking on the video title
- Ensure you can watch it in fullscreen mode
- Ensure ""allow"" attribute values present in DOM

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-19 00:26:07+00:00,['alxnddr'],2024-11-19 18:46:10+00:00,2024-11-19 18:46:08+00:00,https://github.com/metabase/metabase/pull/50177,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2484644206, 'issue_id': 2670382034, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13203_tests-61433166-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50177?repo=metabase/metabase&commitHash=61433166876380234b00d5235df09ec6c8bfb146&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 3, 43, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 03:43:07 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13203_tests-61433166-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50177?repo=metabase/metabase&commitHash=61433166876380234b00d5235df09ec6c8bfb146&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2670014156,pull_request,closed,,docs - note on offset and rows,Clarifies a situation in which `Offset` can work correctly but fail expectations based on incomplete data.,jeff-bruemmer,2024-11-18 21:40:01+00:00,['jeff-bruemmer'],2024-11-19 15:59:39+00:00,2024-11-19 15:56:36+00:00,https://github.com/metabase/metabase/pull/50171,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2670012374,pull_request,closed,,[xlsx-export] Refactor postprocess namespace with perf/concat,"This is a follow-up to #50117. Here I introduce a replacement for regular `concat` in the form of `metabase.util.performance/concat`. The main difference is that the latter ensures the first argument to be a transient vector, appends elements of the other passed sequences with `conj!` and persists it. Using this `concat` replacement retains readability while avoiding the performance drawback and also makes the code less prone to mistakes  (like where one forgets to cast the target of `into` to vector).",alexander-yakushev,2024-11-18 21:39:09+00:00,['alexander-yakushev'],2024-12-05 17:36:33+00:00,2024-12-05 16:53:29+00:00,https://github.com/metabase/metabase/pull/50170,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2495418545, 'issue_id': 2670012374, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/68_tests-babf9342-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/68-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pivot-export-test</code> | No implementation of method: :read-csv-from of protocol: \\#'clojure.data.csv/Read-CSV-From found for class: clojure.lang.PersistentHashMap | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=9e3e7759-001e-59ed-be3b-3d932561d4cb) |\n| <code>zero-column-multiple-meausres-pivot-tables-test</code> | No implementation of method :read-csv-from of protocol Read-CSV-From found for class PersistentHashMap. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=689353ed-d96b-5d59-90af-a8491f6a998b) |\n| <code>simple-pivot-with-sum-and-average-export-test</code> | Error while reading CSV from a map. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=179d97ed-bd31-572a-863c-7c48a3dba74e) |\n| <code>pivot-exports-handle-nil-in-breakout-column</code> | No implementation of method :read-csv-from of protocol \\#'clojure.data.csv/Read-CSV-From found for class clojure.lang.PersistentHashMap. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=2724f650-b0c8-55b3-9955-3467d8343042) |\n\n[... and 64 more](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 23, 9, 40, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-23 09:40:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/68_tests-babf9342-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/68-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pivot-export-test</code> | No implementation of method: :read-csv-from of protocol: \#'clojure.data.csv/Read-CSV-From found for class: clojure.lang.PersistentHashMap | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=9e3e7759-001e-59ed-be3b-3d932561d4cb) |
| <code>zero-column-multiple-meausres-pivot-tables-test</code> | No implementation of method :read-csv-from of protocol Read-CSV-From found for class PersistentHashMap. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=689353ed-d96b-5d59-90af-a8491f6a998b) |
| <code>simple-pivot-with-sum-and-average-export-test</code> | Error while reading CSV from a map. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=179d97ed-bd31-572a-863c-7c48a3dba74e) |
| <code>pivot-exports-handle-nil-in-breakout-column</code> | No implementation of method :read-csv-from of protocol \#'clojure.data.csv/Read-CSV-From found for class clojure.lang.PersistentHashMap. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE&runId=2724f650-b0c8-55b3-9955-3467d8343042) |

[... and 64 more](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50170?repo=metabase/metabase&commitHash=babf9342b02c9ce7a2d74aea302e72aa8a3b4a36&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2669995127,pull_request,closed,,"ü§ñ backported ""Add Hungarian language support""",#50165,github-automation-metabase,2024-11-18 21:31:45+00:00,"['iethree', 'github-automation-metabase']",2024-11-18 22:14:19+00:00,2024-11-18 22:14:18+00:00,https://github.com/metabase/metabase/pull/50169,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2669850695,pull_request,closed,,`filter-data` and `aggregate-data` tools,,ranquild,2024-11-18 20:36:17+00:00,['ranquild'],2024-11-18 20:40:30+00:00,2024-11-18 20:40:28+00:00,https://github.com/metabase/metabase/pull/50168,[],[],
2669749415,pull_request,closed,,"ü§ñ backported ""Fix pie chart legend issues""",#50116,github-automation-metabase,2024-11-18 20:05:31+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-18 20:50:47+00:00,2024-11-18 20:50:46+00:00,https://github.com/metabase/metabase/pull/50167,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2484008781, 'issue_id': 2669749415, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 277fc1df72ccda75b6e9dfd717ea78190d3dd277...5a909a12d2cb8e2d7acabc6e6a452f0517a749ee.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/EChartsRenderer/EChartsRenderer.styled.tsx<br>frontend/src/metabase/visualizations/components/LegendVertical.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.tsx |', 'created_at': datetime.datetime(2024, 11, 18, 20, 6, 58, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 20:06:58 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 277fc1df72ccda75b6e9dfd717ea78190d3dd277...5a909a12d2cb8e2d7acabc6e6a452f0517a749ee.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/EChartsRenderer/EChartsRenderer.styled.tsx<br>frontend/src/metabase/visualizations/components/LegendVertical.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.tsx |

"
2669722729,pull_request,closed,,"ü§ñ backported ""perf: Improve the performance of pivoted XLSX export""",#50117,github-automation-metabase,2024-11-18 19:55:24+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-18 20:54:00+00:00,2024-11-18 20:53:59+00:00,https://github.com/metabase/metabase/pull/50166,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2669715026,pull_request,closed,,Add Hungarian language support,"closes https://github.com/metabase/metabase/issues/38101

Thanks to the hard work of our community translators, this adds support for Hungarian localization. üá≠üá∫ ",iethree,2024-11-18 19:52:55+00:00,['iethree'],2024-11-18 21:30:51+00:00,2024-11-18 21:30:49+00:00,https://github.com/metabase/metabase/pull/50165,"[('Customization/i18n', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2669692362,pull_request,closed,,Fix auto-translate locales file path,"

### Description

The auto-translate + translation download action has never worked properly - I finally figured out that it was just a file path issue - github actions script can only run from the root directory of the repo, and when testing locally, I had always run it from within the `releases/` directory. This led to [errors like this](https://github.com/metabase/metabase/actions/runs/10118157302).


![Screen Shot 2024-11-18 at 12 44 10 PM](https://github.com/user-attachments/assets/7344d97b-2751-4b5d-a374-677a52822715)
",iethree,2024-11-18 19:44:37+00:00,['iethree'],2024-11-26 18:51:11+00:00,2024-11-18 21:31:31+00:00,https://github.com/metabase/metabase/pull/50164,"[('.Building & Releasing', ''), ('.CI & Tests', ''), ('Customization/i18n', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2669650348,pull_request,closed,,Update Translations for v51.5,"Update translations from POEditor for v51.4

See [translation update documentation](https://www.notion.so/metabase/Process-for-updating-translations-421db70048fe400da1153ad0b61102f4)

## To Do

- [x] Upload new strings to POEditor
- [x] Message contributors on POEditor (manual)
- [x] Copy source strings to english language (manual)
- [x] Download translations from POEditor (github action)
- [x] Merge this PR and backport to the release branch (manual)
",github-actions[bot],2024-11-18 19:25:55+00:00,['iethree'],2024-11-20 23:32:30+00:00,2024-11-20 17:45:17+00:00,https://github.com/metabase/metabase/pull/50163,"[('Customization/i18n', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2489092936, 'issue_id': 2669650348, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/107401_tests-e1f5f002-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50163?repo=metabase/metabase&commitHash=e1f5f0021fcd98a52b05e88cb3af984ac4a8902f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 16, 48, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 16:48:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/107401_tests-e1f5f002-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50163?repo=metabase/metabase&commitHash=e1f5f0021fcd98a52b05e88cb3af984ac4a8902f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2669415585,pull_request,closed,,Revert remaining broken JAR path,See https://github.com/metabase/metabase/pull/49965#discussion_r1842834440,camsaul,2024-11-18 18:04:28+00:00,[],2024-11-26 18:51:13+00:00,2024-11-18 18:34:46+00:00,https://github.com/metabase/metabase/pull/50162,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2669282936,pull_request,closed,,"ü§ñ backported ""Update slack settings urls""","  #50042

‚úÖ conflicts resolved üçí ",github-automation-metabase,2024-11-18 17:20:48+00:00,"['iethree', 'github-automation-metabase']",2024-11-19 14:53:49+00:00,2024-11-19 14:53:47+00:00,https://github.com/metabase/metabase/pull/50161,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2484464572, 'issue_id': 2669282936, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d369965ec003a87fe565e7b859499e334a640cff...e07f103034ed292a2f1ed904e6e31dcea60c9fa8.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | src/metabase/email/messages.clj |', 'created_at': datetime.datetime(2024, 11, 19, 0, 36, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484528444, 'issue_id': 2669282936, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/62027_tests-e07f1030-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50161?repo=metabase/metabase&commitHash=e07f103034ed292a2f1ed904e6e31dcea60c9fa8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 1, 40, 26, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 00:36:26 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d369965ec003a87fe565e7b859499e334a640cff...e07f103034ed292a2f1ed904e6e31dcea60c9fa8.

| Notify | File(s) |
|-|-|
| @kdoh | src/metabase/email/messages.clj |

trunk-io[bot] on (2024-11-19 01:40:26 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/62027_tests-e07f1030-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50161?repo=metabase/metabase&commitHash=e07f103034ed292a2f1ed904e6e31dcea60c9fa8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2669107029,pull_request,closed,,Merge master Nov 18,,sloansparger,2024-11-18 16:22:09+00:00,['sloansparger'],2024-11-18 18:03:03+00:00,2024-11-18 17:03:27+00:00,https://github.com/metabase/metabase/pull/50159,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2483520856, 'issue_id': 2669107029, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ec4d40a067e34e82f092f18b850f92edc4eec606...0d5de92a303723ab312d4d7b207ec5e531dc4f1a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.tsx<br>frontend/src/metabase/visualizations/components/ChartTooltip/KeyValuePairChartTooltip/KeyValuePairChartTooltip.tsx<br>frontend/src/metabase/visualizations/components/FunnelNormal.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/echarts/cartesian/model/other-series.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/series.ts<br>frontend/src/metabase/visualizations/echarts/pie/constants.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/option.ts<br>frontend/src/metabase/visualizations/echarts/tooltip/index.tsx<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/lib/utils.unit.spec.js<br>frontend/src/metabase/visualizations/lib/warnings.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/chart-definition-legacy.js<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/ObjectDetail.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/compute.js<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |\n| @kdoh | src/metabase/email/_logo.hbs<br>src/metabase/email/alert_you_were_added.hbs<br>src/metabase/email/legacy_no_self_service.hbs |', 'created_at': datetime.datetime(2024, 11, 18, 16, 23, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483639638, 'issue_id': 2669107029, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/123_tests-0d5de92a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/104-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>CSV Uploading Can upload a CSV file to an empty postgres schema</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=6635991e-4215-5654-a5d5-c7d8de613086) |\n| <code>scenarios > question > snippets should update the snippet and apply it to the current query (metabase\\$115387)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=a54b8104-f97f-5bcd-b135-c45e9ca2cb57) |\n| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\\$148878)""</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=69c1529f-9186-5def-876a-fa80d309b269) |\n| <code>formatting > sandboxes Sandboxing reproductions should be able to remove columns via QB sidebar / settings (metabase\\$114841)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=2444d975-4db6-50fb-beca-53edd6cf73e6) |\n\n[... and 100 more](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 17, 14, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 16:23:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ec4d40a067e34e82f092f18b850f92edc4eec606...0d5de92a303723ab312d4d7b207ec5e531dc4f1a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.tsx<br>frontend/src/metabase/visualizations/components/ChartTooltip/KeyValuePairChartTooltip/KeyValuePairChartTooltip.tsx<br>frontend/src/metabase/visualizations/components/FunnelNormal.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/echarts/cartesian/model/other-series.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/series.ts<br>frontend/src/metabase/visualizations/echarts/pie/constants.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/option.ts<br>frontend/src/metabase/visualizations/echarts/tooltip/index.tsx<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/lib/utils.unit.spec.js<br>frontend/src/metabase/visualizations/lib/warnings.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/chart-definition-legacy.js<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/ObjectDetail.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/compute.js<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |
| @kdoh | src/metabase/email/_logo.hbs<br>src/metabase/email/alert_you_were_added.hbs<br>src/metabase/email/legacy_no_self_service.hbs |

trunk-io[bot] on (2024-11-18 17:14:54 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/123_tests-0d5de92a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/104-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>CSV Uploading Can upload a CSV file to an empty postgres schema</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=6635991e-4215-5654-a5d5-c7d8de613086) |
| <code>scenarios > question > snippets should update the snippet and apply it to the current query (metabase\$115387)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=a54b8104-f97f-5bcd-b135-c45e9ca2cb57) |
| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\$148878)""</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=69c1529f-9186-5def-876a-fa80d309b269) |
| <code>formatting > sandboxes Sandboxing reproductions should be able to remove columns via QB sidebar / settings (metabase\$114841)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE&runId=2444d975-4db6-50fb-beca-53edd6cf73e6) |

[... and 100 more](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50159?repo=metabase/metabase&commitHash=0d5de92a303723ab312d4d7b207ec5e531dc4f1a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2669104202,pull_request,closed,,[refs] Adding `:ident` to columns returned by `MetadataProvider`s,"Closes #49686

### Description

Updates JVM, JS and unit test `MetadataProvider` implementations to include `:ident` fields for all columns.

These idents need to be globally unique and serdes portable; therefore they are not randomized.
Instead they are built from the database, schema, table and field names, eg.

```clojure
{:ident ""field__Sample Database__PUBLIC__Orders__CREATED_AT""
 #_...}
```

**Note:** These `:ident` fields are not included on `/query_metadata` and other such API calls (currently).
They could be, but they can just as easily be synthesized from the DB, table and field in the JS metadata
implementation.

### How to verify

`lib.metadata` surface APIs that return columns now have checks for `:ident` on returned columns and throw if it
is not found. I have not encountered any cases where it throws, but perhaps the e2e tests will find something.

- No visible changes, but you can verify that the app is working.
- New unit tests verify that the idents we expect are returned for each `MetadataProvider` implementation

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-18 16:20:56+00:00,['bshepherdson'],2025-01-08 16:12:54+00:00,2025-01-08 16:12:53+00:00,https://github.com/metabase/metabase/pull/50158,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2483515031, 'issue_id': 2669104202, 'author': 'bshepherdson', 'body': '* **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 18, 16, 21, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483569159, 'issue_id': 2669104202, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125539_tests-a92367d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from executing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=FAILURE&runId=fdf8bfb3-bba7-5b81-9515-fb8c679c796f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 16, 44, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567988674, 'issue_id': 2669104202, 'author': 'bshepherdson', 'body': ""Re-surfacing this for reviews; it's changed enough that it probably rates another look."", 'created_at': datetime.datetime(2025, 1, 2, 15, 53, 11, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-18 16:21:24 UTC): * **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-18 16:44:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125539_tests-a92367d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from executing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment&runConclusion=FAILURE&runId=fdf8bfb3-bba7-5b81-9515-fb8c679c796f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50158?repo=metabase/metabase&commitHash=a92367d8ead85553d71c4f73aec05d94587f7a5a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

bshepherdson (Issue Creator) on (2025-01-02 15:53:11 UTC): Re-surfacing this for reviews; it's changed enough that it probably rates another look.

"
2669072504,pull_request,closed,,Use global e2e helper,"In re Frontend RFC [No 114](https://www.notion.so/metabase/114-Don-t-use-named-imports-for-e2e-helpers-13f69354c90180b6b33adddbe5e6e0f0)

## Description

Replaces big named imports list with a single Global Helper namespace, which has 2 big advantages
1) Makes our helper functions much more discoverable via editor hints
2) Makes moving e2e tests around trivial - in most cases the hardest part of moving tests around is adjusting imports.

[jscodeshift](https://www.npmjs.com/package/jscodeshift) codemod used:
`jscodeshift --parser=ts -t codemod.js e2e/**/*.cy.spec.(js|ts)`
```js
module.exports = function (fileInfo, api) {
  const j = api.jscodeshift;

  // problematic values to exclude
  const excludedValues = new Set([
    ""visitQuestion"",
    ""filter"",
    ""duplicateTab"",
    ""sidebar"",
    ""saveDashboard"",
  ]);

  // Parse the source code
  const root = j(fileInfo.source);

  // Find all `import` declarations from ""e2e/support/helpers""
  root.find(j.ImportDeclaration, { source: { value: ""e2e/support/helpers"" } }).forEach((path) => {
    const importDeclaration = path.node;

    // Collect all imported specifiers
    const specifiersToReplace = importDeclaration.specifiers.filter(
      (spec) => spec.type === ""ImportSpecifier""
    );

    if (specifiersToReplace.length > 0) {
      // Replace the import
      const newImport = j.importDeclaration(
        [j.importSpecifier(j.identifier(""H""))], // import with alias ""H""
        j.literal(""e2e/support"")
      );

      // Replace the old import with the new one
      j(path).replaceWith(newImport);

      // Update references to use the namespace
      specifiersToReplace.forEach((specifier) => {
        const importedName = specifier.imported.name;
        const localName = specifier.local.name;

        root
          .find(j.Identifier, { name: localName })
          .filter((idPath) => {
            const parent = idPath.parent.node;

            // Skip identifiers used as keys in object properties
            if (j.Property.check(parent) && parent.key === idPath.node) {
              return false;
            }

            // Skip variable declarations
            if (
              j.VariableDeclarator.check(parent) &&
              parent.id === idPath.node
            ) {
              return false;
            }

            // Skip identifiers used as keys in object literal properties
            if (
              j.Property.check(parent) &&
              parent.key === idPath.node &&
              !parent.computed &&
              parent.shorthand
            ) {
              return false;
            }

            // Skip object key names (e.g., { key: value })
            if (
              j.Property.check(parent) &&
              parent.key === idPath.node
            ) {
              return false;
            }

            // Skip function parameters (callback arguments) like in map(), filter(), or event handlers
            if (
              j.FunctionExpression.check(parent) ||
              j.ArrowFunctionExpression.check(parent)
            ) {
              // Skip if the identifier is part of the function's parameter list
              if (parent.params && parent.params.includes(idPath.node)) {
                return false;
              }
            }

            // Skip member expressions like `cy.<name>`
            if (
              j.MemberExpression.check(parent) &&
              parent.property === idPath.node
            ) {
              return false;
            }

            // only specific values
            // return targetValues.has(importedName);

            return !excludedValues.has(importedName);
          })
          .replaceWith(() => {
            return j.memberExpression(j.identifier(""H""), j.identifier(importedName));
          });

        // Update function calls
        root
          .find(j.CallExpression, { callee: { name: localName } })
          .replaceWith((callPath) =>
            j.callExpression(
              j.memberExpression(j.identifier(""H""), j.identifier(importedName)),
              callPath.node.arguments
            )
          );
      });
    }
  });

  // Return the transformed source code
  return root.toSource();
};
```


",iethree,2024-11-18 16:07:04+00:00,['iethree'],2024-12-05 20:39:48+00:00,2024-12-04 18:17:11+00:00,https://github.com/metabase/metabase/pull/50156,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2518203462, 'issue_id': 2669072504, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-816a22f8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=FAILURE&runId=f1c0e84f-11c6-5ccc-b6cf-7f7ecba9ecfc) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 18, 20, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2521270985, 'issue_id': 2669072504, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.2](https://github.com/metabase/metabase/milestone/291)', 'created_at': datetime.datetime(2024, 12, 5, 19, 54, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2521350403, 'issue_id': 2669072504, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.51.8](https://github.com/metabase/metabase/milestone/290)', 'created_at': datetime.datetime(2024, 12, 5, 20, 39, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 18:20:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-816a22f8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment&runConclusion=FAILURE&runId=f1c0e84f-11c6-5ccc-b6cf-7f7ecba9ecfc) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50156?repo=metabase/metabase&commitHash=816a22f85b18e38f99bf0b7b409268f76b0b87c0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-05 19:54:10 UTC): üöÄ This should also be released by [v0.52.2](https://github.com/metabase/metabase/milestone/291)

github-actions[bot] on (2024-12-05 20:39:46 UTC): üöÄ This should also be released by [v0.51.8](https://github.com/metabase/metabase/milestone/290)

"
2669072389,pull_request,closed,,"ü§ñ backported ""docs - sdk cli guide""",#50098,github-automation-metabase,2024-11-18 16:07:01+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-18 18:07:58+00:00,2024-11-18 17:21:27+00:00,https://github.com/metabase/metabase/pull/50155,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2483584981, 'issue_id': 2669072389, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13110_tests-1e9e93ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50155?repo=metabase/metabase&commitHash=1e9e93ca223e2a26c42cba8f983f46a427a5be1a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 16, 51, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 16:51:20 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13110_tests-1e9e93ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50155?repo=metabase/metabase&commitHash=1e9e93ca223e2a26c42cba8f983f46a427a5be1a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2669044537,pull_request,closed,,docs - cloud env var note,Auto-generated PR.,jeff-bruemmer,2024-11-18 15:55:58+00:00,['jeff-bruemmer'],2024-11-18 16:06:02+00:00,2024-11-18 16:05:33+00:00,https://github.com/metabase/metabase/pull/50153,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2668996165,pull_request,closed,,feat(sdk): Modify Interactive Question Layout,"Checklist for Oisin:
- check that [feat(sdk): revamp CreateQuestion and create question behaviour](https://github.com/metabase/metabase/pull/50088) still has the same functionality after",oisincoveney,2024-11-18 15:40:04+00:00,['oisincoveney'],2025-01-10 17:55:36+00:00,2024-12-10 12:27:47+00:00,https://github.com/metabase/metabase/pull/50152,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2498233857, 'issue_id': 2668996165, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51097_tests-89bf72f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 14, 50, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506112466, 'issue_id': 2668996165, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #50152 ‚óÄ\n    - #50976\n    - #50644\n    - #50522\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2024, 11, 28, 13, 18, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2527302294, 'issue_id': 2668996165, 'author': 'WiNloSt', 'body': ""2 things I notice. I think this is popover widget dependent and it'd require a lot of effort to go fix all of this, but let's clean them up as we find.\r\n\r\n1. This kind of date filter still doesn't go back to the main filter list popover view. In the image 1 this happens after I click on an existing filter, then after I click back I got image 2.\r\n    - ![Screenshot 2024-12-09 at 3 50 12\u202fPM](https://github.com/user-attachments/assets/919bbd31-2907-47a8-9757-71324576f370)\r\n    - ![Screenshot 2024-12-09 at 3 50 15\u202fPM](https://github.com/user-attachments/assets/3e69d755-6ee1-47f2-9ff8-b7c62b1715c7)\r\n2. didn't we use to have some kind of reset button? I just messed my question and there's no way to reset the question back to its original state, and I'm a little sad if I have to refresh the whole page for that.\r\n![Screenshot 2024-12-09 at 3 50 28\u202fPM](https://github.com/user-attachments/assets/a78be28c-a3e2-4ac3-8e7a-882954f9860f)"", 'created_at': datetime.datetime(2024, 12, 9, 8, 52, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2527322843, 'issue_id': 2668996165, 'author': 'oisincoveney', 'body': '> 2 things I notice. I think this is popover widget dependent and it\'d require a lot of effort to go fix all of this, but let\'s clean them up as we find.\r\n> \r\n> 1. This kind of date filter still doesn\'t go back to the main filter list popover view. In the image 1 this happens after I click on an existing filter, then after I click back I got image 2.\r\n>    \r\n>    * ![Screenshot 2024-12-09 at 3 50 12\u202fPM](https://private-user-images.githubusercontent.com/1937582/393765538-919bbd31-2907-47a8-9757-71324576f370.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzM3MzUwNjYsIm5iZiI6MTczMzczNDc2NiwicGF0aCI6Ii8xOTM3NTgyLzM5Mzc2NTUzOC05MTliYmQzMS0yOTA3LTQ3YTgtOTc1Ny03MTMyNDU3NmYzNzAucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIwOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMDlUMDg1OTI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OWZjNzY3NTU5MGY2ZmY3MWZkOTg3NzAxNjQ4ZjRjZjRiMDQ5ZGIzNTM1ZmE3N2NkOGY5YTkxMGMxZWFlMmY3ZiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.ea2kKLSP0z2tDKVP87miMfEAApEFgExGSRbmTyKoJt0)\r\n>    * ![Screenshot 2024-12-09 at 3 50 15\u202fPM](https://private-user-images.githubusercontent.com/1937582/393765719-3e69d755-6ee1-47f2-9ff8-b7c62b1715c7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzM3MzUwNjYsIm5iZiI6MTczMzczNDc2NiwicGF0aCI6Ii8xOTM3NTgyLzM5Mzc2NTcxOS0zZTY5ZDc1NS02ZWUxLTQ3ZjItOWZmOC1iN2M2MmIxNzE1YzcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIwOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMDlUMDg1OTI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NWUzYTAyZmUwYjI1NTFiMmY4NjM0ODUwNDgxZDgyOWY5MDc2ODY4YzJkMTU2YTAyNjlkZDQ3YTQ2MGUwODdmZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.1riXkf-izb9jrMJQWz0W8xQAzPvgRVwmQTJk-WdeZFs)\r\n\r\nYep, I should have mentioned in the last PR. This behavior is way harder to fix than it looks, since the date picker is really intertwined within a deep part of the code and changing the navigation of that will take more time than I think is useful right now. I can add it to the task list of things. \r\n\r\nWhat is the expected behavior again? If I click the back button, it does straight back to the badge list, right?\r\n\r\n\r\n> 2. didn\'t we use to have some kind of reset button? I just messed my question and there\'s no way to reset the question back to its original state, and I\'m a little sad if I have to refresh the whole page for that.\r\n>    ![Screenshot 2024-12-09 at 3 50 28\u202fPM](https://private-user-images.githubusercontent.com/1937582/393765976-a78be28c-a3e2-4ac3-8e7a-882954f9860f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzM3MzUwNjYsIm5iZiI6MTczMzczNDc2NiwicGF0aCI6Ii8xOTM3NTgyLzM5Mzc2NTk3Ni1hNzhiZTI4Yy1hM2UyLTRhYzMtOGU3YS04ODI5NTRmOTg2MGYucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIwOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMDlUMDg1OTI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NjI2YzQwNzQ1ZDUwMDMwNzQxZjZlYzgxNjQwNWYwMzYyNmI0MTAzOTFkZTg3ZGI2OWQ1MWYzYzNlNDRmMjAyOCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.FkBX6vMGs62_Jiobh-UmFIaK53kAB-MTCTypUsWZr7c)\r\n\r\nthe reset should be there - it should pop up above the title (similar to the core app) as text that says ""Back to [ORIGINAL QUESTION NAME]"".  I\'m using the same logic as the reset button so that\'s super weird.', 'created_at': datetime.datetime(2024, 12, 9, 9, 2, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2531545323, 'issue_id': 2668996165, 'author': 'oisincoveney', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 10, 12, 47, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2531547854, 'issue_id': 2668996165, 'author': 'github-actions[bot]', 'body': '@oisincoveney something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12256431123)', 'created_at': datetime.datetime(2024, 12, 10, 12, 48, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2531549480, 'issue_id': 2668996165, 'author': 'oisincoveney', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 10, 12, 49, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2531552105, 'issue_id': 2668996165, 'author': 'github-actions[bot]', 'body': '@oisincoveney something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12256463256)', 'created_at': datetime.datetime(2024, 12, 10, 12, 50, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 14:50:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51097_tests-89bf72f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50152?repo=metabase/metabase&commitHash=89bf72f1f719a4d14fa58152f47be920aa5d3ea6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2024-11-28 13:18:50 UTC): This change is part of the following stack:

- #50152 ‚óÄ
    - #50976
    - #50644
    - #50522

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

WiNloSt on (2024-12-09 08:52:59 UTC): 2 things I notice. I think this is popover widget dependent and it'd require a lot of effort to go fix all of this, but let's clean them up as we find.

1. This kind of date filter still doesn't go back to the main filter list popover view. In the image 1 this happens after I click on an existing filter, then after I click back I got image 2.
    - ![Screenshot 2024-12-09 at 3 50 12‚ÄØPM](https://github.com/user-attachments/assets/919bbd31-2907-47a8-9757-71324576f370)
    - ![Screenshot 2024-12-09 at 3 50 15‚ÄØPM](https://github.com/user-attachments/assets/3e69d755-6ee1-47f2-9ff8-b7c62b1715c7)
2. didn't we use to have some kind of reset button? I just messed my question and there's no way to reset the question back to its original state, and I'm a little sad if I have to refresh the whole page for that.
![Screenshot 2024-12-09 at 3 50 28‚ÄØPM](https://github.com/user-attachments/assets/a78be28c-a3e2-4ac3-8e7a-882954f9860f)

oisincoveney (Issue Creator) on (2024-12-09 09:02:27 UTC): Yep, I should have mentioned in the last PR. This behavior is way harder to fix than it looks, since the date picker is really intertwined within a deep part of the code and changing the navigation of that will take more time than I think is useful right now. I can add it to the task list of things. 

What is the expected behavior again? If I click the back button, it does straight back to the badge list, right?



the reset should be there - it should pop up above the title (similar to the core app) as text that says ""Back to [ORIGINAL QUESTION NAME]"".  I'm using the same logic as the reset button so that's super weird.

oisincoveney (Issue Creator) on (2024-12-10 12:47:41 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-10 12:48:54 UTC): @oisincoveney something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12256431123)

oisincoveney (Issue Creator) on (2024-12-10 12:49:36 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-10 12:50:53 UTC): @oisincoveney something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12256463256)

"
2668945919,pull_request,closed,,"ü§ñ backported ""Command Palette Search result order""",#50048,github-automation-metabase,2024-11-18 15:34:37+00:00,"['npfitz', 'github-automation-metabase']",2024-11-18 17:09:01+00:00,2024-11-18 16:16:40+00:00,https://github.com/metabase/metabase/pull/50151,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2483507786, 'issue_id': 2668945919, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13110_tests-bfe36125-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50151?repo=metabase/metabase&commitHash=bfe36125ebfdff4fc3a3700ab517b7ec89bdffa5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 16, 18, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 16:18:25 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13110_tests-bfe36125-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50151?repo=metabase/metabase&commitHash=bfe36125ebfdff4fc3a3700ab517b7ec89bdffa5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668931450,pull_request,closed,,Fix - Remove clause button shrinks in the notebook editor,"Fixes #50128


### Description

[Before](https://github.com/user-attachments/assets/99edeb2a-0d18-45d2-aa35-80694b712dc3) & [after](https://github.com/user-attachments/assets/d1ea1834-3e01-4f67-a69d-bbde308bc97b)



### How to verify

CI is green.
Follow repro steps from the issue.

Stress test: https://github.com/metabase/metabase/actions/runs/11910576426",kamilmielnik,2024-11-18 15:29:07+00:00,['kamilmielnik'],2024-11-19 11:41:55+00:00,2024-11-19 11:21:00+00:00,https://github.com/metabase/metabase/pull/50150,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2485272238, 'issue_id': 2668931450, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13197_tests-cf7625c0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50150?repo=metabase/metabase&commitHash=cf7625c0a6caecd5317a6adc49471eaf93e44f9c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 10, 18, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 10:18:13 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13197_tests-cf7625c0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50150?repo=metabase/metabase&commitHash=cf7625c0a6caecd5317a6adc49471eaf93e44f9c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668929093,pull_request,closed,,"ü§ñ backported ""refactor(sdk): use ignore flag instead of mounted ref""",#50069,github-automation-metabase,2024-11-18 15:28:21+00:00,"['npretto', 'github-automation-metabase']",2024-11-19 10:47:02+00:00,2024-11-19 10:19:57+00:00,https://github.com/metabase/metabase/pull/50149,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2483503860, 'issue_id': 2668929093, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13234_tests-3e364906-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50149?repo=metabase/metabase&commitHash=3e364906fdd41b77e2380c1a3b64bcb17053727e&utm_source=gh-comment&runConclusion=FAILURE&runId=24da1da1-25e5-56f2-9bd3-3e71187612e6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50149?repo=metabase/metabase&commitHash=3e364906fdd41b77e2380c1a3b64bcb17053727e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 16, 16, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 16:16:47 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13234_tests-3e364906-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50149?repo=metabase/metabase&commitHash=3e364906fdd41b77e2380c1a3b64bcb17053727e&utm_source=gh-comment&runConclusion=FAILURE&runId=24da1da1-25e5-56f2-9bd3-3e71187612e6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50149?repo=metabase/metabase&commitHash=3e364906fdd41b77e2380c1a3b64bcb17053727e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668918501,pull_request,closed,,"ü§ñ backported ""Add generic components for summarize and breakout""",#50039,github-automation-metabase,2024-11-18 15:23:57+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-18 18:19:13+00:00,2024-11-18 17:35:30+00:00,https://github.com/metabase/metabase/pull/50148,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2483509203, 'issue_id': 2668918501, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13123_tests-b121601f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50148?repo=metabase/metabase&commitHash=b121601f7e3bbf18b25829f84555013906243fb5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 16, 19, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 16:19:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13123_tests-b121601f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50148?repo=metabase/metabase&commitHash=b121601f7e3bbf18b25829f84555013906243fb5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668895140,pull_request,closed,,Merge `master` into `metabot-v3-second-try`,,sloansparger,2024-11-18 15:14:44+00:00,[],2024-11-18 15:49:06+00:00,2024-11-18 15:49:06+00:00,https://github.com/metabase/metabase/pull/50147,[],"[{'comment_id': 2483422277, 'issue_id': 2668895140, 'author': 'github-advanced-security[bot]', 'body': ""This pull request sets up GitHub code scanning for this repository. Once the scans have completed and the checks have passed, the analysis results for this pull request branch will appear on [this overview](/metabase/metabase/security/code-scanning?query=pr%3A50147+is%3Aopen). Once you merge this pull request, the 'Security' tab will show more code scanning analysis results (for example, for the default branch). Depending on your configuration and choice of analysis tool, future pull requests will be annotated with code scanning analysis results. For more information about GitHub code scanning, check out [the documentation](https://docs.github.com/code-security/code-scanning/introduction-to-code-scanning/about-code-scanning)."", 'created_at': datetime.datetime(2024, 11, 18, 15, 44, 46, tzinfo=datetime.timezone.utc)}]","github-advanced-security[bot] on (2024-11-18 15:44:46 UTC): This pull request sets up GitHub code scanning for this repository. Once the scans have completed and the checks have passed, the analysis results for this pull request branch will appear on [this overview](/metabase/metabase/security/code-scanning?query=pr%3A50147+is%3Aopen). Once you merge this pull request, the 'Security' tab will show more code scanning analysis results (for example, for the default branch). Depending on your configuration and choice of analysis tool, future pull requests will be annotated with code scanning analysis results. For more information about GitHub code scanning, check out [the documentation](https://docs.github.com/code-security/code-scanning/introduction-to-code-scanning/about-code-scanning).

"
2668864021,pull_request,closed,,"For new search, default to excluding other people's collections","Adds a 4th type of personal collection filter, and make it the default for full text search.

We shouldn't release this without adding a way for the frontend's Search Results page to relax this filter to ""all"".",crisptrutski,2024-11-18 15:01:48+00:00,['crisptrutski'],2024-11-26 18:51:07+00:00,2024-11-19 16:05:47+00:00,https://github.com/metabase/metabase/pull/50146,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2485115667, 'issue_id': 2668864021, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2_tests-5f395645-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50146?repo=metabase/metabase&commitHash=5f395645a58b4ea3a3af27d603b5beb8fc447d6f&utm_source=gh-comment&runConclusion=FAILURE&runId=f31cb3c7-97d1-5f0c-9de7-532530019bd0) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pk-auth-custom-role-e2e-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50146?repo=metabase/metabase&commitHash=5f395645a58b4ea3a3af27d603b5beb8fc447d6f&utm_source=gh-comment&runConclusion=FAILURE&runId=886b8ce7-6dca-5d6e-a12e-0cf337e8fdbe) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50146?repo=metabase/metabase&commitHash=5f395645a58b4ea3a3af27d603b5beb8fc447d6f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 9, 12, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 09:12:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2_tests-5f395645-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50146?repo=metabase/metabase&commitHash=5f395645a58b4ea3a3af27d603b5beb8fc447d6f&utm_source=gh-comment&runConclusion=FAILURE&runId=f31cb3c7-97d1-5f0c-9de7-532530019bd0) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pk-auth-custom-role-e2e-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50146?repo=metabase/metabase&commitHash=5f395645a58b4ea3a3af27d603b5beb8fc447d6f&utm_source=gh-comment&runConclusion=FAILURE&runId=886b8ce7-6dca-5d6e-a12e-0cf337e8fdbe) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50146?repo=metabase/metabase&commitHash=5f395645a58b4ea3a3af27d603b5beb8fc447d6f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668847343,pull_request,closed,,"ü§ñ backported ""Fix flaky x-rays test""",#50131,github-automation-metabase,2024-11-18 14:55:57+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-18 16:33:16+00:00,2024-11-18 16:24:09+00:00,https://github.com/metabase/metabase/pull/50145,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2483419629, 'issue_id': 2668847343, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3242_tests-33ac2012-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50145?repo=metabase/metabase&commitHash=33ac2012e6fea154a0bebd88e055f30c63beb682&utm_source=gh-comment&runConclusion=FAILURE&runId=cd509e02-7f2d-53fe-82ec-f4bbc0b2db7a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50145?repo=metabase/metabase&commitHash=33ac2012e6fea154a0bebd88e055f30c63beb682&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 15, 43, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 15:43:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3242_tests-33ac2012-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50145?repo=metabase/metabase&commitHash=33ac2012e6fea154a0bebd88e055f30c63beb682&utm_source=gh-comment&runConclusion=FAILURE&runId=cd509e02-7f2d-53fe-82ec-f4bbc0b2db7a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50145?repo=metabase/metabase&commitHash=33ac2012e6fea154a0bebd88e055f30c63beb682&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668807672,pull_request,closed,,Make fulltext the default if its enabled,"If the experimental flag to enable fulltext search is enabled, make it the default engine.",crisptrutski,2024-11-18 14:43:34+00:00,['crisptrutski'],2024-11-26 18:51:14+00:00,2024-11-18 15:25:08+00:00,https://github.com/metabase/metabase/pull/50144,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2483342305, 'issue_id': 2668807672, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114045_tests-2e3d09bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50144?repo=metabase/metabase&commitHash=2e3d09bfb3991e27067450c7e50d37aa3cb08bef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 15, 15, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 15:15:08 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114045_tests-2e3d09bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50144?repo=metabase/metabase&commitHash=2e3d09bfb3991e27067450c7e50d37aa3cb08bef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668744774,pull_request,closed,,Fix flaky e2e tests by using `synchronous-batch-updates: true` by default,"### Description

Asynchronous updates make our e2e tests flaky (every usage of `changeSynchronousBatchUpdateSetting` was to fix a flake) and confusing ([1](https://metaboat.slack.com/archives/C064TCGEAV6/p1726038247433939), [2](https://metaboat.slack.com/archives/C010L1Z4F9S/p1727947712609579), [3](https://github.com/metabase/metabase/pull/49378)). Approximately 20% of recent (last 3 weeks) top flakes were due to this problem.

This PR makes all e2e tests use synchronous updates by default which should fix an entire class of flakes and prevent new ones in the future. I didn't notice any significant difference in performance (if any, it was in favor of this change).

Original PR that introduced `synchronous-batch-updates`: #45007

### This PR started as a single flake fix

Fixes one of top [flaky tests](https://github.com/metabase/metabase/blob/5203a15cdcaef74214ec9cc83fa48ca298a52a73/e2e/test/scenarios/dashboard-cards/click-behavior.cy.spec.js#L1129) (see https://stats.metabase.com/question/18032 but exclude branches containing `metabot`).
Example failures:
- https://github.com/metabase/metabase/actions/runs/11890954119/attempts/1
- https://github.com/metabase/metabase/actions/runs/11894791208

#### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11894787903
",kamilmielnik,2024-11-18 14:34:26+00:00,['kamilmielnik'],2024-11-19 12:15:12+00:00,2024-11-19 11:30:51+00:00,https://github.com/metabase/metabase/pull/50143,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]","[{'comment_id': 2483427496, 'issue_id': 2668744774, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3095_tests-4859feac-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50143?repo=metabase/metabase&commitHash=4859feac93f4d33a61b431eb9c5438c274e600b7&utm_source=gh-comment&runConclusion=FAILURE&runId=9bd1614b-8ac7-5f06-a656-74610b945829) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50143?repo=metabase/metabase&commitHash=4859feac93f4d33a61b431eb9c5438c274e600b7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 15, 46, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483649940, 'issue_id': 2668744774, 'author': 'iethree', 'body': ""Interesting. Since this is effectively a backend change, I wonder if backend engineers see any potential downsides to this? Part of me is hesitant to run all our e2e tests in an application state that will never exist in the real world, but maybe it makes sense given that real users don't click as fast as cypress?"", 'created_at': datetime.datetime(2024, 11, 18, 17, 19, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484402299, 'issue_id': 2668744774, 'author': 'filiphric', 'body': 'my 2 cents is that the bigger problem than tests using this change is the existence of the api call. [this](https://github.com/metabase/metabase/blob/master/src/metabase/util/grouper.clj#L30) says that this setting is used for testing purposes e2e tests only. there are 3 approaches IMHO. \r\n1. either we respect this functionality and instead of changing settings \r\n2. we mock the settings on e2e side\r\n3. we keep things as they are\r\n\r\nwith no. 1 we‚Äôd have to implement some sort of long-polling method to our tests to make sure we start testing in a state we actually want.\r\n\r\nno. 2 is cleaner IMHO, although I see how this would not really adhere to the ""let‚Äôs write our tests like real users would interact"" policy. although arguably in this case the mock state would just be a fast-forward to a real world state that happens couple of seconds later (we can just change one parameter, no need to change whole response body)\r\n\r\nad no. 3: what‚Äôs not clear to me is why this setting needs to exist. it clearly bypasses some throttling functionality that was added there. wouldn‚Äôt the fact that this can be bypassed create problem on the product? could user potentially brute-force the backend into crashing? obviously, this endpoint is available only for admins, but it‚Äôs still kinda shady that this exists.', 'created_at': datetime.datetime(2024, 11, 18, 23, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485457644, 'issue_id': 2668744774, 'author': 'kamilmielnik', 'body': ""Thanks for the input everyone!\r\n\r\nI'll merge it as is. It should immediately improve our flake situation and hopefully in the future we won't need the `synchronous-batch-updates` setting at all. There's already a proposal that could get us there: https://www.notion.so/metabase/Tech-Generic-user-specific-state-storage-14369354c901807390cbd89a381e8c12"", 'created_at': datetime.datetime(2024, 11, 19, 11, 29, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485489584, 'issue_id': 2668744774, 'author': 'github-actions[bot]', 'body': '@kamilmielnik something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/11912336167)', 'created_at': datetime.datetime(2024, 11, 19, 11, 45, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 15:46:41 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3095_tests-4859feac-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50143?repo=metabase/metabase&commitHash=4859feac93f4d33a61b431eb9c5438c274e600b7&utm_source=gh-comment&runConclusion=FAILURE&runId=9bd1614b-8ac7-5f06-a656-74610b945829) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50143?repo=metabase/metabase&commitHash=4859feac93f4d33a61b431eb9c5438c274e600b7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

iethree on (2024-11-18 17:19:32 UTC): Interesting. Since this is effectively a backend change, I wonder if backend engineers see any potential downsides to this? Part of me is hesitant to run all our e2e tests in an application state that will never exist in the real world, but maybe it makes sense given that real users don't click as fast as cypress?

filiphric on (2024-11-18 23:45:14 UTC): my 2 cents is that the bigger problem than tests using this change is the existence of the api call. [this](https://github.com/metabase/metabase/blob/master/src/metabase/util/grouper.clj#L30) says that this setting is used for testing purposes e2e tests only. there are 3 approaches IMHO. 
1. either we respect this functionality and instead of changing settings 
2. we mock the settings on e2e side
3. we keep things as they are

with no. 1 we‚Äôd have to implement some sort of long-polling method to our tests to make sure we start testing in a state we actually want.

no. 2 is cleaner IMHO, although I see how this would not really adhere to the ""let‚Äôs write our tests like real users would interact"" policy. although arguably in this case the mock state would just be a fast-forward to a real world state that happens couple of seconds later (we can just change one parameter, no need to change whole response body)

ad no. 3: what‚Äôs not clear to me is why this setting needs to exist. it clearly bypasses some throttling functionality that was added there. wouldn‚Äôt the fact that this can be bypassed create problem on the product? could user potentially brute-force the backend into crashing? obviously, this endpoint is available only for admins, but it‚Äôs still kinda shady that this exists.

kamilmielnik (Issue Creator) on (2024-11-19 11:29:36 UTC): Thanks for the input everyone!

I'll merge it as is. It should immediately improve our flake situation and hopefully in the future we won't need the `synchronous-batch-updates` setting at all. There's already a proposal that could get us there: https://www.notion.so/metabase/Tech-Generic-user-specific-state-storage-14369354c901807390cbd89a381e8c12

github-actions[bot] on (2024-11-19 11:45:15 UTC): @kamilmielnik something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/11912336167)

"
2668743742,pull_request,closed,,Various tweaks for experimental search,"Tweaking parameters mostly.

Brought over from the metabase-search testing env.",crisptrutski,2024-11-18 14:34:01+00:00,['crisptrutski'],2024-11-26 18:51:10+00:00,2024-11-19 08:22:15+00:00,https://github.com/metabase/metabase/pull/50142,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2483339860, 'issue_id': 2668743742, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114058_tests-50a43928-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50142?repo=metabase/metabase&commitHash=50a4392800d7a5f29b015553fcbb1c400b398001&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 15, 14, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483402535, 'issue_id': 2668743742, 'author': 'crisptrutski', 'body': 'Tests need to be updated', 'created_at': datetime.datetime(2024, 11, 18, 15, 37, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 15:14:09 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114058_tests-50a43928-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50142?repo=metabase/metabase&commitHash=50a4392800d7a5f29b015553fcbb1c400b398001&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-18 15:37:38 UTC): Tests need to be updated

"
2668635173,pull_request,closed,,chore: forbid legacyQuery usage with eslint,"### Description

forbid `legacyQuery` with `useStructuredQuery: true` flag usage

[context](https://metaboat.slack.com/archives/C05MPF0TM3L/p1731699090615029?thread_ts=1731533262.825849&cid=C05MPF0TM3L)

",uladzimirdev,2024-11-18 13:50:56+00:00,['uladzimirdev'],2024-11-19 22:26:15+00:00,2024-11-19 21:41:46+00:00,https://github.com/metabase/metabase/pull/50141,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2483253664, 'issue_id': 2668635173, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-311207ce-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50141?repo=metabase/metabase&commitHash=311207cea10c4c7d779753a20da21412c7a3c7dd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 14, 43, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 14:43:13 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-311207ce-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50141?repo=metabase/metabase&commitHash=311207cea10c4c7d779753a20da21412c7a3c7dd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668633613,pull_request,closed,,"ü§ñ backported ""Add temporal unit to display name""","  #48946
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-18 13:50:20+00:00,"['lbrdnk', 'github-automation-metabase']",2024-11-20 13:00:51+00:00,2024-11-20 13:00:49+00:00,https://github.com/metabase/metabase/pull/50140,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2483999235, 'issue_id': 2668633613, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 277fc1df72ccda75b6e9dfd717ea78190d3dd277...d049dc7196a31c216d534cc8e85f023746d73186.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/KeyValuePairChartTooltip/KeyValuePairChartTooltip.tsx<br>frontend/src/metabase/visualizations/components/FunnelNormal.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/echarts/cartesian/model/series.ts<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/lib/utils.unit.spec.js<br>frontend/src/metabase/visualizations/lib/warnings.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/chart-definition-legacy.js<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/ObjectDetail.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |', 'created_at': datetime.datetime(2024, 11, 18, 20, 3, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 20:03:48 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 277fc1df72ccda75b6e9dfd717ea78190d3dd277...d049dc7196a31c216d534cc8e85f023746d73186.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/KeyValuePairChartTooltip/KeyValuePairChartTooltip.tsx<br>frontend/src/metabase/visualizations/components/FunnelNormal.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/echarts/cartesian/model/series.ts<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/lib/utils.unit.spec.js<br>frontend/src/metabase/visualizations/lib/warnings.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/chart-definition-legacy.js<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/ObjectDetail.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |

"
2668441972,pull_request,closed,,fix(sdk): trigger save handler on question create when using SaveQuestionForm,"Closes https://github.com/metabase/metabase/issues/50008

### Description

When using SaveQuestionForm to save question as a new question, the `onSave` and `onBeforeSave` handlers does not get called. This PR calls both handlers when a question is saved, and passes `{ isNewQuestion: true }` to the second argument of the save handler.

### How to verify

- Use the SaveQuestionForm to save question as a new question.
  - Refer to either [this PR's Storybook setup](https://github.com/metabase/metabase/pull/50137/files#diff-f8bc78b6ef233baa9bde9e81e3a24035d87e587a5ac333e3e2da6547c38986ceR31-R58) or https://github.com/metabase/shoppy/pull/86 (Shoppy PR)
- The `onSave` and `onBeforeSave` handlers must be called with `isNewQuestion: true`.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E",heypoom,2024-11-18 12:51:11+00:00,['heypoom'],2024-11-19 13:46:31+00:00,2024-11-19 13:46:30+00:00,https://github.com/metabase/metabase/pull/50137,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2483727329, 'issue_id': 2668441972, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13174_tests-108da97b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50137?repo=metabase/metabase&commitHash=108da97b8d0d2eaf28bbb6af6768ba5958569203&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 17, 49, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 17:49:44 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13174_tests-108da97b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50137?repo=metabase/metabase&commitHash=108da97b8d0d2eaf28bbb6af6768ba5958569203&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668295946,pull_request,closed,,Render table header when dataset is empty,"Closes https://github.com/metabase/metabase/issues/37300

### Description

This PR allows the visualization to render its own empty message, thus allowing it to render other parts for the visualization too.


### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Orders
2. Add a filter to make the result set empty, ie. Tax < 0
3. Switch to Metadata by clicking the button in the header
4. The table headers should be visible and clickable

### Demo

<img width=""1474"" alt=""Screenshot 2024-11-18 at 22 47 14"" src=""https://github.com/user-attachments/assets/b2facc68-1b25-4189-b153-e8acddf8f477"">


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",romeovs,2024-11-18 11:48:26+00:00,['romeovs'],2024-11-19 22:22:22+00:00,2024-11-19 22:22:20+00:00,https://github.com/metabase/metabase/pull/50136,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2482818517, 'issue_id': 2668295946, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 552cf921ff547ba4264fd6c47da7ed1e741668e1...3fe312590a9b33779f11efc5f5677fe14ad942fc.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.module.css |', 'created_at': datetime.datetime(2024, 11, 18, 11, 49, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482930128, 'issue_id': 2668295946, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13302_tests-3fe31259-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50136?repo=metabase/metabase&commitHash=3fe312590a9b33779f11efc5f5677fe14ad942fc&utm_source=gh-comment&runConclusion=FAILURE&runId=d81d72ed-ba95-539f-95d8-8408514dd080) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50136?repo=metabase/metabase&commitHash=3fe312590a9b33779f11efc5f5677fe14ad942fc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 12, 39, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 11:49:51 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 552cf921ff547ba4264fd6c47da7ed1e741668e1...3fe312590a9b33779f11efc5f5677fe14ad942fc.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.module.css |

trunk-io[bot] on (2024-11-18 12:39:39 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13302_tests-3fe31259-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50136?repo=metabase/metabase&commitHash=3fe312590a9b33779f11efc5f5677fe14ad942fc&utm_source=gh-comment&runConclusion=FAILURE&runId=d81d72ed-ba95-539f-95d8-8408514dd080) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50136?repo=metabase/metabase&commitHash=3fe312590a9b33779f11efc5f5677fe14ad942fc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668268848,pull_request,closed,,fix(sdk): handle relative urls for metabaseInstance in loading maps,"Closes https://github.com/metabase/metabase/issues/50132


To reproduce the error (and check that it doesn't show up in this pr)

Make a new vite project with the following config to enable the proxy:
```ts
import { defineConfig } from ""vite"";
import react from ""@vitejs/plugin-react"";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {},
  },
  server: {
    proxy: {
      ""/metabase-proxy/"": {
        target: ""http://localhost:3000"",
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/metabase-proxy/, """"),
      },
    },
  },
});
```

Use the following sdk config: (it should work with both, but will fail with `/metabase-proxy` without this fix)
```
  const config = defineEmbeddingSdkConfig({
    // metabaseInstanceUrl: ""http://localhost:5173/metabase-proxy"",
    metabaseInstanceUrl: ""/metabase-proxy"",
```

If using the example db, render `<StaticDashboard dashboardId={1} />` and open the Demographics tab, it should contain a map card",npretto,2024-11-18 11:38:12+00:00,['npretto'],2024-11-19 11:16:00+00:00,2024-11-19 11:00:58+00:00,https://github.com/metabase/metabase/pull/50135,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2482796304, 'issue_id': 2668268848, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 552cf921ff547ba4264fd6c47da7ed1e741668e1...b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.unit.spec.js |', 'created_at': datetime.datetime(2024, 11, 18, 11, 39, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482876326, 'issue_id': 2668268848, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13409_tests-b59f27ac-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50135?repo=metabase/metabase&commitHash=b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d&utm_source=gh-comment&runConclusion=FAILURE&runId=e3a6e524-795a-572b-8e56-73cb0fd7d606) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50135?repo=metabase/metabase&commitHash=b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d&utm_source=gh-comment&runConclusion=FAILURE&runId=2b6ec23d-10ed-55bb-a240-d2a5b238ac9b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50135?repo=metabase/metabase&commitHash=b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 12, 16, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484828259, 'issue_id': 2668268848, 'author': 'WiNloSt', 'body': 'This also fixes the [absolute path URL with Next JS reverse proxy issue](https://metaboat.slack.com/archives/C06FCQT0KMZ/p1731976803383909).', 'created_at': datetime.datetime(2024, 11, 19, 6, 45, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 11:39:41 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 552cf921ff547ba4264fd6c47da7ed1e741668e1...b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.unit.spec.js |

trunk-io[bot] on (2024-11-18 12:16:13 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13409_tests-b59f27ac-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50135?repo=metabase/metabase&commitHash=b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d&utm_source=gh-comment&runConclusion=FAILURE&runId=e3a6e524-795a-572b-8e56-73cb0fd7d606) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50135?repo=metabase/metabase&commitHash=b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d&utm_source=gh-comment&runConclusion=FAILURE&runId=2b6ec23d-10ed-55bb-a240-d2a5b238ac9b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50135?repo=metabase/metabase&commitHash=b59f27ac8c9bb6448d0949c6c2fe00a4c0e9697d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

WiNloSt on (2024-11-19 06:45:53 UTC): This also fixes the [absolute path URL with Next JS reverse proxy issue](https://metaboat.slack.com/archives/C06FCQT0KMZ/p1731976803383909).

"
2668194841,pull_request,closed,,"ü§ñ backported ""fix: respect click behavior on public dashboards""",#50067,github-automation-metabase,2024-11-18 11:22:32+00:00,"['uladzimirdev', 'github-automation-metabase']",2024-11-18 12:52:23+00:00,2024-11-18 12:25:06+00:00,https://github.com/metabase/metabase/pull/50134,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2482762200, 'issue_id': 2668194841, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07f4a5ac3e79f8272ed52733ae3f54e3a8f18279...c729c988f2accd57f1eb40fd8adef863e16f0c6a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2024, 11, 18, 11, 24, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482867564, 'issue_id': 2668194841, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13257_tests-c729c988-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\$114648)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50134?repo=metabase/metabase&commitHash=c729c988f2accd57f1eb40fd8adef863e16f0c6a&utm_source=gh-comment&runConclusion=FAILURE&runId=7ca22a23-30f4-5c44-a6f1-16205acddfae) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50134?repo=metabase/metabase&commitHash=c729c988f2accd57f1eb40fd8adef863e16f0c6a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 12, 12, 11, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 11:24:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07f4a5ac3e79f8272ed52733ae3f54e3a8f18279...c729c988f2accd57f1eb40fd8adef863e16f0c6a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

trunk-io[bot] on (2024-11-18 12:12:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13257_tests-c729c988-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\$114648)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50134?repo=metabase/metabase&commitHash=c729c988f2accd57f1eb40fd8adef863e16f0c6a&utm_source=gh-comment&runConclusion=FAILURE&runId=7ca22a23-30f4-5c44-a6f1-16205acddfae) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50134?repo=metabase/metabase&commitHash=c729c988f2accd57f1eb40fd8adef863e16f0c6a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2668126133,pull_request,closed,,"ü§ñ backported ""Fix button group breaking""",#50064,github-automation-metabase,2024-11-18 10:55:33+00:00,"['romeovs', 'github-automation-metabase']",2024-11-18 22:50:34+00:00,2024-11-18 22:50:33+00:00,https://github.com/metabase/metabase/pull/50133,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2482797310, 'issue_id': 2668126133, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13353_tests-5361151e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment&runConclusion=FAILURE&runId=64608a9d-5c2e-5b99-a5da-d1c8649dfb9e) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment&runConclusion=FAILURE&runId=c0640e1d-2b82-51ac-9d4b-abda52d87919) |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> | The expected text \'See these Orders\' was not found in the element after 4000ms timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment&runConclusion=FAILURE&runId=e83a97d6-4631-50cd-8533-86c80a4299db) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 11, 40, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 11:40:12 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13353_tests-5361151e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment&runConclusion=FAILURE&runId=64608a9d-5c2e-5b99-a5da-d1c8649dfb9e) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment&runConclusion=FAILURE&runId=c0640e1d-2b82-51ac-9d4b-abda52d87919) |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> | The expected text 'See these Orders' was not found in the element after 4000ms timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment&runConclusion=FAILURE&runId=e83a97d6-4631-50cd-8533-86c80a4299db) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50133?repo=metabase/metabase&commitHash=5361151e972a7dfce0298210dfc4aba55f11c013&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2667808761,pull_request,closed,,Fix flaky x-rays test,"### Description

Fixes top flaky test (see https://stats.metabase.com/question/18032 but exclude branches containing `metabot`).
Example failure: https://github.com/metabase/metabase/actions/runs/11854619436/attempts/1

### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11892458485
",kamilmielnik,2024-11-18 09:31:29+00:00,['kamilmielnik'],2024-11-18 16:25:42+00:00,2024-11-18 14:55:06+00:00,https://github.com/metabase/metabase/pull/50131,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]","[{'comment_id': 2483018381, 'issue_id': 2667808761, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3095_tests-23ec3971-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50131?repo=metabase/metabase&commitHash=23ec3971511d1f7d3e67cbd267e4184eab506bb9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 13, 16, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483175302, 'issue_id': 2667808761, 'author': 'uladzimirdev', 'body': 'ü•á', 'created_at': datetime.datetime(2024, 11, 18, 14, 18, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 13:16:30 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3095_tests-23ec3971-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50131?repo=metabase/metabase&commitHash=23ec3971511d1f7d3e67cbd267e4184eab506bb9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

uladzimirdev on (2024-11-18 14:18:32 UTC): ü•á

"
2667785339,pull_request,closed,,Add general type for `className` and `style`,"We always manually type this, so I followed the pattern of `PropsWithChildren<InsertYourPropTypeHere>` and created this type. I think it'll make us a _just a little_ happier.",oisincoveney,2024-11-18 09:20:57+00:00,['oisincoveney'],2024-11-18 14:08:51+00:00,2024-11-18 13:00:03+00:00,https://github.com/metabase/metabase/pull/50130,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2482385643, 'issue_id': 2667785339, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 18, 9, 21, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482473254, 'issue_id': 2667785339, 'author': 'npretto', 'body': 'Should we instead allow any prop that are on the underlying component? For example in this case anything that\'s natively available on h2?\r\nThat would allow for also aria-labels, data-testid and similar.\r\nWe should check if it makes the autocomplete too ""dense"" with props not so useful', 'created_at': datetime.datetime(2024, 11, 18, 9, 56, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482519987, 'issue_id': 2667785339, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2332_tests-81f83576-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50130?repo=metabase/metabase&commitHash=81f83576eeb317c1abe88c10858575b3ba7eea95&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 10, 9, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482981851, 'issue_id': 2667785339, 'author': 'oisincoveney', 'body': ""I'm going to table this one as I'm finding it harder and harder to justify not using `HTMLAttributes` or `ComponentProps` instead"", 'created_at': datetime.datetime(2024, 11, 18, 13, 0, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 09:21:17 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

npretto on (2024-11-18 09:56:26 UTC): Should we instead allow any prop that are on the underlying component? For example in this case anything that's natively available on h2?
That would allow for also aria-labels, data-testid and similar.
We should check if it makes the autocomplete too ""dense"" with props not so useful

trunk-io[bot] on (2024-11-18 10:09:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2332_tests-81f83576-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50130?repo=metabase/metabase&commitHash=81f83576eeb317c1abe88c10858575b3ba7eea95&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2024-11-18 13:00:03 UTC): I'm going to table this one as I'm finding it harder and harder to justify not using `HTMLAttributes` or `ComponentProps` instead

"
2667777057,pull_request,closed,,Separate view from data for question titles,Extracts a function called `getAdHocQuestionDescription` to get the adhoc question description independent of using a component. This will be used in the default layout of the SDK. I think it also just looks nicer.,oisincoveney,2024-11-18 09:17:19+00:00,['oisincoveney'],2024-11-19 07:26:54+00:00,2024-11-19 06:27:54+00:00,https://github.com/metabase/metabase/pull/50129,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2482443919, 'issue_id': 2667777057, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 18, 9, 45, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482519990, 'issue_id': 2667777057, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13174_tests-20dbcb59-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50129?repo=metabase/metabase&commitHash=20dbcb59d2415ae5c6f25523f5c5b58f48111ba6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 10, 9, 11, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 09:45:28 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-18 10:09:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13174_tests-20dbcb59-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50129?repo=metabase/metabase&commitHash=20dbcb59d2415ae5c6f25523f5c5b58f48111ba6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2667646014,pull_request,closed,,[Notification] Seed notifications on startup instead of using migrations üå±,,qnkhuat,2024-11-18 08:39:35+00:00,['qnkhuat'],2024-11-26 18:51:10+00:00,2024-11-19 03:00:48+00:00,https://github.com/metabase/metabase/pull/50127,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2482354972, 'issue_id': 2667646014, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/117269_tests-08f48833-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50127?repo=metabase/metabase&commitHash=08f48833fd70df64905cae6e8aa6845b48951818&utm_source=gh-comment&runConclusion=FAILURE&runId=ff005b64-f038-5651-a62f-deefea962386) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50127?repo=metabase/metabase&commitHash=08f48833fd70df64905cae6e8aa6845b48951818&utm_source=gh-comment&runConclusion=FAILURE&runId=a93bd625-9cf5-5172-90f4-08f47b143a29) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50127?repo=metabase/metabase&commitHash=08f48833fd70df64905cae6e8aa6845b48951818&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 9, 9, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 09:09:14 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/117269_tests-08f48833-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50127?repo=metabase/metabase&commitHash=08f48833fd70df64905cae6e8aa6845b48951818&utm_source=gh-comment&runConclusion=FAILURE&runId=ff005b64-f038-5651-a62f-deefea962386) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50127?repo=metabase/metabase&commitHash=08f48833fd70df64905cae6e8aa6845b48951818&utm_source=gh-comment&runConclusion=FAILURE&runId=a93bd625-9cf5-5172-90f4-08f47b143a29) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50127?repo=metabase/metabase&commitHash=08f48833fd70df64905cae6e8aa6845b48951818&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2667636903,pull_request,closed,,Normalize view count scores by p90 for corresponding model,"This is an attempt to keep the score relevant for customers (and models) of very different scales.

Here's an example of the effective ranking term:

```edn
[:*
 [:/ [:inline 2] [:pi]]
 [:atan
  [:/
   [:cast [:coalesce :view_count [:inline 0.0]] :float]
   [:*
     0.25
     [:greatest
      1
      [:case
       [:= :model ""card""]
       16.0
       [:= :model ""dashboard""]
       1.0000000000000009
       [:= :model ""table""]
       8.100000000000005]]]]]]
```

And here's an example of the final scores for my small database:

```
SELECT model, view_count, 
  (2 / PI()) * ATAN(CAST(COALESCE(view_count, 0.0) AS FLOAT) / 
    (0.2 * GREATEST(1, CASE 
      WHEN model = 'card' THEN 16.0 
      WHEN model = 'dashboard' THEN 1.0000000000000009 
      WHEN model = 'table' THEN 8.100000000000005 END))) AS view_count_score 
FROM search_index 
GROUP BY model, view_count
ORDER BY model, view_count;

   model    | view_count |  view_count_score
------------+------------+--------------------
 card       |          0 |                  0
 card       |          4 | 0.5704465749545545
 card       |         16 | 0.8743340836219977
 collection |            |                  0
 dashboard  |          0 |                  0
 dashboard  |          5 | 0.9745487773040163
 database   |            |                  0
 table      |          0 |                  0
 table      |         27 | 0.9618485515283276
(9 rows)
```",crisptrutski,2024-11-18 08:35:24+00:00,['crisptrutski'],2024-11-26 18:51:15+00:00,2024-11-18 10:02:11+00:00,https://github.com/metabase/metabase/pull/50126,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2482307696, 'issue_id': 2667636903, 'author': 'crisptrutski', 'body': ""Hmm, there seems to be a bug in the generated SQL, it's missing brackets around the multiplication of the two scaling factors, so the precedence is wrong.\r\n\r\nUpdate: ah, a stray `:inline` around the multiplication."", 'created_at': datetime.datetime(2024, 11, 18, 8, 50, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482354812, 'issue_id': 2667636903, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113995_tests-6ea99ce2-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50126?repo=metabase/metabase&commitHash=6ea99ce22b09e61009071094557e8b3010b322ca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 9, 9, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482354814, 'issue_id': 2667636903, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/74104_tests-2fefecec-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50126?repo=metabase/metabase&commitHash=2fefecec843a5459b786132afee0f8a481ffe6d7&utm_source=gh-comment&runConclusion=FAILURE&runId=a1ccd03b-1e29-5b33-b48e-2941b02313b9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50126?repo=metabase/metabase&commitHash=2fefecec843a5459b786132afee0f8a481ffe6d7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 9, 9, 10, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-18 08:50:26 UTC): Hmm, there seems to be a bug in the generated SQL, it's missing brackets around the multiplication of the two scaling factors, so the precedence is wrong.

Update: ah, a stray `:inline` around the multiplication.

trunk-io[bot] on (2024-11-18 09:09:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113995_tests-6ea99ce2-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50126?repo=metabase/metabase&commitHash=6ea99ce22b09e61009071094557e8b3010b322ca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-18 09:09:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/74104_tests-2fefecec-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50126?repo=metabase/metabase&commitHash=2fefecec843a5459b786132afee0f8a481ffe6d7&utm_source=gh-comment&runConclusion=FAILURE&runId=a1ccd03b-1e29-5b33-b48e-2941b02313b9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50126?repo=metabase/metabase&commitHash=2fefecec843a5459b786132afee0f8a481ffe6d7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2667590646,pull_request,closed,,"ü§ñ backported ""Fix flaky dashboard filter test""",#50077,github-automation-metabase,2024-11-18 08:12:16+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-18 09:49:20+00:00,2024-11-18 09:08:49+00:00,https://github.com/metabase/metabase/pull/50125,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2482283649, 'issue_id': 2667590646, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3355_tests-513bcef5-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50125?repo=metabase/metabase&commitHash=513bcef5a4d58ed0cf7886f06aa40d294ded3b50&utm_source=gh-comment&runConclusion=FAILURE&runId=9f68d88c-9f52-57a5-819d-77dcee11334a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50125?repo=metabase/metabase&commitHash=513bcef5a4d58ed0cf7886f06aa40d294ded3b50&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 8, 39, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 08:39:43 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3355_tests-513bcef5-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50125?repo=metabase/metabase&commitHash=513bcef5a4d58ed0cf7886f06aa40d294ded3b50&utm_source=gh-comment&runConclusion=FAILURE&runId=9f68d88c-9f52-57a5-819d-77dcee11334a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50125?repo=metabase/metabase&commitHash=513bcef5a4d58ed0cf7886f06aa40d294ded3b50&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2667272259,pull_request,closed,,"ü§ñ backported ""fix(49537): remove position relative from echarts tooltip container""","  #49964

There were conflicts in 2 files
- .loki/reference/chrome_laptop_embed_PublicOrEmbeddedDashboardView_filters_Dark_Theme_Date_Filter_Single.png
- .loki/reference/chrome_laptop_embed_PublicOrEmbeddedDashboardView_filters_Dark_Theme_Number.png

I update these 2 snapshots to be the correct one with a 1366px width instead of a 1351px width",github-automation-metabase,2024-11-18 06:02:55+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-18 07:46:59+00:00,2024-11-18 07:46:57+00:00,https://github.com/metabase/metabase/pull/50124,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2482063507, 'issue_id': 2667272259, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 786f55a6b0692e93854272adc2891c9d701441b6...f5cfe03c35668f7067c3e423c4cc7bf28bac43f9.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2024, 11, 18, 6, 29, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482121697, 'issue_id': 2667272259, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-f5cfe03c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50124?repo=metabase/metabase&commitHash=f5cfe03c35668f7067c3e423c4cc7bf28bac43f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 7, 9, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482121704, 'issue_id': 2667272259, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37087_tests-f5cfe03c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50124?repo=metabase/metabase&commitHash=f5cfe03c35668f7067c3e423c4cc7bf28bac43f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 7, 9, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482121709, 'issue_id': 2667272259, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37087_tests-f5cfe03c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50124?repo=metabase/metabase&commitHash=f5cfe03c35668f7067c3e423c4cc7bf28bac43f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 7, 9, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 06:29:38 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 786f55a6b0692e93854272adc2891c9d701441b6...f5cfe03c35668f7067c3e423c4cc7bf28bac43f9.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

trunk-io[bot] on (2024-11-18 07:09:22 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-f5cfe03c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50124?repo=metabase/metabase&commitHash=f5cfe03c35668f7067c3e423c4cc7bf28bac43f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-18 07:09:22 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37087_tests-f5cfe03c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50124?repo=metabase/metabase&commitHash=f5cfe03c35668f7067c3e423c4cc7bf28bac43f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-18 07:09:22 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37087_tests-f5cfe03c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50124?repo=metabase/metabase&commitHash=f5cfe03c35668f7067c3e423c4cc7bf28bac43f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2666974067,pull_request,closed,,"`change-column-settings` tools, `change-table-column-settings` tools","Basic idea:
- Query & viz tools unified
- Send computed settings 
- Reply with a diff

`change-column-settings`
- `Rename Tax to TotalTax`

`change-table-column-settings`
- `Hide Tax`
- `Hide all columns`
- `Show all columns`
- `Reorder columns alphabetically`
",ranquild,2024-11-18 03:12:07+00:00,['ranquild'],2024-11-18 17:10:14+00:00,2024-11-18 16:15:48+00:00,https://github.com/metabase/metabase/pull/50123,"[('.Team/Querying', '')]","[{'comment_id': 2483390146, 'issue_id': 2666974067, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ec4d40a067e34e82f092f18b850f92edc4eec606...61a2ae023309d1f63fa49f40da6d38f77303721d.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/settings/nested.js |', 'created_at': datetime.datetime(2024, 11, 18, 15, 32, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483499344, 'issue_id': 2666974067, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2271_tests-31e9ec36-purple) &ensp; ![Static Badge](https://img.shields.io/badge/209-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard cards > sections should add sections and select a question for an empty card</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=5be77824-bd0e-5e0b-b59e-763b9ff950bc) |\n| <code>scenarios > dashboard > dashboard drill should display correct tooltip value for multiple series charts on dashboard (metabase\\$115612)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=85e4813c-99df-5a24-bf08-95db0fd34bed) |\n| <code>scenarios > dashboard > dashboard drill should keep card\'s display when doing zoom drill-through from dashboard (metabase\\$138307)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=9b99332f-a18b-5ec2-9644-a5ac9a41346a) |\n| <code>scenarios > dashboard > dashboard drill should apply correct date range on a graph drill-through (metabase\\$113785)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=be0ac5d4-c9b7-53ca-808e-676c5dcc3e5e) |\n\n[... and 205 more](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > line/bar chart > tooltips > bar chart question on dashboard should show percent change in tooltip for timeseries axis</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=22062f8d-4e33-5594-931f-053e8853ae9f) |\n| <code>scenarios > visualizations > line/bar chart > tooltips > single series question on dashboard should show updated column titles in tooltips after ed...</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=355aed31-15d6-5d8c-9178-c39c39505490) |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=9973abcb-80b0-5796-951c-3a108987d0ec) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 16, 14, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-18 15:32:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ec4d40a067e34e82f092f18b850f92edc4eec606...61a2ae023309d1f63fa49f40da6d38f77303721d.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/settings/nested.js |

trunk-io[bot] on (2024-11-18 16:14:54 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2271_tests-31e9ec36-purple) &ensp; ![Static Badge](https://img.shields.io/badge/209-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard cards > sections should add sections and select a question for an empty card</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=5be77824-bd0e-5e0b-b59e-763b9ff950bc) |
| <code>scenarios > dashboard > dashboard drill should display correct tooltip value for multiple series charts on dashboard (metabase\$115612)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=85e4813c-99df-5a24-bf08-95db0fd34bed) |
| <code>scenarios > dashboard > dashboard drill should keep card's display when doing zoom drill-through from dashboard (metabase\$138307)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=9b99332f-a18b-5ec2-9644-a5ac9a41346a) |
| <code>scenarios > dashboard > dashboard drill should apply correct date range on a graph drill-through (metabase\$113785)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=be0ac5d4-c9b7-53ca-808e-676c5dcc3e5e) |

[... and 205 more](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > line/bar chart > tooltips > bar chart question on dashboard should show percent change in tooltip for timeseries axis</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=22062f8d-4e33-5594-931f-053e8853ae9f) |
| <code>scenarios > visualizations > line/bar chart > tooltips > single series question on dashboard should show updated column titles in tooltips after ed...</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=355aed31-15d6-5d8c-9178-c39c39505490) |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment&runConclusion=FAILURE&runId=9973abcb-80b0-5796-951c-3a108987d0ec) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50123?repo=metabase/metabase&commitHash=31e9ec3620e27f17f0c32cae894131c98cf49b7e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2665909544,pull_request,closed,,Support fetching param values on filter stage,"Fixes #48613

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-17 14:03:03+00:00,['metamben'],2024-11-19 20:54:49+00:00,2024-11-19 19:28:58+00:00,https://github.com/metabase/metabase/pull/50120,"[('.Team/Querying', '')]","[{'comment_id': 2481292971, 'issue_id': 2665909544, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/22_tests-61fa4367-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > temporal unit parameters mapping targets should connect a parameter to a question and drill thru</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment&runConclusion=FAILURE&runId=fa3773e6-5111-502a-95ae-04c93904ebc5) |\n| <code>scenarios > visualizations > drillthroughs > dash\\$1drill card title click action saved visualizations should respect visualization type when enter...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment&runConclusion=FAILURE&runId=4afebe25-3289-57c7-ae7d-9dba99f4882e) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment&runConclusion=FAILURE&runId=50e11f6f-68c2-5785-9310-4bc4c41f2b6d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 17, 14, 38, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-17 14:38:50 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/22_tests-61fa4367-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > temporal unit parameters mapping targets should connect a parameter to a question and drill thru</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment&runConclusion=FAILURE&runId=fa3773e6-5111-502a-95ae-04c93904ebc5) |
| <code>scenarios > visualizations > drillthroughs > dash\$1drill card title click action saved visualizations should respect visualization type when enter...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment&runConclusion=FAILURE&runId=4afebe25-3289-57c7-ae7d-9dba99f4882e) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment&runConclusion=FAILURE&runId=50e11f6f-68c2-5785-9310-4bc4c41f2b6d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50120?repo=metabase/metabase&commitHash=61fa43674031e1bef8b3bd6b88acc582051f5937&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2664260990,pull_request,open,,fix: :bug: adjust metabot logo styling to fix padding issue,"Closes https://github.com/metabase/metabase/issues/50012

### Description

Made changes to GreetingLogo styles that fixed the overflowing the logo

### How to verify

Please check the screenshot

### Demo

![CleanShot 2024-11-16 at 18 10 50@2x](https://github.com/user-attachments/assets/6681cd4b-1be1-44b9-88d8-c5089f77793f)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",moinulmoin,2024-11-16 12:18:48+00:00,[],2024-11-16 12:18:48+00:00,,https://github.com/metabase/metabase/pull/50119,[],[],
2664157894,pull_request,closed,,"ü§ñ backported ""Bump Toucan dependency""",#49962,github-automation-metabase,2024-11-16 10:38:42+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-11-19 00:00:06+00:00,2024-11-18 22:11:17+00:00,https://github.com/metabase/metabase/pull/50118,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2480532120, 'issue_id': 2664157894, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/18491_tests-f26f49ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50118?repo=metabase/metabase&commitHash=f26f49ca93a3752612f74f5b168cf18d641edf14&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 16, 11, 38, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2480532121, 'issue_id': 2664157894, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/87921_tests-3d8b2122-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50118?repo=metabase/metabase&commitHash=3d8b2122880097b831c822b679fe1a9f0028a639&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 16, 11, 38, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2480532123, 'issue_id': 2664157894, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/87921_tests-3d8b2122-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50118?repo=metabase/metabase&commitHash=3d8b2122880097b831c822b679fe1a9f0028a639&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 16, 11, 38, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-16 11:38:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/18491_tests-f26f49ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50118?repo=metabase/metabase&commitHash=f26f49ca93a3752612f74f5b168cf18d641edf14&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-16 11:38:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/87921_tests-3d8b2122-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50118?repo=metabase/metabase&commitHash=3d8b2122880097b831c822b679fe1a9f0028a639&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-16 11:38:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/87921_tests-3d8b2122-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50118?repo=metabase/metabase&commitHash=3d8b2122880097b831c822b679fe1a9f0028a639&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2664124547,pull_request,closed,,perf: Improve the performance of pivoted XLSX export,"fixes #49353

I've brought down the execution time of the example in #49353 from 6 seconds to 600 msec, and the allocations from 10GB to 600MB. I'll leave some comments next to the code.
",alexander-yakushev,2024-11-16 10:03:16+00:00,['alexander-yakushev'],2024-11-18 21:23:28+00:00,2024-11-18 19:54:37+00:00,https://github.com/metabase/metabase/pull/50117,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2480518351, 'issue_id': 2664124547, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/5484_tests-7097bf62-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50117?repo=metabase/metabase&commitHash=7097bf6225c27685fc51e8b541a3d11ecc8b85c2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 16, 10, 38, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2481412439, 'issue_id': 2664124547, 'author': 'alexander-yakushev', 'body': 'The gains come both from caching the formatted and from turning sequences into vectors, see the original profile: https://flamebin.dev/dpTTdF. I agree with you on the defensive `vec` where it matters and will add them in the places where the caller assumes the type of the target without knowing for sure.', 'created_at': datetime.datetime(2024, 11, 17, 18, 10, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-16 10:38:48 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/5484_tests-7097bf62-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50117?repo=metabase/metabase&commitHash=7097bf6225c27685fc51e8b541a3d11ecc8b85c2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

alexander-yakushev (Issue Creator) on (2024-11-17 18:10:01 UTC): The gains come both from caching the formatted and from turning sequences into vectors, see the original profile: https://flamebin.dev/dpTTdF. I agree with you on the defensive `vec` where it matters and will add them in the places where the caller assumes the type of the target without knowing for sure.

"
2663557775,pull_request,closed,,Fix pie chart legend issues,"Closes https://github.com/metabase/metabase/issues/48125
Closes https://github.com/metabase/metabase/issues/49779
Closes https://github.com/metabase/metabase/issues/46213
Closes https://github.com/metabase/metabase/issues/29597

### Description

The existing PieChart legend has a few bugs and it gets reported internally frequently enough. This PR addresses a few issues related to it.

#### 1. Agressive truncation logic without further resizing

<img width=""321"" alt=""Screenshot 2024-11-15 at 8 28 26‚ÄØPM"" src=""https://github.com/user-attachments/assets/211a1e69-100c-4a04-8fa7-e065b583974e"">

If a chart is initially rendered within dimensions that require truncating legend items they won't expand after resizing.
This is due to a [very old code](https://github.com/metabase/metabase/pull/50116/files#diff-fe909f84350014a57230560476960418653079c031c6c92a2c0159eaa84acdbfL26) that explicitly prevents legend with from changing unless legend items change. I assume this is to preserve the exact legend total width when toggling percentages in legend and this behavior does not seem valuable because it would be actually nice to resize the legend instead of truncating its items.

#### 2. Agressive truncation logic without further resizing

Hide legend fully on tiny dashcards where it is not useful.

Before
<video src=""https://github.com/user-attachments/assets/ab369b6f-60c7-4a0d-8724-d98c4518770c"" />

After
<video src=""https://github.com/user-attachments/assets/e9e406c4-5798-4a8c-ab7a-c7864c97b9e6"" />

#### 3. Drop hyphens on horizontal legend

Before
<img width=""359"" alt=""Screenshot 2024-11-15 at 8 49 01‚ÄØPM"" src=""https://github.com/user-attachments/assets/4190e9b0-14fc-4b0f-b724-f65bbb3cc8fb"">

After
<img width=""368"" alt=""Screenshot 2024-11-15 at 8 48 53‚ÄØPM"" src=""https://github.com/user-attachments/assets/e87359d7-c862-489b-90e4-f10a48bf7a79"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-16 00:42:11+00:00,['alxnddr'],2024-11-18 20:04:34+00:00,2024-11-18 20:04:32+00:00,https://github.com/metabase/metabase/pull/50116,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2480253659, 'issue_id': 2663557775, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50412_tests-4c2cf623-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50116?repo=metabase/metabase&commitHash=4c2cf623b3fcb4d105ea0ac72f6b675b65856aa9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 16, 1, 11, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-16 01:11:29 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50412_tests-4c2cf623-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50116?repo=metabase/metabase&commitHash=4c2cf623b3fcb4d105ea0ac72f6b675b65856aa9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663535225,pull_request,closed,,Prevent an exception in api.table/batch-fetch-card-query-metadatas when cards is empty,"### Description

Closes #48461

Ensure we don't throw an exception by attempting to fetch an empty set of `Databases` associated with potentially-deleted card ids in api.table/batch-fetch-card-query-metadatas.

In particular, this ensures we don't generate an exception if the user does the following

1. Create a card ""Source Card""
2. Create another card ""Derived Card"" with a :source-table of ""Source Card""
3. Add Derived Card to a dashboard
4. Permanently delete (not just archive) the Source Card

### How to verify

Note that this actually won't reproduce if you do everything on v51+ due to changes in #46356 where we added a new `report_card.source_card_id` column with a corresponding ""ON DELETE CASCADE"" constraint (`fk_report_card_source_card_id_ref_report_card_id`), so that on v51+ when you delete the source card, the derived card is also deleted. No dangling card is left, which also fixes the bug as described in #48461.

In order to repro, you need start from v50 or earlier and do the steps described above or in the linked issue. If you then upgrade to v51, the card remains dangling and the dashboard is broken.

In addition, some of the new tests added in this PR do still trigger the bug even with cascading deletes of the source card, in particular the tests for the `POST ""/dataset/query_metadata""` and `GET ""/table/card__:id/query_metadata""` endpoints can still trigger the issue without this fix.


### Demo

Prior to this change, you might (depending on app DB) get an error like this one when attempting to view a dashboard that contained only ""dangling"" cards created via the above process.

<img width=""638"" alt=""Screenshot 2024-11-15 at 3 07 47‚ÄØPM"" src=""https://github.com/user-attachments/assets/839a8ff6-9b0e-43fa-8f92-6d0b9500506b"">

Whether you see an error depends on whether your DBMS is ok with a query like `SELECT * FROM ""metabase_database"" WHERE ""id"" IN ()`. E.g. Postgres considers it an error, but H2 is fine with it.

After this change, you'll instead see

<img width=""576"" alt=""Screenshot 2024-11-15 at 3 23 26‚ÄØPM"" src=""https://github.com/user-attachments/assets/4f5656b9-0911-4f2f-b762-e5faae1d403d"">

We still can't display the card, but the rest of the dashboard displays and you can remove the offending card(s).

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2024-11-16 00:13:08+00:00,['appleby'],2024-11-19 22:09:19+00:00,2024-11-19 22:09:17+00:00,https://github.com/metabase/metabase/pull/50115,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2480236689, 'issue_id': 2663535225, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114119_tests-8ad18600-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50115?repo=metabase/metabase&commitHash=8ad186006545d6140475f1910f71d978636e0b9b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 16, 0, 43, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-16 00:43:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114119_tests-8ad18600-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50115?repo=metabase/metabase&commitHash=8ad186006545d6140475f1910f71d978636e0b9b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663429231,pull_request,closed,,"ü§ñ backported ""fix: Sync postgres materialized view fields""",#50102,github-automation-metabase,2024-11-15 23:10:14+00:00,"['snoe', 'github-automation-metabase']",2024-11-18 07:09:41+00:00,2024-11-18 06:33:32+00:00,https://github.com/metabase/metabase/pull/50114,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2480145229, 'issue_id': 2663429231, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/100822_tests-b96a8b57-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > line/bar chart > tooltips > single series question on dashboard should show updated column titles in tooltips after ed...</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50114?repo=metabase/metabase&commitHash=b96a8b570037309679e6ac7bcc4cdd210d59e5f9&utm_source=gh-comment&runConclusion=FAILURE&runId=f00f4fc9-8d6e-5a8c-9280-fcc108f354db) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50114?repo=metabase/metabase&commitHash=b96a8b570037309679e6ac7bcc4cdd210d59e5f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 23, 43, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 23:43:41 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/100822_tests-b96a8b57-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > line/bar chart > tooltips > single series question on dashboard should show updated column titles in tooltips after ed...</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50114?repo=metabase/metabase&commitHash=b96a8b570037309679e6ac7bcc4cdd210d59e5f9&utm_source=gh-comment&runConclusion=FAILURE&runId=f00f4fc9-8d6e-5a8c-9280-fcc108f354db) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50114?repo=metabase/metabase&commitHash=b96a8b570037309679e6ac7bcc4cdd210d59e5f9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663334187,pull_request,closed,,[Metabot] Fix e2e failures,"This PR fixes the failing e2e tests for the metabot branch by:
1. Reverting defining current page name / description via a `Route` component. Explanation on why this necessary is commented below. 
2. Disabling the enterprises e2e tests for metabot. The token feature has been disabled so they fail, but our unit test cover most everything in those tests for right now to there's no real loss for the moment.
3. Fix failures around people page refactor",sloansparger,2024-11-15 22:31:23+00:00,['sloansparger'],2024-11-22 21:10:03+00:00,2024-11-22 21:10:02+00:00,https://github.com/metabase/metabase/pull/50112,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2480113642, 'issue_id': 2663334187, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13190_tests-ee586e95-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50112?repo=metabase/metabase&commitHash=ee586e95fa906e456f948a90ef5fb037526f2c84&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 23, 15, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 23:15:39 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13190_tests-ee586e95-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50112?repo=metabase/metabase&commitHash=ee586e95fa906e456f948a90ef5fb037526f2c84&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663275303,pull_request,closed,,"ü§ñ backported ""XLSX Pivot Export - Initialize Pivot Table with Small Area Ref""",#50060,github-automation-metabase,2024-11-15 21:55:39+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-15 23:28:56+00:00,2024-11-15 23:23:59+00:00,https://github.com/metabase/metabase/pull/50111,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2480069954, 'issue_id': 2663275303, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2_tests-552bfcb1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50111?repo=metabase/metabase&commitHash=552bfcb14f36843c7cf9b5d78650ae3e8b15ec28&utm_source=gh-comment&runConclusion=FAILURE&runId=ba0cf7f8-2df4-5109-a0af-566cb7fae8a0) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details calculates a row after scrolling correctly (metabase\\$148323)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50111?repo=metabase/metabase&commitHash=552bfcb14f36843c7cf9b5d78650ae3e8b15ec28&utm_source=gh-comment&runConclusion=FAILURE&runId=a5ebe578-fb9a-549b-b2f8-0cdce38f7265) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50111?repo=metabase/metabase&commitHash=552bfcb14f36843c7cf9b5d78650ae3e8b15ec28&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 22, 44, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 22:44:09 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2_tests-552bfcb1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50111?repo=metabase/metabase&commitHash=552bfcb14f36843c7cf9b5d78650ae3e8b15ec28&utm_source=gh-comment&runConclusion=FAILURE&runId=ba0cf7f8-2df4-5109-a0af-566cb7fae8a0) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details calculates a row after scrolling correctly (metabase\$148323)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50111?repo=metabase/metabase&commitHash=552bfcb14f36843c7cf9b5d78650ae3e8b15ec28&utm_source=gh-comment&runConclusion=FAILURE&runId=a5ebe578-fb9a-549b-b2f8-0cdce38f7265) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50111?repo=metabase/metabase&commitHash=552bfcb14f36843c7cf9b5d78650ae3e8b15ec28&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663247753,pull_request,closed,,"ü§ñ backported ""Unify TTLs for token check caching, simplify some code""",#49916,github-automation-metabase,2024-11-15 21:42:53+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-19 22:28:07+00:00,2024-11-19 21:46:30+00:00,https://github.com/metabase/metabase/pull/50110,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2480028917, 'issue_id': 2663247753, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3_tests-9e9aeac3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment&runConclusion=FAILURE&runId=9b9293b7-f5d2-5e10-af72-ec668b6f7b75) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment&runConclusion=FAILURE&runId=6b8117fd-f704-5964-adfa-ed1b55879343) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment&runConclusion=FAILURE&runId=dc7ceedb-0db3-5518-96c5-e08b446647a9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 22, 14, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 22:14:07 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3_tests-9e9aeac3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/3-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment&runConclusion=FAILURE&runId=9b9293b7-f5d2-5e10-af72-ec668b6f7b75) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment&runConclusion=FAILURE&runId=6b8117fd-f704-5964-adfa-ed1b55879343) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment&runConclusion=FAILURE&runId=dc7ceedb-0db3-5518-96c5-e08b446647a9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50110?repo=metabase/metabase&commitHash=9e9aeac3deddcf6bdd54ab870be6f3553020e30f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663169280,pull_request,closed,,Fix serdes of missing cards in click behavior,"When exporting a dashboard, we export its dashcards, including cards referenced inside its viz_settings.

The problem is that viz_settings might have references to now-nonexistent cards.

This is an initial stab at cleaning up the problem, specifically for click behavior. If Dashboard D has Dashcard DC, which has a click-behavior that links to Card C, then when we collect the descendants of D, we'll include a reference to C - even if C has been deleted.

So this makes two changes: first, when calculating the descendants of a dashcard, don't include links to cards that don't exist. And, when exporting the click behavior, remove the whole thing entirely if the card it points to doesn't exist.

Note that this is a bit hacky, and we're only solving the problem for click behaviors, not e.g. Card C uses card D as a source, and card D got deleted (which will trigger the same issue).

Fixes #49667",johnswanson,2024-11-15 21:20:18+00:00,['johnswanson'],2024-11-21 14:17:00+00:00,2024-11-21 13:23:07+00:00,https://github.com/metabase/metabase/pull/50108,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2479981952, 'issue_id': 2663169280, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/6483_tests-b830c4a7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50108?repo=metabase/metabase&commitHash=b830c4a71485b281868c8f9c8b4c431d5534910b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 21, 45, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 21:45:14 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/6483_tests-b830c4a7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50108?repo=metabase/metabase&commitHash=b830c4a71485b281868c8f9c8b4c431d5534910b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663145947,pull_request,closed,,"ü§ñ backported ""Make sure the query to fetch result_metadata for native sandboxes doesn't use the streaming results handler""",#50049,github-automation-metabase,2024-11-15 21:10:31+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-15 22:12:26+00:00,2024-11-15 21:52:26+00:00,https://github.com/metabase/metabase/pull/50107,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2479980418, 'issue_id': 2663145947, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/28202_tests-d0244504-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50107?repo=metabase/metabase&commitHash=d0244504073c3888e9f6cde0883368047ce33ffc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 21, 43, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 21:43:58 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/28202_tests-d0244504-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50107?repo=metabase/metabase&commitHash=d0244504073c3888e9f6cde0883368047ce33ffc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663100652,pull_request,closed,,Bring back change-chart-appearance tool,,ranquild,2024-11-15 20:43:45+00:00,['ranquild'],2024-11-15 22:02:23+00:00,2024-11-15 20:51:22+00:00,https://github.com/metabase/metabase/pull/50104,"[('.Team/Querying', '')]","[{'comment_id': 2479936573, 'issue_id': 2663100652, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/188_tests-ba61b079-purple) &ensp; ![Static Badge](https://img.shields.io/badge/187-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=ec98c1b5-a5e2-5999-a4c2-2f393e567b73) |\n| <code>issue 45924 should preserve model metadata when re-running the query (metabase\\$145924)</code> | The test timed out while trying to find an element with the text \'ID1\' and could not find it. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=a76dbf35-c60b-5a54-88e1-cd3f5451ca5b) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> | The expected content \'/open editor/i was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=14eff728-92ba-57d7-b966-4a4918ff45cc) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> | The expected content \'/open editor/i was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=b07035d2-b643-5fe4-ba07-5b4fa7089a69) |\n\n[... and 183 more](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=ce78cd62-60c0-5293-8641-0148bbccab4b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 21, 14, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 21:14:47 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/188_tests-ba61b079-purple) &ensp; ![Static Badge](https://img.shields.io/badge/187-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=ec98c1b5-a5e2-5999-a4c2-2f393e567b73) |
| <code>issue 45924 should preserve model metadata when re-running the query (metabase\$145924)</code> | The test timed out while trying to find an element with the text 'ID1' and could not find it. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=a76dbf35-c60b-5a54-88e1-cd3f5451ca5b) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> | The expected content '/open editor/i was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=14eff728-92ba-57d7-b966-4a4918ff45cc) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> | The expected content '/open editor/i was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=b07035d2-b643-5fe4-ba07-5b4fa7089a69) |

[... and 183 more](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment&runConclusion=FAILURE&runId=ce78cd62-60c0-5293-8641-0148bbccab4b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50104?repo=metabase/metabase&commitHash=ba61b079f8839bc9c639de88ed327777d6aa5c91&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663094724,pull_request,closed,,"ü§ñ backported ""XLSX Pivot Exports Now Use The Sort Settings from Viz Settings""",#50099,github-automation-metabase,2024-11-15 20:40:43+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-15 22:24:43+00:00,2024-11-15 21:33:20+00:00,https://github.com/metabase/metabase/pull/50103,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2479934776, 'issue_id': 2663094724, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12720_tests-bd0a13ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50103?repo=metabase/metabase&commitHash=bd0a13cae67eb488e3e04f2985f31ad6b4a8c6c9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 21, 13, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 21:13:25 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12720_tests-bd0a13ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50103?repo=metabase/metabase&commitHash=bd0a13cae67eb488e3e04f2985f31ad6b4a8c6c9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663080954,pull_request,closed,,fix: Sync postgres materialized view fields,"Fixes: #49912
",snoe,2024-11-15 20:35:53+00:00,['snoe'],2024-11-15 23:53:31+00:00,2024-11-15 23:09:19+00:00,https://github.com/metabase/metabase/pull/50102,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2479937296, 'issue_id': 2663080954, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113995_tests-66b8da5b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50102?repo=metabase/metabase&commitHash=66b8da5bd8207ba7483f75fee13f54142d0be529&utm_source=gh-comment&runConclusion=FAILURE&runId=8b980f98-1edf-5631-806b-a04c3da1ef49) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50102?repo=metabase/metabase&commitHash=66b8da5bd8207ba7483f75fee13f54142d0be529&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 21, 15, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 21:15:19 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113995_tests-66b8da5b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50102?repo=metabase/metabase&commitHash=66b8da5bd8207ba7483f75fee13f54142d0be529&utm_source=gh-comment&runConclusion=FAILURE&runId=8b980f98-1edf-5631-806b-a04c3da1ef49) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50102?repo=metabase/metabase&commitHash=66b8da5bd8207ba7483f75fee13f54142d0be529&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2663043038,pull_request,closed,,"ü§ñ backported ""Merge login_attributes when updating existing users via config file""",#50050,github-automation-metabase,2024-11-15 20:32:16+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-15 22:08:56+00:00,2024-11-15 22:08:55+00:00,https://github.com/metabase/metabase/pull/50101,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2479936682, 'issue_id': 2663043038, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-b048f704-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50101?repo=metabase/metabase&commitHash=b048f704f3637966e74f80c6d062cbf531f2a83d&utm_source=gh-comment&runConclusion=FAILURE&runId=b40a18b9-e058-5a06-b3c1-d286940da56c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50101?repo=metabase/metabase&commitHash=b048f704f3637966e74f80c6d062cbf531f2a83d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 21, 14, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 21:14:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-b048f704-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50101?repo=metabase/metabase&commitHash=b048f704f3637966e74f80c6d062cbf531f2a83d&utm_source=gh-comment&runConclusion=FAILURE&runId=b40a18b9-e058-5a06-b3c1-d286940da56c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50101?repo=metabase/metabase&commitHash=b048f704f3637966e74f80c6d062cbf531f2a83d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662997012,pull_request,closed,,[refs] Ensure all column-creating clauses have idents on read,"Closes #49684.

### Description

Ensure all column-creating clauses have idents on read.

That is: aggregations, breakouts, expressions and joins.

Nothing is consuming these yet, but the BE populates them when reading cards.

#### MBQL changes

These new `:ident`s have been present for new clauses for a few weeks, but now they'll be generated for existing queries on read.

The new idents are stable, including across serialization. They aren't written back until the card is saved again.

#### Backfilling

Here's the constraints for generating idents for pre-existing clauses:

- If the same query exists across serdes instances, produce the same ident
- Globally unique, even if:
    - two cards have identical queries
    - two stages of the same card have identical `:count` aggregations.
    - a single stage has multiple aggregations of the same type
    - a single stage has duplicate breakouts with different time granularity
- Never change, even if the query does
    - mbql-lib assumes these are (in theory) randomly generated, and never examines or updates them.
    - If new clauses are added, they get random idents.
    - If clauses are removed, that's no problem.
    - If clauses are edited (eg. changing an expression name) then the BE *would* generate a new ident!
        - But when the card gets saved, the original ident with the original expression name is enshrined forever as the ident - it just needs to be unique!

The backfilled idents have this form:

```clojure
""${kind}_${entity_id of the card}@${stage-number}__${name or index}""
;; eg. 
""aggregation_ThisIsAValidNanoIdxxx@0__1""
""breakout_ThisIsAValidNanoIdxxx@1__1""
""expression_ThisIsAValidNanoIdxxx@0__exprname""
""join_ThisIsAValidNanoIdxxx@1__alias""
```

I think I have achieved these goals with that plan and its implementation, but I would appreciate more eyeballs on both!

### How to verify

Cards returned from the API should now have `:aggregation-idents` et al in their legacy MBQL on the wire.

Try editing an expression's name, and it should get saved in appdb with the original name as its generated key.

**New clauses** still get randomly generated IDs - these backfilled names are just for pre-existing clauses that
now need IDs.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-15 20:00:40+00:00,['bshepherdson'],2024-12-31 17:18:38+00:00,2024-12-31 16:47:04+00:00,https://github.com/metabase/metabase/pull/50100,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2479827681, 'issue_id': 2662997012, 'author': 'bshepherdson', 'body': '* **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 15, 20, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479899371, 'issue_id': 2662997012, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131660_tests-b680fad7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 20, 46, 51, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-15 20:01:05 UTC): * **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-15 20:46:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131660_tests-b680fad7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50100?repo=metabase/metabase&commitHash=b680fad73862e629115106564fa1dac77e4c52b3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2662814472,pull_request,closed,,XLSX Pivot Exports Now Use The Sort Settings from Viz Settings,"Fixes #49416

Prior to this PR, the xlsx pivot exports worked correctly except for the fact that no sorting (ascending or descending) was applied to the pivot rows or columns. Now, those settings are used when they exist.

NOTE: I cannot create a unit test that inspects the appearance of a Pivot table in the xlsx file since its contents are not calculated. They only get calculated when the file is first opened by Excel or Numbers or Sheets, until then the pivot table is merely a definition.
",adam-james-v,2024-11-15 18:44:23+00:00,['adam-james-v'],2024-11-15 21:34:43+00:00,2024-11-15 20:39:55+00:00,https://github.com/metabase/metabase/pull/50099,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2479818399, 'issue_id': 2662814472, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113910_tests-88ba642b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50099?repo=metabase/metabase&commitHash=88ba642bc426794f371de44a02e604a5a6402035&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 19, 54, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 19:54:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113910_tests-88ba642b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50099?repo=metabase/metabase&commitHash=88ba642bc426794f371de44a02e604a5a6402035&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662789103,pull_request,closed,,docs - sdk cli guide,"- Updates docs on CLI quickstart.
- Cleans up some CLI copy.",jeff-bruemmer,2024-11-15 18:31:53+00:00,['jeff-bruemmer'],2024-11-18 17:21:55+00:00,2024-11-18 16:06:03+00:00,https://github.com/metabase/metabase/pull/50098,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2479683836, 'issue_id': 2662789103, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@jeff-bruemmer You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 15, 18, 32, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2480074917, 'issue_id': 2662789103, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-6d338813-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50098?repo=metabase/metabase&commitHash=6d33881315fb93c758ac2e47beebbad6c32788d1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 22, 47, 10, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-15 18:32:17 UTC): <!---conventional commit reminder comment ID-->
@jeff-bruemmer You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-15 22:47:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-6d338813-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50098?repo=metabase/metabase&commitHash=6d33881315fb93c758ac2e47beebbad6c32788d1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662762069,pull_request,closed,,"ü§ñ backported ""fix: MYSQL filter database with dbname in sync""",#50091,github-automation-metabase,2024-11-15 18:13:57+00:00,"['snoe', 'github-automation-metabase']",2024-11-15 19:53:03+00:00,2024-11-15 18:56:17+00:00,https://github.com/metabase/metabase/pull/50097,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2479702513, 'issue_id': 2662762069, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12720_tests-cc2d131e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50097?repo=metabase/metabase&commitHash=cc2d131e7fd2f2d0b440f54a71744b502a865cc3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 18, 44, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 18:44:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12720_tests-cc2d131e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50097?repo=metabase/metabase&commitHash=cc2d131e7fd2f2d0b440f54a71744b502a865cc3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662622141,pull_request,closed,,fix: MYSQL filter database with dbname in sync,"Fixes: #50072

When we `describe-fields` we are passing db details, but sometimes we have the database name in `dbname` rather than in `db` depending on the connection specs and possibly environment. So we check for both now.
",snoe,2024-11-15 17:15:05+00:00,['snoe'],2024-11-15 18:43:01+00:00,2024-11-15 18:13:00+00:00,https://github.com/metabase/metabase/pull/50091,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2479534388, 'issue_id': 2662622141, 'author': 'dpsutton', 'body': ""My only thought is if we should require that and error if it's not bound. I _think_ for mysql it would be safe to require? Unclear about anything that derives from mysql. Not sure if you have thoughts."", 'created_at': datetime.datetime(2024, 11, 15, 17, 33, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479650357, 'issue_id': 2662622141, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113910_tests-8b3fee5f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50091?repo=metabase/metabase&commitHash=8b3fee5fa6745ecc6f7c03b3ecd76c6803015047&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 18, 15, 16, tzinfo=datetime.timezone.utc)}]","dpsutton on (2024-11-15 17:33:08 UTC): My only thought is if we should require that and error if it's not bound. I _think_ for mysql it would be safe to require? Unclear about anything that derives from mysql. Not sure if you have thoughts.

trunk-io[bot] on (2024-11-15 18:15:16 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113910_tests-8b3fee5f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50091?repo=metabase/metabase&commitHash=8b3fee5fa6745ecc6f7c03b3ecd76c6803015047&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662617608,pull_request,closed,,"ü§ñ backported ""Omit database details from H2 dump when is_attached_dwh""",#50036,github-automation-metabase,2024-11-15 17:12:57+00:00,"['devurandom', 'github-automation-metabase']",2024-11-15 18:44:58+00:00,2024-11-15 17:57:54+00:00,https://github.com/metabase/metabase/pull/50089,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2479588836, 'issue_id': 2662617608, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12718_tests-b3abad40-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50089?repo=metabase/metabase&commitHash=b3abad407e2352a5ee70a1a2f6ed7ab334e16e1b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 17, 46, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 17:46:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12718_tests-b3abad40-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50089?repo=metabase/metabase&commitHash=b3abad407e2352a5ee70a1a2f6ed7ab334e16e1b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662481017,pull_request,closed,,feat(sdk): revamp CreateQuestion and create question behaviour,"Closes https://github.com/metabase/metabase/issues/50082

### Description

This PR updates the underlying implementation of the `CreateQuestion` component to use `InteractiveQuestion` directly, and alters the default behaviour for saving questions.

### How to verify

- Use the `<CreateQuestion />` component
- There should be the ""Show Visualization / Show Editor"" button instead of tabs
- When saving the question, the question title should update. It should NOT show ""Question not found""
- If you make a change to the saved question and click ""Save"" again, it should have the ""- Modified"" suffix

### Demo

[Private Loom](https://loom.com/share/aafc92798b814f56bd989765153920dc)

How it looks in Shoppy

![CleanShot 2567-11-20 at 02 58 41@2x](https://github.com/user-attachments/assets/a65690f9-c335-4bb8-a5ae-f7dfa5bfbf0b)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-11-15 16:25:30+00:00,['heypoom'],2024-11-20 18:11:59+00:00,2024-11-20 18:11:57+00:00,https://github.com/metabase/metabase/pull/50088,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2486633947, 'issue_id': 2662481017, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 893e297e0dc8adb9fdf6bace8e83c25745289f05...0d41095bdd089053a3a4766f5ee9368ff9655ca2.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 19, 20, 0, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486714271, 'issue_id': 2662481017, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/20_tests-0d41095b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > bar chart should allow grouping series into a single 'Other' series</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50088?repo=metabase/metabase&commitHash=0d41095bdd089053a3a4766f5ee9368ff9655ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=fc13441f-52c1-5b7e-9d72-c069736b5626) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50088?repo=metabase/metabase&commitHash=0d41095bdd089053a3a4766f5ee9368ff9655ca2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 19, 20, 44, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489254512, 'issue_id': 2662481017, 'author': 'heypoom', 'body': ""Merging this first to unblock the [Metabase 51 Release Webinar](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732110044487209). I'll address any follow-up change requests in a subsequent PR."", 'created_at': datetime.datetime(2024, 11, 20, 18, 11, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 20:00:41 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 893e297e0dc8adb9fdf6bace8e83c25745289f05...0d41095bdd089053a3a4766f5ee9368ff9655ca2.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |

trunk-io[bot] on (2024-11-19 20:44:03 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/20_tests-0d41095b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > bar chart should allow grouping series into a single 'Other' series</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50088?repo=metabase/metabase&commitHash=0d41095bdd089053a3a4766f5ee9368ff9655ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=fc13441f-52c1-5b7e-9d72-c069736b5626) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50088?repo=metabase/metabase&commitHash=0d41095bdd089053a3a4766f5ee9368ff9655ca2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-20 18:11:45 UTC): Merging this first to unblock the [Metabase 51 Release Webinar](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732110044487209). I'll address any follow-up change requests in a subsequent PR.

"
2662442802,pull_request,closed,,[refs] `lib.convert` preserves `:ident`s through a round trip,"**NOTE:** This PR got reverted by #51128 and the second edition is #51133.


Closes #49682. Closes #49683.

### Description

Updates `lib.convert` and legacy MBQL normalization to allow
`:ident`s, and fixes some QP middleware and utils so they can
still match up refs correctly.

No user-visible impact.

Newly created queries will have `:ident`s generated for joins,
aggregations, etc. by the previous query, and this will start
saving them into appDBs.

Pre-existing clauses don't have refs added yet.

### How to verify

Newly created ""columnar"" clauses (joins, aggregations, breakouts, expressions)
get `:ident`s generated by the lib, and these are now visible in legacy MBQL
and on the wire.

If you save a question, the generated `:ident`s will be returned when we read the
card again.

See the unit test changes for lots of examples of what this changed in legacy MBQL.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-15 16:05:37+00:00,['bshepherdson'],2024-12-19 20:17:09+00:00,2024-12-10 15:04:22+00:00,https://github.com/metabase/metabase/pull/50085,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2479317638, 'issue_id': 2662442802, 'author': 'bshepherdson', 'body': '* **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 15, 16, 5, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479409090, 'issue_id': 2662442802, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/138525_tests-1185581c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>identity-hash-test</code> | [object Object] | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=FAILURE&runId=64d3c23a-ee12-57ef-97c3-5d3040c6cfd7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 16, 44, 3, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-15 16:05:55 UTC): * **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-15 16:44:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/138525_tests-1185581c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>identity-hash-test</code> | [object Object] | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment&runConclusion=FAILURE&runId=64d3c23a-ee12-57ef-97c3-5d3040c6cfd7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50085?repo=metabase/metabase&commitHash=1185581ce8633fba2eed2f7f140bc3e32736f93e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2662419088,pull_request,closed,,"ü§ñ backported ""fix(sdk): remove `Cannot update a component XX while rendering a""",#50078,github-automation-metabase,2024-11-15 15:54:52+00:00,"['npretto', 'github-automation-metabase']",2024-11-15 17:26:37+00:00,2024-11-15 16:37:39+00:00,https://github.com/metabase/metabase/pull/50084,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2479415229, 'issue_id': 2662419088, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13106_tests-aca7c430-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50084?repo=metabase/metabase&commitHash=aca7c43009a8737049f3bd85a321145ccce7a9ce&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 16, 47, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 16:47:14 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13106_tests-aca7c430-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50084?repo=metabase/metabase&commitHash=aca7c43009a8737049f3bd85a321145ccce7a9ce&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662418924,pull_request,closed,,[refs] Generate idents for new clauses in MBQL lib,"Closes #49681.

### Description

Randomly generates NanoID `:ident`s for newly created clauses in the library.
Specifically, for expressions, aggregations, breakouts, and joins.
Adds MBQL lib unit tests for this behaviour.

Currently these idents are discarded during `lib.convert` and **don't
survive a round trip to legacy**. That will come with a later change.

### How to verify

Unit tests are passing. Click around in a query and observe these idents in the REPL.

Since they don't get converted to legacy, they don't reach the wire.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-15 15:54:48+00:00,['bshepherdson'],2024-12-19 20:17:08+00:00,2024-11-29 16:56:07+00:00,https://github.com/metabase/metabase/pull/50083,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2479292790, 'issue_id': 2662418924, 'author': 'bshepherdson', 'body': '* **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 15, 15, 55, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479409241, 'issue_id': 2662418924, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-974843f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 16, 44, 6, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-15 15:55:04 UTC): * **#50158** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50158?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50100** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50100?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50085** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50085?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50083** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50083?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-15 16:44:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-974843f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50083?repo=metabase/metabase&commitHash=974843f70fbc3faea0d8275bda3ce1a0896cd442&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2662221406,pull_request,closed,,ci: revert old jar path,revert path to the jar,uladzimirdev,2024-11-15 14:50:51+00:00,['uladzimirdev'],2024-11-26 18:51:17+00:00,2024-11-15 15:16:14+00:00,https://github.com/metabase/metabase/pull/50081,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]",[],
2662085509,pull_request,closed,,fix(sdk): populate the store with initial values from the config,"> [!NOTE]  
> I don't have a strong opinion on this refactor, feel free to suggest to not merge it.



I did this refactor while working on https://github.com/metabase/metabase/pull/50078, thinking it was needed, it turns out it wasn't needed as only the `api.basename` created issues if wrapped on a useEffect.

Since I had the code already ready I thought it was worth opening the pr anyway

The most useful thing of this refactor though is that we don't see the action in the redux log as we see directly the computed initial state",npretto,2024-11-15 14:06:45+00:00,['npretto'],2025-02-04 14:54:46+00:00,2024-12-03 13:25:19+00:00,https://github.com/metabase/metabase/pull/50079,"[('.Team/Embedding', '')]","[{'comment_id': 2479040277, 'issue_id': 2662085509, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-caa22699-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50079?repo=metabase/metabase&commitHash=caa226991b60e64e0468aaeede2bf328f0e14073&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 14, 40, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514552481, 'issue_id': 2662085509, 'author': 'npretto', 'body': ""This has conflicts and wasn't super important as it did nothing user facing, i'll close it for now"", 'created_at': datetime.datetime(2024, 12, 3, 13, 25, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 14:40:46 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-caa22699-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50079?repo=metabase/metabase&commitHash=caa226991b60e64e0468aaeede2bf328f0e14073&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2024-12-03 13:25:19 UTC): This has conflicts and wasn't super important as it did nothing user facing, i'll close it for now

"
2662051724,pull_request,closed,,fix(sdk): remove `Cannot update a component XX` error,"different component` error

This PR removes this error that shows up just by rendering the provider.

The issue is solved by adding back a useEffect I previously removed, but since doing something similar on the lines above introduces a bug (which is the reason I removed the useEffects) I added a test for that specific case

<img width=""1382"" alt=""image"" src=""https://github.com/user-attachments/assets/043c83cb-8854-45bb-9790-d54ffe7b93bb"">

# Demo
<img width=""698"" alt=""image"" src=""https://github.com/user-attachments/assets/9ce76d2d-0469-443c-a3d2-673b657a5604"">
",npretto,2024-11-15 13:54:30+00:00,['npretto'],2024-11-20 07:08:11+00:00,2024-11-15 15:54:03+00:00,https://github.com/metabase/metabase/pull/50078,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2479040460, 'issue_id': 2662051724, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-061b9fb1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50078?repo=metabase/metabase&commitHash=061b9fb11abf6aae60350c1558a3f98163cca74b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 14, 40, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 14:40:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-061b9fb1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50078?repo=metabase/metabase&commitHash=061b9fb11abf6aae60350c1558a3f98163cca74b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2662033138,pull_request,closed,,Fix flaky dashboard filter test,"### Description

Fixes top flaky test (see https://stats.metabase.com/question/18032 but exclude branches containing `metabot`).
Example failures:
- https://github.com/metabase/metabase/actions/runs/11846659470
- https://github.com/metabase/metabase/actions/runs/11857360075

### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11857429381
",kamilmielnik,2024-11-15 13:47:25+00:00,['kamilmielnik'],2024-11-18 09:09:21+00:00,2024-11-18 08:11:12+00:00,https://github.com/metabase/metabase/pull/50077,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]","[{'comment_id': 2478999950, 'issue_id': 2662033138, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3266_tests-63dc97c1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50077?repo=metabase/metabase&commitHash=63dc97c15d93823c8a4b3a9e7be264acb453be9e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 14, 19, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 14:19:08 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3266_tests-63dc97c1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50077?repo=metabase/metabase&commitHash=63dc97c15d93823c8a4b3a9e7be264acb453be9e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2661970639,pull_request,closed,,"ü§ñ backported ""Make SDK Next JS docs clearer""",#50068,github-automation-metabase,2024-11-15 13:20:49+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-18 06:04:10+00:00,2024-11-18 06:04:10+00:00,https://github.com/metabase/metabase/pull/50076,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2661746735,pull_request,closed,,"ü§ñ backported ""enforce key prop on tooltip row in echarts tooltip""",#50045,github-automation-metabase,2024-11-15 11:39:26+00:00,"['npretto', 'github-automation-metabase']",2024-11-15 12:48:17+00:00,2024-11-15 12:24:28+00:00,https://github.com/metabase/metabase/pull/50073,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2478631672, 'issue_id': 2661746735, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bf4c39f501459b877612da100c4c03c4b6f43a2d...9490c35c9321ecc93e02271d794bbe6e9cc197a6.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.tsx |', 'created_at': datetime.datetime(2024, 11, 15, 11, 40, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2478683644, 'issue_id': 2661746735, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37539_tests-9490c35c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50073?repo=metabase/metabase&commitHash=9490c35c9321ecc93e02271d794bbe6e9cc197a6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 12, 13, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-15 11:40:50 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bf4c39f501459b877612da100c4c03c4b6f43a2d...9490c35c9321ecc93e02271d794bbe6e9cc197a6.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.tsx |

trunk-io[bot] on (2024-11-15 12:13:17 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37539_tests-9490c35c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50073?repo=metabase/metabase&commitHash=9490c35c9321ecc93e02271d794bbe6e9cc197a6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2661541090,pull_request,closed,,Search Index recency ranker to use last-viewed-at,"The idea here is that we can put more weight on last-viewed time versus any old update (e.g. a migration)

~~I'm not sure how different these times will be in practice.~~

The difference can be quite large in practice!

```sql
select (d.updated_at - d.last_viewed_at) as updated_after from report_dashboard d order by updated_after desc;
```

```
117 days 4 hours 25 mins 26.3969 secs
101 days 0 hours 57 mins 38.19332 secs
97 days 21 hours 20 mins 26.857349 secs
....
-772 days -18 hours -43 mins -35.795375 secs
```

The negative records are surprising, I would expect us to bump updated_at whenever we view it?

In any case, this justifies the ranker change quite well.",crisptrutski,2024-11-15 10:30:24+00:00,['crisptrutski'],2024-11-26 18:51:18+00:00,2024-11-15 13:31:11+00:00,https://github.com/metabase/metabase/pull/50071,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2478585597, 'issue_id': 2661541090, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113887_tests-bcae0bb3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=bcae0bb3c2eaa45c6193ed84e1daf4b4ed744daa&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 11, 13, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2478585604, 'issue_id': 2661541090, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/105485_tests-0b2d9a77-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\$1text: queue\\$1test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [648966171566])) | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=0b2d9a772e0e9310d2c0492474da003bd4e36cfe&utm_source=gh-comment&runConclusion=FAILURE&runId=16571d74-f18f-5b9e-81e3-05047ad4a7fa) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\$114648)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=0b2d9a772e0e9310d2c0492474da003bd4e36cfe&utm_source=gh-comment&runConclusion=FAILURE&runId=8e6b969b-ac1c-5aec-9499-6e484d11cbe0) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=0b2d9a772e0e9310d2c0492474da003bd4e36cfe&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 11, 13, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 11:13:13 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113887_tests-bcae0bb3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=bcae0bb3c2eaa45c6193ed84e1daf4b4ed744daa&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-15 11:13:13 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/105485_tests-0b2d9a77-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\$1text: queue\$1test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [648966171566])) | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=0b2d9a772e0e9310d2c0492474da003bd4e36cfe&utm_source=gh-comment&runConclusion=FAILURE&runId=16571d74-f18f-5b9e-81e3-05047ad4a7fa) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\$114648)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=0b2d9a772e0e9310d2c0492474da003bd4e36cfe&utm_source=gh-comment&runConclusion=FAILURE&runId=8e6b969b-ac1c-5aec-9499-6e484d11cbe0) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50071?repo=metabase/metabase&commitHash=0b2d9a772e0e9310d2c0492474da003bd4e36cfe&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2661445391,pull_request,closed,,refactor(sdk): use ignore flag instead of mounted ref,"Better fix than  https://github.com/metabase/metabase/pull/49659

Literally what the docs tells to do: https://react.dev/learn/you-might-not-need-an-effect#fetching-data",npretto,2024-11-15 09:46:42+00:00,['npretto'],2024-11-19 10:20:30+00:00,2024-11-18 15:27:26+00:00,https://github.com/metabase/metabase/pull/50069,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2478481499, 'issue_id': 2661445391, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13171_tests-d54d735f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50069?repo=metabase/metabase&commitHash=d54d735fa91d0ea6295f90027daddbd0bd90822a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 10, 15, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 10:15:06 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13171_tests-d54d735f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50069?repo=metabase/metabase&commitHash=d54d735fa91d0ea6295f90027daddbd0bd90822a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2661282148,pull_request,closed,,Make SDK Next JS docs clearer,"Closes https://github.com/metabase/metabase/issues/50066

### Description

Based on this [discussion on Slack](https://metaboat.slack.com/archives/C063Q3F1HPF/p1731424484303689), it was confusing how to use Next.JS Pages Router. This PR consolidate the FE part for both App Router and Pages Router and leave the authentication parts for each router since they're defined differently.

I also found and fix some minor typos.

",WiNloSt,2024-11-15 08:49:43+00:00,['WiNloSt'],2024-11-15 13:20:02+00:00,2024-11-15 13:20:00+00:00,https://github.com/metabase/metabase/pull/50068,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2661268924,pull_request,closed,,fix: respect click behavior on public dashboards,"Closes https://github.com/metabase/metabase/issues/49776
closes https://github.com/metabase/metabase/issues/50086

### Description

~public or embedded dashboards do not allow drills so we removed the top level prop to allow drilling, at the same time this prop is used to calculate if the visualization clickable or not, so instead of huge and error-prone refactoring we decided to pass `noop` from top level as it's been done before.~

Later on we found some tests failing because of the metabase-lib which doesn't expect an empty query. So instead we decided to remove an unnecessary check 

### How to verify

follow steps from the issue

### Demo


https://github.com/user-attachments/assets/d2857b4b-21f8-4221-af87-ef2125f802e5



### Checklist

- [x] Tests have been added/updated to cover changes in this PR
- [x] [stress test](https://github.com/metabase/metabase/actions/runs/11863480424/job/33065013747)
",uladzimirdev,2024-11-15 08:44:33+00:00,['uladzimirdev'],2024-11-18 11:38:29+00:00,2024-11-18 11:21:43+00:00,https://github.com/metabase/metabase/pull/50067,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2478251141, 'issue_id': 2661268924, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e85e79c80d1468db442b71e5724752cea3655728...1653cb6d802c1d1e24e160d6f6007e87f0b9de28.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2024, 11, 15, 8, 46, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2478298564, 'issue_id': 2661268924, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13173_tests-1653cb6d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50067?repo=metabase/metabase&commitHash=1653cb6d802c1d1e24e160d6f6007e87f0b9de28&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 9, 10, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-15 08:46:08 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e85e79c80d1468db442b71e5724752cea3655728...1653cb6d802c1d1e24e160d6f6007e87f0b9de28.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

trunk-io[bot] on (2024-11-15 09:10:12 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13173_tests-1653cb6d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50067?repo=metabase/metabase&commitHash=1653cb6d802c1d1e24e160d6f6007e87f0b9de28&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2660644449,pull_request,closed,,Fix button group breaking,"Closes https://github.com/metabase/metabase/issues/50038

### Description

Does some small style changes to allow join picker buttons for long table names to look less broken.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Create two questions with long names
2. New -> Question -> One of the questions 
3. Join -> The other question

Make sure the buttons don't look disjointed and broken.

### Demo

##### Before
<img width=""1474"" alt=""Screenshot 2024-11-15 at 14 53 47"" src=""https://github.com/user-attachments/assets/e4346937-af55-4843-b1dc-a6d906aef9a4"">

##### After 

<img width=""1474"" alt=""Screenshot 2024-11-15 at 14 53 40"" src=""https://github.com/user-attachments/assets/e4918732-a5cf-46f5-89da-3ef16f072b73"">
",romeovs,2024-11-15 03:54:54+00:00,['romeovs'],2024-11-18 10:54:49+00:00,2024-11-18 10:54:43+00:00,https://github.com/metabase/metabase/pull/50064,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/Querying', '')]","[{'comment_id': 2477949649, 'issue_id': 2660644449, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13175_tests-fb619442-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50064?repo=metabase/metabase&commitHash=fb619442f3acf5714c8e6f689e35de16b05a44cc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 4, 42, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 04:42:16 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13175_tests-fb619442-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50064?repo=metabase/metabase&commitHash=fb619442f3acf5714c8e6f689e35de16b05a44cc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2660503683,pull_request,closed,,Fix building with Java 11 and stop using Depstar,"Removes usage of depstar, now we use `tools.build` directly.
Fixes #48390

Fixes issues with tools like `jar uf` not working with Java 11 -- makes https://github.com/metabase/metabase-ee-extra/issues/44 fixable

The main fix here is to strip out `META-INF/versions/*/module-info.class` files from the artifact since we don't have a modular jar, aren't doing anything fancy to merge the module files, and this breaks stuff like `jar uf` on older java versions. 

See https://metaboat.slack.com/archives/C5XHN8GLW/p1731631694802179?thread_ts=1731504670.951389&cid=C5XHN8GLW for more info

I was able to debug this all from the REPL (thanks Clojure build scripts! see also #50061) and am checking in some extra tools I wrote to debug this stuff -- `dev.build.check-class-file-versions` is not part of the fix but is useful for debugging so I'll leave it in.",camsaul,2024-11-15 01:59:03+00:00,['camsaul'],2024-11-27 15:32:44+00:00,2024-11-27 15:32:43+00:00,https://github.com/metabase/metabase/pull/50062,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2477842725, 'issue_id': 2660503683, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-3d0482ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>last-edited-at-correctness-test</code> | The expected result of a search query did not match the actual result. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=276dc0f3-a290-5353-8123-9d0be799d3be) |\n| <code>created-at-correctness-test</code> | Expected set to be equal to another set, but actual set is empty. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=b85a51a2-97dc-5a4b-9917-cddad5970bf5) |\n| <code>identity-hash-test</code> | The calculated hash of a dashboard does not match the expected hash. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=9af98a6a-4131-5193-832f-da50b470dd2f) |\n| <code>identity-hash-test</code> | The hash of a top-level collection was not correctly composed, expecting 'ROOT' as the parent hash. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=9056a438-d22a-5db7-ac61-48f65cebcdec) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 15, 2, 43, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477985101, 'issue_id': 2660503683, 'author': 'dpsutton', 'body': ""I think some things are missing from the jar.\r\n\r\nIn the test failures are lots of errors like\r\n\r\n```\r\n%d [%thread] %-5level %logger - %msg%n java.io.FileNotFoundException: /metabase/email/dashboard_subscription.hbs\r\n\tat com.github.jknack.handlebars.io.URLTemplateLoader.sourceAt(URLTemplateLoader.java:70) ~[metabase.jar:?]\r\n\tat com.github.jknack.handlebars.Handlebars.compile(Handlebars.java:500) ~[metabase.jar:?]\r\n\tat com.github.jknack.handlebars.Handlebars.compile(Handlebars.java:481) ~[metabase.jar:?]\r\n\tat metabase.channel.template.handlebars$render.invokeStatic(handlebars.clj:41) ~[metabase.jar:?]\r\n...\r\n```\r\n\r\nThis file is in https://github.com/metabase/metabase/tree/master/src/metabase/email. It's in the jar made by the latest commit on master but it's not in the jar made here for some reason."", 'created_at': datetime.datetime(2024, 11, 15, 5, 22, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2478124957, 'issue_id': 2660503683, 'author': 'camsaul', 'body': 'Ok the switch from `depstar` to tools.build is probably doing something unexpected', 'created_at': datetime.datetime(2024, 11, 15, 7, 25, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2480004661, 'issue_id': 2660503683, 'author': 'camsaul', 'body': ""Ok I concluded that the `tools.build` version of `uber` doesn't copy resources the way the Depstar did, you have to do it as part of `b/copy-dir` (which we were already doing for `resources`)... I'll update the build script and it should be fixed"", 'created_at': datetime.datetime(2024, 11, 15, 21, 58, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503924126, 'issue_id': 2660503683, 'author': 'piranha', 'body': 'The test failures seems weird and feel like there is nothing to do with the changes themselves. :\\ The weirdest part is that after this was merged into #46309 it encountered no test failures.', 'created_at': datetime.datetime(2024, 11, 27, 13, 47, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 02:43:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-3d0482ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>last-edited-at-correctness-test</code> | The expected result of a search query did not match the actual result. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=276dc0f3-a290-5353-8123-9d0be799d3be) |
| <code>created-at-correctness-test</code> | Expected set to be equal to another set, but actual set is empty. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=b85a51a2-97dc-5a4b-9917-cddad5970bf5) |
| <code>identity-hash-test</code> | The calculated hash of a dashboard does not match the expected hash. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=9af98a6a-4131-5193-832f-da50b470dd2f) |
| <code>identity-hash-test</code> | The hash of a top-level collection was not correctly composed, expecting 'ROOT' as the parent hash. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE&runId=9056a438-d22a-5db7-ac61-48f65cebcdec) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50062?repo=metabase/metabase&commitHash=3d0482ce3f764a8981fb024557689389f3883e13&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

dpsutton on (2024-11-15 05:22:13 UTC): I think some things are missing from the jar.

In the test failures are lots of errors like

```
%d [%thread] %-5level %logger - %msg%n java.io.FileNotFoundException: /metabase/email/dashboard_subscription.hbs
	at com.github.jknack.handlebars.io.URLTemplateLoader.sourceAt(URLTemplateLoader.java:70) ~[metabase.jar:?]
	at com.github.jknack.handlebars.Handlebars.compile(Handlebars.java:500) ~[metabase.jar:?]
	at com.github.jknack.handlebars.Handlebars.compile(Handlebars.java:481) ~[metabase.jar:?]
	at metabase.channel.template.handlebars$render.invokeStatic(handlebars.clj:41) ~[metabase.jar:?]
...
```

This file is in https://github.com/metabase/metabase/tree/master/src/metabase/email. It's in the jar made by the latest commit on master but it's not in the jar made here for some reason.

camsaul (Issue Creator) on (2024-11-15 07:25:32 UTC): Ok the switch from `depstar` to tools.build is probably doing something unexpected

camsaul (Issue Creator) on (2024-11-15 21:58:27 UTC): Ok I concluded that the `tools.build` version of `uber` doesn't copy resources the way the Depstar did, you have to do it as part of `b/copy-dir` (which we were already doing for `resources`)... I'll update the build script and it should be fixed

piranha on (2024-11-27 13:47:57 UTC): The test failures seems weird and feel like there is nothing to do with the changes themselves. :\ The weirdest part is that after this was merged into #46309 it encountered no test failures.

"
2660410612,pull_request,closed,,XLSX Pivot Export - Initialize Pivot Table with Small Area Ref,"Fixes #49977

This PR changes the native pivot export so that we first initialize the pivot table with an area ref that's only the first 2 rows. Prior, I used `AreaReference/GetWholecolumn` which had the side effect of using lots of memory.

I think this is related to how the Pivot Table's Cache is built up as you add rows/cols to the pivot definition. So, if you keep the area ref only as wide as the number of columns in the raw data, and just 2 rows, then the cache can stay small.

After adding row/column data to the pivot table, you can then modify the area ref to be all rows in the relevant columns (`A:E` for example).

This keeps the pivot-table object much smaller in size.",adam-james-v,2024-11-15 00:19:26+00:00,['adam-james-v'],2024-11-15 22:37:30+00:00,2024-11-15 21:54:47+00:00,https://github.com/metabase/metabase/pull/50060,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2479754718, 'issue_id': 2660410612, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113952_tests-406cb331-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50060?repo=metabase/metabase&commitHash=406cb3313b3c9395833bf1901f973378ba4543ff&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 19, 15, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 19:15:49 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113952_tests-406cb331-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50060?repo=metabase/metabase&commitHash=406cb3313b3c9395833bf1901f973378ba4543ff&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2660220984,pull_request,closed,,"ü§ñ backported ""fix hiding incorrect y-axis on hover""",#49920,github-automation-metabase,2024-11-14 22:33:32+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-15 00:08:58+00:00,2024-11-14 23:15:12+00:00,https://github.com/metabase/metabase/pull/50059,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2477541852, 'issue_id': 2660220984, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 662a57dc31b13ebeb24cfa7c1392f44bd06a4cbe...5af6444db91b434627200a680b7a701a717b3699.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts |', 'created_at': datetime.datetime(2024, 11, 14, 22, 34, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477601742, 'issue_id': 2660220984, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37539_tests-5af6444d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50059?repo=metabase/metabase&commitHash=5af6444db91b434627200a680b7a701a717b3699&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 23, 18, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-14 22:34:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 662a57dc31b13ebeb24cfa7c1392f44bd06a4cbe...5af6444db91b434627200a680b7a701a717b3699.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts |

trunk-io[bot] on (2024-11-14 23:18:45 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37539_tests-5af6444d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50059?repo=metabase/metabase&commitHash=5af6444db91b434627200a680b7a701a717b3699&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2660135828,pull_request,closed,,docs: use checkmark icons,Docs side followup to https://github.com/metabase/metabase.github.io/pull/3832,alexyarosh,2024-11-14 21:34:44+00:00,['alexyarosh'],2025-01-08 18:42:33+00:00,2025-01-08 18:42:33+00:00,https://github.com/metabase/metabase/pull/50058,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2660045284,pull_request,closed,,"ü§ñ backported ""docs - note on downloads""",#50055,github-automation-metabase,2024-11-14 20:56:05+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-14 20:57:49+00:00,2024-11-14 20:57:48+00:00,https://github.com/metabase/metabase/pull/50056,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2660030057,pull_request,closed,,docs - note on downloads,Adds note about data downloads/exports in embedding comparison table.,jeff-bruemmer,2024-11-14 20:47:34+00:00,['jeff-bruemmer'],2024-11-14 20:58:14+00:00,2024-11-14 20:55:18+00:00,https://github.com/metabase/metabase/pull/50055,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2660016501,pull_request,closed,,"ü§ñ backported ""Typo in doc ""Introduction to dashboards""""",#50043,github-automation-metabase,2024-11-14 20:39:58+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-14 20:41:52+00:00,2024-11-14 20:41:51+00:00,https://github.com/metabase/metabase/pull/50054,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2660013306,pull_request,closed,,feat(sdk): Chart Type Selector List,"Adds `ChartTypeSelectorList` to the Interactive Question view.


https://github.com/user-attachments/assets/446a2a82-d647-4374-9027-76c2e7ad8720

I think there is a _slight_ lag when changing the visualizations - we should address this but in a different PR.


",oisincoveney,2024-11-14 20:38:09+00:00,['oisincoveney'],2024-11-21 20:13:36+00:00,2024-11-21 19:48:22+00:00,https://github.com/metabase/metabase/pull/50053,"[('.Team/Embedding', '')]","[{'comment_id': 2483418672, 'issue_id': 2660013306, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13253_tests-0b73e1e4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50053?repo=metabase/metabase&commitHash=0b73e1e43bcca0f9b99de58380485970f1f32fa7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 15, 43, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 15:43:36 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13253_tests-0b73e1e4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50053?repo=metabase/metabase&commitHash=0b73e1e43bcca0f9b99de58380485970f1f32fa7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2660006371,pull_request,closed,,"ü§ñ backported ""Add multi-step popover for default view components""",#50018,github-automation-metabase,2024-11-14 20:35:53+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-14 22:01:51+00:00,2024-11-14 21:19:09+00:00,https://github.com/metabase/metabase/pull/50052,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2477430858, 'issue_id': 2660006371, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13104_tests-6da4f30a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50052?repo=metabase/metabase&commitHash=6da4f30a2672b52294046569013eb4c68ca64d39&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 21, 20, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 21:20:08 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13104_tests-6da4f30a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50052?repo=metabase/metabase&commitHash=6da4f30a2672b52294046569013eb4c68ca64d39&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659957583,pull_request,closed,,Use Java 17 to run the EE extras build steps,"In the build process for the ee-extras uberjar we run `jar uf ...` to add partner drivers to the uberjar. This fails with Java 11 because apparently `jar uf` verifies every class file in the uberjar and something in there has version 61 (Java 17) bytecode. Why does it need to do this when it's basically just adding files to a ZIP file? Who knows, but there seems to be no way to disable the verification. 

I'm still investigating who the naughty class is but I'm guessing it's something selectively loaded based on Java version because the JAR does in fact work fine on Java 11.

We were using Java 17 in the first place for this job before I bumped it to 21 in #48854 and then downgraded it to 11 in #49975. So this is reverting those changes back to what they were last week to get things working again.

Note that this is really just kicking the can down the road, if we get a Java 21+ class in a dep in the future then Java 17 is probably going to start failing here too. But that's a problem for another day. 

See Slacc thread https://metaboat.slack.com/archives/C5XHN8GLW/p1731504670951389 for more discussion ",camsaul,2024-11-14 20:24:23+00:00,['camsaul'],2024-11-26 18:51:19+00:00,2024-11-14 20:38:08+00:00,https://github.com/metabase/metabase/pull/50051,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]",[],
2659923814,pull_request,closed,,Merge login_attributes when updating existing users via config file,"If we're updating an existing user on startup via the config file, merge `login_attributes` instead of entirely overwriting them.

Slack thread: https://metaboat.slack.com/archives/C01LQQ2UW03/p1731546332879779?thread_ts=1731533299.724969&cid=C01LQQ2UW03",noahmoss,2024-11-14 20:03:32+00:00,['noahmoss'],2024-11-15 22:09:20+00:00,2024-11-15 20:31:14+00:00,https://github.com/metabase/metabase/pull/50050,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2477305395, 'issue_id': 2659923814, 'author': 'noahmoss', 'body': '* **#50050** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50050?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50050?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 14, 20, 3, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477409917, 'issue_id': 2659923814, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-0f413b0e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50050?repo=metabase/metabase&commitHash=0f413b0efc6c32ce6eac2ed3ca3ec82cf3a2c9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=db321109-d72f-523c-b27d-dc61a77ebc94) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50050?repo=metabase/metabase&commitHash=0f413b0efc6c32ce6eac2ed3ca3ec82cf3a2c9e1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 21, 6, 52, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-14 20:03:50 UTC): * **#50050** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50050?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50050?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-14 21:06:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-0f413b0e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50050?repo=metabase/metabase&commitHash=0f413b0efc6c32ce6eac2ed3ca3ec82cf3a2c9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=db321109-d72f-523c-b27d-dc61a77ebc94) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50050?repo=metabase/metabase&commitHash=0f413b0efc6c32ce6eac2ed3ca3ec82cf3a2c9e1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659835071,pull_request,closed,,Make sure the query to fetch result_metadata for native sandboxes doesn't use the streaming results handler,"Fixes https://github.com/metabase/metabase/issues/49985, https://github.com/metabase/metabase/issues/38888 and https://github.com/metabase/metabase/issues/49671

Slack thread: https://metaboat.slack.com/archives/C064EB1UE5P/p1731532799297809

If a native sandbox doesn't have query metadata saved, it fires off another query to fetch it, in the course of executing the outer (sandboxed) query. But the streaming code binds `qp.pipeline/*result*` to its own handler (`streaming-result-fn`) which calls `finish!` on the streaming results-writer.

So essentially the inner query to fetch query metadata was prematurely terminating the stream. And when the outer query finishes, it doesn't have anything to terminate, leading to a JSON-writing error. My fix here is to reset the `*result*` var to its default implementation before we run the inner query to fetch the metadata.

I've also re-enabled an e2e test that had been originally disabled due to this issue. It actually seemed to be working fine even without this fix, so maybe it had been inadvertently fixed for some other reason in the past, but that's why there are two other issues that this closes. Also added a backend test, and re-enabled a separate (unrelated) e2e reproduction that had previously been fixed for good measure.",noahmoss,2024-11-14 19:24:02+00:00,['noahmoss'],2024-11-15 21:40:02+00:00,2024-11-15 21:09:42+00:00,https://github.com/metabase/metabase/pull/50049,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2477235697, 'issue_id': 2659835071, 'author': 'noahmoss', 'body': '* **#50049** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50049?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50049?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 14, 19, 24, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477400115, 'issue_id': 2659835071, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/107161_tests-0368b4d2-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50049?repo=metabase/metabase&commitHash=0368b4d2e4dc6ad997d27cbeaf10429f6df236b5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 21, 0, 23, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-14 19:24:21 UTC): * **#50049** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50049?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50049?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-14 21:00:23 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/107161_tests-0368b4d2-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50049?repo=metabase/metabase&commitHash=0368b4d2e4dc6ad997d27cbeaf10429f6df236b5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659682045,pull_request,closed,,Command Palette Search result order,"Closes https://github.com/metabase/metabase/issues/49766

### Description
With how the command palette is set up, when you perform a search it has it's own way of matching a query to an action. This can cause the order to change from what the API has returned, to what the Command Palette library thinks is a better order. This PR links the priority of the search results to their index, making the results returned in the `Search Results` section mirror what the API returned

### How to verify

1. Open the Command Palette
2. Enter a search query, and click ""View All Results""
3. Open the command palette again and re-enter the query, you should see the results in the search app are the same as what's in the palette

### Demo
![image](https://github.com/user-attachments/assets/9a480bc8-c6ff-4c18-be27-a8fb9feb0f79)
![image](https://github.com/user-attachments/assets/b151189c-1a50-4a67-af70-a4ebb7b7d52c)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-11-14 18:31:19+00:00,['npfitz'],2024-11-18 15:33:47+00:00,2024-11-18 15:33:45+00:00,https://github.com/metabase/metabase/pull/50048,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2477221051, 'issue_id': 2659682045, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13300_tests-1bf328d6-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50048?repo=metabase/metabase&commitHash=1bf328d6fbe0ef2e85102c9168c7afaa381039ad&utm_source=gh-comment&runConclusion=FAILURE&runId=14316cdc-7ba2-50bf-895a-6c71819b1869) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50048?repo=metabase/metabase&commitHash=1bf328d6fbe0ef2e85102c9168c7afaa381039ad&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 19, 15, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2478201471, 'issue_id': 2659682045, 'author': 'uladzimirdev', 'body': '~@npfitz probably the issue link is wrong~ fixed', 'created_at': datetime.datetime(2024, 11, 15, 8, 15, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479255233, 'issue_id': 2659682045, 'author': 'npfitz', 'body': 'Haha, shoot. Thanks @uladzimirdev', 'created_at': datetime.datetime(2024, 11, 15, 15, 41, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 19:15:59 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13300_tests-1bf328d6-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50048?repo=metabase/metabase&commitHash=1bf328d6fbe0ef2e85102c9168c7afaa381039ad&utm_source=gh-comment&runConclusion=FAILURE&runId=14316cdc-7ba2-50bf-895a-6c71819b1869) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50048?repo=metabase/metabase&commitHash=1bf328d6fbe0ef2e85102c9168c7afaa381039ad&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

uladzimirdev on (2024-11-15 08:15:24 UTC): ~@npfitz probably the issue link is wrong~ fixed

npfitz (Issue Creator) on (2024-11-15 15:41:32 UTC): Haha, shoot. Thanks @uladzimirdev

"
2659673866,pull_request,open,,[Do not merge] Trying to resolve the java version stuff in CI,,luizarakaki,2024-11-14 18:26:50+00:00,['luizarakaki'],2024-11-26 21:34:11+00:00,,https://github.com/metabase/metabase/pull/50047,[],"[{'comment_id': 2477218473, 'issue_id': 2659673866, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/21_tests-7fc308d4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search applying search filters created\\$1by filter should filter results by more than one user</code> | Unable to find an element with the expected text, timed out after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50047?repo=metabase/metabase&commitHash=7fc308d43877638570626cd83e809e048cbf9300&utm_source=gh-comment&runConclusion=FAILURE&runId=06097d58-25f4-5c67-b537-291d860d3082) |\n| <code>command palette should render a searchable command palette</code> | The expected attribute 'aria-selected' with value 'true' was not found on the element '<div\\$1kbar-listbox-item-4>'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50047?repo=metabase/metabase&commitHash=7fc308d43877638570626cd83e809e048cbf9300&utm_source=gh-comment&runConclusion=FAILURE&runId=b41f139d-4801-52ca-8b03-70c3bac2c7aa) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50047?repo=metabase/metabase&commitHash=7fc308d43877638570626cd83e809e048cbf9300&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 14, 19, 14, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 19:14:25 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/21_tests-7fc308d4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search applying search filters created\$1by filter should filter results by more than one user</code> | Unable to find an element with the expected text, timed out after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50047?repo=metabase/metabase&commitHash=7fc308d43877638570626cd83e809e048cbf9300&utm_source=gh-comment&runConclusion=FAILURE&runId=06097d58-25f4-5c67-b537-291d860d3082) |
| <code>command palette should render a searchable command palette</code> | The expected attribute 'aria-selected' with value 'true' was not found on the element '<div\$1kbar-listbox-item-4>'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50047?repo=metabase/metabase&commitHash=7fc308d43877638570626cd83e809e048cbf9300&utm_source=gh-comment&runConclusion=FAILURE&runId=b41f139d-4801-52ca-8b03-70c3bac2c7aa) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50047?repo=metabase/metabase&commitHash=7fc308d43877638570626cd83e809e048cbf9300&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659627260,pull_request,closed,,Search clean-up: separate permissions and logical filters,"A few small extras lumped in.

- separated permissions and filter related collections where clauses.
- made the personal collection query much clearer.
- forked the interface used for adding collections clauses, to make new code less awkward.
- search.util is only used by legacy search, so moved it into the sub-namespace.
- enabled caching for the weights (eek, lots of queries otherwise) - I see the app is smart about cache busting.",crisptrutski,2024-11-14 18:01:54+00:00,['crisptrutski'],2024-11-26 18:51:19+00:00,2024-11-15 10:35:06+00:00,https://github.com/metabase/metabase/pull/50046,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2477166136, 'issue_id': 2659627260, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3_tests-0934c524-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Cache invalidation for dashboards and questions ee adaptive and duration strategies questions can inherit duration strategy from database</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=d8023545-5147-5a1f-84ec-dc055f33829f) |\n| <code>Cache invalidation for dashboards and questions ee adaptive and duration strategies questions can inherit duration strategy from instance-wide defa...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=4462b341-c289-5671-b3f2-3cd1660728f7) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\$114648)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=c086f5b0-8a6a-511c-b8ff-751d853f01c2) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 18, 45, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477166142, 'issue_id': 2659627260, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-0934c524-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\$114648)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=c086f5b0-8a6a-511c-b8ff-751d853f01c2) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 18, 45, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 18:45:28 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3_tests-0934c524-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Cache invalidation for dashboards and questions ee adaptive and duration strategies questions can inherit duration strategy from database</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=d8023545-5147-5a1f-84ec-dc055f33829f) |
| <code>Cache invalidation for dashboards and questions ee adaptive and duration strategies questions can inherit duration strategy from instance-wide defa...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=4462b341-c289-5671-b3f2-3cd1660728f7) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\$114648)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=c086f5b0-8a6a-511c-b8ff-751d853f01c2) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-14 18:45:28 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-0934c524-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\$114648)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment&runConclusion=FAILURE&runId=c086f5b0-8a6a-511c-b8ff-751d853f01c2) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50046?repo=metabase/metabase&commitHash=0934c524510feb7b3f67d01c872bdec2848d358d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659616372,pull_request,closed,,enforce key prop on tooltip row in echarts tooltip,"Fixes
<img width=""1091"" alt=""image"" src=""https://github.com/user-attachments/assets/d6dc7c1d-b165-44c7-add2-ce3593e975b0"">
that can show up in the console of the devs using the sdk.

It seems that the type of the row has an optional key. I set a default key to make sure we don't have the warning in the console.

",npretto,2024-11-14 17:56:50+00:00,['npretto'],2024-11-15 12:24:56+00:00,2024-11-15 11:38:27+00:00,https://github.com/metabase/metabase/pull/50045,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2477072535, 'issue_id': 2659616372, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 290165d96610e43cbe46fa1c1c8578f960dcafee...40f9891b97d625e26cd951c8384fdda29e6fa9e9.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.tsx |', 'created_at': datetime.datetime(2024, 11, 14, 17, 58, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477166490, 'issue_id': 2659616372, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-40f9891b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50045?repo=metabase/metabase&commitHash=40f9891b97d625e26cd951c8384fdda29e6fa9e9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 18, 45, 40, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-14 17:58:15 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 290165d96610e43cbe46fa1c1c8578f960dcafee...40f9891b97d625e26cd951c8384fdda29e6fa9e9.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.tsx |

trunk-io[bot] on (2024-11-14 18:45:40 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-40f9891b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50045?repo=metabase/metabase&commitHash=40f9891b97d625e26cd951c8384fdda29e6fa9e9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659485722,pull_request,closed,,"Typo in doc ""Introduction to dashboards""",As the title says,abdhabli,2024-11-14 17:06:38+00:00,['abdhabli'],2024-11-14 20:42:26+00:00,2024-11-14 20:38:52+00:00,https://github.com/metabase/metabase/pull/50043,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2659298421,pull_request,closed,,Update slack settings urls,"
### Description

We changed the url of slack settings from `/admin/settings/slack` to `/admin/settings/notifications/slack` but failed to update a few links, which led to broken links

![Screen Shot 2024-11-14 at 7 56 51 AM](https://github.com/user-attachments/assets/cde4d667-3fd8-4d65-8f2a-2af4537fd5a6)

![Screen Shot 2024-11-14 at 7 33 14 AM](https://github.com/user-attachments/assets/8f7904c4-00fa-4c5b-962c-61465dc3c7b8)

",iethree,2024-11-14 16:06:00+00:00,['iethree'],2024-11-19 14:54:30+00:00,2024-11-18 17:19:57+00:00,https://github.com/metabase/metabase/pull/50042,"[('Type:Bug', 'Product defects'), ('backport', 'Automatically create PR on current release branch on merge'), ('Notifications/Slack', ''), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('Bug:v51', 'bugs or regressions introduced in v51')]","[{'comment_id': 2476811835, 'issue_id': 2659298421, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 290165d96610e43cbe46fa1c1c8578f960dcafee...eeeab98fb79a983194a4b2b0fd025846d57690bb.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | src/metabase/email/slack_token_error.hbs |', 'created_at': datetime.datetime(2024, 11, 14, 16, 7, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2476917120, 'issue_id': 2659298421, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/20_tests-eeeab98f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50042?repo=metabase/metabase&commitHash=eeeab98fb79a983194a4b2b0fd025846d57690bb&utm_source=gh-comment&runConclusion=FAILURE&runId=372b7418-56c0-5e2e-99ff-c55f9934cbef) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50042?repo=metabase/metabase&commitHash=eeeab98fb79a983194a4b2b0fd025846d57690bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 16, 43, 21, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-14 16:07:34 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 290165d96610e43cbe46fa1c1c8578f960dcafee...eeeab98fb79a983194a4b2b0fd025846d57690bb.

| Notify | File(s) |
|-|-|
| @kdoh | src/metabase/email/slack_token_error.hbs |

trunk-io[bot] on (2024-11-14 16:43:21 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/20_tests-eeeab98f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50042?repo=metabase/metabase&commitHash=eeeab98fb79a983194a4b2b0fd025846d57690bb&utm_source=gh-comment&runConclusion=FAILURE&runId=372b7418-56c0-5e2e-99ff-c55f9934cbef) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50042?repo=metabase/metabase&commitHash=eeeab98fb79a983194a4b2b0fd025846d57690bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659244135,pull_request,closed,,Add missing changelog for branch 51,"### Description

This PR https://github.com/metabase/metabase/pull/49926 fixes the issue where our backport with manual edits aren't included in the release 51 branch SDK changelog. So I need to go back to repopulate missing entries.

I only need to regenerate changelog for each release until after 0.1.40 since the first version we diverge from master is 1.51.1. Before that the changelog shouldn't miss anything.

### How to verify

Trust me bro! JK. Here's what I did to generate the changelog.
1. I go to the each point of the release using the tag in the changelog `git checkout embedding-sdk-1.51.4`
1. Then I delete that tag I just checkout `git tags --delete embedding-sdk-1.51.4`. This is to ensure the generated changelog works since it relies on the current tag being missing.
1. Copy https://github.com/metabase/metabase/blob/master/enterprise/frontend/src/embedding-sdk/conventional-changelog-config.js and replace the file content in your repo. This is to ensure we'll use the latest fixed script to generate the changelog.
1. Then we generate the changelog using this command `yarn conventional-changelog --config enterprise/frontend/src/embedding-sdk/conventional-changelog-config.js`.

After these steps we go to the previous tag e.g. `embedding-sdk-1.51.3` then do the same thing over again until we got every release changelog. Then I combine these changelogs and create this PR.

### Checklist

- [ ] ~tests have been added/updated to cover changes in this PR~ No tests since this is only a changelog change
",WiNloSt,2024-11-14 15:46:53+00:00,['WiNloSt'],2024-11-14 15:55:48+00:00,2024-11-14 15:55:20+00:00,https://github.com/metabase/metabase/pull/50041,"[('.Team/Embedding', '')]",[],
2659232920,pull_request,closed,,docs - api updates,API docs updates.,jeff-bruemmer,2024-11-14 15:42:43+00:00,['jeff-bruemmer'],2024-11-14 20:53:38+00:00,2024-11-14 20:53:11+00:00,https://github.com/metabase/metabase/pull/50040,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2659225987,pull_request,closed,,Add generic components for summarize and breakout,"Adds a set of generic components for a list of badges. It uses the mantine badge component right now but I think it's ok if we use it in the SDK for now? It reflects the designs in the figma as much as possible.

Here's a quick demo of how it works:

https://github.com/user-attachments/assets/c712d8ed-dbbd-404e-a413-f1ed1130c0bf",oisincoveney,2024-11-14 15:39:58+00:00,['oisincoveney'],2024-11-28 14:23:45+00:00,2024-11-18 15:23:07+00:00,https://github.com/metabase/metabase/pull/50039,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2477110630, 'issue_id': 2659225987, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13290_tests-74166d37-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50039?repo=metabase/metabase&commitHash=74166d3738306d8ac607760d95363d28ef203445&utm_source=gh-comment&runConclusion=FAILURE&runId=7543b340-ddcc-5374-8314-1d6625002017) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50039?repo=metabase/metabase&commitHash=74166d3738306d8ac607760d95363d28ef203445&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 18, 16, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 18:16:16 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13290_tests-74166d37-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50039?repo=metabase/metabase&commitHash=74166d3738306d8ac607760d95363d28ef203445&utm_source=gh-comment&runConclusion=FAILURE&runId=7543b340-ddcc-5374-8314-1d6625002017) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50039?repo=metabase/metabase&commitHash=74166d3738306d8ac607760d95363d28ef203445&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2659123047,pull_request,closed,,"ü§ñ backported ""Make sure block perm enforcement allows native queries if powering a sandbox""",#49974,github-automation-metabase,2024-11-14 15:09:47+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-14 16:57:50+00:00,2024-11-14 15:53:42+00:00,https://github.com/metabase/metabase/pull/50037,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2476747032, 'issue_id': 2659123047, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12716_tests-6848d96f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50037?repo=metabase/metabase&commitHash=6848d96fe24d9e1f985b86df6319847e3c3f182f&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 15, 42, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 15:42:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12716_tests-6848d96f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50037?repo=metabase/metabase&commitHash=6848d96fe24d9e1f985b86df6319847e3c3f182f&utm_source=gh-comment)

</sub>

"
2659105391,pull_request,closed,,Omit database details from H2 dump when is_attached_dwh,"== Goal ==

Hide attached DWH database details from anyone incl. admins:
* Do not show them in the UI
* Do not permit to change them
* Do not serialize them
  - This is what we're adding for H2 snapshots (dumps) with this PR.

The aim is that customers cannot gain access to (parts of) credentials,
and they cannot break a feature they are paying for by changing
connection details.

== Implementation ==

In 592360c9fae73c2b4bd92dd99c28bb8637de283c I wrongly understood that
database details would be omitted when dumping to H2, but this is only
true for dumping H2 databases.

Fix this by omitting database details also when dumping databases with
`is_attached_dwh` set.

== How to test ==

To prepare, download a H2 JAR matching the H2 version used by Metabase:
```
wget https://repo1.maven.org/maven2/com/h2database/h2/2.1.214/h2-2.1.214.jar
```

If the H2 version does not match, you will get an error when trying to
open the H2 shell:
```
Exception in thread ""main"" org.h2.jdbc.JdbcSQLNonTransientConnectionException: Unsupported database file version or invalid file header in file ""[REDACTED]"" [90048-232]
```

=== New behaviour ===

Setting the `is_attached_dwh` field hides the database details from H2 dumps:

1. Configure a database as described in https://www.metabase.com/docs/latest/configuring-metabase/config-file#databases.
   - In addition to the fields you would normally set, also set
     `is_attached_dwh: true`.
   - This also works when adding this flag to a database that previously
     did not have this flag set.
2. Start your Metabase instance.
3. Run `${metabase} dump-to-h2 ./dump-file-h2` to create the H2 snapshot file.
4. Run `java -cp h2-2.1.214.jar org.h2.tools.Shell -url ""jdbc:h2:file:./dump-file-h2;ifexists=true""` to open a H2 shell.
5. Verify that `SELECT name,details FROM metabase_database;` shows `{}` for the database you added in step 1

=== Original behaviour ===

Behaviour without setting the `is_attached_dwh` field is unchanged:

1. Configure a database as described in https://www.metabase.com/docs/latest/configuring-metabase/config-file#databases.
   - Only set the fields you would normally set.  Do not set
     `is_attached_dwh` (or set it to `false`).
2. Start your Metabase instance.
3. Run `${metabase} dump-to-h2 ./dump-file-h2` to create the H2 snapshot file.
4. Run `java -cp h2-2.1.214.jar org.h2.tools.Shell -url ""jdbc:h2:file:./dump-file-h2;ifexists=true""` to open a H2 shell.
5. Verify that `SELECT name,details FROM metabase_database;` shows a non-empty object (i.e. not `{}`) for the database you added in step 1

Fixes: 592360c9fae73c2b4bd92dd99c28bb8637de283c
Closes: https://github.com/metabase/harbormaster/issues/5526",devurandom,2024-11-14 15:02:19+00:00,['devurandom'],2024-11-15 18:08:34+00:00,2024-11-15 17:12:10+00:00,https://github.com/metabase/metabase/pull/50036,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2477217504, 'issue_id': 2659105391, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/105230_tests-44482d66-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50036?repo=metabase/metabase&commitHash=44482d663f9864fdb1d971dd75633bd6a8e15b85&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 19, 13, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477320902, 'issue_id': 2659105391, 'author': 'devurandom', 'body': '@noahmoss, @crisptrutski: Adding you as reviewers, because you already reviewed the backend / serialization part of https://github.com/metabase/metabase/pull/47247.', 'created_at': datetime.datetime(2024, 11, 14, 20, 12, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 19:13:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/105230_tests-44482d66-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50036?repo=metabase/metabase&commitHash=44482d663f9864fdb1d971dd75633bd6a8e15b85&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

devurandom (Issue Creator) on (2024-11-14 20:12:28 UTC): @noahmoss, @crisptrutski: Adding you as reviewers, because you already reviewed the backend / serialization part of https://github.com/metabase/metabase/pull/47247.

"
2658930470,pull_request,closed,,"ü§ñ backported ""sync the attached datawarehouse""",#49970,github-automation-metabase,2024-11-14 14:08:30+00:00,"['dpsutton', 'github-automation-metabase']",2024-11-14 15:51:26+00:00,2024-11-14 14:49:23+00:00,https://github.com/metabase/metabase/pull/50035,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2476525220, 'issue_id': 2658930470, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19071_tests-0a00daec-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50035?repo=metabase/metabase&commitHash=0a00daec623de0550691074f5d719b4bb28dd73d&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 14, 40, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2476525223, 'issue_id': 2658930470, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/40258_tests-6274d92d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50035?repo=metabase/metabase&commitHash=6274d92dcea167ff75289ae1f3221ae3aa511662&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 14, 40, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 14:40:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19071_tests-0a00daec-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50035?repo=metabase/metabase&commitHash=0a00daec623de0550691074f5d719b4bb28dd73d&utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-14 14:40:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/40258_tests-6274d92d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50035?repo=metabase/metabase&commitHash=6274d92dcea167ff75289ae1f3221ae3aa511662&utm_source=gh-comment)

</sub>

"
2658816249,pull_request,closed,,Update dashboard API,"Closes https://github.com/metabase/metabase/issues/50016
",thebiglabasky,2024-11-14 13:22:09+00:00,['thebiglabasky'],2024-11-15 10:30:44+00:00,2024-11-15 10:30:30+00:00,https://github.com/metabase/metabase/pull/50033,[],"[{'comment_id': 2478510055, 'issue_id': 2658816249, 'author': 'thebiglabasky', 'body': ""I'll have to withdraw this since we autogenerate docs from code, so this approach won't do. I'll figure out another way to reach the same!"", 'created_at': datetime.datetime(2024, 11, 15, 10, 30, 30, tzinfo=datetime.timezone.utc)}]","thebiglabasky (Issue Creator) on (2024-11-15 10:30:30 UTC): I'll have to withdraw this since we autogenerate docs from code, so this approach won't do. I'll figure out another way to reach the same!

"
2658737725,pull_request,closed,,feat(sdk): detect mismatch between sdk version and mb version,"Closes https://github.com/metabase/metabase/issues/49711

# Demo
![image](https://github.com/user-attachments/assets/8873c735-2fa2-41b1-b76f-5f7795126242)
",npretto,2024-11-14 12:59:40+00:00,['npretto'],2024-11-22 15:44:26+00:00,2024-11-19 08:08:16+00:00,https://github.com/metabase/metabase/pull/50032,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2476385235, 'issue_id': 2658737725, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50423_tests-3225d8bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50032?repo=metabase/metabase&commitHash=3225d8bfa8a791324f9a0b7eb56c40d2c8a800c8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 13, 40, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 13:40:25 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50423_tests-3225d8bf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50032?repo=metabase/metabase&commitHash=3225d8bfa8a791324f9a0b7eb56c40d2c8a800c8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2658725484,pull_request,closed,,"ü§ñ backported ""fix(sdk): sdk version wrapped in quotes""",#50014,github-automation-metabase,2024-11-14 12:53:55+00:00,"['npretto', 'github-automation-metabase']",2024-11-14 14:16:18+00:00,2024-11-14 13:37:13+00:00,https://github.com/metabase/metabase/pull/50031,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2476384076, 'issue_id': 2658725484, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13099_tests-35bd1a5f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50031?repo=metabase/metabase&commitHash=35bd1a5f1877bf7edff788399b3f2d89bf57daf0&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 13, 39, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 13:39:54 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13099_tests-35bd1a5f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50031?repo=metabase/metabase&commitHash=35bd1a5f1877bf7edff788399b3f2d89bf57daf0&utm_source=gh-comment)

</sub>

"
2658714323,pull_request,closed,,"ü§ñ backported ""ci: fix path to the jar file""","  #49965
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-14 12:48:43+00:00,"['uladzimirdev', 'github-automation-metabase']",2024-11-14 13:01:35+00:00,2024-11-14 13:01:32+00:00,https://github.com/metabase/metabase/pull/50030,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2658657136,pull_request,closed,,"ü§ñ backported ""fix(sdk): Split `useSummarizeQuery` into specialized hooks""",#49841,github-automation-metabase,2024-11-14 12:22:23+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-14 13:54:09+00:00,2024-11-14 13:16:38+00:00,https://github.com/metabase/metabase/pull/50029,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2476318826, 'issue_id': 2658657136, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13099_tests-0a23286d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50029?repo=metabase/metabase&commitHash=0a23286dc3a4721489909bcb28052c02a5bb8093&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 13, 9, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 13:09:39 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13099_tests-0a23286d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50029?repo=metabase/metabase&commitHash=0a23286dc3a4721489909bcb28052c02a5bb8093&utm_source=gh-comment)

</sub>

"
2658561583,pull_request,closed,,feat(sdk): Breakout Picker,"Adds the `Breakout` component to the Interactive Question

Here's a demo:

https://github.com/user-attachments/assets/68d92e40-ee31-4504-b2f1-c9a152e69618

",oisincoveney,2024-11-14 11:39:06+00:00,['oisincoveney'],2024-11-21 21:12:59+00:00,2024-11-21 19:55:38+00:00,https://github.com/metabase/metabase/pull/50024,"[('.Team/Embedding', '')]","[{'comment_id': 2477413948, 'issue_id': 2658561583, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12945_tests-59204534-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50024?repo=metabase/metabase&commitHash=59204534baa076369bbf789c795f8f4799268a8c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 21, 9, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 21:09:34 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12945_tests-59204534-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50024?repo=metabase/metabase&commitHash=59204534baa076369bbf789c795f8f4799268a8c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2658559685,pull_request,closed,,"ü§ñ backported ""update cross-spawn for dependabot""",#50021,github-automation-metabase,2024-11-14 11:38:21+00:00,"['uladzimirdev', 'github-automation-metabase']",2024-11-14 12:47:58+00:00,2024-11-14 12:22:08+00:00,https://github.com/metabase/metabase/pull/50023,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2476187698, 'issue_id': 2658559685, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13099_tests-d14f8ada-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50023?repo=metabase/metabase&commitHash=d14f8ada1b8497a4f842e1f788266fe83bd3b59d&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 12, 10, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 12:10:02 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13099_tests-d14f8ada-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50023?repo=metabase/metabase&commitHash=d14f8ada1b8497a4f842e1f788266fe83bd3b59d&utm_source=gh-comment)

</sub>

"
2658394844,pull_request,closed,,update cross-spawn for dependabot,"closes https://github.com/metabase/metabase/security/code-scanning/284

Upgrade the package. based on the changelog there wasn't any breaking change in the last versions except dropping old node support",uladzimirdev,2024-11-14 10:41:59+00:00,['uladzimirdev'],2024-11-14 12:22:50+00:00,2024-11-14 11:37:26+00:00,https://github.com/metabase/metabase/pull/50021,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('chromatic', '')]","[{'comment_id': 2476111894, 'issue_id': 2658394844, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13165_tests-e0766de8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50021?repo=metabase/metabase&commitHash=e0766de8de2e9cdb38c2898beba9220fcb084b5e&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 11, 29, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 11:29:05 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13165_tests-e0766de8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50021?repo=metabase/metabase&commitHash=e0766de8de2e9cdb38c2898beba9220fcb084b5e&utm_source=gh-comment)

</sub>

"
2658370090,pull_request,closed,,Search clean-up: consolidate Filter specifications,Consolidate a bunch of maps and special cases into a central specification.,crisptrutski,2024-11-14 10:38:11+00:00,['crisptrutski'],2024-11-26 18:51:21+00:00,2024-11-14 12:49:16+00:00,https://github.com/metabase/metabase/pull/50019,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2476131545, 'issue_id': 2658370090, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113827_tests-618982b4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50019?repo=metabase/metabase&commitHash=618982b4378c224a0dd146b1e0bdefc5c52aef17&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 11, 39, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 11:39:19 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113827_tests-618982b4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50019?repo=metabase/metabase&commitHash=618982b4378c224a0dd146b1e0bdefc5c52aef17&utm_source=gh-comment)

</sub>

"
2658361598,pull_request,closed,,Add multi-step popover for default view components,"Adds a multi-step popover for Summarize, Breakout, and most likely the new Filter component as well.",oisincoveney,2024-11-14 10:34:13+00:00,['oisincoveney'],2024-11-14 21:19:35+00:00,2024-11-14 20:35:03+00:00,https://github.com/metabase/metabase/pull/50018,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2475989190, 'issue_id': 2658361598, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 14, 10, 34, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2476072178, 'issue_id': 2658361598, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12250_tests-f03c67c1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50018?repo=metabase/metabase&commitHash=f03c67c13c0cc193e3de7746f42004aec2a26e84&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 11, 14, 32, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-14 10:34:34 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-14 11:14:32 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12250_tests-f03c67c1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50018?repo=metabase/metabase&commitHash=f03c67c13c0cc193e3de7746f42004aec2a26e84&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2658330076,pull_request,closed,,feat(sdk): render custom question layout when drilling down in interactive dashboard,"Closes https://github.com/metabase/metabase/issues/49718

### Description

Add an ability to render custom question layouts via the `renderQuestionView` prop to the `InteractiveDashboard` component. This passes the custom view component to the ad-hoc question.

### How to verify

- Use the `renderQuestionView` on interactive dashboards, per the story.

```
const QuestionView = () => (
  <div>
    <InteractiveQuestion.Title />
    <InteractiveQuestion.QuestionVisualization />
    <div>This is a custom question layout.</div>
  </div>
)

<InteractiveDashboard questionId={1} renderQuestionView={QuestionView} />
```

- Click on any dashboard card that links to a question.
- You should be taken to the question, with the specified layout from the QuestionView component.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-11-14 10:19:35+00:00,['heypoom'],2024-11-19 20:16:32+00:00,2024-11-19 20:00:36+00:00,https://github.com/metabase/metabase/pull/50017,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2476928468, 'issue_id': 2658330076, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12095_tests-568235e3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50017?repo=metabase/metabase&commitHash=568235e3528fcec81ed50634910409de03c16a6e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 16, 48, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479547216, 'issue_id': 2658330076, 'author': 'heypoom', 'body': '@npretto that makes sense, I\'m thinking if we can avoid the ""ad hoc"" term altogether and go with something like `renderQuestionOnCardClicked` that would signal it\'s the question you see after you clicked on a dashboard card. cc @WiNloSt', 'created_at': datetime.datetime(2024, 11, 15, 17, 36, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482036565, 'issue_id': 2658330076, 'author': 'WiNloSt', 'body': ""@heypoom I like @npretto 's proposal. I think `drillThroughQuestion` is a nice name for the question clicked from a dashcard, so the variable could be named `renderDrillThroughQuestion` in this case.\r\n\r\nWhat do you guys think?"", 'created_at': datetime.datetime(2024, 11, 18, 6, 8, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482225612, 'issue_id': 2658330076, 'author': 'npretto', 'body': 'Should we ask Alberto of Jeff what we call them in the docs just to be safe?', 'created_at': datetime.datetime(2024, 11, 18, 8, 11, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 16:48:17 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12095_tests-568235e3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50017?repo=metabase/metabase&commitHash=568235e3528fcec81ed50634910409de03c16a6e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-15 17:36:33 UTC): @npretto that makes sense, I'm thinking if we can avoid the ""ad hoc"" term altogether and go with something like `renderQuestionOnCardClicked` that would signal it's the question you see after you clicked on a dashboard card. cc @WiNloSt

WiNloSt on (2024-11-18 06:08:29 UTC): @heypoom I like @npretto 's proposal. I think `drillThroughQuestion` is a nice name for the question clicked from a dashcard, so the variable could be named `renderDrillThroughQuestion` in this case.

What do you guys think?

npretto on (2024-11-18 08:11:26 UTC): Should we ask Alberto of Jeff what we call them in the docs just to be safe?

"
2658267929,pull_request,closed,,fix(sdk): sdk version wrapped in quotes,"We're currently saving the sdk version in a string that contains the double quotes: eg: `""1.52.2""` instead of just `1.52.5`

<img width=""212"" alt=""image"" src=""https://github.com/user-attachments/assets/e5280bdd-de0c-40f7-bc6f-be77a2d4287d"">
<img width=""570"" alt=""image"" src=""https://github.com/user-attachments/assets/993eb446-36e9-4ae8-a311-307737a45a76"">
This is inconsistent with how we send the other headers and is also confusing.

We should be able to change this without creating issues:
- on the FE this is only logged and we're not doing anything with it besides ending it to the BE
- on the BE as far as I understood we only use it for analytics so the worst that can happen is that we'll need to do some clean up on the data.

# Demo

## Before
<img width=""541"" alt=""image"" src=""https://github.com/user-attachments/assets/45704e21-523c-40cb-bfac-03b4f2aab900"">
<img width=""570"" alt=""image"" src=""https://github.com/user-attachments/assets/9891b72b-a04a-4869-835e-2324badb6e80"">

<img width=""212"" alt=""image"" src=""https://github.com/user-attachments/assets/e5280bdd-de0c-40f7-bc6f-be77a2d4287d"">
<img width=""570"" alt=""image"" src=""https://github.com/user-attachments/assets/993eb446-36e9-4ae8-a311-307737a45a76"">


## After
<img width=""556"" alt=""image"" src=""https://github.com/user-attachments/assets/d8259b53-3849-4c4f-82d7-58e47a03fcd2"">
<img width=""267"" alt=""image"" src=""https://github.com/user-attachments/assets/70c09382-ec14-4bde-ad3f-9a75ab7dd2e6"">
<img width=""617"" alt=""image"" src=""https://github.com/user-attachments/assets/c2a19c10-0e0d-4751-92fa-e4b5a231a271"">



## Query Execution log before/after
![image](https://github.com/user-attachments/assets/3ddebe74-f550-465f-b6c5-2193fd939300)
",npretto,2024-11-14 09:56:31+00:00,['npretto'],2024-11-14 13:37:41+00:00,2024-11-14 12:53:05+00:00,https://github.com/metabase/metabase/pull/50014,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2476000503, 'issue_id': 2658267929, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13165_tests-9ee76a33-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50014?repo=metabase/metabase&commitHash=9ee76a33ce820f6cbf8544f853e5fc581b78bc56&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 10, 40, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 10:40:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13165_tests-9ee76a33-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50014?repo=metabase/metabase&commitHash=9ee76a33ce820f6cbf8544f853e5fc581b78bc56&utm_source=gh-comment)

</sub>

"
2658267603,pull_request,closed,,"ü§ñ backported ""ci(sdk): Fix some backports aren't included in the changelog""",#49926,github-automation-metabase,2024-11-14 09:56:23+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-14 11:13:35+00:00,2024-11-14 10:37:45+00:00,https://github.com/metabase/metabase/pull/50013,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2476000264, 'issue_id': 2658267603, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13099_tests-c0645384-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50013?repo=metabase/metabase&commitHash=c064538448a759fddf5d7092524336e0e895ad12&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 10, 39, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 10:39:58 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13099_tests-c0645384-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50013?repo=metabase/metabase&commitHash=c064538448a759fddf5d7092524336e0e895ad12&utm_source=gh-comment)

</sub>

"
2657909737,pull_request,closed,,"ü§ñ backported ""feat(sdk): add background-disabled color""",#49900,github-automation-metabase,2024-11-14 07:36:54+00:00,"['heypoom', 'github-automation-metabase']",2024-11-14 08:49:59+00:00,2024-11-14 08:19:48+00:00,https://github.com/metabase/metabase/pull/50009,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2475676317, 'issue_id': 2657909737, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-4e2ab6f9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50009?repo=metabase/metabase&commitHash=4e2ab6f9b3283b89ef36ea393b80b33b633d33d5&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 8, 10, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 08:10:03 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-4e2ab6f9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50009?repo=metabase/metabase&commitHash=4e2ab6f9b3283b89ef36ea393b80b33b633d33d5&utm_source=gh-comment)

</sub>

"
2657845820,pull_request,closed,,Handlebars helper ‚öíÔ∏è,"Introduce handlebars helpers, I also added some default ones as an example",qnkhuat,2024-11-14 07:15:16+00:00,['qnkhuat'],2024-12-17 08:39:30+00:00,2024-11-21 10:46:38+00:00,https://github.com/metabase/metabase/pull/50004,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2485045105, 'issue_id': 2657845820, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114253_tests-245c2012-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=245c2012810215f3cbd7109a54bb37983e4b1e7f&utm_source=gh-comment&runConclusion=FAILURE&runId=0dfb09cc-4af0-5695-91bb-e9d49684043d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=245c2012810215f3cbd7109a54bb37983e4b1e7f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 8, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485045106, 'issue_id': 2657845820, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/71391_tests-1966eb3e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/156-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/4-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashcard-viz-settings-attachments-test</code> | The expected and actual values for alert-attachment and subscription-attachment do not match. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=919f9735-6de4-5ae4-9fbe-21348cae0ef5) |\n| <code>simple-pivot-export-test</code> | The expected and actual results do not match, with the actual result not being a formatted pivot table. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=1b5341e6-2502-506a-a61b-026d72280af3) |\n| <code>downloads-row-limit-test</code> | Expected map to have equal values, but actual values are different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=ebef6522-2371-5879-aae9-e0bd55bf8f0a) |\n| <code>simple-pivot-export-row-col-totals-test</code> | Pivot table csv exports did not respect row/column totals viz-settings. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=60725d6b-0d09-5774-8273-1a13f8031d29) |\n\n[... and 152 more](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=442081db-04d3-5be8-8dad-2d0be009db15) |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc6513d-eb96-5d61-8c4b-ebb406e68116) |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6d327dc2-f469-5e0a-a3fb-1f3217db9af9) |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6e043b9a-3047-5b59-a790-5c42ece139d9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 19, 8, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485045112, 'issue_id': 2657845820, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/71391_tests-1966eb3e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/156-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/4-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashcard-viz-settings-attachments-test</code> | The expected and actual values for alert-attachment and subscription-attachment do not match. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=919f9735-6de4-5ae4-9fbe-21348cae0ef5) |\n| <code>simple-pivot-export-test</code> | The expected and actual results do not match, with the actual result not being a formatted pivot table. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=1b5341e6-2502-506a-a61b-026d72280af3) |\n| <code>downloads-row-limit-test</code> | Expected map to have equal values, but actual values are different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=ebef6522-2371-5879-aae9-e0bd55bf8f0a) |\n| <code>simple-pivot-export-row-col-totals-test</code> | Pivot table csv exports did not respect row/column totals viz-settings. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=60725d6b-0d09-5774-8273-1a13f8031d29) |\n\n[... and 152 more](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=442081db-04d3-5be8-8dad-2d0be009db15) |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc6513d-eb96-5d61-8c4b-ebb406e68116) |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6d327dc2-f469-5e0a-a3fb-1f3217db9af9) |\n| <code>reload-template-if-it's-changed</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6e043b9a-3047-5b59-a790-5c42ece139d9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 19, 8, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2536282833, 'issue_id': 2657845820, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.1](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 12, 11, 15, 16, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 08:40:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114253_tests-245c2012-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=245c2012810215f3cbd7109a54bb37983e4b1e7f&utm_source=gh-comment&runConclusion=FAILURE&runId=0dfb09cc-4af0-5695-91bb-e9d49684043d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=245c2012810215f3cbd7109a54bb37983e4b1e7f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-19 08:40:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/71391_tests-1966eb3e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/156-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/4-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashcard-viz-settings-attachments-test</code> | The expected and actual values for alert-attachment and subscription-attachment do not match. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=919f9735-6de4-5ae4-9fbe-21348cae0ef5) |
| <code>simple-pivot-export-test</code> | The expected and actual results do not match, with the actual result not being a formatted pivot table. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=1b5341e6-2502-506a-a61b-026d72280af3) |
| <code>downloads-row-limit-test</code> | Expected map to have equal values, but actual values are different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=ebef6522-2371-5879-aae9-e0bd55bf8f0a) |
| <code>simple-pivot-export-row-col-totals-test</code> | Pivot table csv exports did not respect row/column totals viz-settings. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=60725d6b-0d09-5774-8273-1a13f8031d29) |

[... and 152 more](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=442081db-04d3-5be8-8dad-2d0be009db15) |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc6513d-eb96-5d61-8c4b-ebb406e68116) |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6d327dc2-f469-5e0a-a3fb-1f3217db9af9) |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6e043b9a-3047-5b59-a790-5c42ece139d9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-19 08:40:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/71391_tests-1966eb3e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/156-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/4-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashcard-viz-settings-attachments-test</code> | The expected and actual values for alert-attachment and subscription-attachment do not match. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=919f9735-6de4-5ae4-9fbe-21348cae0ef5) |
| <code>simple-pivot-export-test</code> | The expected and actual results do not match, with the actual result not being a formatted pivot table. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=1b5341e6-2502-506a-a61b-026d72280af3) |
| <code>downloads-row-limit-test</code> | Expected map to have equal values, but actual values are different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=ebef6522-2371-5879-aae9-e0bd55bf8f0a) |
| <code>simple-pivot-export-row-col-totals-test</code> | Pivot table csv exports did not respect row/column totals viz-settings. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=60725d6b-0d09-5774-8273-1a13f8031d29) |

[... and 152 more](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=442081db-04d3-5be8-8dad-2d0be009db15) |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc6513d-eb96-5d61-8c4b-ebb406e68116) |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6d327dc2-f469-5e0a-a3fb-1f3217db9af9) |
| <code>reload-template-if-it's-changed</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment&runConclusion=FAILURE&runId=6e043b9a-3047-5b59-a790-5c42ece139d9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50004?repo=metabase/metabase&commitHash=1966eb3eb9a630882040ed561d1b84f255259028&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-11 15:16:12 UTC): üöÄ This should also be released by [v0.52.1](https://github.com/metabase/metabase/milestone/283)

"
2657802219,pull_request,closed,,WIP: render search filter results inline,"Closes https://github.com/metabase/metabase/issues/49992

WIP

### Demo

https://github.com/user-attachments/assets/f4302c59-858e-4d8a-bc02-f0ca384130e6

",romeovs,2024-11-14 06:50:15+00:00,['romeovs'],2024-12-19 09:45:28+00:00,2024-12-19 09:45:27+00:00,https://github.com/metabase/metabase/pull/50003,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('loki-update', '')]","[{'comment_id': 2475550201, 'issue_id': 2657802219, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 219ca91f6d676e726775439334814866ca6e4e39...c18f2e08c6afe019a3f7281012b5703ffd602b39.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/MultiAutocomplete/MultiAutocomplete.tsx |', 'created_at': datetime.datetime(2024, 11, 14, 6, 51, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475624686, 'issue_id': 2657802219, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51356_tests-c18f2e08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/22-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=9f900e42-6cb4-5704-a7fa-1de729ad4320) |\n| <code>scenarios > filters > sql filters > values source static list source with custom labels (search box) should be able to use a static list source in...</code> | The test timed out while trying to find an element with the text ""Custom Label"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=70818b66-0ce5-5b0b-bc99-a1377ce4763b) |\n| <code>scenarios > filters > sql filters > values source static list source with custom labels (search box) should be able to use a static list source whe...</code> | The test timed out while trying to find an element with the text ""Custom Label"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=b045d0d9-dea5-5ae5-b02b-c5c7489b81f1) |\n| <code>scenarios > filters > sql filters > values source static list source with custom labels (search box) should be able to use a static list source whe...</code> | The test timed out while trying to find an element with the text ""Custom Label"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=653fa699-0d45-507d-a445-88a49014d818) |\n\n[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles fontFamily should work with \'Custom\' fontFamily, using the font files linked in the instance</code> | The test timed out while trying to find an element with the text ""Product ID"" because there were multiple elements with the same text. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=108e60ca-ea6e-5688-b62d-31ce35edf76e) |\n| <code>scenarios > dashboard > filters static list source (search) should be able to use a static list source (search)</code> | Unable to find an element with the text ""Gizmo Label"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=8d33fb6b-ab70-5099-8589-b52feb8679d2) |\n| <code>scenarios > dashboard > filters static list source (search) should be able to use a static list source when embedded</code> | Unable to find an element with the text ""Gizmo Label"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=08da6493-8e41-58b6-801f-06d0155d34f9) |\n| <code>scenarios > dashboard > filters static list source (search) should be able to use a static list source when public</code> | The test timed out while trying to find an element with the text ""Gizmo Label"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=05eb3827-497f-5113-bee0-171c5f431a0e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 7, 38, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2532093493, 'issue_id': 2657802219, 'author': 'ranquild', 'body': '@romeovs ""search"" field values with remapping is broken. Compare with v50 (this is Orders.User ID):\r\n<img width=""757"" alt=""Screenshot 2024-12-10 at 10 00 20"" src=""https://github.com/user-attachments/assets/dea2d39b-b035-49d9-9105-72d50af89ddb"">\r\n<img width=""616"" alt=""Screenshot 2024-12-10 at 10 01 37"" src=""https://github.com/user-attachments/assets/1d18299f-c030-4bb5-b241-3d57109090df"">\r\n\r\nthis PR:\r\n<img width=""620"" alt=""Screenshot 2024-12-10 at 10 39 22"" src=""https://github.com/user-attachments/assets/e07df745-4b87-4d72-bf65-f79688b154fc"">', 'created_at': datetime.datetime(2024, 12, 10, 15, 40, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2532110949, 'issue_id': 2657802219, 'author': 'ranquild', 'body': '@romeovs also when there are lot of values the UI becomes very slow. Try making `User.Email` as `list of values` and see how the component works in this case.', 'created_at': datetime.datetime(2024, 12, 10, 15, 46, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2532126572, 'issue_id': 2657802219, 'author': 'ranquild', 'body': 'Another thing - the component now incorrectly computes what is searchable and what is not. Compare with v50 (Orders.Quantity made a Search box):\r\n<img width=""584"" alt=""Screenshot 2024-12-10 at 10 51 45"" src=""https://github.com/user-attachments/assets/ed1e803b-774d-4b51-9efd-adb7d71fb7d5"">\r\n\r\nThis PR:\r\n<img width=""621"" alt=""Screenshot 2024-12-10 at 10 48 13"" src=""https://github.com/user-attachments/assets/e299d656-c4c3-4778-8c99-c5e45314beed"">', 'created_at': datetime.datetime(2024, 12, 10, 15, 52, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2553230562, 'issue_id': 2657802219, 'author': 'romeovs', 'body': 'Closing in favor of #51183', 'created_at': datetime.datetime(2024, 12, 19, 9, 45, 27, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-14 06:51:42 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 219ca91f6d676e726775439334814866ca6e4e39...c18f2e08c6afe019a3f7281012b5703ffd602b39.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/MultiAutocomplete/MultiAutocomplete.tsx |

trunk-io[bot] on (2024-11-14 07:38:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51356_tests-c18f2e08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/22-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=9f900e42-6cb4-5704-a7fa-1de729ad4320) |
| <code>scenarios > filters > sql filters > values source static list source with custom labels (search box) should be able to use a static list source in...</code> | The test timed out while trying to find an element with the text ""Custom Label"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=70818b66-0ce5-5b0b-bc99-a1377ce4763b) |
| <code>scenarios > filters > sql filters > values source static list source with custom labels (search box) should be able to use a static list source whe...</code> | The test timed out while trying to find an element with the text ""Custom Label"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=b045d0d9-dea5-5ae5-b02b-c5c7489b81f1) |
| <code>scenarios > filters > sql filters > values source static list source with custom labels (search box) should be able to use a static list source whe...</code> | The test timed out while trying to find an element with the text ""Custom Label"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=653fa699-0d45-507d-a445-88a49014d818) |

[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles fontFamily should work with 'Custom' fontFamily, using the font files linked in the instance</code> | The test timed out while trying to find an element with the text ""Product ID"" because there were multiple elements with the same text. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=108e60ca-ea6e-5688-b62d-31ce35edf76e) |
| <code>scenarios > dashboard > filters static list source (search) should be able to use a static list source (search)</code> | Unable to find an element with the text ""Gizmo Label"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=8d33fb6b-ab70-5099-8589-b52feb8679d2) |
| <code>scenarios > dashboard > filters static list source (search) should be able to use a static list source when embedded</code> | Unable to find an element with the text ""Gizmo Label"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=08da6493-8e41-58b6-801f-06d0155d34f9) |
| <code>scenarios > dashboard > filters static list source (search) should be able to use a static list source when public</code> | The test timed out while trying to find an element with the text ""Gizmo Label"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment&runConclusion=FAILURE&runId=05eb3827-497f-5113-bee0-171c5f431a0e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50003?repo=metabase/metabase&commitHash=c18f2e08c6afe019a3f7281012b5703ffd602b39&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

ranquild on (2024-12-10 15:40:05 UTC): @romeovs ""search"" field values with remapping is broken. Compare with v50 (this is Orders.User ID):
<img width=""757"" alt=""Screenshot 2024-12-10 at 10 00 20"" src=""https://github.com/user-attachments/assets/dea2d39b-b035-49d9-9105-72d50af89ddb"">
<img width=""616"" alt=""Screenshot 2024-12-10 at 10 01 37"" src=""https://github.com/user-attachments/assets/1d18299f-c030-4bb5-b241-3d57109090df"">

this PR:
<img width=""620"" alt=""Screenshot 2024-12-10 at 10 39 22"" src=""https://github.com/user-attachments/assets/e07df745-4b87-4d72-bf65-f79688b154fc"">

ranquild on (2024-12-10 15:46:29 UTC): @romeovs also when there are lot of values the UI becomes very slow. Try making `User.Email` as `list of values` and see how the component works in this case.

ranquild on (2024-12-10 15:52:46 UTC): Another thing - the component now incorrectly computes what is searchable and what is not. Compare with v50 (Orders.Quantity made a Search box):
<img width=""584"" alt=""Screenshot 2024-12-10 at 10 51 45"" src=""https://github.com/user-attachments/assets/ed1e803b-774d-4b51-9efd-adb7d71fb7d5"">

This PR:
<img width=""621"" alt=""Screenshot 2024-12-10 at 10 48 13"" src=""https://github.com/user-attachments/assets/e299d656-c4c3-4778-8c99-c5e45314beed"">

romeovs (Issue Creator) on (2024-12-19 09:45:27 UTC): Closing in favor of #51183

"
2657734476,pull_request,closed,,Fix query building for related updates,"I found two rough edges with the ""find and update related search models"" functionality.

1. We could generate illegal queries by interpreting values as fields.
2. We could run a bunch of dump queries that would always return nothing.

### Example for 1:

We're looking for the cards related to a `:model/ModerationReview` update, so we invert the dependency and get the term ` [:= :updated.moderated_item_type ""card""]` in our where-clause. We interpolate the value of the instance for `:moderated_item_type`, which is `:card`, and now our HoneySQL fragment refers to a column that doesn't exist.

The fix for this is to de-transform the in-memory fields to their database equivalents, e.g. we get the correct (albeit tautological) expression `[:= ""card"" ""card""]`.

### Example for 2:

We're again expanding the relationships for a `:model/Revision`, and its polymorphic and could apply to either a dashboard or a card. Interpolating our instance values for `[:= :updated.model ""Dashboard""]` we could get `[:= ""Card"" ""Dashboard""]`. There's no point in issuing this query, so we now filter out updates like this.",crisptrutski,2024-11-14 06:25:09+00:00,['crisptrutski'],2024-11-26 18:51:22+00:00,2024-11-14 09:02:12+00:00,https://github.com/metabase/metabase/pull/50001,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2475530421, 'issue_id': 2657734476, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113961_tests-b3882e14-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Quarantined? | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50001?repo=metabase/metabase&commitHash=b3882e14478e380ea156552d7d5bc7ef5198dfdf&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c3ef1984-c2c6-588f-8236-b53b966752e9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50001?repo=metabase/metabase&commitHash=b3882e14478e380ea156552d7d5bc7ef5198dfdf&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 6, 40, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 06:40:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113961_tests-b3882e14-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Quarantined? | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50001?repo=metabase/metabase&commitHash=b3882e14478e380ea156552d7d5bc7ef5198dfdf&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c3ef1984-c2c6-588f-8236-b53b966752e9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/50001?repo=metabase/metabase&commitHash=b3882e14478e380ea156552d7d5bc7ef5198dfdf&utm_source=gh-comment)

</sub>

"
2657273556,pull_request,closed,,graph.max_categories_enabled is false for Bar Chart 'Other' Group,"Recently, the ability to place Bar Chart series manually into an 'Other' category was added.

To prevent any changes being applied to existing questions, the default value of 'false' is set on the visualization_settings key `graph.max_categories_enabled`. This is because the frontend will treat the non-existence of the key as an opportunity to apply the setting, which would mean upon opening an existing bar chart, new settings would be applied.",adam-james-v,2024-11-14 01:44:27+00:00,['adam-james-v'],2024-12-02 18:20:18+00:00,2024-12-02 18:20:17+00:00,https://github.com/metabase/metabase/pull/49991,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2479580116, 'issue_id': 2657273556, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113899_tests-5dc72d3f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/11-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-materialized-view-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=9816f6de-de60-55fb-a866-30d06ffda9bd) |\n| <code>list-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=2835bf2f-d9a1-58d4-a250-a43fa1e07458) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=2d620822-a957-5b91-a3c1-d1613337c519) |\n| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=2d96eaf3-45ef-5dc5-a43e-a88cff0c8144) |\n| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=41f04845-fb27-5d79-ab42-fd3f0f5b1f84) |\n| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=538d1e27-713b-52e1-bae4-11c963621b66) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 17, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493394647, 'issue_id': 2657273556, 'author': 'piranha', 'body': ""So I wonder if you're looked at just using `migrate-viz-settings` for that, because this seems like it was created specifically for situations like that? To prevent writing (often slow and finicky) data migrations."", 'created_at': datetime.datetime(2024, 11, 22, 10, 10, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499211146, 'issue_id': 2657273556, 'author': 'camsaul', 'body': 'Agree with @piranha here, I don\'t think you need/want to do a data migration here. I think the thing that makes sense to me is just to ""treat the non-existence of the key"" as meaning ""false"" in this case. I know you said\r\n\r\n> the frontend will treat the non-existence of the key as an opportunity to apply the setting\r\n\r\nbut this sounds like wacko behavior. Maybe the right way to fix this is to update the frontend. Seems weird to have all missing keys default to `true`.\r\n\r\nFailing that migrating these as they come out of the DB is preferrable to potentially migrating thousands of cards on launch (and doing thousands of separate `UPDATE` calls)', 'created_at': datetime.datetime(2024, 11, 25, 23, 3, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512343402, 'issue_id': 2657273556, 'author': 'adam-james-v', 'body': ""I'm closing this as I agree this approach isn't the right one. I'll see if we can address this another way."", 'created_at': datetime.datetime(2024, 12, 2, 18, 20, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 17:44:32 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113899_tests-5dc72d3f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/11-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-materialized-view-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=9816f6de-de60-55fb-a866-30d06ffda9bd) |
| <code>list-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=2835bf2f-d9a1-58d4-a250-a43fa1e07458) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=2d620822-a957-5b91-a3c1-d1613337c519) |
| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=2d96eaf3-45ef-5dc5-a43e-a88cff0c8144) |
| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=41f04845-fb27-5d79-ab42-fd3f0f5b1f84) |
| <code>migrate-stacked-area-bar-combo-display-settings-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE&runId=538d1e27-713b-52e1-bae4-11c963621b66) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49991?repo=metabase/metabase&commitHash=5dc72d3f6b492a362da98295f4117f031c0f4fee&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

piranha on (2024-11-22 10:10:23 UTC): So I wonder if you're looked at just using `migrate-viz-settings` for that, because this seems like it was created specifically for situations like that? To prevent writing (often slow and finicky) data migrations.

camsaul on (2024-11-25 23:03:36 UTC): Agree with @piranha here, I don't think you need/want to do a data migration here. I think the thing that makes sense to me is just to ""treat the non-existence of the key"" as meaning ""false"" in this case. I know you said


but this sounds like wacko behavior. Maybe the right way to fix this is to update the frontend. Seems weird to have all missing keys default to `true`.

Failing that migrating these as they come out of the DB is preferrable to potentially migrating thousands of cards on launch (and doing thousands of separate `UPDATE` calls)

adam-james-v (Issue Creator) on (2024-12-02 18:20:17 UTC): I'm closing this as I agree this approach isn't the right one. I'll see if we can address this another way.

"
2657047221,pull_request,closed,,"ü§ñ backported ""fix: bigquery all parameterized types""",#49914,github-automation-metabase,2024-11-13 22:52:52+00:00,"['snoe', 'github-automation-metabase']",2024-11-14 00:06:50+00:00,2024-11-13 23:57:45+00:00,https://github.com/metabase/metabase/pull/49990,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2475055501, 'issue_id': 2657047221, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/68425_tests-59fe0c04-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > line/bar chart > tooltips > bar chart question on dashboard should show updated column titles in tooltips after editin...</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49990?repo=metabase/metabase&commitHash=59fe0c04aedc3bd393567bab07f51039ae60ad76&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3b273ec3-a1ad-50ff-b609-b94659539112) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49990?repo=metabase/metabase&commitHash=59fe0c04aedc3bd393567bab07f51039ae60ad76&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 23, 49, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 23:49:34 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/68425_tests-59fe0c04-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > line/bar chart > tooltips > bar chart question on dashboard should show updated column titles in tooltips after editin...</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49990?repo=metabase/metabase&commitHash=59fe0c04aedc3bd393567bab07f51039ae60ad76&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3b273ec3-a1ad-50ff-b609-b94659539112) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49990?repo=metabase/metabase&commitHash=59fe0c04aedc3bd393567bab07f51039ae60ad76&utm_source=gh-comment)

</sub>

"
2656942025,pull_request,closed,,"ü§ñ backported ""Apply Column Sort To Pivot Sections""",#49802,github-automation-metabase,2024-11-13 21:59:03+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-13 23:48:03+00:00,2024-11-13 22:41:19+00:00,https://github.com/metabase/metabase/pull/49988,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2475053801, 'issue_id': 2656942025, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12712_tests-b2f3988d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49988?repo=metabase/metabase&commitHash=b2f3988d068d150621f47620f9fa92719e07575c&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 23, 48, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 23:48:02 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12712_tests-b2f3988d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49988?repo=metabase/metabase&commitHash=b2f3988d068d150621f47620f9fa92719e07575c&utm_source=gh-comment)

</sub>

"
2656832562,pull_request,closed,,"Remove ""Add data"" sidebar section","Remove ""Add data"" sidebar section added in 1f643eae84cd168842ead06455b6b3b12bece441

Resolves #49973.",nemanjaglumac,2024-11-13 21:26:33+00:00,['nemanjaglumac'],2024-11-13 23:45:04+00:00,2024-11-13 23:45:00+00:00,https://github.com/metabase/metabase/pull/49987,[],"[{'comment_id': 2474944146, 'issue_id': 2656832562, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/21_tests-ad1b5e2e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/14-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 25374 should retain comma-separated values when reverting to default (metabase\\$125374-3)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=465b7788-fa7c-5591-96c9-e1cf05241cb0) |\n| <code>Onboarding checklist events should track clicking on ""How to use Metabase"" button</code> | failure\\$1message: Snowplow retry timeoutfailure\\$1text: Error: Snowplow retry timeout    at Context.eval (../../../../../../../../../../../work/me... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ed6a1a5c-dd60-528a-ba0a-e66bc6f61e0e) |\n| <code>nav > containers > MainNavbar better onboarding section add data section should render for regular users with \'curate\' root collection permissions...</code> | Unable to find an element by: [data-testid=""sidebar-add-data-section""]. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b540ab70-e0b0-58e7-85bd-71ca2a8f03c2) |\n| <code>nav > containers > MainNavbar better onboarding section \'Upload a spreadsheet\' menu item clicking on it should not show a CSV info modal for an adm...</code> | Unable to find an accessible element with the role ""button"" and name ""/Add data/i"" | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=998cc752-2177-5538-a53f-e4a78ef5b3fa) |\n\n[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 22, 22, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475050358, 'issue_id': 2656832562, 'author': 'nemanjaglumac', 'body': 'Closing in favor of https://github.com/metabase/metabase/pull/49984', 'created_at': datetime.datetime(2024, 11, 13, 23, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 22:22:32 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/21_tests-ad1b5e2e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/14-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 25374 should retain comma-separated values when reverting to default (metabase\$125374-3)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=465b7788-fa7c-5591-96c9-e1cf05241cb0) |
| <code>Onboarding checklist events should track clicking on ""How to use Metabase"" button</code> | failure\$1message: Snowplow retry timeoutfailure\$1text: Error: Snowplow retry timeout    at Context.eval (../../../../../../../../../../../work/me... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ed6a1a5c-dd60-528a-ba0a-e66bc6f61e0e) |
| <code>nav > containers > MainNavbar better onboarding section add data section should render for regular users with 'curate' root collection permissions...</code> | Unable to find an element by: [data-testid=""sidebar-add-data-section""]. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b540ab70-e0b0-58e7-85bd-71ca2a8f03c2) |
| <code>nav > containers > MainNavbar better onboarding section 'Upload a spreadsheet' menu item clicking on it should not show a CSV info modal for an adm...</code> | Unable to find an accessible element with the role ""button"" and name ""/Add data/i"" | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=998cc752-2177-5538-a53f-e4a78ef5b3fa) |

[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49987?repo=metabase/metabase&commitHash=ad1b5e2e11f13f95a6db41c56ec24bd885ba15e3&utm_source=gh-comment)

</sub>

nemanjaglumac (Issue Creator) on (2024-11-13 23:45:00 UTC): Closing in favor of https://github.com/metabase/metabase/pull/49984

"
2656829424,pull_request,closed,,"ü§ñ backported ""Add v0.50.33 to the list of releases""",#49869,github-automation-metabase,2024-11-13 21:25:16+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-13 21:26:55+00:00,2024-11-13 21:26:54+00:00,https://github.com/metabase/metabase/pull/49986,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2656790135,pull_request,closed,,"üçí Backport [MS3] Better Onboarding: ""Add Data"" discoverability to v50","Manual backport of #49545 and #49678 to the `release-x.50.x` branch.

Resolves #49973",nemanjaglumac,2024-11-13 21:02:43+00:00,['nemanjaglumac'],2024-11-14 14:01:06+00:00,2024-11-14 14:01:04+00:00,https://github.com/metabase/metabase/pull/49984,[],"[{'comment_id': 2475032407, 'issue_id': 2656790135, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/11979_tests-c08cdad0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Quarantined? | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default</code> | The expected URL was not matched with the actual URL after 4 seconds of retrying. |   | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49984?repo=metabase/metabase&commitHash=c08cdad095c5c599ef4cc5154e21601e70093ee3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=010a0b40-ef4b-570b-98f0-714c4f34893a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49984?repo=metabase/metabase&commitHash=c08cdad095c5c599ef4cc5154e21601e70093ee3&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 23, 29, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 23:29:02 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/11979_tests-c08cdad0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Quarantined? | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default</code> | The expected URL was not matched with the actual URL after 4 seconds of retrying. |   | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49984?repo=metabase/metabase&commitHash=c08cdad095c5c599ef4cc5154e21601e70093ee3&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=010a0b40-ef4b-570b-98f0-714c4f34893a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49984?repo=metabase/metabase&commitHash=c08cdad095c5c599ef4cc5154e21601e70093ee3&utm_source=gh-comment)

</sub>

"
2656649064,pull_request,closed,,feat: Introduce describe-indexes,"Fixes: #49981

Introduce a faster sync with describe-indexes that follows describe-fields and describe-fks to allow for a database wide sync step rather per table describe-table-indexes.

Implement for postgres
",snoe,2024-11-13 20:09:50+00:00,['snoe'],2024-12-06 21:31:37+00:00,2024-12-06 21:31:36+00:00,https://github.com/metabase/metabase/pull/49982,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2474942268, 'issue_id': 2656649064, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-e54bbe7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=FAILURE&runId=bf73371c-cc86-58ab-8dc3-a53380cbaff1) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 22, 21, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 22:21:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-e54bbe7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment&runConclusion=FAILURE&runId=bf73371c-cc86-58ab-8dc3-a53380cbaff1) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49982?repo=metabase/metabase&commitHash=e54bbe7a2d8cb6614855b4e86470e45596fc8347&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2656622118,pull_request,closed,,Don't hardcode Linux/x64 arch in Docker base image,"Next step towards having a multiarch image that supports ARM

We need to do this because the Temurin Alpine + Java 21 image isn't happy with hardcoding Linux x64 anymore, it's failing with 

https://docs.docker.com/reference/build-checks/from-platform-flag-const-disallowed/",camsaul,2024-11-13 19:54:47+00:00,['camsaul'],2024-11-26 18:51:24+00:00,2024-11-13 22:39:05+00:00,https://github.com/metabase/metabase/pull/49979,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2474748738, 'issue_id': 2656622118, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/5_tests-faf52939-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\$1text: fingerprint\\$1test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\$1'sync.fingerprint/max-refing... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=cc3ec4a5-82f9-590b-9992-b70bcb75cef0) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\$129786)</code> | The \\$1cy.click()\\$1 command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=365ddada-1269-5d31-87dd-66d8c9c2781a) |\n| <code>check-can-connect-before-sync-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3766093b-0157-5427-bda2-362a776356b4) |\n| Flaky Test | Failure Summary | Quarantined? | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=28fa6170-da6b-55c5-b892-39ed65a08dd8) |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1aa2af73-7831-5c13-9985-9e2642c077bf) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 20, 45, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 20:45:25 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/5_tests-faf52939-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\$1text: fingerprint\$1test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\$1'sync.fingerprint/max-refing... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=cc3ec4a5-82f9-590b-9992-b70bcb75cef0) |
| <code>issue 29786 should allow using field filters with null schema (metabase\$129786)</code> | The \$1cy.click()\$1 command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=365ddada-1269-5d31-87dd-66d8c9c2781a) |
| <code>check-can-connect-before-sync-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3766093b-0157-5427-bda2-362a776356b4) |
| Flaky Test | Failure Summary | Quarantined? | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=28fa6170-da6b-55c5-b892-39ed65a08dd8) |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1aa2af73-7831-5c13-9985-9e2642c077bf) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49979?repo=metabase/metabase&commitHash=faf529394bc95a50def2135d5ab175eead1b7a62&utm_source=gh-comment)

</sub>

"
2656414948,pull_request,closed,,Backport `force` flag for permission endpoints to v50,Manual backport of https://github.com/metabase/metabase/pull/49856 to v50,noahmoss,2024-11-13 18:38:46+00:00,['noahmoss'],2024-11-14 15:09:21+00:00,2024-11-14 15:08:52+00:00,https://github.com/metabase/metabase/pull/49978,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2474517940, 'issue_id': 2656414948, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/163475_tests-1d048106-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>offset-expression-inside-other-expression-test</code> | Error executing query: Socket closed | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49978?repo=metabase/metabase&commitHash=1d048106ac79afc9545202535dbb8302ed312a78&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dbe2c964-97fe-5277-969b-d63b6789be64) |\n| <code>offset-expression-test-order-by-parameterized-expression</code> | Query execution failed due to a socket closure, causing an error in the SQL query. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49978?repo=metabase/metabase&commitHash=1d048106ac79afc9545202535dbb8302ed312a78&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a927abab-a9aa-5cf9-bffa-b57f0fc6b882) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49978?repo=metabase/metabase&commitHash=1d048106ac79afc9545202535dbb8302ed312a78&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 19, 18, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 19:18:22 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/163475_tests-1d048106-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>offset-expression-inside-other-expression-test</code> | Error executing query: Socket closed | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49978?repo=metabase/metabase&commitHash=1d048106ac79afc9545202535dbb8302ed312a78&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dbe2c964-97fe-5277-969b-d63b6789be64) |
| <code>offset-expression-test-order-by-parameterized-expression</code> | Query execution failed due to a socket closure, causing an error in the SQL query. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49978?repo=metabase/metabase&commitHash=1d048106ac79afc9545202535dbb8302ed312a78&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a927abab-a9aa-5cf9-bffa-b57f0fc6b882) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49978?repo=metabase/metabase&commitHash=1d048106ac79afc9545202535dbb8302ed312a78&utm_source=gh-comment)

</sub>

"
2656368950,pull_request,closed,,Fix having to specify platform when pulling docker from ARM,"

### Description

Pushing with docker's build-and-push action yielded a different manifest, what is better suited to multi-arch builds. Unfortunately, this made default behavior on ARM machines require specifying `linux/amd64` arch, and is likely to disrupt users' workflows:

```
‚ñ∂ docker pull metabase/metabase:v0.51.3
v0.51.3: Pulling from metabase/metabase
no matching manifest for linux/arm64/v8 in the manifest list entries
```

This reverts most of #48910 until we can provide proper ARM64 builds (probably in v52)


## details

v51.2 manifest (old)
```sh
‚ñ∂ docker manifest inspect metabase/metabase:v0.51.2
{
	""schemaVersion"": 2,
	""mediaType"": ""application/vnd.docker.distribution.manifest.v2+json"",
	""config"": {
		""mediaType"": ""application/vnd.docker.container.image.v1+json"",
		""size"": 5943,
		""digest"": ""sha256:5149594173480012c4793001c7699a90308b3f89af1888b9d104d014df050593""
	},
	""layers"": [
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 3623807,
			""digest"": ""sha256:43c4264eed91be63b206e17d93e75256a6097070ce643c5e8f0379998b44f170""
		},
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 18307482,
			""digest"": ""sha256:ddb2831a0384f7139841ad3dbca976f0db0643b819a108b4c1dce7e255309c4b""
		},
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 43577909,
			""digest"": ""sha256:6cf742362f936f1af99046582a78334db874b167db3583ca05315acc6ff765ce""
		},
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 126,
			""digest"": ""sha256:fe6b4fa47f17ecc1d38143f39a612776415bfca4ce770911d39abb9902c3cadc""
		},
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 2278,
			""digest"": ""sha256:0bc8086457f8a9cf1c8dbd7d0182da4f95bbfdfc8f2c59ca55d1624e6cfcd806""
		},
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 89338109,
			""digest"": ""sha256:681f8480e075154d995e2021822145cbcdbc437d2394aff2ca3e6d378571e516""
		},
		{
			""mediaType"": ""application/vnd.docker.image.rootfs.diff.tar.gzip"",
			""size"": 383560600,
			""digest"": ""sha256:9a3dc8f3ea757429247c37b65c4d90b18d34de74b76ca0708806da1ef3aef833""
		}
	]
}
```


v51.3 manifest (new)
```sh
‚ñ∂ docker manifest inspect metabase/metabase:v0.51.3
{
   ""schemaVersion"": 2,
   ""mediaType"": ""application/vnd.oci.image.index.v1+json"",
   ""manifests"": [
      {
         ""mediaType"": ""application/vnd.oci.image.manifest.v1+json"",
         ""size"": 1631,
         ""digest"": ""sha256:a6b11b81665571faebae7aeebe4c3f0002bbbcb92a109eff8e32d2b3f841c4b4"",
         ""platform"": {
            ""architecture"": ""amd64"",
            ""os"": ""linux""
         }
      },
      {
         ""mediaType"": ""application/vnd.oci.image.manifest.v1+json"",
         ""size"": 567,
         ""digest"": ""sha256:265fe1db6957e00d1d61234f8aabfb9c79e45b77cce8db81845d7c0810ed691d"",
         ""platform"": {
            ""architecture"": ""unknown"",
            ""os"": ""unknown""
         }
      }
   ]
}
```",iethree,2024-11-13 18:15:17+00:00,['iethree'],2025-01-18 14:16:03+00:00,2024-11-13 19:50:58+00:00,https://github.com/metabase/metabase/pull/49976,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2656340290,pull_request,closed,,Revert CI uberjar build Java version from 21 to 11,"I switched the JVM version we using to build the uberjar in CI from 11 to 21 (#48854). This change is causing something somewhere to generate bytecode at compilation time that references `java.util.SequencedCollection`, which is only in Java 21+.

Since we still want to support running on Java 11 for the time being, I am reverting the changes to the JVM version we use to build the uberjar. 

Note that our Docker image will still run with Java 21, we're only building the uberjar with 11.",camsaul,2024-11-13 17:59:51+00:00,['camsaul'],2024-11-26 18:51:25+00:00,2024-11-13 18:30:58+00:00,https://github.com/metabase/metabase/pull/49975,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]",[],
2656290334,pull_request,closed,,Make sure block perm enforcement allows native queries if powering a sandbox,"Resolves https://github.com/metabase/metabase/issues/49969

https://github.com/metabase/metabase/pull/49364 moved block permission enforcement explicitly back to EE code in the `check-block-permissions` function, as it was before we introduced table-level block.

However, the `check-block-permissions` did not take into account the `gtap-perms` key in the query, added by sandboxing middleware, which contains permissions which should be implicitly granted to the current user to allow sandboxing to function. I guess this wasn't needed before table-level block, since block and sandboxing couldn't live side-by-side. But now, you can have a native sandbox in one table and block perms in a different table, and we should allow the sandboxed query to execute despite the user not having native query perms for the DB.",noahmoss,2024-11-13 17:39:44+00:00,['noahmoss'],2024-11-14 15:08:50+00:00,2024-11-14 15:08:48+00:00,https://github.com/metabase/metabase/pull/49974,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2474311182, 'issue_id': 2656290334, 'author': 'noahmoss', 'body': '* **#49974** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49974?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 13, 17, 40, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2474388779, 'issue_id': 2656290334, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113843_tests-bc0a347f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49974?repo=metabase/metabase&commitHash=bc0a347fa8281696daae2166ec4fad45e65d86c7&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 18, 15, 4, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-13 17:40:05 UTC): * **#49974** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49974?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-13 18:15:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113843_tests-bc0a347f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49974?repo=metabase/metabase&commitHash=bc0a347fa8281696daae2166ec4fad45e65d86c7&utm_source=gh-comment)

</sub>

"
2656149946,pull_request,closed,,"ü§ñ backported ""feat(sdk): use Alert component for SDKError""",#49895,github-automation-metabase,2024-11-13 16:53:48+00:00,"['npretto', 'github-automation-metabase']",2024-11-13 18:06:48+00:00,2024-11-13 17:36:25+00:00,https://github.com/metabase/metabase/pull/49972,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2474322303, 'issue_id': 2656149946, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**12797 tests** were run on `269c74b7`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49972?repo=metabase/metabase&commitHash=269c74b7e8955792f7fdbc3368c3323afeb2ac5c&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49972?repo=metabase/metabase&commitHash=269c74b7e8955792f7fdbc3368c3323afeb2ac5c&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 17, 45, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 17:45:21 UTC): <!-- Trunk Test Analytics -->


**12797 tests** were run on `269c74b7`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49972?repo=metabase/metabase&commitHash=269c74b7e8955792f7fdbc3368c3323afeb2ac5c&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49972?repo=metabase/metabase&commitHash=269c74b7e8955792f7fdbc3368c3323afeb2ac5c&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2656089715,pull_request,closed,,sync the attached datawarehouse,"closes https://github.com/metabase/metabase/issues/49971

requires either ""sync_db"" true or a table name

it will error
```shell
‚ùØ http post 'localhost:3000/api/notify/db/attached_datawarehouse' x-metabase-apikey:apikey -pb
Must provide `sync_db` or a `table_name` to sync
```

It will sync the db when sync_db is true
```shell
‚ùØ echo '{""synchronous?"": true, ""sync_db"": true}' | http post 'localhost:3000/api/notify/db/attached_datawarehouse' x-metabase-apikey:apikey -pb
{
    ""success"": true
}
```

It will sync existing tables
```shell
‚ùØ http post 'localhost:3000/api/notify/db/attached_datawarehouse' table_name=existing schema_name=public x-metabase-apikey:apikey -pb
{
    ""success"": true
}
```

it will error if it cannot find a table
```shell
‚ùØ http post 'localhost:3000/api/notify/db/attached_datawarehouse' table_name=new schema_name=public x-metabase-apikey:apikey -pb
{
    ""cause"": ""Unable to identify table 'public.new'"",
    ""data"": {
        ""schema_name"": ""public"",
        ""status-code"": 404,
        ""table_name"": ""new""
    },
    ""message"": ""Unable to identify table 'public.new'"",
    ""schema_name"": ""public"",
    ""table_name"": ""new"",
    ""trace"": [],
    ""via"": [
        {
            ""data"": {
                ""schema_name"": ""public"",
                ""status-code"": 404,
                ""table_name"": ""new""
            },
            ""message"": ""Unable to identify table 'public.new'"",
            ""type"": ""clojure.lang.ExceptionInfo""
        }
    ]
}
```

if i create that table
```sql
attached=# create table new (id int);
CREATE TABLE
```

it will then find and sync it

```shell
‚ùØ http post 'localhost:3000/api/notify/db/attached_datawarehouse' table_name=new schema_name=public x-metabase-apikey:apikey -pb
{
    ""success"": true
}
```
",dpsutton,2024-11-13 16:40:17+00:00,['dpsutton'],2024-11-14 14:07:41+00:00,2024-11-14 14:07:39+00:00,https://github.com/metabase/metabase/pull/49970,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2474330282, 'issue_id': 2656089715, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113846_tests-dea82a18-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49970?repo=metabase/metabase&commitHash=dea82a181550dab3e076408e94a461efd4fd7706&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 17, 48, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 17:48:50 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113846_tests-dea82a18-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49970?repo=metabase/metabase&commitHash=dea82a181550dab3e076408e94a461efd4fd7706&utm_source=gh-comment)

</sub>

"
2656003236,pull_request,closed,,[serdes] check that strings that are also scientific notation are quoted,refs #49880,piranha,2024-11-13 16:07:08+00:00,['piranha'],2024-12-17 13:23:12+00:00,2024-12-17 13:22:18+00:00,https://github.com/metabase/metabase/pull/49967,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2474175745, 'issue_id': 2656003236, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**1 tests** were run on `749e8eee`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49967?repo=metabase/metabase&commitHash=749e8eee272b8e5506ad841898f2f8968c2136c8&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49967?repo=metabase/metabase&commitHash=749e8eee272b8e5506ad841898f2f8968c2136c8&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=173d718a-b4cc-595c-8fd1-bdd7a134c9ff) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 16, 48, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 16:48:27 UTC): <!-- Trunk Test Analytics -->


**1 tests** were run on `749e8eee`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49967?repo=metabase/metabase&commitHash=749e8eee272b8e5506ad841898f2f8968c2136c8&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49967?repo=metabase/metabase&commitHash=749e8eee272b8e5506ad841898f2f8968c2136c8&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=173d718a-b4cc-595c-8fd1-bdd7a134c9ff) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2655928189,pull_request,closed,,Reorg visualizer redux state,,kulyk,2024-11-13 15:40:45+00:00,['kulyk'],2024-11-13 17:11:25+00:00,2024-11-13 15:40:53+00:00,https://github.com/metabase/metabase/pull/49966,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2474087040, 'issue_id': 2655928189, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13056 tests** were run on `706df616`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49966?repo=metabase/metabase&commitHash=706df61653047084a962aa74b8b993ec83beabab&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49966?repo=metabase/metabase&commitHash=706df61653047084a962aa74b8b993ec83beabab&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 16, 17, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 16:17:47 UTC): <!-- Trunk Test Analytics -->


**13056 tests** were run on `706df616`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49966?repo=metabase/metabase&commitHash=706df61653047084a962aa74b8b993ec83beabab&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49966?repo=metabase/metabase&commitHash=706df61653047084a962aa74b8b993ec83beabab&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2655926180,pull_request,closed,,ci: fix path to the jar file,"### Description

Fix path to the jar file

~Attempt to bypass trivy rate limit problem~

example of failure https://github.com/metabase/metabase/actions/runs/11792759312/job/32847235666

~related issue https://github.com/aquasecurity/trivy-action/issues/389~",uladzimirdev,2024-11-13 15:39:58+00:00,['uladzimirdev'],2024-11-26 18:51:22+00:00,2024-11-14 12:47:42+00:00,https://github.com/metabase/metabase/pull/49965,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]",[],
2655921928,pull_request,closed,,fix(49537): remove position relative from echarts tooltip container,"Fixes #49537

See linked issue and https://metaboat.slack.com/archives/C063Q3F1HPF/p1731492251517089?thread_ts=1731311131.911449&cid=C063Q3F1HPF for the investigation done

I've commented inline.

# Demo


https://github.com/user-attachments/assets/2d803295-178f-40b5-8ca0-26b5405e9b62



# TODO
- [ ] ~tests: I'll add them if this solution is approved~ I've added tests, but `should(""be.visible"")` doesn't work, so I have no way to test this.",npretto,2024-11-13 15:38:26+00:00,['npretto'],2024-11-18 06:02:06+00:00,2024-11-18 06:02:04+00:00,https://github.com/metabase/metabase/pull/49964,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2473982061, 'issue_id': 2655921928, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9fb6328cfb80c28412b2f2ee76c01aa0f74f0033...47fe61fd8e59fbda41f9255570b397012c63bb10.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2024, 11, 13, 15, 40, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2474100385, 'issue_id': 2655921928, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50347_tests-47fe61fd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49964?repo=metabase/metabase&commitHash=47fe61fd8e59fbda41f9255570b397012c63bb10&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 16, 23, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-13 15:40:20 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9fb6328cfb80c28412b2f2ee76c01aa0f74f0033...47fe61fd8e59fbda41f9255570b397012c63bb10.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

trunk-io[bot] on (2024-11-13 16:23:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50347_tests-47fe61fd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49964?repo=metabase/metabase&commitHash=47fe61fd8e59fbda41f9255570b397012c63bb10&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2655850716,pull_request,closed,,"Disable nice-to-have tests that work locally, but fail in CI",Let's get master green again. I haven't found a way to reproduce these failures locally yet.,crisptrutski,2024-11-13 15:18:55+00:00,['crisptrutski'],2024-11-26 18:51:26+00:00,2024-11-13 15:55:48+00:00,https://github.com/metabase/metabase/pull/49963,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2473993010, 'issue_id': 2655850716, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**104086 tests** were run on `f23a83d1`. ‚úÖ **104086 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49963?repo=metabase/metabase&commitHash=f23a83d187eeaba76532bb3ccddd937d0aae542e&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 15, 44, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 15:44:31 UTC): <!-- Trunk Test Analytics -->


**104086 tests** were run on `f23a83d1`. ‚úÖ **104086 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49963?repo=metabase/metabase&commitHash=f23a83d187eeaba76532bb3ccddd937d0aae542e&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2655782390,pull_request,closed,,Bump Toucan dependency,This version contains two small performance improvements (https://github.com/camsaul/toucan2/pull/192 and https://github.com/camsaul/toucan2/pull/193).,alexander-yakushev,2024-11-13 14:53:22+00:00,['alexander-yakushev'],2024-11-18 22:11:42+00:00,2024-11-16 10:37:40+00:00,https://github.com/metabase/metabase/pull/49962,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2473965506, 'issue_id': 2655782390, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/113995_tests-4bdd8ee5-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49962?repo=metabase/metabase&commitHash=4bdd8ee59d7df78e33092b438642e6cd7ab421cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 15, 34, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 15:34:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/113995_tests-4bdd8ee5-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49962?repo=metabase/metabase&commitHash=4bdd8ee59d7df78e33092b438642e6cd7ab421cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2655645384,pull_request,closed,,Update cssbox to 5.0.2,5.0.2 has a security fix that will remove some alerts,paoliniluis,2024-11-13 14:10:54+00:00,['paoliniluis'],2025-01-17 18:59:00+00:00,2025-01-17 18:58:58+00:00,https://github.com/metabase/metabase/pull/49959,[],"[{'comment_id': 2473820737, 'issue_id': 2655645384, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/720_tests-87b00fca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/720-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>native-query-with-user-specified-axes-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=3aed733b-2d01-51c5-94d0-1024b503cdd6) |\n| <code>csv-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=d005f250-8652-545f-8273-d8c70c1d4c1c) |\n| <code>nonuser-email-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=0ba30d81-aa1c-52aa-9a78-20b3f9d7c111) |\n| <code>above-goal-alert-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=9e215b6c-b822-52ad-b8b9-f20ee8c3a7f0) |\n\n[... and 716 more](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 14, 43, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 14:43:39 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/720_tests-87b00fca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/720-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>native-query-with-user-specified-axes-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=3aed733b-2d01-51c5-94d0-1024b503cdd6) |
| <code>csv-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=d005f250-8652-545f-8273-d8c70c1d4c1c) |
| <code>nonuser-email-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=0ba30d81-aa1c-52aa-9a78-20b3f9d7c111) |
| <code>above-goal-alert-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE&runId=9e215b6c-b822-52ad-b8b9-f20ee8c3a7f0) |

[... and 716 more](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49959?repo=metabase/metabase&commitHash=87b00fca2c13995d1affaeb2d8dffa4b62b21711&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2655331518,pull_request,closed,,introduce a cmdctrl  k command called report bug,"Closes https://github.com/metabase/metabase/issues/49585 and https://github.com/metabase/metabase/issues/49584

### Description

Add Diagnostic data window to command palette and user settings menu

### How to verify

Describe the steps to verify that the changes are working as expected.

Search functionality
1. cmd + k
2. search for ""report a bug"".  also can by found by searching  words like: bug, report, issue, problem, error, diagnostic

User menu
1. open user menu
2. click on ""report a bug"" item

### Demo

![Screenshot 2024-11-13 at 13 19 04](https://github.com/user-attachments/assets/d2623712-c623-40b1-aa15-8efa819a4557)
![Screenshot 2024-11-13 at 13 18 52](https://github.com/user-attachments/assets/5f5c80a1-0f2b-4ac7-aa6e-f4ccc6d7897c)
",filiphric,2024-11-13 12:32:34+00:00,['filiphric'],2024-12-04 11:02:22+00:00,2024-12-04 11:02:21+00:00,https://github.com/metabase/metabase/pull/49954,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2473578578, 'issue_id': 2655331518, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50639_tests-f64b9d94-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>error reporting modal should allow you to open the error reporting modal via the command palette</code> | Unable to find an accessible element with the role ""option"" and name ""/Open error diagnostic modal/"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=35048404-311e-583a-8511-17e96a373422) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=a0b95454-d03b-54a7-9e65-15bd0f03ee25) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11Ïõî 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=2b4ab1e6-456a-5e71-9c9a-8466710b9f6a) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=fba36e28-2bce-5b47-ad5f-bce61e9466ef) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=52e942ad-4601-570c-b998-a181dcadd9cb) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 13, 10, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493220783, 'issue_id': 2655331518, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bf184ac3da326ed83f41daa16b947bb87153cc2a...fb53521679177a6b99c6548fcd844693309cd482.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |', 'created_at': datetime.datetime(2024, 11, 22, 8, 51, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497961039, 'issue_id': 2655331518, 'author': 'filiphric', 'body': '> The interface and code look spiffing! Could you please add e2e tests for finding ""Report a bug"" in both places?\r\n\r\nwouldn‚Äôt unit test make more sense here?', 'created_at': datetime.datetime(2024, 11, 25, 13, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2500756078, 'issue_id': 2655331518, 'author': 'filiphric', 'body': 'I updated the icon and added a test to cover the scenario. I opted in for the e2e test, since I could not figure out an effective way of how to write a unit test üòÖ', 'created_at': datetime.datetime(2024, 11, 26, 13, 6, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501182996, 'issue_id': 2655331518, 'author': 'rafpaf', 'body': '> > The interface and code look spiffing! Could you please add e2e tests for finding ""Report a bug"" in both places?\r\n> \r\n> wouldn‚Äôt unit test make more sense here?\r\n\r\nYes, good call - unit tests would be fine and arguably even better.', 'created_at': datetime.datetime(2024, 11, 26, 15, 34, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503457304, 'issue_id': 2655331518, 'author': 'thebiglabasky', 'body': '> (Separately, more of a comment or small worry than a change request: I wonder if @thebiglabasky [what a good GH handle] is concerned about people seeing this action too often when they\'re just searching for a dashboard or saved question that has the name `Report` in it. Will that give people too much of an impression that Metabase is so buggy that that action needs to pop up frequently?)\r\n\r\nRight I hadn\'t thought of that. I wonder if we could trick that by using ""File a bug"" instead üòÖ?', 'created_at': datetime.datetime(2024, 11, 27, 10, 7, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503549024, 'issue_id': 2655331518, 'author': 'filiphric', 'body': '> > (Separately, more of a comment or small worry than a change request: I wonder if @thebiglabasky [what a good GH handle] is concerned about people seeing this action too often when they\'re just searching for a dashboard or saved question that has the name `Report` in it. Will that give people too much of an impression that Metabase is so buggy that that action needs to pop up frequently?)\r\n> \r\n> Right I hadn\'t thought of that. I wonder if we could trick that by using ""File a bug"" instead üòÖ?\r\n\r\nI changed the text from ""report a bug"" to ""file a bug"" and removed ""report"" as a keyword so that it would not appear in the search too often. should I change this in the profile link menu as well?', 'created_at': datetime.datetime(2024, 11, 27, 10, 49, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504070916, 'issue_id': 2655331518, 'author': 'thebiglabasky', 'body': '> I changed the text from ""report a bug"" to ""file a bug"" and removed ""report"" as a keyword so that it would not appear in the search too often. should I change this in the profile link menu as well?\r\n\r\nNice, I\'d say so indeed to stay consistent', 'created_at': datetime.datetime(2024, 11, 27, 14, 49, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505655815, 'issue_id': 2655331518, 'author': 'filiphric', 'body': 'I updated this. it‚Äôs ready to merge once I get an approval', 'created_at': datetime.datetime(2024, 11, 28, 9, 33, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505669378, 'issue_id': 2655331518, 'author': 'thebiglabasky', 'body': ""There are quite some people here in the review list, maybe it's easier if we had one specific person? Also noting that this is Thanksgiving so unlikely for north american colleagues to jump in until Monday. Would anyone elsewhere be available?"", 'created_at': datetime.datetime(2024, 11, 28, 9, 40, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505882731, 'issue_id': 2655331518, 'author': 'filiphric', 'body': '@rafpaf @mazameli I implemented the changes can you re-review please?', 'created_at': datetime.datetime(2024, 11, 28, 11, 21, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2511698747, 'issue_id': 2655331518, 'author': 'filiphric', 'body': '> I believe you can already open that modal through the command palette via ""Open error diagnostic modal"".\r\n> \r\n> Can we just change the action name?\r\n\r\nyou‚Äôre right, I did not know about this. I pushed changes to fix this.', 'created_at': datetime.datetime(2024, 12, 2, 14, 30, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513874810, 'issue_id': 2655331518, 'author': 'filiphric', 'body': '> Changes seem good to me ‚Äî the only weirdness is that you select an action that says ""File a bug,"" and then you see a modal that says ""download diagnostic info."" I know that the plan is that we\'re going to update that modal so that it\'ll make sense with this new action ‚Äî\xa0has the modal already been updated in `master` but just not in this branch?\r\n> \r\n> <img alt=""image"" width=""647"" src=""https://private-user-images.githubusercontent.com/2223916/391769289-56a9348b-f32a-429d-acf3-46ffa190bb48.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzMyMTQyMTMsIm5iZiI6MTczMzIxMzkxMywicGF0aCI6Ii8yMjIzOTE2LzM5MTc2OTI4OS01NmE5MzQ4Yi1mMzJhLTQyOWQtYWNmMy00NmZmYTE5MGJiNDgucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIwMyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMDNUMDgxODMzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OTNkZDA1ZDA0YTQyN2JmNGFmZjY1YzhkOGU4NmM4ZGUxMzNhNzFjM2ViMzg0ZTFiZWY4ZjU1NDQ5MjFhOTBkMSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.firYFn61B7knqPFwXQ6JRe50oGeL5ZGXFaOpma_gAVU"">\r\n\r\nyes there‚Äôs a slight discrepancy in the wording. the good news is that we are slowly moving away from simply downloading information towards actually reporting a bug. this is the PR that is coming right after this one: https://github.com/metabase/metabase/pull/50277 and there‚Äôs a [whole project](https://www.notion.so/metabase/Quality-initiatives-update-14d69354c90180648b0fce2c0268e856?pvs=4) that will improve this flow. the ""File a bug"" will make much more sense in upcoming weeks.', 'created_at': datetime.datetime(2024, 12, 3, 8, 39, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515189244, 'issue_id': 2655331518, 'author': 'mazameli', 'body': ""@filiphric Not to be pedantic, but then shouldn't https://github.com/metabase/metabase/pull/50277 target _this_ branch, and then once it's integrated, we merge the whole together into `master`? Typically when something is merged to `master` it means we think it's complete. cc @thebiglabasky"", 'created_at': datetime.datetime(2024, 12, 3, 17, 35, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515223563, 'issue_id': 2655331518, 'author': 'filiphric', 'body': ""> @filiphric Not to be pedantic, but then shouldn't #50277 target _this_ branch, and then once it's integrated, we merge the whole together into `master`? Typically when something is merged to `master` it means we think it's complete. cc @thebiglabasky\r\n\r\nIt‚Äôs okay to be pedantic, I‚Äôm still trying to grasp how things work around here. my approach was to work granularly and finish small tasks to push the big thing out in small chunks. I‚Äôm realizing this was probably not the best approach, since it takes a little while to push things into production. I‚Äôll definitely change my style for the future, because right now I created a train of PRs piggybacking on top of each other and the whole experience was a pain. my PRs are stuck in review for 4 weeks, I‚Äôm pinging devs for reviews and switching contexts all day. I have 5 PRs now, all seem to be green so hopefully I can push them out of the way."", 'created_at': datetime.datetime(2024, 12, 3, 17, 49, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515502268, 'issue_id': 2655331518, 'author': 'thebiglabasky', 'body': ""Agreed with you @mazameli. Now for the sake of pragmatism, I'd advocate for making these changes part of 53 so, the misalignment won't be there by then and we can let @filiphric merge these PRs. So I guess that I'm saying that as long as we don't have just a piece going into 52 we could accept the temporary misalignment?"", 'created_at': datetime.datetime(2024, 12, 3, 20, 36, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516986883, 'issue_id': 2655331518, 'author': 'filiphric', 'body': 'closed in favor of https://github.com/metabase/metabase/pull/50856', 'created_at': datetime.datetime(2024, 12, 4, 11, 2, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 13:10:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50639_tests-f64b9d94-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>error reporting modal should allow you to open the error reporting modal via the command palette</code> | Unable to find an accessible element with the role ""option"" and name ""/Open error diagnostic modal/"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=35048404-311e-583a-8511-17e96a373422) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=a0b95454-d03b-54a7-9e65-15bd0f03ee25) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11Ïõî 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=2b4ab1e6-456a-5e71-9c9a-8466710b9f6a) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=fba36e28-2bce-5b47-ad5f-bce61e9466ef) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment&runConclusion=FAILURE&runId=52e942ad-4601-570c-b998-a181dcadd9cb) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49954?repo=metabase/metabase&commitHash=f64b9d94dfb83556155ba23116a642d41a57749d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-22 08:51:38 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bf184ac3da326ed83f41daa16b947bb87153cc2a...fb53521679177a6b99c6548fcd844693309cd482.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |

filiphric (Issue Creator) on (2024-11-25 13:00:56 UTC): wouldn‚Äôt unit test make more sense here?

filiphric (Issue Creator) on (2024-11-26 13:06:34 UTC): I updated the icon and added a test to cover the scenario. I opted in for the e2e test, since I could not figure out an effective way of how to write a unit test üòÖ

rafpaf on (2024-11-26 15:34:46 UTC): Yes, good call - unit tests would be fine and arguably even better.

thebiglabasky on (2024-11-27 10:07:30 UTC): Right I hadn't thought of that. I wonder if we could trick that by using ""File a bug"" instead üòÖ?

filiphric (Issue Creator) on (2024-11-27 10:49:05 UTC): I changed the text from ""report a bug"" to ""file a bug"" and removed ""report"" as a keyword so that it would not appear in the search too often. should I change this in the profile link menu as well?

thebiglabasky on (2024-11-27 14:49:41 UTC): Nice, I'd say so indeed to stay consistent

filiphric (Issue Creator) on (2024-11-28 09:33:27 UTC): I updated this. it‚Äôs ready to merge once I get an approval

thebiglabasky on (2024-11-28 09:40:04 UTC): There are quite some people here in the review list, maybe it's easier if we had one specific person? Also noting that this is Thanksgiving so unlikely for north american colleagues to jump in until Monday. Would anyone elsewhere be available?

filiphric (Issue Creator) on (2024-11-28 11:21:33 UTC): @rafpaf @mazameli I implemented the changes can you re-review please?

filiphric (Issue Creator) on (2024-12-02 14:30:47 UTC): you‚Äôre right, I did not know about this. I pushed changes to fix this.

filiphric (Issue Creator) on (2024-12-03 08:39:46 UTC): yes there‚Äôs a slight discrepancy in the wording. the good news is that we are slowly moving away from simply downloading information towards actually reporting a bug. this is the PR that is coming right after this one: https://github.com/metabase/metabase/pull/50277 and there‚Äôs a [whole project](https://www.notion.so/metabase/Quality-initiatives-update-14d69354c90180648b0fce2c0268e856?pvs=4) that will improve this flow. the ""File a bug"" will make much more sense in upcoming weeks.

mazameli on (2024-12-03 17:35:45 UTC): @filiphric Not to be pedantic, but then shouldn't https://github.com/metabase/metabase/pull/50277 target _this_ branch, and then once it's integrated, we merge the whole together into `master`? Typically when something is merged to `master` it means we think it's complete. cc @thebiglabasky

filiphric (Issue Creator) on (2024-12-03 17:49:42 UTC): It‚Äôs okay to be pedantic, I‚Äôm still trying to grasp how things work around here. my approach was to work granularly and finish small tasks to push the big thing out in small chunks. I‚Äôm realizing this was probably not the best approach, since it takes a little while to push things into production. I‚Äôll definitely change my style for the future, because right now I created a train of PRs piggybacking on top of each other and the whole experience was a pain. my PRs are stuck in review for 4 weeks, I‚Äôm pinging devs for reviews and switching contexts all day. I have 5 PRs now, all seem to be green so hopefully I can push them out of the way.

thebiglabasky on (2024-12-03 20:36:55 UTC): Agreed with you @mazameli. Now for the sake of pragmatism, I'd advocate for making these changes part of 53 so, the misalignment won't be there by then and we can let @filiphric merge these PRs. So I guess that I'm saying that as long as we don't have just a piece going into 52 we could accept the temporary misalignment?

filiphric (Issue Creator) on (2024-12-04 11:02:22 UTC): closed in favor of https://github.com/metabase/metabase/pull/50856

"
2655263335,pull_request,closed,,Add user type visibility options to new search engine,"Refs https://github.com/metabase/metabase/issues/40964

This matches legacy search's logic. I think it's the very last thing!",crisptrutski,2024-11-13 12:02:19+00:00,['crisptrutski'],2024-11-26 18:51:23+00:00,2024-11-14 07:33:34+00:00,https://github.com/metabase/metabase/pull/49951,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2473509288, 'issue_id': 2655263335, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/115441_tests-5f767145-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> | SAVEPOINT ad450b5b-aa30-4984-b8f5-da202278c753 does not exist | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=5f7671458139d52fdee2571da6671b5d9b7cf27b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=58e5bf46-ac95-52f3-a4db-dc36ab8a28c3) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=5f7671458139d52fdee2571da6671b5d9b7cf27b&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 12, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2473509290, 'issue_id': 2655263335, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**9 tests** were run on `c2aedfb8`. ‚ùå **8 Failed**, ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 8 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d15de53f-0a78-5089-9754-64453ea15ee5) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74b3f70c-b7ec-57e4-8c30-e734f137745e) |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f1403a7c-488a-55c1-a5db-c6f5dd9c4be7) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73114280-125b-5c0b-8974-29a06fe56598) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=42556d0b-ebab-581d-9373-d5ced9eb9c3a) |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bc5537c7-0523-5241-8c3b-65b1ffcf4b37) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=469bd766-dd1f-5420-82d9-4effc65f8b0e) |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a792c1f9-a35a-56a3-b769-5783ee4f4b5b) |\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b9dc930b-c5c8-59b2-ae30-0b018e366e43) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 12, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2473509294, 'issue_id': 2655263335, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**9 tests** were run on `c2aedfb8`. ‚ùå **8 Failed**, ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 8 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d15de53f-0a78-5089-9754-64453ea15ee5) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74b3f70c-b7ec-57e4-8c30-e734f137745e) |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f1403a7c-488a-55c1-a5db-c6f5dd9c4be7) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73114280-125b-5c0b-8974-29a06fe56598) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=42556d0b-ebab-581d-9373-d5ced9eb9c3a) |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bc5537c7-0523-5241-8c3b-65b1ffcf4b37) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=469bd766-dd1f-5420-82d9-4effc65f8b0e) |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a792c1f9-a35a-56a3-b769-5783ee4f4b5b) |\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b9dc930b-c5c8-59b2-ae30-0b018e366e43) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 12, 40, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475659443, 'issue_id': 2655263335, 'author': 'crisptrutski', 'body': ""> would be nice to remove the `premium-features/impersonated-user?` and `premium-features/sandboxed-user?` reference in search permissions but It's already there so no blocking.\r\n\r\nDefinitely going to take a stab as part of the clean-up!"", 'created_at': datetime.datetime(2024, 11, 14, 8, 0, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 12:40:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/115441_tests-5f767145-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> | SAVEPOINT ad450b5b-aa30-4984-b8f5-da202278c753 does not exist | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=5f7671458139d52fdee2571da6671b5d9b7cf27b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=58e5bf46-ac95-52f3-a4db-dc36ab8a28c3) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=5f7671458139d52fdee2571da6671b5d9b7cf27b&utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-13 12:40:57 UTC): <!-- Trunk Test Analytics -->


**9 tests** were run on `c2aedfb8`. ‚ùå **8 Failed**, ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment)


<details>
<summary>‚ùå 8 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d15de53f-0a78-5089-9754-64453ea15ee5) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74b3f70c-b7ec-57e4-8c30-e734f137745e) |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f1403a7c-488a-55c1-a5db-c6f5dd9c4be7) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73114280-125b-5c0b-8974-29a06fe56598) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=42556d0b-ebab-581d-9373-d5ced9eb9c3a) |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bc5537c7-0523-5241-8c3b-65b1ffcf4b37) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=469bd766-dd1f-5420-82d9-4effc65f8b0e) |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a792c1f9-a35a-56a3-b769-5783ee4f4b5b) |
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b9dc930b-c5c8-59b2-ae30-0b018e366e43) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-13 12:40:58 UTC): <!-- Trunk Test Analytics -->


**9 tests** were run on `c2aedfb8`. ‚ùå **8 Failed**, ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment)


<details>
<summary>‚ùå 8 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d15de53f-0a78-5089-9754-64453ea15ee5) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74b3f70c-b7ec-57e4-8c30-e734f137745e) |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f1403a7c-488a-55c1-a5db-c6f5dd9c4be7) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73114280-125b-5c0b-8974-29a06fe56598) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=42556d0b-ebab-581d-9373-d5ced9eb9c3a) |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bc5537c7-0523-5241-8c3b-65b1ffcf4b37) |
| <code>created-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=469bd766-dd1f-5420-82d9-4effc65f8b0e) |
| <code>last-edited-at-correctness-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a792c1f9-a35a-56a3-b769-5783ee4f4b5b) |
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49951?repo=metabase/metabase&commitHash=c2aedfb84ea36a84c6dd24cc228090495ff1c778&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b9dc930b-c5c8-59b2-ae30-0b018e366e43) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

crisptrutski (Issue Creator) on (2024-11-14 08:00:45 UTC): Definitely going to take a stab as part of the clean-up!

"
2655244984,pull_request,closed,,Handlebars reloadable templates,"this makes handlebars reload resource if it's changed. Good for development purposes.


UPDATE: apparently even with my custom implementation the test is still failing on some java versions, so I've reverted back to use `ConcurrentMapTemplateCache`. It works in dev: if you update the content of the file, the cache is invalidated right away. So I guess it was just a test setup issue.

~~I had to write a custom cacher because there is a bug in the ConcurrentMapTemplateCache implementation~~

~~where this test will fail~~
```clojure
(deftest reload-template-if-it's-changed
  (testing ""reload template if it's changed""
    (with-temp-template! [tmpl-name (u.random/random-name) ""Hello {{name}}""]
      (is (= ""Hello Ngoc"" (handlebars/render tmpl-name {:name ""Ngoc""})))
      (spit (format ""test_resources/%s"" tmpl-name) ""Hello {{name}} updated!"")
      (is (= ""Hello Ngoc updated!"" (handlebars/render tmpl-name {:name ""Ngoc""}))))))
```

~~but if I add this one line, it'll pass~~

```diff
(deftest reload-template-if-it's-changed
  (testing ""reload template if it's changed""
    (with-temp-template! [tmpl-name (u.random/random-name) ""Hello {{name}}""]
      (is (= ""Hello Ngoc"" (handlebars/render tmpl-name {:name ""Ngoc""})))
+     (handlebars/render tmpl-name {:name ""Ngoc""})
      (spit (format ""test_resources/%s"" tmpl-name) ""Hello {{name}} updated!"")
      (is (= ""Hello Ngoc updated!"" (handlebars/render tmpl-name {:name ""Ngoc""}))))))
```",qnkhuat,2024-11-13 11:54:38+00:00,['qnkhuat'],2024-11-26 18:50:59+00:00,2024-11-21 03:06:00+00:00,https://github.com/metabase/metabase/pull/49950,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2473439152, 'issue_id': 2655244984, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114188_tests-0bfa1a51-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49950?repo=metabase/metabase&commitHash=0bfa1a51994ea8b4b107a27bd1f5b3e03c74446a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 12, 12, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475590210, 'issue_id': 2655244984, 'author': 'qnkhuat', 'body': 'oh god, that test is failing on CI but not locally ü§î', 'created_at': datetime.datetime(2024, 11, 14, 7, 17, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484586239, 'issue_id': 2655244984, 'author': 'qnkhuat', 'body': ""hmm, it's super weird but one thing for sure that the default implementation fails on all of java versions: https://github.com/metabase/metabase/actions/runs/11832526701/job/32969513565\r\n\r\nand my implementation only fail on java-11-oss and java-21-ee : https://github.com/metabase/metabase/actions/runs/11892311974/job/33134912503"", 'created_at': datetime.datetime(2024, 11, 19, 2, 39, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2487141503, 'issue_id': 2655244984, 'author': 'qnkhuat', 'body': ""update: I've removed the test as it's still [failing](https://github.com/metabase/metabase/actions/runs/11905934912/job/33177217758) even with the trick. This is just for dev-convenience so I think it's fine"", 'created_at': datetime.datetime(2024, 11, 20, 1, 44, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 12:12:41 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114188_tests-0bfa1a51-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49950?repo=metabase/metabase&commitHash=0bfa1a51994ea8b4b107a27bd1f5b3e03c74446a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

qnkhuat (Issue Creator) on (2024-11-14 07:17:37 UTC): oh god, that test is failing on CI but not locally ü§î

qnkhuat (Issue Creator) on (2024-11-19 02:39:06 UTC): hmm, it's super weird but one thing for sure that the default implementation fails on all of java versions: https://github.com/metabase/metabase/actions/runs/11832526701/job/32969513565

and my implementation only fail on java-11-oss and java-21-ee : https://github.com/metabase/metabase/actions/runs/11892311974/job/33134912503

qnkhuat (Issue Creator) on (2024-11-20 01:44:29 UTC): update: I've removed the test as it's still [failing](https://github.com/metabase/metabase/actions/runs/11905934912/job/33177217758) even with the trick. This is just for dev-convenience so I think it's fine

"
2655223725,pull_request,closed,,Fix - Notebook expression editor autocomplete issues,"Fixes #49882

### Description

This PR:
- Fixes multiple issues with ace editor in notebook editor (see #49882 for details)
- Converts `tokenize` to TS
- Fixes `ExplicitSize` typing
- Fixes `ExpressionEditorTextfield` typing getting lost in its HOCs

### How to verify
- Follow [repro steps for all 4 issues](https://github.com/metabase/metabase/issues/49882)
- CI is green
- Stress tests for new tests:
  - Test 1: https://github.com/metabase/metabase/actions/runs/11856756240 (100/100)
  - Test 2:
    - stress test job is acting weird after ~70 tests, so I broke it down to 2x50
    - https://github.com/metabase/metabase/actions/runs/11857973952 (50/50)
    - https://github.com/metabase/metabase/actions/runs/11857977620 (50/50)
  - Test 3: https://github.com/metabase/metabase/actions/runs/11856787497 (100/100)
  - Test 4: https://github.com/metabase/metabase/actions/runs/11856792958 (100/100)

",kamilmielnik,2024-11-13 11:46:07+00:00,['kamilmielnik'],2024-11-20 12:10:43+00:00,2024-11-20 12:10:41+00:00,https://github.com/metabase/metabase/pull/49949,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2478780420, 'issue_id': 2655223725, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50546_tests-4c72a1bd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49949?repo=metabase/metabase&commitHash=4c72a1bd193df93ab4253225940b7bbe0b5e2fbe&utm_source=gh-comment&runConclusion=FAILURE&runId=499311b0-c66a-57eb-b3c0-43ddb929df92) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49949?repo=metabase/metabase&commitHash=4c72a1bd193df93ab4253225940b7bbe0b5e2fbe&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 13, 11, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483046690, 'issue_id': 2655223725, 'author': 'kamilmielnik', 'body': '> Works well, but issue number (3) might need a bit more work since there are still some cases where using the arrow keys does not work (ie. when there is more than one suggestion):\r\n\r\nThis is how I intended it to work.\r\nPlease let me know if you have suggestions how to improve this UX.\r\n\r\nMaybe we should handle Esc key to allow to close the suggestions popover? Then it would work exactly like it does e.g. in VS Code.', 'created_at': datetime.datetime(2024, 11, 18, 13, 28, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485225264, 'issue_id': 2655223725, 'author': 'romeovs', 'body': '>  Please let me know if you have suggestions how to improve this UX.\r\n\r\nMaybe the suggestion list should not wrap, and we should return to moving the cursor when at the top (or bottom)?\r\n\r\nFeel free to leave that for another PR though.', 'created_at': datetime.datetime(2024, 11, 19, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485233725, 'issue_id': 2655223725, 'author': 'kamilmielnik', 'body': ""> > Please let me know if you have suggestions how to improve this UX.\r\n> \r\n> Maybe the suggestion list should not wrap, and we should return to moving the cursor when at the top (or bottom)?\r\n> \r\n> Feel free to leave that for another PR though.\r\n\r\n:pray: Yeah, let's leave it for this project:\r\n- https://www.notion.so/metabase/New-custom-expression-editor-5ea71d8f256f4b81bd28697cbe65294a\r\n- https://metaboat.slack.com/archives/C0645JP1W81/p1731079678507299"", 'created_at': datetime.datetime(2024, 11, 19, 10, 2, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-15 13:11:13 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50546_tests-4c72a1bd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49949?repo=metabase/metabase&commitHash=4c72a1bd193df93ab4253225940b7bbe0b5e2fbe&utm_source=gh-comment&runConclusion=FAILURE&runId=499311b0-c66a-57eb-b3c0-43ddb929df92) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49949?repo=metabase/metabase&commitHash=4c72a1bd193df93ab4253225940b7bbe0b5e2fbe&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

kamilmielnik (Issue Creator) on (2024-11-18 13:28:45 UTC): This is how I intended it to work.
Please let me know if you have suggestions how to improve this UX.

Maybe we should handle Esc key to allow to close the suggestions popover? Then it would work exactly like it does e.g. in VS Code.

romeovs on (2024-11-19 09:59:00 UTC): Maybe the suggestion list should not wrap, and we should return to moving the cursor when at the top (or bottom)?

Feel free to leave that for another PR though.

kamilmielnik (Issue Creator) on (2024-11-19 10:02:32 UTC): :pray: Yeah, let's leave it for this project:
- https://www.notion.so/metabase/New-custom-expression-editor-5ea71d8f256f4b81bd28697cbe65294a
- https://metaboat.slack.com/archives/C0645JP1W81/p1731079678507299

"
2654990676,pull_request,closed,,Fix search query issue with trailing quotation mark,"Without this change we'd try to look for the empty string[^1], which is an illegal expression in ts_query.

[^1]: The query string would be. `'something' & ''`",crisptrutski,2024-11-13 10:34:07+00:00,['crisptrutski'],2024-11-26 18:51:27+00:00,2024-11-13 12:11:45+00:00,https://github.com/metabase/metabase/pull/49933,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2473244614, 'issue_id': 2654990676, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**115694 tests** were run on `ca2045cf`. ‚ùå **5 Failed**, ‚ö†Ô∏è **7 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 5 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>model-index-test-3</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d66e27bd-83eb-5d41-acdf-5d9bd01eb80e) |\n| <code>quick-run-through</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d34a3c98-16e5-5b97-a921-a73767a23f90) |\n| <code>model-index-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=957d8236-4ee4-5b0d-82ba-8a3ecab60fa9) |\n| <code>model-index-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=cffc5160-dc24-5500-9e94-1bbeea69104d) |\n| <code>refingerprint-fields-for-db!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c1cc511a-e0a9-5902-8e80-ae1d28305bb3) |\n</details>\n<details>\n<summary>‚ö†Ô∏è 7 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>related-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b1dbb4ee-a9b5-5f4f-83d3-085b85b0743e) |\n| <code>incremental-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=105f12e4-1f34-5df8-9a1c-c383fbc6230b) |\n| <code>indexed-entity-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f2b21ae3-5da4-5209-9c50-ff3d3d26ff2c) |\n| <code>indexed-entity-perms-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8df80323-9718-591a-9fc2-01b4d7e258a1) |\n| <code>full-lifecycle-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a3741a08-654e-580f-a650-ff86ead885e0) |\n| <code>create-linked-dashboard-test-single-link</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=db0d6b05-ea53-561a-99b5-f907f9c95ecb) |\n| <code>create-linked-dashboard-test-regular-queries</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5f31b3c3-0050-5143-9965-da3004ec56f6) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 11, 10, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 11:10:24 UTC): <!-- Trunk Test Analytics -->


**115694 tests** were run on `ca2045cf`. ‚ùå **5 Failed**, ‚ö†Ô∏è **7 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment)


<details>
<summary>‚ùå 5 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>model-index-test-3</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d66e27bd-83eb-5d41-acdf-5d9bd01eb80e) |
| <code>quick-run-through</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d34a3c98-16e5-5b97-a921-a73767a23f90) |
| <code>model-index-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=957d8236-4ee4-5b0d-82ba-8a3ecab60fa9) |
| <code>model-index-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=cffc5160-dc24-5500-9e94-1bbeea69104d) |
| <code>refingerprint-fields-for-db!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c1cc511a-e0a9-5902-8e80-ae1d28305bb3) |
</details>
<details>
<summary>‚ö†Ô∏è 7 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>related-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b1dbb4ee-a9b5-5f4f-83d3-085b85b0743e) |
| <code>incremental-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=105f12e4-1f34-5df8-9a1c-c383fbc6230b) |
| <code>indexed-entity-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f2b21ae3-5da4-5209-9c50-ff3d3d26ff2c) |
| <code>indexed-entity-perms-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8df80323-9718-591a-9fc2-01b4d7e258a1) |
| <code>full-lifecycle-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a3741a08-654e-580f-a650-ff86ead885e0) |
| <code>create-linked-dashboard-test-single-link</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=db0d6b05-ea53-561a-99b5-f907f9c95ecb) |
| <code>create-linked-dashboard-test-regular-queries</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49933?repo=metabase/metabase&commitHash=ca2045cf167a876d1646f79bb699d50519873d31&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5f31b3c3-0050-5143-9965-da3004ec56f6) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2654820299,pull_request,closed,,remove gear icon from viz settings sidebar,"closes https://github.com/metabase/metabase/issues/50027

### After
https://github.com/user-attachments/assets/e3931a9a-3116-4e25-a4aa-543d7129c89d

### Before

https://github.com/user-attachments/assets/da333f89-1d91-4ead-b419-be684c075153

",uladzimirdev,2024-11-13 09:31:25+00:00,['uladzimirdev'],2024-11-18 14:16:59+00:00,2024-11-18 14:16:57+00:00,https://github.com/metabase/metabase/pull/49928,"[('.Team/Querying', '')]","[{'comment_id': 2472979852, 'issue_id': 2654820299, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ce608cb56d39db0e9e9a689390cee3d46cb12045...4ad5f73d315201a658c23b1b0cbf1e82f8561d15.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |', 'created_at': datetime.datetime(2024, 11, 13, 9, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2473073335, 'issue_id': 2654820299, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13146 tests** were run on `4ad5f73d`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49928?repo=metabase/metabase&commitHash=4ad5f73d315201a658c23b1b0cbf1e82f8561d15&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49928?repo=metabase/metabase&commitHash=4ad5f73d315201a658c23b1b0cbf1e82f8561d15&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 10, 11, 29, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-13 09:32:51 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ce608cb56d39db0e9e9a689390cee3d46cb12045...4ad5f73d315201a658c23b1b0cbf1e82f8561d15.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |

trunk-io[bot] on (2024-11-13 10:11:29 UTC): <!-- Trunk Test Analytics -->


**13146 tests** were run on `4ad5f73d`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49928?repo=metabase/metabase&commitHash=4ad5f73d315201a658c23b1b0cbf1e82f8561d15&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49928?repo=metabase/metabase&commitHash=4ad5f73d315201a658c23b1b0cbf1e82f8561d15&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2654679226,pull_request,closed,,ci(sdk): Fix some backports aren't included in the changelog,"Closes https://github.com/metabase/metabase/issues/49925

### Description

Fix the issue where `ü§ñ backported` prefix causes the commit to not appear in the changelog on the release branch 51.

### How to verify
#### Comparing with `master`
1. Generate the changelog diff `yarn embedding-sdk:generate-changelog` and compare the result from `master`


#### Comparing with `release-x.51.x`
1. cherry-pick the only commit in this PR to `release-x.51.x`. `git cherry-pick 31e6f0e6a863d3a9678895a37b9207d40768be5f`
1. Delete the current embedding SDK tag `git tag --delete embedding-sdk-1.51.4`
1. Generate the changelog diff `yarn embedding-sdk:generate-changelog` and compare the result from `release-x.51.x`


### Demo

Please ignore the tag link, it will be wrong if we don't edit `package.template.json` but I left that step out for simplicity since I want to focus on the generated entries.

This is the summary of the results
- 1 and 2 are identical which is ideal since we don't want to change the behavior for the master branch.
- 4 has more entries than 3 and is a superset of 3. You can see that https://github.com/metabase/metabase/pull/49876 is not included, which wasn't when reported.

#### 1. `master`

## [0.52.1-nightly](https://github.com/metabase/metabase/compare/embedding-sdk-1.52.1...embedding-sdk-0.52.1-nightly) (2024-11-13)


### Bug Fixes

* **sdk:** Convert jwtProviderUri to authProviderUri ([#49843](https://github.com/metabase/metabase/issues/49843)) ([d2d95df](https://github.com/metabase/metabase/commit/d2d95df948fe03befb825180f8bf1d22c233cf35))
* **sdk:** Fix visualization default size ([#49672](https://github.com/metabase/metabase/issues/49672)) ([652fafe](https://github.com/metabase/metabase/commit/652fafea3c093f189936cddecbbad103d322bdcc))
* **sdk:** generated cli components has inconsistent styles after the style leak fix ([#49723](https://github.com/metabase/metabase/issues/49723)) ([df32101](https://github.com/metabase/metabase/commit/df321012c381a10d1d133eac0ef08d7d564aac5b))
* **sdk:** put a bandage on the flashing error on static question in strict mode ([#49659](https://github.com/metabase/metabase/issues/49659)) ([c57b3a3](https://github.com/metabase/metabase/commit/c57b3a38e0ec25f13127652b74751837d908f664))


### Features

* **sdk:** Add chart settings to `InteractiveQuestion` ([#49167](https://github.com/metabase/metabase/issues/49167)) ([a4828dc](https://github.com/metabase/metabase/commit/a4828dc9e293312deb903a9c22f4b701770d5837))
* **sdk:** deprecate the ModifyQuestion component ([#49747](https://github.com/metabase/metabase/issues/49747)) ([6c8edfa](https://github.com/metabase/metabase/commit/6c8edfa7d3687a8ca338175a1616e9ac5cfae031))
* **sdk:** expose FilterPicker querying component ([#49768](https://github.com/metabase/metabase/issues/49768)) ([69f6527](https://github.com/metabase/metabase/commit/69f6527edd9815b8a384ae5819ca3427d05c2ac2))


#### 2. This PR

## [0.52.1-nightly](https://github.com/metabase/metabase/compare/embedding-sdk-1.52.1...embedding-sdk-0.52.1-nightly) (2024-11-13)


### Bug Fixes

* **sdk:** Convert jwtProviderUri to authProviderUri ([#49843](https://github.com/metabase/metabase/issues/49843)) ([d2d95df](https://github.com/metabase/metabase/commit/d2d95df948fe03befb825180f8bf1d22c233cf35))
* **sdk:** Fix visualization default size ([#49672](https://github.com/metabase/metabase/issues/49672)) ([652fafe](https://github.com/metabase/metabase/commit/652fafea3c093f189936cddecbbad103d322bdcc))
* **sdk:** generated cli components has inconsistent styles after the style leak fix ([#49723](https://github.com/metabase/metabase/issues/49723)) ([df32101](https://github.com/metabase/metabase/commit/df321012c381a10d1d133eac0ef08d7d564aac5b))
* **sdk:** put a bandage on the flashing error on static question in strict mode ([#49659](https://github.com/metabase/metabase/issues/49659)) ([c57b3a3](https://github.com/metabase/metabase/commit/c57b3a38e0ec25f13127652b74751837d908f664))


### Features

* **sdk:** Add chart settings to `InteractiveQuestion` ([#49167](https://github.com/metabase/metabase/issues/49167)) ([a4828dc](https://github.com/metabase/metabase/commit/a4828dc9e293312deb903a9c22f4b701770d5837))
* **sdk:** deprecate the ModifyQuestion component ([#49747](https://github.com/metabase/metabase/issues/49747)) ([6c8edfa](https://github.com/metabase/metabase/commit/6c8edfa7d3687a8ca338175a1616e9ac5cfae031))
* **sdk:** expose FilterPicker querying component ([#49768](https://github.com/metabase/metabase/issues/49768)) ([69f6527](https://github.com/metabase/metabase/commit/69f6527edd9815b8a384ae5819ca3427d05c2ac2))


#### 3. `release-x.51.x`

## [0.51.4](https://github.com/metabase/metabase/compare/embedding-sdk-1.51.3...embedding-sdk-0.51.4) (2024-11-13)


### Bug Fixes

* **sdk:** Fix interactive dashboard scroll in fullscreen mode ([#49366](https://github.com/metabase/metabase/issues/49366)) ([#49427](https://github.com/metabase/metabase/issues/49427)) ([d378dc3](https://github.com/metabase/metabase/commit/d378dc3a9967ddc0c21e8f88049fc8519d1de83c))
* **sdk:** Fix visualization default size ([#49672](https://github.com/metabase/metabase/issues/49672)) ([#49680](https://github.com/metabase/metabase/issues/49680)) ([bb13c88](https://github.com/metabase/metabase/commit/bb13c8824d7ddadec5258006a5cfedca21b41791))
* **sdk:** generated cli components has inconsistent styles after the style leak fix ([#49723](https://github.com/metabase/metabase/issues/49723)) ([#49775](https://github.com/metabase/metabase/issues/49775)) ([7fa7950](https://github.com/metabase/metabase/commit/7fa7950a20b5b00fa298300ee2556d99df79cdf2))
* **sdk:** put a bandage on the flashing error on static question in strict mode ([#49659](https://github.com/metabase/metabase/issues/49659)) ([#49704](https://github.com/metabase/metabase/issues/49704)) ([9a94951](https://github.com/metabase/metabase/commit/9a949510c28bbac7cca6cf14af7a12d6cdd05595))


### Features

* **sdk:** deprecate the ModifyQuestion component ([#49747](https://github.com/metabase/metabase/issues/49747)) ([#49757](https://github.com/metabase/metabase/issues/49757)) ([530f050](https://github.com/metabase/metabase/commit/530f050fb5fc74778332e99f954e0cec0f5d5ae2))
* **sdk:** expose FilterPicker querying component ([#49768](https://github.com/metabase/metabase/issues/49768)) ([#49906](https://github.com/metabase/metabase/issues/49906)) ([c6378ef](https://github.com/metabase/metabase/commit/c6378ef4b90db8f4481c289b99c74df503a55324))
* **sdk:** small usability improvements for embedding cli ([#49591](https://github.com/metabase/metabase/issues/49591)) ([#49617](https://github.com/metabase/metabase/issues/49617)) ([6624143](https://github.com/metabase/metabase/commit/66241437e64b0c753f2a90d4308cbcc7cd547334))

#### 4. `release-x.51.x` with the commit from this PR
## [0.51.4](https://github.com/metabase/metabase/compare/embedding-sdk-1.51.3...embedding-sdk-0.51.4) (2024-11-13)


### Bug Fixes

* **sdk:** Convert jwtProviderUri to authProviderUri ([#49876](https://github.com/metabase/metabase/issues/49876)) ([56e4152](https://github.com/metabase/metabase/commit/56e415225a8be13d534274e196183e2c45fb2810)), closes [#49843](https://github.com/metabase/metabase/issues/49843)
* **sdk:** Fix interactive dashboard scroll in fullscreen mode ([#49366](https://github.com/metabase/metabase/issues/49366)) ([#49427](https://github.com/metabase/metabase/issues/49427)) ([d378dc3](https://github.com/metabase/metabase/commit/d378dc3a9967ddc0c21e8f88049fc8519d1de83c))
* **sdk:** Fix visualization default size ([#49672](https://github.com/metabase/metabase/issues/49672)) ([#49680](https://github.com/metabase/metabase/issues/49680)) ([bb13c88](https://github.com/metabase/metabase/commit/bb13c8824d7ddadec5258006a5cfedca21b41791))
* **sdk:** generated cli components has inconsistent styles after the style leak fix ([#49723](https://github.com/metabase/metabase/issues/49723)) ([#49775](https://github.com/metabase/metabase/issues/49775)) ([7fa7950](https://github.com/metabase/metabase/commit/7fa7950a20b5b00fa298300ee2556d99df79cdf2))
* **sdk:** put a bandage on the flashing error on static question in strict mode ([#49659](https://github.com/metabase/metabase/issues/49659)) ([#49704](https://github.com/metabase/metabase/issues/49704)) ([9a94951](https://github.com/metabase/metabase/commit/9a949510c28bbac7cca6cf14af7a12d6cdd05595))


### Features

* **sdk:** Add chart settings to `InteractiveQuestion` ([#49677](https://github.com/metabase/metabase/issues/49677)) ([e77487e](https://github.com/metabase/metabase/commit/e77487e011a2adf356f6983cc7907c83a0e4ed7d))
* **sdk:** deprecate the ModifyQuestion component ([#49747](https://github.com/metabase/metabase/issues/49747)) ([#49757](https://github.com/metabase/metabase/issues/49757)) ([530f050](https://github.com/metabase/metabase/commit/530f050fb5fc74778332e99f954e0cec0f5d5ae2))
* **sdk:** expose FilterPicker querying component ([#49768](https://github.com/metabase/metabase/issues/49768)) ([#49906](https://github.com/metabase/metabase/issues/49906)) ([c6378ef](https://github.com/metabase/metabase/commit/c6378ef4b90db8f4481c289b99c74df503a55324))
* **sdk:** small usability improvements for embedding cli ([#49591](https://github.com/metabase/metabase/issues/49591)) ([#49617](https://github.com/metabase/metabase/issues/49617)) ([6624143](https://github.com/metabase/metabase/commit/66241437e64b0c753f2a90d4308cbcc7cd547334))

### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~ Test results are provided above
",WiNloSt,2024-11-13 08:39:32+00:00,['WiNloSt'],2024-11-14 09:55:36+00:00,2024-11-14 09:55:34+00:00,https://github.com/metabase/metabase/pull/49926,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2472913815, 'issue_id': 2654679226, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13299 tests** were run on `31e6f0e6`. ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49926?repo=metabase/metabase&commitHash=31e6f0e6a863d3a9678895a37b9207d40768be5f&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49926?repo=metabase/metabase&commitHash=31e6f0e6a863d3a9678895a37b9207d40768be5f&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c0a42c01-0c63-5f49-b464-c337c4b6571a) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49926?repo=metabase/metabase&commitHash=31e6f0e6a863d3a9678895a37b9207d40768be5f&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 9, 9, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 09:09:32 UTC): <!-- Trunk Test Analytics -->


**13299 tests** were run on `31e6f0e6`. ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49926?repo=metabase/metabase&commitHash=31e6f0e6a863d3a9678895a37b9207d40768be5f&utm_source=gh-comment)


<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49926?repo=metabase/metabase&commitHash=31e6f0e6a863d3a9678895a37b9207d40768be5f&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c0a42c01-0c63-5f49-b464-c337c4b6571a) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49926?repo=metabase/metabase&commitHash=31e6f0e6a863d3a9678895a37b9207d40768be5f&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2654466958,pull_request,closed,,"ü§ñ backported ""Fix flaky models metadata test""",#49665,github-automation-metabase,2024-11-13 07:07:24+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-13 08:12:40+00:00,2024-11-13 07:48:55+00:00,https://github.com/metabase/metabase/pull/49924,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2472707083, 'issue_id': 2654466958, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3248 tests** were run on `fae18b15`. ‚úÖ **3248 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49924?repo=metabase/metabase&commitHash=fae18b15e1b00a4adbc0fd88de8bdf7bb7895111&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 7, 40, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 07:40:23 UTC): <!-- Trunk Test Analytics -->


**3248 tests** were run on `fae18b15`. ‚úÖ **3248 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49924?repo=metabase/metabase&commitHash=fae18b15e1b00a4adbc0fd88de8bdf7bb7895111&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2654282795,pull_request,closed,,Pulse retry individual emails for 50,See https://metaboat.slack.com/archives/C064TCGEAV6/p1731472884228209 for context,qnkhuat,2024-11-13 05:50:47+00:00,['qnkhuat'],2024-11-13 13:20:55+00:00,2024-11-13 12:30:31+00:00,https://github.com/metabase/metabase/pull/49922,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2472498955, 'issue_id': 2654282795, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**149400 tests** were run on `0366ac1c`. ‚ùå **1 Failed**, ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=0366ac1cfb6dd513a1b749e69a656dc2f415ce63&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issues 35039 and 37009 should show columns available in the model (metabase\\$135039) (metabase\\$137009)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=0366ac1cfb6dd513a1b749e69a656dc2f415ce63&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=96affcb5-0d86-5253-a684-b008e0b25e80) |\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=0366ac1cfb6dd513a1b749e69a656dc2f415ce63&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=761bcea1-6b32-57b5-9c2b-272f6edaa5d7) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 6, 10, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2472498961, 'issue_id': 2654282795, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**4318 tests** were run on `a1456b31`. ‚úÖ **4318 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=a1456b31f7ed14dce72a35c826fe92383e27219e&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 6, 10, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2472498964, 'issue_id': 2654282795, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**4318 tests** were run on `a1456b31`. ‚úÖ **4318 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=a1456b31f7ed14dce72a35c826fe92383e27219e&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 6, 10, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 06:10:55 UTC): <!-- Trunk Test Analytics -->


**149400 tests** were run on `0366ac1c`. ‚ùå **1 Failed**, ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=0366ac1cfb6dd513a1b749e69a656dc2f415ce63&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>issues 35039 and 37009 should show columns available in the model (metabase\$135039) (metabase\$137009)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=0366ac1cfb6dd513a1b749e69a656dc2f415ce63&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=96affcb5-0d86-5253-a684-b008e0b25e80) |
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=0366ac1cfb6dd513a1b749e69a656dc2f415ce63&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=761bcea1-6b32-57b5-9c2b-272f6edaa5d7) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-13 06:10:55 UTC): <!-- Trunk Test Analytics -->


**4318 tests** were run on `a1456b31`. ‚úÖ **4318 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=a1456b31f7ed14dce72a35c826fe92383e27219e&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-13 06:10:55 UTC): <!-- Trunk Test Analytics -->


**4318 tests** were run on `a1456b31`. ‚úÖ **4318 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49922?repo=metabase/metabase&commitHash=a1456b31f7ed14dce72a35c826fe92383e27219e&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2654084718,pull_request,closed,,`change-query` cleanup,"Changes:
- add or remove clauses
- columns now have ids and types, we use id for clauses
- clauses are referenced by indexes and not names
- errors are returned in json so that we handle columns with spaces or commas etc
- temporary disable viz tools (added `json5` suffix to ignore them for now). I'm going to re-enable them one by one in next PRs.

Demo https://www.loom.com/share/f15f6d00b22344bcb1c51d6c02b6aa44

How to verify:
- Open Orders table
- `created in the last 2 years`
- `sum by total`
- `group by category`
- `order by category`
- `limit to 3`
- `remove limit`
- `remove sorting`
- `remove grouping`
- `remove aggregation`
- `remove filters`",ranquild,2024-11-13 04:07:57+00:00,['ranquild'],2024-11-15 21:03:43+00:00,2024-11-15 20:41:49+00:00,https://github.com/metabase/metabase/pull/49921,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2472360319, 'issue_id': 2654084718, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/111304_tests-908109d9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/215-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | The test timed out while trying to find a label with the text \'Sum of Total\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=6268cc45-4d56-5180-85db-e543d6cc5bd9) |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=6291e5e4-e1dd-5ca7-842f-2ce099414d52) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with the data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=931067c4-904b-5cd8-a697-f5469ef44fb5) |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=43bca0ee-e9bd-56a6-ad26-745c90ad9cbe) |\n\n[... and 211 more](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=80cc8b01-1ced-5ef0-8cdd-01d62ad4db99) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 4, 40, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 04:40:03 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/111304_tests-908109d9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/215-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | The test timed out while trying to find a label with the text 'Sum of Total'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=6268cc45-4d56-5180-85db-e543d6cc5bd9) |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=6291e5e4-e1dd-5ca7-842f-2ce099414d52) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with the data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=931067c4-904b-5cd8-a697-f5469ef44fb5) |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=43bca0ee-e9bd-56a6-ad26-745c90ad9cbe) |

[... and 211 more](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment&runConclusion=FAILURE&runId=80cc8b01-1ced-5ef0-8cdd-01d62ad4db99) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49921?repo=metabase/metabase&commitHash=908109d921cb010e86ea77da37d8a4fdee22bc59&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2653891432,pull_request,closed,,fix hiding incorrect y-axis on hover,"Closes https://github.com/metabase/metabase/issues/49874

### Description

On line/area/bar/combo charts with two axis when a series hovered we should hide the other y-axis not related to the series.

### How to verify

- Create a line chart with two y-axes
- Hover each series and ensure it keeps only 1 axis that is related to the series visible

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-13 02:05:52+00:00,['alxnddr'],2024-11-14 22:32:44+00:00,2024-11-14 22:32:43+00:00,https://github.com/metabase/metabase/pull/49920,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 2472244698, 'issue_id': 2653891432, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/20_tests-174f0179-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Quarantined? | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49920?repo=metabase/metabase&commitHash=174f017937664cac966ea9267bba403f326d2895&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=af1f9a00-b78d-59bb-9150-87c7ba53887a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49920?repo=metabase/metabase&commitHash=174f017937664cac966ea9267bba403f326d2895&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 2, 39, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 02:39:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/20_tests-174f0179-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Quarantined? | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  |   | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49920?repo=metabase/metabase&commitHash=174f017937664cac966ea9267bba403f326d2895&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=af1f9a00-b78d-59bb-9150-87c7ba53887a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49920?repo=metabase/metabase&commitHash=174f017937664cac966ea9267bba403f326d2895&utm_source=gh-comment)

</sub>

"
2653768468,pull_request,closed,,Split dashboard PDF exports into pages,"Closes https://github.com/metabase/metabase/issues/50584

### Description

Split dashboard PDF exports into pages to make them print-friendly. Since we want to avoid having page breaks in the middle of a card, pages aspect ratio are not constant. 

### How to verify

- Create a very long dashboard with many cards
- If the dashboard layout has places where it can be sliced horizontally without cutting any dashcards ensure its exported PDF includes page breaks
- If the dashboard includes long tables on places of potential page breaks ensure its exported PDF includes page breaks between rows

### Demo

Loom: https://www.loom.com/share/483736b593af44649185d0cfba6aa06b?sid=91a49d7f-9a96-4db8-a2ca-3b7f73c86357

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-13 00:48:59+00:00,['alxnddr'],2024-12-13 04:54:42+00:00,2024-12-13 03:53:56+00:00,https://github.com/metabase/metabase/pull/49917,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2537693918, 'issue_id': 2653768468, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/816_tests-cc196b08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 12, 3, 4, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-12 03:04:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/816_tests-cc196b08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49917?repo=metabase/metabase&commitHash=cc196b08689e0bb01b5423352a31cbef30dfa3a5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2653739863,pull_request,closed,,"Unify TTLs for token check caching, simplify some code","Fixes https://github.com/metabase/metabase/issues/49879

* Standardizes TTL for token check memoization to be 12 hours
* A little refactor/simplification of related code",noahmoss,2024-11-13 00:29:55+00:00,['noahmoss'],2024-11-15 21:41:59+00:00,2024-11-15 21:41:58+00:00,https://github.com/metabase/metabase/pull/49916,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2472016269, 'issue_id': 2653739863, 'author': 'noahmoss', 'body': '* **#49916** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49916?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49916?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 13, 0, 30, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2472082441, 'issue_id': 2653739863, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/284_tests-075d4e7c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/284-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dataset-already-loaded?-test</code> | failure\\$1text: sql\\$1jdbc\\$1test.clj:22:sparksqlmetabase.test.data.interface/dataset-already-loaded?should return true for test-dataexpected: (tx/... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d18c1daa-7c90-52d5-bff2-66b561d2c080) |\n| <code>dbms-version-test</code> | Connection to Hive database refused, possibly due to network issues or incorrect connection settings. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b818aa0f-4401-5789-8798-68798d762d7a) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\$1text: fingerprint\\$1test.clj:327:sparksqlrefingerprints up to a limitexpected: (<= @\\$1'sync.fingerprint/max-refingerprint-field-count at... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5e28564d-87d0-5bd1-aa3c-86b7b4ce2518) |\n| <code>date-columns-should-be-emitted-without-time</code> | The CSV parsing failed due to missing implementation of the \\$1:read-csv-from\\$1 protocol for \\$1clojure.lang.PersistentHashMap\\$1. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=beee974e-049f-5d42-8ef8-fd60972eae2a) |\n\n[... and 280 more](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 1, 10, 43, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-13 00:30:09 UTC): * **#49916** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49916?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49916?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-13 01:10:43 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/284_tests-075d4e7c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/284-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dataset-already-loaded?-test</code> | failure\$1text: sql\$1jdbc\$1test.clj:22:sparksqlmetabase.test.data.interface/dataset-already-loaded?should return true for test-dataexpected: (tx/... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d18c1daa-7c90-52d5-bff2-66b561d2c080) |
| <code>dbms-version-test</code> | Connection to Hive database refused, possibly due to network issues or incorrect connection settings. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b818aa0f-4401-5789-8798-68798d762d7a) |
| <code>refingerprint-fields-for-db!-test</code> | failure\$1text: fingerprint\$1test.clj:327:sparksqlrefingerprints up to a limitexpected: (<= @\$1'sync.fingerprint/max-refingerprint-field-count at... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5e28564d-87d0-5bd1-aa3c-86b7b4ce2518) |
| <code>date-columns-should-be-emitted-without-time</code> | The CSV parsing failed due to missing implementation of the \$1:read-csv-from\$1 protocol for \$1clojure.lang.PersistentHashMap\$1. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=beee974e-049f-5d42-8ef8-fd60972eae2a) |

[... and 280 more](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49916?repo=metabase/metabase&commitHash=075d4e7ca4fd4990b6322b214ba151f96114b28b&utm_source=gh-comment)

</sub>

"
2653702283,pull_request,closed,,Triage bugs when the bug tags get added,"Currently, our bug triage > slack message workflow only triggers on newly created issues - this also will trigger when any bug issue gets labeled

This has the potential to get spammy - e.g. if an untriaged bug issue gets other tags added, it will trigger again.",iethree,2024-11-13 00:05:33+00:00,['iethree'],2024-11-19 00:05:47+00:00,2024-11-19 00:05:47+00:00,https://github.com/metabase/metabase/pull/49915,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('.Team/DevEx', '')]",[],
2653606939,pull_request,closed,,fix: bigquery all parameterized types,"Fixes: #49913

In #49786 we handled parameterized STRING types like `STRING(255)`

Here we add handling for the other other types https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#parameterized_data_types

`BIGDECIMAL` and `DECIMAL` are aliases for `BIGNUMERIC` and `NUMERIC` https://cloud.google.com/bigquery/docs/reference/standard-sql/data-types#parameterized_decimal_type
",snoe,2024-11-12 23:25:20+00:00,['snoe'],2024-11-13 22:52:06+00:00,2024-11-13 22:52:04+00:00,https://github.com/metabase/metabase/pull/49914,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2471907854, 'issue_id': 2653606939, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_tests-2404553f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Quarantined? | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\$124966)</code> | The error occurred when trying to read the 'body' property of an undefined object. |   | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49914?repo=metabase/metabase&commitHash=2404553fd34f60c1582e70e304a434e218b09a20&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dea87bfc-0713-561e-8601-ee8edad14ae8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49914?repo=metabase/metabase&commitHash=2404553fd34f60c1582e70e304a434e218b09a20&utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 13, 0, 1, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 00:01:34 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_tests-2404553f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Quarantined? | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\$124966)</code> | The error occurred when trying to read the 'body' property of an undefined object. |   | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49914?repo=metabase/metabase&commitHash=2404553fd34f60c1582e70e304a434e218b09a20&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dea87bfc-0713-561e-8601-ee8edad14ae8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49914?repo=metabase/metabase&commitHash=2404553fd34f60c1582e70e304a434e218b09a20&utm_source=gh-comment)

</sub>

"
2653409327,pull_request,closed,,Enrich dimension targets in click_behavior with stage-numbers,"Fixes #49110

### Description

Like #49256, but adding stage-numbers in dimension targets in click behavior settings.

### TODO

- [x] Make stage number depend on the target of the click, not on the dashcard's card.
- [x] Add path `[""visualization_settings"" ""click_behavior"" ""parameterMapping"" [""target"" ""dimension""]]` to the migration.
- [x] Only migrate if `click_behavior.linkType = ""question""`.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-12 21:43:19+00:00,['metamben'],2024-11-21 23:46:35+00:00,2024-11-21 22:22:13+00:00,https://github.com/metabase/metabase/pull/49911,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2471693362, 'issue_id': 2653409327, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-c3992464-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49911?repo=metabase/metabase&commitHash=c3992464dfdc89c27c7d38645f935f50ffb8f9b3&utm_source=gh-comment&runConclusion=FAILURE&runId=a3dbb336-94fa-5d79-85b7-d4ee0a5c66c9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49911?repo=metabase/metabase&commitHash=c3992464dfdc89c27c7d38645f935f50ffb8f9b3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 22, 14, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2472599850, 'issue_id': 2653409327, 'author': 'piranha', 'body': ""Do you think it needs to be a migration rather than an augment during read?.. I mean data migrations are finicky enough to potentially be a problem, and we already have `migrate-viz-settings` for stuff like that. I see that there is another migration merged in, but it's also not released yet, so it's more or less in the same condition. üòÅ"", 'created_at': datetime.datetime(2024, 11, 13, 6, 46, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2473910943, 'issue_id': 2653409327, 'author': 'metamben', 'body': ""> Do you think it needs to be a migration rather than an augment during read?.. I mean data migrations are finicky enough to potentially be a problem, and we already have `migrate-viz-settings` for stuff like that. I see that there is another migration merged in, but it's also not released yet, so it's more or less in the same condition. üòÅ\r\n\r\nYes, we had an extended discussion about this question and the outcome was that not doing the migration would be more error prone."", 'created_at': datetime.datetime(2024, 11, 13, 15, 15, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 22:14:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-c3992464-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49911?repo=metabase/metabase&commitHash=c3992464dfdc89c27c7d38645f935f50ffb8f9b3&utm_source=gh-comment&runConclusion=FAILURE&runId=a3dbb336-94fa-5d79-85b7-d4ee0a5c66c9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49911?repo=metabase/metabase&commitHash=c3992464dfdc89c27c7d38645f935f50ffb8f9b3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

piranha on (2024-11-13 06:46:20 UTC): Do you think it needs to be a migration rather than an augment during read?.. I mean data migrations are finicky enough to potentially be a problem, and we already have `migrate-viz-settings` for stuff like that. I see that there is another migration merged in, but it's also not released yet, so it's more or less in the same condition. üòÅ

metamben (Issue Creator) on (2024-11-13 15:15:30 UTC): Yes, we had an extended discussion about this question and the outcome was that not doing the migration would be more error prone.

"
2653247649,pull_request,closed,,feat(sdk): deprecate CreateQuestion and migrate cli and docs to use InteractiveQuestion,"Closes https://github.com/metabase/metabase/issues/49715

Deprecates the `CreateQuestion` component. Migrates documentation and the Embedding CLI to use `InteractiveQuestion` instead.

# CLI Demo

![CleanShot 2567-11-13 at 04 00 19@2x](https://github.com/user-attachments/assets/930bb959-01a4-4dda-95f2-0ee69a02ea74)

![CleanShot 2567-11-13 at 04 00 34@2x](https://github.com/user-attachments/assets/2150c112-b917-4b64-9392-d5abe59647a5)

![CleanShot 2567-11-13 at 04 00 25@2x](https://github.com/user-attachments/assets/768cd887-d845-4c4f-8709-2dfd1ae5741b)
",heypoom,2024-11-12 20:30:22+00:00,['heypoom'],2025-02-04 15:19:57+00:00,2024-11-15 15:55:39+00:00,https://github.com/metabase/metabase/pull/49908,"[('.Team/Embedding', '')]","[{'comment_id': 2471646618, 'issue_id': 2653247649, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13165 tests** were run on `6fad7643`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49908?repo=metabase/metabase&commitHash=6fad76431d52e1d4935163948fcb74cd190cfd15&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49908?repo=metabase/metabase&commitHash=6fad76431d52e1d4935163948fcb74cd190cfd15&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 21, 44, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2479294144, 'issue_id': 2653247649, 'author': 'heypoom', 'body': 'This PR is superseded by https://github.com/metabase/metabase/issues/50082', 'created_at': datetime.datetime(2024, 11, 15, 15, 55, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 21:44:26 UTC): <!-- Trunk Test Analytics -->


**13165 tests** were run on `6fad7643`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49908?repo=metabase/metabase&commitHash=6fad76431d52e1d4935163948fcb74cd190cfd15&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49908?repo=metabase/metabase&commitHash=6fad76431d52e1d4935163948fcb74cd190cfd15&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

heypoom (Issue Creator) on (2024-11-15 15:55:39 UTC): This PR is superseded by https://github.com/metabase/metabase/issues/50082

"
2653196445,pull_request,closed,,"ü§ñ backported ""feat(sdk): expose FilterPicker querying component""",#49768,github-automation-metabase,2024-11-12 20:01:07+00:00,"['heypoom', 'github-automation-metabase']",2024-11-12 21:24:43+00:00,2024-11-12 20:43:36+00:00,https://github.com/metabase/metabase/pull/49906,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2471556737, 'issue_id': 2653196445, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**12962 tests** were run on `c31281df`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49906?repo=metabase/metabase&commitHash=c31281df8c410f46fa3b9ed5dccdc1d3e4e5c4a7&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49906?repo=metabase/metabase&commitHash=c31281df8c410f46fa3b9ed5dccdc1d3e4e5c4a7&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 20, 51, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 20:51:20 UTC): <!-- Trunk Test Analytics -->


**12962 tests** were run on `c31281df`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49906?repo=metabase/metabase&commitHash=c31281df8c410f46fa3b9ed5dccdc1d3e4e5c4a7&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49906?repo=metabase/metabase&commitHash=c31281df8c410f46fa3b9ed5dccdc1d3e4e5c4a7&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2653155890,pull_request,closed,,"ü§ñ backported ""update subscription checkboxes""",#49805,github-automation-metabase,2024-11-12 19:43:05+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-12 21:08:41+00:00,2024-11-12 20:25:00+00:00,https://github.com/metabase/metabase/pull/49903,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2471510228, 'issue_id': 2653155890, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13095 tests** were run on `fdba25f8`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49903?repo=metabase/metabase&commitHash=fdba25f81c10c2ef0e85ebbfd99efb08213eb43f&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49903?repo=metabase/metabase&commitHash=fdba25f81c10c2ef0e85ebbfd99efb08213eb43f&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 20, 23, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 20:23:11 UTC): <!-- Trunk Test Analytics -->


**13095 tests** were run on `fdba25f8`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49903?repo=metabase/metabase&commitHash=fdba25f81c10c2ef0e85ebbfd99efb08213eb43f&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49903?repo=metabase/metabase&commitHash=fdba25f81c10c2ef0e85ebbfd99efb08213eb43f&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652998387,pull_request,closed,,feat(sdk): Summarize Picker,"Adds the `Summarize` component to the Interactive Question. It uses the `MultiStepPopover` to determine whether to show the `SummarizePicker` or the list of current summaries. the button is highlighted when there are multiple elements.

The only open question is the behavior when we first load the question. I _think_ this behavior is ok right now but I can look into it later if we decide that we don't want to have the default `Count` there

https://github.com/user-attachments/assets/268822b0-70e1-43ad-ba87-c34f795b3fea

",oisincoveney,2024-11-12 18:36:42+00:00,['oisincoveney'],2024-11-21 20:40:45+00:00,2024-11-21 19:47:58+00:00,https://github.com/metabase/metabase/pull/49901,"[('.Team/Embedding', '')]","[{'comment_id': 2477391723, 'issue_id': 2652998387, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13253_tests-5a73058c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49901?repo=metabase/metabase&commitHash=5a73058c4f1f70c1da63a6952e5d0afb72554eaa&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 20, 55, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2478443732, 'issue_id': 2652998387, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 730daa9fdba47e15752dd973f5765e962a81f2cd...5a73058c4f1f70c1da63a6952e5d0afb72554eaa.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 15, 9, 56, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 20:55:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13253_tests-5a73058c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49901?repo=metabase/metabase&commitHash=5a73058c4f1f70c1da63a6952e5d0afb72554eaa&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-15 09:56:37 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 730daa9fdba47e15752dd973f5765e962a81f2cd...5a73058c4f1f70c1da63a6952e5d0afb72554eaa.

No notifications.

"
2652954766,pull_request,closed,,feat(sdk): add background-disabled color,"Closes https://github.com/metabase/metabase/issues/47559

### Description

Adds the `colors.background-disabled` color for disabled element's background color.

### How to verify

- Set the `colors.background-disabled` color in the theme options
- Render a disabled button, such as the save button using `<InteractiveQuestion isSaveEnabled />`, which should be in a disabled state by default
- The disabled color should change

### Demo

The default save button's color now changes.

![CleanShot 2567-11-13 at 01 11 04@2x](https://github.com/user-attachments/assets/0f48a33a-1eb3-4da8-8ded-7d94bba991ac)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",heypoom,2024-11-12 18:11:37+00:00,['heypoom'],2024-11-14 07:53:12+00:00,2024-11-14 07:35:57+00:00,https://github.com/metabase/metabase/pull/49900,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2471352026, 'issue_id': 2652954766, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50326_tests-7bfa1b15-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49900?repo=metabase/metabase&commitHash=7bfa1b15b68106df8bd9ac29193803a0dbd777c0&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 19, 10, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 19:10:36 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50326_tests-7bfa1b15-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49900?repo=metabase/metabase&commitHash=7bfa1b15b68106df8bd9ac29193803a0dbd777c0&utm_source=gh-comment)

</sub>

"
2652937420,pull_request,closed,,Optimize search index updates using delayed batches,"The current implementation creates an unbounded number of background threads, each of which executes bulk ingestion queues scoped to a single model instance's downstream dependencies.

With this change, we start using a shared queue to enforce the delay, with a single worker that can ingest larger batches if the queue starts falling behind. The delay is also useful as our app often makes a bunch of updates in sequence to the same entities, and this lets us deduplicate the work.",crisptrutski,2024-11-12 18:01:31+00:00,['crisptrutski'],2024-11-26 18:51:26+00:00,2024-11-13 15:02:00+00:00,https://github.com/metabase/metabase/pull/49899,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2471222090, 'issue_id': 2652937420, 'author': 'crisptrutski', 'body': '* **#49899** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49899?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49866** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49866?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 12, 18, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2471331322, 'issue_id': 2652937420, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**123739 tests** were run on `1e4e2c29`. ‚ùå **2 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 2 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>related-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a82bbd5c-e6ff-5a92-a4f6-cc7ff3d96b97) |\n| <code>incremental-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=9b1af928-cbdd-54fd-be29-ffc837724761) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 19, 0, 33, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-12 18:01:49 UTC): * **#49899** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49899?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49866** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49866?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-12 19:00:33 UTC): <!-- Trunk Test Analytics -->


**123739 tests** were run on `1e4e2c29`. ‚ùå **2 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment)


<details>
<summary>‚ùå 2 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>related-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a82bbd5c-e6ff-5a92-a4f6-cc7ff3d96b97) |
| <code>incremental-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=9b1af928-cbdd-54fd-be29-ffc837724761) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49899?repo=metabase/metabase&commitHash=1e4e2c2991758ffcbcf8501b221d0626cf8db0f6&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652907850,pull_request,closed,,Update SDK version to 1.51.4,Update Readme version references and published npm package version to 1.51.4,github-automation-metabase,2024-11-12 17:47:37+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-13 08:49:05+00:00,2024-11-12 17:52:25+00:00,https://github.com/metabase/metabase/pull/49896,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2652853441,pull_request,closed,,feat(sdk): use Alert component for SDKError,"This uses our Alert component to make the errors a bit nicer, as suggested in:
https://metaboat.slack.com/archives/C063Q3F1HPF/p1731348270154669?thread_ts=1731086685.911859&cid=C063Q3F1HPF

The icon doesn't show up in shoppy, but since it shows in my empty project i suspect is some css magic we have on shoppy.
@heypoom if you want to check, I noticed it does show up when I remove the padding from AlertIcon ü§î 

# Demo
## Empty app with two components
<img width=""1590"" alt=""image"" src=""https://github.com/user-attachments/assets/0e79140d-da5e-477c-9ed4-fe7c5bc8da5f"">

## Shoppy
<img width=""1596"" alt=""image"" src=""https://github.com/user-attachments/assets/6f9c0e6c-3dc9-48c1-ba95-73c43b5ec5ec"">
<img width=""1583"" alt=""image"" src=""https://github.com/user-attachments/assets/25777190-ebb5-47db-b277-1e59a428fec2"">
<img width=""1585"" alt=""image"" src=""https://github.com/user-attachments/assets/e5c53fc3-7685-4c8c-bf73-dacb6e0ca773"">
",npretto,2024-11-12 17:29:24+00:00,['npretto'],2024-11-13 17:36:53+00:00,2024-11-13 16:52:59+00:00,https://github.com/metabase/metabase/pull/49895,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2471248104, 'issue_id': 2652853441, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13165 tests** were run on `880674b3`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49895?repo=metabase/metabase&commitHash=880674b38242b945625e293c68fcfa0e81fc956c&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49895?repo=metabase/metabase&commitHash=880674b38242b945625e293c68fcfa0e81fc956c&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 18, 15, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 18:15:28 UTC): <!-- Trunk Test Analytics -->


**13165 tests** were run on `880674b3`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49895?repo=metabase/metabase&commitHash=880674b38242b945625e293c68fcfa0e81fc956c&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49895?repo=metabase/metabase&commitHash=880674b38242b945625e293c68fcfa0e81fc956c&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652649144,pull_request,closed,,backend: send a dummy session id to unbreak stats,Send a dummy session id to unbreak stats,johnswanson,2024-11-12 16:11:52+00:00,['johnswanson'],2024-11-12 18:09:01+00:00,2024-11-12 16:41:14+00:00,https://github.com/metabase/metabase/pull/49894,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2471076817, 'issue_id': 2652649144, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101217 tests** were run on `23ea6930`. ‚ùå **190 Failed**, ‚ö†Ô∏è **2 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 190 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=24d9899f-b805-5ee6-99d7-007af2fc0274) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f5299e05-904b-5c96-be41-035f4c036e19) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (dropdown) should be able to use a static list source in th...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b4a8fb20-a15e-5a0b-b9eb-b9cb0792afc1) |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=82f6817e-65b8-5e21-a7dd-e2862bb05eef) |\n| <code>issue 45924 should preserve model metadata when re-running the query (metabase\\$145924)</code> | The test timed out while trying to find an element with the text \'ID1\' and could not find it. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=04f79fe1-0b24-560d-868b-806c23cf5573) |\n| <code>scenarios > filters > sql filters > values source > number parameter should clear the value type and config when changing the template tag type and...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f4d9af0b-3728-5677-a4a2-3b4c4daf4110) |\n| <code>scenarios > filters > sql filters > values source > number parameter should show the values when picking the default value</code> | Unable to find a button with the name ""Get Answer"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7c149823-5d87-5c16-9b5f-24a5d4f291d7) |\n| <code>issue 19889 should order columns correctly in unsaved native query exports</code> | The download button was not found within 4 seconds, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=261a9432-4473-5abb-a635-cc1101be1e24) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> | The test timed out waiting for the \'/open editor/i\' content to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d7e9aea1-876a-5b53-882d-fdbd11df689e) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> | The test timed out waiting for the \'/open editor/i\' content to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5cccaf23-5268-5cf8-ad77-2561e8631309) |\n\n[... and 180 more](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 2 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=aad1306f-c998-50ee-a03e-0920d4314ebb) |\n| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6869f37f-71bb-5ce9-8bdd-f7ec9719eb71) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 16, 54, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 16:54:59 UTC): <!-- Trunk Test Analytics -->


**101217 tests** were run on `23ea6930`. ‚ùå **190 Failed**, ‚ö†Ô∏è **2 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment)


<details>
<summary>‚ùå 190 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=24d9899f-b805-5ee6-99d7-007af2fc0274) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f5299e05-904b-5c96-be41-035f4c036e19) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (dropdown) should be able to use a static list source in th...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b4a8fb20-a15e-5a0b-b9eb-b9cb0792afc1) |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=82f6817e-65b8-5e21-a7dd-e2862bb05eef) |
| <code>issue 45924 should preserve model metadata when re-running the query (metabase\$145924)</code> | The test timed out while trying to find an element with the text 'ID1' and could not find it. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=04f79fe1-0b24-560d-868b-806c23cf5573) |
| <code>scenarios > filters > sql filters > values source > number parameter should clear the value type and config when changing the template tag type and...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f4d9af0b-3728-5677-a4a2-3b4c4daf4110) |
| <code>scenarios > filters > sql filters > values source > number parameter should show the values when picking the default value</code> | Unable to find a button with the name ""Get Answer"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7c149823-5d87-5c16-9b5f-24a5d4f291d7) |
| <code>issue 19889 should order columns correctly in unsaved native query exports</code> | The download button was not found within 4 seconds, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=261a9432-4473-5abb-a635-cc1101be1e24) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> | The test timed out waiting for the '/open editor/i' content to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d7e9aea1-876a-5b53-882d-fdbd11df689e) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> | The test timed out waiting for the '/open editor/i' content to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5cccaf23-5268-5cf8-ad77-2561e8631309) |

[... and 180 more](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 2 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=aad1306f-c998-50ee-a03e-0920d4314ebb) |
| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49894?repo=metabase/metabase&commitHash=23ea69305c54686f60603bfcc1b4ae04181898ea&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6869f37f-71bb-5ce9-8bdd-f7ec9719eb71) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652624823,pull_request,open,,Remove jdbc: prefix for version 0.51.x,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.


### Description

I was trying to create a metabase app using my fly.io account. And I tried to connect to an existing postgres 16 app I'm using for my app and I was not able to make it work when I followed strictly the doc.

I had to change the string connection and remove the jdbc prefix to make it work. I'm not sure if I was doing something wrong, but removing it did the trick.

‚ö†Ô∏è I didn't change the MySQL/MariaDB one because I don't know if this could affect it (I didn't have a mysql available to test)

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",brunoocasali,2024-11-12 16:01:10+00:00,[],2024-11-12 16:01:57+00:00,,https://github.com/metabase/metabase/pull/49893,[],[],
2652563716,pull_request,closed,,Update SDK version to 0.51.4,Update Readme version references and published npm package version to 0.51.4,github-automation-metabase,2024-11-12 15:37:23+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-12 15:38:43+00:00,2024-11-12 15:38:40+00:00,https://github.com/metabase/metabase/pull/49892,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2652518808,pull_request,closed,,"ü§ñ backported ""Add a force parameter to permission graph endpoints to bypass revision number check""",#49856,github-automation-metabase,2024-11-12 15:26:52+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-12 17:14:21+00:00,2024-11-12 16:14:06+00:00,https://github.com/metabase/metabase/pull/49891,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2470958444, 'issue_id': 2652518808, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**19 tests** were run on `8e7228d7`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49891?repo=metabase/metabase&commitHash=8e7228d74b588fc9a2ccfb0ef6a0cc10f45550ec&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49891?repo=metabase/metabase&commitHash=8e7228d74b588fc9a2ccfb0ef6a0cc10f45550ec&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 16, 14, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 16:14:55 UTC): <!-- Trunk Test Analytics -->


**19 tests** were run on `8e7228d7`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49891?repo=metabase/metabase&commitHash=8e7228d74b588fc9a2ccfb0ef6a0cc10f45550ec&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49891?repo=metabase/metabase&commitHash=8e7228d74b588fc9a2ccfb0ef6a0cc10f45550ec&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652518425,pull_request,closed,,"ü§ñ backported ""Clarify cache API permissions and add tests""",#49804,github-automation-metabase,2024-11-12 15:26:42+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-12 17:19:43+00:00,2024-11-12 16:13:11+00:00,https://github.com/metabase/metabase/pull/49890,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2470957943, 'issue_id': 2652518425, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**87809 tests** were run on `d69a6609`. ‚úÖ **87809 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49890?repo=metabase/metabase&commitHash=d69a660908551f63b9bb25df84814c3fce3c51eb&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 16, 14, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 16:14:42 UTC): <!-- Trunk Test Analytics -->


**87809 tests** were run on `d69a6609`. ‚úÖ **87809 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49890?repo=metabase/metabase&commitHash=d69a660908551f63b9bb25df84814c3fce3c51eb&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652509969,pull_request,closed,,"ü§ñ backported ""docs - sdk revisions""",#49855,github-automation-metabase,2024-11-12 15:23:02+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-12 15:24:56+00:00,2024-11-12 15:24:55+00:00,https://github.com/metabase/metabase/pull/49889,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2652509183,pull_request,closed,,ci(sdk): [release-51] Prevent SDK from being upgraded unintentionally,"This is a part of https://github.com/metabase/metabase/issues/49881

### Description

- Use version `0.x.y` instead to avoid version being bumped unintentionally in users' lock files.
- For nightly (builds from `master`), we will also append the suffix `-nightly` to the version, so it stands out that this isn't the stable version.

### How to verify


### Demo

- [Release 51 mock workflow run](https://github.com/metabase/metabase/actions/runs/11800347528) with commit a2c21f4d0b976f00c2054e4e3b356ead06f9b385
  - [Docs PR](https://github.com/metabase/metabase/pull/49892):
    - All the entries in the release branch have been included in the [`master` docs version](https://github.com/metabase/metabase/pull/49884/files). Which is correct because the entries in the release branch should be a subset of the master version unless we have a change that targets the release 51 branch directly (we rarely do that anyway)
    - The [tag link](https://github.com/metabase/metabase/compare/embedding-sdk-1.51.3...embedding-sdk-0.51.4) looks correct.
    - [New] [Added Alberto as the reviewer](https://metaboat.slack.com/archives/C063Q3F1HPF/p1724665116620199?thread_ts=1724509353.669699&cid=C063Q3F1HPF), so he sees the notification when the new version is deployed.
  - As this is like the release branch, it [adds the `latest` tag to the npm version](https://github.com/metabase/metabase/actions/runs/11800347528/job/32871880065#step:14:8) correctly.
  - [New git tag](https://github.com/metabase/metabase/actions/runs/11800347528/job/32871923801#step:3:8) looks correct.
### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~ Tests are shown above.

",WiNloSt,2024-11-12 15:22:42+00:00,['WiNloSt'],2024-11-13 03:35:31+00:00,2024-11-13 03:35:03+00:00,https://github.com/metabase/metabase/pull/49888,"[('.Team/Embedding', '')]",[],
2652467159,pull_request,closed,,Update SDK version to 0.52.2-nightly,Update Readme version references and published npm package version to 0.52.2-nightly,github-automation-metabase,2024-11-12 15:05:01+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-12 15:26:45+00:00,2024-11-12 15:07:11+00:00,https://github.com/metabase/metabase/pull/49884,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2652462000,pull_request,closed,,ci(sdk): [master] Prevent SDK from being upgraded unintentionally,"This is a part of https://github.com/metabase/metabase/issues/49881

### Description

- Use version `0.x.y` instead to avoid version being bumped unintentionally in users' lock files.
- For nightly (builds from `master`), we will also append the suffix `-nightly` to the version, so it stands out that this isn't the stable version.

### How to verify


### Demo

- [Master mock workflow run](https://github.com/metabase/metabase/actions/runs/11799780623) with commit 7d5d8bf802e1698278f2e466944eb61074c70f8c
  - [Docs PR](https://github.com/metabase/metabase/pull/49884):
    - The [tag link](https://github.com/metabase/metabase/compare/embedding-sdk-1.52.1...embedding-sdk-0.52.2-nightly) looks correct.
    - [New] [Added Alberto as the reviewer](https://metaboat.slack.com/archives/C063Q3F1HPF/p1724665116620199?thread_ts=1724509353.669699&cid=C063Q3F1HPF), so he sees the notification when the new version is deployed.
  - [New git tag](https://github.com/metabase/metabase/actions/runs/11799780623/job/32869868296#step:3:8) looks correct.
### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~ Tests are shown above.
",WiNloSt,2024-11-12 15:02:47+00:00,['WiNloSt'],2024-11-26 18:51:28+00:00,2024-11-13 03:34:01+00:00,https://github.com/metabase/metabase/pull/49883,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2470774980, 'issue_id': 2652462000, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 12, 15, 3, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2470776876, 'issue_id': 2652462000, 'author': 'WiNloSt', 'body': ""This PR shouldn't be backported since the change in the `enterprise/frontend/src/embedding-sdk/package.template.json` file on the release branch would be different."", 'created_at': datetime.datetime(2024, 11, 12, 15, 3, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-12 15:03:09 UTC): <!---conventional commit reminder comment ID-->
@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

WiNloSt (Issue Creator) on (2024-11-12 15:03:52 UTC): This PR shouldn't be backported since the change in the `enterprise/frontend/src/embedding-sdk/package.template.json` file on the release branch would be different.

"
2652185265,pull_request,closed,,remove show(hide) editor button,"closes https://github.com/metabase/metabase/issues/50026

Removes ""Show Editor"" button from the qb header

also fixes segment control and shows 3 buttons for a table and pivot table

https://github.com/user-attachments/assets/2ddb5d54-9f75-4a2d-939b-df3919ac1dcb


",uladzimirdev,2024-11-12 13:23:33+00:00,['uladzimirdev'],2024-11-19 17:36:29+00:00,2024-11-19 17:36:27+00:00,https://github.com/metabase/metabase/pull/49877,"[('.Team/Querying', '')]","[{'comment_id': 2470639762, 'issue_id': 2652185265, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13154_tests-f83472c3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pivot tables should not have to wait for data to show fields in summarization (metabase\\$126467)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49877?repo=metabase/metabase&commitHash=f83472c31edb18752d5b2c6f4001a18420b5c220&utm_source=gh-comment&runConclusion=FAILURE&runId=ce9af752-3716-534d-803f-db3fd1d67155) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49877?repo=metabase/metabase&commitHash=f83472c31edb18752d5b2c6f4001a18420b5c220&utm_source=gh-comment&runConclusion=FAILURE&runId=e9d2b683-85ec-5b3e-99f9-f98a752deadb) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49877?repo=metabase/metabase&commitHash=f83472c31edb18752d5b2c6f4001a18420b5c220&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 14, 10, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483177503, 'issue_id': 2652185265, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 44fc87cbf6986bc24fe9a9f5073aff0c59da9b9f...f83472c31edb18752d5b2c6f4001a18420b5c220.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |', 'created_at': datetime.datetime(2024, 11, 18, 14, 19, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 14:10:37 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13154_tests-f83472c3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pivot tables should not have to wait for data to show fields in summarization (metabase\$126467)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49877?repo=metabase/metabase&commitHash=f83472c31edb18752d5b2c6f4001a18420b5c220&utm_source=gh-comment&runConclusion=FAILURE&runId=ce9af752-3716-534d-803f-db3fd1d67155) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49877?repo=metabase/metabase&commitHash=f83472c31edb18752d5b2c6f4001a18420b5c220&utm_source=gh-comment&runConclusion=FAILURE&runId=e9d2b683-85ec-5b3e-99f9-f98a752deadb) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49877?repo=metabase/metabase&commitHash=f83472c31edb18752d5b2c6f4001a18420b5c220&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-18 14:19:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 44fc87cbf6986bc24fe9a9f5073aff0c59da9b9f...f83472c31edb18752d5b2c6f4001a18420b5c220.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |

"
2652116145,pull_request,closed,,"ü§ñ backported ""fix(sdk): Convert jwtProviderUri to authProviderUri""","  #49843
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-12 13:01:20+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-12 17:35:37+00:00,2024-11-12 17:05:02+00:00,https://github.com/metabase/metabase/pull/49876,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2470647247, 'issue_id': 2652116145, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13095 tests** were run on `b9ca8de8`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49876?repo=metabase/metabase&commitHash=b9ca8de8a254221398775c6e332cf593fbf2b875&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49876?repo=metabase/metabase&commitHash=b9ca8de8a254221398775c6e332cf593fbf2b875&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 14, 13, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 14:13:31 UTC): <!-- Trunk Test Analytics -->


**13095 tests** were run on `b9ca8de8`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49876?repo=metabase/metabase&commitHash=b9ca8de8a254221398775c6e332cf593fbf2b875&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49876?repo=metabase/metabase&commitHash=b9ca8de8a254221398775c6e332cf593fbf2b875&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2652096714,pull_request,closed,,add capability for sending bug reports,"Closes https://github.com/metabase/metabase/issues/49542

### Description

Add a button to send diagnostic data to slack. Right now, there‚Äôs an option to download the data as a json when cmd/ctrl + F1 key is pressed. View [this project](https://github.com/orgs/metabase/projects/102/views/1) for more details. This feature is only available on stats.metabase.com or localhost.

### How to verify

1. cmd/ctrl + F1
2. ""send to slack"" button appears
3. hit the button and see a report appear in #bug-reports-internal in Slack metabase

### Tests
- bug report channel input appears on Slack integration when MB_BUG_REPORTER_ENABLED is set
- bug report channel input field is not visible when MB_BUG_REPORTER_ENABLED is not set
- ‚Äúsend to slack‚Äù button appears when all of these are true:
    - bug report channel is set in slack settings
    - MB_BUG_REPORTER_ENABLED env variable is set up
- ‚Äúsend to slack‚Äù button does not appear when either one of the conditions is missing
- ‚Äúsend to slack‚Äù button shows loading 
- ‚Äúsend to slack‚Äù button hides loading when action is done
- notification message is shown when sending to slack is successful and unsuccessful
- diagnostic data can be downloaded
- diagnostic data is sent to files channel
- diagnostic data summary with original file attached is sent to bug reports channel",filiphric,2024-11-12 12:52:11+00:00,['filiphric'],2024-12-13 00:17:24+00:00,2024-11-22 08:31:07+00:00,https://github.com/metabase/metabase/pull/49875,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2470495665, 'issue_id': 2652096714, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/14548_tests-939c6a8e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49875?repo=metabase/metabase&commitHash=939c6a8e083b5c62365afcac86a726aa332a78d3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 13, 11, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 13:11:45 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/14548_tests-939c6a8e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49875?repo=metabase/metabase&commitHash=939c6a8e083b5c62365afcac86a726aa332a78d3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2651950538,pull_request,closed,,"ü§ñ backported ""Allow changing the limit using just the html input arrows""",#49818,github-automation-metabase,2024-11-12 11:44:36+00:00,"['romeovs', 'github-automation-metabase']",2024-11-13 06:34:17+00:00,2024-11-13 06:34:16+00:00,https://github.com/metabase/metabase/pull/49873,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2470369436, 'issue_id': 2651950538, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13097 tests** were run on `721aed23`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49873?repo=metabase/metabase&commitHash=721aed2343b9d5994be8739caec5c0aba9d04c36&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49873?repo=metabase/metabase&commitHash=721aed2343b9d5994be8739caec5c0aba9d04c36&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 12, 11, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 12:11:03 UTC): <!-- Trunk Test Analytics -->


**13097 tests** were run on `721aed23`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49873?repo=metabase/metabase&commitHash=721aed2343b9d5994be8739caec5c0aba9d04c36&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49873?repo=metabase/metabase&commitHash=721aed2343b9d5994be8739caec5c0aba9d04c36&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2651843236,pull_request,closed,,wip: Alert component for SDKError,https://metaboat.slack.com/archives/C063Q3F1HPF/p1731348270154669?thread_ts=1731086685.911859&cid=C063Q3F1HPF,npretto,2024-11-12 11:04:17+00:00,['npretto'],2025-02-04 14:54:49+00:00,2024-11-12 17:58:31+00:00,https://github.com/metabase/metabase/pull/49872,"[('.Team/Embedding', '')]","[{'comment_id': 2470236047, 'issue_id': 2651843236, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 12, 11, 4, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-12 11:04:39 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2651759739,pull_request,closed,,"ü§ñ backported ""skip json() -> JSON.stringify and just forward the text""",#49792,github-automation-metabase,2024-11-12 10:37:34+00:00,"['npretto', 'github-automation-metabase']",2024-11-12 10:39:06+00:00,2024-11-12 10:39:05+00:00,https://github.com/metabase/metabase/pull/49871,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2651539184,pull_request,closed,,Testing email,,qnkhuat,2024-11-12 09:14:12+00:00,['qnkhuat'],2024-11-14 00:27:53+00:00,2024-11-14 00:27:53+00:00,https://github.com/metabase/metabase/pull/49870,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2470049054, 'issue_id': 2651539184, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**126151 tests** were run on `6f1e989a`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49870?repo=metabase/metabase&commitHash=6f1e989a56b8fb88dd9fa56b4bf9e2d4e2303575&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49870?repo=metabase/metabase&commitHash=6f1e989a56b8fb88dd9fa56b4bf9e2d4e2303575&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=317c4952-7ab9-56b9-a06c-98dca5372fac) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 9, 40, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2470071011, 'issue_id': 2651539184, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 6f1e989a56b8fb88dd9fa56b4bf9e2d4e2303575.\n‚úÖ Preview:\n    https://pr49870.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 12, 9, 49, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 09:40:05 UTC): <!-- Trunk Test Analytics -->


**126151 tests** were run on `6f1e989a`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49870?repo=metabase/metabase&commitHash=6f1e989a56b8fb88dd9fa56b4bf9e2d4e2303575&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49870?repo=metabase/metabase&commitHash=6f1e989a56b8fb88dd9fa56b4bf9e2d4e2303575&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=317c4952-7ab9-56b9-a06c-98dca5372fac) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

github-actions[bot] on (2024-11-12 09:49:56 UTC): üëã Deploying a preview environment for commit 6f1e989a56b8fb88dd9fa56b4bf9e2d4e2303575.
‚úÖ Preview:
    https://pr49870.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2651501634,pull_request,closed,,Add v0.50.33 to the list of releases,Like it says on the tin üòÅ,github-automation-metabase,2024-11-12 08:57:00+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-13 21:27:31+00:00,2024-11-13 21:24:18+00:00,https://github.com/metabase/metabase/pull/49869,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2651485887,pull_request,closed,,Translate more strings on static embed with `#locale`,"Closes https://github.com/metabase/metabase/issues/49864

### Description

This PR translates the 3 places mentioned in the issue in static embeddings/public links.

### How to verify
Follow the repro from https://github.com/metabase/metabase/issues/49864

Just to make sure, you can also revert all the code except the E2E test and run the test, and all new assertions should fail.

### Demo
1. Pie chart - Other
     ![Screenshot 2024-11-12 at 3 01 53‚ÄØPM](https://github.com/user-attachments/assets/8e05a821-06bd-4341-9a73-52d4416f9f36)

1. Trend chart - No data
     ![Screenshot 2024-11-12 at 2 37 29‚ÄØPM](https://github.com/user-attachments/assets/c40fec73-a0ee-42bb-bd8c-c2893f19b4e3)

1. Line chart - Tooltip aggregation name
     ![Screenshot 2024-11-12 at 3 01 01‚ÄØPM](https://github.com/user-attachments/assets/4bedd01a-ecbc-460d-8982-c94f483aecdd)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-12 08:50:39+00:00,['WiNloSt'],2024-11-14 12:56:14+00:00,2024-11-14 12:56:12+00:00,https://github.com/metabase/metabase/pull/49868,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2469935281, 'issue_id': 2651485887, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c2735f6dbb56417eb97e4a81f0ebea39fc732057...c619d074e7d0215dea74e493f048bc81f1cedced.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/other-series.ts<br>frontend/src/metabase/visualizations/echarts/pie/constants.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/option.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/compute.js |', 'created_at': datetime.datetime(2024, 11, 12, 8, 52, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469951123, 'issue_id': 2651485887, 'author': 'WiNloSt', 'body': 'Not backporting this because we will release this feature `#locale` on 52.', 'created_at': datetime.datetime(2024, 11, 12, 8, 59, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2470051141, 'issue_id': 2651485887, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**19 tests** were run on `c619d074`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49868?repo=metabase/metabase&commitHash=c619d074e7d0215dea74e493f048bc81f1cedced&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49868?repo=metabase/metabase&commitHash=c619d074e7d0215dea74e493f048bc81f1cedced&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 9, 41, 2, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-12 08:52:07 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c2735f6dbb56417eb97e4a81f0ebea39fc732057...c619d074e7d0215dea74e493f048bc81f1cedced.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/other-series.ts<br>frontend/src/metabase/visualizations/echarts/pie/constants.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/option.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/compute.js |

WiNloSt (Issue Creator) on (2024-11-12 08:59:09 UTC): Not backporting this because we will release this feature `#locale` on 52.

trunk-io[bot] on (2024-11-12 09:41:02 UTC): <!-- Trunk Test Analytics -->


**19 tests** were run on `c619d074`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49868?repo=metabase/metabase&commitHash=c619d074e7d0215dea74e493f048bc81f1cedced&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49868?repo=metabase/metabase&commitHash=c619d074e7d0215dea74e493f048bc81f1cedced&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2651369235,pull_request,closed,,Basic API to twiddle with search weights,"Adds dev API to get and set the current search weights.

Intended to be used with cURL or some kind of REST dev tool.",crisptrutski,2024-11-12 08:00:13+00:00,['crisptrutski'],2024-11-26 18:51:27+00:00,2024-11-13 12:56:57+00:00,https://github.com/metabase/metabase/pull/49866,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2469857540, 'issue_id': 2651369235, 'author': 'piranha', 'body': ""So... I know it's weird, but why don't we (for easiness of usage) not merge both GET and PUT handlers as a single GET handler which takes updates from the query string (like, known values are taken)? That way you don't need to go to the terminal to change anything, just open in a browser and you'll change and see your changes at the same time."", 'created_at': datetime.datetime(2024, 11, 12, 8, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469907957, 'issue_id': 2651369235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**113816 tests** were run on `ef3fa49a`. ‚ö†Ô∏è **2 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=ef3fa49a81365f7b288c0ad747ee21dbcd4342ec&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ö†Ô∏è 2 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>incremental-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=ef3fa49a81365f7b288c0ad747ee21dbcd4342ec&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e02a688a-5e19-5817-8f68-fa24261117d6) |\n| <code>related-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=ef3fa49a81365f7b288c0ad747ee21dbcd4342ec&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=9e086132-b248-54b4-97ad-b2d613ee7fbb) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 8, 39, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469907963, 'issue_id': 2651369235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**78118 tests** were run on `c063528b`. ‚ùå **6 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 6 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1214b699-f811-56c8-b878-5f27da0e92ce) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=498fc2d6-6a22-56ac-998a-10bc1c0c31c9) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4af257e1-ce1b-5d54-8ec5-569f6dcb6d78) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=984e8e7e-11d2-5662-98d6-4c6acd03aa5d) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=31f6d122-38ca-5f13-9ddd-f00787b50d3e) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ee9db351-2b5f-533c-9e6a-19bafd3979a4) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 8, 39, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469907966, 'issue_id': 2651369235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**78118 tests** were run on `c063528b`. ‚ùå **6 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 6 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1214b699-f811-56c8-b878-5f27da0e92ce) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=498fc2d6-6a22-56ac-998a-10bc1c0c31c9) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4af257e1-ce1b-5d54-8ec5-569f6dcb6d78) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=984e8e7e-11d2-5662-98d6-4c6acd03aa5d) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=31f6d122-38ca-5f13-9ddd-f00787b50d3e) |\n| <code>weights-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ee9db351-2b5f-533c-9e6a-19bafd3979a4) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 8, 39, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2470900412, 'issue_id': 2651369235, 'author': 'crisptrutski', 'body': '> So... I know it\'s weird, but why don\'t we (for easiness of usage) not merge both GET and PUT handlers as a single GET handler which takes updates from the query string (like, known values are taken)? That way you don\'t need to go to the terminal to change anything, just open in a browser and you\'ll change and see your changes at the same time.\r\n\r\nThose ergonomics make sense, and I don\'t mind a ""hacky"" interface since this is just for dev. I was imagining posting a local file with all the weights, where PUT is a bit easier.\r\n\r\nSince there was already a GET, I just made that support setting stuff too - best of both!', 'created_at': datetime.datetime(2024, 11, 12, 15, 52, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2471219581, 'issue_id': 2651369235, 'author': 'crisptrutski', 'body': '* **#49899** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49899?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49866** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49866?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 12, 18, 0, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2472703470, 'issue_id': 2651369235, 'author': 'crisptrutski', 'body': 'I decided to keep it global so that we can get feedback from the rest of the company on tweaks that we make.\n\nI can see it both ways, perhaps Arakaki would want to do private experimentation, or two people would want to experiment in parallel. This is easy to change in future, and its easier to specialize to users later, than to despecialize üôÇ', 'created_at': datetime.datetime(2024, 11, 13, 7, 37, 59, tzinfo=datetime.timezone.utc)}]","piranha on (2024-11-12 08:13:00 UTC): So... I know it's weird, but why don't we (for easiness of usage) not merge both GET and PUT handlers as a single GET handler which takes updates from the query string (like, known values are taken)? That way you don't need to go to the terminal to change anything, just open in a browser and you'll change and see your changes at the same time.

trunk-io[bot] on (2024-11-12 08:39:19 UTC): <!-- Trunk Test Analytics -->


**113816 tests** were run on `ef3fa49a`. ‚ö†Ô∏è **2 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=ef3fa49a81365f7b288c0ad747ee21dbcd4342ec&utm_source=gh-comment)


<details>
<summary>‚ö†Ô∏è 2 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>incremental-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=ef3fa49a81365f7b288c0ad747ee21dbcd4342ec&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e02a688a-5e19-5817-8f68-fa24261117d6) |
| <code>related-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=ef3fa49a81365f7b288c0ad747ee21dbcd4342ec&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=9e086132-b248-54b4-97ad-b2d613ee7fbb) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-12 08:39:19 UTC): <!-- Trunk Test Analytics -->


**78118 tests** were run on `c063528b`. ‚ùå **6 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment)


<details>
<summary>‚ùå 6 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1214b699-f811-56c8-b878-5f27da0e92ce) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=498fc2d6-6a22-56ac-998a-10bc1c0c31c9) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4af257e1-ce1b-5d54-8ec5-569f6dcb6d78) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=984e8e7e-11d2-5662-98d6-4c6acd03aa5d) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=31f6d122-38ca-5f13-9ddd-f00787b50d3e) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ee9db351-2b5f-533c-9e6a-19bafd3979a4) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-12 08:39:19 UTC): <!-- Trunk Test Analytics -->


**78118 tests** were run on `c063528b`. ‚ùå **6 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment)


<details>
<summary>‚ùå 6 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1214b699-f811-56c8-b878-5f27da0e92ce) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=498fc2d6-6a22-56ac-998a-10bc1c0c31c9) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4af257e1-ce1b-5d54-8ec5-569f6dcb6d78) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=984e8e7e-11d2-5662-98d6-4c6acd03aa5d) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=31f6d122-38ca-5f13-9ddd-f00787b50d3e) |
| <code>weights-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49866?repo=metabase/metabase&commitHash=c063528b87c4d33cdcf8cdf4ed0beac4d23b55a2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ee9db351-2b5f-533c-9e6a-19bafd3979a4) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

crisptrutski (Issue Creator) on (2024-11-12 15:52:05 UTC): Those ergonomics make sense, and I don't mind a ""hacky"" interface since this is just for dev. I was imagining posting a local file with all the weights, where PUT is a bit easier.

Since there was already a GET, I just made that support setting stuff too - best of both!

crisptrutski (Issue Creator) on (2024-11-12 18:00:39 UTC): * **#49899** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49899?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49866** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49866?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

crisptrutski (Issue Creator) on (2024-11-13 07:37:59 UTC): I decided to keep it global so that we can get feedback from the rest of the company on tweaks that we make.

I can see it both ways, perhaps Arakaki would want to do private experimentation, or two people would want to experiment in parallel. This is easy to change in future, and its easier to specialize to users later, than to despecialize üôÇ

"
2651327644,pull_request,closed,,"ü§ñ backported ""Remove some styled components in Summarize""",#49836,github-automation-metabase,2024-11-12 07:39:28+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-12 08:43:52+00:00,2024-11-12 08:21:32+00:00,https://github.com/metabase/metabase/pull/49865,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2469851672, 'issue_id': 2651327644, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13095 tests** were run on `30a629cc`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49865?repo=metabase/metabase&commitHash=30a629cc3cdd58b1465fa0535ff197775d297c6d&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49865?repo=metabase/metabase&commitHash=30a629cc3cdd58b1465fa0535ff197775d297c6d&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 8, 9, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 08:09:54 UTC): <!-- Trunk Test Analytics -->


**13095 tests** were run on `30a629cc`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49865?repo=metabase/metabase&commitHash=30a629cc3cdd58b1465fa0535ff197775d297c6d&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49865?repo=metabase/metabase&commitHash=30a629cc3cdd58b1465fa0535ff197775d297c6d&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2651258902,pull_request,closed,,Master into Metabot v3,"Merge most code from master, en route to Stats. I want to get the new Search code out for testing in the field.

Since the last merge was squashed, the latest ancestor commit is wrong, only a few of the PR commits shown here are actually being added.

I suspect the failing tests are unrelated to this merge.",crisptrutski,2024-11-12 07:10:24+00:00,['crisptrutski'],2024-11-14 06:32:07+00:00,2024-11-14 06:32:07+00:00,https://github.com/metabase/metabase/pull/49863,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2469797977, 'issue_id': 2651258902, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**111426 tests** were run on `2bdf9c1f`. ‚ùå **221 Failed**, ‚ö†Ô∏è **2 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 221 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=95f12184-9a3d-5621-a88d-680b1335b3c2) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e306d40a-747a-5e80-a5ea-941ff4fd7a10) |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4afa2d65-2aed-52f8-ad2c-8740c69911ae) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | Unable to find a label with the text \'Sum of Total\' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bd9e82cb-355d-51e0-a26e-b3eeb4fa2012) |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=257b58bd-9ea7-5299-8098-5c06d49c19f1) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\$113817)</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dfa58ec0-3de9-5807-9225-5d1d667e743a) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ca93584d-fea6-5d3b-9811-65f865f597dc) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1f687317-699e-568d-bc79-32fdbd1125af) |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3c12e3dc-9ae7-5433-ab12-31e1f0da0c2c) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=afa34b70-1f6a-516a-9214-220305d38907) |\n\n[... and 211 more](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 2 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a7640ef4-8dee-57a8-8f33-f6af14476c4f) |\n| <code>datetime-math-string-to-date-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73b2ec4d-0e5c-5511-b720-d5ffca346dcd) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 7, 37, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475519959, 'issue_id': 2651258902, 'author': 'crisptrutski', 'body': 'This is rotting fast, will leave it up to the LLM team to sort out, and get a non-stats environment up for testing.', 'created_at': datetime.datetime(2024, 11, 14, 6, 32, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 07:37:01 UTC): <!-- Trunk Test Analytics -->


**111426 tests** were run on `2bdf9c1f`. ‚ùå **221 Failed**, ‚ö†Ô∏è **2 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment)


<details>
<summary>‚ùå 221 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=95f12184-9a3d-5621-a88d-680b1335b3c2) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e306d40a-747a-5e80-a5ea-941ff4fd7a10) |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4afa2d65-2aed-52f8-ad2c-8740c69911ae) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | Unable to find a label with the text 'Sum of Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bd9e82cb-355d-51e0-a26e-b3eeb4fa2012) |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=257b58bd-9ea7-5299-8098-5c06d49c19f1) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\$113817)</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dfa58ec0-3de9-5807-9225-5d1d667e743a) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ca93584d-fea6-5d3b-9811-65f865f597dc) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1f687317-699e-568d-bc79-32fdbd1125af) |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3c12e3dc-9ae7-5433-ab12-31e1f0da0c2c) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=afa34b70-1f6a-516a-9214-220305d38907) |

[... and 211 more](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 2 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a7640ef4-8dee-57a8-8f33-f6af14476c4f) |
| <code>datetime-math-string-to-date-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73b2ec4d-0e5c-5511-b720-d5ffca346dcd) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49863?repo=metabase/metabase&commitHash=2bdf9c1f673efbea52f96c69bad01298651c1b9a&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

crisptrutski (Issue Creator) on (2024-11-14 06:32:07 UTC): This is rotting fast, will leave it up to the LLM team to sort out, and get a non-stats environment up for testing.

"
2651230933,pull_request,closed,,"ü§ñ backported ""Fix flaky homepage xrays test""",#49765,github-automation-metabase,2024-11-12 06:53:27+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-12 09:14:34+00:00,2024-11-12 08:38:32+00:00,https://github.com/metabase/metabase/pull/49862,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2469798003, 'issue_id': 2651230933, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**4887 tests** were run on `fddcc3a3`. ‚úÖ **4887 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49862?repo=metabase/metabase&commitHash=fddcc3a3bffa8cdf634aaa5fbd9f6749abf4f6b6&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 7, 37, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 07:37:01 UTC): <!-- Trunk Test Analytics -->


**4887 tests** were run on `fddcc3a3`. ‚úÖ **4887 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49862?repo=metabase/metabase&commitHash=fddcc3a3bffa8cdf634aaa5fbd9f6749abf4f6b6&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2651220546,pull_request,closed,,Implement enterprise search rankers in the database,"I got somewhat stumped on how to unit test this, as its purely declarative stuff which is used elsewhere to generate SQL.

As far as behavior goes, they're also not very interesting without applying the weights in opposition to the regular rankers, and we still need to pick these weights.

I came to the conclusion that we should leave testing for when we add concrete ""use case"" example tests.",crisptrutski,2024-11-12 06:46:59+00:00,['crisptrutski'],2024-11-26 18:51:31+00:00,2024-11-12 08:19:52+00:00,https://github.com/metabase/metabase/pull/49861,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2469850248, 'issue_id': 2651220546, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**103297 tests** were run on `9b08a6e8`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49861?repo=metabase/metabase&commitHash=9b08a6e89b9d25e3b1e53e39461ecfa89fb3d639&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>embedding-sdk-info-saves-query-execution</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49861?repo=metabase/metabase&commitHash=9b08a6e89b9d25e3b1e53e39461ecfa89fb3d639&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=898c6fb9-1cd3-5164-9d78-3b9917eaf0b4) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 8, 9, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 08:09:18 UTC): <!-- Trunk Test Analytics -->


**103297 tests** were run on `9b08a6e8`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49861?repo=metabase/metabase&commitHash=9b08a6e89b9d25e3b1e53e39461ecfa89fb3d639&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>embedding-sdk-info-saves-query-execution</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49861?repo=metabase/metabase&commitHash=9b08a6e89b9d25e3b1e53e39461ecfa89fb3d639&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=898c6fb9-1cd3-5164-9d78-3b9917eaf0b4) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2651073459,pull_request,closed,,Fix some CLJ formatting,A PR auto merged without blocking on cljfmt,crisptrutski,2024-11-12 05:31:23+00:00,['crisptrutski'],2024-11-26 18:51:32+00:00,2024-11-12 06:13:57+00:00,https://github.com/metabase/metabase/pull/49860,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2469688662, 'issue_id': 2651073459, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**102846 tests** were run on `a96e1500`. ‚úÖ **102846 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49860?repo=metabase/metabase&commitHash=a96e1500eb7ff3cd19df5f363ea9302dbb3bc894&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 6, 11, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 06:11:40 UTC): <!-- Trunk Test Analytics -->


**102846 tests** were run on `a96e1500`. ‚úÖ **102846 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49860?repo=metabase/metabase&commitHash=a96e1500eb7ff3cd19df5f363ea9302dbb3bc894&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2650681377,pull_request,closed,,[Metabot] UI Access improvements,"### Description

Small PR that fixes two things:
- Cmd-B on Firefox opens the bookmark bar, this PR now prevents that
- Metabot could be opened while the user was signed out and would remain open if the user logged out

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-11-12 00:00:42+00:00,['sloansparger'],2024-11-15 21:05:40+00:00,2024-11-15 21:05:38+00:00,https://github.com/metabase/metabase/pull/49859,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2469357612, 'issue_id': 2650681377, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13177_tests-d5e95c0a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/153-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=b1c53d10-0b8c-5abb-9c8a-e3062082dfee) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=3f285996-ca0a-5d6b-9c34-700649dcbf18) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=6823cc98-7744-5185-8aa1-0ab10cffb35c) |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=6aeb44e3-0bc8-53b6-9536-564d348b6113) |\n\n[... and 149 more](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=56829a15-8ec8-5a43-ac44-895cdfffcfa5) |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=b234cef6-11fa-58f9-a955-87d0d2906957) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 0, 40, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469357614, 'issue_id': 2650681377, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**11599 tests** were run on `55a79fe9`. ‚ùå **37 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 37 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>CSV Uploading Can upload a CSV file to an empty postgres schema</code> | The expected element with class \\$1.popover[data-state~=\'visible\'],[data-element-id=mantine-popover]\\$1 was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=0fb69ba8-a2c1-5382-955c-63048269471f) |\n| <code>scenarios > question > snippets should update the snippet and apply it to the current query (metabase\\$115387)</code> | The expected content \'/christ/i was not found within the element <div.tNlo2.z35aj.n6lDl within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=69193f12-802b-576c-a638-c266ce1863dd) |\n| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\\$148878)""</code> | Unable to find an element with data-testid ""qb-header-info-button"" within 4000ms, causing a timeout and skipping remaining tests. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8254c0c7-e0df-5264-b856-1123acee95d9) |\n| <code>formatting > sandboxes Sandboxing reproductions should be able to remove columns via QB sidebar / settings (metabase\\$114841)</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=40663626-e61c-5a49-a162-800f646859b8) |\n| <code>scenarios > binning > correctness > time series should return correct values for Minute of hour</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=efcc174a-be1d-5fe7-8df6-4d68d8b0fb6b) |\n| <code>scenarios > binning > correctness > time series should return correct values for Week</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b9056ab3-89ab-544b-8b22-e6dc9163d971) |\n| <code>scenarios > binning > correctness > time series should return correct values for Year</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=46026cc2-41a6-5cb4-9fb0-3a5f276ec035) |\n| <code>scenarios > binning > correctness > time series should return correct values for Day of week</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=18723714-39b5-5a83-a36f-996d51e8a9d5) |\n| <code>scenarios > binning > correctness > time series should return correct values for Quarter of year</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=93cbe286-6e0e-5b36-9662-622cfa070422) |\n| <code>scenarios > binning > correctness > time series should return correct values for Day of month</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2676e1ee-3d51-5d91-bbf4-52f063bfb963) |\n\n[... and 27 more](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 0, 40, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 00:40:29 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13177_tests-d5e95c0a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/153-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=b1c53d10-0b8c-5abb-9c8a-e3062082dfee) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=3f285996-ca0a-5d6b-9c34-700649dcbf18) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=6823cc98-7744-5185-8aa1-0ab10cffb35c) |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=6aeb44e3-0bc8-53b6-9536-564d348b6113) |

[... and 149 more](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=56829a15-8ec8-5a43-ac44-895cdfffcfa5) |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment&runConclusion=FAILURE&runId=b234cef6-11fa-58f9-a955-87d0d2906957) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=d5e95c0a4315306764db29ee7c31876db8b4b553&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-12 00:40:29 UTC): <!-- Trunk Test Analytics -->


**11599 tests** were run on `55a79fe9`. ‚ùå **37 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment)


<details>
<summary>‚ùå 37 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>CSV Uploading Can upload a CSV file to an empty postgres schema</code> | The expected element with class \$1.popover[data-state~='visible'],[data-element-id=mantine-popover]\$1 was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=0fb69ba8-a2c1-5382-955c-63048269471f) |
| <code>scenarios > question > snippets should update the snippet and apply it to the current query (metabase\$115387)</code> | The expected content '/christ/i was not found within the element <div.tNlo2.z35aj.n6lDl within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=69193f12-802b-576c-a638-c266ce1863dd) |
| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\$148878)""</code> | Unable to find an element with data-testid ""qb-header-info-button"" within 4000ms, causing a timeout and skipping remaining tests. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8254c0c7-e0df-5264-b856-1123acee95d9) |
| <code>formatting > sandboxes Sandboxing reproductions should be able to remove columns via QB sidebar / settings (metabase\$114841)</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=40663626-e61c-5a49-a162-800f646859b8) |
| <code>scenarios > binning > correctness > time series should return correct values for Minute of hour</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=efcc174a-be1d-5fe7-8df6-4d68d8b0fb6b) |
| <code>scenarios > binning > correctness > time series should return correct values for Week</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b9056ab3-89ab-544b-8b22-e6dc9163d971) |
| <code>scenarios > binning > correctness > time series should return correct values for Year</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=46026cc2-41a6-5cb4-9fb0-3a5f276ec035) |
| <code>scenarios > binning > correctness > time series should return correct values for Day of week</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=18723714-39b5-5a83-a36f-996d51e8a9d5) |
| <code>scenarios > binning > correctness > time series should return correct values for Quarter of year</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=93cbe286-6e0e-5b36-9662-622cfa070422) |
| <code>scenarios > binning > correctness > time series should return correct values for Day of month</code> | The expected element with data-testid ""dimension-list-item"" and aria-selected ""true"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2676e1ee-3d51-5d91-bbf4-52f063bfb963) |

[... and 27 more](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49859?repo=metabase/metabase&commitHash=55a79fe98f0819614135bbc9c25781d6fce04dc1&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2650501103,pull_request,closed,,[Backport 50] Map Oracle DATE to type/DateTime (#49592),"Backport of https://github.com/metabase/metabase/pull/49592 into `release-x.50.x` as per [discussion on slack](https://metaboat.slack.com/archives/D07HUKCKRE3/p1730967754162549).
",lbrdnk,2024-11-11 22:02:31+00:00,['lbrdnk'],2024-11-14 23:25:27+00:00,2024-11-14 23:24:57+00:00,https://github.com/metabase/metabase/pull/49858,"[('Database/Oracle', None), ('.Team/Querying', ''), ('.Team/Drivers', '')]","[{'comment_id': 2469206717, 'issue_id': 2650501103, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/149228_tests-0e411cd1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > table column settings tables should be able to show and hide table fields</code> | Unable to find an element with the text ""Tax"" after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment&runConclusion=FAILURE&runId=2f7580b1-1765-54bb-b0b3-216ab04f576c) |\n| <code>date-column-filtering-test</code> | Oracle\'s DATE column was not mapped to type/DateTime correctly. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment&runConclusion=FAILURE&runId=0f6a9537-6ffb-5838-9cc2-9f0d0ff8eb37) |\n| <code>date-column-filtering-test</code> | Oracle\'s DATE column was not mapped to type/DateTime correctly. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment&runConclusion=FAILURE&runId=351637a3-0337-5d7f-8989-95a954149113) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 22, 39, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 22:39:29 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/149228_tests-0e411cd1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > table column settings tables should be able to show and hide table fields</code> | Unable to find an element with the text ""Tax"" after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment&runConclusion=FAILURE&runId=2f7580b1-1765-54bb-b0b3-216ab04f576c) |
| <code>date-column-filtering-test</code> | Oracle's DATE column was not mapped to type/DateTime correctly. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment&runConclusion=FAILURE&runId=0f6a9537-6ffb-5838-9cc2-9f0d0ff8eb37) |
| <code>date-column-filtering-test</code> | Oracle's DATE column was not mapped to type/DateTime correctly. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment&runConclusion=FAILURE&runId=351637a3-0337-5d7f-8989-95a954149113) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49858?repo=metabase/metabase&commitHash=0e411cd1e8e26a478041db1eacd380860f3dc826&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2650410176,pull_request,closed,,"ü§ñ backported ""Make delete-all-field-values-for-database a subquery""",#49835,github-automation-metabase,2024-11-11 21:14:27+00:00,"['paoliniluis', 'github-automation-metabase']",2024-11-12 19:19:14+00:00,2024-11-12 18:34:16+00:00,https://github.com/metabase/metabase/pull/49857,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2469078310, 'issue_id': 2650410176, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**1 tests** were run on `1a296f37`. ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49857?repo=metabase/metabase&commitHash=1a296f377d8a1edc50ac75a1392d8130a8627f1d&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > line/bar chart > tooltips > multi series question on dashboard should show updated column titles in tooltips after edi...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49857?repo=metabase/metabase&commitHash=1a296f377d8a1edc50ac75a1392d8130a8627f1d&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73c71ac6-0900-5b08-bdf7-771aec1cd10e) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 21, 39, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 21:39:37 UTC): <!-- Trunk Test Analytics -->


**1 tests** were run on `1a296f37`. ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49857?repo=metabase/metabase&commitHash=1a296f377d8a1edc50ac75a1392d8130a8627f1d&utm_source=gh-comment)


<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > line/bar chart > tooltips > multi series question on dashboard should show updated column titles in tooltips after edi...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49857?repo=metabase/metabase&commitHash=1a296f377d8a1edc50ac75a1392d8130a8627f1d&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=73c71ac6-0900-5b08-bdf7-771aec1cd10e) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2650289476,pull_request,closed,,Add a force parameter to permission graph endpoints to bypass revision number check,"* Adds a `force` query parameter to permission graph `PUT` endpoints that allows you to skip enforcement of the `revision` number check, which can be set by API users who aren't worried about conflicting writes ([request](https://metaboat.slack.com/archives/C05MPF0TM3L/p1731343498768859))
* Standardizes the `skip-graph` query parameter across the different endpoints ([thread](https://metaboat.slack.com/archives/C064EB1UE5P/p1731352753721429))

Resolves https://github.com/metabase/metabase/issues/49845",noahmoss,2024-11-11 20:07:16+00:00,['noahmoss'],2024-11-13 11:37:12+00:00,2024-11-12 15:25:59+00:00,https://github.com/metabase/metabase/pull/49856,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2468940175, 'issue_id': 2650289476, 'author': 'noahmoss', 'body': '* **#49856** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49856?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 11, 20, 7, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469006262, 'issue_id': 2650289476, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@noahmoss You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 11, 20, 55, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469034120, 'issue_id': 2650289476, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**111302 tests** were run on `363463fb`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49856?repo=metabase/metabase&commitHash=363463fbc5e7be6fc5b776a151a3e72baf98fd17&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49856?repo=metabase/metabase&commitHash=363463fbc5e7be6fc5b776a151a3e72baf98fd17&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 21, 16, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2473320358, 'issue_id': 2650289476, 'author': 'paoliniluis', 'body': '@noahmoss can we take this to v50.x as well?', 'created_at': datetime.datetime(2024, 11, 13, 11, 37, 11, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-11 20:07:39 UTC): * **#49856** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49856?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-11-11 20:55:43 UTC): <!---conventional commit reminder comment ID-->
@noahmoss You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-11 21:16:32 UTC): <!-- Trunk Test Analytics -->


**111302 tests** were run on `363463fb`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49856?repo=metabase/metabase&commitHash=363463fbc5e7be6fc5b776a151a3e72baf98fd17&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49856?repo=metabase/metabase&commitHash=363463fbc5e7be6fc5b776a151a3e72baf98fd17&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

paoliniluis on (2024-11-13 11:37:11 UTC): @noahmoss can we take this to v50.x as well?

"
2650220865,pull_request,closed,,docs - sdk revisions,"- Adds theme function.
- Note on hiding collection picker.
- Updates `CreateQuestion` link/section.",jeff-bruemmer,2024-11-11 19:39:12+00:00,['jeff-bruemmer'],2024-11-12 15:25:32+00:00,2024-11-12 15:22:10+00:00,https://github.com/metabase/metabase/pull/49855,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2650196768,pull_request,closed,,"ü§ñ backported ""fix dashboard filter required""",#49627,github-automation-metabase,2024-11-11 19:26:26+00:00,"['luizarakaki', 'github-automation-metabase']",2024-11-11 20:42:14+00:00,2024-11-11 20:09:58+00:00,https://github.com/metabase/metabase/pull/49854,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2468987508, 'issue_id': 2650196768, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**12708 tests** were run on `90fe7191`. ‚úÖ **12708 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49854?repo=metabase/metabase&commitHash=90fe71913bfc1c50a47ec60167ff65efe6d6d945&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 20, 41, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 20:41:44 UTC): <!-- Trunk Test Analytics -->


**12708 tests** were run on `90fe7191`. ‚úÖ **12708 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49854?repo=metabase/metabase&commitHash=90fe71913bfc1c50a47ec60167ff65efe6d6d945&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2650116359,pull_request,closed,,"ü§ñ backported ""docs - browse databases""",#49850,github-automation-metabase,2024-11-11 18:48:13+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-11 18:49:58+00:00,2024-11-11 18:49:57+00:00,https://github.com/metabase/metabase/pull/49851,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2650031147,pull_request,closed,,docs - browse databases,Fixes some anchor links.,jeff-bruemmer,2024-11-11 18:09:03+00:00,['jeff-bruemmer'],2024-11-11 18:50:23+00:00,2024-11-11 18:47:25+00:00,https://github.com/metabase/metabase/pull/49850,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2650021172,pull_request,closed,,docs - update api docs for 51.3,Like it says on the tin.,jeff-bruemmer,2024-11-11 18:02:46+00:00,['jeff-bruemmer'],2024-11-11 18:48:01+00:00,2024-11-11 18:47:35+00:00,https://github.com/metabase/metabase/pull/49848,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2649917927,pull_request,closed,,"ü§ñ backported ""Add v0.51.3 to the list of releases""",#49844,github-automation-metabase,2024-11-11 17:16:22+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-11 17:18:06+00:00,2024-11-11 17:18:05+00:00,https://github.com/metabase/metabase/pull/49847,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2649799583,pull_request,closed,,Add v0.51.3 to the list of releases,Like it says on the tin üòÅ,github-automation-metabase,2024-11-11 16:25:23+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-11 17:18:34+00:00,2024-11-11 17:15:33+00:00,https://github.com/metabase/metabase/pull/49844,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2649727977,pull_request,closed,,fix(sdk): Convert jwtProviderUri to authProviderUri,Mainly done with a find and replace on `jwtProviderUri` ‚Üí `authProviderUri`,oisincoveney,2024-11-11 15:51:43+00:00,['oisincoveney'],2024-11-12 17:05:29+00:00,2024-11-12 13:00:30+00:00,https://github.com/metabase/metabase/pull/49843,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2468602027, 'issue_id': 2649727977, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13164 tests** were run on `eea4ff3a`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49843?repo=metabase/metabase&commitHash=eea4ff3aedda127a519aeebb3ec76428045e8482&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49843?repo=metabase/metabase&commitHash=eea4ff3aedda127a519aeebb3ec76428045e8482&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 16, 41, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468658924, 'issue_id': 2649727977, 'author': 'npretto', 'body': ""There's also [this line](https://github.com/metabase/metabase/blob/2c12222fc401781847886d30ab6c67a1f84fdcbd/docs/embedding/sdk/quickstart.md#L127) that we probably want to change"", 'created_at': datetime.datetime(2024, 11, 11, 17, 9, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 16:41:51 UTC): <!-- Trunk Test Analytics -->


**13164 tests** were run on `eea4ff3a`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49843?repo=metabase/metabase&commitHash=eea4ff3aedda127a519aeebb3ec76428045e8482&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49843?repo=metabase/metabase&commitHash=eea4ff3aedda127a519aeebb3ec76428045e8482&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

npretto on (2024-11-11 17:09:33 UTC): There's also [this line](https://github.com/metabase/metabase/blob/2c12222fc401781847886d30ab6c67a1f84fdcbd/docs/embedding/sdk/quickstart.md#L127) that we probably want to change

"
2649607466,pull_request,closed,,Prefer search results with higher view counts,"Sometimes it *is* a popularity contest üòÑ 

Weight and asymptotic value are pure thumb sucks and will require tuning.",crisptrutski,2024-11-11 15:04:23+00:00,['crisptrutski'],2024-11-26 18:51:32+00:00,2024-11-11 21:35:33+00:00,https://github.com/metabase/metabase/pull/49842,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2468392498, 'issue_id': 2649607466, 'author': 'crisptrutski', 'body': '* **#49842** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49842?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 11, 15, 4, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468473863, 'issue_id': 2649607466, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101391 tests** were run on `2ad8f51d`. ‚úÖ **101391 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49842?repo=metabase/metabase&commitHash=2ad8f51d9231e8e4298235466caf0928ab5ee48b&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 15, 41, 57, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-11 15:04:52 UTC): * **#49842** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49842?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-11 15:41:57 UTC): <!-- Trunk Test Analytics -->


**101391 tests** were run on `2ad8f51d`. ‚úÖ **101391 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49842?repo=metabase/metabase&commitHash=2ad8f51d9231e8e4298235466caf0928ab5ee48b&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2649579892,pull_request,closed,,fix(sdk): Split `useSummarizeQuery` into specialized hooks,"Splits `useSummarizeQuery` into three hooks:
- `useDefaultQueryAggregation`: Handles the default behavior for queries within `SummarizeSidebar`, and prevents the `QueryBuilder` from reloading when a user removes the default `Count` aggregation from aggregations. Will only be used in the core app as the behavior is pretty specific to the needs of the query builder view
- `useQueryAggregations`: Gets the aggregations for a query and populates it with its operators, a `handleRemove` function, and its display name. Will be used in the SDK `SummarizePicker` component
- `useQueryBreakout`: Contains the utility methods for CRUD operations on breakouts for queries. Will be used in the SDK `BreakoutPicker` component",oisincoveney,2024-11-11 14:53:52+00:00,['oisincoveney'],2024-11-14 13:17:05+00:00,2024-11-14 12:21:18+00:00,https://github.com/metabase/metabase/pull/49841,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2468474255, 'issue_id': 2649579892, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13165_tests-174ece6b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49841?repo=metabase/metabase&commitHash=174ece6b2de68de853ca551fc1aa6da9ff0b0657&utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 15, 42, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2472912338, 'issue_id': 2649579892, 'author': 'oisincoveney', 'body': '> Works correctly.\r\n> \r\n> We need to make sure that things returned from hooks are memoized so that consumers don\'t accidentally use un-memoized values as deps for hooks.\r\n> \r\n> I don\'t understand changes in `InteractiveQuestion/components/Summarize.tsx`. edit: I see [commit name](https://github.com/metabase/metabase/pull/49841/commits/aceb8a66b53203b16888bd2df808a6b28cb160eb) now :)\r\n\r\nfor some reason, I tried to reset the PR back to [091f5a0](https://github.com/metabase/metabase/pull/49841/commits/091f5a09b3862f7b6f7e9740b549bface3747b64), and github shows it:\r\n\r\n<img width=""869"" alt=""image"" src=""https://github.com/user-attachments/assets/b8481eea-8968-4013-b6a8-d2f114171044"">\r\n\r\n\r\nbut still includes the commits after it ü´† \r\n\r\n_**Edit: solved. just needed another commit**_', 'created_at': datetime.datetime(2024, 11, 13, 9, 8, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 15:42:07 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13165_tests-174ece6b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49841?repo=metabase/metabase&commitHash=174ece6b2de68de853ca551fc1aa6da9ff0b0657&utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2024-11-13 09:08:50 UTC): for some reason, I tried to reset the PR back to [091f5a0](https://github.com/metabase/metabase/pull/49841/commits/091f5a09b3862f7b6f7e9740b549bface3747b64), and github shows it:

<img width=""869"" alt=""image"" src=""https://github.com/user-attachments/assets/b8481eea-8968-4013-b6a8-d2f114171044"">


but still includes the commits after it ü´† 

_**Edit: solved. just needed another commit**_

"
2649454873,pull_request,closed,,"ü§ñ backported ""Map Oracle DATE to type/DateTime""",#49592,github-automation-metabase,2024-11-11 14:11:53+00:00,"['lbrdnk', 'github-automation-metabase']",2024-11-11 18:10:29+00:00,2024-11-11 16:59:52+00:00,https://github.com/metabase/metabase/pull/49840,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2468334853, 'issue_id': 2649454873, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**47072 tests** were run on `89669faf`. ‚úÖ **47072 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49840?repo=metabase/metabase&commitHash=89669faf375e22ca534be41173d35c065e131157&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 14, 39, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 14:39:20 UTC): <!-- Trunk Test Analytics -->


**47072 tests** were run on `89669faf`. ‚úÖ **47072 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49840?repo=metabase/metabase&commitHash=89669faf375e22ca534be41173d35c065e131157&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2649439486,pull_request,closed,,Merge master nov 11,"merge master into metabot-v3-second-try

had to make another branch for this to fix https://github.com/metabase/metabase/pull/49826 as it seems there was no branch to edit. The suggestions for resolving the conflict were to just fixup master. 

```
Step 1: Clone the repository or update your local repository with the latest changes.

git pull origin metabot-v3-second-try

Step 2: Switch to the head branch of the pull request.

git checkout master

Step 3: Merge the base branch into the head branch.

git merge metabot-v3-second-try

Step 4: Fix the conflicts and commit the result.
See [Resolving a merge conflict using the command line](https://docs.github.com/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line) for step-by-step instructions on resolving merge conflicts.

Step 5: Push the changes.

git push -u origin master
```",dpsutton,2024-11-11 14:04:42+00:00,['dpsutton'],2024-11-11 22:15:07+00:00,2024-11-11 22:15:05+00:00,https://github.com/metabase/metabase/pull/49838,[],"[{'comment_id': 2468262058, 'issue_id': 2649439486, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5669cb0161fabc82bc37af8eac596052a2628391...c4cfd00d37fa99173adb74aff36ab19d6f026508.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/index.ts<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts |\n| @kdoh | frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx<br>src/metabase/email/_dashsub_alert_header.hbs<br>src/metabase/email/_footer.hbs<br>src/metabase/email/_header.hbs<br>src/metabase/email/_logo.hbs<br>src/metabase/email/alert.hbs<br>src/metabase/email/alert_admin_unsubscribed_you.hbs<br>src/metabase/email/alert_admin_unsubscribed_you.mustache<br>src/metabase/email/alert_archived.hbs<br>src/metabase/email/alert_archived.mustache<br>src/metabase/email/alert_new_confirmation.hbs<br>src/metabase/email/alert_stopped_working.hbs<br>src/metabase/email/alert_stopped_working.mustache<br>src/metabase/email/alert_unsubscribed.hbs<br>src/metabase/email/alert_unsubscribed.mustache<br>src/metabase/email/alert_you_were_added.hbs<br>src/metabase/email/alert_you_were_added.mustache<br>src/metabase/email/broken_subscription_notification.hbs<br>src/metabase/email/creator_sentiment_email.hbs<br>src/metabase/email/dashboard_subscription.hbs<br>src/metabase/email/follow_up_email.hbs<br>src/metabase/email/legacy_no_self_service.hbs<br>src/metabase/email/login_from_new_device.hbs<br>src/metabase/email/messages.clj<br>src/metabase/email/new_user_invite.hbs<br>src/metabase/email/password_reset.hbs<br>src/metabase/email/persisted-model-error.hbs<br>src/metabase/email/persisted-model-error.mustache<br>src/metabase/email/slack_token_error.hbs<br>src/metabase/email/user_joined_notification.hbs<br>src/metabase/email/warn_deprecate_pulse.hbs |', 'created_at': datetime.datetime(2024, 11, 11, 14, 6, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468335266, 'issue_id': 2649439486, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**111288 tests** were run on `4fc86e3d`. ‚ùå **164 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 164 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=839bb5b1-d421-527c-993d-639ba81a347f) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6fcfc097-34a9-5838-b769-cc781e39f9f8) |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2f25c42a-cd4a-55f5-807b-a6c61ee8347f) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | Unable to find a label with the text \'Sum of Total\' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7a1474ec-8c61-566c-b95e-fa0b0c418986) |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d57b2bd8-0c86-5b54-bfd7-6b0bbf7ea5cd) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7e288313-0630-526f-b4a7-06a72efe468e) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\$113817)</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5a669ca7-d2c5-5e4b-872b-3d4ea90e466c) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | Unable to find a button with the name ""Get Answer"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=86eacd66-19a5-5f91-8ab1-d12e3abb53a2) |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=83cd1976-bc68-5aec-9e3a-826f25c6017d) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (dropdown) should be able to use a static list source in th...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c983273c-38d4-5826-90f8-ad10650cf7cf) |\n\n[... and 154 more](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7d13760d-7e45-557d-b818-5a9e83190094) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 14, 39, 31, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-11 14:06:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5669cb0161fabc82bc37af8eac596052a2628391...c4cfd00d37fa99173adb74aff36ab19d6f026508.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/index.ts<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts |
| @kdoh | frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx<br>src/metabase/email/_dashsub_alert_header.hbs<br>src/metabase/email/_footer.hbs<br>src/metabase/email/_header.hbs<br>src/metabase/email/_logo.hbs<br>src/metabase/email/alert.hbs<br>src/metabase/email/alert_admin_unsubscribed_you.hbs<br>src/metabase/email/alert_admin_unsubscribed_you.mustache<br>src/metabase/email/alert_archived.hbs<br>src/metabase/email/alert_archived.mustache<br>src/metabase/email/alert_new_confirmation.hbs<br>src/metabase/email/alert_stopped_working.hbs<br>src/metabase/email/alert_stopped_working.mustache<br>src/metabase/email/alert_unsubscribed.hbs<br>src/metabase/email/alert_unsubscribed.mustache<br>src/metabase/email/alert_you_were_added.hbs<br>src/metabase/email/alert_you_were_added.mustache<br>src/metabase/email/broken_subscription_notification.hbs<br>src/metabase/email/creator_sentiment_email.hbs<br>src/metabase/email/dashboard_subscription.hbs<br>src/metabase/email/follow_up_email.hbs<br>src/metabase/email/legacy_no_self_service.hbs<br>src/metabase/email/login_from_new_device.hbs<br>src/metabase/email/messages.clj<br>src/metabase/email/new_user_invite.hbs<br>src/metabase/email/password_reset.hbs<br>src/metabase/email/persisted-model-error.hbs<br>src/metabase/email/persisted-model-error.mustache<br>src/metabase/email/slack_token_error.hbs<br>src/metabase/email/user_joined_notification.hbs<br>src/metabase/email/warn_deprecate_pulse.hbs |

trunk-io[bot] on (2024-11-11 14:39:31 UTC): <!-- Trunk Test Analytics -->


**111288 tests** were run on `4fc86e3d`. ‚ùå **164 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment)


<details>
<summary>‚ùå 164 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=839bb5b1-d421-527c-993d-639ba81a347f) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6fcfc097-34a9-5838-b769-cc781e39f9f8) |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2f25c42a-cd4a-55f5-807b-a6c61ee8347f) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | Unable to find a label with the text 'Sum of Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7a1474ec-8c61-566c-b95e-fa0b0c418986) |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d57b2bd8-0c86-5b54-bfd7-6b0bbf7ea5cd) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7e288313-0630-526f-b4a7-06a72efe468e) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\$113817)</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5a669ca7-d2c5-5e4b-872b-3d4ea90e466c) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | Unable to find a button with the name ""Get Answer"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=86eacd66-19a5-5f91-8ab1-d12e3abb53a2) |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=83cd1976-bc68-5aec-9e3a-826f25c6017d) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (dropdown) should be able to use a static list source in th...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c983273c-38d4-5826-90f8-ad10650cf7cf) |

[... and 154 more](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7d13760d-7e45-557d-b818-5a9e83190094) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49838?repo=metabase/metabase&commitHash=4fc86e3da978396bc05b063aa1a8008923c7ce62&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2649420675,pull_request,closed,,Handlebars follow up,Small follow up of #49759,qnkhuat,2024-11-11 13:56:16+00:00,['qnkhuat'],2024-11-26 18:51:31+00:00,2024-11-12 08:23:20+00:00,https://github.com/metabase/metabase/pull/49837,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2468335103, 'issue_id': 2649420675, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**1 tests** were run on `63c619f0`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49837?repo=metabase/metabase&commitHash=63c619f063b2a55349710005de2d8e03071a4d4d&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>query-generator-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49837?repo=metabase/metabase&commitHash=63c619f063b2a55349710005de2d8e03071a4d4d&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1eccb64a-2764-5065-8526-397d88cdc9d8) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 14, 39, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469986934, 'issue_id': 2649420675, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit d15c8263631c035e39906e486b0c602474b27521.\n‚úÖ Preview:\n    https://pr49837.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 12, 9, 15, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 14:39:27 UTC): <!-- Trunk Test Analytics -->


**1 tests** were run on `63c619f0`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49837?repo=metabase/metabase&commitHash=63c619f063b2a55349710005de2d8e03071a4d4d&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>query-generator-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49837?repo=metabase/metabase&commitHash=63c619f063b2a55349710005de2d8e03071a4d4d&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1eccb64a-2764-5065-8526-397d88cdc9d8) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

github-actions[bot] on (2024-11-12 09:15:30 UTC): üëã Deploying a preview environment for commit d15c8263631c035e39906e486b0c602474b27521.
‚úÖ Preview:
    https://pr49837.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2649407522,pull_request,closed,,Remove some styled components in Summarize,Removes some styled components in `Summarize` in favor of mantine components. These were just a few changes that I made when I was working on #49834 and felt that they weren't exactly relevant to that PR. ,oisincoveney,2024-11-11 13:50:56+00:00,['oisincoveney'],2024-11-12 08:22:00+00:00,2024-11-12 07:38:38+00:00,https://github.com/metabase/metabase/pull/49836,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2468340673, 'issue_id': 2649407522, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13290 tests** were run on `363243cc`. ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49836?repo=metabase/metabase&commitHash=363243ccb73cefd7461fabcc1c9ed494549ae0dd&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> | The expected text 'See these Orders' was not found in the element after 4000ms timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49836?repo=metabase/metabase&commitHash=363243ccb73cefd7461fabcc1c9ed494549ae0dd&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c6ab609a-8cbe-5534-837d-dae2b5acc02a) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49836?repo=metabase/metabase&commitHash=363243ccb73cefd7461fabcc1c9ed494549ae0dd&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 14, 41, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 14:41:47 UTC): <!-- Trunk Test Analytics -->


**13290 tests** were run on `363243cc`. ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49836?repo=metabase/metabase&commitHash=363243ccb73cefd7461fabcc1c9ed494549ae0dd&utm_source=gh-comment)


<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> | The expected text 'See these Orders' was not found in the element after 4000ms timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49836?repo=metabase/metabase&commitHash=363243ccb73cefd7461fabcc1c9ed494549ae0dd&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c6ab609a-8cbe-5534-837d-dae2b5acc02a) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49836?repo=metabase/metabase&commitHash=363243ccb73cefd7461fabcc1c9ed494549ae0dd&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2649374356,pull_request,closed,,Make delete-all-field-values-for-database a subquery,"Fixes https://github.com/metabase/metabase/issues/33037

NOTE: if your eyes bleed, send me the bill of your eye surgeon",paoliniluis,2024-11-11 13:37:23+00:00,['paoliniluis'],2024-11-11 21:13:43+00:00,2024-11-11 21:13:41+00:00,https://github.com/metabase/metabase/pull/49835,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2468270813, 'issue_id': 2649374356, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101391 tests** were run on `30b9895b`. ‚úÖ **101391 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49835?repo=metabase/metabase&commitHash=30b9895b3dd8735d84630c11d5237030ef6803f2&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 14, 10, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468665136, 'issue_id': 2649374356, 'author': 'paoliniluis', 'body': ""Done @piranha. Let's say that this has 1M id's in the database, so it will have to delete 1M rows... will this be a problem? it wasn't a problem before since we errored out..."", 'created_at': datetime.datetime(2024, 11, 11, 17, 13, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468720680, 'issue_id': 2649374356, 'author': 'piranha', 'body': ""Should be fine; it errored out since Postgres has a limit on an amount of placeholder a single query can have. Since here are no placeholders it's going to be fine. It is also going to be faster since we don't need to transfer data from postgres to app and back."", 'created_at': datetime.datetime(2024, 11, 11, 17, 45, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 14:10:16 UTC): <!-- Trunk Test Analytics -->


**101391 tests** were run on `30b9895b`. ‚úÖ **101391 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49835?repo=metabase/metabase&commitHash=30b9895b3dd8735d84630c11d5237030ef6803f2&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

paoliniluis (Issue Creator) on (2024-11-11 17:13:03 UTC): Done @piranha. Let's say that this has 1M id's in the database, so it will have to delete 1M rows... will this be a problem? it wasn't a problem before since we errored out...

piranha on (2024-11-11 17:45:23 UTC): Should be fine; it errored out since Postgres has a limit on an amount of placeholder a single query can have. Since here are no placeholders it's going to be fine. It is also going to be faster since we don't need to transfer data from postgres to app and back.

"
2649356222,pull_request,closed,,feat(sdk): Add Breakout and Summary to InteractiveQuestion,,oisincoveney,2024-11-11 13:29:37+00:00,['oisincoveney'],2024-11-14 10:53:33+00:00,2024-11-14 10:53:33+00:00,https://github.com/metabase/metabase/pull/49834,"[('.Team/Embedding', '')]",[],
2648787038,pull_request,closed,,test workflows,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",iamfreelancercm,2024-11-11 09:55:19+00:00,[],2024-11-11 10:01:00+00:00,2024-11-11 10:01:00+00:00,https://github.com/metabase/metabase/pull/49827,[],[],
2648696166,pull_request,closed,,pull from master,,perivamsi,2024-11-11 09:24:05+00:00,[],2024-11-11 14:17:44+00:00,2024-11-11 14:17:43+00:00,https://github.com/metabase/metabase/pull/49826,[],"[{'comment_id': 2468287028, 'issue_id': 2648696166, 'author': 'perivamsi', 'body': 'closing in favor of https://github.com/metabase/metabase/pull/49799', 'created_at': datetime.datetime(2024, 11, 11, 14, 17, 40, tzinfo=datetime.timezone.utc)}]","perivamsi (Issue Creator) on (2024-11-11 14:17:40 UTC): closing in favor of https://github.com/metabase/metabase/pull/49799

"
2648656287,pull_request,closed,,"More efficient model search, with permissions and filters added",Simpler and more correct ‚ú® ,crisptrutski,2024-11-11 09:05:14+00:00,['crisptrutski'],2024-11-11 15:04:51+00:00,2024-11-11 11:05:07+00:00,https://github.com/metabase/metabase/pull/49825,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2467600412, 'issue_id': 2648656287, 'author': 'crisptrutski', 'body': '* **#49825** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49825?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49824** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49824?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 11, 9, 5, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467672001, 'issue_id': 2648656287, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3264 tests** were run on `da98dcca`. ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49825?repo=metabase/metabase&commitHash=da98dccaf288bcb71e1dc3ec9cdfe40f26754aeb&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49825?repo=metabase/metabase&commitHash=da98dccaf288bcb71e1dc3ec9cdfe40f26754aeb&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=52f516d5-0c7b-517d-801f-0863c40c4cc6) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 9, 39, 52, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-11 09:05:31 UTC): * **#49825** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49825?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49824** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49824?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-11 09:39:52 UTC): <!-- Trunk Test Analytics -->


**3264 tests** were run on `da98dcca`. ‚ö†Ô∏è **1 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49825?repo=metabase/metabase&commitHash=da98dccaf288bcb71e1dc3ec9cdfe40f26754aeb&utm_source=gh-comment)


<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > simple filter > required  should respect default filter precedence while properly updating the url for each...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49825?repo=metabase/metabase&commitHash=da98dccaf288bcb71e1dc3ec9cdfe40f26754aeb&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=52f516d5-0c7b-517d-801f-0863c40c4cc6) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2648655453,pull_request,closed,,Search within Native queries,"Adds the final filter, in a fairly brutish way.

Cleans up the other filters a bit.",crisptrutski,2024-11-11 09:04:51+00:00,['crisptrutski'],2024-11-11 15:04:50+00:00,2024-11-11 11:11:16+00:00,https://github.com/metabase/metabase/pull/49824,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2467599743, 'issue_id': 2648655453, 'author': 'crisptrutski', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49824?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#49825** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49825?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49824** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49824?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 11, 9, 5, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467672654, 'issue_id': 2648655453, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101389 tests** were run on `9a3e6752`. ‚ùå **19 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 19 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>search-model-hooks-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ef33c9ca-2a83-5dc5-b287-c08dcecc160d) |\n| <code>search-context->applicable-models-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=18e44715-0ed3-501c-87d8-b649908dd79b) |\n| <code>search-model-hooks-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8c65416b-053f-54e5-9ac7-f05b0e76dc3c) |\n| <code>search-context->applicable-models-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5c2b7547-7835-530c-8143-5e69d04bfaf9) |\n| <code>search-model-hooks-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=48af6fea-2d92-57a6-9e18-d829062b24d2) |\n| <code>search-context->applicable-models-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=901d3bb6-0039-5a31-82f3-ff7ec010fa68) |\n| <code>search-context->applicable-models-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=44c15bbb-1ae8-59a5-b42a-4520221626f9) |\n| <code>search-model-hooks-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d59c540e-e002-5e3a-9027-1696086dabd3) |\n| <code>search-context->applicable-models-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ad41f4a5-b180-5c8d-a4fd-17199d2ce896) |\n| <code>search-model-hooks-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b75e8738-a009-59f8-9296-4fd6a6fabe0f) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 9, 40, 11, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-11 09:05:12 UTC): * **#49825** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49825?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49824** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49824?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-11 09:40:11 UTC): <!-- Trunk Test Analytics -->


**101389 tests** were run on `9a3e6752`. ‚ùå **19 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment)


<details>
<summary>‚ùå 19 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>search-model-hooks-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ef33c9ca-2a83-5dc5-b287-c08dcecc160d) |
| <code>search-context->applicable-models-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=18e44715-0ed3-501c-87d8-b649908dd79b) |
| <code>search-model-hooks-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8c65416b-053f-54e5-9ac7-f05b0e76dc3c) |
| <code>search-context->applicable-models-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5c2b7547-7835-530c-8143-5e69d04bfaf9) |
| <code>search-model-hooks-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=48af6fea-2d92-57a6-9e18-d829062b24d2) |
| <code>search-context->applicable-models-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=901d3bb6-0039-5a31-82f3-ff7ec010fa68) |
| <code>search-context->applicable-models-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=44c15bbb-1ae8-59a5-b42a-4520221626f9) |
| <code>search-model-hooks-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d59c540e-e002-5e3a-9027-1696086dabd3) |
| <code>search-context->applicable-models-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ad41f4a5-b180-5c8d-a4fd-17199d2ce896) |
| <code>search-model-hooks-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b75e8738-a009-59f8-9296-4fd6a6fabe0f) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/49824?repo=metabase/metabase&commitHash=9a3e67524563e80922376b3f5cca192c81b0ef4b&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2648395733,pull_request,closed,,"ü§ñ backported ""Fix flaky notebook test""",#49771,github-automation-metabase,2024-11-11 07:12:41+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-12 08:43:42+00:00,2024-11-12 08:33:31+00:00,https://github.com/metabase/metabase/pull/49822,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2467435173, 'issue_id': 2648395733, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3247 tests** were run on `d3b0f6eb`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49822?repo=metabase/metabase&commitHash=d3b0f6eb0927a2f923d0f7b1d9c5144a47b73515&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > values source structured question source should properly cache parameter values api calls</code> | The test expected an array with a length of 1 but got an array with a length of 2. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49822?repo=metabase/metabase&commitHash=d3b0f6eb0927a2f923d0f7b1d9c5144a47b73515&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f33d28fd-2f68-5af9-b76f-3a2c289d48cb) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 7, 38, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 07:38:11 UTC): <!-- Trunk Test Analytics -->


**3247 tests** were run on `d3b0f6eb`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49822?repo=metabase/metabase&commitHash=d3b0f6eb0927a2f923d0f7b1d9c5144a47b73515&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > values source structured question source should properly cache parameter values api calls</code> | The test expected an array with a length of 1 but got an array with a length of 2. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49822?repo=metabase/metabase&commitHash=d3b0f6eb0927a2f923d0f7b1d9c5144a47b73515&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f33d28fd-2f68-5af9-b76f-3a2c289d48cb) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2648393513,pull_request,closed,,"ü§ñ backported ""Fix flaky alert tests""",#49673,github-automation-metabase,2024-11-11 07:11:16+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-11 08:11:28+00:00,2024-11-11 07:56:23+00:00,https://github.com/metabase/metabase/pull/49821,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2467435040, 'issue_id': 2648393513, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3248 tests** were run on `004246ca`. ‚úÖ **3248 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49821?repo=metabase/metabase&commitHash=004246cabc2760bfb417d8dea0213fdb44564617&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 7, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467435043, 'issue_id': 2648393513, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**47 tests** were run on `004246ca`. ‚úÖ **47 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49821?repo=metabase/metabase&commitHash=004246cabc2760bfb417d8dea0213fdb44564617&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 7, 38, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 07:38:05 UTC): <!-- Trunk Test Analytics -->


**3248 tests** were run on `004246ca`. ‚úÖ **3248 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49821?repo=metabase/metabase&commitHash=004246cabc2760bfb417d8dea0213fdb44564617&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 07:38:05 UTC): <!-- Trunk Test Analytics -->


**47 tests** were run on `004246ca`. ‚úÖ **47 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49821?repo=metabase/metabase&commitHash=004246cabc2760bfb417d8dea0213fdb44564617&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2648392770,pull_request,closed,,"ü§ñ backported ""Fix flaky databases test""",#49758,github-automation-metabase,2024-11-11 07:10:50+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-12 08:43:47+00:00,2024-11-12 08:25:29+00:00,https://github.com/metabase/metabase/pull/49820,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2467434983, 'issue_id': 2648392770, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3247 tests** were run on `29177209`. ‚úÖ **3247 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49820?repo=metabase/metabase&commitHash=2917720950991052fa495d2762d58e91015e5390&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 7, 38, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 07:38:03 UTC): <!-- Trunk Test Analytics -->


**3247 tests** were run on `29177209`. ‚úÖ **3247 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49820?repo=metabase/metabase&commitHash=2917720950991052fa495d2762d58e91015e5390&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2647952238,pull_request,closed,,Allow changing the limit using just the html input arrows,"Closes https://github.com/metabase/metabase/issues/49587

### Description

Currently using the arrow buttons in the number input does not work because the input is never focused or blurred.

This PR fixes that by allowing the value to be changed without focusing.

I've also added a `min={1}` prop to the input to keep users from entering zero, or negative values.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Accounts -> Limit
2. Open the `View the SQL` panel
3. Click the arrows in the limit input to change it's value, the limit in the SQL panel should change accordingly
4. Focus the input and change the value, it should only update the SQL panel once blurred

### Demo

https://github.com/user-attachments/assets/4623931c-1d6e-415e-aaaf-182138d0aedf

### Checklist

- [x] Unit test have been updated accordingly
- [ ] There's no way we can specifically click the arrows in the number input in Cypress, so no reproduction was added.",romeovs,2024-11-11 02:40:50+00:00,['romeovs'],2024-11-12 11:43:43+00:00,2024-11-12 11:43:42+00:00,https://github.com/metabase/metabase/pull/49818,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2467145043, 'issue_id': 2647952238, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13163 tests** were run on `188b7ea5`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49818?repo=metabase/metabase&commitHash=188b7ea52d4b75d2b9b77357d58dea1c8f53f671&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49818?repo=metabase/metabase&commitHash=188b7ea52d4b75d2b9b77357d58dea1c8f53f671&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 3, 9, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 03:09:43 UTC): <!-- Trunk Test Analytics -->


**13163 tests** were run on `188b7ea5`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49818?repo=metabase/metabase&commitHash=188b7ea52d4b75d2b9b77357d58dea1c8f53f671&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49818?repo=metabase/metabase&commitHash=188b7ea52d4b75d2b9b77357d58dea1c8f53f671&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2646975106,pull_request,closed,,"ü§ñ backported ""Disable connection reuse for requests that serve streaming responses""",#49773,metabase-bot[bot],2024-11-10 08:16:54+00:00,['piranha'],2024-11-10 13:35:18+00:00,2024-11-10 09:10:45+00:00,https://github.com/metabase/metabase/pull/49817,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2466739026, 'issue_id': 2646975106, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**149388 tests** were run on `f8693d40`. ‚úÖ **149388 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49817?repo=metabase/metabase&commitHash=f8693d405147017c038e51eaabe83659be400c57&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 10, 13, 35, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-10 13:35:16 UTC): <!-- Trunk Test Analytics -->


**149388 tests** were run on `f8693d40`. ‚úÖ **149388 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49817?repo=metabase/metabase&commitHash=f8693d405147017c038e51eaabe83659be400c57&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2646100793,pull_request,closed,,Minor refactoring of cancellation-related code,"Minor improvements that I accumulated while looking at the code that is either sets up cancellation or reacts to it. I'm leaving the clarifying comments next to the actual changes.
",alexander-yakushev,2024-11-09 14:00:56+00:00,['alexander-yakushev'],2024-12-20 18:32:30+00:00,2024-12-20 17:22:54+00:00,https://github.com/metabase/metabase/pull/49815,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2473898213, 'issue_id': 2646100793, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124141_tests-689dfc1c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 15, 10, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 15:10:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124141_tests-689dfc1c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49815?repo=metabase/metabase&commitHash=689dfc1ca35fb974df2e3b9b14a0682c14396072&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2645993425,pull_request,closed,,"üçí Backport [MS3] Better Onboarding: ""Add Data"" discoverability","Manual backport of #49498
- https://github.com/metabase/metabase/issues/49499
 - https://github.com/metabase/metabase/issues/49500",nemanjaglumac,2024-11-09 12:35:02+00:00,['nemanjaglumac'],2024-11-11 09:11:11+00:00,2024-11-11 09:11:10+00:00,https://github.com/metabase/metabase/pull/49813,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2645595659,pull_request,closed,,"Query tool - no context, fetching metadata on demand","General:
- No context is passed to LLM. We rely on new tools to fetch context on demand.
- All non-query tools are temporary disabled (imports are removed) because they depend on the global context which confuses LLM.

`run-query` to replace old `change-query` tool:
- BE tool. Accepts the current query and returns a new query for the FE to run.
- Does not depend on global context.
- Creates a new query from scratch using the same data source as the passed query.
- Data validation and feedback loops. Sometimes LLM calls `get-query-columns` beforehand and pass valid columns; sometimes LLM autofixes input based on the returned error message; sometimes it asks the user for clarification. All back-and-forth happens within one BE call.

`get-query-columns` utility tool:
- Fetches available columns for query steps.",ranquild,2024-11-09 04:27:51+00:00,['ranquild'],2024-11-12 17:46:31+00:00,2024-11-12 16:16:37+00:00,https://github.com/metabase/metabase/pull/49812,"[('.Team/Querying', '')]","[{'comment_id': 2467318783, 'issue_id': 2645595659, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**232 tests** were run on `65e3618c`. ‚ùå **212 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 212 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=277f149d-9d38-53b3-831b-e11ae30d7597) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | Unable to find a label with the text \'Sum of Total\' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8226cb07-7536-5ce4-8cb8-c5d0175d05aa) |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4b4a9efc-f3df-56bc-a6d4-ddb0548defdf) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=27c73aa9-97c1-56e0-ae65-9020662ee115) |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=aabf83ab-97a1-5f19-8e66-3b9fb9ce2986) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d6dd8b64-93bc-5311-a12f-e8f15cbb5cf2) |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f83f3b37-40ea-5594-b223-67b603ad9d65) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e1bdda3c-0d9f-5e81-9a72-80472b1931a1) |\n| <code>converting question to SQL (metabase\\$112651, metabase\\$121615, metabase\\$132121, metabase\\$140422) should be possible to convert an ad-hoc time-se...</code> | The \\$1convertToSql\\$1 function timed out waiting for the second request to the \'dataset\' route, which never occurred. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bc1d709d-58d8-5b49-b912-ee7a7406dd58) |\n| <code>converting question to SQL (metabase\\$112651, metabase\\$121615, metabase\\$132121, metabase\\$140422) should be possible to save a question based on...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3e651e12-c057-58c7-a7f8-8bf95a1a0ac1) |\n\n[... and 202 more](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1a9fad5c-ea46-5af3-a8ec-43617cfa28a5) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 6, 9, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 06:09:31 UTC): <!-- Trunk Test Analytics -->


**232 tests** were run on `65e3618c`. ‚ùå **212 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment)


<details>
<summary>‚ùå 212 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=277f149d-9d38-53b3-831b-e11ae30d7597) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | Unable to find a label with the text 'Sum of Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8226cb07-7536-5ce4-8cb8-c5d0175d05aa) |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4b4a9efc-f3df-56bc-a6d4-ddb0548defdf) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=27c73aa9-97c1-56e0-ae65-9020662ee115) |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=aabf83ab-97a1-5f19-8e66-3b9fb9ce2986) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d6dd8b64-93bc-5311-a12f-e8f15cbb5cf2) |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f83f3b37-40ea-5594-b223-67b603ad9d65) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e1bdda3c-0d9f-5e81-9a72-80472b1931a1) |
| <code>converting question to SQL (metabase\$112651, metabase\$121615, metabase\$132121, metabase\$140422) should be possible to convert an ad-hoc time-se...</code> | The \$1convertToSql\$1 function timed out waiting for the second request to the 'dataset' route, which never occurred. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bc1d709d-58d8-5b49-b912-ee7a7406dd58) |
| <code>converting question to SQL (metabase\$112651, metabase\$121615, metabase\$132121, metabase\$140422) should be possible to save a question based on...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3e651e12-c057-58c7-a7f8-8bf95a1a0ac1) |

[... and 202 more](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1a9fad5c-ea46-5af3-a8ec-43617cfa28a5) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49812?repo=metabase/metabase&commitHash=65e3618ca4b62a168bbd5f5ead50d56521720a14&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2645593821,pull_request,closed,,metabot v3: conditional formatting tool,"### Description

Adds conditional formatting tool.

### How to verify

Ask it to edit conditional formatting rules on tables.

### Demo

<video src=""https://github.com/user-attachments/assets/cd0475a9-743a-430b-a7cd-041358b5de8f"" />

",alxnddr,2024-11-09 04:22:27+00:00,['alxnddr'],2025-01-22 02:14:48+00:00,2025-01-22 02:14:48+00:00,https://github.com/metabase/metabase/pull/49811,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2473986644, 'issue_id': 2645593821, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**111304 tests** were run on `86386335`. ‚ùå **208 Failed**, ‚ö†Ô∏è **3 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 208 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | Unable to find a label with the text \'Sum of Total\' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=924a8491-7e37-54f6-b0e5-7044494aaef8) |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4f57e1cf-5db9-594b-a1e5-ecf5d31dd2dd) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c8255ab9-a3fd-51b4-b971-aa9181687da7) |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6e1e3e09-e539-5e6a-99a1-e86f2f3cf6c5) |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=0ec0803f-a1a7-54d5-ab85-484791c25016) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=336ad233-1c3f-5ca0-a624-f21e14d962aa) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\$113817)</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bdc9f171-ee96-596e-b768-f43162ec3385) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=53108c6f-d168-5bcb-8ff6-c1146b235100) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74a7c4a2-fbe4-5df7-9f9e-a467a3e5445b) |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=53f35bc2-3ad7-5328-9261-9597eba2fddd) |\n\n[... and 198 more](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 3 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8bb25505-c182-5113-b886-a64f01e4d3e7) |\n| <code>converting question to a native query (metabase\\$115946, metabase\\$132121, metabase\\$138181) should work for both simple and nested questions based...</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b753ee19-0f76-5bac-ac0e-bc7bc5eccf99) |\n| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=fa032d41-3a3a-5b83-b14a-4b71c81b6ea2) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 15, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486724641, 'issue_id': 2645593821, 'author': 'ranquild', 'body': 'Given the state of things turned this to draft', 'created_at': datetime.datetime(2024, 11, 19, 20, 49, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 15:42:00 UTC): <!-- Trunk Test Analytics -->


**111304 tests** were run on `86386335`. ‚ùå **208 Failed**, ‚ö†Ô∏è **3 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment)


<details>
<summary>‚ùå 208 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | Unable to find a label with the text 'Sum of Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=924a8491-7e37-54f6-b0e5-7044494aaef8) |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4f57e1cf-5db9-594b-a1e5-ecf5d31dd2dd) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c8255ab9-a3fd-51b4-b971-aa9181687da7) |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6e1e3e09-e539-5e6a-99a1-e86f2f3cf6c5) |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=0ec0803f-a1a7-54d5-ab85-484791c25016) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=336ad233-1c3f-5ca0-a624-f21e14d962aa) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\$113817)</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bdc9f171-ee96-596e-b768-f43162ec3385) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=53108c6f-d168-5bcb-8ff6-c1146b235100) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74a7c4a2-fbe4-5df7-9f9e-a467a3e5445b) |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=53f35bc2-3ad7-5328-9261-9597eba2fddd) |

[... and 198 more](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 3 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8bb25505-c182-5113-b886-a64f01e4d3e7) |
| <code>converting question to a native query (metabase\$115946, metabase\$132121, metabase\$138181) should work for both simple and nested questions based...</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b753ee19-0f76-5bac-ac0e-bc7bc5eccf99) |
| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=fa032d41-3a3a-5b83-b14a-4b71c81b6ea2) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49811?repo=metabase/metabase&commitHash=86386335638fc5a4dd60a6f7a0698b39a1927d0c&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

ranquild on (2024-11-19 20:49:37 UTC): Given the state of things turned this to draft

"
2645354482,pull_request,closed,,[Metabot] Auto-close on route change,"### Description

Auto-close Metabot when the route changes unless:
- the user has typed something in the Metabot input
- the route change happened while Metabot is processing
- the base path segment is unchanged in the route change (example: `/question/123` => `/question#ad-hoc-hash` will keep Metabot open)

> [!NOTE]  
> The ""is processing"" approach works as long as everything in the processing phase is properly awaited. This doesn't happen currently for re-running questions, so I added the restriction that the navigation has have a different base path segment to account for this. I think in practice this is preferred (doing collection things in `/collection/*`, doing admin things in `/admin/*`, etc.). Also it's probably best to err on the side of keeping it open unnecessarily, rather than closed unexpectedly.

### Demo

https://github.com/user-attachments/assets/437252c7-a191-4529-8fb7-29f68382a4ce

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-11-08 23:27:06+00:00,['sloansparger'],2024-11-12 22:31:30+00:00,2024-11-12 21:55:17+00:00,https://github.com/metabase/metabase/pull/49810,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2469418447, 'issue_id': 2645354482, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**13175 tests** were run on `357ce2f8`. ‚ùå **154 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 154 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bac0203b-4bf0-5c47-bc69-4c21ce5ff098) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | Unable to find a label with the text \'Sum of Total\' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=85dd82f4-29c1-5dbf-b846-d5bbcb341cea) |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ba7a5175-453f-57ef-87c6-2bc27e90b49d) |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5fa2eebc-79be-5faa-85cd-0eff8daf520e) |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3d5d7eb6-3a2c-5918-ae62-1f8b400289fb) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=65de6374-082b-532e-8ab2-9245609f2866) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\$113817)</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f6bce1aa-7946-5da2-9309-91052054e883) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ad2105f6-b100-5df0-a66d-11a88ee2b4bb) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | Unable to find a button with the name ""Get Answer"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6985b39e-8219-5acd-a054-afa9d6603e04) |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6b94c9bb-876d-5c57-bf5a-3d8062aa3fb9) |\n\n[... and 144 more](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a46b6124-5561-5762-b2c0-d6aaf3899dd2) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 1, 39, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 01:39:49 UTC): <!-- Trunk Test Analytics -->


**13175 tests** were run on `357ce2f8`. ‚ùå **154 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment)


<details>
<summary>‚ùå 154 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bac0203b-4bf0-5c47-bc69-4c21ce5ff098) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | Unable to find a label with the text 'Sum of Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=85dd82f4-29c1-5dbf-b846-d5bbcb341cea) |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ba7a5175-453f-57ef-87c6-2bc27e90b49d) |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5fa2eebc-79be-5faa-85cd-0eff8daf520e) |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3d5d7eb6-3a2c-5918-ae62-1f8b400289fb) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=65de6374-082b-532e-8ab2-9245609f2866) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\$113817)</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f6bce1aa-7946-5da2-9309-91052054e883) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ad2105f6-b100-5df0-a66d-11a88ee2b4bb) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | Unable to find a button with the name ""Get Answer"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6985b39e-8219-5acd-a054-afa9d6603e04) |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=6b94c9bb-876d-5c57-bf5a-3d8062aa3fb9) |

[... and 144 more](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a46b6124-5561-5762-b2c0-d6aaf3899dd2) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49810?repo=metabase/metabase&commitHash=357ce2f81be6f5a36b825c0adab7541634259d38&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2645279282,pull_request,closed,,Pass context to tool invocation,Pass context to tool invocation - sometimes it's nice to have.,johnswanson,2024-11-08 22:27:38+00:00,['johnswanson'],2025-02-04 15:09:43+00:00,2025-01-22 02:14:47+00:00,https://github.com/metabase/metabase/pull/49808,"[('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2645276263,pull_request,closed,,"ü§ñ backported ""Enable debugUnreturnedConnectionStackTraces in data-warehouse-connection-pool-properties""",#49456,github-automation-metabase,2024-11-08 22:24:22+00:00,"['appleby', 'github-automation-metabase']",2024-11-08 23:38:18+00:00,2024-11-08 23:38:18+00:00,https://github.com/metabase/metabase/pull/49807,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2645251856,pull_request,closed,,"ü§ñ backported ""fix: Handle bigquery string(255) in sync""",#49800,github-automation-metabase,2024-11-08 22:01:02+00:00,"['snoe', 'github-automation-metabase']",2024-11-08 22:44:00+00:00,2024-11-08 22:43:59+00:00,https://github.com/metabase/metabase/pull/49806,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2645216116,pull_request,closed,,update subscription checkboxes,"[Slack convo](https://metaboat.slack.com/archives/C064QMXEV9N/p1730996296943449?thread_ts=1730996284.648819&cid=C064QMXEV9N)

### Description

Replaces legacy checkboxes in the dashboard subscriptions view.

### Demo

Before
<img width=""369"" alt=""Screenshot 2024-11-08 at 4 31 45‚ÄØPM"" src=""https://github.com/user-attachments/assets/b39baefe-fbce-4aa5-9f70-8dd52aed8a41"">

After
![Screenshot 2024-11-08 at 4 33 14‚ÄØPM](https://github.com/user-attachments/assets/4b0b4417-5f43-4244-bbd9-65c5c1704906)

### Checklist

- [n/a] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-08 21:36:03+00:00,['alxnddr'],2024-11-12 20:43:18+00:00,2024-11-12 19:42:13+00:00,https://github.com/metabase/metabase/pull/49805,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2471425643, 'issue_id': 2645216116, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13164 tests** were run on `68d0e64a`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49805?repo=metabase/metabase&commitHash=68d0e64a910d9dd7b5e26c5f8a6f04b10808209a&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49805?repo=metabase/metabase&commitHash=68d0e64a910d9dd7b5e26c5f8a6f04b10808209a&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 19, 45, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 19:45:36 UTC): <!-- Trunk Test Analytics -->


**13164 tests** were run on `68d0e64a`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49805?repo=metabase/metabase&commitHash=68d0e64a910d9dd7b5e26c5f8a6f04b10808209a&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49805?repo=metabase/metabase&commitHash=68d0e64a910d9dd7b5e26c5f8a6f04b10808209a&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2645179595,pull_request,closed,,Clarify cache API permissions and add tests,"* Updates cache API perms so that any user with write access to a db/dashboard/question can edit the cache settings, per [discussion](https://metaboat.slack.com/archives/C064EB1UE5P/p1731095641995099?thread_ts=1731094735.330919&cid=C064EB1UE5P)
* Adds integration tests",noahmoss,2024-11-08 21:23:14+00:00,['noahmoss'],2024-11-12 16:13:39+00:00,2024-11-12 15:25:47+00:00,https://github.com/metabase/metabase/pull/49804,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2465771402, 'issue_id': 2645179595, 'author': 'noahmoss', 'body': '* **#49804** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49804?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 8, 21, 23, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2470797193, 'issue_id': 2645179595, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101400 tests** were run on `fa072e90`. ‚úÖ **101400 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49804?repo=metabase/metabase&commitHash=fa072e9094368423558f6c0021dceb2ba5bce14a&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 15, 11, 40, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-08 21:23:31 UTC): * **#49804** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49804?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-12 15:11:40 UTC): <!-- Trunk Test Analytics -->


**101400 tests** were run on `fa072e90`. ‚úÖ **101400 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49804?repo=metabase/metabase&commitHash=fa072e9094368423558f6c0021dceb2ba5bce14a&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2645158477,pull_request,closed,,"ü§ñ backported ""Keep Pivoted Option works in Subscriptions""",#49559,github-automation-metabase,2024-11-08 21:07:12+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-08 22:31:31+00:00,2024-11-08 22:31:30+00:00,https://github.com/metabase/metabase/pull/49803,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2645149313,pull_request,closed,,Apply Column Sort To Pivot Sections,"Fixes #49437

This PR fixes the dataset API so that column sorts (ascending/descending settings on pivot-rows and pivot-cols) are properly parsed and passed through the QP.

After that, I've also modified the post processor to use the sort orders properly in pivoted exports.

I've also fixed a little bug with totals subsections so that the totals rows are not inserted if there's only 1 pivot row (matching the app's appearance)",adam-james-v,2024-11-08 21:00:24+00:00,['adam-james-v'],2024-11-13 21:58:04+00:00,2024-11-13 21:58:02+00:00,https://github.com/metabase/metabase/pull/49802,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2471247763, 'issue_id': 2645149313, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**113640 tests** were run on `3e20ca69`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49802?repo=metabase/metabase&commitHash=3e20ca69884e896b9a2f208071c258caa5767808&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>query-drive-external-tables</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49802?repo=metabase/metabase&commitHash=3e20ca69884e896b9a2f208071c258caa5767808&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4eb108f6-b549-55a1-84e1-46da6716ea3a) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 18, 15, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 18:15:17 UTC): <!-- Trunk Test Analytics -->


**113640 tests** were run on `3e20ca69`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49802?repo=metabase/metabase&commitHash=3e20ca69884e896b9a2f208071c258caa5767808&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>query-drive-external-tables</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49802?repo=metabase/metabase&commitHash=3e20ca69884e896b9a2f208071c258caa5767808&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4eb108f6-b549-55a1-84e1-46da6716ea3a) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2645124387,pull_request,closed,,fix: Handle bigquery string(255) in sync,"Fixes: #49786
",snoe,2024-11-08 20:43:32+00:00,['snoe'],2024-11-08 21:59:32+00:00,2024-11-08 21:59:31+00:00,https://github.com/metabase/metabase/pull/49800,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]",[],
2645058702,pull_request,closed,,Merge master into metabot v3,This merges current `master` into the `metabot-v3-second-try` branch.,johnswanson,2024-11-08 20:13:13+00:00,['johnswanson'],2025-02-04 15:09:41+00:00,2024-11-11 15:03:15+00:00,https://github.com/metabase/metabase/pull/49799,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2465676462, 'issue_id': 2645058702, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5669cb0161fabc82bc37af8eac596052a2628391...81bab9e99938b77bec87dd035288535feb1e94f3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/index.ts<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts |\n| @kdoh | frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 8, 20, 14, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2465789485, 'issue_id': 2645058702, 'author': 'iethree', 'body': 'why merge and not just rebase?', 'created_at': datetime.datetime(2024, 11, 8, 21, 37, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2465844288, 'issue_id': 2645058702, 'author': 'johnswanson', 'body': ""> why merge and not just rebase?\r\n\r\nWe've required reviews on the branch and I can't force push anymore üò¢"", 'created_at': datetime.datetime(2024, 11, 8, 22, 24, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468388957, 'issue_id': 2645058702, 'author': 'dpsutton', 'body': 'We never merged this and have now opened a new one to merge in master.', 'created_at': datetime.datetime(2024, 11, 11, 15, 3, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 20:14:40 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5669cb0161fabc82bc37af8eac596052a2628391...81bab9e99938b77bec87dd035288535feb1e94f3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/index.ts<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts |
| @kdoh | frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |

iethree on (2024-11-08 21:37:47 UTC): why merge and not just rebase?

johnswanson (Issue Creator) on (2024-11-08 22:24:38 UTC): We've required reviews on the branch and I can't force push anymore üò¢

dpsutton on (2024-11-11 15:03:15 UTC): We never merged this and have now opened a new one to merge in master.

"
2645020289,pull_request,closed,,"ü§ñ backported ""docs - add notes on oracle connection""",#49795,github-automation-metabase,2024-11-08 19:49:43+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-08 19:51:14+00:00,2024-11-08 19:51:13+00:00,https://github.com/metabase/metabase/pull/49798,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2645003024,pull_request,closed,,"ü§ñ backported ""Disable connection reuse for requests that serve streaming responses""",#49773,github-automation-metabase,2024-11-08 19:40:31+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-11-08 20:23:04+00:00,2024-11-08 20:23:03+00:00,https://github.com/metabase/metabase/pull/49797,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2644904270,pull_request,closed,,"ü§ñ backported ""Enforce collection perms on native source-card IDs instead of requiring native query perms""",#49364,github-automation-metabase,2024-11-08 18:59:09+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-08 22:55:49+00:00,2024-11-08 22:55:48+00:00,https://github.com/metabase/metabase/pull/49796,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2644863205,pull_request,closed,,docs - add notes on oracle connection,Notes on connecting to Oracle's autonomous database.,jeff-bruemmer,2024-11-08 18:44:15+00:00,['jeff-bruemmer'],2024-11-08 19:51:41+00:00,2024-11-08 19:48:50+00:00,https://github.com/metabase/metabase/pull/49795,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2644825289,pull_request,closed,,"ü§ñ backported ""docs: update links to learn""",#49789,github-automation-metabase,2024-11-08 18:33:55+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-08 18:35:27+00:00,2024-11-08 18:35:26+00:00,https://github.com/metabase/metabase/pull/49794,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2644745505,pull_request,closed,,skip json() -> JSON.stringify and just forward the text,"This is helpful to forward possible errors that didn't come as json, closes https://github.com/metabase/metabase/issues/49762
More context on [the product doc](https://www.notion.so/metabase/Make-troubleshooting-SDK-auth-easier-11f69354c90180319a05e4b652adc249#11f69354c90180859197e284a0213f0f)

Similar to https://github.com/metabase/metabase-nodejs-react-sdk-embedding-sample/pull/5 done on the demo app",npretto,2024-11-08 17:50:20+00:00,['npretto'],2024-11-12 10:36:46+00:00,2024-11-12 10:36:44+00:00,https://github.com/metabase/metabase/pull/49792,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2644647654,pull_request,closed,,docs: update links to learn,"Redirects mess up source attribution for page views. I'd like to know when people are going from docs to learn, but I can't because every redirect is recorded as having come from the old link for the same page. Since we changed every link in Learn during the redesign, this makes source analysis largely impossible.

Single it's just a few mins of find-and-replace work to update the links, and it enables analysis, I figured why not just update all the links to Learn to their current state. ",alexyarosh,2024-11-08 17:16:30+00:00,['alexyarosh'],2024-11-08 18:35:55+00:00,2024-11-08 18:32:38+00:00,https://github.com/metabase/metabase/pull/49789,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2644557907,pull_request,closed,,Move `user_id` out of `instance_info`,This shouldn't be merged until https://github.com/metabase/ai-service/pull/52 is merged.,johnswanson,2024-11-08 16:43:36+00:00,['johnswanson'],2024-11-11 14:48:49+00:00,2024-11-11 14:48:47+00:00,https://github.com/metabase/metabase/pull/49787,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2466105980, 'issue_id': 2644557907, 'author': 'Somtom', 'body': '@johnswanson we merged the ai-service changes. This one should be good to go.', 'created_at': datetime.datetime(2024, 11, 9, 7, 46, 26, tzinfo=datetime.timezone.utc)}]","Somtom on (2024-11-09 07:46:26 UTC): @johnswanson we merged the ai-service changes. This one should be good to go.

"
2644527527,pull_request,closed,,[Metabot] Sessions,"### Description

Implements sessions on the FE per the spec: https://www.notion.so/metabase/Get-v1-LLM-Metabot-complete-enough-for-stats-and-more-tool-building-10d69354c90180c4aa35ee5a83a39c40?pvs=4#12e69354c90180ec816cf9367e8e1b85
- creates a new session id when opened, clears it out when closed
- metabot will auto-close after 30 seconds


### Checklist

- [x] Tests have been added/updated to cover changes in this PR",sloansparger,2024-11-08 16:35:17+00:00,['sloansparger'],2024-11-12 21:11:51+00:00,2024-11-12 20:30:14+00:00,https://github.com/metabase/metabase/pull/49785,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2468471641, 'issue_id': 2644527527, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**111300 tests** were run on `67d1fd93`. ‚ùå **214 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 214 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2e111c7f-ca33-5290-86a0-bce445b73b80) |\n| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=eb8aac9a-5d96-5f8a-890d-739593cb2907) |\n| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=37714bb5-0217-5ef7-975e-ebefe4e09dec) |\n| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\\$112625)</code> | Unable to find a label with the text \'Sum of Total\' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=681d6528-e418-5cd4-88fa-0cdffca9094e) |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=91d89ba7-b4ca-5555-bfee-16affa4df6ec) |\n| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=97520a57-e442-56de-81e1-3945c83c7765) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\$113817)</code> | The \\$1cy.click()\\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74a9f709-18cf-5cf2-b1f2-4aa4a62be741) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8fbcb818-59c4-5fb4-90bb-62cd8634842e) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (dropdown) should be able to use a static list source in th...</code> | The element you\'re trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7dbd3f40-ace0-5c85-97f5-2949e72260fb) |\n| <code>converting question to SQL (metabase\\$112651, metabase\\$121615, metabase\\$132121, metabase\\$140422) should be possible to save a question based on...</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ba9c5ca8-7a18-54a4-ad25-eb15556a0864) |\n\n[... and 204 more](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=13fbe487-727b-5a56-a667-0955c970a8a4) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 15, 40, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 15:40:57 UTC): <!-- Trunk Test Analytics -->


**111300 tests** were run on `67d1fd93`. ‚ùå **214 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment)


<details>
<summary>‚ùå 214 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > summarize sidebar selected dimensions from another table includes the table alias when becomes pinned to the top</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms of retrying. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2e111c7f-ca33-5290-86a0-bce445b73b80) |
| <code>scenarios > question > summarize sidebar selected dimensions becomes pinned to the top of the dimensions list</code> | The test timed out while trying to find an element with data-testid ""dimension-list-item"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=eb8aac9a-5d96-5f8a-890d-739593cb2907) |
| <code>scenarios > question > summarize sidebar selecting a binning adds a dimension</code> | Unable to find an element with data-testid ""dimension-list-item"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=37714bb5-0217-5ef7-975e-ebefe4e09dec) |
| <code>scenarios > question > summarize sidebar should handle (removing) multiple metrics when one is sorted (metabase\$112625)</code> | Unable to find a label with the text 'Sum of Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=681d6528-e418-5cd4-88fa-0cdffca9094e) |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=91d89ba7-b4ca-5555-bfee-16affa4df6ec) |
| <code>scenarios > question > saved should show the question lineage when a saved question is changed</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=97520a57-e442-56de-81e1-3945c83c7765) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\$113817)</code> | The \$1cy.click()\$1 command timed out because the page updated while the command was executing, causing the element to disappear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=74a9f709-18cf-5cf2-b1f2-4aa4a62be741) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source with custom labels (dropdown) should be able to use a stati...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8fbcb818-59c4-5fb4-90bb-62cd8634842e) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (dropdown) should be able to use a static list source in th...</code> | The element you're trying to interact with (Not now) disappeared from the page while Cypress was executing the command. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=7dbd3f40-ace0-5c85-97f5-2949e72260fb) |
| <code>converting question to SQL (metabase\$112651, metabase\$121615, metabase\$132121, metabase\$140422) should be possible to save a question based on...</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ba9c5ca8-7a18-54a4-ad25-eb15556a0864) |

[... and 204 more](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=13fbe487-727b-5a56-a667-0955c970a8a4) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49785?repo=metabase/metabase&commitHash=67d1fd9358adad7f1d175a02b78ae5b7c5e39a9a&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2644400195,pull_request,closed,,"ü§ñ backported ""docs - remove cube driver from list of community drivers""",#49780,github-automation-metabase,2024-11-08 15:39:11+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-08 15:40:45+00:00,2024-11-08 15:40:44+00:00,https://github.com/metabase/metabase/pull/49781,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2644393281,pull_request,closed,,docs - remove cube driver from list of community drivers,Like it says on the tin.,jeff-bruemmer,2024-11-08 15:36:25+00:00,['jeff-bruemmer'],2024-11-08 15:41:12+00:00,2024-11-08 15:38:01+00:00,https://github.com/metabase/metabase/pull/49780,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2644291012,pull_request,closed,,"Personalized search ranking, and other improvements","### Description

- Fixed gaps and gotchas in related-entity updates
- Added personalized ranker: bookmarked
- Improved reference hygiene of query fragments
- Added :name to the index
- Increased text matching score for the name, versus other searchable fields.",crisptrutski,2024-11-08 14:59:04+00:00,['crisptrutski'],2024-11-11 15:04:49+00:00,2024-11-11 10:58:02+00:00,https://github.com/metabase/metabase/pull/49777,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2464973028, 'issue_id': 2644291012, 'author': 'crisptrutski', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49777?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#49777** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49777?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 8, 14, 59, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467434918, 'issue_id': 2644291012, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**101389 tests** were run on `08989833`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=08989833ebe00713d04a68acf909fb676e95a680&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> | The expected text 'See these Orders' was not found in the element after 4000ms timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=08989833ebe00713d04a68acf909fb676e95a680&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dd051438-579f-5249-9a5d-e9364bd9e6b5) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 7, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467434926, 'issue_id': 2644291012, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3564 tests** were run on `d0917583`. ‚úÖ **3564 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=d09175837c2fb89d06700fe4c7a133e60b8c4dec&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 7, 38, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467434929, 'issue_id': 2644291012, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**2627 tests** were run on `eb5e1798`. ‚úÖ **2627 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=eb5e17980cc75b9d057bca6a5ee6ee575b34d269&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 7, 38, 1, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-08 14:59:31 UTC): * **#49777** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49777?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-11 07:38:00 UTC): <!-- Trunk Test Analytics -->


**101389 tests** were run on `08989833`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=08989833ebe00713d04a68acf909fb676e95a680&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows updating single dashboard filter and changing it back to default click b...</code> | The expected text 'See these Orders' was not found in the element after 4000ms timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=08989833ebe00713d04a68acf909fb676e95a680&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=dd051438-579f-5249-9a5d-e9364bd9e6b5) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 07:38:01 UTC): <!-- Trunk Test Analytics -->


**3564 tests** were run on `d0917583`. ‚úÖ **3564 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=d09175837c2fb89d06700fe4c7a133e60b8c4dec&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 07:38:01 UTC): <!-- Trunk Test Analytics -->


**2627 tests** were run on `eb5e1798`. ‚úÖ **2627 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49777?repo=metabase/metabase&commitHash=eb5e17980cc75b9d057bca6a5ee6ee575b34d269&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2644204315,pull_request,closed,,"ü§ñ backported ""fix(sdk): generated cli components has inconsistent styles after the style leak fix """,#49723,github-automation-metabase,2024-11-08 14:31:06+00:00,"['heypoom', 'github-automation-metabase']",2024-11-08 15:13:52+00:00,2024-11-08 15:13:51+00:00,https://github.com/metabase/metabase/pull/49775,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2644193722,pull_request,closed,,"ü§ñ backported ""Revert ""Remove old `MB_API_KEY` setting (#48592)""""","  #49507
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-08 14:25:54+00:00,"['johnswanson', 'github-automation-metabase']",2024-11-08 14:46:19+00:00,2024-11-08 14:45:58+00:00,https://github.com/metabase/metabase/pull/49774,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2464940619, 'issue_id': 2644193722, 'author': 'johnswanson', 'body': 'Looks like the original PR being reverted here was not backported.', 'created_at': datetime.datetime(2024, 11, 8, 14, 46, 18, tzinfo=datetime.timezone.utc)}]","johnswanson (Assginee) on (2024-11-08 14:46:18 UTC): Looks like the original PR being reverted here was not backported.

"
2644191846,pull_request,closed,,Disable connection reuse for requests that serve streaming responses,"This PR reverts #49460 which solved the issue of missing first bytes in some request. The problem in #49460 was caused by the streaming response cancellation impl that tries to read a byte from the request input stream and judges whether the connection is still open by the result of this operation. This causes issues if the connection is subsequently reused for another request, because the probe byte is taken away from the second request (and the byte probe request is sometimes even buffered, so the order of operations doesn't always matter, the second request still becomes corrupted).

To address the issue, #49460 rewrote the cancellation checking mechanism to use `HttpEndpoint.isOpen`. That, unfortunately, doesn't work reliably (or at all) ‚Äì¬†Jetty does not consider half-open connections (when the client send FIN already) as closed, and doesn't convey the information about being half-open anyhow.

Since the cancellation is equally important as handling requests properly, this PR restores the previous byte-probing mechanism. To prevent the corruption of requests, this PR sets `Connection: close` headers on all requests that produce streaming responses. If the connection is never reused and the server never ever expects to read useful information out of the socket, it becomes safe to byte-probe to your heart's desire. There is a drawback too ‚Äì¬†**streaming response requests can no longer be reused by the client which will cause higher number of simultaneous established connections to Metabase server.**",alexander-yakushev,2024-11-08 14:25:00+00:00,['alexander-yakushev'],2024-11-10 09:11:26+00:00,2024-11-08 19:39:40+00:00,https://github.com/metabase/metabase/pull/49773,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2466635397, 'issue_id': 2644191846, 'author': 'piranha', 'body': '@metabase-bot backport release-x.50.x', 'created_at': datetime.datetime(2024, 11, 10, 8, 15, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2466651421, 'issue_id': 2644191846, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.51.3](https://github.com/metabase/metabase/milestone/279)', 'created_at': datetime.datetime(2024, 11, 10, 9, 11, 25, tzinfo=datetime.timezone.utc)}]","piranha on (2024-11-10 08:15:58 UTC): @metabase-bot backport release-x.50.x

github-actions[bot] on (2024-11-10 09:11:25 UTC): üöÄ This should also be released by [v0.51.3](https://github.com/metabase/metabase/milestone/279)

"
2644111817,pull_request,closed,,Fix flaky notebook test,"### Description

Example failure: https://github.com/metabase/metabase/actions/runs/11740066792/attempts/1?pr=49758

### How to verify

CI is green.
Unfortunately this test always fails in e2e stress test job due to some database trickery (""Public"" schema is missing, which is one of the assertions).",kamilmielnik,2024-11-08 13:50:40+00:00,['kamilmielnik'],2024-11-12 08:34:05+00:00,2024-11-11 07:11:21+00:00,https://github.com/metabase/metabase/pull/49771,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2644108184,pull_request,closed,,Do not pollute SDK users `window` object,"Relate to #8490

### Description

This PR applies the same fix I added in #49751, to not pollute SDK users' `window` object. This doesn't change any behavior at all. It just makes the SDK more user friendly.

### How to verify

1. Set the instance locale to something not English to see the problem more clearly.
1. Go to the only dashboard in the example collection and add a text card. Set the value as 
    ```
    {{ param }}
    ```
    And link it to any dashboard filter.
1. Embed that dashboard using the SDK.
1. pass `locale` of your choice to `MetabaseProvider`
1. See that the smartscalar should be translated properly.
1. Open the devtool and see that `window.MetabaseUserLocalization` is undefined. If you test this on `master` you should see a value.

### Demo

#### Before
![Screenshot 2024-11-08 at 8 52 52‚ÄØPM](https://github.com/user-attachments/assets/bee6cf52-6c40-4ddd-bedb-17fb1238b5e3)


#### After
![Screenshot 2024-11-08 at 8 52 30‚ÄØPM](https://github.com/user-attachments/assets/f78b0614-1cda-40e9-be06-79706e0c14fd)

### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~
",WiNloSt,2024-11-08 13:49:00+00:00,['WiNloSt'],2024-11-26 18:51:41+00:00,2024-11-08 14:32:39+00:00,https://github.com/metabase/metabase/pull/49770,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2464824183, 'issue_id': 2644108184, 'author': 'WiNloSt', 'body': ""We don't need to backport this since I already add this code in https://github.com/metabase/metabase/pull/49751"", 'created_at': datetime.datetime(2024, 11, 8, 13, 53, 56, tzinfo=datetime.timezone.utc)}]","WiNloSt (Issue Creator) on (2024-11-08 13:53:56 UTC): We don't need to backport this since I already add this code in https://github.com/metabase/metabase/pull/49751

"
2644080487,pull_request,closed,,Move filter to hooks and use FilterPanel,"- Moves the logic for updating and removing a filter, plus filter metadata, to a hook that we can use in the SDK as well as the core app
- Removes the `QuestionFiltersHeader` as it has become redundant with this hook
- Refactors the `FilterPanelPopover` to only focus on rendering the filter popover, and using the hook's update/remove utility methods through the props",oisincoveney,2024-11-08 13:37:19+00:00,['oisincoveney'],2024-12-06 15:06:37+00:00,2024-12-06 15:06:37+00:00,https://github.com/metabase/metabase/pull/49769,"[('.Team/Embedding', '')]","[{'comment_id': 2464789329, 'issue_id': 2644080487, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 8, 13, 37, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 13:37:42 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2644042851,pull_request,closed,,feat(sdk): expose FilterPicker querying component,"Closes https://github.com/metabase/metabase/issues/49752

### Description

Exposes the FilterPicker querying component to the SDK, with some CSS resets.

### How to verify

- Render in the `FilterPicker` component in your `InteractiveQuestion`. Make sure to add a `FilterBar` too, so you can see what filters are applied. You can use the [example from Storybook](https://github.com/metabase/metabase/pull/49768/files#diff-5d65becfe7789e892f74796c905e2cdf2f5a25f03acb45616cdf11f16209e5d2) in this PR.
- Try adding filters.
- The filters should be added, and the question should be ran automatically.

### Demo

[Private Loom](https://www.loom.com/share/2664525dcae0488f8b01e37a2b6f1b74?sid=b87d3d7f-089b-4959-8540-7b99e364b3c4)

![CleanShot 2567-11-08 at 22 32 16@2x](https://github.com/user-attachments/assets/f5c46488-bfa7-4652-bdd9-214444a86618)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-11-08 13:20:16+00:00,['heypoom'],2024-11-12 20:00:15+00:00,2024-11-12 20:00:13+00:00,https://github.com/metabase/metabase/pull/49768,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2468033095, 'issue_id': 2644042851, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13162 tests** were run on `19223b00`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49768?repo=metabase/metabase&commitHash=19223b0069d42641f46f87be38dbcd5de172a5f6&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49768?repo=metabase/metabase&commitHash=19223b0069d42641f46f87be38dbcd5de172a5f6&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 12, 14, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 12:14:02 UTC): <!-- Trunk Test Analytics -->


**13162 tests** were run on `19223b00`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49768?repo=metabase/metabase&commitHash=19223b0069d42641f46f87be38dbcd5de172a5f6&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49768?repo=metabase/metabase&commitHash=19223b0069d42641f46f87be38dbcd5de172a5f6&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2644035814,pull_request,closed,,Change default interactive question layout,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-11-08 13:17:04+00:00,['oisincoveney'],2024-11-18 17:10:58+00:00,2024-11-18 17:10:58+00:00,https://github.com/metabase/metabase/pull/49767,"[('.Team/Embedding', '')]","[{'comment_id': 2464748912, 'issue_id': 2644035814, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 8, 13, 17, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 13:17:23 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2643941554,pull_request,closed,,Fix flaky homepage xrays test,"Fixes one of top 10 flaky tests: https://stats.metabase.com/question/18032

### Description

Example failures:
- https://github.com/metabase/metabase/actions/runs/11723704758/job/32656343013?pr=49656
- https://github.com/metabase/metabase/actions/runs/11739955207

### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11742366760

Apply this patch and the test should fail:
```patch
diff --git a/frontend/src/metabase/home/components/HomeXraySection/HomeXraySection.tsx b/frontend/src/metabase/home/components/HomeXraySection/HomeXraySection.tsx
index 2c7a957df0..f711f91682 100644
--- a/frontend/src/metabase/home/components/HomeXraySection/HomeXraySection.tsx
+++ b/frontend/src/metabase/home/components/HomeXraySection/HomeXraySection.tsx
@@ -33,7 +33,7 @@ import {
 export const HomeXraySection = () => {
   const {
     data: databasesData,
-    isLoading: databasesLoading,
+    isFetching: databasesLoading,
     error: databasesError,
   } = useListDatabasesQuery();
 ```",kamilmielnik,2024-11-08 12:42:14+00:00,['kamilmielnik'],2024-11-12 08:39:05+00:00,2024-11-12 06:52:37+00:00,https://github.com/metabase/metabase/pull/49765,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2643772369,pull_request,closed,,"ü§ñ backported ""Remove @flaky tag from no longer flaking tests""",#49608,github-automation-metabase,2024-11-08 11:32:38+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-08 12:41:33+00:00,2024-11-08 12:41:32+00:00,https://github.com/metabase/metabase/pull/49761,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2643771228,pull_request,closed,,"ü§ñ backported ""Fix flaky 25885 repro""",#49753,github-automation-metabase,2024-11-08 11:32:18+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-08 12:37:20+00:00,2024-11-08 12:37:19+00:00,https://github.com/metabase/metabase/pull/49760,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2643636289,pull_request,closed,,[Notification] Convert all mustaches emails to handlebars,"Comparision:

<details>
<summary>alert.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 00 44"" src=""https://github.com/user-attachments/assets/5020cf5d-f746-4a8e-b439-c2f5ca61e08e"">


After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 01 08"" src=""https://github.com/user-attachments/assets/bce2bfa3-a17d-4b52-a1c1-dec0898b2456"">


</details>

<details>
<summary>alert_you_were_added.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 04 18"" src=""https://github.com/user-attachments/assets/bba49be4-b0b4-4340-bdb6-35623e4aa4a1"">

After

<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 05 54"" src=""https://github.com/user-attachments/assets/49b98446-6b6f-4c1c-923c-06fcbdb703c3"">


</details>


<details>
<summary>alert_new_confirmation.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 17 58 44"" src=""https://github.com/user-attachments/assets/8bba84f0-a9e2-4b09-ae95-431903361a9b"">


After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 17 56 44"" src=""https://github.com/user-attachments/assets/17f47240-0303-4879-a97f-7933954849a6"">


</details>


<details>
<summary>alert_admin_unsubscribed_you.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 07 23"" src=""https://github.com/user-attachments/assets/1c2a717c-cda3-43c8-bb38-ecdff8c40a89"">

After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 07 55"" src=""https://github.com/user-attachments/assets/f593deec-3be5-4113-9599-3c77395e2625"">

</details>



<details>
<summary>alert_unsubscribed.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 09 50"" src=""https://github.com/user-attachments/assets/5474830d-599e-4c34-9fa0-4ce864c7d45b"">

After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 10 24"" src=""https://github.com/user-attachments/assets/9d5a99fd-7027-4bfd-8434-19907c146396"">


</details>




<details>
<summary>broken_subscription_notification.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 16 04"" src=""https://github.com/user-attachments/assets/9592efb5-6eab-40de-be5a-23b55c0e5e25"">


After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 14 22"" src=""https://github.com/user-attachments/assets/941bada8-f129-47c7-93b7-c71f2bfbc3c8"">

</details>




<details>
<summary>creator_sentiment_emails.clj</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 19 22"" src=""https://github.com/user-attachments/assets/e40fa7aa-3d9e-4782-894a-567955f2cc9f"">

After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 18 42"" src=""https://github.com/user-attachments/assets/8ff810b6-e12a-41c4-84d5-7bb4cb2b86a4"">

</details>




<details>
<summary>follow_up_email.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 20 48"" src=""https://github.com/user-attachments/assets/0b8fda71-211a-4e6b-9fa0-3e10a0992d5c"">

After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 20 17"" src=""https://github.com/user-attachments/assets/d0c99548-96e4-40a5-8153-1c446d327472"">

</details>




<details>
<summary>legacy_no_self_service.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 22 55"" src=""https://github.com/user-attachments/assets/8b0382b6-c7fd-4fc0-a47c-a1749906e507"">


After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 22 07"" src=""https://github.com/user-attachments/assets/a758cc0c-1534-497f-852d-2205e753dd59"">


</details>



<details>
<summary>dashboard_subscription.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 26 09"" src=""https://github.com/user-attachments/assets/9714dad0-206c-47d7-a5e8-28b78bc2ad80"">

After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 26 32"" src=""https://github.com/user-attachments/assets/84f9aeb4-8b03-496b-a978-57af7a1807cb"">

</details>



<details>
<summary>new_user_invite.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 27 38"" src=""https://github.com/user-attachments/assets/b4591b17-ae59-4e33-a0fa-be6f8c36ce54"">

After


<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 27 07"" src=""https://github.com/user-attachments/assets/71da5508-5fee-481f-ad99-c2051860a8a6"">

</details>




<details>
<summary>user_joined_notification.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 28 49"" src=""https://github.com/user-attachments/assets/2791d72e-6837-41b3-83b9-f6121ef86372"">


After
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 28 45"" src=""https://github.com/user-attachments/assets/fd96cd40-6d4f-413e-b969-185c00dd1799"">


</details>


<details>
<summary>login_from_new_device.hbs</summary>

Before
<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 31 47"" src=""https://github.com/user-attachments/assets/c41c0f4e-4629-4607-ac31-1ef344245aac"">


After

<img width=""1450"" alt=""Screenshot 2024-11-11 at 18 31 14"" src=""https://github.com/user-attachments/assets/08d5cb92-41ab-4d8e-9714-09d63e7306f0"">


</details>


",qnkhuat,2024-11-08 10:41:22+00:00,['qnkhuat'],2024-11-26 18:51:34+00:00,2024-11-11 12:30:19+00:00,https://github.com/metabase/metabase/pull/49759,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2467217687, 'issue_id': 2643636289, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101269 tests** were run on `a0edb570`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=a0edb570ea6a7ad41944cfa9c88504d3ced0b305&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>query-generator-test</code> | Duplicate values ignoring uuids in the order-by clause were found, which is not allowed. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=a0edb570ea6a7ad41944cfa9c88504d3ced0b305&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=86fbcadb-9c04-5f24-a88f-b7a5cabae44e) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 4, 38, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467217688, 'issue_id': 2643636289, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**40962 tests** were run on `ad9853e9`. ‚ùå **62 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 62 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=47dc35fd-ee5a-56b0-8d63-02a017242f70) |\n| <code>send-creator-sentiment-emails!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2e0e1389-c81c-56d4-8153-5a8b3ee4f970) |\n| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8d02118f-c4e5-52b3-be4f-0fda084f3f35) |\n| <code>send-creator-sentiment-emails!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d0b93db1-0cbe-504c-8012-6850b11f3805) |\n| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3a393e73-9157-5f6d-b659-21d6330bf377) |\n| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e33f3366-105a-503b-871d-96b45454b135) |\n| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f930199e-ad12-555a-ae58-8e2871f9780d) |\n| <code>send-creator-sentiment-emails!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=291be71c-017b-5e00-bae1-98abb3390055) |\n| <code>system-event-e2e-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bb176ee8-4a7a-5c49-a24f-98ec083f666f) |\n| <code>slack-error-token-email-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4b141c05-1c5c-5e15-9715-2f05247acc0c) |\n\n[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 4, 38, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467217691, 'issue_id': 2643636289, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**40962 tests** were run on `ad9853e9`. ‚ùå **62 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 62 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=47dc35fd-ee5a-56b0-8d63-02a017242f70) |\n| <code>send-creator-sentiment-emails!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2e0e1389-c81c-56d4-8153-5a8b3ee4f970) |\n| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8d02118f-c4e5-52b3-be4f-0fda084f3f35) |\n| <code>send-creator-sentiment-emails!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d0b93db1-0cbe-504c-8012-6850b11f3805) |\n| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3a393e73-9157-5f6d-b659-21d6330bf377) |\n| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e33f3366-105a-503b-871d-96b45454b135) |\n| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f930199e-ad12-555a-ae58-8e2871f9780d) |\n| <code>send-creator-sentiment-emails!-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=291be71c-017b-5e00-bae1-98abb3390055) |\n| <code>system-event-e2e-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bb176ee8-4a7a-5c49-a24f-98ec083f666f) |\n| <code>slack-error-token-email-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4b141c05-1c5c-5e15-9715-2f05247acc0c) |\n\n[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 4, 38, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 04:38:33 UTC): <!-- Trunk Test Analytics -->


**101269 tests** were run on `a0edb570`. ‚ùå **1 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=a0edb570ea6a7ad41944cfa9c88504d3ced0b305&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>query-generator-test</code> | Duplicate values ignoring uuids in the order-by clause were found, which is not allowed. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=a0edb570ea6a7ad41944cfa9c88504d3ced0b305&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=86fbcadb-9c04-5f24-a88f-b7a5cabae44e) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 04:38:33 UTC): <!-- Trunk Test Analytics -->


**40962 tests** were run on `ad9853e9`. ‚ùå **62 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment)


<details>
<summary>‚ùå 62 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=47dc35fd-ee5a-56b0-8d63-02a017242f70) |
| <code>send-creator-sentiment-emails!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2e0e1389-c81c-56d4-8153-5a8b3ee4f970) |
| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8d02118f-c4e5-52b3-be4f-0fda084f3f35) |
| <code>send-creator-sentiment-emails!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d0b93db1-0cbe-504c-8012-6850b11f3805) |
| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3a393e73-9157-5f6d-b659-21d6330bf377) |
| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e33f3366-105a-503b-871d-96b45454b135) |
| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f930199e-ad12-555a-ae58-8e2871f9780d) |
| <code>send-creator-sentiment-emails!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=291be71c-017b-5e00-bae1-98abb3390055) |
| <code>system-event-e2e-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bb176ee8-4a7a-5c49-a24f-98ec083f666f) |
| <code>slack-error-token-email-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4b141c05-1c5c-5e15-9715-2f05247acc0c) |

[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 04:38:33 UTC): <!-- Trunk Test Analytics -->


**40962 tests** were run on `ad9853e9`. ‚ùå **62 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment)


<details>
<summary>‚ùå 62 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=47dc35fd-ee5a-56b0-8d63-02a017242f70) |
| <code>send-creator-sentiment-emails!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2e0e1389-c81c-56d4-8153-5a8b3ee4f970) |
| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=8d02118f-c4e5-52b3-be4f-0fda084f3f35) |
| <code>send-creator-sentiment-emails!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d0b93db1-0cbe-504c-8012-6850b11f3805) |
| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3a393e73-9157-5f6d-b659-21d6330bf377) |
| <code>handle-broken-subscriptions-due-to-bad-parameters-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e33f3366-105a-503b-871d-96b45454b135) |
| <code>send-emails-to-admins-if-instance-has-legacy-pulse</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f930199e-ad12-555a-ae58-8e2871f9780d) |
| <code>send-creator-sentiment-emails!-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=291be71c-017b-5e00-bae1-98abb3390055) |
| <code>system-event-e2e-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bb176ee8-4a7a-5c49-a24f-98ec083f666f) |
| <code>slack-error-token-email-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=4b141c05-1c5c-5e15-9715-2f05247acc0c) |

[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/49759?repo=metabase/metabase&commitHash=ad9853e912410d61b85d108b1c43fd5a29616eff&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2643539520,pull_request,closed,,Fix flaky databases test,"### Description

Example failures:
- https://github.com/metabase/metabase/actions/runs/11723704758/job/32656336314?pr=49656
- https://github.com/metabase/metabase/actions/runs/11739955207/job/32705526253

### How to verify

Stress test:  https://github.com/metabase/metabase/actions/runs/11740093664",kamilmielnik,2024-11-08 10:05:31+00:00,['kamilmielnik'],2024-11-12 08:25:57+00:00,2024-11-11 07:10:01+00:00,https://github.com/metabase/metabase/pull/49758,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2643534369,pull_request,closed,,"ü§ñ backported ""feat(sdk): deprecate the ModifyQuestion component""",#49747,github-automation-metabase,2024-11-08 10:02:55+00:00,"['heypoom', 'github-automation-metabase']",2024-11-08 10:47:15+00:00,2024-11-08 10:47:15+00:00,https://github.com/metabase/metabase/pull/49757,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2643509105,pull_request,closed,,"ü§ñ backported ""Fix flaky native query drill test""",#49745,github-automation-metabase,2024-11-08 09:53:08+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-08 10:35:45+00:00,2024-11-08 10:35:44+00:00,https://github.com/metabase/metabase/pull/49755,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2643495674,pull_request,closed,,"ü§ñ backported ""Remove sandboxes tests from flaky jail""",#49656,github-automation-metabase,2024-11-08 09:46:54+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-08 10:28:00+00:00,2024-11-08 10:27:59+00:00,https://github.com/metabase/metabase/pull/49754,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2643427621,pull_request,closed,,Fix flaky 25885 repro,"### Description

Example failures:
- https://github.com/metabase/metabase/actions/runs/11722439501?pr=49608
- https://github.com/metabase/metabase/actions/runs/11739382248

### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11739431307",kamilmielnik,2024-11-08 09:26:01+00:00,['kamilmielnik'],2024-11-08 12:37:46+00:00,2024-11-08 11:31:26+00:00,https://github.com/metabase/metabase/pull/49753,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2643419158,pull_request,closed,,Backport refactor from #8490 to 51,"This is a followed up task from #8490. Since we didn't backport the PR that fixes the issue to 51. We should backport the refactor part of it, so we don't have conflicts in the future. It technically import the behavior change for static embeddings/public links, but it does nothing in the SDK since we don't have a localization object in `window` object on the SDK.

### Description

This PR backports the refactor code from master.

### How to verify

1. Set the instance locale to something not English to see the problem more clearly.
1. Go to the only dashboard in the example collection and add a text card. Set the value as 
    ```
    {{ param }}
    ```
    And link it to any dashboard filter.
1. Embed that dashboard using the SDK.
1. pass `locale` of your choice to `MetabaseProvider`
1. See that the smartscalar should be translated properly.

### Demo

![image](https://github.com/user-attachments/assets/9134595b-a0df-4a9f-bbb0-2bda2488d374)

### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~ This PR doesn't change any behavior.
",WiNloSt,2024-11-08 09:22:41+00:00,['WiNloSt'],2024-11-08 14:33:24+00:00,2024-11-08 14:32:48+00:00,https://github.com/metabase/metabase/pull/49751,"[('.Team/Embedding', '')]",[],
2643410835,pull_request,closed,,"ü§ñ backported ""docs(sdk): fix dead link in sdk quickstart""",#49749,github-automation-metabase,2024-11-08 09:18:44+00:00,"['heypoom', 'github-automation-metabase']",2024-11-08 09:21:12+00:00,2024-11-08 09:21:11+00:00,https://github.com/metabase/metabase/pull/49750,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2643387766,pull_request,closed,,docs(sdk): fix dead link in sdk quickstart,"We have a dead link after merging https://github.com/metabase/metabase-nodejs-react-sdk-embedding-sample/pull/4.

![CleanShot 2567-11-08 at 16 08 25@2x](https://github.com/user-attachments/assets/46558b74-407e-4a2d-94a1-36d12d272c0b)
",heypoom,2024-11-08 09:09:02+00:00,['heypoom'],2024-11-08 09:21:40+00:00,2024-11-08 09:17:55+00:00,https://github.com/metabase/metabase/pull/49749,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2643336662,pull_request,closed,,feat(sdk): deprecate the ModifyQuestion component,"Closes https://github.com/metabase/metabase/issues/49716

Deprecates the ModifyQuestion component and removes it from the documentation. We should remove it in later releases.",heypoom,2024-11-08 08:47:24+00:00,['heypoom'],2024-11-08 10:02:07+00:00,2024-11-08 10:02:06+00:00,https://github.com/metabase/metabase/pull/49747,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2464204229, 'issue_id': 2643336662, 'author': 'heypoom', 'body': 'lint failing due to https://github.com/metabase/metabase/pull/49749', 'created_at': datetime.datetime(2024, 11, 8, 9, 17, 18, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2024-11-08 09:17:18 UTC): lint failing due to https://github.com/metabase/metabase/pull/49749

"
2643232659,pull_request,closed,,"ü§ñ backported ""Support localization in static embeds""",#49441,github-automation-metabase,2024-11-08 08:10:16+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-08 08:12:01+00:00,2024-11-08 08:11:18+00:00,https://github.com/metabase/metabase/pull/49746,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2464044626, 'issue_id': 2643232659, 'author': 'WiNloSt', 'body': ""I forgot we only want to release this in 52, so I shouldn't backport this PR."", 'created_at': datetime.datetime(2024, 11, 8, 8, 11, 58, tzinfo=datetime.timezone.utc)}]","WiNloSt (Assginee) on (2024-11-08 08:11:58 UTC): I forgot we only want to release this in 52, so I shouldn't backport this PR.

"
2643210227,pull_request,closed,,Fix flaky native query drill test,"Fixes 2 of top 10 flaky tests: https://stats.metabase.com/question/18032

### Description

Example failure: https://github.com/metabase/metabase/actions/runs/11738271705/job/32700471086

### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11738282955/job/32700504429",kamilmielnik,2024-11-08 08:02:19+00:00,['kamilmielnik'],2024-11-08 10:36:13+00:00,2024-11-08 09:52:20+00:00,https://github.com/metabase/metabase/pull/49745,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2642989145,pull_request,closed,,Allow searching a single select list picker,"Fixes https://github.com/metabase/metabase/issues/49642

To reproduce:

1. New Question > Accounts > Save > Add to dashboard
2. Add text filter > Accounts.First Name > Dropdown > Single value
3. Save dashboard
4. Edit filter and type `Zackery`, it should show the option


https://github.com/user-attachments/assets/1f717afc-e6cd-4172-862b-31f16bab3953

",romeovs,2024-11-08 06:14:46+00:00,['romeovs'],2024-11-26 07:29:36+00:00,2024-11-21 04:53:31+00:00,https://github.com/metabase/metabase/pull/49739,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('loki-update', '')]","[{'comment_id': 2467066328, 'issue_id': 2642989145, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13218_tests-de91e424-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49739?repo=metabase/metabase&commitHash=de91e4245cb41f8c5b376bbfc06b97ea2048cb67&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 1, 36, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484715110, 'issue_id': 2642989145, 'author': 'romeovs', 'body': '@kamilmielnik I re-requested your review because I made some small changes.', 'created_at': datetime.datetime(2024, 11, 19, 5, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498128894, 'issue_id': 2642989145, 'author': 'natashamathur', 'body': 'We are having the same issue with not being able to see more than 1000 results. When will this PR be released?', 'created_at': datetime.datetime(2024, 11, 25, 14, 11, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499868823, 'issue_id': 2642989145, 'author': 'kamilmielnik', 'body': ""> We are having the same issue with not being able to see more than 1000 results. When will this PR be released?\r\n\r\n@natashamathur It's scheduled to be released in 0.51.5 on November 26."", 'created_at': datetime.datetime(2024, 11, 26, 7, 29, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 01:36:54 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13218_tests-de91e424-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49739?repo=metabase/metabase&commitHash=de91e4245cb41f8c5b376bbfc06b97ea2048cb67&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

romeovs (Issue Creator) on (2024-11-19 05:02:59 UTC): @kamilmielnik I re-requested your review because I made some small changes.

natashamathur on (2024-11-25 14:11:59 UTC): We are having the same issue with not being able to see more than 1000 results. When will this PR be released?

kamilmielnik on (2024-11-26 07:29:35 UTC): @natashamathur It's scheduled to be released in 0.51.5 on November 26.

"
2642777404,pull_request,closed,,"ü§ñ backported ""Handle touch start capture as well as mouse down for popover""",#49465,github-automation-metabase,2024-11-08 04:00:12+00:00,"['romeovs', 'github-automation-metabase']",2024-11-08 04:41:59+00:00,2024-11-08 04:41:59+00:00,https://github.com/metabase/metabase/pull/49736,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2463710157, 'issue_id': 2642777404, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b53b62b02ae7e35b05a75f35a0539f71959b72be...c693d135cdcede78f32a3318a6402837a0e4e1f6.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 8, 4, 1, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 04:01:38 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b53b62b02ae7e35b05a75f35a0539f71959b72be...c693d135cdcede78f32a3318a6402837a0e4e1f6.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |

"
2642654129,pull_request,closed,,"ü§ñ backported ""Email throttling config""",#49477,metabase-bot[bot],2024-11-08 02:32:14+00:00,['qnkhuat'],2024-11-08 06:45:05+00:00,2024-11-08 06:45:04+00:00,https://github.com/metabase/metabase/pull/49733,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2642424813,pull_request,closed,,[Metabot] Initial e2e + unit tests,Basic e2e and unit test coverage for the UI and some unit tests to pin down some basic logic around context and history.,sloansparger,2024-11-07 23:21:04+00:00,['sloansparger'],2024-11-12 18:10:06+00:00,2024-11-12 17:04:37+00:00,https://github.com/metabase/metabase/pull/49732,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2469385373, 'issue_id': 2642424813, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**12838 tests** were run on `b4bcef3f`. ‚ùå **115 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 115 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 20624 should reset the question\'s viz settings when converting to a model (metabase\\$120624)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=347b66da-89ea-5942-bee6-f6d357a8ed91) |\n| <code>issue 45924 should preserve model metadata when re-running the query (metabase\\$145924)</code> | The test timed out while trying to find an element with the text \'ID1\' and could not find it. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e1405c81-4714-5e20-b5df-df1ab6dedd37) |\n| <code>issue 39749 should not overwrite the description of one column with the description of another column (metabase\\$139749)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=526078ed-aa05-5a1b-80e4-e2dda1ddcfc7) |\n| <code>issue 29943 selects the right column when clicking a column header (metabase\\$129943)</code> | The \\$1cy.find()\\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5505ffe1-fa9a-5079-baa8-443ee7e94697) |\n| <code>issue 19889 should order columns correctly in unsaved native query exports</code> | The download button was not found within 4 seconds, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3c5ae8f2-c230-5ac9-9749-0fc521978670) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> | The test timed out waiting for the \'/open editor/i\' content to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=680eddaf-c86b-5e19-aec4-7f629c4872ae) |\n| <code>issue 19889 should order columns correctly in unsaved native query exports</code> | The download button was not found within 4 seconds, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b2a97c7b-8246-5725-98d1-d0da3a5cb68f) |\n| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\\$119889)</code> | The test timed out waiting for the \'/open editor/i\' content to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bcf9887f-546b-5288-acc3-8330bbd3ae25) |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\$137726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c4578c56-04a1-5338-802f-bf916b9ae9f6) |\n| <code>issue 37009 should prevent saving new and updating existing models without result\\$1metadata (metabase\\$137009)</code> | The element with data-testid ""qb-header-action-panel"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c11badcc-a73a-5e9a-8ae3-e2eb81233705) |\n\n[... and 105 more](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)\n</details>\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall multi-series (metabase\\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=23d4eeb2-b310-5bc9-b818-ab7fc2654c69) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 12, 1, 9, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 01:09:45 UTC): <!-- Trunk Test Analytics -->


**12838 tests** were run on `b4bcef3f`. ‚ùå **115 Failed**, ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment)


<details>
<summary>‚ùå 115 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 20624 should reset the question's viz settings when converting to a model (metabase\$120624)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=347b66da-89ea-5942-bee6-f6d357a8ed91) |
| <code>issue 45924 should preserve model metadata when re-running the query (metabase\$145924)</code> | The test timed out while trying to find an element with the text 'ID1' and could not find it. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e1405c81-4714-5e20-b5df-df1ab6dedd37) |
| <code>issue 39749 should not overwrite the description of one column with the description of another column (metabase\$139749)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=526078ed-aa05-5a1b-80e4-e2dda1ddcfc7) |
| <code>issue 29943 selects the right column when clicking a column header (metabase\$129943)</code> | The \$1cy.find()\$1 command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=5505ffe1-fa9a-5079-baa8-443ee7e94697) |
| <code>issue 19889 should order columns correctly in unsaved native query exports</code> | The download button was not found within 4 seconds, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3c5ae8f2-c230-5ac9-9749-0fc521978670) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> | The test timed out waiting for the '/open editor/i' content to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=680eddaf-c86b-5e19-aec4-7f629c4872ae) |
| <code>issue 19889 should order columns correctly in unsaved native query exports</code> | The download button was not found within 4 seconds, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b2a97c7b-8246-5725-98d1-d0da3a5cb68f) |
| <code>issue 19889 should order columns correctly in saved native query exports when the query was modified but not re-run before save (\$119889)</code> | The test timed out waiting for the '/open editor/i' content to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bcf9887f-546b-5288-acc3-8330bbd3ae25) |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\$137726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c4578c56-04a1-5338-802f-bf916b9ae9f6) |
| <code>issue 37009 should prevent saving new and updating existing models without result\$1metadata (metabase\$137009)</code> | The element with data-testid ""qb-header-action-panel"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c11badcc-a73a-5e9a-8ae3-e2eb81233705) |

[... and 105 more](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED)
</details>
<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall multi-series (metabase\$115152) should correctly switch into single-series mode for ad-hoc queries</code> | Unable to find an element with data-testid ""Waterfall-container"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=23d4eeb2-b310-5bc9-b818-ab7fc2654c69) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49732?repo=metabase/metabase&commitHash=b4bcef3f42e7efbd7509be0406aacf1e3b94c859&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2642423007,pull_request,closed,,"ü§ñ backported ""Fix label and link on authentication upsell card""",#49707,github-automation-metabase,2024-11-07 23:19:22+00:00,"['rafpaf', 'github-automation-metabase']",2024-11-11 14:47:55+00:00,2024-11-11 14:05:17+00:00,https://github.com/metabase/metabase/pull/49731,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2468271450, 'issue_id': 2642423007, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13095 tests** were run on `0f9617d7`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49731?repo=metabase/metabase&commitHash=0f9617d74d9b976973f6f26ee4dfd3427ea1eef9&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49731?repo=metabase/metabase&commitHash=0f9617d74d9b976973f6f26ee4dfd3427ea1eef9&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 14, 10, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 14:10:31 UTC): <!-- Trunk Test Analytics -->


**13095 tests** were run on `0f9617d7`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49731?repo=metabase/metabase&commitHash=0f9617d74d9b976973f6f26ee4dfd3427ea1eef9&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49731?repo=metabase/metabase&commitHash=0f9617d74d9b976973f6f26ee4dfd3427ea1eef9&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2642223077,pull_request,closed,,hide admin links when dealing with non admins,"Closes https://github.com/metabase/metabase/issues/49729

### Description
Ensures that users have access to the settings page before adding settings links to the command palette

### How to verify

1. Log in as a non-admin
2. Open the command palette
3. Type accessing a settings link (search for Email, or Site Name)
4. It should not show any settings links

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-11-07 21:25:16+00:00,['npfitz'],2024-12-09 12:21:02+00:00,2024-12-09 12:21:02+00:00,https://github.com/metabase/metabase/pull/49730,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2642167763,pull_request,closed,,"ü§ñ backported ""redshift defines ""text"" as varchar(255) and we want it to be way longer""",#49710,github-automation-metabase,2024-11-07 20:50:11+00:00,"['piranha', 'github-automation-metabase']",2024-11-07 21:33:59+00:00,2024-11-07 21:33:58+00:00,https://github.com/metabase/metabase/pull/49728,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2642145471,pull_request,closed,,"ü§ñ backported ""docs - notes on database browser""",#49726,github-automation-metabase,2024-11-07 20:37:11+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-07 20:38:43+00:00,2024-11-07 20:38:42+00:00,https://github.com/metabase/metabase/pull/49727,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2642081703,pull_request,closed,,docs - notes on database browser,Elaborates on how the Create queries permission is required to view the database browser.,jeff-bruemmer,2024-11-07 20:18:28+00:00,['jeff-bruemmer'],2024-11-07 20:39:08+00:00,2024-11-07 20:36:20+00:00,https://github.com/metabase/metabase/pull/49726,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2641889712,pull_request,closed,,Bugfix/is example,,jordigiam,2024-11-07 18:47:41+00:00,[],2024-11-07 18:48:22+00:00,2024-11-07 18:47:46+00:00,https://github.com/metabase/metabase/pull/49725,[],[],
2641811455,pull_request,closed,,fix(sdk): generated cli components has inconsistent styles after the style leak fix ,"Closes https://github.com/metabase/metabase/issues/49652

### Description

After we fixed the style leak issue in https://github.com/metabase/metabase/issues/44802, the generated CLI components looks really strange as we were relying heavily on the leaked styles (e.g. to apply the background color to the page's background). This PR restores the generated component's styles.

### How to verify

- Run the CLI locally. I usually use `docker rm -f metabase-enterprise-embedding && yarn add file:../metabase/resources/embedding-sdk && npx @metabase/embedding-sdk-react start` on an empty Vite project to run.
- The generated components should have a normal style again.

### Demo

Light Theme

![CleanShot 2567-11-08 at 01 08 38@2x](https://github.com/user-attachments/assets/3fb1dc2a-771f-4b9f-85f8-6a3f7d52e78d)

Dark Theme

![CleanShot 2567-11-08 at 01 08 46@2x](https://github.com/user-attachments/assets/3509a511-4768-4789-b737-200ee839ec52)
",heypoom,2024-11-07 18:12:31+00:00,['heypoom'],2024-11-08 14:30:20+00:00,2024-11-08 14:30:16+00:00,https://github.com/metabase/metabase/pull/49723,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK-CLI', 'Onboarding CLI for React SDK')]",[],
2641700551,pull_request,closed,,Single query tool,"common filters, aggregations, breakouts, sorting, row limit",ranquild,2024-11-07 17:26:48+00:00,[],2024-11-07 20:33:29+00:00,2024-11-07 20:33:26+00:00,https://github.com/metabase/metabase/pull/49722,[],[],
2641539254,pull_request,closed,,fix(sdk): Standardize SDK components errors with different ID formats,"Closes https://github.com/metabase/metabase/issues/49581

[Error component design (Figma)](https://www.figma.com/design/W1TfzdrR8ldzp4vdjP1z36/SDK-Embedding%3A-admin-settings-%2B-embed-flow?node-id=11613-23031&t=z4vjXKUradcAyyAp-0)

```[tasklist]
### Todo
- [x] Extract color in the `Code` component that is for displaying errored ID to `colors.module.css`
- [x] Clean up storybook (if we want to keep the ID arguments) or just revert them.
```


### Description

Make all question/dashboard public components loading/error state consistent.

The design is subject to change.

I haven't thought much how to deal with stories, I think each story's control has value. Please let me know if you have any idea how to keep those stories, or maybe we don't need them after the development since we already have Cypress tests for them now. Thought?

### How to verify

Go to each story below and follow the same instructions.
- InteractiveQuestion.stories.tsx
- StaticQuestion.stories.tsx
- InteractiveDashboard.stories.tsx
- StaticDashboard.stories.tsx
- EditableDashboard.stories.tsx

To test each story:
1. Open the storybook's Default story.
2. Change each question/dashboard ID to each option in the addon section
    ![image](https://github.com/user-attachments/assets/5e50153b-99b9-4bba-b5ad-15dbeb2b318b)
3. The result should match the expected behavior table in #49581

### Demo
![image](https://github.com/user-attachments/assets/c1852095-38ff-491c-b816-c416d74e76f9)


### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-07 16:26:49+00:00,['WiNloSt'],2025-01-15 05:41:52+00:00,2025-01-15 02:03:19+00:00,https://github.com/metabase/metabase/pull/49714,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2462681228, 'issue_id': 2641539254, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 7, 16, 28, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563711819, 'issue_id': 2641539254, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40771_tests-3a1b42cd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=FAILURE&runId=d43b6c16-c204-5a46-baf4-465161fa24e4) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 27, 13, 39, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591696287, 'issue_id': 2641539254, 'author': 'WiNloSt', 'body': 'I [discussed this with the team](https://metaboat.slack.com/archives/C063Q3F1HPF/p1736906844739559) and this should be backported.', 'created_at': datetime.datetime(2025, 1, 15, 5, 41, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-07 16:28:27 UTC): <!---conventional commit reminder comment ID-->
@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-12-27 13:39:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40771_tests-3a1b42cd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment&runConclusion=FAILURE&runId=d43b6c16-c204-5a46-baf4-465161fa24e4) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49714?repo=metabase/metabase&commitHash=3a1b42cddc5ea19203fb530db704e222b660d8a6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt (Issue Creator) on (2025-01-15 05:41:50 UTC): I [discussed this with the team](https://metaboat.slack.com/archives/C063Q3F1HPF/p1736906844739559) and this should be backported.

"
2641481577,pull_request,closed,,"redshift defines ""text"" as varchar(255) and we want it to be way longer","Subject says it all. One thing I'm not sure about: this test has different type predefined, but I think it's fine if I change it? It seems like there were no e2e tests checking uploads of `text` type.

Fixes #49147",piranha,2024-11-07 16:03:59+00:00,['piranha'],2024-11-07 20:49:19+00:00,2024-11-07 20:49:18+00:00,https://github.com/metabase/metabase/pull/49710,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2462627983, 'issue_id': 2641481577, 'author': 'crisptrutski', 'body': ""I don't see any harm in repurposing the test"", 'created_at': datetime.datetime(2024, 11, 7, 16, 8, 4, tzinfo=datetime.timezone.utc)}]","crisptrutski on (2024-11-07 16:08:04 UTC): I don't see any harm in repurposing the test

"
2641405504,pull_request,closed,,"ü§ñ backported ""Ensure that correct error messages show up in the Edit user modal""",#48966,github-automation-metabase,2024-11-07 15:36:02+00:00,"['rafpaf', 'github-automation-metabase']",2024-11-08 14:58:12+00:00,2024-11-08 14:58:11+00:00,https://github.com/metabase/metabase/pull/49709,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641404181,pull_request,closed,,"ü§ñ backported ""Remove withFeatures from renderWithProviders""","  #49137
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-07 15:35:45+00:00,"['rafpaf', 'github-automation-metabase']",2024-11-12 14:59:39+00:00,2024-11-12 14:59:35+00:00,https://github.com/metabase/metabase/pull/49708,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641372447,pull_request,closed,,Fix label and link on authentication upsell card,Closes #49534,rafpaf,2024-11-07 15:29:59+00:00,['rafpaf'],2024-11-07 23:18:35+00:00,2024-11-07 23:18:33+00:00,https://github.com/metabase/metabase/pull/49707,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2462532682, 'issue_id': 2641372447, 'author': 'rafpaf', 'body': '* **#49707** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49707?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @rafpaf and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 7, 15, 30, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2463413415, 'issue_id': 2641372447, 'author': 'rafpaf', 'body': '### Merge activity\n\n* **Nov 7, 6:18 PM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49707).\n* **Nov 7, 6:18 PM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49707).', 'created_at': datetime.datetime(2024, 11, 7, 23, 18, 6, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-11-07 15:30:19 UTC): * **#49707** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49707?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @rafpaf and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

rafpaf (Issue Creator) on (2024-11-07 23:18:06 UTC): ### Merge activity

* **Nov 7, 6:18 PM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49707).
* **Nov 7, 6:18 PM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49707).

"
2641370207,pull_request,closed,,"ü§ñ backported ""docs - link fix""",#49700,github-automation-metabase,2024-11-07 15:28:58+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-07 15:30:36+00:00,2024-11-07 15:30:35+00:00,https://github.com/metabase/metabase/pull/49706,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641350447,pull_request,closed,,"ü§ñ backported ""fix(sdk): put a bandage on the flashing error on static question in strict mode""",#49659,github-automation-metabase,2024-11-07 15:20:27+00:00,"['npretto', 'github-automation-metabase']",2024-11-07 16:02:34+00:00,2024-11-07 16:02:33+00:00,https://github.com/metabase/metabase/pull/49704,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641300615,pull_request,closed,,"ü§ñ backported ""Note about apsaradb""",#49675,github-automation-metabase,2024-11-07 15:03:25+00:00,"['paoliniluis', 'github-automation-metabase']",2024-11-07 15:05:30+00:00,2024-11-07 15:05:29+00:00,https://github.com/metabase/metabase/pull/49703,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641293224,pull_request,closed,,"ü§ñ backported ""docs: remove nested queires admin setting""",#49699,github-automation-metabase,2024-11-07 15:00:25+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-07 15:03:10+00:00,2024-11-07 15:03:10+00:00,https://github.com/metabase/metabase/pull/49702,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641292746,pull_request,closed,,"ü§ñ backported ""docs: contact support to change cloud env var""",#49555,github-automation-metabase,2024-11-07 15:00:14+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-07 16:38:35+00:00,2024-11-07 16:38:34+00:00,https://github.com/metabase/metabase/pull/49701,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641285061,pull_request,closed,,docs - link fix,Like it says on the tin.,jeff-bruemmer,2024-11-07 14:57:43+00:00,['jeff-bruemmer'],2024-11-07 15:31:07+00:00,2024-11-07 15:28:10+00:00,https://github.com/metabase/metabase/pull/49700,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2641279940,pull_request,closed,,docs: remove nested queires admin setting,#39071,alexyarosh,2024-11-07 14:55:45+00:00,['alexyarosh'],2024-11-07 15:03:40+00:00,2024-11-07 14:59:31+00:00,https://github.com/metabase/metabase/pull/49699,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2641197972,pull_request,closed,,"ü§ñ backported ""fix(sdk): Fix visualization default size""",#49672,github-automation-metabase,2024-11-07 14:31:39+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-07 15:14:45+00:00,2024-11-07 15:14:44+00:00,https://github.com/metabase/metabase/pull/49680,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2641177734,pull_request,closed,,Preserve locale when in the `as-admin` macro is used,"Motivating issue:

```shell
‚ùØ http get 'http://localhost:3000/api/embed/dashboard/eyJhbGciOiJIUzI1NiJ9.eyJyZXNvdXJjZSI6eyJkYXNoYm9hcmQiOjEyfSwicGFyYW1zIjp7fX0.QZ-tEWpgJeSMUuaPfuH6_VQwM2yXNMcuureWCtHsszU/dashcard/162/card/124' x-metabase-locale:fr -pb | jq '.data|.cols|map(.display_name)'
[
  ""State"",
  ""Count""
]
```

I'm running a query that has aggregated columns and it is returning the untranslated. Note that these are computed and dynamically given a display name.

```clojure
(case tag
  :count     (i18n/tru ""Count"")
  :cum-count (i18n/tru ""Cumulative count""))
```

The problem is that we run embedding things as admin. And that gets the current user, which in embed and public spaces is nil, and so binds a nil to user-locale, which defaults to english when translating.

After:

```
‚ùØ http get 'http://localhost:3000/api/embed/dashboard/eyJhbGciOiJIUzI1NiJ9.eyJyZXNvdXJjZSI6eyJkYXNoYm9hcmQiOjEyfSwicGFyYW1zIjp7fX0.QZ-tEWpgJeSMUuaPfuH6_VQwM2yXNMcuureWCtHsszU/dashcard/162/card/124' x-metabase-locale:fr -pb | jq '.data|.cols|map(.display_name)'
[
  ""State"",
  ""Nombre de lignes""
]

‚ùØ http get 'http://localhost:3000/api/embed/dashboard/eyJhbGciOiJIUzI1NiJ9.eyJyZXNvdXJjZSI6eyJkYXNoYm9hcmQiOjEyfSwicGFyYW1zIjp7fX0.QZ-tEWpgJeSMUuaPfuH6_VQwM2yXNMcuureWCtHsszU/dashcard/162/card/124' x-metabase-locale:zh -pb | jq '.data|.cols|map(.display_name)'
[
  ""State"",
  ""Ë°åÊï∞""
]

‚ùØ http get 'http://localhost:3000/api/embed/dashboard/eyJhbGciOiJIUzI1NiJ9.eyJyZXNvdXJjZSI6eyJkYXNoYm9hcmQiOjEyfSwicGFyYW1zIjp7fX0.QZ-tEWpgJeSMUuaPfuH6_VQwM2yXNMcuureWCtHsszU/dashcard/162/card/124' x-metabase-locale:es -pb | jq '.data|.cols|map(.display_name)'
[
  ""State"",
  ""Contar""
]
```

This is fetching a dashboard's card which is a query of orders grouped by created at month, sum of total.
",dpsutton,2024-11-07 14:24:08+00:00,['dpsutton'],2024-11-08 08:12:26+00:00,2024-11-08 08:10:08+00:00,https://github.com/metabase/metabase/pull/49679,[],"[{'comment_id': 2464039166, 'issue_id': 2641177734, 'author': 'WiNloSt', 'body': ""I cherry-picked a commit from here to https://github.com/metabase/metabase/pull/49441, we this could be closed.\r\n\r\n~I did that so we don't have to 2 backport PRs that could complicate things.~ correction, we will only deploy this to 52, so we don't have to backport the PR anyway."", 'created_at': datetime.datetime(2024, 11, 8, 8, 10, 5, tzinfo=datetime.timezone.utc)}]","WiNloSt on (2024-11-08 08:10:05 UTC): I cherry-picked a commit from here to https://github.com/metabase/metabase/pull/49441, we this could be closed.

~I did that so we don't have to 2 backport PRs that could complicate things.~ correction, we will only deploy this to 52, so we don't have to backport the PR anyway.

"
2641175768,pull_request,closed,,"Make ""Add database"" more prominent","## What does this PR accomplish?

Resolves #49499 (task)
Resolves #49498 (milestone)
Resolves #49088 (epic)

We're making the ""Add database"" button more prominent after we decided to scrap the ""Add data"" sidebar sticky ""footer"". The business logic for this is defined in a product doc linked in #49499, but the tl;dr is:
> [!NOTE]
> 1. Add ""Add database"" link/button to the main sidebar below the browse section (and below the trash icon)
>    - it stays there *only until admin decides to add a first database, after which it disappears
> 2. Add ""Add database"" card to the `/browse/databases` page, which stays there permanently

## Demo
https://github.com/user-attachments/assets/a431bb8b-a658-4f03-a640-cd6b9d7f7596

### Tests
#### Unit
```
add database button
    ‚úì should render for admins if they haven't added a database yet (243 ms)
    ‚úì should not render for admins if they previously added a database (137 ms)
    ‚úì should not render for regular users (131 ms)
```

```
Add database card
    ‚úì should not render for regular users (34 ms)
    ‚úì should render for admins (35 ms)
    ‚úì should render when no databases exist (31 ms)
```

#### E2E
![Screenshot 2024-11-08 at 13 45 31](https://github.com/user-attachments/assets/1c432e40-bf94-4391-92a3-ff64d3a881f4)

",nemanjaglumac,2024-11-07 14:23:17+00:00,['nemanjaglumac'],2024-11-09 12:26:01+00:00,2024-11-09 12:26:00+00:00,https://github.com/metabase/metabase/pull/49678,"[('no-backport', 'Do not backport this PR to any branch'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2465265395, 'issue_id': 2641175768, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 3cf3bd26773e4e65ebbf181487ce5acbc9b1d3e9.\n‚úÖ Preview:\n    https://pr49678.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 8, 16, 51, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 16:51:38 UTC): üëã Deploying a preview environment for commit 3cf3bd26773e4e65ebbf181487ce5acbc9b1d3e9.
‚úÖ Preview:
    https://pr49678.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2641155601,pull_request,closed,,"ü§ñ backported ""feat(sdk): Add chart settings to `InteractiveQuestion`""","  #49167
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-07 14:14:36+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-08 14:18:01+00:00,2024-11-08 14:18:00+00:00,https://github.com/metabase/metabase/pull/49677,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2462359896, 'issue_id': 2641155601, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5a6eefbaea9cd44dadaddbac9e25fa83eca9af21...0428e9989be6ce94f137260077561f707895b4a4.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/index.ts |', 'created_at': datetime.datetime(2024, 11, 7, 14, 20, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-07 14:20:45 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5a6eefbaea9cd44dadaddbac9e25fa83eca9af21...0428e9989be6ce94f137260077561f707895b4a4.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/index.ts |

"
2641129352,pull_request,closed,,add button to send diagnostic data to slack,"Closes https://github.com/metabase/metabase/issues/49542

### Description

Add a button to send diagnostic data to slack. Right now, there‚Äôs an option to download the data as a json when cmd/ctrl + F1 key is pressed. View [this project](https://github.com/orgs/metabase/projects/102/views/1) for more details. This feature is only available on stats.metabase.com or localhost.

In order for the slack integration to work, `MB_SLACK_BOT_TOKEN` needs to be set up.

### How to verify

1. cmd/ctrl + F1
2. ""send to slack"" button appears
3. hit the button and see a report appear in #bug-reports-internal in Slack metabase

### Tests
- bug report channel input appears on Slack integration when MB_BUG_REPORTER_ENABLED is set
- bug report channel input field is not visible when MB_BUG_REPORTER_ENABLED is not set
- ‚Äúsend to slack‚Äù button appears when all of these are true:
    - bug report channel is set in slack settings
    - MB_BUG_REPORTER_ENABLED env variable is set up
- ‚Äúsend to slack‚Äù button does not appear when either one of the conditions is missing
- ‚Äúsend to slack‚Äù button shows loading 
- ‚Äúsend to slack‚Äù button hides loading when action is done
- notification message is shown when sending to slack is successful and unsuccessful
- diagnostic data can be downloaded
- diagnostic data is sent to files channel
- diagnostic data summary with original file attached is sent to bug reports channel",filiphric,2024-11-07 14:04:34+00:00,['filiphric'],2024-11-12 12:53:54+00:00,2024-11-12 10:04:37+00:00,https://github.com/metabase/metabase/pull/49676,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2470457338, 'issue_id': 2641129352, 'author': 'filiphric', 'body': 'I don‚Äôt remember closing this PR what the hell? Could not reopen it so I created a new one here: https://github.com/metabase/metabase/pull/49875', 'created_at': datetime.datetime(2024, 11, 12, 12, 53, 52, tzinfo=datetime.timezone.utc)}]","filiphric (Issue Creator) on (2024-11-12 12:53:52 UTC): I don‚Äôt remember closing this PR what the hell? Could not reopen it so I created a new one here: https://github.com/metabase/metabase/pull/49875

"
2641077843,pull_request,closed,,Note about apsaradb,"Metabase doesn't like ApsaraDB, most probably due to driver things in MariaDB. We should make a note of this",paoliniluis,2024-11-07 13:44:03+00:00,['paoliniluis'],2024-11-07 15:05:55+00:00,2024-11-07 15:02:18+00:00,https://github.com/metabase/metabase/pull/49675,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2641069874,pull_request,closed,,Update SDK version to 1.52.1,Update Readme version references and published npm package version to 1.52.1,github-automation-metabase,2024-11-07 13:40:57+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-26 18:51:47+00:00,2024-11-07 13:45:55+00:00,https://github.com/metabase/metabase/pull/49674,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2462270846, 'issue_id': 2641069874, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 7, 13, 41, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-07 13:41:16 UTC): <!---conventional commit reminder comment ID-->
@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2641049289,pull_request,closed,,Fix flaky alert tests,"Fixes 3 of top 10 flaky tests: https://stats.metabase.com/question/18032

### Description

Example failures:
- https://github.com/metabase/metabase/actions/runs/11705503386/job/32600831777?pr=49583
- https://github.com/metabase/metabase/actions/runs/11722658161/job/32653038907?pr=49665

### How to verify

- `rows based alerts`
    - Stress test: https://github.com/metabase/metabase/actions/runs/11724145111 (50/50 + 50/50)
- `goal based alerts`
    - `should work for timeseries questions with a set goal`
        - Stress test: https://github.com/metabase/metabase/actions/runs/11724257888 (100/100)
    - `should not be possible to create goal based alert for a multi-series question`
        - Stress test: https://github.com/metabase/metabase/actions/runs/11724267141 (100/100)",kamilmielnik,2024-11-07 13:33:14+00:00,['kamilmielnik'],2024-11-11 07:56:50+00:00,2024-11-11 07:10:27+00:00,https://github.com/metabase/metabase/pull/49673,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2640968992,pull_request,closed,,fix(sdk): Fix visualization default size,Fixes the default visualization size using the `FlexibleSize` component. This helps us ensure that the `QuestionVisualization` still has a height when we're using it by itself.,oisincoveney,2024-11-07 13:03:52+00:00,['oisincoveney'],2024-11-07 15:15:10+00:00,2024-11-07 14:30:49+00:00,https://github.com/metabase/metabase/pull/49672,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2640876327,pull_request,closed,,"ü§ñ backported ""Email throttling config""",#49477,github-automation-metabase,2024-11-07 12:25:49+00:00,"['qnkhuat', 'github-automation-metabase']",2024-11-07 13:51:33+00:00,2024-11-07 13:51:32+00:00,https://github.com/metabase/metabase/pull/49669,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2640866966,pull_request,closed,,Drop some attribute columns from the index,"We don't need these here for now, AFAIK",crisptrutski,2024-11-07 12:21:39+00:00,['crisptrutski'],2024-11-12 06:16:08+00:00,2024-11-12 06:15:53+00:00,https://github.com/metabase/metabase/pull/49668,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2469693472, 'issue_id': 2640866966, 'author': 'crisptrutski', 'body': 'This got rolled into other PRs', 'created_at': datetime.datetime(2024, 11, 12, 6, 16, 7, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-12 06:16:07 UTC): This got rolled into other PRs

"
2640840273,pull_request,closed,,Keep search index updated,"Turn on the hooks, with updates behind a feature flag.

Turns out that even registered before-delete has huge performance implications, so all the thinking about cascades might be moot. ",crisptrutski,2024-11-07 12:09:01+00:00,['crisptrutski'],2024-11-26 18:51:29+00:00,2024-11-12 16:38:48+00:00,https://github.com/metabase/metabase/pull/49666,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2464873943, 'issue_id': 2640840273, 'author': 'crisptrutski', 'body': '* **#49666** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49666?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 8, 14, 15, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468031991, 'issue_id': 2640840273, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**101419 tests** were run on `58772df2`. ‚ùå **6 Failed**, ‚ö†Ô∏è **5 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 6 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>incremental-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=67f68251-bba2-53fc-ba41-db742c680b63) |\n| <code>related-update-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=20f40c06-5b5f-5bac-9db8-a7cd6f3b3425) |\n| <code>model-index-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=fad7022a-6ea1-50c1-9e43-43bc3b3532ae) |\n| <code>quick-run-through</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ed426961-6087-5d8e-9fec-8878afd2c77b) |\n| <code>model-index-test-2</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e0624a5c-0288-5ebb-8b50-b2b226b59642) |\n| <code>model-index-test-3</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1edea10a-57ca-5f02-94e0-a5e0f05e5c65) |\n</details>\n<details>\n<summary>‚ö†Ô∏è 5 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>indexed-entity-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a0364522-d1c8-5e4e-90d4-9ae6649fad50) |\n| <code>indexed-entity-perms-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c6f127dc-3114-5683-ba88-ef78da994452) |\n| <code>full-lifecycle-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3893073e-2351-5799-b8cf-3a3d0bab58c9) |\n| <code>create-linked-dashboard-test-single-link</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2a98d25b-7b29-54f4-8749-ad6d804b5c40) |\n| <code>create-linked-dashboard-test-regular-queries</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b8cae9a4-ce77-5722-843d-18b6030d53c6) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 12, 13, 27, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-08 14:15:37 UTC): * **#49666** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49666?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49421** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49421?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 7 other dependent PRs ([#49327](https://github.com/metabase/metabase/pull/49327) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49327?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49422](https://github.com/metabase/metabase/pull/49422) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#49423](https://github.com/metabase/metabase/pull/49423) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49423?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 4 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-11 12:13:27 UTC): <!-- Trunk Test Analytics -->


**101419 tests** were run on `58772df2`. ‚ùå **6 Failed**, ‚ö†Ô∏è **5 Flaked**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment)


<details>
<summary>‚ùå 6 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>incremental-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=67f68251-bba2-53fc-ba41-db742c680b63) |
| <code>related-update-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=20f40c06-5b5f-5bac-9db8-a7cd6f3b3425) |
| <code>model-index-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=fad7022a-6ea1-50c1-9e43-43bc3b3532ae) |
| <code>quick-run-through</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ed426961-6087-5d8e-9fec-8878afd2c77b) |
| <code>model-index-test-2</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e0624a5c-0288-5ebb-8b50-b2b226b59642) |
| <code>model-index-test-3</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=1edea10a-57ca-5f02-94e0-a5e0f05e5c65) |
</details>
<details>
<summary>‚ö†Ô∏è 5 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>indexed-entity-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a0364522-d1c8-5e4e-90d4-9ae6649fad50) |
| <code>indexed-entity-perms-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=c6f127dc-3114-5683-ba88-ef78da994452) |
| <code>full-lifecycle-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=3893073e-2351-5799-b8cf-3a3d0bab58c9) |
| <code>create-linked-dashboard-test-single-link</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=2a98d25b-7b29-54f4-8749-ad6d804b5c40) |
| <code>create-linked-dashboard-test-regular-queries</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49666?repo=metabase/metabase&commitHash=58772df2ddeb322bcdabb3b72845df0e819514c2&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=b8cae9a4-ce77-5722-843d-18b6030d53c6) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2640829028,pull_request,closed,,Fix flaky models metadata test,"### Description

Example failure: https://github.com/metabase/metabase/actions/runs/11719690255

Use ""hide whitespace"" option for review.

### How to verify

It flakes very rarely, so I gave it 200 runs:
Stress test `#1`: https://github.com/metabase/metabase/actions/runs/11722664361
Stress test `#2`: https://github.com/metabase/metabase/actions/runs/11722668409",kamilmielnik,2024-11-07 12:03:35+00:00,['kamilmielnik'],2024-11-13 07:49:20+00:00,2024-11-13 07:06:37+00:00,https://github.com/metabase/metabase/pull/49665,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2640549817,pull_request,closed,,skip connection check when creating/updating channel,"Previously we do call `channel/can-connect?` when creating a channel or updating channel details, this PR removes this check. 

I think we only want this for HTTP channel tho, we should re-visit this when we extend channel to slack and emails

[Thread](https://metaboat.slack.com/archives/C0641E4PB9B/p1730817700724019) for context

Partially resolve [#49533](https://github.com/metabase/metabase/issues/49533)

",qnkhuat,2024-11-07 10:22:24+00:00,['qnkhuat'],2024-11-21 04:26:38+00:00,2024-11-20 16:00:40+00:00,https://github.com/metabase/metabase/pull/49661,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2483009553, 'issue_id': 2640549817, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-ffaf2984-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=ffaf29849fae188a55dc603ca90b3d853350c6bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 18, 13, 12, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483009562, 'issue_id': 2640549817, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/116953_tests-3feae710-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ModelDetailPage structured model actions section redirects to 'Used by' when trying to access actions tab without them enabled</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=a5947dda-674b-502a-92e7-430e5ab1ea75) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\$1text: queue\\$1test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1176656027182])) | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=5bddf328-e237-5c32-8ef1-2d33790255d7) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=9f5b6988-78ad-50a3-a138-8d0111d9f9f8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 18, 13, 12, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2483009564, 'issue_id': 2640549817, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/116953_tests-3feae710-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ModelDetailPage structured model actions section redirects to 'Used by' when trying to access actions tab without them enabled</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=a5947dda-674b-502a-92e7-430e5ab1ea75) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\$1text: queue\\$1test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1176656027182])) | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=5bddf328-e237-5c32-8ef1-2d33790255d7) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=9f5b6988-78ad-50a3-a138-8d0111d9f9f8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 18, 13, 12, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-18 13:12:36 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-ffaf2984-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=ffaf29849fae188a55dc603ca90b3d853350c6bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-18 13:12:36 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/116953_tests-3feae710-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ModelDetailPage structured model actions section redirects to 'Used by' when trying to access actions tab without them enabled</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=a5947dda-674b-502a-92e7-430e5ab1ea75) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\$1text: queue\$1test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1176656027182])) | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=5bddf328-e237-5c32-8ef1-2d33790255d7) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=9f5b6988-78ad-50a3-a138-8d0111d9f9f8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-18 13:12:36 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/116953_tests-3feae710-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ModelDetailPage structured model actions section redirects to 'Used by' when trying to access actions tab without them enabled</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=a5947dda-674b-502a-92e7-430e5ab1ea75) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\$1text: queue\$1test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1176656027182])) | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=5bddf328-e237-5c32-8ef1-2d33790255d7) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment&runConclusion=FAILURE&runId=9f5b6988-78ad-50a3-a138-8d0111d9f9f8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49661?repo=metabase/metabase&commitHash=3feae710c681357dda2457994747c46cf9a9c62b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2640537270,pull_request,closed,,Rank search results in the database,"A big gross, but getting the job done for now.",crisptrutski,2024-11-07 10:17:24+00:00,['crisptrutski'],2024-11-08 14:31:45+00:00,2024-11-08 14:09:23+00:00,https://github.com/metabase/metabase/pull/49660,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2464882244, 'issue_id': 2640537270, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 519fb017c01ae2e4b01e2428aa46ed5959d0d728.\n‚úÖ Preview:\n    https://pr49660.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 8, 14, 19, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 14:19:16 UTC): üëã Deploying a preview environment for commit 519fb017c01ae2e4b01e2428aa46ed5959d0d728.
‚úÖ Preview:
    https://pr49660.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2640477954,pull_request,closed,,fix(sdk): put a bandage on the flashing error on static question in strict mode,"This puts a bandage on  [[SDK] Strict mode causes issues on network calls of static question, causing it to render an error for a brief moment](https://github.com/metabase/metabase/issues/49620): it just hides the error but *doesn't solve the real issue*, so I won't close it.

I Couldn't resist not trying to fix this, as it was extremely annoying a bad first impression to see an error flashing *consistently* on every page load.

# How to reproduce:

- add a console.error on the render of SDKError
- on a vite project with strict mode on, embed a static question
- before this PR: it should render the error for a bit
- with this PR: it should not render/log the from the first step

# Demo
(see the linked issue for a demo of the issue)

https://github.com/user-attachments/assets/9e81b78f-b169-48b9-b38f-573c5dec485e

",npretto,2024-11-07 09:54:03+00:00,['npretto'],2024-11-07 16:02:58+00:00,2024-11-07 15:19:38+00:00,https://github.com/metabase/metabase/pull/49659,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2461789443, 'issue_id': 2640477954, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 7, 9, 54, 25, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-07 09:54:25 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2640349255,pull_request,closed,,Remove sandboxes tests from flaky jail,"### Description

Use ""hide whitespace"" option for review.


### How to verify

- `simple sandboxing should work (metabase#14629)`
    - Stress test: https://github.com/metabase/metabase/actions/runs/11722205274 (100/100)
    - Last time it flaked: May 9, 2024
- `should be able to sandbox using query builder saved questions`
    - Stress test: https://github.com/metabase/metabase/actions/runs/11722198013 (100/100)
    - Last time it flaked: May 9, 2024
- `WORKAROUND version: advanced sandboxing should not ignore data model features like object detail of FK (metabase-enterprise#520)`
    - Stress test: https://github.com/metabase/metabase/actions/runs/11723164294/job/32654242720 (100/100)
    - Last time it flaked: May 9, 2024
    - This test is still in `@quarantine`
",kamilmielnik,2024-11-07 09:06:15+00:00,['kamilmielnik'],2024-11-08 10:28:25+00:00,2024-11-08 09:46:09+00:00,https://github.com/metabase/metabase/pull/49656,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2640326143,pull_request,closed,,"ü§ñ backported ""Fix - Values from the returned rows not present in the visualization are interpolable in the URL but don't have values""",#49530,github-automation-metabase,2024-11-07 08:55:37+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-07 09:37:51+00:00,2024-11-07 09:37:51+00:00,https://github.com/metabase/metabase/pull/49654,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2461665852, 'issue_id': 2640326143, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1d5dd2c324f62321f2f3a292ff669583e7603e2a...348f5f573fb9ceaa8d2395e0d652757863288f24.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts |', 'created_at': datetime.datetime(2024, 11, 7, 8, 57, 5, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-07 08:57:05 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1d5dd2c324f62321f2f3a292ff669583e7603e2a...348f5f573fb9ceaa8d2395e0d652757863288f24.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts |

"
2640254270,pull_request,closed,,Deprecate scores from search API response,"Search currently returns a detailed list of the scores for each item, which is pretty hefty, and the type is also coupled to the current rankers, which will change in future. 

Removing from the type to start to just validate that nothing uses it.

Best to just not model this. Going to see about just removing it from the BE as well, and put in some other way to debug. Worst case an opt-in query parameter.",crisptrutski,2024-11-07 08:29:56+00:00,['crisptrutski'],2024-11-26 18:51:37+00:00,2024-11-09 07:32:02+00:00,https://github.com/metabase/metabase/pull/49653,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2466097211, 'issue_id': 2640254270, 'author': 'crisptrutski', 'body': '### Merge activity\n\n* **Nov 9, 2:31 AM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49653).\n* **Nov 9, 2:32 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49653).', 'created_at': datetime.datetime(2024, 11, 9, 7, 31, 39, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-09 07:31:39 UTC): ### Merge activity

* **Nov 9, 2:31 AM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49653).
* **Nov 9, 2:32 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/49653).

"
2639945987,pull_request,closed,,metabot v3: y axis range tool,"### Description

Adds a tool that configures y-axis range.

### Demo

<video src=""https://github.com/user-attachments/assets/52ced61a-a0be-4894-9607-9410b78611f1"" />
",alxnddr,2024-11-07 05:41:58+00:00,['alxnddr'],2024-11-07 21:59:44+00:00,2024-11-07 21:59:42+00:00,https://github.com/metabase/metabase/pull/49651,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639904005,pull_request,closed,,metabot v3: add change goal line tool,"### Description

Adds a tool to change goal line settings

### Demo

<video src=""https://github.com/user-attachments/assets/e1df048a-1b37-428d-89c5-ccd066b4318e"" />
",alxnddr,2024-11-07 05:19:06+00:00,['alxnddr'],2024-11-07 22:00:04+00:00,2024-11-07 22:00:02+00:00,https://github.com/metabase/metabase/pull/49650,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639888556,pull_request,closed,,metabot v3: stacked setting tool,"### Description

Adds a tool that can change chart stacking setting.

### Demo

<video src=""https://github.com/user-attachments/assets/c98781cf-43c1-43e3-976d-df08e4914fb4"" />

",alxnddr,2024-11-07 05:04:13+00:00,['alxnddr'],2024-11-07 22:00:18+00:00,2024-11-07 22:00:16+00:00,https://github.com/metabase/metabase/pull/49649,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639888016,pull_request,closed,,POC: Live preview in Notebook,"This is a first jab at [Live preview in the notebook editor POC](https://www.notion.so/metabase/Live-preview-in-the-notebook-editor-POC-13669354c901803bac59ed38b71878ac).


https://github.com/user-attachments/assets/ed131dc6-787f-4cf2-92f5-6d82dba7ee74

",romeovs,2024-11-07 05:03:42+00:00,['romeovs'],2024-11-19 22:22:51+00:00,2024-11-19 22:22:50+00:00,https://github.com/metabase/metabase/pull/49648,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2486872969, 'issue_id': 2639888016, 'author': 'romeovs', 'body': 'Closing since we seem to be going in another direction for now.', 'created_at': datetime.datetime(2024, 11, 19, 22, 22, 50, tzinfo=datetime.timezone.utc)}]","romeovs (Issue Creator) on (2024-11-19 22:22:50 UTC): Closing since we seem to be going in another direction for now.

"
2639812270,pull_request,closed,,metabot v3: change column settings tool,"### Description

Adds tools to change column settings.

### Demo

<video src=""https://github.com/user-attachments/assets/7278a46f-24fe-4e8a-84d8-01650013105d"" />
",alxnddr,2024-11-07 04:09:35+00:00,['alxnddr'],2024-11-07 22:00:32+00:00,2024-11-07 22:00:30+00:00,https://github.com/metabase/metabase/pull/49646,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639805935,pull_request,closed,,[Notification] Handlebars üë¥,"Replace mustache with handlebars for notification.
I tried to keep this to a minimum change so it's easy to review.

After this I plan to:
- introduce helpers and rework some of the template, hopefully we can remove all of the ""custom"" context
- Migrate all mustache templates to handlebars, should be easy as there is only one change in syntax for `if`",qnkhuat,2024-11-07 04:02:39+00:00,['qnkhuat'],2024-11-26 18:51:35+00:00,2024-11-11 04:12:08+00:00,https://github.com/metabase/metabase/pull/49645,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2461500656, 'issue_id': 2639805935, 'author': 'qnkhuat', 'body': '@crisptrutski yea, it requires review bc I change custom_migration :D, should have put WIP in the title', 'created_at': datetime.datetime(2024, 11, 7, 7, 25, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2464030334, 'issue_id': 2639805935, 'author': 'qnkhuat', 'body': ""It's ready for review now :D"", 'created_at': datetime.datetime(2024, 11, 8, 8, 8, 26, tzinfo=datetime.timezone.utc)}]","qnkhuat (Issue Creator) on (2024-11-07 07:25:07 UTC): @crisptrutski yea, it requires review bc I change custom_migration :D, should have put WIP in the title

qnkhuat (Issue Creator) on (2024-11-08 08:08:26 UTC): It's ready for review now :D

"
2639802200,pull_request,closed,,metabot v3: change series settings tool,"Sliced out from https://github.com/metabase/metabase/pull/49504

### Description

Adds change series settings tool

### Demo

https://github.com/user-attachments/assets/a1548645-8dda-4740-8a3c-506e6cdd20d7

",alxnddr,2024-11-07 03:59:10+00:00,['alxnddr'],2024-11-07 22:06:22+00:00,2024-11-07 22:06:20+00:00,https://github.com/metabase/metabase/pull/49644,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639639971,pull_request,closed,,metabot v3: change axes names tool,"Sliced out from https://github.com/metabase/metabase/pull/49504

### Description

Adds change axes names tool.

### Demo

<video src=""https://github.com/user-attachments/assets/5df62a41-1a6f-4301-a579-8f0a6385a72b"" />

",alxnddr,2024-11-07 02:01:02+00:00,['alxnddr'],2024-11-07 22:01:57+00:00,2024-11-07 22:01:55+00:00,https://github.com/metabase/metabase/pull/49640,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639611870,pull_request,closed,,metabot v3: provide complete visualization settings to llm,"### Description

Provide complete visualization settings to LLMs. If we pass only `card.visualization_settings` we received from the server it will not include visualization settings that has not been explicitly changed.

For example, if a user did not change x-axis label manually, the settings will not contain `graph.x_axis.title_text` but it is important to provide the inferred by default value to LLM so it knows what are current axes names.
",alxnddr,2024-11-07 01:29:37+00:00,['alxnddr'],2024-11-07 20:41:18+00:00,2024-11-07 20:41:15+00:00,https://github.com/metabase/metabase/pull/49639,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2639367599,pull_request,closed,,"ü§ñ backported ""Filter out Empty Rows from Pivot Exports """,#49512,github-automation-metabase,2024-11-06 22:21:44+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-06 23:04:24+00:00,2024-11-06 23:04:23+00:00,https://github.com/metabase/metabase/pull/49638,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2639359326,pull_request,closed,,Manual backport of #49509 to v50,Manual backport of https://github.com/metabase/metabase/pull/49509,noahmoss,2024-11-06 22:15:16+00:00,['noahmoss'],2024-11-07 15:49:05+00:00,2024-11-07 15:48:37+00:00,https://github.com/metabase/metabase/pull/49637,"[('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2639356396,pull_request,closed,,"ü§ñ backported ""Make sure a new table gets table-level block if any other tables have table-level block""",#49509,github-automation-metabase,2024-11-06 22:13:50+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-11 14:11:37+00:00,2024-11-11 13:46:36+00:00,https://github.com/metabase/metabase/pull/49636,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2468273851, 'issue_id': 2639356396, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**3 tests** were run on `9cfda275`. ‚ùå **3 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 3 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>count-of-grouping-test-2</code> | BigQuery request failed with 503 Service Unavailable error, retrying may solve the problem. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=cecc6d7a-d0b7-5705-b4fe-d18724c29e86) |\n| <code>scenarios > dashboard > temporal unit parameters auto-wiring should not overwrite parameter mappings for a card when doing auto-wiring</code> | Unable to find an accessible element with the role ""button"" and name ""Auto-connect"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=407abe21-c43a-5987-a03b-3304b8eaf66b) |\n| <code>check-can-connect-before-sync-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=31aa5700-ba94-5547-a814-1cf42ca9ebbc) |\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 14, 11, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-11 14:11:35 UTC): <!-- Trunk Test Analytics -->


**3 tests** were run on `9cfda275`. ‚ùå **3 Failed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment)


<details>
<summary>‚ùå 3 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>count-of-grouping-test-2</code> | BigQuery request failed with 503 Service Unavailable error, retrying may solve the problem. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=cecc6d7a-d0b7-5705-b4fe-d18724c29e86) |
| <code>scenarios > dashboard > temporal unit parameters auto-wiring should not overwrite parameter mappings for a card when doing auto-wiring</code> | Unable to find an accessible element with the role ""button"" and name ""Auto-connect"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=407abe21-c43a-5987-a03b-3304b8eaf66b) |
| <code>check-can-connect-before-sync-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49636?repo=metabase/metabase&commitHash=9cfda275e3d3f694f430c7d8418c40764a569f91&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=31aa5700-ba94-5547-a814-1cf42ca9ebbc) |
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2639314561,pull_request,closed,,Add filter tools,,ranquild,2024-11-06 21:48:10+00:00,['ranquild'],2024-11-07 20:26:07+00:00,2024-11-07 20:26:04+00:00,https://github.com/metabase/metabase/pull/49635,"[('.Team/Querying', '')]",[],
2639304224,pull_request,closed,,"ü§ñ backported ""[serdes] meaningful API status codes""",#49610,metabase-bot[bot],2024-11-06 21:41:28+00:00,['piranha'],2024-11-07 10:20:02+00:00,2024-11-07 10:20:01+00:00,https://github.com/metabase/metabase/pull/49634,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2639058642,pull_request,closed,,Add `breakout_query` tool,,ranquild,2024-11-06 19:42:51+00:00,['ranquild'],2024-11-07 16:14:10+00:00,2024-11-07 16:14:07+00:00,https://github.com/metabase/metabase/pull/49631,"[('.Team/Querying', '')]",[],
2638997368,pull_request,closed,,Add `limit_query` tool,Demo https://www.loom.com/share/53370ff65f8d492bb1866501228de67b,ranquild,2024-11-06 19:18:17+00:00,['ranquild'],2024-11-07 16:14:26+00:00,2024-11-07 16:14:24+00:00,https://github.com/metabase/metabase/pull/49629,"[('.Team/Querying', '')]",[],
2638994474,pull_request,closed,,fix dashboard filter required,Audit dashboards had an issue: missing required filters and default values,luizarakaki,2024-11-06 19:16:32+00:00,['luizarakaki'],2024-11-11 20:10:25+00:00,2024-11-11 19:24:34+00:00,https://github.com/metabase/metabase/pull/49627,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2638973509,pull_request,closed,,Fix auto-release artifact name collision,"Changing the auto-release workflow so that the publish and test jobs were called directly by the build job created a name collision on the `metabase-{edition}-uberjar` artifact. 


See errors: [one](https://github.com/metabase/metabase/actions/runs/11675211312/job/32509636197#step:7:19) [two](https://github.com/metabase/metabase/actions/runs/11694910511/job/32569718123#step:7:19)

This changes the pre-release workflow to use a different artifact name, and allows the publish job to overwrite any artifact name collisions


",iethree,2024-11-06 19:03:36+00:00,['iethree'],2024-11-26 18:51:48+00:00,2024-11-06 20:02:35+00:00,https://github.com/metabase/metabase/pull/49626,"[('.Building & Releasing', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2638957651,pull_request,closed,,perf: faster snowflake sync with describe-fields,"Fixes: #49624
",snoe,2024-11-06 18:56:53+00:00,['snoe'],2025-01-17 23:32:44+00:00,2025-01-17 22:45:37+00:00,https://github.com/metabase/metabase/pull/49625,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2474898074, 'issue_id': 2638957651, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/109146_tests-2d08d288-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=dff8f2d8-2304-5d10-a838-3fc87b9e09b8) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=7a090a24-1c83-561f-9ea8-89d45a589885) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=1389bdcf-a3dd-580a-bcb1-82005c5217c0) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=6592912b-bdb6-5e93-801f-0f41e059a501) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=88cffb5a-632e-58fb-a646-9d2fe88b97fc) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 13, 21, 53, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-13 21:53:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/109146_tests-2d08d288-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=dff8f2d8-2304-5d10-a838-3fc87b9e09b8) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=7a090a24-1c83-561f-9ea8-89d45a589885) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=1389bdcf-a3dd-580a-bcb1-82005c5217c0) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=6592912b-bdb6-5e93-801f-0f41e059a501) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE&runId=88cffb5a-632e-58fb-a646-9d2fe88b97fc) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49625?repo=metabase/metabase&commitHash=2d08d2884d3136b16a74921f56b287cb5b59b626&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2638889317,pull_request,closed,,Add `aggregate_query` tool,"Demo https://www.loom.com/share/f556747e1f52451195fd6dbfbddc7ba9

",ranquild,2024-11-06 18:28:14+00:00,['ranquild'],2024-11-07 16:14:40+00:00,2024-11-07 16:14:37+00:00,https://github.com/metabase/metabase/pull/49622,"[('.Team/Querying', '')]",[],
2638740821,pull_request,closed,,Add `sort_query` tool,"How to verify:
- Open a question or a table
- New -> Metabot request -> Sort by {{column name}}

Feels hacky; unclear how this should be actually implemented. For now just want to go with this and make more tools and reconsider the approach later.",ranquild,2024-11-06 17:21:24+00:00,['ranquild'],2024-11-07 16:22:50+00:00,2024-11-07 16:22:42+00:00,https://github.com/metabase/metabase/pull/49619,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]",[],
2638734974,pull_request,closed,,Visualizer ‚Äî Basic cartesian charts support,,kulyk,2024-11-06 17:18:12+00:00,['kulyk'],2024-11-08 16:12:11+00:00,2024-11-08 16:10:48+00:00,https://github.com/metabase/metabase/pull/49618,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2465147229, 'issue_id': 2638734974, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4c4fdc5277d0a4274242d47d7571ee211da31e46...559b82cb9f8cf966f4d17a9e9f26c91ff8cd1afc.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/index.ts |', 'created_at': datetime.datetime(2024, 11, 8, 16, 12, 9, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-08 16:12:09 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4c4fdc5277d0a4274242d47d7571ee211da31e46...559b82cb9f8cf966f4d17a9e9f26c91ff8cd1afc.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/index.ts |

"
2638676405,pull_request,closed,,"ü§ñ backported ""feat(sdk): small usability improvements for embedding cli""",#49591,github-automation-metabase,2024-11-06 16:51:09+00:00,"['heypoom', 'github-automation-metabase']",2024-11-07 10:10:58+00:00,2024-11-07 10:10:57+00:00,https://github.com/metabase/metabase/pull/49617,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638589625,pull_request,closed,,"ü§ñ backported ""[serdes] meaningful API status codes""",#49610,github-automation-metabase,2024-11-06 16:19:46+00:00,"['piranha', 'github-automation-metabase']",2024-11-06 17:29:54+00:00,2024-11-06 17:29:53+00:00,https://github.com/metabase/metabase/pull/49616,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638492545,pull_request,closed,,"ü§ñ backported ""Fix :pivot-measures with column names""",#49575,github-automation-metabase,2024-11-06 15:47:54+00:00,"['ranquild', 'github-automation-metabase']",2024-11-06 16:30:51+00:00,2024-11-06 16:30:50+00:00,https://github.com/metabase/metabase/pull/49614,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638484728,pull_request,closed,,"ü§ñ backported ""Fix flaky #31274 repro""",#49601,github-automation-metabase,2024-11-06 15:45:23+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-06 16:28:35+00:00,2024-11-06 16:28:34+00:00,https://github.com/metabase/metabase/pull/49613,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638446698,pull_request,closed,,"ü§ñ backported ""Fix flaky datamodel test""",#49583,github-automation-metabase,2024-11-06 15:33:24+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-07 09:21:53+00:00,2024-11-07 09:21:51+00:00,https://github.com/metabase/metabase/pull/49612,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638407427,pull_request,closed,,"ü§ñ backported ""Update static embedding iframe resizer""",#49609,github-automation-metabase,2024-11-06 15:20:28+00:00,"['deniskaber', 'github-automation-metabase']",2024-11-06 15:22:03+00:00,2024-11-06 15:22:02+00:00,https://github.com/metabase/metabase/pull/49611,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638382460,pull_request,closed,,[serdes] meaningful API status codes,"previously import would return 200 w/o regard if it was successful or not

fixes #49602
",piranha,2024-11-06 15:12:19+00:00,['piranha'],2024-11-06 21:40:40+00:00,2024-11-06 16:18:55+00:00,https://github.com/metabase/metabase/pull/49610,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2460839196, 'issue_id': 2638382460, 'author': 'piranha', 'body': '@metabase-bot backport release-x.50.x', 'created_at': datetime.datetime(2024, 11, 6, 21, 40, 38, tzinfo=datetime.timezone.utc)}]","piranha (Issue Creator) on (2024-11-06 21:40:38 UTC): @metabase-bot backport release-x.50.x

"
2638357788,pull_request,closed,,Update static embedding iframe resizer,,paoliniluis,2024-11-06 15:04:09+00:00,"['paoliniluis', 'jeff-bruemmer']",2024-11-06 15:22:34+00:00,2024-11-06 15:19:37+00:00,https://github.com/metabase/metabase/pull/49609,"[('Embedding/Public', 'Simple public iframe embeds'), ('Embedding/Interactive', 'Interactive Embedding, previously known as Full app embedding'), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2638341369,pull_request,closed,,Remove @flaky tag from no longer flaking tests,"Closes #44040

### Description

Turns out some tests do not flake anymore, unclear why.
I also used https://stats.metabase.com/model/14828 to see the last time they flaked.

Use ""hide whitespace"" option for review.

### How to verify

- `metrics-collection.cy.spec.js`
    - `should show metrics in collections`
        - Stress test `#1`: https://github.com/metabase/metabase/actions/runs/11705816850 (100/100)
        - Stress test `#2`: https://github.com/metabase/metabase/actions/runs/11719677456 (100/100)
        - Last time it flaked: unknown
- `dashboard-filters-sql-text-category.cy.spec.js`
    - `should work when set through the filter widget`
        - Stress test `#1`: https://github.com/metabase/metabase/actions/runs/11705799155 (85/100 - timed out due to 1h limit)
        - Stress test `#2`: https://github.com/metabase/metabase/actions/runs/11719681840 (82/100 - timed out due to 1h limit)
        - Last time it flaked: August 23, 2024
- `models-metadata.cy.spec.js`
    - `clears custom metadata when a model is turned back into a question`
        - Stress test `#1`: https://github.com/metabase/metabase/actions/runs/11705828362 (100/100)
        - Stress test `#2`: https://github.com/metabase/metabase/actions/runs/11719685827 (100/100)
        - Last time it flaked: July 26, 2024
",kamilmielnik,2024-11-06 14:59:28+00:00,['kamilmielnik'],2024-11-08 11:31:53+00:00,2024-11-08 11:31:49+00:00,https://github.com/metabase/metabase/pull/49608,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]","[{'comment_id': 2460023436, 'issue_id': 2638341369, 'author': 'kamilmielnik', 'body': ""It turns out there are more tests where `@flaky` tag can be removed. I'll update them all in one PR.\r\n\r\nedit: done"", 'created_at': datetime.datetime(2024, 11, 6, 15, 11, 48, tzinfo=datetime.timezone.utc)}]","kamilmielnik (Issue Creator) on (2024-11-06 15:11:48 UTC): It turns out there are more tests where `@flaky` tag can be removed. I'll update them all in one PR.

edit: done

"
2638274817,pull_request,closed,,"ü§ñ backported ""docs - sdk edits""",#49480,github-automation-metabase,2024-11-06 14:36:29+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-06 14:41:03+00:00,2024-11-06 14:41:03+00:00,https://github.com/metabase/metabase/pull/49606,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638263164,pull_request,closed,,Fix flaky SQL filters test,"Fixes #45013

### Description

Example failure: https://github.com/metabase/metabase/actions/runs/11705799155

~Use ""hide whitespace"" option for review.~


### How to verify

Stress test: ",kamilmielnik,2024-11-06 14:34:04+00:00,['kamilmielnik'],2024-11-07 08:35:05+00:00,2024-11-07 08:34:58+00:00,https://github.com/metabase/metabase/pull/49604,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]","[{'comment_id': 2461621459, 'issue_id': 2638263164, 'author': 'kamilmielnik', 'body': 'Closing, this will go in #49608', 'created_at': datetime.datetime(2024, 11, 7, 8, 34, 58, tzinfo=datetime.timezone.utc)}]","kamilmielnik (Issue Creator) on (2024-11-07 08:34:58 UTC): Closing, this will go in #49608

"
2638242380,pull_request,closed,,"ü§ñ backported ""fix type errors that appear on the mantine branch""",#49590,github-automation-metabase,2024-11-06 14:26:09+00:00,"['npretto', 'github-automation-metabase']",2024-11-06 15:09:03+00:00,2024-11-06 15:09:02+00:00,https://github.com/metabase/metabase/pull/49603,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2638198153,pull_request,closed,,Fix flaky #31274 repro,"Fixes #45013

### Description

Example failure: https://github.com/metabase/metabase/actions/runs/11700958212

Use ""hide whitespace"" option for review.


### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11705469379",kamilmielnik,2024-11-06 14:07:25+00:00,['kamilmielnik'],2024-11-06 15:44:36+00:00,2024-11-06 15:44:35+00:00,https://github.com/metabase/metabase/pull/49601,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2638098032,pull_request,closed,,Update SDK version to 1.51.3,Update Readme version references and published npm package version to 1.51.3,github-automation-metabase,2024-11-06 13:27:24+00:00,"['albertoperdomo', 'github-automation-metabase']",2024-11-06 13:32:34+00:00,2024-11-06 13:32:08+00:00,https://github.com/metabase/metabase/pull/49599,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2637998360,pull_request,closed,,Map Oracle DATE to type/DateTime,"Closes https://github.com/metabase/metabase/issues/49440

### Description

This PR changes the mapping of Oracle's `DATE` from `:type/Date` to `:type/DateTime`. Reason is that database's type is semantically closer to the latter. With regards to the issue's description, now, to achieve _quick filter on_ drill, to filter on a specific date, the time part has to be removed manually. Drill, as is, filters on field's datetime value. Further details on why it was decided for this approach can be found in [this slack thread](https://metaboat.slack.com/archives/C0645JP1W81/p1730847052051819).

### How to verify

New tests were added, the existing ones passing.

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",lbrdnk,2024-11-06 12:45:56+00:00,['lbrdnk'],2024-11-11 21:12:04+00:00,2024-11-11 14:11:04+00:00,https://github.com/metabase/metabase/pull/49592,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2469026638, 'issue_id': 2637998360, 'author': 'lbrdnk', 'body': '@metabase-bot backport release-x.50.x', 'created_at': datetime.datetime(2024, 11, 11, 21, 10, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469028048, 'issue_id': 2637998360, 'author': 'github-actions[bot]', 'body': '@lbrdnk something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/11786225806)', 'created_at': datetime.datetime(2024, 11, 11, 21, 12, 3, tzinfo=datetime.timezone.utc)}]","lbrdnk (Issue Creator) on (2024-11-11 21:10:56 UTC): @metabase-bot backport release-x.50.x

github-actions[bot] on (2024-11-11 21:12:03 UTC): @lbrdnk something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/11786225806)

"
2637934965,pull_request,closed,,feat(sdk): small usability improvements for embedding cli,"Closes https://github.com/metabase/metabase/issues/49485, https://github.com/metabase/metabase/issues/49486, https://github.com/metabase/metabase/issues/49431

### Description

This PR makes 4 small usability changes to the SDK:

- Prints out the username and password in the console, so they can reference it without checking out the `METABASE_LOGIN.json` file.
- Checks if they have a database at the very first step, so they know what to expect.
- Instead of aborting when they select ""no"" to the database question, we fallback to the sample database.
- It does not bail out if your tables do not have any multi-tenancy column, and just continues normally without multi-tenancy.

### Demo

![CleanShot 2567-11-06 at 21 31 13@2x](https://github.com/user-attachments/assets/7d30e725-0519-48bb-8e8e-80a5c02e0f68)

![CleanShot 2567-11-06 at 21 35 15@2x](https://github.com/user-attachments/assets/87925bd5-6bf1-4a04-af1d-105bb15709d4)
",heypoom,2024-11-06 12:17:27+00:00,['heypoom'],2024-11-06 16:52:42+00:00,2024-11-06 16:50:20+00:00,https://github.com/metabase/metabase/pull/49591,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2637929217,pull_request,closed,,fix type errors that appear on the mantine branch,"Re-implements https://github.com/metabase/metabase/pull/49352 after [feat(sdk): refactor the auth code to provide better error messages](https://github.com/metabase/metabase/pull/49214) got merged

# How to verify
- CI should be green on this PR
- `tsc` should not error if you rebase the [mantine PR](https://github.com/metabase/metabase/pull/49097) on this PR",npretto,2024-11-06 12:14:36+00:00,['npretto'],2024-11-06 15:09:32+00:00,2024-11-06 14:25:18+00:00,https://github.com/metabase/metabase/pull/49590,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2459594917, 'issue_id': 2637929217, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 6, 12, 15, 5, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-06 12:15:05 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2637844469,pull_request,closed,,"ü§ñ backported ""convert qb actions to ts""",#48611,github-automation-metabase,2024-11-06 11:37:07+00:00,"['uladzimirdev', 'github-automation-metabase']",2024-11-06 12:18:50+00:00,2024-11-06 12:18:49+00:00,https://github.com/metabase/metabase/pull/49589,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2637531398,pull_request,closed,,Fix flaky datamodel test,"Example failure: https://github.com/metabase/metabase/actions/runs/11700914423

### How to verify

Stress test: https://github.com/metabase/metabase/actions/runs/11705512980",kamilmielnik,2024-11-06 09:37:57+00:00,['kamilmielnik'],2024-11-07 09:22:17+00:00,2024-11-06 15:32:35+00:00,https://github.com/metabase/metabase/pull/49583,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/Querying', '')]",[],
2637524540,pull_request,closed,,Update README.md,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",anandkumarrai02,2024-11-06 09:36:05+00:00,[],2025-02-04 19:29:57+00:00,2025-02-04 19:29:57+00:00,https://github.com/metabase/metabase/pull/49582,[],[],
2637372722,pull_request,closed,,"ü§ñ backported ""Convert Embedding icon hook to CSS and use semantic colors""","  #49478
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-06 08:27:11+00:00,"['oisincoveney', 'github-automation-metabase']",2024-11-06 14:40:47+00:00,2024-11-06 14:40:46+00:00,https://github.com/metabase/metabase/pull/49580,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2637353145,pull_request,closed,,"ü§ñ backported ""feat(sdk): refactor the auth code to provide better error messages""",#49214,github-automation-metabase,2024-11-06 08:16:22+00:00,"['npretto', 'github-automation-metabase']",2024-11-06 10:18:21+00:00,2024-11-06 10:18:20+00:00,https://github.com/metabase/metabase/pull/49579,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2637075776,pull_request,closed,,Use ParameterValueWidget for default value picker in native parameter settings,"Closes #44665 


### To verify the changes

1. Start a new native question
2. Type `select {{param}}`
3. In the parameter sidebar choose ""Dropdown list"", then ""Edit""
4. Provide few values for the ""Custom list"" and hit ""Done""
5. Verify that dropdown component is used for both parameter value input (above query editor) and ""Default filter widget value"" (in the parameter sidebar)
6. Change ""Dropdown list"" to ""Search box""

The same component should be used for the actual parameter and the default picker.

Note the the pickers for the search box and dropdown list currently look very similar. That is being fixed in: https://github.com/metabase/metabase/pull/49577

https://github.com/user-attachments/assets/922e1823-43fd-40d8-bc0e-22e82d67805e


",romeovs,2024-11-06 05:27:49+00:00,['romeovs'],2024-11-12 11:39:00+00:00,2024-11-12 11:37:33+00:00,https://github.com/metabase/metabase/pull/49578,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2470115072, 'issue_id': 2637075776, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**13301 tests** were run on `50aef387`. ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49578?repo=metabase/metabase&commitHash=50aef387274030d1d8cab679f8c07c77fdac13f5&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ö†Ô∏è 1 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 21452 should not fire POST request after every character during display name change (metabase\\$121452)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49578?repo=metabase/metabase&commitHash=50aef387274030d1d8cab679f8c07c77fdac13f5&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e32bf55c-9936-58f3-a856-39fb33e1e6f1) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49578?repo=metabase/metabase&commitHash=50aef387274030d1d8cab679f8c07c77fdac13f5&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 12, 10, 9, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-12 10:09:11 UTC): <!-- Trunk Test Analytics -->


**13301 tests** were run on `50aef387`. ‚ö†Ô∏è **1 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49578?repo=metabase/metabase&commitHash=50aef387274030d1d8cab679f8c07c77fdac13f5&utm_source=gh-comment)


<details>
<summary>‚ö†Ô∏è 1 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 21452 should not fire POST request after every character during display name change (metabase\$121452)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49578?repo=metabase/metabase&commitHash=50aef387274030d1d8cab679f8c07c77fdac13f5&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=e32bf55c-9936-58f3-a856-39fb33e1e6f1) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49578?repo=metabase/metabase&commitHash=50aef387274030d1d8cab679f8c07c77fdac13f5&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2637007860,pull_request,closed,,Do not show values initially when single select search does not have a filter value,"In https://github.com/metabase/metabase/pull/49323 we fixed an issue where the search filter was used in places where a simple dropdown picker would've worked.

But with that we also introduced a small UI inconsistency: when selecting `Search box` now, we always see the full list of values, even when no search terms have been entered.

This PR attempts to fix that by only showing the results when a search value has been entered, but otherwise maintaining the ""single value picker"" UX.

#### 50 (how things used to work)
https://github.com/user-attachments/assets/dc3d1d82-399a-4805-b1ca-952b899d1413

#### 51 before this PR

https://github.com/user-attachments/assets/213c5400-83e4-4206-996a-420210391757

#### 51 after this PR

https://github.com/user-attachments/assets/1bd6459c-8750-4d9d-9119-227cfa3f9280


",romeovs,2024-11-06 04:32:35+00:00,['romeovs'],2024-11-28 22:06:03+00:00,2024-11-19 22:22:00+00:00,https://github.com/metabase/metabase/pull/49577,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2465601537, 'issue_id': 2637007860, 'author': 'mazameli', 'body': 'I think this generally makes sense. (Outside the scope of this PR, it makes me wish the search box had type ahead or something: depending on the case, it can be a bit daunting to just have this empty box that says ""search"" and not really know what values are available.)', 'created_at': datetime.datetime(2024, 11, 8, 19, 31, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2477845069, 'issue_id': 2637007860, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/449_tests-eb78dc47-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49577?repo=metabase/metabase&commitHash=eb78dc471d868fd68eae6ec77227ef40d1a0ebf6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 15, 2, 46, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2484420203, 'issue_id': 2637007860, 'author': 'romeovs', 'body': ""@uladzimirdev That's what the dropdown does! IIUC the searchbox is there as an option when users don't want to show any values initially. This is how it used to work with the multi autocomplete input before https://github.com/metabase/metabase/pull/49323 was merged.\r\n\r\n@mngr seems to be [on board with these changes](https://metaboat.slack.com/archives/C0645JP1W81/p1731935064069169?thread_ts=1731886412.234039&cid=C0645JP1W81)."", 'created_at': datetime.datetime(2024, 11, 19, 0, 0, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506801864, 'issue_id': 2637007860, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 28, 22, 6, 2, tzinfo=datetime.timezone.utc)}]","mazameli on (2024-11-08 19:31:03 UTC): I think this generally makes sense. (Outside the scope of this PR, it makes me wish the search box had type ahead or something: depending on the case, it can be a bit daunting to just have this empty box that says ""search"" and not really know what values are available.)

trunk-io[bot] on (2024-11-15 02:46:08 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/449_tests-eb78dc47-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49577?repo=metabase/metabase&commitHash=eb78dc471d868fd68eae6ec77227ef40d1a0ebf6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

romeovs (Issue Creator) on (2024-11-19 00:00:37 UTC): @uladzimirdev That's what the dropdown does! IIUC the searchbox is there as an option when users don't want to show any values initially. This is how it used to work with the multi autocomplete input before https://github.com/metabase/metabase/pull/49323 was merged.

@mngr seems to be [on board with these changes](https://metaboat.slack.com/archives/C0645JP1W81/p1731935064069169?thread_ts=1731886412.234039&cid=C0645JP1W81).

github-actions[bot] on (2024-11-28 22:06:02 UTC): üöÄ This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2636963035,pull_request,closed,,[Notification] Send notification options,"I'm not fully sure about this, but I like the fact that I can do this in the REPL

```
(notification/send-notification! ... {:notification/sync? true})
```",qnkhuat,2024-11-06 03:47:23+00:00,['qnkhuat'],2024-11-26 18:51:45+00:00,2024-11-08 02:31:44+00:00,https://github.com/metabase/metabase/pull/49576,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]",[],
2636884284,pull_request,closed,,Fix :pivot-measures with column names,"Follow up for https://github.com/metabase/metabase/pull/49414
The PR was merged at the same time as https://github.com/metabase/metabase/pull/49367. New column-name based settings do not take `:pivot-measures` into account. This PR fixes the issue and adjusts the tests to use column names.",ranquild,2024-11-06 02:35:25+00:00,['ranquild'],2024-11-06 16:31:20+00:00,2024-11-06 15:46:59+00:00,https://github.com/metabase/metabase/pull/49575,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]",[],
2636826660,pull_request,closed,,"ü§ñ backported ""Add v0.50.32 to the list of releases""",#49568,github-automation-metabase,2024-11-06 01:33:12+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-06 01:34:50+00:00,2024-11-06 01:34:49+00:00,https://github.com/metabase/metabase/pull/49574,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2636555834,pull_request,closed,,"ü§ñ backported ""docs - prettier formatting""","  #49551
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-05 21:57:26+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-06 15:07:37+00:00,2024-11-06 15:07:35+00:00,https://github.com/metabase/metabase/pull/49571,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2636549660,pull_request,closed,,onboarding checklist copy,Updates to onboarding copy.,jeff-bruemmer,2024-11-05 21:53:38+00:00,['jeff-bruemmer'],2024-11-26 18:51:05+00:00,2024-11-19 19:11:22+00:00,https://github.com/metabase/metabase/pull/49570,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2477474790, 'issue_id': 2636549660, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13417_tests-5e32b6a0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\$137726)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49570?repo=metabase/metabase&commitHash=5e32b6a00110c24c4a74bb4571699a1ce223b89d&utm_source=gh-comment&runConclusion=FAILURE&runId=9b0d9441-3242-5eee-a511-802256b557b7) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/49570?repo=metabase/metabase&commitHash=5e32b6a00110c24c4a74bb4571699a1ce223b89d&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49570?repo=metabase/metabase&commitHash=5e32b6a00110c24c4a74bb4571699a1ce223b89d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 14, 21, 48, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-14 21:48:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13417_tests-5e32b6a0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\$137726)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49570?repo=metabase/metabase&commitHash=5e32b6a00110c24c4a74bb4571699a1ce223b89d&utm_source=gh-comment&runConclusion=FAILURE&runId=9b0d9441-3242-5eee-a511-802256b557b7) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/49570?repo=metabase/metabase&commitHash=5e32b6a00110c24c4a74bb4571699a1ce223b89d&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49570?repo=metabase/metabase&commitHash=5e32b6a00110c24c4a74bb4571699a1ce223b89d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2636471077,pull_request,closed,,Add v0.50.32 to the list of releases,Like it says on the tin üòÅ,github-automation-metabase,2024-11-05 21:05:29+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-06 01:35:18+00:00,2024-11-06 01:32:19+00:00,https://github.com/metabase/metabase/pull/49568,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2636377604,pull_request,closed,,[testing] Add appending stages to the query generators,"Add appending stages to the query generators.

This also cleans up the testing to check everything more carefully,
and to expect the right things across multiple stages.

(This is a bit tricky since the order-bys get removed when the stage
gets aggregated, because the columns they were using are now gone.)

### How to verify

- Try it from the REPL.
- Lots of single-stage queries, but some multi-stage ones now.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-05 20:15:39+00:00,['bshepherdson'],2024-11-26 18:51:34+00:00,2024-11-11 15:08:50+00:00,https://github.com/metabase/metabase/pull/49567,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2458072297, 'issue_id': 2636377604, 'author': 'bshepherdson', 'body': '* **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 5, 20, 15, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2468407292, 'issue_id': 2636377604, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**107906 tests** were run on `41df2c63`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49567?repo=metabase/metabase&commitHash=41df2c63635a2b9e28c1375038bc749d116e9686&utm_source=gh-comment)\n\n\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49567?repo=metabase/metabase&commitHash=41df2c63635a2b9e28c1375038bc749d116e9686&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 15, 11, 46, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-05 20:15:46 UTC): * **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-11 15:11:46 UTC): <!-- Trunk Test Analytics -->


**107906 tests** were run on `41df2c63`. ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49567?repo=metabase/metabase&commitHash=41df2c63635a2b9e28c1375038bc749d116e9686&utm_source=gh-comment)


<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49567?repo=metabase/metabase&commitHash=41df2c63635a2b9e28c1375038bc749d116e9686&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2636377521,pull_request,closed,,[testing] Add explicit joins to the query generators,"### Description

Add explicit joins to the query generators.

I had to add `only-safe-columns` to filter out columns with known issues
in current pMBQL. In particular, implicitly joining on a column which
appears twice (eg. because of a double- or self-join) is ambiguous with
classic `:field` refs, and will cause errors.

There's a `:dynamic` var to re-enable all the columns for tests that are
only exercising new `:column` refs.

### How to verify

- Generate queries at the REPL - they contain joins!
- Also joined fields get used for expressions, filters, order-by, etc.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-05 20:15:36+00:00,['bshepherdson'],2024-11-26 18:51:38+00:00,2024-11-08 20:49:41+00:00,https://github.com/metabase/metabase/pull/49566,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2458072295, 'issue_id': 2636377521, 'author': 'bshepherdson', 'body': '* **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 5, 20, 15, 46, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-05 20:15:46 UTC): * **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

"
2636377434,pull_request,closed,,[testing] Add order-by to the generative testing for queries,"### Description

Add `:order-by` to the query generators.

This introduces a reusable `weighted-choice` function and a ""weight""
system for the various steps. `:order-by` should be more rare than
filters, etc., `:limit` and `:append-stage` should be more rare still.


### How to verify

- Generate queries at the REPL; they contain `:order-by` clauses now.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-05 20:15:33+00:00,['bshepherdson'],2024-11-26 18:51:39+00:00,2024-11-08 18:05:06+00:00,https://github.com/metabase/metabase/pull/49565,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2458072274, 'issue_id': 2636377434, 'author': 'bshepherdson', 'body': '* **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 5, 20, 15, 45, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-05 20:15:45 UTC): * **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

"
2636377340,pull_request,closed,,[testing] Add a few basic expressions to the generators,"### Description

Adds basic expressions to the query generators.

There's a lot more to do to robustly generate realistic expressions! But
this is enough to make expressions exist on queries, which then get
consumed as inputs to filters etc.


### How to verify

- Generate queries from the REPL and observe they not contain expressions.
- In fact, there are filters, aggregations, etc. based on expressions.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2024-11-05 20:15:29+00:00,['bshepherdson'],2024-11-26 18:51:40+00:00,2024-11-08 16:35:33+00:00,https://github.com/metabase/metabase/pull/49564,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2458072252, 'issue_id': 2636377340, 'author': 'bshepherdson', 'body': '* **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 5, 20, 15, 45, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-05 20:15:45 UTC): * **#49567** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49567?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49566** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49566?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49565** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49565?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49564** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49564?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#49448** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49448?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

"
2636363220,pull_request,closed,,"ü§ñ backported ""Use column names instead of field refs for pivot viz settings""",#49414,github-automation-metabase,2024-11-05 20:06:32+00:00,"['ranquild', 'github-automation-metabase']",2024-11-05 22:29:20+00:00,2024-11-05 22:29:20+00:00,https://github.com/metabase/metabase/pull/49563,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2458059601, 'issue_id': 2636363220, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2d150bf98fcb3c158b824e314ea1dc3279775982...879720d238c99dbb7a0ab2c4f469ee0b24a7867a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/ChartSettingsListColumns.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/ChartSettingsListColumns.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/index.ts<br>frontend/src/metabase/visualizations/lib/settings/typed-utils.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/pivot-table-test-mocks.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/stories-data.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/types.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.unit.spec.ts |', 'created_at': datetime.datetime(2024, 11, 5, 20, 8, 4, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-05 20:08:04 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2d150bf98fcb3c158b824e314ea1dc3279775982...879720d238c99dbb7a0ab2c4f469ee0b24a7867a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/ChartSettingsListColumns.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/ChartSettingsListColumns.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/index.ts<br>frontend/src/metabase/visualizations/lib/settings/typed-utils.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/pivot-table-test-mocks.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/stories-data.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/types.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.unit.spec.ts |

"
2636250849,pull_request,closed,,"ü§ñ backported ""Check only :stages of the result of metric resolution in the QP""",#49506,github-automation-metabase,2024-11-05 19:07:07+00:00,"['metamben', 'github-automation-metabase']",2024-11-05 19:50:31+00:00,2024-11-05 19:50:30+00:00,https://github.com/metabase/metabase/pull/49561,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2636211100,pull_request,closed,,Keep Pivoted Option works in Subscriptions,"Fixes: #49525

Even though the user could toggle 'Keep data pivoted` in the Sharing Sidebar UI, the setting was not being propagated to the backend, so attachments would not be pivoted.
",adam-james-v,2024-11-05 18:45:05+00:00,['adam-james-v'],2024-11-08 21:06:24+00:00,2024-11-08 21:06:24+00:00,https://github.com/metabase/metabase/pull/49559,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]",[],
2636189567,pull_request,open,,Fix typing for VisualizationSettingDefinitions & Widget,"This will help me with figuring out the best way to split widgets for the SDK and figure out the best ways to pick out components for individual components for SDK chart settings.

I think it'll also be really helpful in just keeping a relatively good grip on typing within the codebase. Let me know what you think",oisincoveney,2024-11-05 18:36:18+00:00,['oisincoveney'],2024-12-10 15:24:21+00:00,,https://github.com/metabase/metabase/pull/49558,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2457902291, 'issue_id': 2636189567, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ccd6b59b347b267620e8606d4cfe2d16c4b0d8ed...feb355f7de41b614589de7f8c46978921ca09029.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/types.ts<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetList.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingMaxCategories.tsx<br>frontend/src/metabase/visualizations/lib/settings/graph.ts<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/shared/settings/pie.ts<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/AreaChart/AreaChart.tsx<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.tsx<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/ComboChart/ComboChart.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/ScatterPlot/ScatterPlot.tsx<br>frontend/src/metabase/visualizations/visualizations/WaterfallChart/WaterfallChart.tsx |', 'created_at': datetime.datetime(2024, 11, 5, 18, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467830424, 'issue_id': 2636189567, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51091_tests-feb355f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\#14648)</code> | [object Object] | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=FAILURE&runId=195b0264-79c0-5a7d-851c-16e8271fa256) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 10, 38, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467830429, 'issue_id': 2636189567, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**20 tests** were run on `80ca639e`. ‚ùå **1 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\$129786)</code> | The \\$1cy.click()\\$1 command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=85770ed8-ab01-51c0-9362-d8d1ddd7b0ca) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 10, 38, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2467830444, 'issue_id': 2636189567, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n**20 tests** were run on `80ca639e`. ‚ùå **1 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\$129786)</code> | The \\$1cy.click()\\$1 command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=85770ed8-ab01-51c0-9362-d8d1ddd7b0ca) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 11, 10, 38, 57, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-05 18:37:45 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ccd6b59b347b267620e8606d4cfe2d16c4b0d8ed...feb355f7de41b614589de7f8c46978921ca09029.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/types.ts<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetList.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingMaxCategories.tsx<br>frontend/src/metabase/visualizations/lib/settings/graph.ts<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/shared/settings/pie.ts<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/AreaChart/AreaChart.tsx<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.tsx<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/ComboChart/ComboChart.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/ScatterPlot/ScatterPlot.tsx<br>frontend/src/metabase/visualizations/visualizations/WaterfallChart/WaterfallChart.tsx |

trunk-io[bot] on (2024-11-11 10:38:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51091_tests-feb355f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\#14648)</code> | [object Object] | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment&runConclusion=FAILURE&runId=195b0264-79c0-5a7d-851c-16e8271fa256) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=feb355f7de41b614589de7f8c46978921ca09029&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-11 10:38:57 UTC): <!-- Trunk Test Analytics -->


**20 tests** were run on `80ca639e`. ‚ùå **1 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\$129786)</code> | The \$1cy.click()\$1 command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=85770ed8-ab01-51c0-9362-d8d1ddd7b0ca) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 10:38:57 UTC): <!-- Trunk Test Analytics -->


**20 tests** were run on `80ca639e`. ‚ùå **1 Failed**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\$129786)</code> | The \$1cy.click()\$1 command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=85770ed8-ab01-51c0-9362-d8d1ddd7b0ca) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49558?repo=metabase/metabase&commitHash=80ca639e5279b417fcb808736dd4487c0a87c19c&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2636149150,pull_request,closed,,docs: contact support to change cloud env var,,alexyarosh,2024-11-05 18:10:44+00:00,['alexyarosh'],2024-11-07 16:39:01+00:00,2024-11-07 14:59:19+00:00,https://github.com/metabase/metabase/pull/49555,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2636124774,pull_request,closed,,Push metabot to stats,"- on any push to the `metabot-v3-second-try` branch, build a new uberjar, containerize it and push to `metabase-enterprise-head:metabot`.
",iethree,2024-11-05 17:57:11+00:00,['iethree'],2024-11-26 18:51:48+00:00,2024-11-06 18:33:13+00:00,https://github.com/metabase/metabase/pull/49554,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2636106014,pull_request,closed,,Typing for Visualization Settings,So we can improve typing for `Widget`,oisincoveney,2024-11-05 17:47:48+00:00,['oisincoveney'],2024-11-06 11:21:42+00:00,2024-11-06 11:21:42+00:00,https://github.com/metabase/metabase/pull/49552,"[('.Team/Embedding', '')]",[],
2636060712,pull_request,closed,,docs - prettier formatting,"- Adds generated docs to `.prettierignore` file.
- Applies prettier to rest of docs.",jeff-bruemmer,2024-11-05 17:27:47+00:00,['jeff-bruemmer'],2024-11-06 15:08:06+00:00,2024-11-05 21:56:31+00:00,https://github.com/metabase/metabase/pull/49551,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2635953083,pull_request,closed,,"ü§ñ backported ""[streaming-response] Use HttpEndpoint.isOpen() instead of reading a byte from TCP socket""",#49460,metabase-bot[bot],2024-11-05 16:39:55+00:00,['piranha'],2024-11-05 17:32:04+00:00,2024-11-05 17:32:03+00:00,https://github.com/metabase/metabase/pull/49549,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2635944662,pull_request,closed,,Use parameter default value when doing otherwise would crash the card,Fixes https://github.com/metabase/metabase/issues/40038,ranquild,2024-11-05 16:35:45+00:00,['ranquild'],2025-02-04 14:52:09+00:00,2024-11-05 19:56:04+00:00,https://github.com/metabase/metabase/pull/49548,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2458039907, 'issue_id': 2635944662, 'author': 'ranquild', 'body': 'I think it should be done on the BE instead', 'created_at': datetime.datetime(2024, 11, 5, 19, 56, 12, tzinfo=datetime.timezone.utc)}]","ranquild (Issue Creator) on (2024-11-05 19:56:12 UTC): I think it should be done on the BE instead

"
2635926505,pull_request,closed,,"ü§ñ backported ""perf: Implement faster sync methods for mysql""",#49011,github-automation-metabase,2024-11-05 16:26:53+00:00,"['snoe', 'github-automation-metabase']",2024-11-05 18:01:24+00:00,2024-11-05 18:01:24+00:00,https://github.com/metabase/metabase/pull/49547,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2635911562,pull_request,closed,,"ü§ñ backported ""Correct Azure SAML""",#49349,github-automation-metabase,2024-11-05 16:19:52+00:00,"['paoliniluis', 'github-automation-metabase']",2024-11-05 16:21:26+00:00,2024-11-05 16:21:25+00:00,https://github.com/metabase/metabase/pull/49546,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2635904419,pull_request,closed,,"Re-introduce ""Upload CSV"" button for instances with DWH attached","### What does this PR accomplish?
- Resolves #49500
- Removes the ""Onboarding add data section"", i.e. the code added in:
    - #48335
    - #48325

### Summary of the changes
The product decided to show the ""Upload CSV"" button in the main sidebar only on instances with the DWH attached to make this action more prominent. Other instances will have different options, but that's out of scope of this PR and will be implemented by @metabase/core-frontend-admin-webapp .

> [!IMPORTANT]
> Instances with DWH (1) already have uploads enabled by default and (2) it is not possible to either (2a) turn off uploads, nor (2b) delete the DWH.

### Demo
https://www.loom.com/share/8b60b9ee3068493c84df0f9fc5adfd70?sid=6a83ad8a-fcd3-46b2-afd7-436664086119

## Out of scope
Dealing with the ability to ""Add database"". That's going to be a subject of #49499.
",nemanjaglumac,2024-11-05 16:17:06+00:00,['nemanjaglumac'],2024-11-07 14:50:23+00:00,2024-11-07 14:50:20+00:00,https://github.com/metabase/metabase/pull/49545,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2461726658, 'issue_id': 2635904419, 'author': 'nemanjaglumac', 'body': '> out of scope for this PR, I assume, but would it be hard to make this button be a file drop zone? I found myself wanting to drop a CSV file onto it.\r\n\r\nNice suggestion for a product/design team.\r\n\r\n@rafpaf \r\nOne general comment about all your suggestions in this PR - all this code already exists and was originally added by the webapp team for the upload CSV functionality. The goal was not to refactor anything, but rather to help new cloud users get up and running with their own data.\r\n\r\nThere is a certain duplication re: the upload handlers and I hope that will be addressed once the admin/webapp team starts implementing the upload button in a ""New"" menu.\r\n\r\nI\'ve provided some examples inline.', 'created_at': datetime.datetime(2024, 11, 7, 9, 26, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2461791435, 'issue_id': 2635904419, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit af5407359c55c9b3ace6e51468633da92813a700.\n‚úÖ Preview:\n    https://pr49545.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 7, 9, 55, 21, tzinfo=datetime.timezone.utc)}]","nemanjaglumac (Issue Creator) on (2024-11-07 09:26:18 UTC): Nice suggestion for a product/design team.

@rafpaf 
One general comment about all your suggestions in this PR - all this code already exists and was originally added by the webapp team for the upload CSV functionality. The goal was not to refactor anything, but rather to help new cloud users get up and running with their own data.

There is a certain duplication re: the upload handlers and I hope that will be addressed once the admin/webapp team starts implementing the upload button in a ""New"" menu.

I've provided some examples inline.

github-actions[bot] on (2024-11-07 09:55:21 UTC): üëã Deploying a preview environment for commit af5407359c55c9b3ace6e51468633da92813a700.
‚úÖ Preview:
    https://pr49545.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2635734342,pull_request,open,,[WIP] New Semantic Color Scheme,"closes ENG-8882

WIP branch to see what new color mappings look like.

TODO:
- [ ] need to make metabase/lib/colors/palette.ts use css vars
- [ ] update js color functions to use color-mix;
- [ ] don't totally break whitelabeling üôÉ ",iethree,2024-11-05 15:10:05+00:00,['iethree'],2025-01-13 14:57:05+00:00,,https://github.com/metabase/metabase/pull/49539,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2521787179, 'issue_id': 2635734342, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/47710_tests-93f07c01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scales should not interpolate colors when specified</code> | The expected color value ""hsla(255, 0%, 100%,1)"" did not match the received value ""HSLA(255, 0%, 100%,1)"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=5c05072b-b49a-5923-9e64-408521d54152) |\n| <code>ColorSettings should update chart colors</code> | Unable to find an element with the display value: hsla(204, 66%, 8%, 0.62). | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=4e79f8e3-cfb5-5e5d-8182-1292c1648ac8) |\n| <code>ColorSettings should update brand colors</code> | Found multiple elements with the placeholder text ""hsla(89, 48%, 40%, 1)"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=dc95b017-b1cd-5689-abb8-0b7c2304ffa8) |\n| <code>ColorSettings should generate chart colors</code> | The expected color accents did not match the received ones in the last call of a function. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=5de33e93-be8e-5d90-9ac0-d5951fc74a5c) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 6, 0, 10, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-06 00:10:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/47710_tests-93f07c01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scales should not interpolate colors when specified</code> | The expected color value ""hsla(255, 0%, 100%,1)"" did not match the received value ""HSLA(255, 0%, 100%,1)"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=5c05072b-b49a-5923-9e64-408521d54152) |
| <code>ColorSettings should update chart colors</code> | Unable to find an element with the display value: hsla(204, 66%, 8%, 0.62). | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=4e79f8e3-cfb5-5e5d-8182-1292c1648ac8) |
| <code>ColorSettings should update brand colors</code> | Found multiple elements with the placeholder text ""hsla(89, 48%, 40%, 1)"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=dc95b017-b1cd-5689-abb8-0b7c2304ffa8) |
| <code>ColorSettings should generate chart colors</code> | The expected color accents did not match the received ones in the last call of a function. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE&runId=5de33e93-be8e-5d90-9ac0-d5951fc74a5c) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49539?repo=metabase/metabase&commitHash=93f07c011612f9ee25291a738307254107739eed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2635527349,pull_request,closed,,"ü§ñ backported ""Add base color palette""","  #49356

‚úÖ  conflict resolved",github-automation-metabase,2024-11-05 13:51:13+00:00,"['iethree', 'github-automation-metabase']",2024-11-12 14:48:47+00:00,2024-11-12 14:48:45+00:00,https://github.com/metabase/metabase/pull/49536,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2469253605, 'issue_id': 2635527349, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 42d76377166cfbd63cc0a53b2271cd61dd968925...9aef862690e9662ef47ef2b1c500582a5bc1216c.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/utils/colors.ts |', 'created_at': datetime.datetime(2024, 11, 11, 23, 2, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469292856, 'issue_id': 2635527349, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**38092 tests** were run on `9aef8626`. ‚ùå **1 Failed**, ‚ö†Ô∏è **6 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment)\n\n\n<details>\n<summary>‚ùå 1 Failed</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > premium > content verification token expired or removed ""before each"" hook for ""should not treat the question as verified anymore""</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d2569829-f6e7-5517-86f4-7b74e46059af) |\n</details>\n<details>\n<summary>‚ö†Ô∏è 6 Flakes</summary>\n\n| Test Name | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > license and billing store info should render an error if something fails when fetching billing info</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=16679c2e-400b-517f-b231-33d1de005fa9) |\n| <code>scenarios > admin > license and billing store info should show the user store info for an self-hosted instance managed by the store</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bfde18e3-d4fe-54d6-b763-92ae0eb750a5) |\n| <code>Cloud settings section should prompt us to migrate to cloud if we are not hosted</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ee45864d-2e02-5c84-910b-0944ae704ee4) |\n| <code>scenarios > dashboard > dashboard cards > click behavior static embedding should navigate to public link URL (metabase\\$138640)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a5d80706-c367-53db-b506-c829a33a140b) |\n| <code>scenarios > admin > permissions > downgrade ee to oss should allow users to edit permissions after downgrading EE to OSS</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=47122ee3-858f-5d94-958e-217e9a9c28b4) |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f9ff4939-1b14-518a-b4cb-f39770b832a2) |\n</details>\n<details>\n<summary>‚è≠Ô∏è 19 Skipped</summary>\n\n- <code>ThemeProvider applies the metabase theme overrides</code>\n- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to \'none\'</code>\n- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=SKIPPED)\n</details>\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 23, 39, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2469292857, 'issue_id': 2635527349, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n**14399 tests** were run on `8bc683d6`. ‚úÖ **14399 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=8bc683d664267cf839422550cfe9ad210b0500ae&utm_source=gh-comment)\n\n\n<sub>\n\n[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 11, 23, 39, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-11 23:02:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 42d76377166cfbd63cc0a53b2271cd61dd968925...9aef862690e9662ef47ef2b1c500582a5bc1216c.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/utils/colors.ts |

trunk-io[bot] on (2024-11-11 23:39:12 UTC): <!-- Trunk Test Analytics -->


**38092 tests** were run on `9aef8626`. ‚ùå **1 Failed**, ‚ö†Ô∏è **6 Flaked**, ‚è≠Ô∏è **19 Skipped**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment)


<details>
<summary>‚ùå 1 Failed</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > premium > content verification token expired or removed ""before each"" hook for ""should not treat the question as verified anymore""</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=NOT_FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=d2569829-f6e7-5517-86f4-7b74e46059af) |
</details>
<details>
<summary>‚ö†Ô∏è 6 Flakes</summary>

| Test Name | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > license and billing store info should render an error if something fails when fetching billing info</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=16679c2e-400b-517f-b231-33d1de005fa9) |
| <code>scenarios > admin > license and billing store info should show the user store info for an self-hosted instance managed by the store</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=bfde18e3-d4fe-54d6-b763-92ae0eb750a5) |
| <code>Cloud settings section should prompt us to migrate to cloud if we are not hosted</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=ee45864d-2e02-5c84-910b-0944ae704ee4) |
| <code>scenarios > dashboard > dashboard cards > click behavior static embedding should navigate to public link URL (metabase\$138640)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=a5d80706-c367-53db-b506-c829a33a140b) |
| <code>scenarios > admin > permissions > downgrade ee to oss should allow users to edit permissions after downgrading EE to OSS</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=47122ee3-858f-5d94-958e-217e9a9c28b4) |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=FAILURE&flakinessStatusFilter=FLAKY&quarantineStatusFilter=NOT_QUARANTINED&runId=f9ff4939-1b14-518a-b4cb-f39770b832a2) |
</details>
<details>
<summary>‚è≠Ô∏è 19 Skipped</summary>

- <code>ThemeProvider applies the metabase theme overrides</code>
- <code>ThemeProvider merges the theme overrides when the theme prop is provided</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if all authorized origins match the instance domain</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should not display a note if SameSite cookie is set to 'none'</code>
- <code>SettingsEditor SameSite cookie note check with authorized origins should display a note if any authorized origins do not match the instance domain</code>

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=9aef862690e9662ef47ef2b1c500582a5bc1216c&utm_source=gh-comment&runConclusion=SKIPPED)
</details>
<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

trunk-io[bot] on (2024-11-11 23:39:12 UTC): <!-- Trunk Test Analytics -->


**14399 tests** were run on `8bc683d6`. ‚úÖ **14399 Passed**. [View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/49536?repo=metabase/metabase&commitHash=8bc683d664267cf839422550cfe9ad210b0500ae&utm_source=gh-comment)


<sub>

[settings](https://app.trunk.io/metabase/settings/repo?repo=metabase/metabase&utm_source=gh-comment#flaky-tests)

</sub>

"
2635514999,pull_request,closed,,"ü§ñ backported ""feat(sdk): Add `isOpen` prop to control CreateDashboardModal""",#49452,github-automation-metabase,2024-11-05 13:46:20+00:00,"['deniskaber', 'github-automation-metabase']",2024-11-05 14:30:02+00:00,2024-11-05 14:30:01+00:00,https://github.com/metabase/metabase/pull/49535,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
