id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2801262034,pull_request,closed,,"🤖 backported ""Add wotbrew to team files""",#52383,github-automation-metabase,2025-01-21 09:45:50+00:00,"['wotbrew', 'github-automation-metabase']",2025-01-21 10:43:44+00:00,2025-01-21 09:47:28+00:00,https://github.com/metabase/metabase/pull/52426,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2604360058, 'issue_id': 2801262034, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-c87a8013-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 10, 43, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 10:43:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-c87a8013-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52426?repo=metabase/metabase&commitHash=c87a80134095c61829f682eb1406bb9d3df63920&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2801077477,pull_request,closed,,"🤖 backported ""Improve theme transitions""","  #52259
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-21 08:37:18+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-21 10:39:35+00:00,2025-01-21 10:39:33+00:00,https://github.com/metabase/metabase/pull/52425,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2604114187, 'issue_id': 2801077477, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51900_tests-f3499fbd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=FAILURE&runId=6b1a85bb-00b1-55ee-9301-058393c93750) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 9, 13, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604120380, 'issue_id': 2801077477, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f3499fbdbc75c4c4c5c21331a405145120079d97-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12883479095?pr=52425)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 21, 9, 15, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 09:13:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51900_tests-f3499fbd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment&runConclusion=FAILURE&runId=6b1a85bb-00b1-55ee-9301-058393c93750) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52425?repo=metabase/metabase&commitHash=f3499fbdbc75c4c4c5c21331a405145120079d97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 09:15:46 UTC): ## e2e tests failed on `f3499fbdbc75c4c4c5c21331a405145120079d97-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12883479095?pr=52425)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2800564052,pull_request,closed,,[Cards in Dashboards] Revision history copy change,"[ENG-14249](https://linear.app/metabase-inc/issue/ENG-14249/change-revision-history-copy)

### Description

Instead of showing ""dashboard-internal"" this PR tweaks the copy to show these messages in the question's revision history:
- `You moved this question from {dashboard_name}`
- `You moved this question into {dashboard_name}`

Additionally, when questions move to/from dashboards and collections and the dashboard is in a different collection, we were producing two notifications about moving (once for the dashboard move and another for the collection move).

### How to verify

- Create a question, save it in collection 
- Move it into a dashboard
- Move it back to a collection
- Visit the question + view it's revision history
- See the messages appear as expected

### Demo

Before (dashboard + collection children of the same collection)
![image](https://github.com/user-attachments/assets/0630dacb-755c-44b0-b442-3d803a0e8650)

Before (dashboard + collection have different parent collections)
![CleanShot 2025-01-20 at 20 33 04@2x](https://github.com/user-attachments/assets/8d473da7-2dd9-44a8-b7ba-7174bf029af9)

After
![CleanShot 2025-01-20 at 20 32 40@2x](https://github.com/user-attachments/assets/3e3bd07a-003e-4f61-b2ca-1a607fb3f66c)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
I have zero clue how our BE tests work
",sloansparger,2025-01-21 02:36:47+00:00,['sloansparger'],2025-01-28 20:15:22+00:00,2025-01-28 16:47:08+00:00,https://github.com/metabase/metabase/pull/52423,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603535531, 'issue_id': 2800564052, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104294_tests-847751f5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values for a field do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE&runId=32d6c61e-9611-55c4-b30d-b4bbfaaf7203) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE&runId=d581af42-997a-54be-836f-002e2097be05) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 3, 12, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613579346, 'issue_id': 2800564052, 'author': 'dpsutton', 'body': 'before:\r\n```clojure\r\ndiff=> (-> (diff-strings* ""Card""\r\n                          {:dashboard_id 4 :collection_id 3}\r\n                          {:dashboard_id 5   :collection_id 7})\r\n           build-sentence)\r\n""moved this Card from E-commerce to Automatically Generated Dashboards and moved from dashboard Metabase metrics to Question overview.""\r\n```\r\nand after:\r\n```clojure\r\ndiff=> (-> (diff-strings* ""Card""\r\n                          {:dashboard_id 4 :collection_id 3}\r\n                          {:dashboard_id 5   :collection_id 7})\r\n           build-sentence)\r\n""moved from dashboard Metabase metrics to Question overview.""\r\n```\r\n\r\nAs for style, i\'d probably do the following:\r\n```clojure\r\n    (let [model-name (model-str->i18n-str model)\r\n          ks         (cond->> (keys (or after before))\r\n                       (and (= model ""Card"")\r\n                            (not= (:dashboard_id before) (:dashboard_id after)))\r\n                       (remove #{:collection_id}))]\r\n```\r\nI\'d prefer a single binding of `ks` instead of a separate binding. Small change so not necessary but my version of hygiene.', 'created_at': datetime.datetime(2025, 1, 24, 23, 20, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617046013, 'issue_id': 2800564052, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `847751f58facbfd141bed796990b5e712cbe3ceb-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12999553306?pr=52423)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 27, 22, 38, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 03:12:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104294_tests-847751f5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values for a field do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE&runId=32d6c61e-9611-55c4-b30d-b4bbfaaf7203) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment&runConclusion=FAILURE&runId=d581af42-997a-54be-836f-002e2097be05) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52423?repo=metabase/metabase&commitHash=847751f58facbfd141bed796990b5e712cbe3ceb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

dpsutton on (2025-01-24 23:20:40 UTC): before:
```clojure
diff=> (-> (diff-strings* ""Card""
                          {:dashboard_id 4 :collection_id 3}
                          {:dashboard_id 5   :collection_id 7})
           build-sentence)
""moved this Card from E-commerce to Automatically Generated Dashboards and moved from dashboard Metabase metrics to Question overview.""
```
and after:
```clojure
diff=> (-> (diff-strings* ""Card""
                          {:dashboard_id 4 :collection_id 3}
                          {:dashboard_id 5   :collection_id 7})
           build-sentence)
""moved from dashboard Metabase metrics to Question overview.""
```

As for style, i'd probably do the following:
```clojure
    (let [model-name (model-str->i18n-str model)
          ks         (cond->> (keys (or after before))
                       (and (= model ""Card"")
                            (not= (:dashboard_id before) (:dashboard_id after)))
                       (remove #{:collection_id}))]
```
I'd prefer a single binding of `ks` instead of a separate binding. Small change so not necessary but my version of hygiene.

github-actions[bot] on (2025-01-27 22:38:37 UTC): ## e2e tests failed on `847751f58facbfd141bed796990b5e712cbe3ceb-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12999553306?pr=52423)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2800525814,pull_request,closed,,[Deets in Sheets] Add actions link to question info sidesheet,"This PR removes the 'See more about this model' link from the question info sidesheet and adds an 'Actions' link to the top of the sidesheet

![image](https://github.com/user-attachments/assets/f703cfaf-5455-4db7-a481-efbfca3a73ac)
",rafpaf,2025-01-21 01:52:30+00:00,['rafpaf'],2025-01-27 22:10:56+00:00,2025-01-22 14:41:24+00:00,https://github.com/metabase/metabase/pull/52422,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603467236, 'issue_id': 2800525814, 'author': 'rafpaf', 'body': '* **#52422** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52422?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 21, 1, 52, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603509787, 'issue_id': 2800525814, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13560_tests-d6b1c23d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > binning > from a saved sql question via simple question ""before all"" hook for ""should work for time series""</code> | The request to your server timed out after 30 seconds, preventing the test from continuing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=e4faf463-0283-547a-b29b-2592ac76c2c2) |\n| <code>scenarios > dashboard > parameters > matrix a parameter (single plain search small Contains connected) where the admin field setting is search shou...</code> | The request to your server timed out after 30 seconds, which prevented the test from completing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=0645d974-b398-5da5-a602-01c0c6897a44) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=86df8443-4ffa-5176-84da-e5dc48af504d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=8ece7242-be1b-572c-8c1b-cb9370aa802f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 2, 41, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607016732, 'issue_id': 2800525814, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d6b1c23d3a2a345af8186a179507a33312d53ff1-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12907199899?pr=52422)\n\n  File | Test Name\n  ---- | ---------\n  `page-3.cy.spec.ts` | scenarios > dashboard > parameters > matrix > a parameter (single plain search small Contains connected) where the admin field setting is search should render token-field', 'created_at': datetime.datetime(2025, 1, 22, 11, 41, 3, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-21 01:52:49 UTC): * **#52422** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52422?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52422?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-21 02:41:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13560_tests-d6b1c23d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > binning > from a saved sql question via simple question ""before all"" hook for ""should work for time series""</code> | The request to your server timed out after 30 seconds, preventing the test from continuing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=e4faf463-0283-547a-b29b-2592ac76c2c2) |
| <code>scenarios > dashboard > parameters > matrix a parameter (single plain search small Contains connected) where the admin field setting is search shou...</code> | The request to your server timed out after 30 seconds, which prevented the test from completing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=0645d974-b398-5da5-a602-01c0c6897a44) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=86df8443-4ffa-5176-84da-e5dc48af504d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment&runConclusion=FAILURE&runId=8ece7242-be1b-572c-8c1b-cb9370aa802f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52422?repo=metabase/metabase&commitHash=d6b1c23d3a2a345af8186a179507a33312d53ff1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 11:41:03 UTC): ## e2e tests failed on `d6b1c23d3a2a345af8186a179507a33312d53ff1-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12907199899?pr=52422)

  File | Test Name
  ---- | ---------
  `page-3.cy.spec.ts` | scenarios > dashboard > parameters > matrix > a parameter (single plain search small Contains connected) where the admin field setting is search should render token-field

"
2800500172,pull_request,closed,,"🤖 backported ""fix impersonation e2e test""","  #52418

✅  conflicts resolved",github-automation-metabase,2025-01-21 01:22:08+00:00,"['iethree', 'github-automation-metabase']",2025-01-27 16:57:34+00:00,2025-01-27 16:57:34+00:00,https://github.com/metabase/metabase/pull/52421,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2603486772, 'issue_id': 2800500172, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3738_tests-b2027f21-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The error occurred when trying to read a property 'as' of an undefined value. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE&runId=0d65c907-bcbe-59b1-9def-6fe0304f8a03) |\n| <code>impersonated permission admins impersonated users have limited access</code> | The error occurred when trying to read a property 'as' of an undefined value. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE&runId=cd0dbc06-6fbf-5d9c-8ef0-14984f717a65) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 2, 14, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609947452, 'issue_id': 2800500172, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b2027f215c0367bc6845852b478feaeb1cde6284-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12930852697?pr=52421)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 23, 14, 25, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 02:14:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3738_tests-b2027f21-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The error occurred when trying to read a property 'as' of an undefined value. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE&runId=0d65c907-bcbe-59b1-9def-6fe0304f8a03) |
| <code>impersonated permission admins impersonated users have limited access</code> | The error occurred when trying to read a property 'as' of an undefined value. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment&runConclusion=FAILURE&runId=cd0dbc06-6fbf-5d9c-8ef0-14984f717a65) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52421?repo=metabase/metabase&commitHash=b2027f215c0367bc6845852b478feaeb1cde6284&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 14:25:30 UTC): ## e2e tests failed on `b2027f215c0367bc6845852b478feaeb1cde6284-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12930852697?pr=52421)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2800446339,pull_request,closed,,fix impersonation e2e test,Somehow #51707 broke this test in master 😳 ,iethree,2025-01-21 00:11:09+00:00,['iethree'],2025-01-27 22:11:13+00:00,2025-01-21 01:21:10+00:00,https://github.com/metabase/metabase/pull/52418,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603402475, 'issue_id': 2800446339, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a62cae8e6ece2a41eb42f4a7923631fb089cb868-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877574820?pr=52418)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 21, 0, 26, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603414857, 'issue_id': 2800446339, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3781_tests-a62cae8e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=FAILURE&runId=6936ceea-ddf9-5e08-96c3-ca9657843501) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 0, 43, 40, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 00:26:32 UTC): ## e2e tests failed on `a62cae8e6ece2a41eb42f4a7923631fb089cb868-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877574820?pr=52418)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-21 00:43:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3781_tests-a62cae8e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment&runConclusion=FAILURE&runId=6936ceea-ddf9-5e08-96c3-ca9657843501) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52418?repo=metabase/metabase&commitHash=a62cae8e6ece2a41eb42f4a7923631fb089cb868&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800427827,pull_request,closed,,Add an order by to the batched truncation,"Context:
we need to remove old query execution logs. The table gets quite big.
What we used to do: pick a date N months ago, and then `delete from query_execution where started_at <= [some time]`
This does a table scan and is bad.
Solution: we can do this in batches. https://github.com/metabase/metabase/pull/51490

Problem: we still have a table scan in practice.

And now, the PR description:

This is a strange one. But in practice, this was still doing a seq scan on postgres.

```sql
clean=# explain DELETE FROM query_execution WHERE id IN (SELECT id FROM query_execution WHERE started_at <= '2025-01-02 01:10:15.651839+00' LIMIT 50000);
                                                           QUERY PLAN
--------------------------------------------------------------------------------------------------------------------------------
 Delete on query_execution  (cost=526084.17..1066675.96 rows=0 width=0)
   ->  Nested Loop  (cost=526084.17..1066675.96 rows=50000 width=34)
         ->  Unique  (cost=526076.73..526326.73 rows=50000 width=32)
               ->  Sort  (cost=526076.73..526201.73 rows=50000 width=32)
                     Sort Key: ""ANY_subquery"".id
                     ->  Subquery Scan on ""ANY_subquery""  (cost=0.00..522174.32 rows=50000 width=32)
                           ->  Limit  (cost=0.00..521674.32 rows=50000 width=4)
table scan >>>>>              ->  Seq Scan on query_execution query_execution_1  (cost=0.00..1704153.49 rows=163335 width=4)
                                       Filter: (started_at <= '2025-01-01 19:10:15.651839-06'::timestamp with time zone)
         ->  Bitmap Heap Scan on query_execution  (cost=7.44..11.46 rows=1 width=10)
               Recheck Cond: (id = ""ANY_subquery"".id)
               ->  Bitmap Index Scan on query_execution_pkey  (cost=0.00..7.44 rows=1 width=0)
                     Index Cond: (id = ""ANY_subquery"".id)
(13 rows)

```

The odd thing is that it is sensitive to what timestamp you use. Here's the same query but with a timestamp in 2024:

```sql
clean=# explain DELETE FROM query_execution WHERE id IN (SELECT id FROM query_execution WHERE started_at <= '2024-12-19 01:10:15.651839+00' LIMIT 50000);
                                                             QUERY PLAN
-------------------------------------------------------------------------------------------------------------------------------------
 Delete on query_execution  (cost=225736.06..641819.90 rows=0 width=0)
   ->  Nested Loop  (cost=225736.06..641819.90 rows=28490 width=34)
         ->  HashAggregate  (cost=225724.95..226009.85 rows=28490 width=32)
               Group Key: ""ANY_subquery"".id
               ->  Subquery Scan on ""ANY_subquery""  (cost=122917.34..225653.72 rows=28490 width=32)
                     ->  Limit  (cost=122917.34..225368.82 rows=28490 width=4)
                           ->  Bitmap Heap Scan on query_execution query_execution_1  (cost=122917.34..225368.82 rows=28490 width=4)
                                 Recheck Cond: (started_at <= '2024-12-18 19:10:15.651839-06'::timestamp with time zone)
index scan >>>>                  ->  Bitmap Index Scan on idx_query_execution_started_at  (cost=0.00..122910.22 rows=28490 width=0)
                                       Index Cond: (started_at <= '2024-12-18 19:10:15.651839-06'::timestamp with time zone)
         ->  Bitmap Heap Scan on query_execution  (cost=11.11..15.12 rows=1 width=10)
               Recheck Cond: (id = ""ANY_subquery"".id)
               ->  Bitmap Index Scan on query_execution_pkey  (cost=0.00..11.11 rows=1 width=0)
                     Index Cond: (id = ""ANY_subquery"".id)
(14 rows)
```

And this is because the db engine knows that most of my data is around 2025 and will just hit the whole table rather than hit an index and then go return most of the table.

The logic we want here is basically, ""work up the index on created_at until we get to a notion of recent"".

If we add an order by, we're close to that and things go much faster again

```sql
clean=# explain DELETE FROM query_execution WHERE id IN (SELECT id FROM query_execution WHERE started_at <= '2025-01-02 01:10:15.651839+00' order by id asc LIMIT 50000);
                                                                         QUERY PLAN
-------------------------------------------------------------------------------------------------------------------------------------------------------------
 Delete on query_execution  (cost=851615.84..1392207.62 rows=0 width=0)
   ->  Nested Loop  (cost=851615.84..1392207.62 rows=50000 width=34)
         ->  Unique  (cost=851608.39..851858.39 rows=50000 width=32)
               ->  Sort  (cost=851608.39..851733.39 rows=50000 width=32)
                     Sort Key: ""ANY_subquery"".id
                     ->  Subquery Scan on ""ANY_subquery""  (cost=0.55..847705.98 rows=50000 width=32)
                           ->  Limit  (cost=0.55..847205.98 rows=50000 width=4)
index scan >>>>>                 ->  Index Scan using query_execution_pkey on query_execution query_execution_1  (cost=0.55..2767566.54 rows=163335 width=4)
                                       Filter: (started_at <= '2025-01-01 19:10:15.651839-06'::timestamp with time zone)
         ->  Bitmap Heap Scan on query_execution  (cost=7.44..11.46 rows=1 width=10)
               Recheck Cond: (id = ""ANY_subquery"".id)
               ->  Bitmap Index Scan on query_execution_pkey  (cost=0.00..7.44 rows=1 width=0)
                     Index Cond: (id = ""ANY_subquery"".id)
(13 rows)
```
",dpsutton,2025-01-20 23:49:16+00:00,['dpsutton'],2025-01-21 15:56:53+00:00,2025-01-21 15:05:54+00:00,https://github.com/metabase/metabase/pull/52417,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2603388626, 'issue_id': 2800427827, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `11c173c7ca574ba58278682aff565b501bc60eca-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877368066?pr=52417)\n\n  File | Test Name\n  ---- | ---------\n  `legend.cy.spec.js` | scenarios > visualizations > legend > should toggle series visibility in the query builder', 'created_at': datetime.datetime(2025, 1, 21, 0, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603393635, 'issue_id': 2800427827, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116121_tests-11c173c7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE&runId=1ebe59e4-5f5a-5600-b19d-47111faabe7a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE&runId=ac466c02-bd14-5600-b0a1-c22cdaf63438) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE&runId=dfad6f01-034e-5ed6-a0cd-63003596347e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 0, 15, 24, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 00:09:01 UTC): ## e2e tests failed on `11c173c7ca574ba58278682aff565b501bc60eca-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877368066?pr=52417)

  File | Test Name
  ---- | ---------
  `legend.cy.spec.js` | scenarios > visualizations > legend > should toggle series visibility in the query builder

trunk-io[bot] on (2025-01-21 00:15:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116121_tests-11c173c7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE&runId=1ebe59e4-5f5a-5600-b19d-47111faabe7a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE&runId=ac466c02-bd14-5600-b0a1-c22cdaf63438) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment&runConclusion=FAILURE&runId=dfad6f01-034e-5ed6-a0cd-63003596347e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52417?repo=metabase/metabase&commitHash=11c173c7ca574ba58278682aff565b501bc60eca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800417178,pull_request,closed,,Split up slow e2e test spec,"### Description

This was our biggest single e2e test spec (dashboard-filters-2-stage, 11+ minutes) - this splits it up into 3 chunks so it can be balanced better across CI runners
",iethree,2025-01-20 23:37:45+00:00,['iethree'],2025-01-27 22:10:38+00:00,2025-01-23 18:48:13+00:00,https://github.com/metabase/metabase/pull/52416,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603392908, 'issue_id': 2800417178, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3683_tests-5bbd193d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 0, 14, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 00:14:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3683_tests-5bbd193d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52416?repo=metabase/metabase&commitHash=5bbd193dfcb9f6a897e8a54523bc16908aa38500&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800410946,pull_request,closed,,"🤖 backported ""Fix Postgres XML column visualization""",#52400,github-automation-metabase,2025-01-20 23:30:59+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-22 16:47:40+00:00,2025-01-22 16:03:16+00:00,https://github.com/metabase/metabase/pull/52415,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2603392990, 'issue_id': 2800410946, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73064_tests-cc485e37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 0, 14, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 00:14:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73064_tests-cc485e37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52415?repo=metabase/metabase&commitHash=cc485e37e1ea54ba2a933dfd530662db38343e83&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800384893,pull_request,closed,,Support find-outliers for reports and queries in simple cases,"When the result has a temporal column, the first in the list is taken as the basis of the analysis.
",metamben,2025-01-20 23:00:01+00:00,['metamben'],2025-01-21 14:27:50+00:00,2025-01-21 14:27:47+00:00,https://github.com/metabase/metabase/pull/52414,"[('.Team/Querying', '')]","[{'comment_id': 2603368621, 'issue_id': 2800384893, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112141_tests-12424741-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 23, 43, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 23:43:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112141_tests-12424741-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52414?repo=metabase/metabase&commitHash=124247412375c516c2ca197a83fce98b07691e97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800382810,pull_request,closed,,wip: adding image to relationships 'used by' empty state,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",rafpaf,2025-01-20 22:57:39+00:00,['rafpaf'],2025-02-04 17:33:07+00:00,2025-02-04 17:33:07+00:00,https://github.com/metabase/metabase/pull/52413,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603332569, 'issue_id': 2800382810, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#52413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52487](https://github.com/metabase/metabase/pull/52487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 20, 22, 57, 50, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-20 22:57:50 UTC): * **#52413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52487](https://github.com/metabase/metabase/pull/52487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2800324883,pull_request,closed,,"🤖 backported ""Sync extra fields to order-by when replacing breakouts""",#52338,github-automation-metabase,2025-01-20 21:56:17+00:00,"['wzimrin', 'github-automation-metabase']",2025-01-20 23:30:32+00:00,2025-01-20 22:58:19+00:00,https://github.com/metabase/metabase/pull/52412,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2603293047, 'issue_id': 2800324883, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e5270d20ce2ca6ddce1ef81164743058290b6df7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876208061?pr=52412)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 20, 22, 11, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603323289, 'issue_id': 2800324883, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132861_tests-e5270d20-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE&runId=99030c3d-3667-5584-bfe3-7425fe905dc2) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds of waiting. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE&runId=87573dc8-1c2f-533b-b6ab-f269d01588db) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 22, 46, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 22:11:02 UTC): ## e2e tests failed on `e5270d20ce2ca6ddce1ef81164743058290b6df7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876208061?pr=52412)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

trunk-io[bot] on (2025-01-20 22:46:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132861_tests-e5270d20-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE&runId=99030c3d-3667-5584-bfe3-7425fe905dc2) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds of waiting. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment&runConclusion=FAILURE&runId=87573dc8-1c2f-533b-b6ab-f269d01588db) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52412?repo=metabase/metabase&commitHash=e5270d20ce2ca6ddce1ef81164743058290b6df7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800321544,pull_request,closed,,Fix loader flicker and double scrollbars with the entity framework in Admin -> Data model -> Segments,"Double scrollbars were caused by https://github.com/metabase/metabase/pull/52096

How to verify:
- Add many (> 10) databases with at least 2 schemas. I added the same QA PG db and added a test schema a table.
- Go to Admin -> Data model -> Segments and try to pick a table
- There should be no flicker when navigating between databases and schemas
- There should be no double scroll bars. Enable ""Always show scroll bars"" in your OS settings to make the problem more apparent. 

Before:
<img width=""398"" alt=""Screenshot 2025-01-20 at 21 21 33"" src=""https://github.com/user-attachments/assets/aa31915f-563c-4d15-bf4a-79524f008909"" />

After:
<img width=""432"" alt=""Screenshot 2025-01-20 at 21 21 05"" src=""https://github.com/user-attachments/assets/6cbe48d4-2742-40e2-b43a-db2b0774fde5"" />
",ranquild,2025-01-20 21:53:06+00:00,['ranquild'],2025-01-22 16:06:51+00:00,2025-01-22 04:13:37+00:00,https://github.com/metabase/metabase/pull/52411,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2603324922, 'issue_id': 2800321544, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41262_tests-df155259-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=FAILURE&runId=3705d250-b936-5466-9e17-c8ae44d17d66) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 22, 48, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606203379, 'issue_id': 2800321544, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `df1552590903dc6063e029ccbb87163875f435c3-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12900328929?pr=52411)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 22, 3, 21, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 22:48:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41262_tests-df155259-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment&runConclusion=FAILURE&runId=3705d250-b936-5466-9e17-c8ae44d17d66) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52411?repo=metabase/metabase&commitHash=df1552590903dc6063e029ccbb87163875f435c3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 03:21:55 UTC): ## e2e tests failed on `df1552590903dc6063e029ccbb87163875f435c3-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12900328929?pr=52411)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

"
2800311230,pull_request,closed,,"🤖 backported ""Fix flex-grow property on ChartSegmentedControl buttons""",#52356,github-automation-metabase,2025-01-20 21:43:12+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-20 23:13:27+00:00,2025-01-20 22:16:17+00:00,https://github.com/metabase/metabase/pull/52410,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2603268223, 'issue_id': 2800311230, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1a50f174fae842547c3297825000053b105b36e5...69d4078b68cf7446cc7625a90fa37323b7295e02.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx |', 'created_at': datetime.datetime(2025, 1, 20, 21, 44, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603313776, 'issue_id': 2800311230, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51840_tests-69d4078b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 22, 34, 41, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 21:44:44 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1a50f174fae842547c3297825000053b105b36e5...69d4078b68cf7446cc7625a90fa37323b7295e02.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx |

trunk-io[bot] on (2025-01-20 22:34:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51840_tests-69d4078b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52410?repo=metabase/metabase&commitHash=69d4078b68cf7446cc7625a90fa37323b7295e02&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800306866,pull_request,closed,,Add `overflow:auto` to `Autocomplete` component,"We were running into issues where the contents of `Autocomplete` was overflowing the container of the dropdown, [like this](https://metaboat.slack.com/archives/C063Q3F1HPF/p1737031346278079).

The issue here is that the fix that worked for `Select` and `MultiSelect` wasn't applied to the `Autocomplete` component, which uses the same styles. Now, the values should stay within their container.
",oisincoveney,2025-01-20 21:39:08+00:00,['oisincoveney'],2025-01-21 15:17:28+00:00,2025-01-21 14:33:41+00:00,https://github.com/metabase/metabase/pull/52409,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2603264362, 'issue_id': 2800306866, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 59daec2227a527fc759e6a21ffeac47e1ef97cef...efee24b71457f5144f7b709dd3c3069c1213b3b6.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/Autocomplete/Autocomplete.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 20, 21, 40, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603282379, 'issue_id': 2800306866, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `efee24b71457f5144f7b709dd3c3069c1213b3b6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876043629?pr=52409)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 20, 21, 59, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603300942, 'issue_id': 2800306866, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41126_tests-efee24b7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=FAILURE&runId=ba8682b6-64e3-59aa-83d1-949bed5bfeea) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 20, 22, 19, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 21:40:39 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 59daec2227a527fc759e6a21ffeac47e1ef97cef...efee24b71457f5144f7b709dd3c3069c1213b3b6.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/Autocomplete/Autocomplete.styled.tsx |

github-actions[bot] on (2025-01-20 21:59:49 UTC): ## e2e tests failed on `efee24b71457f5144f7b709dd3c3069c1213b3b6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876043629?pr=52409)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

trunk-io[bot] on (2025-01-20 22:19:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41126_tests-efee24b7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment&runConclusion=FAILURE&runId=ba8682b6-64e3-59aa-83d1-949bed5bfeea) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52409?repo=metabase/metabase&commitHash=efee24b71457f5144f7b709dd3c3069c1213b3b6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800296399,pull_request,closed,,bump loki diff tolerance,Bumping loki diff engine tolerance to reduce flakiness.,alxnddr,2025-01-20 21:29:37+00:00,['alxnddr'],2025-01-21 14:22:18+00:00,2025-01-21 14:19:03+00:00,https://github.com/metabase/metabase/pull/52408,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2603485890, 'issue_id': 2800296399, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41021_tests-0e410905-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=FAILURE&runId=d503f9e8-f09c-5bb1-800f-2e1440b6ed89) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 2, 13, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 02:13:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41021_tests-0e410905-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment&runConclusion=FAILURE&runId=d503f9e8-f09c-5bb1-800f-2e1440b6ed89) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52408?repo=metabase/metabase&commitHash=0e41090527db9363bc323e5ab6cf04e8524f1012&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800246808,pull_request,closed,,[Cards in Dashboards] Prevent saving to other dashboards when creating a dashboard question,"### Description

Users could change the dashboard they were saving to when they started creating a dashboard question for a specific dashboard. It appears that a value was not getting passed in correctly preventing the functionality from working as expect.

This PR also removes some UI for saving to tab that wasn't being used. When we added auto-place logic the save to tab feature was broken. Ideally these code changes can get reverted soon.

### How to verify

- Edit a dashboard, add a new question via one of these buttons
![CleanShot 2025-01-20 at 13 35 19@2x](https://github.com/user-attachments/assets/019491ef-b901-4996-ba59-9fd76b2aa868)
- Create a question, save it
- You should see no select button for changing the destination dashboard save location

### Demo

https://github.com/user-attachments/assets/a6a681d5-b87f-41e5-bab2-66e8795c6690

### Checklist
- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-20 20:46:22+00:00,['sloansparger'],2025-01-27 22:10:21+00:00,2025-01-24 17:46:16+00:00,https://github.com/metabase/metabase/pull/52406,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603268035, 'issue_id': 2800246808, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13386_tests-6876e5ee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE&runId=0a418d49-d575-5935-b38a-07b32c6c287c) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE&runId=221bfe5f-e3cb-5ab3-9439-8adf159ce3ab) |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE&runId=39bfc3cc-59a2-548f-9e40-79539c1cf21d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 21, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611178058, 'issue_id': 2800246808, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `6876e5ee1c86afb77ccd13acbedf0211acfd9803-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12939279204?pr=52406)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 22, 52, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 21:44:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13386_tests-6876e5ee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE&runId=0a418d49-d575-5935-b38a-07b32c6c287c) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE&runId=221bfe5f-e3cb-5ab3-9439-8adf159ce3ab) |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment&runConclusion=FAILURE&runId=39bfc3cc-59a2-548f-9e40-79539c1cf21d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52406?repo=metabase/metabase&commitHash=6876e5ee1c86afb77ccd13acbedf0211acfd9803&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 22:52:06 UTC): ## e2e tests failed on `6876e5ee1c86afb77ccd13acbedf0211acfd9803-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12939279204?pr=52406)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2800214599,pull_request,closed,,[Cards in Dashboards] Remove dashboard name in QB header when creating a new dashboard question,"### Description

Remove based on this conversation https://metaboat.slack.com/archives/C06RM2GEP5Z/p1737401903948269
This solves two other display bugs related to this UI not being spaced correctly to the other content in certain circumstances

### How to verify

1. Edit a dashboard, add a new question using the QB
2. See that the dashboard name no longer appears in the header like it used ot

### Demo

Before
![CleanShot 2025-01-20 at 13 35 03@2x](https://github.com/user-attachments/assets/3cd17759-468c-46ab-a788-68edc4a90f25)

After
![CleanShot 2025-01-20 at 14 18 46@2x](https://github.com/user-attachments/assets/5edf23fc-2960-4efb-b325-3c17aa14fd90)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
Guess we didn't have coverage on this to begin with, so not really worth testing the absence of the feature
",sloansparger,2025-01-20 20:19:26+00:00,['sloansparger'],2025-01-27 22:11:15+00:00,2025-01-20 20:54:33+00:00,https://github.com/metabase/metabase/pull/52403,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603240159, 'issue_id': 2800214599, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13351_tests-f654041f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 21, 17, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 21:17:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13351_tests-f654041f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52403?repo=metabase/metabase&commitHash=f654041f6af227b1f92f6975af4a5a3e25d8e6d0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800202030,pull_request,closed,,"🤖 backported ""Update Translation sources for v52.7""",#52315,github-automation-metabase,2025-01-20 20:09:24+00:00,"['iethree', 'github-automation-metabase']",2025-01-20 22:10:17+00:00,2025-01-20 21:03:06+00:00,https://github.com/metabase/metabase/pull/52402,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2603203745, 'issue_id': 2800202030, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120640_tests-a7fd6122-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=FAILURE&runId=7b427368-6dff-593f-80d6-fa715ede56fd) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 20, 43, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 20:43:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120640_tests-a7fd6122-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment&runConclusion=FAILURE&runId=7b427368-6dff-593f-80d6-fa715ede56fd) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52402?repo=metabase/metabase&commitHash=a7fd6122492b84b31672c4ceba3f0e242080c0ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800193401,pull_request,closed,,"🤖 backported ""Fix Presto bytes to Honey SQL conversion""",#52331,github-automation-metabase,2025-01-20 20:02:27+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-22 16:47:59+00:00,2025-01-22 16:13:03+00:00,https://github.com/metabase/metabase/pull/52401,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2603204560, 'issue_id': 2800193401, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/69219_tests-4998ef86-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>text-equals-nil-empty-string-test-2</code> | The query result set was closed unexpectedly, causing an error when trying to process the result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=FAILURE&runId=e8d60ea7-4fdc-5602-a940-e0e7db37531d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 20, 43, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 20:43:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/69219_tests-4998ef86-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>text-equals-nil-empty-string-test-2</code> | The query result set was closed unexpectedly, causing an error when trying to process the result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment&runConclusion=FAILURE&runId=e8d60ea7-4fdc-5602-a940-e0e7db37531d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52401?repo=metabase/metabase&commitHash=4998ef86534e00c2c2bf633fa4a3aaafe87c2dbc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2800178747,pull_request,closed,,Fix Postgres XML column visualization,"Closes https://github.com/metabase/metabase/issues/50065

### Description

Postgres XML columns are being displayed as Java objects (e.g. `org.postgresql.jdbc.PgSQLXML@1a90017b`) instead of readable strings. This adds a `read-column-thunk` method to the Postgres driver to convert the XML objects to strings.

Converts Postgres XML columns to a string when returned in `sql-jdbc.execute/read-column-thunk`. 

### How to verify

1. Create a Postgres table with an XML type column. 
2. Populate this table with some XML data. 
3. When viewing or exporting this table from Metabase the XML should be displayed as a readable string.

### Demo

<img width=""752"" alt=""Screenshot 2025-01-20 at 2 48 42 PM"" src=""https://github.com/user-attachments/assets/a14305fc-0211-4c2f-9ded-602f5ade6423"" />

JSON export
```json
[
{""ID"":1,""Json Data → Foo"":""bar"",""Json Data → X"":1,""Name"":""row 1"",""Xml Data"":""<root><child>Sample Data</child></root>""},
{""ID"":3,""Json Data → Foo"":""bar"",""Json Data → X"":1,""Name"":""row 2"",""Xml Data"":""<root><child>Sample Data</child></root>""},
{""ID"":4,""Json Data → Foo"":""bar"",""Json Data → X"":1,""Name"":""row 3"",""Xml Data"":""<root><child>Sample Data</child></root>""},
{""ID"":5,""Json Data → Foo"":""bar"",""Json Data → X"":1,""Name"":""row 4"",""Xml Data"":""<root><child>Sample Data</child></root>""}
]
```

CSV export
```csv
ID,Json Data → Foo,Json Data → X,Name,Xml Data,Json Data,Bytes Arr,Date Bytes
1,bar,1,row 1,<root><child>Sample Data</child></root>
3,bar,1,row 2,<root><child>Sample Data</child></root>
4,bar,1,row 3,<root><child>Sample Data</child></root>
5,bar,1,row 4,<root><child>Sample Data</child></root>
```

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-20 19:51:04+00:00,['rileythomp'],2025-01-21 00:10:08+00:00,2025-01-20 23:30:04+00:00,https://github.com/metabase/metabase/pull/52400,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2603269291, 'issue_id': 2800178747, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112162_tests-30cfd85e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=FAILURE&runId=49fc4fd5-3c3b-512b-9770-6123826a47e2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 20, 21, 45, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603333897, 'issue_id': 2800178747, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876686217?pr=52400)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 20, 22, 59, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 21:45:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112162_tests-30cfd85e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment&runConclusion=FAILURE&runId=49fc4fd5-3c3b-512b-9770-6123826a47e2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52400?repo=metabase/metabase&commitHash=30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 22:59:23 UTC): ## e2e tests failed on `30cfd85e7eed4fbd3e0c78edcd4632c4ce7acbb5-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876686217?pr=52400)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2800056381,pull_request,closed,,Prevent unsafe usage of localeCompare and related functions,"As a follow-up to #52284, this PR adds lint rules banning the pattern that caused a P1 (#48144). These rules require us to use the browser default with `String.localeCompare` and related functions in the `Intl` library. Since we cannot pass these functions our own locale codes, since some of these are in the wrong format.

This is designed to be a good-enough, ""80 percent of the value with 20 percent of the effort"" solution, even though better solutions could be pursued such as aligning FE and BE around an international standard (BCP 47).

- [x] Tests have been added/updated to cover changes in this PR
",rafpaf,2025-01-20 18:18:24+00:00,['rafpaf'],2025-01-27 22:11:10+00:00,2025-01-21 17:24:45+00:00,https://github.com/metabase/metabase/pull/52399,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603028158, 'issue_id': 2800056381, 'author': 'rafpaf', 'body': '* **#52399** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52399?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52399?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 20, 18, 18, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603104811, 'issue_id': 2800056381, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13373_tests-21b699b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 19, 17, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605333172, 'issue_id': 2800056381, 'author': 'rafpaf', 'body': '### Merge activity\n\n* **Jan 21, 12:24 PM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/52399).\n* **Jan 21, 12:24 PM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/52399).', 'created_at': datetime.datetime(2025, 1, 21, 17, 24, 15, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-20 18:18:39 UTC): * **#52399** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52399?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52399?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-20 19:17:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13373_tests-21b699b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52399?repo=metabase/metabase&commitHash=21b699b9bd3c5657ca3cc3fec8b3aab836709963&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf (Issue Creator) on (2025-01-21 17:24:15 UTC): ### Merge activity

* **Jan 21, 12:24 PM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/52399).
* **Jan 21, 12:24 PM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/52399).

"
2800016194,pull_request,closed,,[Cards in Dashboards] Move dashboard question copy fix,"### Description

Adds a `?` to the end of this modal's title:

![CleanShot 2025-01-20 at 11 51 50@2x](https://github.com/user-attachments/assets/d1a66b1a-1dc5-4e9e-beea-9fe41b6a8b91)",sloansparger,2025-01-20 17:53:02+00:00,['sloansparger'],2025-01-27 22:11:16+00:00,2025-01-20 20:28:08+00:00,https://github.com/metabase/metabase/pull/52398,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603015625, 'issue_id': 2800016194, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `80968073fa4fee56a14be8ca10553e9fc0dae0cd-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12873430299?pr=52398)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 20, 18, 9, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603066696, 'issue_id': 2800016194, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13457_tests-80968073-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=FAILURE&runId=71e312cb-3443-5766-b4d3-0ee6660d8bed) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 18, 47, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 18:09:33 UTC): ## e2e tests failed on `80968073fa4fee56a14be8ca10553e9fc0dae0cd-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12873430299?pr=52398)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-20 18:47:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13457_tests-80968073-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment&runConclusion=FAILURE&runId=71e312cb-3443-5766-b4d3-0ee6660d8bed) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52398?repo=metabase/metabase&commitHash=80968073fa4fee56a14be8ca10553e9fc0dae0cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799980993,pull_request,closed,,Trim tab names on blur (closes #50797),"Closes #50797

### Description

Just like we do when a user tries to enter an empty string as a tab's name, if they try to enter a name containing only spaces it reverts to the original tab name on blur/enter.

I also fixed the test file (wrapping things in `act()` to avoid errors when running tests and making them sturdier).

### How to verify

 1. create a dashboard
 2. add a tab
 3. put a space character
 4. save
 5. the tab name should revert to whatever it was before

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",lorem--ipsum,2025-01-20 17:32:10+00:00,['lorem--ipsum'],2025-01-23 09:02:19+00:00,2025-01-23 09:02:17+00:00,https://github.com/metabase/metabase/pull/52397,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team'), ('ready-for-review', 'Marks a PR done-ish. Good for filtering')]","[{'comment_id': 2603032539, 'issue_id': 2799980993, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23079_tests-81b1eff5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=FAILURE&runId=a982243d-65bf-5b91-8563-086a4b5e9878) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 18, 22, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 18:22:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23079_tests-81b1eff5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment&runConclusion=FAILURE&runId=a982243d-65bf-5b91-8563-086a4b5e9878) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52397?repo=metabase/metabase&commitHash=81b1eff5df5d2d4110e6271ace99f72bc9eec185&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799979551,pull_request,closed,,"🤖 backported ""Proper team for Sébastien""",#52326,github-automation-metabase,2025-01-20 17:31:15+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-01-20 17:32:45+00:00,2025-01-20 17:32:44+00:00,https://github.com/metabase/metabase/pull/52396,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2799976245,pull_request,closed,,[Cards in Dashboards] Update question save location filter to exclude items without can_write access,"### Description

Prevents the user from seeing destinations that they do not have write access to within the recents tab of the move modal and save question modal.

### How to verify

- Sign in as an admin
- Visit the usage analytics collection and one of its dashboards
- Create a new question and select where to save it
- You should no longer see usage analytics items within the recents tab but you should see other items

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-20 17:29:06+00:00,['sloansparger'],2025-01-27 22:10:45+00:00,2025-01-23 02:04:04+00:00,https://github.com/metabase/metabase/pull/52395,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2603028149, 'issue_id': 2799976245, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13356_tests-48aa77f6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 18, 18, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 18:18:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13356_tests-48aa77f6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52395?repo=metabase/metabase&commitHash=48aa77f60a255a8af190007a65cb10062b2473a6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799801698,pull_request,closed,,Close Stale PRs,"# Description

Currently, we have 371 open PRs. too many!

- If any PR has not been updated in 90 days, add a ""Stale"" label and a comment that it will be closed in 14 days if there's no new activity
- After 14 more days, the PR will be closed (but can be revived if we ever want!)
- Currently, this action will close 182 stale PRs",iethree,2025-01-20 16:29:49+00:00,['iethree'],2025-01-27 22:11:14+00:00,2025-01-20 23:01:19+00:00,https://github.com/metabase/metabase/pull/52394,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('.Team/DevEx', '')]",[],
2799792291,pull_request,closed,,docs: QB UI updates,Updating images and articles for QB UI updates. Also deleted some unused images.,alexyarosh,2025-01-20 16:27:29+00:00,['alexyarosh'],2025-01-27 22:11:11+00:00,2025-01-21 15:38:57+00:00,https://github.com/metabase/metabase/pull/52393,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2799714658,pull_request,closed,,tests(e2e): disable cypress_split summary,"Disable summary logs in annotations, I didn't find it useful, but it makes the page heavier


https://github.com/user-attachments/assets/7ca332c0-14c9-483c-82ad-c02dc9042c7a

",uladzimirdev,2025-01-20 16:06:42+00:00,['uladzimirdev'],2025-01-27 22:11:04+00:00,2025-01-21 21:25:08+00:00,https://github.com/metabase/metabase/pull/52392,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2603170911, 'issue_id': 2799714658, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3781_tests-038f3eea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=FAILURE&runId=1e19a944-a2ce-5c82-b2bc-d5f95d0f8ae5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 20, 13, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603170912, 'issue_id': 2799714658, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3674_tests-d6e0cc5f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the \'dataset\' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE&runId=979cc3b8-b0ce-5a06-8bd3-f3747237e15f) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE&runId=251d4964-8468-56e8-b4f5-db2bcf424399) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 20, 13, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604765980, 'issue_id': 2799714658, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `038f3eea114bbf314e9fe62a19af530b06074da6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12887939347?pr=52392)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 21, 13, 39, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 20:13:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3781_tests-038f3eea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment&runConclusion=FAILURE&runId=1e19a944-a2ce-5c82-b2bc-d5f95d0f8ae5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=038f3eea114bbf314e9fe62a19af530b06074da6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-20 20:13:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3674_tests-d6e0cc5f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE&runId=979cc3b8-b0ce-5a06-8bd3-f3747237e15f) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment&runConclusion=FAILURE&runId=251d4964-8468-56e8-b4f5-db2bcf424399) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52392?repo=metabase/metabase&commitHash=d6e0cc5f9b3938135de7715dc342885dde4f0a6d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 13:39:29 UTC): ## e2e tests failed on `038f3eea114bbf314e9fe62a19af530b06074da6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12887939347?pr=52392)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)

"
2799681373,pull_request,closed,,Add context query remarks for BigQuery,Just copying what's on the snowflake one,paoliniluis,2025-01-20 15:57:44+00:00,['paoliniluis'],2025-01-20 19:45:30+00:00,2025-01-20 18:50:55+00:00,https://github.com/metabase/metabase/pull/52391,"[('Database/BigQuery', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2602891192, 'issue_id': 2799681373, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111947_tests-021fe43e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>remark-test</code> | The query result does not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=59569b2f-8fac-50d8-a656-877a081db26b) |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=ac13d4fc-4761-5607-80d0-182dc82d64a3) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>filter-by-last-edited-at-test</code> | The expected result of the search query did not match the actual result, which is an empty set. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=3ee19fd9-e552-5cad-a783-394493d80394) |\n| <code>created-at-api-test</code> | Expected a set of available models to be equal to a specific set, but actual set was empty. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=5a21d4ce-30db-56d8-8b9d-981ba24f9d5a) |\n| <code>available-models-test</code> | The expected result of the query did not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=7e21e478-1497-55ad-a4e4-da6f54c7f13e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 20, 16, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602962375, 'issue_id': 2799681373, 'author': 'paoliniluis', 'body': 'yup, it works \r\n![image](https://github.com/user-attachments/assets/aa1c9156-260a-4dfb-8629-97df3ce83b0c)', 'created_at': datetime.datetime(2025, 1, 20, 17, 33, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603025721, 'issue_id': 2799681373, 'author': 'luizarakaki', 'body': ""@paoliniluis what's the reason to add this?\r\n\r\nMy concern is that DW cost management is a paid feature and adding these comments to all queries will enable working around our features"", 'created_at': datetime.datetime(2025, 1, 20, 18, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603042706, 'issue_id': 2799681373, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `021fe43e764177b7a3160dc381ae2c9d8de3347c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12873639610?pr=52391)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 20, 18, 29, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 16:53:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111947_tests-021fe43e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>remark-test</code> | The query result does not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=59569b2f-8fac-50d8-a656-877a081db26b) |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=ac13d4fc-4761-5607-80d0-182dc82d64a3) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>filter-by-last-edited-at-test</code> | The expected result of the search query did not match the actual result, which is an empty set. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=3ee19fd9-e552-5cad-a783-394493d80394) |
| <code>created-at-api-test</code> | Expected a set of available models to be equal to a specific set, but actual set was empty. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=5a21d4ce-30db-56d8-8b9d-981ba24f9d5a) |
| <code>available-models-test</code> | The expected result of the query did not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment&runConclusion=FAILURE&runId=7e21e478-1497-55ad-a4e4-da6f54c7f13e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52391?repo=metabase/metabase&commitHash=021fe43e764177b7a3160dc381ae2c9d8de3347c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

paoliniluis (Issue Creator) on (2025-01-20 17:33:48 UTC): yup, it works 
![image](https://github.com/user-attachments/assets/aa1c9156-260a-4dfb-8629-97df3ce83b0c)

luizarakaki on (2025-01-20 18:16:54 UTC): @paoliniluis what's the reason to add this?

My concern is that DW cost management is a paid feature and adding these comments to all queries will enable working around our features

github-actions[bot] on (2025-01-20 18:29:59 UTC): ## e2e tests failed on `021fe43e764177b7a3160dc381ae2c9d8de3347c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12873639610?pr=52391)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2799587245,pull_request,closed,,"🤖 backported ""fix(sdk): disable dashboard card click behavior and prevent url formatting""",#51290,github-automation-metabase,2025-01-20 15:32:38+00:00,"['heypoom', 'github-automation-metabase']",2025-01-20 16:52:47+00:00,2025-01-20 16:08:52+00:00,https://github.com/metabase/metabase/pull/52390,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602721966, 'issue_id': 2799587245, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 524c8f817c0acc5b01466abb0ea25b71741071d7...0a65552fd122b5dd75455f8869c53ba1af83717b.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/action.js |', 'created_at': datetime.datetime(2025, 1, 20, 15, 34, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602747582, 'issue_id': 2799587245, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0a65552fd122b5dd75455f8869c53ba1af83717b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12871306031?pr=52390)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 20, 15, 45, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602814054, 'issue_id': 2799587245, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51871_tests-0a65552f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=FAILURE&runId=66743bf3-099b-51a6-ae98-222a2a3cc2f2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 20, 16, 14, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 15:34:08 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 524c8f817c0acc5b01466abb0ea25b71741071d7...0a65552fd122b5dd75455f8869c53ba1af83717b.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/action.js |

github-actions[bot] on (2025-01-20 15:45:09 UTC): ## e2e tests failed on `0a65552fd122b5dd75455f8869c53ba1af83717b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12871306031?pr=52390)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-20 16:14:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51871_tests-0a65552f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment&runConclusion=FAILURE&runId=66743bf3-099b-51a6-ae98-222a2a3cc2f2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52390?repo=metabase/metabase&commitHash=0a65552fd122b5dd75455f8869c53ba1af83717b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799548761,pull_request,closed,,fix: update labels in the exclude date options,"Closes https://github.com/metabase/metabase/issues/26771

### Description

tiny change to make double negotiation more clear

### How to verify

- open some question
- go to visualization
- click on ""filter""
- select `...` in the filter modal near a date column
- choose exclude in the popover
- last two values must be ""Empty values"", ""Not empty values""
- click on ""Empty values"" -> ""Is not empty"" label should be shown

### Demo


https://github.com/user-attachments/assets/a87e36d5-d17d-481b-adbb-68b757153d60



### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",uladzimirdev,2025-01-20 15:19:05+00:00,['uladzimirdev'],2025-01-21 18:43:22+00:00,2025-01-21 18:43:19+00:00,https://github.com/metabase/metabase/pull/52389,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2602813699, 'issue_id': 2799548761, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13358_tests-22470e19-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 16, 14, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604847249, 'issue_id': 2799548761, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8590ba6448c737cf46be09ac562745af50d0718d...22470e198443903d82927d390bd6b74d2833b8a8.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 21, 14, 12, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 16:14:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13358_tests-22470e19-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52389?repo=metabase/metabase&commitHash=22470e198443903d82927d390bd6b74d2833b8a8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 14:12:36 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8590ba6448c737cf46be09ac562745af50d0718d...22470e198443903d82927d390bd6b74d2833b8a8.

No notifications.

"
2799544629,pull_request,closed,,"🤖 backported ""Use new search in tests, if available""","  #51277
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-20 15:17:37+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-21 13:20:02+00:00,2025-01-21 13:20:02+00:00,https://github.com/metabase/metabase/pull/52388,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2604718094, 'issue_id': 2799544629, 'author': 'crisptrutski', 'body': 'dupe of https://github.com/metabase/metabase/pull/52387', 'created_at': datetime.datetime(2025, 1, 21, 13, 20, 2, tzinfo=datetime.timezone.utc)}]","crisptrutski (Assginee) on (2025-01-21 13:20:02 UTC): dupe of https://github.com/metabase/metabase/pull/52387

"
2799533856,pull_request,closed,,"🤖 backported ""Use new search in tests, if available""","  #51277

- H2 search engine
- Moving API test to use new search
- Misc subtle fixes

Unlike the original, this keeps Old Search as the default, and therefore the e2e tests are running with it as well.",github-automation-metabase,2025-01-20 15:13:52+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-22 12:24:59+00:00,2025-01-22 12:22:13+00:00,https://github.com/metabase/metabase/pull/52387,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602769137, 'issue_id': 2799533856, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122441_tests-e32ae4e5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=FAILURE&runId=d7327846-94cc-5305-96cb-8b9bd527f1c0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 15, 54, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606814707, 'issue_id': 2799533856, 'author': 'crisptrutski', 'body': ""There are two e2e tests broken with new search, but since we want to keep old search the default I'm going to just merge as is and fix those tests in a follow up PR. Neither looked like a show stopper."", 'created_at': datetime.datetime(2025, 1, 22, 10, 10, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 15:54:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122441_tests-e32ae4e5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment&runConclusion=FAILURE&runId=d7327846-94cc-5305-96cb-8b9bd527f1c0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52387?repo=metabase/metabase&commitHash=e32ae4e56668fbe4b8b75114050f653fe0531106&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Assginee) on (2025-01-22 10:10:51 UTC): There are two e2e tests broken with new search, but since we want to keep old search the default I'm going to just merge as is and fix those tests in a follow up PR. Neither looked like a show stopper.

"
2799475008,pull_request,closed,,"🤖 backported ""feat(sdk): granular documentation links in usage problem banner""",#52257,github-automation-metabase,2025-01-20 14:54:00+00:00,"['heypoom', 'github-automation-metabase']",2025-01-20 16:12:02+00:00,2025-01-20 15:21:29+00:00,https://github.com/metabase/metabase/pull/52386,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602751575, 'issue_id': 2799475008, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13631_tests-bdc29092-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 15, 46, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 15:46:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13631_tests-bdc29092-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52386?repo=metabase/metabase&commitHash=bdc29092eb50add4837059377de4fa63a6b58e8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799411645,pull_request,open,,[search] mysql support for appdb engine,Almost a carbon copy of h2 code.,piranha,2025-01-20 14:26:46+00:00,['piranha'],2025-01-29 15:37:52+00:00,,https://github.com/metabase/metabase/pull/52384,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2602688522, 'issue_id': 2799411645, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111628_tests-1d1320b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/496-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/891-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>cumulative count - issue 33330 ""before each"" hook for ""should still work after turning a question into model (metabase\\#33330-1)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=80a12c9b-f741-5e73-b873-e64111a7e144) |\n| <code>issue 42355 ""before each"" hook for ""should allow overriding database fields for models with manually ordered columns (metabase\\#42355)""</code> | The \\`cy.request()\\` command timed out waiting for a response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=94aeec78-fcdb-5e75-bcdf-0098c1bab4d6) |\n| <code>scenarios > visualizations > gauge chart ""before each"" hook for ""should not rerender on gauge arc hover (metabase\\#15980)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=7939f14e-0713-5ad3-9926-2d441ab641fd) |\n| <code>issue 40252 ""before each"" hook for ""shouldn\'t crash during save of metadata (metabase\\#40252)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=49ee0b9d-fa4d-591b-b3d1-0c507f1917cf) |\n\n[... and 492 more](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>multiple-limits</code> | failure\\_text: offset\\_test.clj:321expected: (= 1 result-count)  actual: (not (= 1 7)) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=bd2f83a2-7ad9-5aef-a0d1-5710baaec855) |\n| <code>multiple-limits</code> | failure\\_text: offset\\_test.clj:321expected: (= 1 result-count)  actual: (not (= 1 7)) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=96a3a249-0701-5a5f-8a19-914dccfcdf0c) |\n| <code>impersonated permission admins impersonated users have limited access</code> | The test timed out while trying to find a label with the text \'QA Postgres12\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=d5fc6f0c-98bf-5975-abd9-d55b24616c72) |\n| <code>multiple-limits</code> | failure\\_text: offset\\_test.clj:321expected: (= 1 result-count)  actual: (not (= 1 7)) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=04f5444c-8e72-5244-a626-93067ea8dace) |\n\n[... and 887 more](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 15, 19, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604650615, 'issue_id': 2799411645, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `1d1320b2ad33da0f58f337a3dc1273b2065e0b00-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12887148872?pr=52384)\n\n  File | Test Name\n  ---- | ---------\n  `create-queries.cy.spec.js` | scenarios > admin > permissions > create queries > query builder and native > should allow setting create queries to 'query builder and native' in group view"", 'created_at': datetime.datetime(2025, 1, 21, 12, 51, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 15:19:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111628_tests-1d1320b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/496-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/891-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>cumulative count - issue 33330 ""before each"" hook for ""should still work after turning a question into model (metabase\#33330-1)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=80a12c9b-f741-5e73-b873-e64111a7e144) |
| <code>issue 42355 ""before each"" hook for ""should allow overriding database fields for models with manually ordered columns (metabase\#42355)""</code> | The \`cy.request()\` command timed out waiting for a response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=94aeec78-fcdb-5e75-bcdf-0098c1bab4d6) |
| <code>scenarios > visualizations > gauge chart ""before each"" hook for ""should not rerender on gauge arc hover (metabase\#15980)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=7939f14e-0713-5ad3-9926-2d441ab641fd) |
| <code>issue 40252 ""before each"" hook for ""shouldn't crash during save of metadata (metabase\#40252)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=49ee0b9d-fa4d-591b-b3d1-0c507f1917cf) |

[... and 492 more](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>multiple-limits</code> | failure\_text: offset\_test.clj:321expected: (= 1 result-count)  actual: (not (= 1 7)) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=bd2f83a2-7ad9-5aef-a0d1-5710baaec855) |
| <code>multiple-limits</code> | failure\_text: offset\_test.clj:321expected: (= 1 result-count)  actual: (not (= 1 7)) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=96a3a249-0701-5a5f-8a19-914dccfcdf0c) |
| <code>impersonated permission admins impersonated users have limited access</code> | The test timed out while trying to find a label with the text 'QA Postgres12'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=d5fc6f0c-98bf-5975-abd9-d55b24616c72) |
| <code>multiple-limits</code> | failure\_text: offset\_test.clj:321expected: (= 1 result-count)  actual: (not (= 1 7)) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE&runId=04f5444c-8e72-5244-a626-93067ea8dace) |

[... and 887 more](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52384?repo=metabase/metabase&commitHash=1d1320b2ad33da0f58f337a3dc1273b2065e0b00&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 12:51:09 UTC): ## e2e tests failed on `1d1320b2ad33da0f58f337a3dc1273b2065e0b00-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12887148872?pr=52384)

  File | Test Name
  ---- | ---------
  `create-queries.cy.spec.js` | scenarios > admin > permissions > create queries > query builder and native > should allow setting create queries to 'query builder and native' in group view

"
2799405450,pull_request,closed,,Add wotbrew to team files,,wotbrew,2025-01-20 14:24:09+00:00,['wotbrew'],2025-01-21 09:47:59+00:00,2025-01-21 09:44:51+00:00,https://github.com/metabase/metabase/pull/52383,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]",[],
2799207265,pull_request,closed,,"🤖 backported ""Remove deprecated open native editor helper""","  #51707
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-20 12:58:28+00:00,"['filiphric', 'github-automation-metabase']",2025-01-21 15:16:00+00:00,2025-01-21 15:16:00+00:00,https://github.com/metabase/metabase/pull/52382,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602487172, 'issue_id': 2799207265, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-4f9b8f52-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 13, 53, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 13:53:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-4f9b8f52-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52382?repo=metabase/metabase&commitHash=4f9b8f52e8a153ba951e64ac9bf393845e7cfe21&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799145288,pull_request,closed,,"🤖 backported ""Remove stray file that got checked in""",#52336,github-automation-metabase,2025-01-20 12:31:26+00:00,"['rafpaf', 'github-automation-metabase']",2025-01-20 13:26:54+00:00,2025-01-20 12:32:52+00:00,https://github.com/metabase/metabase/pull/52379,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602426761, 'issue_id': 2799145288, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-367d2c46-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 13, 26, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 13:26:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-367d2c46-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52379?repo=metabase/metabase&commitHash=367d2c46232f6d6def70a50b9db682d08bece49f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799125970,pull_request,open,,Provide proper scoping for box-sizing property,"Provide proper scoping for box-sizing property

Fixes https://github.com/metabase/metabase/issues/50673

So as it was suggested by @npretto, we can try to set `content-box` value globally for all elements and then still override it to `border-box` for everything we need.

But we also should respect different defaults:
- mostly it defaults to `content-box`
- but according to https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing, `box-sizing: border-box` is the default styling that browsers use for the [table](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table), [select](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select), and [button](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button) elements, and for [input](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input) elements whose type is [radio](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio), [checkbox](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox), [reset](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/reset), [button](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button), [submit](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/submit), [color](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color), or [search](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/search).

# How to verify
- the main thing is to be sure that this change does not introduce any unexpected visual regression

### To test the actual fix:
- Add the following styles on the site, that you use for embedding SDK testing
```
*, *::before, *::after {
  box-sizing: border-box
}
```

-  Embed anything with an SDK, and disable SDK embedding in admin settings.
- The error banner should have a visible icon",sanex3339,2025-01-20 12:22:52+00:00,['sanex3339'],2025-01-21 15:36:55+00:00,,https://github.com/metabase/metabase/pull/52378,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2605028406, 'issue_id': 2799125970, 'author': 'heypoom', 'body': '@sanex3339 hey, is this PR ready to review? it has ""Embedding"" and ""core-frontend-dashviz"" in reviewers but seems to be in Draft state', 'created_at': datetime.datetime(2025, 1, 21, 15, 22, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605067019, 'issue_id': 2799125970, 'author': 'sanex3339', 'body': 'Not ready yet.', 'created_at': datetime.datetime(2025, 1, 21, 15, 36, 41, tzinfo=datetime.timezone.utc)}]","heypoom on (2025-01-21 15:22:04 UTC): @sanex3339 hey, is this PR ready to review? it has ""Embedding"" and ""core-frontend-dashviz"" in reviewers but seems to be in Draft state

sanex3339 (Issue Creator) on (2025-01-21 15:36:41 UTC): Not ready yet.

"
2799114575,pull_request,closed,,"🤖 backported ""Fix error button hover color""","  #52373
There was a conflict because this line wasn't backported.
https://github.com/metabase/metabase/blob/fbf0e7a3ad35fdd78fc56554fa6600c1157f4fe5/loki.config.js#L10",github-automation-metabase,2025-01-20 12:17:29+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-20 13:54:59+00:00,2025-01-20 13:05:17+00:00,https://github.com/metabase/metabase/pull/52376,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602302785, 'issue_id': 2799114575, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 125e856a9e2ba43da386135c12aef6106642b6ad...5b63e0d79f02c414f6fe550a8f632f72e3b18e9f.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 20, 12, 29, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602324179, 'issue_id': 2799114575, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5b63e0d79f02c414f6fe550a8f632f72e3b18e9f-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12868017866?pr=52376)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 12, 39, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602399598, 'issue_id': 2799114575, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-8c0d8113-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=FAILURE&runId=ca13cde2-d918-5f52-851f-0e225608fd12) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 13, 14, 14, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 12:29:58 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 125e856a9e2ba43da386135c12aef6106642b6ad...5b63e0d79f02c414f6fe550a8f632f72e3b18e9f.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx |

github-actions[bot] on (2025-01-20 12:39:38 UTC): ## e2e tests failed on `5b63e0d79f02c414f6fe550a8f632f72e3b18e9f-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12868017866?pr=52376)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-20 13:14:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-8c0d8113-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment&runConclusion=FAILURE&runId=ca13cde2-d918-5f52-851f-0e225608fd12) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52376?repo=metabase/metabase&commitHash=8c0d8113683452089114c603460d07b68538b7b4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799063972,pull_request,closed,,[Notification] Card notification archive when send_once = true,"Epic: https://github.com/metabase/metabase/issues/50766

If a notification card is marked as send only once, we should archive it after the first successful send",qnkhuat,2025-01-20 11:55:26+00:00,"['piranha', 'qnkhuat']",2025-02-05 02:45:46+00:00,2025-02-05 02:45:44+00:00,https://github.com/metabase/metabase/pull/52375,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2602325967, 'issue_id': 2799063972, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95456_tests-7521cf5e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/12-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 33327 should recover from a visualization error (metabase\\#33327)</code> | The \\`cy.find()\\` command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=ac59ec2e-0c02-5735-86ba-a8122aa20001) |\n| <code>should not redirect users to other pages when linking an entity (metabase\\#35037) should not redirect users to search item</code> | The test timed out while trying to find an element with data-testid ""search-results-list"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=b3b94b02-9dc4-5c21-9f70-0e5263f4ad06) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=f2b922b3-9d68-5899-a6cc-f86c9b8f5a01) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=0506ee7a-41f7-5198-b8c8-fd50df448514) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=6fb350c5-4262-5ef0-8b17-72a96a02fac2) |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=9f0242b9-6aef-5040-b391-253c9bb40d1a) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 12, 40, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607154150, 'issue_id': 2799063972, 'author': 'crisptrutski', 'body': ""Further to Sanya's point, I would be more comfortable if a notification also implicitly deleted its trigger if somehow triggered for an inactive one. \r\n\r\nWhile I think the trigger should be robust to races, or lingering triggers not deleted due to issues, there's not zero cost so they're worth cleaning up. \r\n\r\nMaybe this implicit deletion is enough and we can skip doing it synchronously in the hook. In general having non-database side effects in hooks is not a great idea, as the database changes might be rolled back if the transaction fails. They can also make the API slower."", 'created_at': datetime.datetime(2025, 1, 22, 12, 44, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608947766, 'issue_id': 2799063972, 'author': 'qnkhuat', 'body': ""I think having triggers skip if the notification makes sense but it's a fallback solution. \r\nWe've already used the hooks to manage the quartz triggers in after-insert and before update of :model/NotificationSubscription, furthermore we'll still need to handle cases where notifications are deactivated and add back the trigger any way.\r\n\r\nSo I think it's more organized to manage the triggers at the model level."", 'created_at': datetime.datetime(2025, 1, 23, 6, 14, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629890055, 'issue_id': 2799063972, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `7521cf5e4fc1ead0409db28767a74d05157064de-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13106277603?pr=52375)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard.cy.spec.js` | scenarios > dashboard > create > adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase#26826)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results\n`reproductions-2.cy.spec.js` | issue 36669 > should be able to change question data source to raw data after selecting saved question (metabase#36669)\n`dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings\n`native-reproductions.cy.spec.ts` | issue 33327 > should recover from a visualization error (metabase#33327)"", 'created_at': datetime.datetime(2025, 2, 3, 4, 29, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 12:40:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95456_tests-7521cf5e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/12-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 33327 should recover from a visualization error (metabase\#33327)</code> | The \`cy.find()\` command timed out because the page updated and the element was removed from the DOM. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=ac59ec2e-0c02-5735-86ba-a8122aa20001) |
| <code>should not redirect users to other pages when linking an entity (metabase\#35037) should not redirect users to search item</code> | The test timed out while trying to find an element with data-testid ""search-results-list"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=b3b94b02-9dc4-5c21-9f70-0e5263f4ad06) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=f2b922b3-9d68-5899-a6cc-f86c9b8f5a01) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=0506ee7a-41f7-5198-b8c8-fd50df448514) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=6fb350c5-4262-5ef0-8b17-72a96a02fac2) |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE&runId=9f0242b9-6aef-5040-b391-253c9bb40d1a) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52375?repo=metabase/metabase&commitHash=7521cf5e4fc1ead0409db28767a74d05157064de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski on (2025-01-22 12:44:47 UTC): Further to Sanya's point, I would be more comfortable if a notification also implicitly deleted its trigger if somehow triggered for an inactive one. 

While I think the trigger should be robust to races, or lingering triggers not deleted due to issues, there's not zero cost so they're worth cleaning up. 

Maybe this implicit deletion is enough and we can skip doing it synchronously in the hook. In general having non-database side effects in hooks is not a great idea, as the database changes might be rolled back if the transaction fails. They can also make the API slower.

qnkhuat (Issue Creator) on (2025-01-23 06:14:31 UTC): I think having triggers skip if the notification makes sense but it's a fallback solution. 
We've already used the hooks to manage the quartz triggers in after-insert and before update of :model/NotificationSubscription, furthermore we'll still need to handle cases where notifications are deactivated and add back the trigger any way.

So I think it's more organized to manage the triggers at the model level.

github-actions[bot] on (2025-02-03 04:29:02 UTC): ## e2e tests failed on `7521cf5e4fc1ead0409db28767a74d05157064de-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13106277603?pr=52375)

  File | Test Name
  ---- | ---------
  `dashboard.cy.spec.js` | scenarios > dashboard > create > adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase#26826)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results
`reproductions-2.cy.spec.js` | issue 36669 > should be able to change question data source to raw data after selecting saved question (metabase#36669)
`dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings
`native-reproductions.cy.spec.ts` | issue 33327 > should recover from a visualization error (metabase#33327)

"
2799037235,pull_request,closed,,[Notification] POST /api/notification/send do not requires creator_id,Similar to https://github.com/metabase/metabase/pull/51676 but for POST /notification/send,qnkhuat,2025-01-20 11:42:58+00:00,['qnkhuat'],2025-01-22 16:15:42+00:00,2025-01-22 14:45:54+00:00,https://github.com/metabase/metabase/pull/52374,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2602269310, 'issue_id': 2799037235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97136_tests-77a361b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return the expected results for the test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=34b6a921-e81c-5655-9ce7-adb42577c2c8) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=94d5beda-30c1-5a79-93fa-ac7b475cd6e2) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=e9b945de-a2f3-5e3a-ae77-7928b58c857e) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=4f465d92-9e76-5a9b-89e8-a873ced3cf9a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 12, 15, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 12:15:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97136_tests-77a361b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return the expected results for the test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=34b6a921-e81c-5655-9ce7-adb42577c2c8) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=94d5beda-30c1-5a79-93fa-ac7b475cd6e2) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=e9b945de-a2f3-5e3a-ae77-7928b58c857e) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment&runConclusion=FAILURE&runId=4f465d92-9e76-5a9b-89e8-a873ced3cf9a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52374?repo=metabase/metabase&commitHash=77a361b861b3b7ee30ced1fb5e356c2be304b3fe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2799002240,pull_request,closed,,Fix error button hover color,"Closes https://github.com/metabase/metabase/issues/52371

### Description

Fix a regression introduced by https://github.com/metabase/metabase/pull/52029. This was due to the fact that `theme.fn.rgba` doesn't expect color format outside HEX.

https://github.com/mantinedev/mantine/blob/84e6d7177d221be47af5294b74e6dcdac8eb4f13/src/mantine-styles/src/theme/functions/fns/rgba/rgba.test.ts#L4

Since, we want to keep using `hsla`, I use the existing `color` lib that already takes care of all color formats.

### How to verify

1. Run `yarn storybook` and visit http://localhost:6006/?path=/story/buttons-button--compact-size&args=color:error
2. Hover over any buttons with red background

### Demo
The snapshot is set to have the first button hovered.

#### Snapshot after the fix
![chrome_laptop_Buttons_Button_Compact_size_custom_color-2](https://github.com/user-attachments/assets/5a0b9943-d188-4561-a454-2b659c21f3a0)


#### Snapshot before the fix
![chrome_laptop_Buttons_Button_Compact_size_custom_color](https://github.com/user-attachments/assets/c3737bd4-6a20-4f33-9ef4-35f82824d516)



### Checklist

- [x] Tests have been added/updated to cover changes in this PR (Loki snapshot)
",WiNloSt,2025-01-20 11:27:23+00:00,['WiNloSt'],2025-01-20 13:12:21+00:00,2025-01-20 12:16:38+00:00,https://github.com/metabase/metabase/pull/52373,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2602171980, 'issue_id': 2799002240, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c6bd90065bde8c5e2319f92c95eab4d5cedfbde8...adf6ce3c76707952d934d338041b4ccbadf2cd8d.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 20, 11, 28, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602172078, 'issue_id': 2799002240, 'author': 'WiNloSt', 'body': 'This needs to be backported because the bug is already existing in 52.6', 'created_at': datetime.datetime(2025, 1, 20, 11, 28, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602193355, 'issue_id': 2799002240, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `adf6ce3c76707952d934d338041b4ccbadf2cd8d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12867021461?pr=52373)\n\n  File | Test Name\n  ---- | ---------\n  `native_subquery.cy.spec.js` | (_flaky_) scenarios > question > native subquery > autocomplete should complete question slugs inside template tags', 'created_at': datetime.datetime(2025, 1, 20, 11, 38, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602269631, 'issue_id': 2799002240, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40839_tests-adf6ce3c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE&runId=15cd4319-85cf-53a5-b32d-7adfe8fbbf7f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE&runId=c2995731-4f0b-5415-8d72-4679a690c318) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE&runId=a58739ca-0d04-51cb-ba89-85e4cc323e5c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 12, 15, 36, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 11:28:51 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c6bd90065bde8c5e2319f92c95eab4d5cedfbde8...adf6ce3c76707952d934d338041b4ccbadf2cd8d.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx |

WiNloSt (Issue Creator) on (2025-01-20 11:28:53 UTC): This needs to be backported because the bug is already existing in 52.6

github-actions[bot] on (2025-01-20 11:38:56 UTC): ## e2e tests failed on `adf6ce3c76707952d934d338041b4ccbadf2cd8d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12867021461?pr=52373)

  File | Test Name
  ---- | ---------
  `native_subquery.cy.spec.js` | (_flaky_) scenarios > question > native subquery > autocomplete should complete question slugs inside template tags

trunk-io[bot] on (2025-01-20 12:15:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40839_tests-adf6ce3c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE&runId=15cd4319-85cf-53a5-b32d-7adfe8fbbf7f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE&runId=c2995731-4f0b-5415-8d72-4679a690c318) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment&runConclusion=FAILURE&runId=a58739ca-0d04-51cb-ba89-85e4cc323e5c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52373?repo=metabase/metabase&commitHash=adf6ce3c76707952d934d338041b4ccbadf2cd8d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2798899813,pull_request,closed,,"🤖 backported ""Update static embedding code template for nodejs""",#52366,github-automation-metabase,2025-01-20 10:46:16+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-20 11:48:39+00:00,2025-01-20 11:18:35+00:00,https://github.com/metabase/metabase/pull/52372,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2602098616, 'issue_id': 2798899813, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a7105fe7da38a59e57c6f3e112437f8580b03d0c-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12866320051?pr=52372)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 10, 56, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602143109, 'issue_id': 2798899813, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13415_tests-a7105fe7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=FAILURE&runId=7d748894-202b-5dac-b53b-08128a66f2c3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 11, 15, 34, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 10:56:43 UTC): ## e2e tests failed on `a7105fe7da38a59e57c6f3e112437f8580b03d0c-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12866320051?pr=52372)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-20 11:15:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13415_tests-a7105fe7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment&runConclusion=FAILURE&runId=7d748894-202b-5dac-b53b-08128a66f2c3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52372?repo=metabase/metabase&commitHash=a7105fe7da38a59e57c6f3e112437f8580b03d0c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2798854846,pull_request,closed,,Fix - Default names for date and number filters are off,"Fixes #51996

### Description

Changes default name of date filter from ""All options"" to ""Date"".
Changes default name of number filter from ""Equal to"" to ""Number"".

No new tests - this already has coverage (as evidenced by updated tests).

### How to verify

For both dashboard filters and native editor filters:
- Filter names are as specified in PR description
- Filter operator names didn't change
",kamilmielnik,2025-01-20 10:28:51+00:00,['kamilmielnik'],2025-01-22 07:39:26+00:00,2025-01-22 07:39:24+00:00,https://github.com/metabase/metabase/pull/52369,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2602142205, 'issue_id': 2798854846, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41051_tests-bf230612-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 11, 15, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 11:15:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41051_tests-bf230612-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52369?repo=metabase/metabase&commitHash=bf2306124f4863dfdffe964b3d8b32e7b9679ca2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2798737792,pull_request,closed,,Fix passing a font for static embedded question,"Fix passing a font for static embedded question

Fixes https://github.com/metabase/metabase/issues/45638

Before:

https://github.com/user-attachments/assets/1e72924d-0a5a-4773-9681-04f553adb0ef

After:

https://github.com/user-attachments/assets/390d66c7-290a-4a53-aa06-08b4f643d21e



# How to verify
## Preview
- Create any question or open an existing one
- Click the `Sharing/Embed`
- Select the `Static embedding`
- Select the `Look and feel` tab and click `preview`
- Now select any font via the `Font` dropdown
- Font should be changed in the `preview` window

## When embedded
- Now embed this question (locally) using code template from the preview window
- The passed `font` parameter should be applied to the embedded question",sanex3339,2025-01-20 09:43:32+00:00,['sanex3339'],2025-01-21 15:13:09+00:00,2025-01-21 15:01:18+00:00,https://github.com/metabase/metabase/pull/52368,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2601907619, 'issue_id': 2798737792, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 20, 9, 43, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601986139, 'issue_id': 2798737792, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13452_tests-98e3a8be-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard create adding question to one dashboard shouldn\'t affect previously visited unrelated dashboards (metabase\\#26826)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`saveDashboard-saveDashboardCards\\`, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE&runId=8963458b-50f0-597c-ae95-bd6ba22d2787) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE&runId=3d58b619-742c-5a9f-a30e-c354dd05065b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 10, 14, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604849318, 'issue_id': 2798737792, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `98e3a8bec654e759a0b691ec6bdd73038a530b82-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12888554682?pr=52368)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections', 'created_at': datetime.datetime(2025, 1, 21, 14, 13, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 09:43:54 UTC): <!---conventional commit reminder comment ID-->
@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-20 10:14:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13452_tests-98e3a8be-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard create adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase\#26826)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`saveDashboard-saveDashboardCards\`, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE&runId=8963458b-50f0-597c-ae95-bd6ba22d2787) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment&runConclusion=FAILURE&runId=3d58b619-742c-5a9f-a30e-c354dd05065b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52368?repo=metabase/metabase&commitHash=98e3a8bec654e759a0b691ec6bdd73038a530b82&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 14:13:22 UTC): ## e2e tests failed on `98e3a8bec654e759a0b691ec6bdd73038a530b82-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12888554682?pr=52368)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections

"
2798734494,pull_request,closed,,"🤖 backported ""Fix empty state color for accordion list""",#52308,github-automation-metabase,2025-01-20 09:42:07+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-20 11:06:27+00:00,2025-01-20 10:17:49+00:00,https://github.com/metabase/metabase/pull/52367,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2601932550, 'issue_id': 2798734494, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `88d1b9509e4ee9342523eb7d21d98370ad4e858a-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12865176098?pr=52367)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 9, 53, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601982026, 'issue_id': 2798734494, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51604_tests-88d1b950-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=FAILURE&runId=25759b45-38e2-5a7d-acee-4fc03dde3964) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 10, 13, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 09:53:15 UTC): ## e2e tests failed on `88d1b9509e4ee9342523eb7d21d98370ad4e858a-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12865176098?pr=52367)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-20 10:13:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51604_tests-88d1b950-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment&runConclusion=FAILURE&runId=25759b45-38e2-5a7d-acee-4fc03dde3964) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52367?repo=metabase/metabase&commitHash=88d1b9509e4ee9342523eb7d21d98370ad4e858a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2798573121,pull_request,closed,,Update static embedding code template for nodejs,"Update static embedding code template for nodejs

# How to verify:
- open any dashboard/question
- click the `sharing => embed` button and dropdown
- select the `Static embedding`
- the code template for nodejs should contain `const` declarations instead of `var` declarations

![image](https://github.com/user-attachments/assets/f28a3ac5-3bd4-4c59-b516-38e2921812c0)
",sanex3339,2025-01-20 08:35:29+00:00,['sanex3339'],2025-01-20 11:19:01+00:00,2025-01-20 10:45:22+00:00,https://github.com/metabase/metabase/pull/52366,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2601840482, 'issue_id': 2798573121, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13350_tests-2a7707fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=FAILURE&runId=a5086491-d891-536d-acf3-e87eb89673b7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 20, 9, 14, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601946809, 'issue_id': 2798573121, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `2a7707fa5ebc72d2b3d811de3a615e19bf331466-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12865263969?pr=52366)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard', 'created_at': datetime.datetime(2025, 1, 20, 9, 59, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 09:14:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13350_tests-2a7707fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment&runConclusion=FAILURE&runId=a5086491-d891-536d-acf3-e87eb89673b7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52366?repo=metabase/metabase&commitHash=2a7707fa5ebc72d2b3d811de3a615e19bf331466&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 09:59:04 UTC): ## e2e tests failed on `2a7707fa5ebc72d2b3d811de3a615e19bf331466-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12865263969?pr=52366)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard

"
2798467864,pull_request,closed,,"🤖 backported ""Fix - Custom Expression error can sometimes be slightly misleading""",#52274,github-automation-metabase,2025-01-20 07:51:49+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-20 09:16:57+00:00,2025-01-20 08:26:03+00:00,https://github.com/metabase/metabase/pull/52364,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2601681575, 'issue_id': 2798467864, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `816cdca6c858e6471fe939ac6c6f1742aa02678a-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12863357564?pr=52364)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 8, 2, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601764435, 'issue_id': 2798467864, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-b9f7989e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=FAILURE&runId=b656e08a-18b0-5b05-9acd-fd22ddf583d5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 8, 42, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 08:02:26 UTC): ## e2e tests failed on `816cdca6c858e6471fe939ac6c6f1742aa02678a-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12863357564?pr=52364)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-20 08:42:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-b9f7989e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment&runConclusion=FAILURE&runId=b656e08a-18b0-5b05-9acd-fd22ddf583d5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52364?repo=metabase/metabase&commitHash=b9f7989e506f8ff13fb71960e0cbd2a0c6269195&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2798467127,pull_request,closed,,"🤖 backported ""Repro #48358 - Incorrect Breakouts Generated for Multi Series Viz When Question is Edited""",#52313,github-automation-metabase,2025-01-20 07:51:26+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-20 10:23:27+00:00,2025-01-20 09:38:21+00:00,https://github.com/metabase/metabase/pull/52363,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2601764921, 'issue_id': 2798467127, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3476_tests-00c71b35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=FAILURE&runId=1bb0cade-e241-5b92-aacf-d9c764c047c0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 8, 42, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601839356, 'issue_id': 2798467127, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `00c71b35413470cf14cdac0106b980194c89d87a-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12864489449?pr=52363)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 9, 14, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 08:42:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3476_tests-00c71b35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment&runConclusion=FAILURE&runId=1bb0cade-e241-5b92-aacf-d9c764c047c0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52363?repo=metabase/metabase&commitHash=00c71b35413470cf14cdac0106b980194c89d87a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 09:14:16 UTC): ## e2e tests failed on `00c71b35413470cf14cdac0106b980194c89d87a-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12864489449?pr=52363)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

"
2798466579,pull_request,closed,,"🤖 backported ""Repro #46832 - Aggregation picker does not show all columns""",  #52311,github-automation-metabase,2025-01-20 07:51:09+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-20 10:24:03+00:00,2025-01-20 09:46:49+00:00,https://github.com/metabase/metabase/pull/52362,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2601767800, 'issue_id': 2798466579, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3476_tests-c4cf1cc6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=FAILURE&runId=93740443-44d8-5278-a3bf-2953fb3d36d9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 8, 43, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601858766, 'issue_id': 2798466579, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c4cf1cc64b9215e5bd766c2625b164ca02414e6b-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12864643181?pr=52362)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 9, 22, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 08:43:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3476_tests-c4cf1cc6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment&runConclusion=FAILURE&runId=93740443-44d8-5278-a3bf-2953fb3d36d9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52362?repo=metabase/metabase&commitHash=c4cf1cc64b9215e5bd766c2625b164ca02414e6b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 09:22:50 UTC): ## e2e tests failed on `c4cf1cc64b9215e5bd766c2625b164ca02414e6b-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12864643181?pr=52362)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

"
2798384316,pull_request,closed,,"🤖 backported ""Fix png image paths when rendered inside Embedding SDK""",#52201,github-automation-metabase,2025-01-20 07:09:24+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-20 08:18:35+00:00,2025-01-20 07:44:22+00:00,https://github.com/metabase/metabase/pull/52361,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2601563561, 'issue_id': 2798384316, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6d8e4da60ec7b5bd525764c383186c79771183d3...b799a24796876f20526f2f763fd17081395e019e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |', 'created_at': datetime.datetime(2025, 1, 20, 7, 10, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601605949, 'issue_id': 2798384316, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b799a24796876f20526f2f763fd17081395e019e-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12862794115?pr=52361)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 20, 7, 21, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601638391, 'issue_id': 2798384316, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51602_tests-b799a247-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=FAILURE&runId=bb83c283-8fb7-5ef1-9ec5-d743d7e345d5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 7, 40, 41, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 07:10:54 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6d8e4da60ec7b5bd525764c383186c79771183d3...b799a24796876f20526f2f763fd17081395e019e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |

github-actions[bot] on (2025-01-20 07:21:33 UTC): ## e2e tests failed on `b799a24796876f20526f2f763fd17081395e019e-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12862794115?pr=52361)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-20 07:40:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51602_tests-b799a247-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment&runConclusion=FAILURE&runId=bb83c283-8fb7-5ef1-9ec5-d743d7e345d5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52361?repo=metabase/metabase&commitHash=b799a24796876f20526f2f763fd17081395e019e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796991846,pull_request,closed,,[db-pool] Retry acquiring the connection one in tests to reduce flakiness,"I'm not sure if this will work, but I'm trying to address tests failures like this one: https://github.com/metabase/metabase/actions/runs/12842706365/job/35813914985?pr=52359#step:4:1235

If this doesn't help, I'll also try enabling `testConnectionOnCheckout` option in tests.",alexander-yakushev,2025-01-18 13:57:58+00:00,['alexander-yakushev'],2025-01-21 16:48:11+00:00,2025-01-21 16:12:26+00:00,https://github.com/metabase/metabase/pull/52360,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2599732100, 'issue_id': 2796991846, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `cd28d74363f39f5b52814a1923866eb8ce2cb309-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12844612089?pr=52360)\n\n  File | Test Name\n  ---- | ---------\n  `native_subquery.cy.spec.js` | (_flaky_) scenarios > question > native subquery > autocomplete should complete question slugs inside template tags', 'created_at': datetime.datetime(2025, 1, 18, 14, 11, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599743604, 'issue_id': 2796991846, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/143180_tests-cd28d743-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=dfa6302b-c152-524b-9397-96ae8fc79031) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=a1eb9a81-3b29-54e1-8102-fbaf908467ff) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=7bc2efd6-26e1-5a4d-832b-c824f9cac172) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=14c9c6d5-16b0-57c0-bfbc-8a2b73d8c916) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=23edbbef-db3d-56e1-845c-a270c4de4498) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=2ab91206-3ef2-5228-882e-421632836d66) |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case, resulting in a false result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=85a533db-8c7c-5063-91dd-e27af7a3337d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 14, 39, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-18 14:11:45 UTC): ## e2e tests failed on `cd28d74363f39f5b52814a1923866eb8ce2cb309-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12844612089?pr=52360)

  File | Test Name
  ---- | ---------
  `native_subquery.cy.spec.js` | (_flaky_) scenarios > question > native subquery > autocomplete should complete question slugs inside template tags

trunk-io[bot] on (2025-01-18 14:39:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/143180_tests-cd28d743-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=dfa6302b-c152-524b-9397-96ae8fc79031) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=a1eb9a81-3b29-54e1-8102-fbaf908467ff) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=7bc2efd6-26e1-5a4d-832b-c824f9cac172) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=14c9c6d5-16b0-57c0-bfbc-8a2b73d8c916) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=23edbbef-db3d-56e1-845c-a270c4de4498) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=2ab91206-3ef2-5228-882e-421632836d66) |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case, resulting in a false result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment&runConclusion=FAILURE&runId=85a533db-8c7c-5063-91dd-e27af7a3337d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52360?repo=metabase/metabase&commitHash=cd28d74363f39f5b52814a1923866eb8ce2cb309&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796868932,pull_request,closed,,Bump HoneySQL,"The new version contains a lot of recent performance improvements (https://github.com/seancorfield/honeysql/pull/560 and https://github.com/seancorfield/honeysql/pull/562).

I also bumped clj-async-profiler version to the latest one.
",alexander-yakushev,2025-01-18 09:08:24+00:00,['alexander-yakushev'],2025-01-27 22:11:10+00:00,2025-01-21 16:10:33+00:00,https://github.com/metabase/metabase/pull/52359,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2599643656, 'issue_id': 2796868932, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `66a0b2b5718a7c4b6100aef2572c12d62f197e3b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12842706356?pr=52359)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard', 'created_at': datetime.datetime(2025, 1, 18, 9, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599648496, 'issue_id': 2796868932, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/117542_tests-66a0b2b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=7aaf4deb-0d91-5589-88a5-31e6ec150346) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=e816215e-c04c-5380-8849-21f99f3e4a69) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual value is a different entity. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=d0af3f77-0134-50fe-b0ed-8a2a8ffcda18) |\n| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=97a03f10-bad6-5f69-8ec3-ed3e084645a1) |\n| <code>is-empty-not-empty-test-3</code> | The result set is closed, preventing the query from processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=580e3af3-61ca-5547-8bb0-7fa30dff254a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 18, 9, 39, 27, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-18 09:22:02 UTC): ## e2e tests failed on `66a0b2b5718a7c4b6100aef2572c12d62f197e3b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12842706356?pr=52359)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard

trunk-io[bot] on (2025-01-18 09:39:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/117542_tests-66a0b2b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=7aaf4deb-0d91-5589-88a5-31e6ec150346) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=e816215e-c04c-5380-8849-21f99f3e4a69) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual value is a different entity. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=d0af3f77-0134-50fe-b0ed-8a2a8ffcda18) |
| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=97a03f10-bad6-5f69-8ec3-ed3e084645a1) |
| <code>is-empty-not-empty-test-3</code> | The result set is closed, preventing the query from processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment&runConclusion=FAILURE&runId=580e3af3-61ca-5547-8bb0-7fa30dff254a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52359?repo=metabase/metabase&commitHash=66a0b2b5718a7c4b6100aef2572c12d62f197e3b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796589243,pull_request,closed,,docs(sdk): Update SDK version to 0.52.7,Update Readme version references and published npm package version to 0.52.7,github-automation-metabase,2025-01-18 02:22:13+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-18 03:10:55+00:00,2025-01-18 02:26:58+00:00,https://github.com/metabase/metabase/pull/52358,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2599493594, 'issue_id': 2796589243, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-98bc05c0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 3, 10, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-18 03:10:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-98bc05c0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52358?repo=metabase/metabase&commitHash=98bc05c0679ff25ce9ae7fa316a09e82623d02ca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796544364,pull_request,closed,,fix(sdk): Restore z-index for v52,"Since we didn't backport the z-index PR to v52, we have to manually specify the z index for tippy popovers. This will be a bandaid until we can get the Mantine popover to this component.

This has no effect on the main app - since the popover is triggered by an element on the main screen (rather than another popover), this isn't an issue. This is only an issue when the user tries to trigger this popover from _another_ popover, which happens only in the SDK.

Before:
<img width=""625"" alt=""image"" src=""https://github.com/user-attachments/assets/00b36b8e-e41e-48d9-aff3-47476e687801"" />


After:

<img width=""640"" alt=""image"" src=""https://github.com/user-attachments/assets/60830b12-d9de-40ca-840f-ae7f461b63e9"" />
",oisincoveney,2025-01-18 00:54:41+00:00,['oisincoveney'],2025-01-18 02:14:07+00:00,2025-01-18 01:31:55+00:00,https://github.com/metabase/metabase/pull/52357,"[('.Team/Embedding', '')]","[{'comment_id': 2599434687, 'issue_id': 2796544364, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 44457ce71d2a59c8939a3be5c47b2233ea489344...e56e9c0b363dd542a6d3690a160e92ead6c26440.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx |', 'created_at': datetime.datetime(2025, 1, 18, 0, 56, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599441784, 'issue_id': 2796544364, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e56e9c0b363dd542a6d3690a160e92ead6c26440-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12839272443?pr=52357)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 18, 1, 8, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599459016, 'issue_id': 2796544364, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13379_tests-e56e9c0b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=FAILURE&runId=b7a60f70-2259-5867-90d5-d692c88a9860) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 1, 41, 40, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-18 00:56:09 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 44457ce71d2a59c8939a3be5c47b2233ea489344...e56e9c0b363dd542a6d3690a160e92ead6c26440.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx |

github-actions[bot] on (2025-01-18 01:08:45 UTC): ## e2e tests failed on `e56e9c0b363dd542a6d3690a160e92ead6c26440-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12839272443?pr=52357)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-18 01:41:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13379_tests-e56e9c0b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment&runConclusion=FAILURE&runId=b7a60f70-2259-5867-90d5-d692c88a9860) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52357?repo=metabase/metabase&commitHash=e56e9c0b363dd542a6d3690a160e92ead6c26440&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796528717,pull_request,closed,,Fix flex-grow property on ChartSegmentedControl buttons,"Restores a `flex-grow` property that allowed buttons to resize based on their text length. This is important with other languages, since the names for the same button can be longer or shorter based on the language

Before:
<img width=""327"" alt=""image"" src=""https://github.com/user-attachments/assets/f8feb2ea-c21d-4b80-b79b-c46ff9b31098"" />


After: 
<img width=""335"" alt=""image"" src=""https://github.com/user-attachments/assets/ac07fbb1-99c6-4808-90e0-23a938bb786b"" />
",oisincoveney,2025-01-18 00:35:35+00:00,['oisincoveney'],2025-01-20 22:16:44+00:00,2025-01-20 21:42:22+00:00,https://github.com/metabase/metabase/pull/52356,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2599418088, 'issue_id': 2796528717, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 85e0db50f88b23ab553303dc29c5c2396b90ce7b...92c219ab2a0175969ae2f9699bbc967bb06c2edf.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx |', 'created_at': datetime.datetime(2025, 1, 18, 0, 37, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599435711, 'issue_id': 2796528717, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `92c219ab2a0175969ae2f9699bbc967bb06c2edf-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12839156475?pr=52356)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | (_flaky_) scenarios > question > native > displays an error', 'created_at': datetime.datetime(2025, 1, 18, 0, 58, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599458869, 'issue_id': 2796528717, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40833_tests-92c219ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE&runId=1359679a-2521-5b57-a58f-ed551223b28d) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE&runId=59cfe921-e2c0-5aba-aa67-2a9bd422e8db) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 1, 41, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-18 00:37:04 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 85e0db50f88b23ab553303dc29c5c2396b90ce7b...92c219ab2a0175969ae2f9699bbc967bb06c2edf.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx |

github-actions[bot] on (2025-01-18 00:58:04 UTC): ## e2e tests failed on `92c219ab2a0175969ae2f9699bbc967bb06c2edf-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12839156475?pr=52356)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | (_flaky_) scenarios > question > native > displays an error

trunk-io[bot] on (2025-01-18 01:41:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40833_tests-92c219ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE&runId=1359679a-2521-5b57-a58f-ed551223b28d) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment&runConclusion=FAILURE&runId=59cfe921-e2c0-5aba-aa67-2a9bd422e8db) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52356?repo=metabase/metabase&commitHash=92c219ab2a0175969ae2f9699bbc967bb06c2edf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796523091,pull_request,closed,,"🤖 backported ""Replace FormFooter default export  with named export""","  #52079
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-18 00:31:35+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-18 02:42:02+00:00,2025-01-18 02:08:28+00:00,https://github.com/metabase/metabase/pull/52355,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599448613, 'issue_id': 2796523091, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 44457ce71d2a59c8939a3be5c47b2233ea489344...d34dcbcec3e59415af1e9fe837adeb36e0209571.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx |', 'created_at': datetime.datetime(2025, 1, 18, 1, 21, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599453480, 'issue_id': 2796523091, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d34dcbcec3e59415af1e9fe837adeb36e0209571-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12839495695?pr=52355)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 18, 1, 30, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599472851, 'issue_id': 2796523091, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13514_tests-d34dcbce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=d110149b-9f85-5a53-bb7e-0478d32aa583) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=65f14f8e-e983-549d-8388-67193ddebc85) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=8069b148-5036-59f3-bcd4-0d43b3a96ae0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 2, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599472853, 'issue_id': 2796523091, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13385_tests-d34dcbce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=d110149b-9f85-5a53-bb7e-0478d32aa583) |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=8069b148-5036-59f3-bcd4-0d43b3a96ae0) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=65f14f8e-e983-549d-8388-67193ddebc85) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 2, 12, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-18 01:21:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 44457ce71d2a59c8939a3be5c47b2233ea489344...d34dcbcec3e59415af1e9fe837adeb36e0209571.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx |

github-actions[bot] on (2025-01-18 01:30:41 UTC): ## e2e tests failed on `d34dcbcec3e59415af1e9fe837adeb36e0209571-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12839495695?pr=52355)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-18 02:12:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13514_tests-d34dcbce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=d110149b-9f85-5a53-bb7e-0478d32aa583) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=65f14f8e-e983-549d-8388-67193ddebc85) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=8069b148-5036-59f3-bcd4-0d43b3a96ae0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-18 02:12:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13385_tests-d34dcbce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=d110149b-9f85-5a53-bb7e-0478d32aa583) |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=8069b148-5036-59f3-bcd4-0d43b3a96ae0) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment&runConclusion=FAILURE&runId=65f14f8e-e983-549d-8388-67193ddebc85) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52355?repo=metabase/metabase&commitHash=d34dcbcec3e59415af1e9fe837adeb36e0209571&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796510519,pull_request,closed,,[Deets in Sheets] Clean up model detail page,"Since the model detail page now just lets users configure actions, this PR cleans up that page. The goal is to ensure the model detail page, now called the model action page, makes sense.

![image](https://github.com/user-attachments/assets/8f007a00-a176-4f1e-bd9b-86860a88ff6b)
",rafpaf,2025-01-18 00:18:33+00:00,['rafpaf'],2025-01-22 20:20:55+00:00,2025-01-22 20:20:52+00:00,https://github.com/metabase/metabase/pull/52354,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2599405124, 'issue_id': 2796510519, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#52354** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52487](https://github.com/metabase/metabase/pull/52487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 18, 0, 18, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599409882, 'issue_id': 2796510519, 'author': 'graphite-app[bot]', 'body': '### Graphite Automations\n<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/18/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau\'s automation.</p></details>', 'created_at': datetime.datetime(2025, 1, 18, 0, 25, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599458798, 'issue_id': 2796510519, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3681_tests-348981cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 1, 41, 8, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-18 00:18:47 UTC): * **#52354** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52487](https://github.com/metabase/metabase/pull/52487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

graphite-app[bot] on (2025-01-18 00:25:11 UTC): ### Graphite Automations
<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/18/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau's automation.</p></details>

trunk-io[bot] on (2025-01-18 01:41:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3681_tests-348981cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52354?repo=metabase/metabase&commitHash=348981cc6befae81597e880cfe9d734c89add229&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796475282,pull_request,closed,,"🤖 backported ""Only reset comments on PRs""",#52352,github-automation-metabase,2025-01-17 23:34:45+00:00,"['iethree', 'github-automation-metabase']",2025-01-18 01:26:00+00:00,2025-01-18 00:10:35+00:00,https://github.com/metabase/metabase/pull/52353,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599382367, 'issue_id': 2796475282, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `899fd94126aaafd5b92e814882fd56bc6bb2b951-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838534324?pr=52353)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 17, 23, 47, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599412412, 'issue_id': 2796475282, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3444_tests-899fd941-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=FAILURE&runId=933d6a03-28b9-5fa4-97a4-094d8b53097c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 0, 28, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 23:47:46 UTC): ## e2e tests failed on `899fd94126aaafd5b92e814882fd56bc6bb2b951-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838534324?pr=52353)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-18 00:28:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3444_tests-899fd941-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment&runConclusion=FAILURE&runId=933d6a03-28b9-5fa4-97a4-094d8b53097c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52353?repo=metabase/metabase&commitHash=899fd94126aaafd5b92e814882fd56bc6bb2b951&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796443509,pull_request,closed,,Only reset comments on PRs,"follow up to #51605 - the comment reset workflow should only run on PRs, not on other branches that run e2e tests",iethree,2025-01-17 23:00:41+00:00,['iethree'],2025-01-18 00:48:24+00:00,2025-01-17 23:31:15+00:00,https://github.com/metabase/metabase/pull/52352,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2599361344, 'issue_id': 2796443509, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d40220b6001c429db2b0bcf6dc7ddbb4279c4684-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838183915?pr=52352)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard', 'created_at': datetime.datetime(2025, 1, 17, 23, 18, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599386857, 'issue_id': 2796443509, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3671_tests-d40220b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=FAILURE&runId=5867f32c-c9a4-536b-aa57-6aa905c25420) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 23, 54, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 23:18:24 UTC): ## e2e tests failed on `d40220b6001c429db2b0bcf6dc7ddbb4279c4684-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838183915?pr=52352)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard

trunk-io[bot] on (2025-01-17 23:54:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3671_tests-d40220b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment&runConclusion=FAILURE&runId=5867f32c-c9a4-536b-aa57-6aa905c25420) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52352?repo=metabase/metabase&commitHash=d40220b6001c429db2b0bcf6dc7ddbb4279c4684&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796430477,pull_request,open,,[db-pool] Try again to address the thread deadlock caused by c3p0,"Deadlock description:

The act of JMX attribute reading first locks a `DynamicPooledDataSourceManagerMBean` object, and then a `PoolBackedDataSource` object. Conversely, the act of creating a pool (with `com.mchange.v2.c3p0.DataSources/pooledDataSource`) first locks `PoolBackedDataSource` and then `DynamicPooledDataSourceManagerMBean`. Issue in c3p0 repo from 2017, zero comments: https://github.com/swaldman/c3p0/issues/95 (which is also a https://xkcd.com/979/ moment).

I twisted myself into a pretzel trying to fix this deadlock is a better way. My intent was to change `conn-pool-bean-diag-info` so that it locks PoolBackedDataSource before the MBean. As it turned out, there's no way to obtain a PoolBackedDataSource (or even the raw DynamicPooledDataSourceManagerMBean) from the MBeanServer. You can only obtain the end attributes, and getting them leads to a deadlock. So I finally gave up and propose here to lock on the whole `database-id->connection-pool`, which is also used as a locking monitor in `db->pooled-connection-spec` (which creates pools). This should prevent JMX stats gatherer to run simultaneously with new pool creation, and thus no chance for a deadlock (right? RIGHT?).

I don't quite like coupling `metabase.analytics.prometheus` namespace with `metabase.driver.sql-jdbc.connection`. If you see a problem with this, please suggest a common namespace (exiting or new one) where I can move the monitor and use it in both namespaces.",alexander-yakushev,2025-01-17 22:49:35+00:00,['alexander-yakushev'],2025-01-28 17:52:46+00:00,,https://github.com/metabase/metabase/pull/52351,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2599384301, 'issue_id': 2796430477, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/86019_tests-081f4331-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE&runId=22128046-80ba-523d-a632-2c7d3e831b42) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE&runId=a1617cd7-88ad-5982-8470-d4b8a9acb611) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 23, 50, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619552766, 'issue_id': 2796430477, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `081f4331f6e706da9913f8b91db81c44e4c84297-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13015046627?pr=52351)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 28, 16, 52, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 23:50:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/86019_tests-081f4331-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE&runId=22128046-80ba-523d-a632-2c7d3e831b42) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment&runConclusion=FAILURE&runId=a1617cd7-88ad-5982-8470-d4b8a9acb611) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52351?repo=metabase/metabase&commitHash=081f4331f6e706da9913f8b91db81c44e4c84297&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 16:52:37 UTC): ## e2e tests failed on `081f4331f6e706da9913f8b91db81c44e4c84297-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13015046627?pr=52351)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

"
2796425058,pull_request,closed,,"🤖 backported ""perf: faster snowflake sync with describe-fields""","  #49625
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-17 22:46:31+00:00,"['snoe', 'github-automation-metabase']",2025-01-20 20:59:18+00:00,2025-01-20 20:59:16+00:00,https://github.com/metabase/metabase/pull/52350,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599390604, 'issue_id': 2796425058, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122300_tests-4c7e57b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=FAILURE&runId=7fb49e95-40d6-5701-941a-22232ac4ecd3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 0, 0, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-18 00:00:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122300_tests-4c7e57b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment&runConclusion=FAILURE&runId=7fb49e95-40d6-5701-941a-22232ac4ecd3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52350?repo=metabase/metabase&commitHash=4c7e57b22d1b0ed4f07ec93b9a23d7047a88b836&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796406852,pull_request,closed,,[Deets in Sheets] Remove model detail links,"As part of the Model Details in Sidesheets project, we're removing the links to the model detail page. The page will just contain an interface that lets you create, update, and delete actions. It will be linked from the sidesheet. This PR just removes the links and the component that generates them.

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",rafpaf,2025-01-17 22:27:54+00:00,['rafpaf'],2025-01-27 22:10:57+00:00,2025-01-22 14:40:51+00:00,https://github.com/metabase/metabase/pull/52349,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2599315054, 'issue_id': 2796406852, 'author': 'rafpaf', 'body': '* **#52349** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52349?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52349?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 17, 22, 28, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599437861, 'issue_id': 2796406852, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13354_tests-f44e563d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 1, 1, 42, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-17 22:28:16 UTC): * **#52349** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52349?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52349?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-18 01:01:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13354_tests-f44e563d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52349?repo=metabase/metabase&commitHash=f44e563d1ad3b7cb2a519a389930196669061e4c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796392970,pull_request,closed,,"🤖 backported ""Convert CreateDashboardModal to new components""","  #52075
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-17 22:15:18+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-18 00:56:38+00:00,2025-01-18 00:20:02+00:00,https://github.com/metabase/metabase/pull/52348,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599320255, 'issue_id': 2796392970, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f5d42c0ed9251a048c484f15b784cbd97a430561...afdeb21e3dceab6af87b064c274b3af746ab37fd.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 17, 22, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599347907, 'issue_id': 2796392970, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3450_tests-afdeb21e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE&runId=f02fb698-2a32-551f-83b3-ec6d85a2b76f) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE&runId=7b585b99-d7f3-5e36-b862-5d67996d219c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 23, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599370007, 'issue_id': 2796392970, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `afdeb21e3dceab6af87b064c274b3af746ab37fd-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838341010?pr=52348)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 17, 23, 30, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 22:33:07 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f5d42c0ed9251a048c484f15b784cbd97a430561...afdeb21e3dceab6af87b064c274b3af746ab37fd.

No notifications.

trunk-io[bot] on (2025-01-17 23:02:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3450_tests-afdeb21e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE&runId=f02fb698-2a32-551f-83b3-ec6d85a2b76f) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment&runConclusion=FAILURE&runId=7b585b99-d7f3-5e36-b862-5d67996d219c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52348?repo=metabase/metabase&commitHash=afdeb21e3dceab6af87b064c274b3af746ab37fd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-17 23:30:06 UTC): ## e2e tests failed on `afdeb21e3dceab6af87b064c274b3af746ab37fd-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838341010?pr=52348)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

"
2796381405,pull_request,closed,,"🤖 backported ""Fix bad overflow on ColumnItem preventing showing and hiding columns""",#52290,github-automation-metabase,2025-01-17 22:05:21+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-17 23:46:10+00:00,2025-01-17 22:39:50+00:00,https://github.com/metabase/metabase/pull/52347,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599291823, 'issue_id': 2796381405, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 044927fdeafc48b2b3e3fb044ddb88a41b505c7f...00a4075fcbf2b003e11b3ea353d088e52cb0e17c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.unit.spec.tsx |', 'created_at': datetime.datetime(2025, 1, 17, 22, 6, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599332445, 'issue_id': 2796381405, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-4d7bde80-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=FAILURE&runId=1b1bbbc5-8f84-5d53-8b88-34979144388a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 22, 46, 2, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 22:06:50 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 044927fdeafc48b2b3e3fb044ddb88a41b505c7f...00a4075fcbf2b003e11b3ea353d088e52cb0e17c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.unit.spec.tsx |

trunk-io[bot] on (2025-01-17 22:46:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-4d7bde80-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment&runConclusion=FAILURE&runId=1b1bbbc5-8f84-5d53-8b88-34979144388a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52347?repo=metabase/metabase&commitHash=4d7bde8026a78d3b389567281797c5682dd5f69c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796364188,pull_request,closed,,"🤖 backported ""Instant e2e test updates""",#51605,github-automation-metabase,2025-01-17 21:50:33+00:00,"['iethree', 'github-automation-metabase']",2025-01-17 23:40:14+00:00,2025-01-17 22:38:45+00:00,https://github.com/metabase/metabase/pull/52346,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599320452, 'issue_id': 2796364188, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b1444f8c6b3a39f5c5db8f3d43ef869766da4f63-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12837408618?pr=52346)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 17, 22, 33, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599332954, 'issue_id': 2796364188, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13371_tests-b1444f8c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=FAILURE&runId=6b3dacb0-c03a-59f8-b5b5-d3bf4e499c36) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 22, 46, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 22:33:20 UTC): ## e2e tests failed on `b1444f8c6b3a39f5c5db8f3d43ef869766da4f63-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12837408618?pr=52346)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-17 22:46:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13371_tests-b1444f8c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment&runConclusion=FAILURE&runId=6b3dacb0-c03a-59f8-b5b5-d3bf4e499c36) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52346?repo=metabase/metabase&commitHash=b1444f8c6b3a39f5c5db8f3d43ef869766da4f63&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796332340,pull_request,open,,[Entities] Migrate to TypeScript,"TODO

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-17 21:26:21+00:00,['sloansparger'],2025-01-18 00:56:29+00:00,,https://github.com/metabase/metabase/pull/52345,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2599305640, 'issue_id': 2796332340, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/31160_tests-1b695538-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/30-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > permissions allows data model permission for a table in database</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the \\`tableUpdate\\` route, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=54558345-ae5d-5690-bfbc-523005ab942b) |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | The command palette was not found within 4 seconds, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=a3131c32-67c3-52fe-9691-02351a73f15b) |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | The command palette was not found within 4 seconds, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=8701f001-f3ab-53bd-80c6-fb231192aa6e) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | The command palette was not found within 4 seconds, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=03b280c7-0dc2-50d5-b4f7-aef847fae0cb) |\n\n[... and 26 more](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=388b98f1-d6fa-57b7-bac0-9678c02b7212) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=7d66b0ce-c221-5a97-818c-2953b79a1024) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=0fdd5713-bcc4-54bc-acac-d121cdf9af33) |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=1f9777e5-4414-5576-80a4-0d8ad11062ee) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 22, 19, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599365113, 'issue_id': 2796332340, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `1b6955388f1a1b23d27aab98ab31133acde61070-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838274173?pr=52345)\n\n  File | Test Name\n  ---- | ---------\n  `data-model-permissions.cy.spec.js` | scenarios > admin > permissions > allows data model permission for a table in database', 'created_at': datetime.datetime(2025, 1, 17, 23, 23, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 22:19:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/31160_tests-1b695538-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/30-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > permissions allows data model permission for a table in database</code> | The \`cy.wait()\` command timed out waiting for the first request to the \`tableUpdate\` route, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=54558345-ae5d-5690-bfbc-523005ab942b) |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | The command palette was not found within 4 seconds, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=a3131c32-67c3-52fe-9691-02351a73f15b) |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | The command palette was not found within 4 seconds, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=8701f001-f3ab-53bd-80c6-fb231192aa6e) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | The command palette was not found within 4 seconds, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=03b280c7-0dc2-50d5-b4f7-aef847fae0cb) |

[... and 26 more](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=388b98f1-d6fa-57b7-bac0-9678c02b7212) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=7d66b0ce-c221-5a97-818c-2953b79a1024) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=0fdd5713-bcc4-54bc-acac-d121cdf9af33) |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment&runConclusion=FAILURE&runId=1f9777e5-4414-5576-80a4-0d8ad11062ee) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52345?repo=metabase/metabase&commitHash=1b6955388f1a1b23d27aab98ab31133acde61070&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-17 23:23:36 UTC): ## e2e tests failed on `1b6955388f1a1b23d27aab98ab31133acde61070-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838274173?pr=52345)

  File | Test Name
  ---- | ---------
  `data-model-permissions.cy.spec.js` | scenarios > admin > permissions > allows data model permission for a table in database

"
2796329369,pull_request,closed,,"🤖 backported ""When duplicating a dashboard, persist the :width setting""","  #51805
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-17 21:23:55+00:00,"['tsplude', 'github-automation-metabase']",2025-01-21 20:48:31+00:00,2025-01-21 20:12:29+00:00,https://github.com/metabase/metabase/pull/52344,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599320314, 'issue_id': 2796329369, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120770_tests-71a19aef-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 22, 33, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 22:33:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120770_tests-71a19aef-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52344?repo=metabase/metabase&commitHash=71a19aef6474300447f9b6107ded68a8feb904d1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796327308,pull_request,closed,,"🤖 backported ""docs: linked filters""",#52182,github-automation-metabase,2025-01-17 21:22:09+00:00,"['alexyarosh', 'github-automation-metabase']",2025-01-17 22:37:22+00:00,2025-01-17 21:23:54+00:00,https://github.com/metabase/metabase/pull/52343,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599324283, 'issue_id': 2796327308, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-4eb6f899-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 22, 37, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 22:37:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-4eb6f899-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52343?repo=metabase/metabase&commitHash=4eb6f8994c6be3534c38a1b711df66a333be733c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796322861,pull_request,closed,,"🤖 backported ""docs: sharing icon""",#52281,github-automation-metabase,2025-01-17 21:18:38+00:00,"['alexyarosh', 'github-automation-metabase']",2025-01-17 21:20:03+00:00,2025-01-17 21:20:02+00:00,https://github.com/metabase/metabase/pull/52342,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2796305388,pull_request,closed,,PoC: add dnd to aggregation and breakout in summarize sidebar,"It's a PoC for https://github.com/metabase/metabase/issues/50296, [currently paused](https://metaboat.slack.com/archives/C01LQQ2UW03/p1737377181393649?thread_ts=1731523013.633789&cid=C01LQQ2UW03)",uladzimirdev,2025-01-17 21:07:18+00:00,['uladzimirdev'],2025-01-21 13:32:07+00:00,2025-01-21 13:32:07+00:00,https://github.com/metabase/metabase/pull/52341,"[('.Team/Querying', '')]","[{'comment_id': 2599272853, 'issue_id': 2796305388, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13294_tests-8b713f76-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE&runId=a2274485-e5ff-56d9-8e59-4d0ba6025a9f) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE&runId=980d94cf-2dcf-50b0-bb7e-b8e4c32e7c6c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 21, 50, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602378861, 'issue_id': 2796305388, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `8b713f76d50f81dac8b62dc908e94e99317475bd-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12868452872?pr=52341)\n\n  File | Test Name\n  ---- | ---------\n  `native_subquery.cy.spec.js` | (_flaky_) scenarios > question > native subquery > autocomplete should complete question slugs inside template tags', 'created_at': datetime.datetime(2025, 1, 20, 13, 4, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 21:50:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13294_tests-8b713f76-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE&runId=a2274485-e5ff-56d9-8e59-4d0ba6025a9f) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment&runConclusion=FAILURE&runId=980d94cf-2dcf-50b0-bb7e-b8e4c32e7c6c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52341?repo=metabase/metabase&commitHash=8b713f76d50f81dac8b62dc908e94e99317475bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 13:04:48 UTC): ## e2e tests failed on `8b713f76d50f81dac8b62dc908e94e99317475bd-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12868452872?pr=52341)

  File | Test Name
  ---- | ---------
  `native_subquery.cy.spec.js` | (_flaky_) scenarios > question > native subquery > autocomplete should complete question slugs inside template tags

"
2796271783,pull_request,closed,,"🤖 backported ""[Databricks] Make dataset loading chunk-size dynamic""",#52097,github-automation-metabase,2025-01-17 20:51:57+00:00,"['lbrdnk', 'github-automation-metabase']",2025-01-18 12:11:10+00:00,2025-01-18 11:14:58+00:00,https://github.com/metabase/metabase/pull/52340,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599234187, 'issue_id': 2796271783, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9956_tests-af0da02e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 21, 18, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 21:18:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9956_tests-af0da02e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52340?repo=metabase/metabase&commitHash=af0da02ebe4fd3084aec4af8fdd0e550c9a5ad3e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796209905,pull_request,closed,,Sync extra fields to order-by when replacing breakouts,"Closes https://github.com/metabase/metabase/issues/52124

### Description

When we replace a breakout, we also update any related order-by.  However, we weren't updating all fields.  This meant that the order-by and breakout weren't identical.  This was fine-ish on postgres, because they compiled to the same thing.  However, on google bigquery, it expects that group bys and order bys will refer to the AS alias instead of just duplicating the code for the aliased thing.  The differences between order-by and breakout meant that we didn't realize that the one was supposed to match the other, and so we duplicated the code and bigquery barfed. Syncing more fields fixes that.

### How to verify

See linked case -- bug shouldn't repro

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-17 20:04:10+00:00,['wzimrin'],2025-01-20 22:46:35+00:00,2025-01-20 21:55:26+00:00,https://github.com/metabase/metabase/pull/52338,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2599166650, 'issue_id': 2796209905, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122284_tests-3b9bc08d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE&runId=3c3cf8d8-fa57-5621-97c9-7d328613e083) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE&runId=b53f8f63-8634-5de2-bdc9-e6cf50dc7f9b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 20, 50, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602829954, 'issue_id': 2796209905, 'author': 'lbrdnk', 'body': ""By those comments I don't mean you should change the current implementation. It's 👍. Just mentioning alternatives for the future."", 'created_at': datetime.datetime(2025, 1, 20, 16, 22, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603254117, 'issue_id': 2796209905, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3b9bc08df3247d63cfee58e4113f458689a1764e-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12875701286?pr=52338)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 20, 21, 30, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 20:50:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122284_tests-3b9bc08d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE&runId=3c3cf8d8-fa57-5621-97c9-7d328613e083) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment&runConclusion=FAILURE&runId=b53f8f63-8634-5de2-bdc9-e6cf50dc7f9b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52338?repo=metabase/metabase&commitHash=3b9bc08df3247d63cfee58e4113f458689a1764e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

lbrdnk on (2025-01-20 16:22:30 UTC): By those comments I don't mean you should change the current implementation. It's 👍. Just mentioning alternatives for the future.

github-actions[bot] on (2025-01-20 21:30:06 UTC): ## e2e tests failed on `3b9bc08df3247d63cfee58e4113f458689a1764e-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12875701286?pr=52338)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2796208021,pull_request,closed,,"🤖 backported ""Don't pass locale codes to localeCompare""",#52284,github-automation-metabase,2025-01-17 20:02:45+00:00,"['rafpaf', 'github-automation-metabase']",2025-01-17 21:42:12+00:00,2025-01-17 20:44:04+00:00,https://github.com/metabase/metabase/pull/52337,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599165655, 'issue_id': 2796208021, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29423_tests-15d02a4b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=FAILURE&runId=ef839e2d-b9fb-5a91-badb-479fe0d960c9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 20, 49, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 20:49:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29423_tests-15d02a4b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment&runConclusion=FAILURE&runId=ef839e2d-b9fb-5a91-badb-479fe0d960c9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52337?repo=metabase/metabase&commitHash=15d02a4ba94b19220537064478eb822ecea048c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796200766,pull_request,closed,,Remove stray file that got checked in,I assume this file got committed accidentally,rafpaf,2025-01-17 19:57:32+00:00,['rafpaf'],2025-01-20 12:33:21+00:00,2025-01-20 12:30:31+00:00,https://github.com/metabase/metabase/pull/52336,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2599096704, 'issue_id': 2796200766, 'author': 'rafpaf', 'body': '* **#52336** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52336?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52336?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 17, 19, 57, 49, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-17 19:57:49 UTC): * **#52336** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52336?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52336?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2796199270,pull_request,closed,,"🤖 backported ""Disable pivot drill thru for multi-stage queries""",#52239,github-automation-metabase,2025-01-17 19:56:27+00:00,"['appleby', 'github-automation-metabase']",2025-01-20 19:13:07+00:00,2025-01-20 18:14:31+00:00,https://github.com/metabase/metabase/pull/52335,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599166431, 'issue_id': 2796199270, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130578_tests-dd1827ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE&runId=fe1bc6fe-5232-5db0-9c25-52d06fa2494b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE&runId=12999548-93ca-5678-9b89-a0dc8d24b29a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 20, 50, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 20:50:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130578_tests-dd1827ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE&runId=fe1bc6fe-5232-5db0-9c25-52d06fa2494b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment&runConclusion=FAILURE&runId=12999548-93ca-5678-9b89-a0dc8d24b29a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52335?repo=metabase/metabase&commitHash=dd1827ea26fc14cd9f982bbe2de4054c0d5bf31b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796193866,pull_request,open,,[WIP] Migrate from Poeditor to Crowdin,"- sync translations with crowdin every night
- remove dead poeditor code",iethree,2025-01-17 19:52:32+00:00,['iethree'],2025-01-17 21:16:32+00:00,,https://github.com/metabase/metabase/pull/52334,"[('Customization/i18n', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2599123841, 'issue_id': 2796193866, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73421_tests-e340ef7b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual results. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE&runId=ab95a8f2-6c13-5aa3-a14b-31774444abe0) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE&runId=3a97a72f-4004-5fbf-bf12-6bcd986aec45) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE&runId=f69b78b6-84a4-5bd1-a872-54433a67bfd9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 20, 17, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 20:17:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73421_tests-e340ef7b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual results. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE&runId=ab95a8f2-6c13-5aa3-a14b-31774444abe0) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE&runId=3a97a72f-4004-5fbf-bf12-6bcd986aec45) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment&runConclusion=FAILURE&runId=f69b78b6-84a4-5bd1-a872-54433a67bfd9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52334?repo=metabase/metabase&commitHash=e340ef7bab24118e529f2fc6f672948ae3b991d2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796162847,pull_request,closed,,"🤖 backported ""feat: Add csv_upload_failed metric to Prometheus""",#52219,github-automation-metabase,2025-01-17 19:30:29+00:00,"['snoe', 'github-automation-metabase']",2025-01-18 00:51:11+00:00,2025-01-17 23:44:25+00:00,https://github.com/metabase/metabase/pull/52332,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599124036, 'issue_id': 2796162847, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/79342_tests-978d4e0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/131-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=a4a6f5c5-7678-5c5f-b5e8-e8297f9b6875) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=b6daa658-d74b-5a4a-8e76-548388a5106b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>filter-nested-queries-test</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=befdeefc-ae73-548e-b111-d0c890cc0dad) |\n| <code>time-interval-test</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=71935532-6fc1-587c-9acc-8e91f0ec1286) |\n| <code>operations-e2e-test-2</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=c7ada362-72c9-57ef-94db-858ecdb67224) |\n| <code>join-multiple-tables-test</code> | Connection to the database was refused, preventing the query from executing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=6acb83c7-5234-5473-aa72-ee97a1580892) |\n\n[... and 127 more](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 20, 17, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599345316, 'issue_id': 2796162847, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `978d4e0d5104330deabde965cb74343ad22ce596-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838044401?pr=52332)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 17, 23, 0, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 20:17:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/79342_tests-978d4e0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/131-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=a4a6f5c5-7678-5c5f-b5e8-e8297f9b6875) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=b6daa658-d74b-5a4a-8e76-548388a5106b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>filter-nested-queries-test</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=befdeefc-ae73-548e-b111-d0c890cc0dad) |
| <code>time-interval-test</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=71935532-6fc1-587c-9acc-8e91f0ec1286) |
| <code>operations-e2e-test-2</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=c7ada362-72c9-57ef-94db-858ecdb67224) |
| <code>join-multiple-tables-test</code> | Connection to the database was refused, preventing the query from executing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE&runId=6acb83c7-5234-5473-aa72-ee97a1580892) |

[... and 127 more](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52332?repo=metabase/metabase&commitHash=978d4e0d5104330deabde965cb74343ad22ce596&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-17 23:00:14 UTC): ## e2e tests failed on `978d4e0d5104330deabde965cb74343ad22ce596-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838044401?pr=52332)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

"
2796149585,pull_request,closed,,Fix Presto bytes to Honey SQL conversion,"Closes https://github.com/metabase/metabase/issues/46848

### Description

Fixes Presto varbinary to date test by handling byte arrays. 

### How to verify

The `metabase.query-processor-test.alternative-date-test/yyyymmddhhmmss-binary-dates` test should pass.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-17 19:21:03+00:00,['rileythomp'],2025-01-20 20:52:29+00:00,2025-01-20 20:01:37+00:00,https://github.com/metabase/metabase/pull/52331,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2599334121, 'issue_id': 2796149585, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114548_tests-cdd68077-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case, resulting in a false result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=6df2e96a-4f3b-5e37-a52e-f432a08547dc) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=ff2f31e8-b216-575d-8318-a7b1d8b05caf) |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=3d4d0308-cb37-5e95-8d06-6faffc826161) |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=55dd7380-9ee0-5bf5-b447-4ea181ab806b) |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=90ef5d44-318f-5088-8241-8c58d22374c5) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 22, 47, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602994300, 'issue_id': 2796149585, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `cdd680772d83a861eb4b273732bb4bd33c113ea2-5`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12873235270?pr=52331)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 20, 17, 54, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 22:47:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114548_tests-cdd68077-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case, resulting in a false result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=6df2e96a-4f3b-5e37-a52e-f432a08547dc) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=ff2f31e8-b216-575d-8318-a7b1d8b05caf) |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=3d4d0308-cb37-5e95-8d06-6faffc826161) |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=55dd7380-9ee0-5bf5-b447-4ea181ab806b) |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE&runId=90ef5d44-318f-5088-8241-8c58d22374c5) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52331?repo=metabase/metabase&commitHash=cdd680772d83a861eb4b273732bb4bd33c113ea2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 17:54:10 UTC): ## e2e tests failed on `cdd680772d83a861eb4b273732bb4bd33c113ea2-5`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12873235270?pr=52331)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2796142749,pull_request,closed,,"🤖 backported ""Change order of input wrapper elements""","  #52235
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-17 19:16:02+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-18 01:16:30+00:00,2025-01-18 00:19:50+00:00,https://github.com/metabase/metabase/pull/52330,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2599364416, 'issue_id': 2796142749, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 70f581e84c7dfe258af01bd6b0d75dce5fd12100...af23e7ff3d2232bc240cb14fc42db45623a8dfdf.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Textarea/Textarea.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 17, 23, 22, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599374032, 'issue_id': 2796142749, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `af23e7ff3d2232bc240cb14fc42db45623a8dfdf-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838400914?pr=52330)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing', 'created_at': datetime.datetime(2025, 1, 17, 23, 35, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599412378, 'issue_id': 2796142749, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/35015_tests-af23e7ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE&runId=b1b4c05d-3a48-58aa-b008-9c8e56a8fbff) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE&runId=ee30b00b-ab7c-507e-9f43-ed682509563e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 18, 0, 28, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 23:22:34 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 70f581e84c7dfe258af01bd6b0d75dce5fd12100...af23e7ff3d2232bc240cb14fc42db45623a8dfdf.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Textarea/Textarea.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx |

github-actions[bot] on (2025-01-17 23:35:37 UTC): ## e2e tests failed on `af23e7ff3d2232bc240cb14fc42db45623a8dfdf-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838400914?pr=52330)

  File | Test Name
  ---- | ---------
  `dashboard-card-fetching.cy.spec.js` | (_flaky_) dashboard card fetching > should pass same dashboard_load_id to every query to enable metadata cache sharing

trunk-io[bot] on (2025-01-18 00:28:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/35015_tests-af23e7ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE&runId=b1b4c05d-3a48-58aa-b008-9c8e56a8fbff) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment&runConclusion=FAILURE&runId=ee30b00b-ab7c-507e-9f43-ed682509563e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52330?repo=metabase/metabase&commitHash=af23e7ff3d2232bc240cb14fc42db45623a8dfdf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796126467,pull_request,closed,,"🤖 backported ""docs - azure sql""",#52287,github-automation-metabase,2025-01-17 19:04:52+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-17 19:06:53+00:00,2025-01-17 19:06:52+00:00,https://github.com/metabase/metabase/pull/52329,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2796123259,pull_request,closed,,"🤖 backported ""Upgrade postgres app db version""",#50310,github-automation-metabase,2025-01-17 19:02:39+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-22 08:36:11+00:00,2025-01-22 07:19:19+00:00,https://github.com/metabase/metabase/pull/52328,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606599032, 'issue_id': 2796123259, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-bb243bfa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 8, 36, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 08:36:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-bb243bfa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52328?repo=metabase/metabase&commitHash=bb243bfaf30f62606daeeee5fa130aac86493e8d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2796069511,pull_request,closed,,Proper team for Sébastien,querying -> dashviz,lorem--ipsum,2025-01-17 18:27:27+00:00,['lorem--ipsum'],2025-01-20 17:33:16+00:00,2025-01-20 17:30:24+00:00,https://github.com/metabase/metabase/pull/52326,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]",[],
2795987059,pull_request,closed,,[do not merge] repro test failure?,This is just an attempt to reproduce a test flake on MariaDB 10.2.,johnswanson,2025-01-17 17:40:32+00:00,['johnswanson'],2025-02-04 15:10:04+00:00,2025-01-22 12:50:49+00:00,https://github.com/metabase/metabase/pull/52325,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2598937557, 'issue_id': 2795987059, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108249_tests-ef6496b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 18, 18, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 18:18:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108249_tests-ef6496b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52325?repo=metabase/metabase&commitHash=ef6496b15fb723cf630d06bc163cadab6b7add7a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795938582,pull_request,open,,Fix timezone for DateTime FieldFilter,"Closes https://github.com/metabase/metabase/issues/50831

### Description

In PR https://github.com/metabase/metabase/pull/46262, `For :type/DateTime columns ranges are generated that are used in gte lt matching expression.`  convert all `:type/DateTime` field value to `OffsetDateTime`(including timezone) leading some queries do not work for special date data type field.
```clojure
(defmethod sql.qp/inline-value [:sqlserver OffsetDateTime]
  [_ ^OffsetDateTime t]
  ;; DateTimeOffsetFromParts(year, month, day, hour, minute, seconds, fractions, hour_offset, minute_offset, precision)
  (let [offset-minutes (long (/ (.getTotalSeconds (.getOffset t)) 60))
        hour-offset    (long (/ offset-minutes 60))
        minute-offset  (mod offset-minutes 60)]
    (format ""DateTimeOffsetFromParts(%d, %d, %d, %d, %d, %d, %d, %d, %d, 7)""
            (.getYear t) (.getMonthValue t) (.getDayOfMonth t)
            (.getHour t) (.getMinute t) (.getSecond t) (long (/ (.getNano t) 100))
            hour-offset minute-offset)))
```
Such as the [datetime](https://learn.microsoft.com/zh-cn/sql/t-sql/data-types/datetime-transact-sql?view=sql-server-ver16) [datetime2](https://learn.microsoft.com/zh-cn/sql/t-sql/data-types/datetime2-transact-sql?view=sql-server-ver16) data type in SQL Server, these data type do not support timezone, as all date type value be converted to `OffsetDateTime`, so according to the driver code, the sql will be parsed to 
```sql
select * from ""test"".""expense"" where ""dbo"".""PurchaseOrderDetail2"".""DueDate"" >= DateTimeOffsetFromParts(2025, 1, 17, 0, 0, 0, 0, -6, 0, 7)
   AND ""dbo"".""PurchaseOrderDetail2"".""DueDate"" < DateTimeOffsetFromParts(2025, 1, 18, 0, 0, 0, 0, -6, 0, 7)
``` 
accually, the correct sql should be 
```sql
select * from ""test"".""expense"" where ""dbo"".""PurchaseOrderDetail"".""DueDate"" >= DateTime2FromParts(2025, 1, 17, 0, 0, 0, 0, 7)
   AND ""dbo"".""PurchaseOrderDetail"".""DueDate"" < DateTime2FromParts(2025, 1, 18, 0, 0, 0, 0, 7)
```

### How to verify

Describe the steps to verify that the changes are working as expected.

1. prepare a sql server table(including date type datetime, datetimeoffset) or other date type of DB supporting timezone
2. create a Sql query
3. choose date field as field filter and set value with today
4. preview the query
### Demo
ddl
```sql
CREATE TABLE [dbo].[detail] (
  [TestDateTime] datetime  NULL,
  [TestDateTime2] datetime2(7)  NULL,
  [TestDateTimeOffSet] datetimeoffset(7)  NULL
) 
```
time zone: UTC-6
data
![data](https://github.com/user-attachments/assets/501b0fd5-f413-4440-ade8-adc728945524)

before
![before](https://github.com/user-attachments/assets/8e6c2b4f-21be-409c-8f7d-6cbaf84e3ddf)
after
![after](https://github.com/user-attachments/assets/517ca729-6ffa-47e4-8ad4-0e2b49f27803)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",givemesomefaces,2025-01-17 17:12:32+00:00,[],2025-02-08 14:00:07+00:00,,https://github.com/metabase/metabase/pull/52324,[],[],
2795920642,pull_request,closed,,"🤖 backported ""Return is-null filter in underlying-records drill thru if value is nil""",#52295,github-automation-metabase,2025-01-17 17:03:04+00:00,"['appleby', 'github-automation-metabase']",2025-01-17 18:34:34+00:00,2025-01-17 17:38:20+00:00,https://github.com/metabase/metabase/pull/52323,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2598881115, 'issue_id': 2795920642, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102074_tests-ef75c327-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=FAILURE&runId=2facb94b-6cc2-51ce-b718-219f32d73f92) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 17, 46, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 17:46:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102074_tests-ef75c327-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment&runConclusion=FAILURE&runId=2facb94b-6cc2-51ce-b718-219f32d73f92) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52323?repo=metabase/metabase&commitHash=ef75c327308597ae3fd282e097de8f568807ddea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795917436,pull_request,closed,,Ignore archived metrics in the find-metric tool,"Also, there is a whitespace change to `yarn.lock` fixing a manual merge conflict resolution.",metamben,2025-01-17 17:01:09+00:00,['metamben'],2025-01-17 19:42:21+00:00,2025-01-17 19:07:15+00:00,https://github.com/metabase/metabase/pull/52322,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2598880273, 'issue_id': 2795917436, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101115_tests-7a54323a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=4778d588-f846-5b60-b0bf-a0fd2031c22d) |\n| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=63064f69-f3e3-5b51-9d56-9a64f0afebe7) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=45e483c4-24c4-5ccc-952f-52b804acb60b) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=061f620f-a640-55b3-9aa0-c9f5103beb1a) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 17, 46, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 17:46:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101115_tests-7a54323a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=4778d588-f846-5b60-b0bf-a0fd2031c22d) |
| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=63064f69-f3e3-5b51-9d56-9a64f0afebe7) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=45e483c4-24c4-5ccc-952f-52b804acb60b) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE&runId=061f620f-a640-55b3-9aa0-c9f5103beb1a) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52322?repo=metabase/metabase&commitHash=7a54323ab595498f28bae46994b2d2841276e01a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795875061,pull_request,closed,,Various fixes for the native editor revamp,"Closes https://github.com/metabase/metabase/issues/52585

### Description

Fixes product issues brought up by @mngr in the native editor revamp:

> When I press Return in the middle of the text a new line is inserted as well as 2 trailing spaces, stats - the number of inserted trailing spaces or tabs depends on what was in the beginning of the previous line (correct)

✅ Fixed


> When I hit Cmd+Return a new line is inserted (it shouldn't)

✅ Fixed


> When I press tab, 2 spaces are inserted, stats - tab is inserted (ideally this should be a user setting)

✅ Fixed


> The designation 'keyword' is not shown

✅ Fixed


> The designations like 'table' or 'ACCOUNTS :type/integer' are aligned left and shown in italic, they should be aligned right and shown in normal font (correct)

✅ Fixed


> The same suggestion shown multiple times (same column name in different tables), they should be deduplicated

🟡 Partially fixed. 
Due to how CodeMirror compares completions internally, we cannot deduplicate all completions. I think it's not a huge issues.  @mngr can you confirm this works ok? You can reproduce it by 
typing `{{ #1-orders-people }} STA`. It only happens when there are referenced questions.

<img width=""588"" alt=""Screenshot 2025-01-21 at 12 01 07"" src=""https://github.com/user-attachments/assets/c93fee8c-85f5-4b1a-accd-14a313f73837"" />


> Make the editor use query from MBQL lib instead of the legacy JS query. There are MBQL lib functions for native queries in metabase-lib/native.ts

✅ Fixed


> Have component or unit tests for custom logic like autocompletion. Currently this seems to be covered with mostly e2e tests.

✅ Added


> When hitting Tab in the end of the text, the indentation is inserted in the beginning of the text - it should be added in the end (as on stats)

✅ Fixed


> Accept completions with tab

✅ Fixed


> no need to show the suggestion when the word is entered already (as on stats)

🔴 Believe it or not, this adds a lot of complexity to the completer, since we have to add some special cases to hide the word if it is already typed. I don't think it's worth it. What do you think @mngr?


> Move this component from query_builder to the querying module, perhaps to a new querying/native submodule.

🔵 I want to postpone this until we have other components that rely on CodeMirror too.

> When aliases are set in the query they should be returned in the list of suggestions

✅ Fixed",romeovs,2025-01-17 16:37:43+00:00,['romeovs'],2025-01-24 16:08:51+00:00,2025-01-24 16:08:45+00:00,https://github.com/metabase/metabase/pull/52321,"[('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2598827898, 'issue_id': 2795875061, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118883_tests-898ac7a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native > suggestions should suggest quoted locals</code> | The expected text 'QUOTED\\_local' was not found within the element <span.cm-completionLabel> within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE&runId=44273e83-9c26-51e4-847c-b22b43be1db0) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE&runId=dce43df7-fa57-5a8a-a62f-462c406087ff) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 17, 16, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599063025, 'issue_id': 2795875061, 'author': 'mngr', 'body': 'Is this ready for review?', 'created_at': datetime.datetime(2025, 1, 17, 19, 35, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606921486, 'issue_id': 2795875061, 'author': 'romeovs', 'body': ""> @ranquild: this vs master. Not sure if that's an issue or not. I kind of see the logic here\r\n\r\nWe're returning more keywords from SQL here (we fall back to the default SQL grammar for unknown specific grammars like `h2`), hence the `CURRENT_TRANSFORM_GROUP_FOR_TYPE` being there and pushing the details to the right.\r\n\r\nIf you're talking about the uppercase vs lowercase: this was a feature request in the original product doc. In the future this will be a configuration setting."", 'created_at': datetime.datetime(2025, 1, 22, 10, 57, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607507730, 'issue_id': 2795875061, 'author': 'ranquild', 'body': '@romeovs can this ""Move this component from query_builder to the querying module, perhaps to a new querying/native submodule."" be implemented straight away after this native query editor is replaced in master?', 'created_at': datetime.datetime(2025, 1, 22, 15, 10, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609345965, 'issue_id': 2795875061, 'author': 'Somtom', 'body': 'Overall I could not find major things. Whitespace, etc. worked nicely when I just applied my workflow.\r\n\r\nA few things I noticed while testing:\r\n\r\n### (1) The autocomplete is not really good. \r\nThat was already the case in the old editor but I am missing some local suggestions in this version where it works in stats, e.g. \r\n\r\nThis PR\r\n<img width=""663"" alt=""image"" src=""https://github.com/user-attachments/assets/8289a760-8b17-4c13-afe5-acc47e48e20e"" />\r\n<img width=""654"" alt=""image"" src=""https://github.com/user-attachments/assets/c69d4b77-fa98-4776-8eff-2aab41b20c9b"" />\r\n\r\n\r\nStats\r\n<img width=""748"" alt=""image"" src=""https://github.com/user-attachments/assets/dc69d19b-5f92-48bf-a4e6-78ac30bb7191"" />\r\n<img width=""629"" alt=""image"" src=""https://github.com/user-attachments/assets/20c51664-b148-4352-85ce-861f7342645f"" />\r\n\r\n\r\n\r\n### (2) Where do we get the keywords from?  - NOT BLOCKING\r\n\r\nI was checking whether we suggest keywords for the wrong database and tried `SAFE_CAST` which exists in BigQuery but not postgres. However, the keyword completion did not work at all for this one. But it also does not work in stats', 'created_at': datetime.datetime(2025, 1, 23, 9, 47, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609545652, 'issue_id': 2795875061, 'author': 'romeovs', 'body': ""@mngr, @Somtom I've added a fix for the missing locals completion.\r\n\r\n> I was checking whether we suggest keywords for the wrong database and tried SAFE_CAST which exists in BigQuery but not postgres. However, the keyword completion did not work at all for this one. But it also does not work in stats\r\n\r\nWe currently have a hard-coded list of keywords in the codebase. I don't think we'll change that anytime soon unfortunately."", 'created_at': datetime.datetime(2025, 1, 23, 11, 19, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611972996, 'issue_id': 2795875061, 'author': 'romeovs', 'body': '> Deduplication doesn\'t happen for local tax vs db tax here and db state vs keyword state.\r\n\r\n@mngr I highlighted that point in the PR description. It\'s quite hard to do deduplication accross different autocomplete sources without undoing most of the benefits we get from using CodeMirrors\' builtin sources.\r\n\r\nIs this a hard blocker? I\'m seeing duplicated results even on stats: \r\n\r\n<img width=""591"" alt=""Screenshot 2025-01-24 at 09 24 09"" src=""https://github.com/user-attachments/assets/ce6915ef-1897-4b2a-9419-6df7ebe5f3d8"" />\r\n\r\nThe sorting is done by CodeMirror out of the box as well and based on how close of a match the entered text is, so not just alphabetical. But neither is stats.\r\n\r\nI can customize the sorting to be more like the old style of sorting from ACE, but then we would need to create a spec of what the expected sorting is, since even on stats it\'s not just alphabetical.', 'created_at': datetime.datetime(2025, 1, 24, 8, 43, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612265949, 'issue_id': 2795875061, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 898ac7a9a421ca9ee78a5020206db4f02dfa8706.\n✅ Preview:\n    https://pr52321.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 24, 11, 9, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612276361, 'issue_id': 2795875061, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `898ac7a9a421ca9ee78a5020206db4f02dfa8706-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12948286167?pr=52321)\n\n  File | Test Name\n  ---- | ---------\n  `suggestions.cy.spec.ts` | scenarios > question > native > suggestions > should suggest quoted locals', 'created_at': datetime.datetime(2025, 1, 24, 11, 15, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 17:16:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118883_tests-898ac7a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native > suggestions should suggest quoted locals</code> | The expected text 'QUOTED\_local' was not found within the element <span.cm-completionLabel> within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE&runId=44273e83-9c26-51e4-847c-b22b43be1db0) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment&runConclusion=FAILURE&runId=dce43df7-fa57-5a8a-a62f-462c406087ff) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52321?repo=metabase/metabase&commitHash=898ac7a9a421ca9ee78a5020206db4f02dfa8706&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

mngr on (2025-01-17 19:35:24 UTC): Is this ready for review?

romeovs (Issue Creator) on (2025-01-22 10:57:13 UTC): We're returning more keywords from SQL here (we fall back to the default SQL grammar for unknown specific grammars like `h2`), hence the `CURRENT_TRANSFORM_GROUP_FOR_TYPE` being there and pushing the details to the right.

If you're talking about the uppercase vs lowercase: this was a feature request in the original product doc. In the future this will be a configuration setting.

ranquild on (2025-01-22 15:10:49 UTC): @romeovs can this ""Move this component from query_builder to the querying module, perhaps to a new querying/native submodule."" be implemented straight away after this native query editor is replaced in master?

Somtom on (2025-01-23 09:47:20 UTC): Overall I could not find major things. Whitespace, etc. worked nicely when I just applied my workflow.

A few things I noticed while testing:

### (1) The autocomplete is not really good. 
That was already the case in the old editor but I am missing some local suggestions in this version where it works in stats, e.g. 

This PR
<img width=""663"" alt=""image"" src=""https://github.com/user-attachments/assets/8289a760-8b17-4c13-afe5-acc47e48e20e"" />
<img width=""654"" alt=""image"" src=""https://github.com/user-attachments/assets/c69d4b77-fa98-4776-8eff-2aab41b20c9b"" />


Stats
<img width=""748"" alt=""image"" src=""https://github.com/user-attachments/assets/dc69d19b-5f92-48bf-a4e6-78ac30bb7191"" />
<img width=""629"" alt=""image"" src=""https://github.com/user-attachments/assets/20c51664-b148-4352-85ce-861f7342645f"" />



### (2) Where do we get the keywords from?  - NOT BLOCKING

I was checking whether we suggest keywords for the wrong database and tried `SAFE_CAST` which exists in BigQuery but not postgres. However, the keyword completion did not work at all for this one. But it also does not work in stats

romeovs (Issue Creator) on (2025-01-23 11:19:18 UTC): @mngr, @Somtom I've added a fix for the missing locals completion.


We currently have a hard-coded list of keywords in the codebase. I don't think we'll change that anytime soon unfortunately.

romeovs (Issue Creator) on (2025-01-24 08:43:10 UTC): @mngr I highlighted that point in the PR description. It's quite hard to do deduplication accross different autocomplete sources without undoing most of the benefits we get from using CodeMirrors' builtin sources.

Is this a hard blocker? I'm seeing duplicated results even on stats: 

<img width=""591"" alt=""Screenshot 2025-01-24 at 09 24 09"" src=""https://github.com/user-attachments/assets/ce6915ef-1897-4b2a-9419-6df7ebe5f3d8"" />

The sorting is done by CodeMirror out of the box as well and based on how close of a match the entered text is, so not just alphabetical. But neither is stats.

I can customize the sorting to be more like the old style of sorting from ACE, but then we would need to create a spec of what the expected sorting is, since even on stats it's not just alphabetical.

github-actions[bot] on (2025-01-24 11:09:54 UTC): 👋 Deploying a preview environment for commit 898ac7a9a421ca9ee78a5020206db4f02dfa8706.
✅ Preview:
    https://pr52321.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-24 11:15:57 UTC): ## e2e tests failed on `898ac7a9a421ca9ee78a5020206db4f02dfa8706-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12948286167?pr=52321)

  File | Test Name
  ---- | ---------
  `suggestions.cy.spec.ts` | scenarios > question > native > suggestions > should suggest quoted locals

"
2795784890,pull_request,closed,,"🤖 backported ""Balance e2e specs by runtime""","  #52118

✅  conflicts resolved",github-automation-metabase,2025-01-17 15:50:42+00:00,"['iethree', 'github-automation-metabase']",2025-01-22 20:21:03+00:00,2025-01-22 20:20:56+00:00,https://github.com/metabase/metabase/pull/52319,"[('.CI & Tests', ''), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2598823004, 'issue_id': 2795784890, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13643_tests-091a8cfc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>converting question to a native query (metabase\\#15946, metabase\\#32121, metabase\\#38181) should work for both simple and nested questions based on...</code> | The expected text was not found in the HTML content within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=FAILURE&runId=e094005d-6647-5931-a401-c4a42d5dae51) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 17, 14, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603365694, 'issue_id': 2795784890, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `091a8cfc29c55efc11882744becd1dad5c59f018-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877127819?pr=52319)\n\n  File | Test Name\n  ---- | ---------\n  `notebook-native-preview-sidebar.cy.spec.ts` | converting question to a native query (metabase#15946, metabase#32121, metabase#38181) > should work for both simple and nested questions based on previously converted GUI query', 'created_at': datetime.datetime(2025, 1, 20, 23, 39, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 17:14:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13643_tests-091a8cfc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>converting question to a native query (metabase\#15946, metabase\#32121, metabase\#38181) should work for both simple and nested questions based on...</code> | The expected text was not found in the HTML content within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment&runConclusion=FAILURE&runId=e094005d-6647-5931-a401-c4a42d5dae51) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52319?repo=metabase/metabase&commitHash=091a8cfc29c55efc11882744becd1dad5c59f018&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 23:39:42 UTC): ## e2e tests failed on `091a8cfc29c55efc11882744becd1dad5c59f018-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877127819?pr=52319)

  File | Test Name
  ---- | ---------
  `notebook-native-preview-sidebar.cy.spec.ts` | converting question to a native query (metabase#15946, metabase#32121, metabase#38181) > should work for both simple and nested questions based on previously converted GUI query

"
2795769628,pull_request,closed,,Port MonthPicker to Mantine v7,like what it says upon the tin,rafpaf,2025-01-17 15:42:50+00:00,['rafpaf'],2025-01-17 19:06:47+00:00,2025-01-17 19:06:45+00:00,https://github.com/metabase/metabase/pull/52318,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2598641310, 'issue_id': 2795769628, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#52318** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#51144** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51144?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#52316](https://github.com/metabase/metabase/pull/52316) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52317](https://github.com/metabase/metabase/pull/52317) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 17, 15, 43, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598645577, 'issue_id': 2795769628, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e9feac70af8278c3daf8ffa4042d015a3472bfd6...87a26aaea34b2df8a18fb8da946be47af99be641.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 17, 15, 45, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598717277, 'issue_id': 2795769628, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/33724_tests-87a26aae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source whe...</code> | The expected text \'Twenty\' was not found in the element \'<span.evZP8.m\\_44da308b.m\\_7cda1cd6.mantine-Pill-root>\' within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=01db04f1-0101-54df-81a6-eb6a53bbb470) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The expected text \'Twenty\' was not found in the element \'<span.evZP8.m\\_44da308b.m\\_7cda1cd6.mantine-Pill-root>\' within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=fc57355c-ff4f-5f2c-98e8-4220b5ada16b) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=6bfcea70-a1f8-5b1c-b996-5cbee18670ab) |\n| <code>issue 45410 should not overflow the last filter value with a chevron icon (metabase\\#45410)</code> | The element with the class \'data-combobox-chevron\' was not found within the expected time of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=25771fde-5dfe-56d3-9a94-f91deb90f1ea) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=6c89eb47-7344-5956-8bbb-f24b520f4cb5) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The modal dialog was not found within 4 seconds, causing a test to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=c01d1273-3c7c-5c0b-a530-a046f8a1c88c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 16, 21, 22, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-17 15:43:11 UTC): * **#52318** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#51144** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51144?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#52316](https://github.com/metabase/metabase/pull/52316) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52317](https://github.com/metabase/metabase/pull/52317) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-17 15:45:22 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e9feac70af8278c3daf8ffa4042d015a3472bfd6...87a26aaea34b2df8a18fb8da946be47af99be641.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/index.ts<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-17 16:21:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/33724_tests-87a26aae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source whe...</code> | The expected text 'Twenty' was not found in the element '<span.evZP8.m\_44da308b.m\_7cda1cd6.mantine-Pill-root>' within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=01db04f1-0101-54df-81a6-eb6a53bbb470) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The expected text 'Twenty' was not found in the element '<span.evZP8.m\_44da308b.m\_7cda1cd6.mantine-Pill-root>' within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=fc57355c-ff4f-5f2c-98e8-4220b5ada16b) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=6bfcea70-a1f8-5b1c-b996-5cbee18670ab) |
| <code>issue 45410 should not overflow the last filter value with a chevron icon (metabase\#45410)</code> | The element with the class 'data-combobox-chevron' was not found within the expected time of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=25771fde-5dfe-56d3-9a94-f91deb90f1ea) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=6c89eb47-7344-5956-8bbb-f24b520f4cb5) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The modal dialog was not found within 4 seconds, causing a test to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment&runConclusion=FAILURE&runId=c01d1273-3c7c-5c0b-a530-a046f8a1c88c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52318?repo=metabase/metabase&commitHash=87a26aaea34b2df8a18fb8da946be47af99be641&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795758361,pull_request,closed,,Port Overlay to Mantine v7,"like it sez on the tin

Note that the withinPortal prop no longer exists on `Overlay`",rafpaf,2025-01-17 15:37:16+00:00,['rafpaf'],2025-01-17 19:05:08+00:00,2025-01-17 19:05:06+00:00,https://github.com/metabase/metabase/pull/52317,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2598629926, 'issue_id': 2795758361, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#52317** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#51144** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51144?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#52316](https://github.com/metabase/metabase/pull/52316) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52318](https://github.com/metabase/metabase/pull/52318) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 17, 15, 37, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598633115, 'issue_id': 2795758361, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e9feac70af8278c3daf8ffa4042d015a3472bfd6...d950c95f50a08799050bed391cb3bc4751e5b76a.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Overlay/Overlay.config.ts<br>frontend/src/metabase/ui/components/overlays/Overlay/Overlay.module.css<br>frontend/src/metabase/ui/components/overlays/Overlay/Overlay.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Overlay/index.tsx<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 17, 15, 39, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598828505, 'issue_id': 2795758361, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/33724_tests-d950c95f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source whe...</code> | The expected text \'Twenty\' was not found in the element \'<span.evZP8.m\\_44da308b.m\\_7cda1cd6.mantine-Pill-root>\' within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=0645a22c-b117-502a-989c-07197e799a71) |\n| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The expected text \'Twenty\' was not found in the element \'<span.evZP8.m\\_44da308b.m\\_7cda1cd6.mantine-Pill-root>\' within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=1878b497-e5dc-5cbc-98f5-417b6ade4a2a) |\n| <code>issue 45410 should not overflow the last filter value with a chevron icon (metabase\\#45410)</code> | The element with the class \'data-combobox-chevron\' was not found within the expected time of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=9c0157de-9982-5a34-9222-28a7b780dfe1) |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\#13817)</code> | The test timed out while trying to find an element with data-testid ""save-question-modal"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=51c2b50b-6f8b-5624-95c6-c287039b82a4) |\n\n[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=2e0838d0-e9bb-51f0-8944-0bc0eb13bbb6) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The modal dialog was not found within 4 seconds, causing a test to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=343d907c-7881-5789-8d83-f1371dc3ddc6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 17, 17, 10, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-17 15:37:35 UTC): * **#52317** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#51144** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51144?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#52316](https://github.com/metabase/metabase/pull/52316) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52318](https://github.com/metabase/metabase/pull/52318) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-17 15:39:15 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e9feac70af8278c3daf8ffa4042d015a3472bfd6...d950c95f50a08799050bed391cb3bc4751e5b76a.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Overlay/Overlay.config.ts<br>frontend/src/metabase/ui/components/overlays/Overlay/Overlay.module.css<br>frontend/src/metabase/ui/components/overlays/Overlay/Overlay.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Overlay/index.tsx<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-17 17:17:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/33724_tests-d950c95f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source whe...</code> | The expected text 'Twenty' was not found in the element '<span.evZP8.m\_44da308b.m\_7cda1cd6.mantine-Pill-root>' within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=0645a22c-b117-502a-989c-07197e799a71) |
| <code>scenarios > filters > sql filters > values source > number parameter static list source (search box) should be able to use a static list source in...</code> | The expected text 'Twenty' was not found in the element '<span.evZP8.m\_44da308b.m\_7cda1cd6.mantine-Pill-root>' within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=1878b497-e5dc-5cbc-98f5-417b6ade4a2a) |
| <code>issue 45410 should not overflow the last filter value with a chevron icon (metabase\#45410)</code> | The element with the class 'data-combobox-chevron' was not found within the expected time of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=9c0157de-9982-5a34-9222-28a7b780dfe1) |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\#13817)</code> | The test timed out while trying to find an element with data-testid ""save-question-modal"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=51c2b50b-6f8b-5624-95c6-c287039b82a4) |

[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=2e0838d0-e9bb-51f0-8944-0bc0eb13bbb6) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The modal dialog was not found within 4 seconds, causing a test to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment&runConclusion=FAILURE&runId=343d907c-7881-5789-8d83-f1371dc3ddc6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52317?repo=metabase/metabase&commitHash=d950c95f50a08799050bed391cb3bc4751e5b76a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795741630,pull_request,closed,,Port Code to Mantine v7,like it says on the tin,rafpaf,2025-01-17 15:29:07+00:00,['rafpaf'],2025-01-17 19:04:29+00:00,2025-01-17 19:04:25+00:00,https://github.com/metabase/metabase/pull/52316,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2598613784, 'issue_id': 2795741630, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#52316** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#51144** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51144?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#52317](https://github.com/metabase/metabase/pull/52317) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52318](https://github.com/metabase/metabase/pull/52318) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 17, 15, 29, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598617476, 'issue_id': 2795741630, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e9feac70af8278c3daf8ffa4042d015a3472bfd6...0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/typography/Code/Code.config.ts<br>frontend/src/metabase/ui/components/typography/Code/Code.module.css<br>frontend/src/metabase/ui/components/typography/Code/Code.styled.tsx<br>frontend/src/metabase/ui/components/typography/Code/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 17, 15, 31, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598767687, 'issue_id': 2795741630, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29740_tests-0d6186ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/164-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>multi-series-test</code> | Expected and actual email messages do not match, with an error in the attachment. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=d44289f4-c742-5573-b840-9665cd70719a) |\n| <code>multiseries-dashcard-render-test</code> | The expected count of dashcard paths does not match the actual count. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=2a683920-c03e-5048-a9f7-06535fe28f63) |\n| <code>progress-test</code> | MantineThemeOverride is not defined, causing a ReferenceError. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=4836a8f5-90a4-5217-af46-1f2c8ddfeec5) |\n| <code>render-funnel-with-row-keys-test</code> | The expected result of a map containing keys ""homepage"", ""product\\_page"", ""cart"", ""checkout"", and ""purchase"" is not equal to the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=a6753f23-b81a-54ae-bcb6-851eb0a77a88) |\n\n[... and 160 more](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | The expected result of a condition was not met, as the actual result was the opposite of the expected one. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=2d261342-f6b9-56ad-86da-4a7627a4614f) |\n| <code>xray-dashboards-work-test</code> | The expected result of a condition was not met, as the actual result was the opposite of the expected one. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=48c0a1dc-bd45-54ed-bb96-c274944ce288) |\n| <code>xray-dashboards-work-test</code> | The generated dashboard\'s email body does not contain the expected error message. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=3c23e194-afcc-5d5d-a6ce-460f039b78b3) |\n| <code>xray-dashboards-work-test</code> | The expected result of a condition was not met, as the actual result was the opposite of the expected one. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=68fcacc6-38c1-5179-b6f5-ec2bcb28268a) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 16, 45, 50, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-17 15:29:28 UTC): * **#52316** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52316?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#51144** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51144?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#52317](https://github.com/metabase/metabase/pull/52317) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52317?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52318](https://github.com/metabase/metabase/pull/52318) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52318?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-17 15:31:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e9feac70af8278c3daf8ffa4042d015a3472bfd6...0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/typography/Code/Code.config.ts<br>frontend/src/metabase/ui/components/typography/Code/Code.module.css<br>frontend/src/metabase/ui/components/typography/Code/Code.styled.tsx<br>frontend/src/metabase/ui/components/typography/Code/index.ts<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-17 16:45:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29740_tests-0d6186ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/164-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>multi-series-test</code> | Expected and actual email messages do not match, with an error in the attachment. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=d44289f4-c742-5573-b840-9665cd70719a) |
| <code>multiseries-dashcard-render-test</code> | The expected count of dashcard paths does not match the actual count. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=2a683920-c03e-5048-a9f7-06535fe28f63) |
| <code>progress-test</code> | MantineThemeOverride is not defined, causing a ReferenceError. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=4836a8f5-90a4-5217-af46-1f2c8ddfeec5) |
| <code>render-funnel-with-row-keys-test</code> | The expected result of a map containing keys ""homepage"", ""product\_page"", ""cart"", ""checkout"", and ""purchase"" is not equal to the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=a6753f23-b81a-54ae-bcb6-851eb0a77a88) |

[... and 160 more](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | The expected result of a condition was not met, as the actual result was the opposite of the expected one. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=2d261342-f6b9-56ad-86da-4a7627a4614f) |
| <code>xray-dashboards-work-test</code> | The expected result of a condition was not met, as the actual result was the opposite of the expected one. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=48c0a1dc-bd45-54ed-bb96-c274944ce288) |
| <code>xray-dashboards-work-test</code> | The generated dashboard's email body does not contain the expected error message. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=3c23e194-afcc-5d5d-a6ce-460f039b78b3) |
| <code>xray-dashboards-work-test</code> | The expected result of a condition was not met, as the actual result was the opposite of the expected one. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE&runId=68fcacc6-38c1-5179-b6f5-ec2bcb28268a) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52316?repo=metabase/metabase&commitHash=0d6186ad08c76d6c65bd60945c5bfc8fe2a5698a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795718206,pull_request,closed,,Update Translation sources for v52.7,"Update translations from POEditor for v52.7

See [translation update documentation](https://www.notion.so/metabase/Process-for-updating-translations-421db70048fe400da1153ad0b61102f4)

## To Do

- [x] Upload new strings to POEditor
- [ ] Message contributors on POEditor (manual)
- [ ] Copy source strings to english language (manual)
- [ ] Download translations from POEditor (github action)
- [ ] Merge this PR and backport to the release branch (manual)
",github-actions[bot],2025-01-17 15:17:25+00:00,['iethree'],2025-01-20 21:03:34+00:00,2025-01-20 20:08:29+00:00,https://github.com/metabase/metabase/pull/52315,"[('Customization/i18n', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2599332800, 'issue_id': 2795718206, 'author': 'iethree', 'body': 'just updating the source strings for now', 'created_at': datetime.datetime(2025, 1, 17, 22, 46, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599347939, 'issue_id': 2795718206, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e04dbca7c7789e955b198f1bcda1aeb051e068bc-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838062061?pr=52315)\n\n  File | Test Name\n  ---- | ---------\n  `native-filters-reproductions.cy.spec.js` | (_flaky_) issue 29786 > should allow using field filters with null schema (metabase#29786)', 'created_at': datetime.datetime(2025, 1, 17, 23, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599366883, 'issue_id': 2795718206, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111332_tests-e04dbca7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=821982cb-ed4a-5a0b-9076-f331920c7632) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=eeecdb28-2e8b-51de-952e-d1ad32cab0f1) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=f82440e9-36e4-5713-a9d7-bd3b4fd36c0c) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=65cc59e8-bf4c-54c9-84ac-f20d4de49afe) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 23, 26, 8, tzinfo=datetime.timezone.utc)}]","iethree (Assginee) on (2025-01-17 22:46:24 UTC): just updating the source strings for now

github-actions[bot] (Issue Creator) on (2025-01-17 23:02:47 UTC): ## e2e tests failed on `e04dbca7c7789e955b198f1bcda1aeb051e068bc-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838062061?pr=52315)

  File | Test Name
  ---- | ---------
  `native-filters-reproductions.cy.spec.js` | (_flaky_) issue 29786 > should allow using field filters with null schema (metabase#29786)

trunk-io[bot] on (2025-01-17 23:26:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111332_tests-e04dbca7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=821982cb-ed4a-5a0b-9076-f331920c7632) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=eeecdb28-2e8b-51de-952e-d1ad32cab0f1) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=f82440e9-36e4-5713-a9d7-bd3b4fd36c0c) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment&runConclusion=FAILURE&runId=65cc59e8-bf4c-54c9-84ac-f20d4de49afe) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52315?repo=metabase/metabase&commitHash=e04dbca7c7789e955b198f1bcda1aeb051e068bc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795673461,pull_request,closed,,Fix - Actions can't be made public,"Fixes #51282

### Description

This PR disables the ""Make public"" toggle in Create Action Modal as this toggle needs action id to work (for API call) which is not there until action is saved. An explanatory tooltip has been added on hover. The toggle will be enabled only when editing an existing action.

### How to verify

1. New > Action
2. Click the gear icon (Action settings)
3. ""Make public"" toggle should not be disabled (it's enabled only when editing an existing action)
4. Hovering ""Make public"" toggle should result in showing an explanatory tooltip

### Demo

![image](https://github.com/user-attachments/assets/f019d509-0076-4476-ac39-323a3d8b5bce)

",kamilmielnik,2025-01-17 14:57:31+00:00,['kamilmielnik'],2025-01-22 10:20:53+00:00,2025-01-22 09:44:25+00:00,https://github.com/metabase/metabase/pull/52314,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2602689799, 'issue_id': 2795673461, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13478_tests-392c6a45-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=FAILURE&runId=833d4603-ba7f-56cb-867d-65ba8ea798bc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 20, 15, 19, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606702047, 'issue_id': 2795673461, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `392c6a45f30791d7900271f3d5552e0abb75e199-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12904733573?pr=52314)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 22, 9, 24, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-20 15:19:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13478_tests-392c6a45-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment&runConclusion=FAILURE&runId=833d4603-ba7f-56cb-867d-65ba8ea798bc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52314?repo=metabase/metabase&commitHash=392c6a45f30791d7900271f3d5552e0abb75e199&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 09:24:08 UTC): ## e2e tests failed on `392c6a45f30791d7900271f3d5552e0abb75e199-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12904733573?pr=52314)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

"
2795552608,pull_request,closed,,Repro #48358 - Incorrect Breakouts Generated for Multi Series Viz When Question is Edited,"Closes #48358

### How to verify

CI is green.",kamilmielnik,2025-01-17 14:01:41+00:00,['kamilmielnik'],2025-01-20 07:50:36+00:00,2025-01-20 07:50:34+00:00,https://github.com/metabase/metabase/pull/52313,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2598522551, 'issue_id': 2795552608, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3744_tests-e9272c7b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=ed840aab-0205-5a78-9ba8-0d7f187bff75) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=643543f8-fdfc-51e5-aa8c-752de00f02e7) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=751cdd33-dcec-5205-a28f-db13966ac8af) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=f3831afb-f006-56cc-bce9-c4dd7b5f2359) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 14, 44, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 14:44:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3744_tests-e9272c7b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=ed840aab-0205-5a78-9ba8-0d7f187bff75) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=643543f8-fdfc-51e5-aa8c-752de00f02e7) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=751cdd33-dcec-5205-a28f-db13966ac8af) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment&runConclusion=FAILURE&runId=f3831afb-f006-56cc-bce9-c4dd7b5f2359) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52313?repo=metabase/metabase&commitHash=e9272c7bc64847edbb07694bebac2593555482c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795438416,pull_request,closed,,Repro #46832 - Aggregation picker does not show all columns,"Closes #46832

### Description

Just a repro. Bug is already fixed by introduction of the ""Summaries"" groups.

### How to verify

CI is green.",kamilmielnik,2025-01-17 13:05:37+00:00,['kamilmielnik'],2025-01-20 07:50:12+00:00,2025-01-20 07:50:10+00:00,https://github.com/metabase/metabase/pull/52311,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2598395204, 'issue_id': 2795438416, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3765_tests-bd1362b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > collection should be possible to add and remove a metric from bookmarks</code> | The expected element with class \\`.popover[data-state~=\'visible\'],[data-element-id=mantine-popover]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=4467b97c-b26d-5cc8-9770-b54566ad48cc) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=760866f4-a996-5513-9c89-b8980172a595) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=988cd33f-2f49-50b9-a7b1-bde1260f09f8) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=f853e321-bdb3-5931-86ea-0d65dd03c0d6) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=fab98b7a-d9e5-542f-8e33-21ab19a05c0a) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 13, 42, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 13:42:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3765_tests-bd1362b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > collection should be possible to add and remove a metric from bookmarks</code> | The expected element with class \`.popover[data-state~='visible'],[data-element-id=mantine-popover]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=4467b97c-b26d-5cc8-9770-b54566ad48cc) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=760866f4-a996-5513-9c89-b8980172a595) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=988cd33f-2f49-50b9-a7b1-bde1260f09f8) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=f853e321-bdb3-5931-86ea-0d65dd03c0d6) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE&runId=fab98b7a-d9e5-542f-8e33-21ab19a05c0a) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52311?repo=metabase/metabase&commitHash=bd1362b61863858cd64f5581e8dda7c611b7b077&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795409797,pull_request,closed,,fix(sdk): echarts tooltip is cut off below the viewport height,"Closes https://github.com/metabase/metabase/issues/51904

### Description

![image](https://github.com/user-attachments/assets/f9218a2e-8668-43ce-ad0b-1774067bf94f)

Tooltips of visualizations gets cut off at a point beyond the bottom edge of the initial screen size, then disappears completely. This is because `.echarts-tooltip-container only covers the screen height (the blue area in the above screenshot), so tooltips don't show up below that.

This PR updates the tooltip to use `position: fixed` with an appropriate z-index. It also adds an e2e test for the SDK to ensure that tooltips are always properly visible below the fold.

### How to verify

On the SDK:

- Open an interactive dashboard in the SDK, using a dashboard that has a longer height than your screen size (e.g. an x-rayed auto-generated dashboard)
  - You can use the Shoppy demo's Orders dashboard (https://embedded-analytics-sdk-demo.metabase.com/admin/analytics/12) and scroll down to the ""Hours when Orders were added"" dashboard card.
- Scroll to a dashcard at the edge at your screen. Tooltip should not get cut off anymore, unlike the above screenshot.
- Scroll to a dashcard beyond the edge of your screen. Tooltips should also be visible.

On the main Metabase app, static iframe embedding and iframe embedding with iframe-resizer:

- Tooltips should still continue to work with no visual artifacts.

### Demo

- Cypress E2E Local Runs - [Private Loom](https://www.loom.com/share/e190643a56da4ca79ac03afc26f29e65?sid=3ea15c61-1c12-47d8-9d2a-83594b42b440)

- Tested on Shoppy - [Private Loom](https://www.loom.com/share/dceb33a742044b50bc400ce7c2efaa3e?sid=565f8f2a-6a82-4533-a5e3-a6f2964ed2d5) - below-the-fold echarts tooltip now works

- Tested on iframe (static embedding) and iframe-resizer script - [Private Loom](https://www.loom.com/share/4e3f7cb6419948779e319d8c808c9dd3?sid=44efc182-9923-4c31-8ec7-01a958e65f08)

- Tested on the main app - [Private Loom](https://www.loom.com/share/5b1c9c14c59f4c6f919a19902fef95e6?sid=b0936d18-4d12-49e6-9977-16345a789a8a)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2025-01-17 12:50:37+00:00,['heypoom'],2025-01-23 05:55:18+00:00,2025-01-23 05:55:17+00:00,https://github.com/metabase/metabase/pull/52310,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2602983214, 'issue_id': 2795409797, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9315a633b3992abc2e402675f4921d00e6dfa3a3...710f20b8abb48fde51224fa581f52b81fecb0c3e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2025, 1, 20, 17, 46, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603031426, 'issue_id': 2795409797, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41188_tests-710f20b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 20, 18, 21, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605191430, 'issue_id': 2795409797, 'author': 'heypoom', 'body': '@WiNloSt Thanks for pointing out the local flakes! I removed the unnecessary wait in https://github.com/metabase/metabase/pull/52310/commits/eedef60b2c80f0170b909f407f1cd0673990b00f and local runs seems to not be flaking anymore - [Private Loom](https://www.loom.com/share/e190643a56da4ca79ac03afc26f29e65?sid=a08bd477-60c1-45d0-8814-9f799b4ccbbe)', 'created_at': datetime.datetime(2025, 1, 21, 16, 24, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606736851, 'issue_id': 2795409797, 'author': 'heypoom', 'body': ""@WiNloSt I fixed the `be.visible` and `:visible` tests to use a custom visibility check that emulates what Cypress does, they're working reliably now. Also, the flakes in the new test suite is gone as far as my local environment goes 🙏🏻"", 'created_at': datetime.datetime(2025, 1, 22, 9, 39, 34, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-20 17:46:22 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9315a633b3992abc2e402675f4921d00e6dfa3a3...710f20b8abb48fde51224fa581f52b81fecb0c3e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

trunk-io[bot] on (2025-01-20 18:21:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41188_tests-710f20b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52310?repo=metabase/metabase&commitHash=710f20b8abb48fde51224fa581f52b81fecb0c3e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2025-01-21 16:24:15 UTC): @WiNloSt Thanks for pointing out the local flakes! I removed the unnecessary wait in https://github.com/metabase/metabase/pull/52310/commits/eedef60b2c80f0170b909f407f1cd0673990b00f and local runs seems to not be flaking anymore - [Private Loom](https://www.loom.com/share/e190643a56da4ca79ac03afc26f29e65?sid=a08bd477-60c1-45d0-8814-9f799b4ccbbe)

heypoom (Issue Creator) on (2025-01-22 09:39:34 UTC): @WiNloSt I fixed the `be.visible` and `:visible` tests to use a custom visibility check that emulates what Cypress does, they're working reliably now. Also, the flakes in the new test suite is gone as far as my local environment goes 🙏🏻

"
2795402632,pull_request,closed,,"🤖 backported ""Fixed resetting the embedded preview to the default font""",#52306,github-automation-metabase,2025-01-17 12:46:44+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-17 14:32:46+00:00,2025-01-17 13:32:38+00:00,https://github.com/metabase/metabase/pull/52309,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2598353504, 'issue_id': 2795402632, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13404_tests-56966629-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE&runId=e561b14c-caff-53bf-b269-762f1fc59b44) |\n| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE&runId=ab75400f-7355-5062-b3ee-e22d38d67f72) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE&runId=c23816f1-dfb6-586f-8854-8e3d7ec78eee) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 13, 19, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 13:19:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13404_tests-56966629-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE&runId=e561b14c-caff-53bf-b269-762f1fc59b44) |
| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE&runId=ab75400f-7355-5062-b3ee-e22d38d67f72) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment&runConclusion=FAILURE&runId=c23816f1-dfb6-586f-8854-8e3d7ec78eee) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52309?repo=metabase/metabase&commitHash=569666299907b539316463bf5a73eb82c652fea8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795174475,pull_request,closed,,Fix empty state color for accordion list,"Fixes https://github.com/metabase/metabase/issues/46667
The wrong unsupported value was used

Fixed visuals:
![image](https://github.com/user-attachments/assets/2c1b772b-295b-4f27-bbc9-a6e659f07aae)

# How to verify:
- New > Question > Orders
- Click `filter` and `summarize` buttons
- Type gibberish in the search so there are no results
- See empty state, text should have a gray color
",sanex3339,2025-01-17 10:57:33+00:00,['sanex3339'],2025-01-20 09:41:17+00:00,2025-01-20 09:41:15+00:00,https://github.com/metabase/metabase/pull/52308,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2598180321, 'issue_id': 2795174475, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40797_tests-d6e56599-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE&runId=40bb9403-794b-579c-88fa-623e95878b65) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE&runId=a11dc1bf-4965-5218-946c-823eadc758ae) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE&runId=dc0269ae-f2b1-563b-952a-9ecd9f597e26) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 11, 41, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598180325, 'issue_id': 2795174475, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/11972_tests-7125f97b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=9b858c9f-cf93-5b04-9a89-1abee7df3c07) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 11, 41, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 11:41:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40797_tests-d6e56599-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE&runId=40bb9403-794b-579c-88fa-623e95878b65) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE&runId=a11dc1bf-4965-5218-946c-823eadc758ae) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment&runConclusion=FAILURE&runId=dc0269ae-f2b1-563b-952a-9ecd9f597e26) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=d6e56599031ae490dbef7998c627c76b9e255cb4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-17 11:41:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/11972_tests-7125f97b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=9b858c9f-cf93-5b04-9a89-1abee7df3c07) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52308?repo=metabase/metabase&commitHash=7125f97b9e9fad91f9fc063d684a5eea370f7cf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2795056975,pull_request,closed,,Fixed resetting the embedded preview to the default font,"Fixes https://github.com/metabase/metabase/issues/45637

To fix it, we just need to handle a case in `frontend/src/metabase/dashboard/hooks/use-dashboard-url-params.ts` when a font is empty or nullable",sanex3339,2025-01-17 10:07:35+00:00,['sanex3339'],2025-01-17 12:45:54+00:00,2025-01-17 12:45:53+00:00,https://github.com/metabase/metabase/pull/52306,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2597970973, 'issue_id': 2795056975, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13339_tests-690d3423-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE&runId=66be334c-5903-5897-ba6d-eb9809372cf3) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE&runId=ad3cf05e-a2f4-5da9-88ca-36435ff6ccff) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE&runId=70444cfb-24da-55d3-9d2b-78af3e08bd2b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 10, 41, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 10:41:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13339_tests-690d3423-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE&runId=66be334c-5903-5897-ba6d-eb9809372cf3) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE&runId=ad3cf05e-a2f4-5da9-88ca-36435ff6ccff) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment&runConclusion=FAILURE&runId=70444cfb-24da-55d3-9d2b-78af3e08bd2b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52306?repo=metabase/metabase&commitHash=690d34237d1500994d220ab5f4b732b3d2712579&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794979030,pull_request,closed,,Fixes ellipsis button hidden when dash card title is empty string,"Closes #46897

### Description

The ellipsis button that allows users to edit a question or download its results on a dashboard card needs to be visible, even when the title is set to an empty string. This PR makes sure it is.

Incidentally, this fixes twos error messages in the console about unknown HTML attributes.

### How to verify

 1. Create question, summarize by a value, and visualize using bar chart.
 2. Add to dashboard
 3. Edit dashboard → click on Visualization Options for the card, clear the contents within the Title field → Save.
 4. 3-dot menu for the card to Edit the question and Download the results is there.

### Demo

Before
<img width=""1565"" alt=""before"" src=""https://github.com/user-attachments/assets/9db4145b-2b79-4ba2-a618-a4650d836d35"" />


After
<img width=""1563"" alt=""after"" src=""https://github.com/user-attachments/assets/a7e62a47-2855-4c2c-a068-af8981555f95"" />


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",lorem--ipsum,2025-01-17 09:29:29+00:00,[],2025-01-22 09:37:32+00:00,2025-01-22 09:37:30+00:00,https://github.com/metabase/metabase/pull/52305,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team'), ('ready-for-review', 'Marks a PR done-ish. Good for filtering')]","[{'comment_id': 2598840756, 'issue_id': 2794979030, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1c63f624318f76111c421d8bab22e79dfcd32f4a...a1065ebea5c0248332d419113702db0cfb754b85.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |', 'created_at': datetime.datetime(2025, 1, 17, 17, 22, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598935010, 'issue_id': 2794979030, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/68678_tests-a1065ebe-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 18, 16, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 17:22:12 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1c63f624318f76111c421d8bab22e79dfcd32f4a...a1065ebea5c0248332d419113702db0cfb754b85.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |

trunk-io[bot] on (2025-01-17 18:16:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/68678_tests-a1065ebe-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52305?repo=metabase/metabase&commitHash=a1065ebea5c0248332d419113702db0cfb754b85&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794968454,pull_request,open,,Reduce flicker in table column header action popover on click,"### Description

This PR reduce the flicker in the table column header that happens because the info popover and the action popover are rendering in alternating fashion.

Note: I've been trying to write a test that is not flaky for this but could not recreate the conditions of the flicker in Cypress reliably, so I've not added any tests to catch this.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Products -> Visualise
2. Click on a table column header, then on another one, there should be no flicker
3. Close the popover by clicking on the header again
4. Hover a table column header until the info popover appears, then click on the header, and click on another one, there should be no flicker

### Demo

##### Before

https://github.com/user-attachments/assets/4ad5a72d-729f-4449-8c17-7094fcb04ba3

##### After

https://github.com/user-attachments/assets/af0b1fcb-5c34-47b6-a76f-95be5c431266



",romeovs,2025-01-17 09:24:13+00:00,['romeovs'],2025-01-20 14:48:14+00:00,,https://github.com/metabase/metabase/pull/52304,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2597794169, 'issue_id': 2794968454, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 87316e805ee3ebb510345b9d64f306d0f2b0bf43...a3873677409c6d900423f9f04276a43b417e97c0.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx |', 'created_at': datetime.datetime(2025, 1, 17, 9, 25, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597886096, 'issue_id': 2794968454, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13410_tests-a3873677-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=f79daf30-c199-598f-b9c1-eaee53aa7430) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=4b1181e2-6a9f-5c5c-8b7a-c0e851004589) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=33eb406d-74fb-599f-9a1f-d6ee1b17785e) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=67ac0de2-fa97-5576-b2ec-d54fa601f9dd) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=5d5d4492-f7f1-513e-91a2-6e76bb6ee05d) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 10, 10, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598120470, 'issue_id': 2794968454, 'author': 'romeovs', 'body': '@kamilmielnik yeah I was looking into fixing that issue (and the double click issue too), but there is a lot of indirection going on so I wanted to focus just on the issue at hand.\r\n\r\nWith ""indirection"" I mean: callbacks are being called in `setTimeout` wrappers to make the state not overwrite itself from a lot of different places.\r\nIt will be a bigger technical project to remove this.', 'created_at': datetime.datetime(2025, 1, 17, 11, 15, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601691017, 'issue_id': 2794968454, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a3873677409c6d900423f9f04276a43b417e97c0-4`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12863376841?pr=52304)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard', 'created_at': datetime.datetime(2025, 1, 20, 8, 7, 5, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 09:25:44 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 87316e805ee3ebb510345b9d64f306d0f2b0bf43...a3873677409c6d900423f9f04276a43b417e97c0.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx |

trunk-io[bot] on (2025-01-17 10:10:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13410_tests-a3873677-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=f79daf30-c199-598f-b9c1-eaee53aa7430) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=4b1181e2-6a9f-5c5c-8b7a-c0e851004589) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=33eb406d-74fb-599f-9a1f-d6ee1b17785e) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=67ac0de2-fa97-5576-b2ec-d54fa601f9dd) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE&runId=5d5d4492-f7f1-513e-91a2-6e76bb6ee05d) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52304?repo=metabase/metabase&commitHash=a3873677409c6d900423f9f04276a43b417e97c0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

romeovs (Issue Creator) on (2025-01-17 11:15:20 UTC): @kamilmielnik yeah I was looking into fixing that issue (and the double click issue too), but there is a lot of indirection going on so I wanted to focus just on the issue at hand.

With ""indirection"" I mean: callbacks are being called in `setTimeout` wrappers to make the state not overwrite itself from a lot of different places.
It will be a bigger technical project to remove this.

github-actions[bot] on (2025-01-20 08:07:05 UTC): ## e2e tests failed on `a3873677409c6d900423f9f04276a43b417e97c0-4`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12863376841?pr=52304)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard

"
2794810260,pull_request,closed,,"🤖 backported ""Fix - Custom column formula autocomplete overwrites part of existing formula""",#52198,github-automation-metabase,2025-01-17 07:54:01+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-17 09:11:30+00:00,2025-01-17 08:32:33+00:00,https://github.com/metabase/metabase/pull/52303,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2597711273, 'issue_id': 2794810260, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/61489_tests-5e7bd2fb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE&runId=b17a6841-7d98-5068-89fb-936109d8ce86) |\n| <code>SavedQuestionLoader should load a question given a questionId</code> | Unable to find an element with the text ""Question 1"" in the DOM. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE&runId=4033b56c-f964-5c1a-8d3d-26ca524708de) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE&runId=a5434729-84d0-52ae-81d6-857e39c7c120) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 8, 41, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 08:41:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/61489_tests-5e7bd2fb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE&runId=b17a6841-7d98-5068-89fb-936109d8ce86) |
| <code>SavedQuestionLoader should load a question given a questionId</code> | Unable to find an element with the text ""Question 1"" in the DOM. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE&runId=4033b56c-f964-5c1a-8d3d-26ca524708de) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment&runConclusion=FAILURE&runId=a5434729-84d0-52ae-81d6-857e39c7c120) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52303?repo=metabase/metabase&commitHash=5e7bd2fbd411e5090efcf8750e84ebbcf2a58e0c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794808398,pull_request,closed,,linked-issues.ts: github complained about regexp,,piranha,2025-01-17 07:52:52+00:00,[],2025-01-27 22:11:23+00:00,2025-01-17 08:10:29+00:00,https://github.com/metabase/metabase/pull/52302,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2794785049,pull_request,closed,,"🤖 backported ""Fix - Confusing error message when trying to add a custom expression aggregation""",#52267,github-automation-metabase,2025-01-17 07:37:40+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-17 08:57:55+00:00,2025-01-17 08:12:29+00:00,https://github.com/metabase/metabase/pull/52301,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2597659648, 'issue_id': 2794785049, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13277_tests-6c390060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE&runId=5debe17f-c1b3-50fc-ab99-9ffa63e8058d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 8, 10, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597659650, 'issue_id': 2794785049, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12517_tests-6c390060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE&runId=5debe17f-c1b3-50fc-ab99-9ffa63e8058d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 8, 10, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597659651, 'issue_id': 2794785049, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12517_tests-6c390060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE&runId=5debe17f-c1b3-50fc-ab99-9ffa63e8058d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 8, 10, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 08:10:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13277_tests-6c390060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE&runId=5debe17f-c1b3-50fc-ab99-9ffa63e8058d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-17 08:10:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12517_tests-6c390060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE&runId=5debe17f-c1b3-50fc-ab99-9ffa63e8058d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-17 08:10:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12517_tests-6c390060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment&runConclusion=FAILURE&runId=5debe17f-c1b3-50fc-ab99-9ffa63e8058d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52301?repo=metabase/metabase&commitHash=6c390060e4e9f98b63d05bed3e8f95e3cf0d011a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794711374,pull_request,open,,E2E: fix flaky tests in the 'Native',"### Description

Sometimes, queries were partially entered. For instance, instead of typing `select * from orders` it would occasionally enter `elect * from orders`. Take a look at the first screenshot. So, I've fixed it by using more reliable  method `startNewNativeQuestion`. Also, I've improved the method. Ran many times to make sure that it's not flaky anymore.

<img width=""1436"" alt=""Знімок екрана 2025-01-17 о 01 43 11"" src=""https://github.com/user-attachments/assets/eb628b14-af7a-4270-aa5d-0a5e6b484cf8"" />

With fixes:

<img width=""756"" alt=""Знімок екрана 2025-01-17 о 00 55 39"" src=""https://github.com/user-attachments/assets/20cacd46-cac1-4286-820d-c9a9c9f32772"" />




",elaichenkov,2025-01-17 06:47:17+00:00,[],2025-01-18 21:50:12+00:00,,https://github.com/metabase/metabase/pull/52300,[],[],
2794440204,pull_request,closed,,[Notification] news entity are entities without id,"our update notification had a weird convention in which in order to create new entity (handler, recipient, subscription), you'll need to use negative ids for those entity.

it's weird and hard to play with, this PR changes it so that any rows without an id will be considered as a new row.",qnkhuat,2025-01-17 03:38:21+00:00,[],2025-01-17 10:57:26+00:00,2025-01-17 10:57:23+00:00,https://github.com/metabase/metabase/pull/52299,[],[],
2794315307,pull_request,open,,E2E: removed deprecated commands,"### Description

Refactored the e2e codebase by replacing deprecated commands with recommended helper functions for improved maintainability and consistency. Sorry for the large PR - these changes were necessary to future-proof the code.",elaichenkov,2025-01-17 02:28:51+00:00,[],2025-01-18 21:50:57+00:00,,https://github.com/metabase/metabase/pull/52298,[],[],
2794287614,pull_request,closed,,"🤖 backported ""fix(sdk): Add popover props for interactive question dropdowns""",#52225,github-automation-metabase,2025-01-17 02:12:21+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-17 03:49:08+00:00,2025-01-17 03:07:52+00:00,https://github.com/metabase/metabase/pull/52297,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2597318443, 'issue_id': 2794287614, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13368_tests-1a6047a6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=FAILURE&runId=685318d4-1fb8-5493-a408-034de9b321b8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 2, 44, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 02:44:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13368_tests-1a6047a6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment&runConclusion=FAILURE&runId=685318d4-1fb8-5493-a408-034de9b321b8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52297?repo=metabase/metabase&commitHash=1a6047a6a0cea632b2931fa1c9cfa0bf9af56832&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794204928,pull_request,closed,,Simplify formatting of Slack bug report,"### Description
Makes the Metabase bug reporter post shorter plus formats messages nicely

Before:
<img width=""676"" alt=""image"" src=""https://github.com/user-attachments/assets/768aeb3e-1ad2-40d5-8ab6-7d371fda238e"" />

After:
<img width=""659"" alt=""image"" src=""https://github.com/user-attachments/assets/cb8dc64c-a5b3-4262-a804-364a47b00177"" />

",thebiglabasky,2025-01-17 01:24:22+00:00,['thebiglabasky'],2025-01-27 22:11:26+00:00,2025-01-17 01:54:22+00:00,https://github.com/metabase/metabase/pull/52296,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2597279321, 'issue_id': 2794204928, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110703_tests-32087249-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE&runId=27c5cb3d-0dc3-564e-a64e-df9d0485978d) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE&runId=a7dfbea9-92d1-510d-b38a-6f972b70e00e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 2, 2, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 02:02:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110703_tests-32087249-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE&runId=27c5cb3d-0dc3-564e-a64e-df9d0485978d) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment&runConclusion=FAILURE&runId=a7dfbea9-92d1-510d-b38a-6f972b70e00e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52296?repo=metabase/metabase&commitHash=3208724968ccf66a11be942c586c49cd8331893e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794187165,pull_request,closed,,Return is-null filter in underlying-records drill thru if value is nil,"Closes #51751

### Description

Return an `is-null` filter rather than an `=` filter for unbinned dimension values. The drill thru already did this for binned values. This prevents a crash when the user clicks on the filter pill after the drill is applied.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Analytic Events
2. Summarize: Count by Button Label
3. Click on the (empty) bar
4. Click on ""See these Analytic Events""
5. Click on the ""Button Label is empty"" filter pill at the top
6. Filter editor should appear

### Demo

![Screenshot 2025-01-16 at 5 06 37 PM](https://github.com/user-attachments/assets/ee5b38ad-ac24-409f-b1d3-e0483e62e393)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-17 01:13:46+00:00,['appleby'],2025-01-17 17:02:08+00:00,2025-01-17 17:02:06+00:00,https://github.com/metabase/metabase/pull/52295,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2597258688, 'issue_id': 2794187165, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120379_tests-bdf9b29e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE&runId=1d9ad868-0e12-51ba-be8b-cf8f8f7c5e55) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE&runId=19d2ec70-5b2d-5afa-ad58-855aed1c0dcd) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 1, 43, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 01:43:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120379_tests-bdf9b29e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE&runId=1d9ad868-0e12-51ba-be8b-cf8f8f7c5e55) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment&runConclusion=FAILURE&runId=19d2ec70-5b2d-5afa-ad58-855aed1c0dcd) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52295?repo=metabase/metabase&commitHash=bdf9b29e90f99efaed24546eb6182e4b462e96af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794173139,pull_request,closed,,Auto rewrite legacy `defendpoint` 1 forms (part 1),"I decided reworking ~250 `defendpoint` forms by hand was way too much work so I wrote code that can do it for us.

I wrote some [`rewrite-clj`](https://github.com/clj-commons/rewrite-clj) code to rewrite legacy `defendpoint` 1 forms as modern `defendpoint` 2 forms, and then ran it on a few namespaces.

Generally pretty good about outputting stuff in a nice format, but isn't currently smart enough to remove unused bindings so it needs a tiny bit of manual cleanup. Output is not indented 100% correctly either so we need to run `./bin/cljfmt-updated.sh` on the rewritten files as well.

I fixed some inconsistencies with the way the new `defendpoint` returns error responses as much as possible (not possible to make it 100% the same since the schemas are grouped together in `:map` schemas but the error messages are still at least as useful as the old ones) and fixed a few other small things like that with the `defendpoint` macro.

Once this PR lands and we work out the kinks we can open follow-on PRs that update a lot more endpoints",camsaul,2025-01-17 01:05:30+00:00,['camsaul'],2025-01-27 22:11:04+00:00,2025-01-21 22:07:52+00:00,https://github.com/metabase/metabase/pull/52294,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2597258980, 'issue_id': 2794173139, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/109347_tests-c787d19b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE&runId=07c12ea8-763c-551e-ab5e-78eac01db275) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE&runId=bfa2aa12-6b9d-5291-ae86-f39e34d857c0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 1, 43, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 01:43:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/109347_tests-c787d19b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE&runId=07c12ea8-763c-551e-ab5e-78eac01db275) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment&runConclusion=FAILURE&runId=bfa2aa12-6b9d-5291-ae86-f39e34d857c0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52294?repo=metabase/metabase&commitHash=c787d19b45d8eaf05ac5d05d79210a7cef632ccd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794076412,pull_request,closed,,"🤖 backported ""Document and update CSV date export behaviour""","  #52210
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-17 00:09:18+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-24 21:52:38+00:00,2025-01-24 21:52:37+00:00,https://github.com/metabase/metabase/pull/52293,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2597220928, 'issue_id': 2794076412, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124190_tests-94034626-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE&runId=77c5fd4a-6781-50b9-9225-702d76a9782f) |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE&runId=3f2f8b7a-d508-556f-b3ee-c1225d82fc92) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 1, 6, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 01:06:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124190_tests-94034626-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE&runId=77c5fd4a-6781-50b9-9225-702d76a9782f) |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment&runConclusion=FAILURE&runId=3f2f8b7a-d508-556f-b3ee-c1225d82fc92) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52293?repo=metabase/metabase&commitHash=940346260228e8ba4b03969efaaf63df133a8272&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2794026212,pull_request,closed,,"🤖 backported ""#49809 Fix sorting by unbinned date expression""",#52277,github-automation-metabase,2025-01-16 23:39:17+00:00,"['ericnormand', 'github-automation-metabase']",2025-01-17 01:09:01+00:00,2025-01-17 00:13:26+00:00,https://github.com/metabase/metabase/pull/52292,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2597174614, 'issue_id': 2794026212, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120376_tests-25ba8cf7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE&runId=ac962494-9a0a-566c-a948-930a5e6b1804) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The table or view 'test-data.orders\\_v' cannot be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE&runId=cb4de8c9-7d15-5144-bfaf-217791d9f9a3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 17, 0, 22, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 00:22:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120376_tests-25ba8cf7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE&runId=ac962494-9a0a-566c-a948-930a5e6b1804) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The table or view 'test-data.orders\_v' cannot be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment&runConclusion=FAILURE&runId=cb4de8c9-7d15-5144-bfaf-217791d9f9a3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52292?repo=metabase/metabase&commitHash=25ba8cf734fd42b2fa6f04e649ea4c7358bc0017&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793954117,pull_request,closed,,"🤖 backported ""Cards use default values when required""",#52144,github-automation-metabase,2025-01-16 23:01:38+00:00,"['wzimrin', 'github-automation-metabase']",2025-01-17 00:44:29+00:00,2025-01-16 23:35:33+00:00,https://github.com/metabase/metabase/pull/52291,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2597144524, 'issue_id': 2793954117, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120364_tests-83010bdc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>release-all-locks-if-needed!-test</code> | Array index out of bounds error: 32 is greater than 0. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE&runId=9573f6ad-b7d3-5f94-80f5-145049c5eae9) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE&runId=929635b2-ca38-571b-ae67-4fbaa930f57e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 23, 54, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 23:54:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120364_tests-83010bdc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>release-all-locks-if-needed!-test</code> | Array index out of bounds error: 32 is greater than 0. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE&runId=9573f6ad-b7d3-5f94-80f5-145049c5eae9) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment&runConclusion=FAILURE&runId=929635b2-ca38-571b-ae67-4fbaa930f57e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52291?repo=metabase/metabase&commitHash=83010bdcebe4814d33d594d942c137a09546992f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793940625,pull_request,closed,,Fix bad overflow on ColumnItem preventing showing and hiding columns,"_backporting due to original PR being an SDK fix_

Fixes the text overflow in `ColumnItem` in visualization settings when the column name is really long, which is forcing buttons off the screen and preventing users from clicking the buttons.

Before:
<img width=""331"" alt=""image"" src=""https://github.com/user-attachments/assets/5e639b57-ae8d-47e9-b06d-b4a0a47969c6"" />


After:
<img width=""322"" alt=""image"" src=""https://github.com/user-attachments/assets/5d4c130b-8138-468c-82f4-41bffc5d6d79"" />



this PR adds the `.textWrap` class, which adds
```
word-break: break-word;
word-wrap: anywhere;
```
to the code which wraps the text.

I've also added unit tests and a e2e test to test for visibility so hopefully we don't end up with this error again.",oisincoveney,2025-01-16 22:51:55+00:00,['oisincoveney'],2025-01-17 22:53:23+00:00,2025-01-17 22:04:29+00:00,https://github.com/metabase/metabase/pull/52290,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2597066739, 'issue_id': 2793940625, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52290 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 16, 22, 51, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597068668, 'issue_id': 2793940625, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 72501e16e386608d100855d8448586ff7b32e076...a105cddbded97ae4e0e124c2c2868c0800279024.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.unit.spec.tsx |', 'created_at': datetime.datetime(2025, 1, 16, 22, 53, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597141723, 'issue_id': 2793940625, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29052_tests-a105cddb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE&runId=0bb7ff46-2ecc-5dfd-b79f-baa2ee10b9bd) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE&runId=c71206ee-6da7-5e50-b4f2-e49fb8176055) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE&runId=5e0f0b70-d2bd-5d77-b3f1-47a98868a387) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 16, 23, 51, 53, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-16 22:51:57 UTC): This change is part of the following stack:

- #52290 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-16 22:53:24 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 72501e16e386608d100855d8448586ff7b32e076...a105cddbded97ae4e0e124c2c2868c0800279024.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.unit.spec.tsx |

trunk-io[bot] on (2025-01-16 23:51:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29052_tests-a105cddb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE&runId=0bb7ff46-2ecc-5dfd-b79f-baa2ee10b9bd) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE&runId=c71206ee-6da7-5e50-b4f2-e49fb8176055) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment&runConclusion=FAILURE&runId=5e0f0b70-d2bd-5d77-b3f1-47a98868a387) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52290?repo=metabase/metabase&commitHash=a105cddbded97ae4e0e124c2c2868c0800279024&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793900330,pull_request,closed,,Implement redirect reaction for Metabot,"Redirect reaction redirects the user to the results page generated by a tool.
Currently `query-metric` and `generate-insights` tools use this reaction.

This also introduces a concept of ""terminating"" reactions. When a tool returns a
terminating reaction, this tool call result is not sent back to the LLM, instead
it returns the envelope and the frontend handles any sideffects.",retro,2025-01-16 22:18:56+00:00,['retro'],2025-01-20 14:03:41+00:00,2025-01-20 12:26:31+00:00,https://github.com/metabase/metabase/pull/52289,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als'), ('Metabot/UX', ""Metabot's user experience and chatbot"")]","[{'comment_id': 2597102969, 'issue_id': 2793900330, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121074_tests-223e1c66-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=28e5c31d-b213-5a01-9d95-440ece19e6d4) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=589cc85d-f1c9-5cb6-b3d0-c41d054161b4) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=272ca999-8f9b-55d2-aea7-091f34550f37) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from a collection, but actual entity is not equal. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=d469d1d3-8108-5012-92f0-d8edc6df2fb7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 23, 18, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 23:18:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121074_tests-223e1c66-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=28e5c31d-b213-5a01-9d95-440ece19e6d4) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=589cc85d-f1c9-5cb6-b3d0-c41d054161b4) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=272ca999-8f9b-55d2-aea7-091f34550f37) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from a collection, but actual entity is not equal. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment&runConclusion=FAILURE&runId=d469d1d3-8108-5012-92f0-d8edc6df2fb7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52289?repo=metabase/metabase&commitHash=223e1c66a96c71c4af9fd70b7a0412c5b1f8bb23&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793859051,pull_request,closed,,docs - azure sql,"Note on port for connecting to Azure SQL.

See https://discourse.metabase.com/t/anyone-using-metabase-with-azure-sql-server/6348/6",jeff-bruemmer,2025-01-16 21:54:52+00:00,['jeff-bruemmer'],2025-01-17 19:07:28+00:00,2025-01-17 19:04:00+00:00,https://github.com/metabase/metabase/pull/52287,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2793855078,pull_request,closed,,"Don't email ""new login"" detected emails on embedded logins","Closes #52196

### Description

This PR first does a bit of cleanup around session management in order to centralize the login handling better. 

Then, it is able to move the `maybe-send-login-from-new-device-email!` call from the `after-insert` callback on login_history into `create-session!`

Because create-session doesn't have direct access to the original request, whether the request came from an embedded use case or not is added to the device-info information which is passed to it for use here or anywhere else long-term. The implementation of whether it is embedded or not is just a check for a ""token"" attribute but that can be changed as needed down the road. 

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Open an embedded chart and see that you don't get a ""new login detected"" email

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-16 21:53:07+00:00,['nvoxland'],2025-01-27 22:54:40+00:00,2025-01-27 22:36:54+00:00,https://github.com/metabase/metabase/pull/52286,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2597059490, 'issue_id': 2793855078, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94768_tests-f7af4ff5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE&runId=c40fbeee-4e74-5a65-8341-d9eafc2624de) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE&runId=6d91028a-654a-52dd-bcef-ffe4e217008f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 22, 46, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616978600, 'issue_id': 2793855078, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f7af4ff5c3e09822f03e26b50ec1b964258da378-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12998785251?pr=52286)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 27, 21, 55, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617055358, 'issue_id': 2793855078, 'author': 'nvoxland', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 27, 22, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617057985, 'issue_id': 2793855078, 'author': 'github-actions[bot]', 'body': '@nvoxland Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 27, 22, 47, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 22:46:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94768_tests-f7af4ff5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE&runId=c40fbeee-4e74-5a65-8341-d9eafc2624de) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment&runConclusion=FAILURE&runId=6d91028a-654a-52dd-bcef-ffe4e217008f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52286?repo=metabase/metabase&commitHash=f7af4ff5c3e09822f03e26b50ec1b964258da378&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 21:55:08 UTC): ## e2e tests failed on `f7af4ff5c3e09822f03e26b50ec1b964258da378-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12998785251?pr=52286)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

nvoxland (Issue Creator) on (2025-01-27 22:45:16 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-27 22:47:04 UTC): @nvoxland Manual conflict resolution is required

"
2793831068,pull_request,closed,,Update keyboard command palette nav to support ctrl + enter,"Closes https://github.com/metabase/metabase/issues/35902

### Description
`ctrl + click` was already supported in the command palette, but @luizarakaki requested that `ctrl + enter` be supported as well. doing so will open links in new tabs

### How to verify

1. Open the command palette, and use your keyboard to navigate to a recent item or search result
2. hold down `cmd / ctrl` and press `enter`
3. You should see the item open in a new tab

### Demo
![chrome_3r1wxQsjxa](https://github.com/user-attachments/assets/aed90c17-5401-4665-ac3d-e0392f116e9f)

### Checklist

- ~[ ] Tests have been added/updated to cover changes in this PR~
As far as I'm aware, there is no good way to test this in cypress or in unit tests. Very open to suggestions
",npfitz,2025-01-16 21:41:40+00:00,['npfitz'],2025-01-21 23:50:51+00:00,2025-01-21 23:45:44+00:00,https://github.com/metabase/metabase/pull/52285,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2597028734, 'issue_id': 2793831068, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13517_tests-fab5898d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE&runId=206b9ffc-9381-5508-85b1-f367d436079e) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE&runId=33765c58-16eb-59ef-ae47-ebdd06e93bbf) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 22, 22, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605657685, 'issue_id': 2793831068, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit fab5898d065b15a639707cf6e5dae476cc6b1223.\n✅ Preview:\n    https://pr52285.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 21, 20, 19, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605667868, 'issue_id': 2793831068, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fab5898d065b15a639707cf6e5dae476cc6b1223-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12894990289?pr=52285)\n\n  File | Test Name\n  ---- | ---------\n  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook', 'created_at': datetime.datetime(2025, 1, 21, 20, 24, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 22:22:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13517_tests-fab5898d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE&runId=206b9ffc-9381-5508-85b1-f367d436079e) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment&runConclusion=FAILURE&runId=33765c58-16eb-59ef-ae47-ebdd06e93bbf) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52285?repo=metabase/metabase&commitHash=fab5898d065b15a639707cf6e5dae476cc6b1223&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 20:19:15 UTC): 👋 Deploying a preview environment for commit fab5898d065b15a639707cf6e5dae476cc6b1223.
✅ Preview:
    https://pr52285.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-21 20:24:56 UTC): ## e2e tests failed on `fab5898d065b15a639707cf6e5dae476cc6b1223-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12894990289?pr=52285)

  File | Test Name
  ---- | ---------
  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook

"
2793784972,pull_request,closed,,Don't pass locale codes to localeCompare,"Closes #48144

The locale codes we get from the BE look like this:

```
en
fr
pt_BR
ar_SA
```

However, the `Intl` API in js, and related functions, expect locale codes to look a bit different:

```
en
fr
pt-BR
ar-SA
```

On master we sometimes pass locale codes into `String.localeCompare`:

```
const locale = useLocale() // Retrieves locale from settings
a.localeCompare(b, locale);
```
This breaks if the locale is not recognized by `localeCompare`.

In this branch, we simplify by using `localeCompare` without specifying the locale. This way, `localeCompare` uses the browser locale, which is usually the desired one.",rafpaf,2025-01-16 21:18:27+00:00,['rafpaf'],2025-01-17 20:01:50+00:00,2025-01-17 20:01:48+00:00,https://github.com/metabase/metabase/pull/52284,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2596907971, 'issue_id': 2793784972, 'author': 'rafpaf', 'body': '* **#52284** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52284?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52284?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 16, 21, 18, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597022565, 'issue_id': 2793784972, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40648_tests-e8ad67ba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=FAILURE&runId=e41387e3-c1e1-5176-8c78-4f6b4a373ac5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 16, 22, 17, 42, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-16 21:18:51 UTC): * **#52284** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52284?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52284?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-16 22:17:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40648_tests-e8ad67ba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment&runConclusion=FAILURE&runId=e41387e3-c1e1-5176-8c78-4f6b4a373ac5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52284?repo=metabase/metabase&commitHash=e8ad67ba8945b3e6d7bf04d74e8555648c711c14&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793713885,pull_request,closed,,"🤖 backported ""docs - env var updates""",#51986,github-automation-metabase,2025-01-16 20:30:56+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-17 15:15:15+00:00,2025-01-17 14:56:06+00:00,https://github.com/metabase/metabase/pull/52283,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2596922861, 'issue_id': 2793713885, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/87871_tests-f8a92fa6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=3ae7ddff-8add-5405-9148-1cbff08e1a92) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=ce42bc57-3a0e-5de8-95a9-e34ef7674f56) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=fd8276a1-d410-57c4-8d05-252343fec5e1) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=9cc93880-b86e-589e-b1af-e19b65841cba) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>revision-add-join-alias-to-column-settings-field-refs-test</code> | Expected and actual values for visualization settings do not match during migration. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=7dc49dac-b7c8-55a2-9b27-40851f354105) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 16, 21, 28, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 21:28:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/87871_tests-f8a92fa6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=3ae7ddff-8add-5405-9148-1cbff08e1a92) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=ce42bc57-3a0e-5de8-95a9-e34ef7674f56) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=fd8276a1-d410-57c4-8d05-252343fec5e1) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=9cc93880-b86e-589e-b1af-e19b65841cba) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>revision-add-join-alias-to-column-settings-field-refs-test</code> | Expected and actual values for visualization settings do not match during migration. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment&runConclusion=FAILURE&runId=7dc49dac-b7c8-55a2-9b27-40851f354105) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52283?repo=metabase/metabase&commitHash=f8a92fa6672e23f9e0dab16be87c0cbb4d5946af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793579669,pull_request,closed,,docs: sharing icon,,alexyarosh,2025-01-16 19:19:36+00:00,['alexyarosh'],2025-01-17 21:20:28+00:00,2025-01-17 21:17:48+00:00,https://github.com/metabase/metabase/pull/52281,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2793558980,pull_request,closed,,"Drop ""long test"" Kondo linter threshold from 180 to 150","Part of my quest to ban really long tests

Pursuant to https://metaboat.slack.com/archives/CKZEMT1MJ/p1737047778376669",camsaul,2025-01-16 19:10:50+00:00,['camsaul'],2025-01-27 22:11:24+00:00,2025-01-17 03:54:09+00:00,https://github.com/metabase/metabase/pull/52280,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2596780794, 'issue_id': 2793558980, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/146359_tests-db0ff4b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/17-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 15542 ""before each"" hook for ""should be possible to use the foreign key field display values immediately when changing the setting""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=e72b4c2b-d2c6-589f-bfd5-06935e085663) |\n| <code>issue 21984 ""before each"" hook for ""should not show data model visited tables in search or in ""Pick up where you left off"" items on homepage (metab...</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=64c40a8e-7391-5c24-bdf1-fa482f2e9393) |\n| <code>issue 18384 ""before each"" hook for ""should be able to open field properties even when one of the tables is hidden (metabase\\#18384)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=98fc9b7e-0a80-58c1-8453-b1b75f868e8d) |\n| <code>issue 17768 ""before each"" hook for ""should not show binning options for an entity key, regardless of its underlying type (metabase\\#17768)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=985c3a18-589d-534e-8dc7-9dfd7e9cae00) |\n\n[... and 13 more](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=c3c5743d-80bd-528e-a034-b6b07a1bab61) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=64ca5ce3-3580-5fd6-b511-59130d1fe814) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=4625dd6b-d562-5bd2-8eea-4e1e85cfc256) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=295f55d6-d16a-506f-a327-d545ff2b98f9) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 19, 58, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598276622, 'issue_id': 2793558980, 'author': 'piranha', 'body': '@camsaul you pick on easy targets, how about `metabase-enterprise.serialization.v2.load-test/dashboard-card-test`? 😁', 'created_at': datetime.datetime(2025, 1, 17, 12, 37, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 19:58:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/146359_tests-db0ff4b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/17-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 15542 ""before each"" hook for ""should be possible to use the foreign key field display values immediately when changing the setting""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=e72b4c2b-d2c6-589f-bfd5-06935e085663) |
| <code>issue 21984 ""before each"" hook for ""should not show data model visited tables in search or in ""Pick up where you left off"" items on homepage (metab...</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=64c40a8e-7391-5c24-bdf1-fa482f2e9393) |
| <code>issue 18384 ""before each"" hook for ""should be able to open field properties even when one of the tables is hidden (metabase\#18384)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=98fc9b7e-0a80-58c1-8453-b1b75f868e8d) |
| <code>issue 17768 ""before each"" hook for ""should not show binning options for an entity key, regardless of its underlying type (metabase\#17768)""</code> | The request to your server timed out after 30 seconds, skipping the remaining tests in the current suite. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=985c3a18-589d-534e-8dc7-9dfd7e9cae00) |

[... and 13 more](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=c3c5743d-80bd-528e-a034-b6b07a1bab61) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=64ca5ce3-3580-5fd6-b511-59130d1fe814) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=4625dd6b-d562-5bd2-8eea-4e1e85cfc256) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE&runId=295f55d6-d16a-506f-a327-d545ff2b98f9) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52280?repo=metabase/metabase&commitHash=db0ff4b87b9d70ffef0ddf88b3231ba1dc3362fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

piranha on (2025-01-17 12:37:30 UTC): @camsaul you pick on easy targets, how about `metabase-enterprise.serialization.v2.load-test/dashboard-card-test`? 😁

"
2793477027,pull_request,closed,,"🤖 backported ""Fix SCIM test failure""",#52063,github-automation-metabase,2025-01-16 18:36:09+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-16 20:17:02+00:00,2025-01-16 19:06:09+00:00,https://github.com/metabase/metabase/pull/52279,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2596675752, 'issue_id': 2793477027, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/93930_tests-c98d909e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 19, 31, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 19:31:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/93930_tests-c98d909e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52279?repo=metabase/metabase&commitHash=c98d909e7933965decf47e810fe4ad126167406c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793351542,pull_request,closed,,"🤖 backported ""Fix byte to timestamp coercion for redshift""",#52242,github-automation-metabase,2025-01-16 17:27:32+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-16 19:04:35+00:00,2025-01-16 18:42:05+00:00,https://github.com/metabase/metabase/pull/52278,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2596399749, 'issue_id': 2793351542, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100354_tests-c4b24554-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE&runId=dfedc664-4800-5091-8a1d-19f52e7890b9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE&runId=9ed8f4d7-fd84-5359-9b60-8b1364adae21) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 18, 16, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 18:16:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100354_tests-c4b24554-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE&runId=dfedc664-4800-5091-8a1d-19f52e7890b9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment&runConclusion=FAILURE&runId=9ed8f4d7-fd84-5359-9b60-8b1364adae21) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52278?repo=metabase/metabase&commitHash=c4b24554ca3aa18da640d499c9d6451c9e3f7d04&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793254732,pull_request,closed,,#49809 Fix sorting by unbinned date expression,"Closes https://github.com/metabase/metabase/issues/49809

### Description

Sorting by an unbinned date field or custom expression was failing. The problem is that we automatically binned the breakout fields but were failing to bin the referred to fields in the ordering clause.

We were failing for two related reasons:

1. If you used a date field, the field had an `:original-temporal-unit` added to it, which needed to be ignored for identifying matching order by fields.
2. Expressions in the order by were not being matched to their equivalent in the breakouts.

The fixes:

1. Remove `:original-temporal-unit` as we do `:temporal-unit` and `:binning` when looking for a matching order by field.
2. Duplicate the field matching logic for expressions.

### How to verify

To reproduce/verify the date field ordering:

1. Create a question with the Reviews table from the Sample DB
2. Add Summarize (count rows) by ""Created At"" field unbinned (click More.... and look for ""Don't bin"" at the bottom).
3. Add Sort by ""Created At""
4. Preview the question. Before this fix, it is giving an error. After this fix, it should show results.

To reproduce/verify the date expression ordering:

1. Create a question with the Reviews table from the Sample DB
2. Add custom expression = [Created At] named `date_expr`.
3. Add Summarize (count rows) by `date_expr` field unbinned (click More.... and look for ""Don't bin"" at the bottom).
4. Add Sort by `date_expr`
5. Preview the question. Before this fix, it is giving an error. After this fix, it should show results.


### Checklist

- [✔️ ] Tests have been added/updated to cover changes in this PR
",ericnormand,2025-01-16 16:40:47+00:00,['ericnormand'],2025-01-17 00:35:58+00:00,2025-01-16 23:38:29+00:00,https://github.com/metabase/metabase/pull/52277,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2596286045, 'issue_id': 2793254732, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110703_tests-8fb46f06-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=FAILURE&runId=64b8eb45-b76f-5e8a-b8b5-be8c78a47940) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 16, 17, 17, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 17:17:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110703_tests-8fb46f06-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment&runConclusion=FAILURE&runId=64b8eb45-b76f-5e8a-b8b5-be8c78a47940) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52277?repo=metabase/metabase&commitHash=8fb46f062f3807b6b6f6901e3bb0d913232e27fe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793143088,pull_request,closed,,"🤖 backported ""revert to using selector instead of helper""",#52266,github-automation-metabase,2025-01-16 15:53:00+00:00,"['filiphric', 'github-automation-metabase']",2025-01-16 17:13:36+00:00,2025-01-16 16:26:45+00:00,https://github.com/metabase/metabase/pull/52276,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2596213991, 'issue_id': 2793143088, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3442_tests-a1526a3a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=FAILURE&runId=48230e42-31f4-550d-8913-993d4a01e2c2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 16, 44, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 16:44:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3442_tests-a1526a3a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment&runConclusion=FAILURE&runId=48230e42-31f4-550d-8913-993d4a01e2c2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52276?repo=metabase/metabase&commitHash=a1526a3ac32e88cb473f2a1fe5b5eb0ddad0110e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793089132,pull_request,closed,,"🤖 backported ""Remove unused REPL connection string from Cypress backend""",#52272,github-automation-metabase,2025-01-16 15:29:41+00:00,"['nemanjaglumac', 'github-automation-metabase']",2025-01-16 17:12:27+00:00,2025-01-16 16:04:27+00:00,https://github.com/metabase/metabase/pull/52275,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2596155323, 'issue_id': 2793089132, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-277d4a28-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=FAILURE&runId=03849ec0-a6b0-5189-82aa-8a1d5a3cb8d6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 16, 19, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 16:19:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-277d4a28-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment&runConclusion=FAILURE&runId=03849ec0-a6b0-5189-82aa-8a1d5a3cb8d6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52275?repo=metabase/metabase&commitHash=277d4a28b7df92ff3072c370d6d75b03ed4555ea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793072326,pull_request,closed,,Fix - Custom Expression error can sometimes be slightly misleading,"Fixes #15892

### Description

This PR exposes `compileError` to be utilized by `ExpressionEditorTextfield` in order to show detailed errors coming from the parser instead of generic ""Invalid expression"" error.

It also changes ""Expecting closing parenthesis"" error to ""Expecting comma"" when 2 tokens in parens are not separated by a comma.

### How to verify

Follow repro steps from the issue.
Note that issue was reported in v39 - the actual result was different back then.

### Demo

[before](https://github.com/user-attachments/assets/c301da03-ddf9-437e-9056-091f7c9b0b3f) vs [after](https://github.com/user-attachments/assets/09ea1e1a-0f18-4e6e-a6b5-b8d9d2d1b8e7)
",kamilmielnik,2025-01-16 15:22:53+00:00,['kamilmielnik'],2025-01-20 07:51:02+00:00,2025-01-20 07:51:00+00:00,https://github.com/metabase/metabase/pull/52274,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2598341558, 'issue_id': 2793072326, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13472_tests-0fa0a869-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=c02bf60a-f443-5bf2-8c03-7074c3f01667) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=4af8ee83-6d90-5b0e-a70f-9379797a491c) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=ddab68c4-a494-5324-bb99-b57ecedcd73b) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=aef90ba7-b804-5a95-838d-73cc7f1fbb3a) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 13, 12, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-17 13:12:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13472_tests-0fa0a869-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=c02bf60a-f443-5bf2-8c03-7074c3f01667) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=4af8ee83-6d90-5b0e-a70f-9379797a491c) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=ddab68c4-a494-5324-bb99-b57ecedcd73b) |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE&runId=aef90ba7-b804-5a95-838d-73cc7f1fbb3a) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52274?repo=metabase/metabase&commitHash=0fa0a8699527023ec032f94dd13a55c1cc14559b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2793000121,pull_request,closed,,Remove unused REPL connection string from Cypress backend,"Context in [Slack](https://metaboat.slack.com/archives/C0645JP1W81/p1737038147323309?thread_ts=1737018147.606599&cid=C0645JP1W81).

This was added by @piranha to debug some state of the backend during cypress testing. It's almost always unused. The issue arises if something else is on port 5555. Cypress dies with a quite ugly stacktrace.

```
Waiting for backend (host=http://localhost:4000/, dbFile=/var/folders/mh/kd7c6ftx2117pj531f1x4ytc0000gn/T/metabase-test-4076.db).Exception in thread ""main"" java.lang.ExceptionInInitializerError
Caused by: java.net.BindException: Address already in use
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.Net.bind(Net.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.bind(NioSocketImpl.java:636)
	at java.base/java.net.ServerSocket.bind(ServerSocket.java:391)
	at java.base/java.net.ServerSocket.<init>(ServerSocket.java:278)
	at clojure.core.server$start_server.invokeStatic(server.clj:102)
	at clojure.core.server$start_servers.invokeStatic(server.clj:163)
	at clojure.core.server$start_servers.invoke(server.clj:160)
	at clojure.lang.Var.invoke(Var.java:386)
	at clojure.lang.RT.doInit(RT.java:513)
	at clojure.lang.RT.init(RT.java:487)
	at clojure.lang.Util.loadWithClass(Util.java:248)
	at metabase.core.bootstrap.<clinit>(Unknown Source)
```",nemanjaglumac,2025-01-16 14:53:39+00:00,['nemanjaglumac'],2025-01-16 16:13:25+00:00,2025-01-16 15:28:33+00:00,https://github.com/metabase/metabase/pull/52272,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2596068772, 'issue_id': 2793000121, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3599_tests-9a68c531-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE&runId=c6af0f9d-36bf-5e05-b5c5-faa008f33a8d) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE&runId=c4616d46-4449-54f0-b1e1-ee4e5ad49df2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 15, 44, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 15:44:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3599_tests-9a68c531-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE&runId=c6af0f9d-36bf-5e05-b5c5-faa008f33a8d) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment&runConclusion=FAILURE&runId=c4616d46-4449-54f0-b1e1-ee4e5ad49df2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52272?repo=metabase/metabase&commitHash=9a68c531ea6c94a98f8a809fefc6877ea08363e5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792934455,pull_request,closed,,Look for field_granularity instead of field-granularity,Also ignore bucketing for non-temporal columns as opposed to throwing an exception as [requested](https://www.notion.so/metabase/Time-granularity-in-query-metric-tool-is-not-respected-17d69354c9018005810df144fdbbb35c?pvs=4#17d69354c9018000a09bd179b245b413).,metamben,2025-01-16 14:27:29+00:00,['metamben'],2025-01-17 14:50:56+00:00,2025-01-17 14:50:53+00:00,https://github.com/metabase/metabase/pull/52271,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2595993160, 'issue_id': 2792934455, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/138268_tests-49652d0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/11-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=f434461f-3418-543d-827c-322c8af65513) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=fde889f1-0d12-56db-b1c3-c4b189bd7520) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=ca261c00-729d-5c08-9cb0-990ad45a8864) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=511fab22-a7e9-529c-adaf-802429797015) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 15, 14, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 15:14:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/138268_tests-49652d0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/11-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=f434461f-3418-543d-827c-322c8af65513) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=fde889f1-0d12-56db-b1c3-c4b189bd7520) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=ca261c00-729d-5c08-9cb0-990ad45a8864) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE&runId=511fab22-a7e9-529c-adaf-802429797015) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52271?repo=metabase/metabase&commitHash=49652d0c9bc25adb5b68794c33ab5d0d5dd531d5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792873245,pull_request,closed,,"Revert ""chore(qb): cleanup unused code"" and ""feat(QB): combine chart type selector with viz settings sidebar""","Reverts metabase/metabase#51903
Reverts metabase/metabase#51671",uladzimirdev,2025-01-16 14:04:23+00:00,['uladzimirdev'],2025-01-27 22:11:29+00:00,2025-01-16 16:29:11+00:00,https://github.com/metabase/metabase/pull/52270,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2595815364, 'issue_id': 2792873245, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ee95429b8db9b51a15e56a71780cf6c43931b57d...5561b492b34a225d88050fb0a38ffeb0a13d3252.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/components/ChartSettings/QuestionChartSettings/QuestionChartSettings.tsx<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |', 'created_at': datetime.datetime(2025, 1, 16, 14, 6, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595841122, 'issue_id': 2792873245, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 5561b492b34a225d88050fb0a38ffeb0a13d3252.\n✅ Preview:\n    https://pr52270.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 16, 14, 14, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595921416, 'issue_id': 2792873245, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13332_tests-5561b492-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE&runId=f42b39a7-bcab-5c6a-9a55-7b5984966050) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE&runId=467bf4a5-d3d0-54ef-9aff-5acc359a3291) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 14, 45, 51, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-16 14:06:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ee95429b8db9b51a15e56a71780cf6c43931b57d...5561b492b34a225d88050fb0a38ffeb0a13d3252.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/components/ChartSettings/QuestionChartSettings/QuestionChartSettings.tsx<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |

github-actions[bot] on (2025-01-16 14:14:40 UTC): 👋 Deploying a preview environment for commit 5561b492b34a225d88050fb0a38ffeb0a13d3252.
✅ Preview:
    https://pr52270.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2025-01-16 14:45:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13332_tests-5561b492-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE&runId=f42b39a7-bcab-5c6a-9a55-7b5984966050) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment&runConclusion=FAILURE&runId=467bf4a5-d3d0-54ef-9aff-5acc359a3291) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52270?repo=metabase/metabase&commitHash=5561b492b34a225d88050fb0a38ffeb0a13d3252&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792757807,pull_request,closed,,feat(sdk): custom visualization click actions proof-of-concept,Closes https://github.com/metabase/metabase/issues/51970,heypoom,2025-01-16 13:20:25+00:00,['heypoom'],2025-01-21 15:04:42+00:00,2025-01-21 15:04:42+00:00,https://github.com/metabase/metabase/pull/52268,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2792747903,pull_request,closed,,Fix - Confusing error message when trying to add a custom expression aggregation,"Fixes #50753

### Description

This PR changes the `Unknown Metric: ${name}`  error to `No aggregation found in: ${name}. Use functions like Sum() or custom Metrics` in case the identifier is a column available in the query.
If the name is not recognized as a query column, the error will still be `Unknown Metric: ${name}` since this is what's expected in the input.

This change applies to custom aggregation expressions only.

### Demo

[before](https://github.com/user-attachments/assets/6be4edf9-0321-4934-8599-fbd47c870427) & [after](https://github.com/user-attachments/assets/77a9af1e-e159-40c8-a347-a85809f9feff)


### How to verify

Follow repro steps from the issue.
",kamilmielnik,2025-01-16 13:17:28+00:00,['kamilmielnik'],2025-01-17 07:36:51+00:00,2025-01-17 07:36:49+00:00,https://github.com/metabase/metabase/pull/52267,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2595797768, 'issue_id': 2792747903, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 62a10f3b510e7a468c0cac3330c041488bb930b0.\n✅ Preview:\n    https://pr52267.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 16, 14, 5, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595848691, 'issue_id': 2792747903, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13334_tests-62a10f3b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=eab1b8f8-cb55-5800-b3e5-04796b13f8c7) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=dbca41c3-365f-54fb-ad92-39761125d6c2) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=37750e75-1ab0-5d77-bff0-e96c3102e8e4) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=b43a3b39-3fab-5dd3-bd23-31f50067e320) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 14, 17, 8, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-16 14:05:09 UTC): 👋 Deploying a preview environment for commit 62a10f3b510e7a468c0cac3330c041488bb930b0.
✅ Preview:
    https://pr52267.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2025-01-16 14:17:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13334_tests-62a10f3b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=eab1b8f8-cb55-5800-b3e5-04796b13f8c7) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=dbca41c3-365f-54fb-ad92-39761125d6c2) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=37750e75-1ab0-5d77-bff0-e96c3102e8e4) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment&runConclusion=FAILURE&runId=b43a3b39-3fab-5dd3-bd23-31f50067e320) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52267?repo=metabase/metabase&commitHash=62a10f3b510e7a468c0cac3330c041488bb930b0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792712618,pull_request,closed,,revert to using selector instead of helper,"Closes https://linear.app/metabase-inc/issue/ENG-14009/debug-cross-version-test-failure

### Description

This PR https://github.com/metabase/metabase/pull/51674 caused a regression in cross-version tests as it removes a button that some of these cross-version uses. It’s a simple fix that can be merged once tests pass.

However, it’s unclear to me how these test passed in that PR, when clearly they should fail.


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",filiphric,2025-01-16 13:07:32+00:00,['filiphric'],2025-01-16 16:27:12+00:00,2025-01-16 15:52:06+00:00,https://github.com/metabase/metabase/pull/52266,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2595735319, 'issue_id': 2792712618, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6239_tests-3a51b168-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=909a8dd6-eb14-5466-ba2b-453b5828c92f) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=67fe533f-8d72-584e-bffc-d63d8fd9e74d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=bdf03389-2840-5454-82e4-62b451ae700e) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=36af88a4-e88f-59f8-8762-8ac4100df534) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=163d17fa-325d-5d3a-b79c-6ab876ff2118) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=9dd19bad-2963-5606-a922-c654b0c99658) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 13, 45, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 13:45:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6239_tests-3a51b168-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=909a8dd6-eb14-5466-ba2b-453b5828c92f) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=67fe533f-8d72-584e-bffc-d63d8fd9e74d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=bdf03389-2840-5454-82e4-62b451ae700e) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=36af88a4-e88f-59f8-8762-8ac4100df534) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=163d17fa-325d-5d3a-b79c-6ab876ff2118) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE&runId=9dd19bad-2963-5606-a922-c654b0c99658) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52266?repo=metabase/metabase&commitHash=3a51b1681ad0974d89c9b349acee485e7626e424&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792615775,pull_request,closed,,"🤖 backported ""Added Sébastien to team files""",#52215,github-automation-metabase,2025-01-16 12:33:24+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-01-16 12:35:00+00:00,2025-01-16 12:35:00+00:00,https://github.com/metabase/metabase/pull/52264,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2792556366,pull_request,closed,,update databricks driver - removes a few security warnings,,piranha,2025-01-16 12:10:48+00:00,['piranha'],2025-01-27 22:11:24+00:00,2025-01-17 03:55:09+00:00,https://github.com/metabase/metabase/pull/52263,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2595517527, 'issue_id': 2792556366, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/140232_tests-4105d889-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=ab00dbaa-a58a-5a70-a9af-711f8445891b) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=d0fd5d33-a500-5d7a-80f2-a911141daf56) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=09e6c05e-f6af-5ad3-8e88-bcd0e260fc4d) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=66d70915-c25a-568e-8625-3338c3b2e0be) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 12, 44, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 12:44:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/140232_tests-4105d889-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=ab00dbaa-a58a-5a70-a9af-711f8445891b) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=d0fd5d33-a500-5d7a-80f2-a911141daf56) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=09e6c05e-f6af-5ad3-8e88-bcd0e260fc4d) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE&runId=66d70915-c25a-568e-8625-3338c3b2e0be) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52263?repo=metabase/metabase&commitHash=4105d88929851e65a97ec41d607925b8aa48756b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792456737,pull_request,open,,Poc webhook template using handlebars,,qnkhuat,2025-01-16 11:26:39+00:00,['qnkhuat'],2025-01-28 12:47:02+00:00,,https://github.com/metabase/metabase/pull/52262,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2595297040, 'issue_id': 2792456737, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112206_tests-c26ca402-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/82-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>send-unsaved-notification-api-test</code> | Expected email notification with attachments, but actual notification was missing attachments. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=53c24c61-6d6f-5ad6-849f-2e0473dcae16) |\n| <code>send-test-alert-with-http-channel-test</code> | Expected response body to be a map, but got nil instead. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=205b80d1-5ed7-5ac4-942b-3f907a84d124) |\n| <code>send-unsaved-notification-api-test</code> | Expected email notification with attachments, but actual notification has different format. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=1638a7f2-6849-569a-ae00-09285475b6f8) |\n| <code>send-test-alert-with-http-channel-test</code> | Expected response body to be {:body {:...}, but got nil. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=b359fcf4-af0a-5e2f-9330-2aed93ae8031) |\n\n[... and 78 more](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=6a81f814-dd77-5cd9-be7f-e009d5e7ac55) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=14284a69-f579-56e4-8ef6-5584b121fb53) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=a8e86812-41ae-598d-986c-cca003233f7a) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=341e159f-a590-5ed3-9f01-dccf9edf18ba) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 16, 11, 41, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 11:41:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112206_tests-c26ca402-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/82-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>send-unsaved-notification-api-test</code> | Expected email notification with attachments, but actual notification was missing attachments. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=53c24c61-6d6f-5ad6-849f-2e0473dcae16) |
| <code>send-test-alert-with-http-channel-test</code> | Expected response body to be a map, but got nil instead. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=205b80d1-5ed7-5ac4-942b-3f907a84d124) |
| <code>send-unsaved-notification-api-test</code> | Expected email notification with attachments, but actual notification has different format. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=1638a7f2-6849-569a-ae00-09285475b6f8) |
| <code>send-test-alert-with-http-channel-test</code> | Expected response body to be {:body {:...}, but got nil. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=b359fcf4-af0a-5e2f-9330-2aed93ae8031) |

[... and 78 more](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=6a81f814-dd77-5cd9-be7f-e009d5e7ac55) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=14284a69-f579-56e4-8ef6-5584b121fb53) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=a8e86812-41ae-598d-986c-cca003233f7a) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment&runConclusion=FAILURE&runId=341e159f-a590-5ed3-9f01-dccf9edf18ba) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52262?repo=metabase/metabase&commitHash=c26ca4021afe53e61167d1bbfaa41b23517306cb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792119305,pull_request,closed,,Improve theme transitions,"Fixes: https://github.com/metabase/metabase/issues/52265

Right now, we have some issues with theme change transitions:
- we have transitions when `reduced-motion` is enabled on the OS level
- we have some visual issues when we close the `fullscreen` mode with the `dark` theme enabled
- we have some visual issues when we reload a page having the `fullscreen` mode and `dark` theme
- we don't have proper theme change transitions when we preview an embedded app via `sharing/embed` button

So here's the attempt to fix all the issues above.

Video with the existing behavior in master:


https://github.com/user-attachments/assets/d9d6285d-9919-45c2-9d01-69cf2105f561



Video with the updated behavior:

https://github.com/user-attachments/assets/936fa68e-1d5d-4566-bb75-789f488cdb5d


Some notes:
- theme change transitions are still disabled on a regular non-fullscreen non-embedded dashboard, because of some open questions regarding colors

Please let me know if you have any specific test/edge cases that should be tested.

# How to verify:
Test theme change transitions and visuals of dashboard filters (w/wo sticky state) on the following cases
- dashboard w/wo fullscreen modes
- static embedding preview of a dashboard via `sharing/embed` button on a dashboard
- static embedding preview of a question via `sharing/embed` button on a dashboard
- Embedding SDK theme transition
- 
No visual issues with the sticky dashboard filters panel should occur:
- dashboard when scrolling, and the filters panel is sticky
- dashboard in the edit mode
- dashboard when rendered as a part of a public link
",sanex3339,2025-01-16 09:08:51+00:00,['sanex3339'],2025-01-21 08:38:42+00:00,2025-01-21 08:36:25+00:00,https://github.com/metabase/metabase/pull/52259,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2595374811, 'issue_id': 2792119305, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 16, 12, 11, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595746437, 'issue_id': 2792119305, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41051_tests-4b6556ee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 13, 50, 2, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-16 12:11:20 UTC): <!---conventional commit reminder comment ID-->
@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-16 13:50:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41051_tests-4b6556ee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52259?repo=metabase/metabase&commitHash=4b6556eefe8fea6ed6511c3f5fd983c49fb20bbb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2792082272,pull_request,closed,,`dev/seed-instance!`,"I have this in my local dev to setup test users and test db, think it'll be useful for others too.


This is what I do when I start an instance

```clj
(dev)
(start!)
(seed-instance!)
```",qnkhuat,2025-01-16 08:51:52+00:00,['qnkhuat'],2025-01-27 22:11:31+00:00,2025-01-16 09:35:54+00:00,https://github.com/metabase/metabase/pull/52258,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]",[],
2791901684,pull_request,closed,,feat(sdk): granular documentation links in usage problem banner,"Closes https://github.com/metabase/metabase/issues/51680

### Description

We've moved our SDK docs to the Metabase website, yet the usage problem banner still links to the [old documentation on GitHub](https://github.com/metabase/metabase/blob/393308bc5ca608c377b1783d27ea688a9161ff1c/enterprise/frontend/src/embedding-sdk/lib/usage-problem.ts#L28C4-L28C138). We want to link it to the new documentation with more specific documentation links for each problem users might encounter.

### How to verify

Follow the test cases in [this issue](https://github.com/metabase/metabase/issues/51680), which is defined here in the code: https://github.com/metabase/metabase/pull/52257/files#diff-41979e884d6201be318735ccd9df6ab68e541859cb4832cd3059bd8dbd6ca7f3R54.

- Trigger the usage problem errors (e.g. not adding any authentication methods, adding both authentication methods to the same config, forgetting to enable SDK embedding in localhost, not having a valid license to use on production)
- The blue ""View documentation"" should link to the relevant and appropriate documentation as defined in https://github.com/metabase/metabase/issues/51680

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",heypoom,2025-01-16 07:24:08+00:00,['heypoom'],2025-01-20 15:34:49+00:00,2025-01-20 14:53:09+00:00,https://github.com/metabase/metabase/pull/52257,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2594962218, 'issue_id': 2791901684, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13350_tests-925653c1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 9, 11, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602720644, 'issue_id': 2791901684, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 20, 15, 33, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602723576, 'issue_id': 2791901684, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12871322703)', 'created_at': datetime.datetime(2025, 1, 20, 15, 34, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 09:11:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13350_tests-925653c1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52257?repo=metabase/metabase&commitHash=925653c12a1c67bd2f76c951637b414c5a6fb480&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2025-01-20 15:33:33 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-20 15:34:47 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12871322703)

"
2791652049,pull_request,closed,,Keep `deps.edn` deps sorted,"I have asked people very nicely to keep the deps in `deps.edn` sorted

https://github.com/metabase/metabase/blob/85a341cf55cfe8966cbd46f1dc3e89795ab13949/deps.edn#L3-L6

however people either don't see the request or just ignore it, then I have to go in and clean up the mess manually. 


Well no more, I wrote a test to make sure it stays sorted permanently ",camsaul,2025-01-16 04:17:09+00:00,['camsaul'],2025-01-27 22:11:33+00:00,2025-01-16 05:02:09+00:00,https://github.com/metabase/metabase/pull/52256,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2594505849, 'issue_id': 2791652049, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112103_tests-11460585-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE&runId=a443a344-9939-5142-933c-8f1f52c4e72e) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE&runId=34424be8-795e-58bb-9988-972922ffae3e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 4, 45, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 04:45:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112103_tests-11460585-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE&runId=a443a344-9939-5142-933c-8f1f52c4e72e) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment&runConclusion=FAILURE&runId=34424be8-795e-58bb-9988-972922ffae3e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52256?repo=metabase/metabase&commitHash=114605856100a038800708f331c4beb11f4bf467&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791593644,pull_request,closed,,"🤖 backported ""more flakes boo""","  #52249
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-16 03:14:50+00:00,"['iethree', 'github-automation-metabase']",2025-01-16 03:39:17+00:00,2025-01-16 03:39:16+00:00,https://github.com/metabase/metabase/pull/52255,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2594412349, 'issue_id': 2791593644, 'author': 'iethree', 'body': ""oops, these tests don't exist in v52"", 'created_at': datetime.datetime(2025, 1, 16, 3, 39, 16, tzinfo=datetime.timezone.utc)}]","iethree (Assginee) on (2025-01-16 03:39:16 UTC): oops, these tests don't exist in v52

"
2791516238,pull_request,closed,,🚀 SHAVE 12 MINUTES OFF OF TESTS 🚀 Only run old migration tests on`master` and `release` pushes,"Compare [this PR](https://github.com/metabase/metabase/actions/runs/12802043261/job/35692510321?pr=52254) (15m 17s) versus [`master`](https://github.com/metabase/metabase/actions/runs/12801991913/job/35692384409?pr=52256) (27 min 29s)

We don't need to run tests for migrations we shipped in 47 on every single backend commit. This PR adds some magic so we only run the old tests (tests marked `^:mb/old-migrations-test`) on pushes (i.e., PR merges) to `master` or `release-` branches.

""Old"" tests are anything older than the current backport target -- since we're currently backporting to 52.x and developing what will be 53.x, this currently means any tests for migrations we shipped with 51 or earlier.

I also removed all the `^:mb/once` tags since we haven't actually been using those in CI for a few months now so they don't cause any further confusion

Also these tests were way out of order (random 46 migrations tests were spliced into the 48 migrations tests, etc.) and I had to put a stop to the madness. So this PR is a little bit bigger because I had to clean up messes.",camsaul,2025-01-16 02:07:46+00:00,['camsaul'],2025-01-27 22:11:32+00:00,2025-01-16 09:07:58+00:00,https://github.com/metabase/metabase/pull/52254,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2594358012, 'issue_id': 2791516238, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120321_tests-d7f94a59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE&runId=ff8fa13a-e38b-586e-bd3e-9e4e22a0637a) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE&runId=89eb4d68-2a7b-5578-9a71-2c901c335b77) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 2, 45, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 02:45:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120321_tests-d7f94a59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE&runId=ff8fa13a-e38b-586e-bd3e-9e4e22a0637a) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment&runConclusion=FAILURE&runId=89eb4d68-2a7b-5578-9a71-2c901c335b77) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52254?repo=metabase/metabase&commitHash=d7f94a59c395ec13fb8ebd620c9da4c94a830177&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791457010,pull_request,closed,,fix(sdk): Remove ExplicitSize findDOMNode console errors,"Removes `console.error` about `findDOMNode` being deprecated by removing `findDOMNode` from `ExplicitSize`. 

`findDOMNode` is a way for react to get the root HTML element of the component that's passed into that function, so `findDOMNode(this)` gets the root element of the component in which it's called. To refactor this, we have to create a ref and explicitly pass that into the components that use this HOC.


_Nothing should change. `findDOMNode` error messages for `ExplicitSize` should be gone now. Manual testing is the way to go for now I think_


`ExplicitSize` is used in the following files, we need to explicitly pass a `ref` in these components to replace this functionality.

- [x] frontend/src/metabase/components/DebouncedFrame/DebouncedFrame.jsx:119
- [x] frontend/src/metabase/components/FieldValuesWidget/FieldValuesWidget.tsx:523
- [x] frontend/src/metabase/core/components/TabRow/TabRow.tsx:136
- [x] frontend/src/metabase/dashboard/components/DashboardGrid.tsx:690
- [x] frontend/src/metabase/query_builder/components/NativeQueryEditor/AceEditor/AceEditor.tsx:552
- [x] frontend/src/metabase/query_builder/components/NativeQueryEditor/NativeQueryEditor.tsx:455
- [x] frontend/src/metabase/query_builder/components/expressions/ExpressionEditorTextfield/ExpressionEditorTextfield.tsx:842
- [x] frontend/src/metabase/query_builder/components/view/View/View/View.jsx:293
- [x] frontend/src/metabase/visualizations/components/CardRenderer.jsx:81
- [x] frontend/src/metabase/visualizations/components/ChartWithLegend.jsx:157
- [x] frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx:1365
- [x] frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx:260
- [x] frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx:555
- [x] frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx:545

Some other files have been updated with `forwardRef` since we pass `ref`s explicitly now to satisfy the fact that we need explicit refs to replace `findDOMNode` ",oisincoveney,2025-01-16 01:35:19+00:00,['oisincoveney'],2025-02-06 20:11:51+00:00,2025-01-30 20:39:37+00:00,https://github.com/metabase/metabase/pull/52253,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2594283581, 'issue_id': 2791457010, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52253 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 16, 1, 35, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594361335, 'issue_id': 2791457010, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4175_tests-1fb5bd2a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 2, 49, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596799074, 'issue_id': 2791457010, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6f02407835c588cd3c9af27a5729564c686628f5...eb2e3f5e7be1995100788b599b8973217e472897.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/CardRenderer.jsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |', 'created_at': datetime.datetime(2025, 1, 16, 20, 9, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625538017, 'issue_id': 2791457010, 'author': 'oisincoveney', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 30, 20, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625539937, 'issue_id': 2791457010, 'author': 'github-actions[bot]', 'body': '@oisincoveney Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 30, 20, 44, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640896579, 'issue_id': 2791457010, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 2, 6, 20, 11, 49, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-16 01:35:21 UTC): This change is part of the following stack:

- #52253 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

trunk-io[bot] on (2025-01-16 02:49:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4175_tests-1fb5bd2a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52253?repo=metabase/metabase&commitHash=1fb5bd2a8a24e7f4899ee558922f414c051e7c11&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-16 20:09:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6f02407835c588cd3c9af27a5729564c686628f5...eb2e3f5e7be1995100788b599b8973217e472897.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/CardRenderer.jsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |

oisincoveney (Issue Creator) on (2025-01-30 20:43:43 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-30 20:44:50 UTC): @oisincoveney Manual conflict resolution is required

github-actions[bot] on (2025-02-06 20:11:49 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2791413480,pull_request,closed,,"🤖 backported ""Fix bad wrapping on long names for ColumnItem """,#52245,github-automation-metabase,2025-01-16 01:11:15+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-16 02:47:19+00:00,2025-01-16 01:46:43+00:00,https://github.com/metabase/metabase/pull/52252,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2594260914, 'issue_id': 2791413480, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ded92218fcf1228b7cb1f9376683254ab3a6510c...4f17e083c936ea67307e75cbb2a527cb450ed4d3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |', 'created_at': datetime.datetime(2025, 1, 16, 1, 12, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594345275, 'issue_id': 2791413480, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/11602_tests-4f17e083-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=a858a45f-33f4-50d9-8b65-010f93fe42db) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 2, 32, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-16 01:12:40 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ded92218fcf1228b7cb1f9376683254ab3a6510c...4f17e083c936ea67307e75cbb2a527cb450ed4d3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |

trunk-io[bot] on (2025-01-16 02:32:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/11602_tests-4f17e083-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=a858a45f-33f4-50d9-8b65-010f93fe42db) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52252?repo=metabase/metabase&commitHash=4f17e083c936ea67307e75cbb2a527cb450ed4d3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791334715,pull_request,closed,,[Backend modularization] `sync` module cleanup,"Resolves #52250

- Move `metabase.sync` to `metabase.sync.sync` (not sure what an actually good name for this was)
- Add new `metabase.sync.core` API namespace that exposes most of the stuff used outside of `sync`
- Move `metabase.events.sync-database` to `metabase.sync.events.sync-database`
- Move `metabase.task.sync-databases` to `metabase.sync.task.sync-databases`
- Move `metabase.api.notify` to `metabase.sync.api.notify`
- Set CODEOWNERS for `sync` module to @metabase/drivers 
- Add a README for sync",camsaul,2025-01-16 00:29:00+00:00,['camsaul'],2025-01-16 18:36:14+00:00,2025-01-16 17:36:24+00:00,https://github.com/metabase/metabase/pull/52251,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2594316413, 'issue_id': 2791334715, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110691_tests-c7b59a76-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE&runId=0ed4ecf9-3491-5ebe-b908-146b0bc196ae) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE&runId=98009c7a-c911-5905-aa9b-600f78db34c6) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE&runId=0880462c-20a5-57e0-a349-8757d3d6e100) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 2, 3, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 02:03:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110691_tests-c7b59a76-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE&runId=0ed4ecf9-3491-5ebe-b908-146b0bc196ae) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE&runId=98009c7a-c911-5905-aa9b-600f78db34c6) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment&runConclusion=FAILURE&runId=0880462c-20a5-57e0-a349-8757d3d6e100) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52251?repo=metabase/metabase&commitHash=c7b59a763cdc50e8632dbfb959ee870f125bf62b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791312264,pull_request,closed,,more flakes boo,Marks a couple more flaky tests,iethree,2025-01-16 00:17:10+00:00,['iethree'],2025-01-27 22:11:34+00:00,2025-01-16 03:13:49+00:00,https://github.com/metabase/metabase/pull/52249,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2594329550, 'issue_id': 2791312264, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3669_tests-3222c1a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE&runId=90acd163-18ca-563c-a6f4-0accb65caa0c) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE&runId=73ed73f1-906b-5c1d-82fe-7ae98c1128e4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 2, 18, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 02:18:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3669_tests-3222c1a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE&runId=90acd163-18ca-563c-a6f4-0accb65caa0c) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment&runConclusion=FAILURE&runId=73ed73f1-906b-5c1d-82fe-7ae98c1128e4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52249?repo=metabase/metabase&commitHash=3222c1a2c5e1eccaac2b4f754ffd37b27a9b6298&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791202252,pull_request,closed,,Handle dashcards without card when creating subscriptions,,metamben,2025-01-15 23:19:39+00:00,['metamben'],2025-01-17 14:50:45+00:00,2025-01-17 14:50:42+00:00,https://github.com/metabase/metabase/pull/52248,"[('.Team/Querying', '')]","[{'comment_id': 2594191795, 'issue_id': 2791202252, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113134_tests-bca529f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>batched-deletion-test</code> | The expected number of queries was 2, but 3 queries were executed, due to batched deletion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=9252bc03-4a4c-5cbe-9da8-4d598dfe4833) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=12a2bb2c-a75f-5fae-99b0-6f70e07ea73b) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=3dc0e217-7505-5803-995b-737313d70648) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=5e195821-04a5-5673-a535-f450a97fda5a) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=10a1f0c1-0b67-5d06-866a-59c3c9b890d9) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 0, 15, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 00:15:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113134_tests-bca529f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>batched-deletion-test</code> | The expected number of queries was 2, but 3 queries were executed, due to batched deletion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=9252bc03-4a4c-5cbe-9da8-4d598dfe4833) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=12a2bb2c-a75f-5fae-99b0-6f70e07ea73b) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=3dc0e217-7505-5803-995b-737313d70648) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=5e195821-04a5-5673-a535-f450a97fda5a) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE&runId=10a1f0c1-0b67-5d06-866a-59c3c9b890d9) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52248?repo=metabase/metabase&commitHash=bca529f1bb9918893c7e530e0ae7d736e863f3e0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791196789,pull_request,closed,,"🤖 backported ""remove ocean color scheme""",#52231,github-automation-metabase,2025-01-15 23:16:51+00:00,"['iethree', 'github-automation-metabase']",2025-01-16 01:51:46+00:00,2025-01-16 00:02:08+00:00,https://github.com/metabase/metabase/pull/52247,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2594195824, 'issue_id': 2791196789, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13347_tests-1db95e53-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE&runId=7aeace65-b46f-5214-bad8-b5cef7481b33) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE&runId=bb9b3a12-0c55-5c7b-a912-422baaa1c192) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 0, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 00:19:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13347_tests-1db95e53-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE&runId=7aeace65-b46f-5214-bad8-b5cef7481b33) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment&runConclusion=FAILURE&runId=bb9b3a12-0c55-5c7b-a912-422baaa1c192) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52247?repo=metabase/metabase&commitHash=1db95e53b13a81cb9187d13854c3732b0ddae7b4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791165712,pull_request,closed,,Make sure we can load User KV schemas when in a JAR,"* Uses `u.files/with-open-path-to-resource` to load production schemas for the user KV-store so that the file path resolves properly in a JAR 
* Loads KV store on server initialization rather than when loading namespaces (couldn't get this to work otherwise)",noahmoss,2025-01-15 23:02:20+00:00,['noahmoss'],2025-01-16 21:13:57+00:00,2025-01-16 20:16:11+00:00,https://github.com/metabase/metabase/pull/52246,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2594167154, 'issue_id': 2791165712, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111862_tests-b703b200-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE&runId=b587f301-3701-5b27-9bc7-936bc26c40f1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE&runId=42a04d9e-3a28-5e7e-a6f3-5270e805e244) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 23, 51, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 23:51:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111862_tests-b703b200-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE&runId=b587f301-3701-5b27-9bc7-936bc26c40f1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment&runConclusion=FAILURE&runId=42a04d9e-3a28-5e7e-a6f3-5270e805e244) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52246?repo=metabase/metabase&commitHash=b703b2007ca055efbed97440edae3aef0fca9bd4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791155663,pull_request,closed,,Fix bad wrapping on long names for ColumnItem ,"Fixes the bad wrapping in `ColumnItem` by adding `noWrap` to the surrounding `Group` component. Also adds a `flexNoShrink` to the icon to make sure it doesn't shrink when the name is longer

_Backporting due to the original PR being an SDK fix_

Before:
<img width=""315"" alt=""image"" src=""https://github.com/user-attachments/assets/ba355799-e12e-4825-921c-d55546d3bbae"" />


After:
<img width=""309"" alt=""image"" src=""https://github.com/user-attachments/assets/6e487733-17f9-4528-8e93-4e51ae258931"" />",oisincoveney,2025-01-15 22:57:16+00:00,['oisincoveney'],2025-01-16 02:15:09+00:00,2025-01-16 01:10:25+00:00,https://github.com/metabase/metabase/pull/52245,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2594106076, 'issue_id': 2791155663, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52245 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 15, 22, 57, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594107759, 'issue_id': 2791155663, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 00eeac0a403434e9f69ff247560fc672e67794a0...1081a614d02fd9316ecf1220429942000e7d8349.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |', 'created_at': datetime.datetime(2025, 1, 15, 22, 58, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594167388, 'issue_id': 2791155663, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41133_tests-1081a614-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=FAILURE&runId=12b54a1f-2e70-5122-9e60-e46c583637e5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 23, 51, 49, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-15 22:57:18 UTC): This change is part of the following stack:

- #52245 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-15 22:58:47 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 00eeac0a403434e9f69ff247560fc672e67794a0...1081a614d02fd9316ecf1220429942000e7d8349.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |

trunk-io[bot] on (2025-01-15 23:51:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41133_tests-1081a614-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment&runConclusion=FAILURE&runId=12b54a1f-2e70-5122-9e60-e46c583637e5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52245?repo=metabase/metabase&commitHash=1081a614d02fd9316ecf1220429942000e7d8349&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791140071,pull_request,closed,,"🤖 backported ""Don't automatically persist/cache models in EE""","  #52222
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-15 22:50:17+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-23 16:03:36+00:00,2025-01-23 16:03:34+00:00,https://github.com/metabase/metabase/pull/52244,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2607632391, 'issue_id': 2791140071, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `1ae9943174a8b43bb78dcf1cf4edad453c4eafda-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12911867496?pr=52244)\n\n  File | Test Name\n  ---- | ---------\n  `cleanup.cy.spec.js` | scenarios > collections > clean up > ee > clean up collection modal > should be able to clean up stale items', 'created_at': datetime.datetime(2025, 1, 22, 15, 59, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607681741, 'issue_id': 2791140071, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/75178_tests-1ae99431-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-field-test</code> | Query execution failed due to an aborted transaction, possibly caused by a user request. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE&runId=25413674-41dc-5cf2-bb0a-ab49a0b0c06c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE&runId=c0bcbf3b-c265-5e61-8009-b035db9ecd34) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 16, 18, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 15:59:31 UTC): ## e2e tests failed on `1ae9943174a8b43bb78dcf1cf4edad453c4eafda-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12911867496?pr=52244)

  File | Test Name
  ---- | ---------
  `cleanup.cy.spec.js` | scenarios > collections > clean up > ee > clean up collection modal > should be able to clean up stale items

trunk-io[bot] on (2025-01-22 16:18:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/75178_tests-1ae99431-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-field-test</code> | Query execution failed due to an aborted transaction, possibly caused by a user request. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE&runId=25413674-41dc-5cf2-bb0a-ab49a0b0c06c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment&runConclusion=FAILURE&runId=c0bcbf3b-c265-5e61-8009-b035db9ecd34) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52244?repo=metabase/metabase&commitHash=1ae9943174a8b43bb78dcf1cf4edad453c4eafda&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791131855,pull_request,closed,,[Backend modularization] `channel` module cleanup,"Resolves #52237
Resolves #52238

[I proposed this in my tech doc](https://www.notion.so/metabase/Backend-Modularization-2025-Plan-17669354c90180b98bd4eb9c8ccf2395) and @qnkhuat 👍ed it so I went ahead and did it

- Move `metabase.email*` and friends to `metabase.channel.email*`
- Move `metabase.api.email` to `metabase.channel.api.email`
- Move `metabase.api.channel` to `metabase.channel.api.channel`
- Move `metabase.models.channel` to `metabase.channel.models.channel`
- Assign the Workflows Team as the CODEOWNERS of the `channel` module.",camsaul,2025-01-15 22:47:11+00:00,['camsaul'],2025-01-16 04:17:49+00:00,2025-01-16 04:17:47+00:00,https://github.com/metabase/metabase/pull/52243,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2594167592, 'issue_id': 2791131855, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110956_tests-468047a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/11-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=3466ffc8-2fe1-5adb-a2e4-5d132c31fba3) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=1fe9ab58-e3ea-599e-8b0f-4c9a30a38a53) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=5ba06f17-9115-566e-a05b-1543ff6508df) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=dc220c5c-15db-5c6f-a925-2a0b63cfda91) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=c4e39eed-3ea2-50a4-ad44-a720061b875e) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=7ad7cd2c-f2a6-506f-97e2-4d17f6d815d9) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=2aea24bb-a37e-5707-8304-fa466792c2d1) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 23, 52, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 23:52:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110956_tests-468047a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/11-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=3466ffc8-2fe1-5adb-a2e4-5d132c31fba3) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=1fe9ab58-e3ea-599e-8b0f-4c9a30a38a53) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=5ba06f17-9115-566e-a05b-1543ff6508df) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=dc220c5c-15db-5c6f-a925-2a0b63cfda91) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=c4e39eed-3ea2-50a4-ad44-a720061b875e) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=7ad7cd2c-f2a6-506f-97e2-4d17f6d815d9) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE&runId=2aea24bb-a37e-5707-8304-fa466792c2d1) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52243?repo=metabase/metabase&commitHash=468047a4566a9ad3537a3d9bd5d64835fe599152&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791086917,pull_request,closed,,Fix byte to timestamp coercion for redshift,"Closes https://github.com/metabase/metabase/issues/46850

### Description

Uses [`FROM_VARBYTE`](https://docs.aws.amazon.com/redshift/latest/dg/r_FROM_VARBYTE.html) to convert bytes to timestamps for the Redshift driver since Postgres' `CONVERT_FROM` does not exist in Redshift.

### How to verify

1. Create a Redshift table that has a column of type `VARBYTE`
2. Populate this column with bytes representing a timestamp, e.g. `20190421164300`. 
3. When you view this table from the Metabase UI, the column values should be displayed as formatted timestamps, e.g. `April 21, 2019, 4:43 PM`

### Demo

Before:
<img width=""1233"" alt=""Screenshot 2025-01-15 at 5 23 56 PM"" src=""https://github.com/user-attachments/assets/61ddc6cf-59c3-495a-836c-fd4aa28416dd"" />

After:
<img width=""791"" alt=""Screenshot 2025-01-15 at 5 23 29 PM"" src=""https://github.com/user-attachments/assets/1a472a99-c9f2-48fe-9b1a-bbc0f86f5c3a"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-15 22:25:35+00:00,['rileythomp'],2025-01-16 17:26:44+00:00,2025-01-16 17:26:41+00:00,https://github.com/metabase/metabase/pull/52242,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2594138224, 'issue_id': 2791086917, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110691_tests-30ff95f0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=FAILURE&runId=2f65cb53-1bac-5f7a-9068-89d368ca035d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 23, 23, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 23:23:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110691_tests-30ff95f0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment&runConclusion=FAILURE&runId=2f65cb53-1bac-5f7a-9068-89d368ca035d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52242?repo=metabase/metabase&commitHash=30ff95f0372df9947847ffdc4a593299157c9b4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791058923,pull_request,closed,,Codeowners test 2,"Let's see if this triggered kyle. No, it didn't. Ok good to know.",camsaul,2025-01-15 22:13:12+00:00,['camsaul'],2025-01-15 23:44:57+00:00,2025-01-15 22:13:17+00:00,https://github.com/metabase/metabase/pull/52241,"[('.Team/DevEx', '')]","[{'comment_id': 2594102693, 'issue_id': 2791058923, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112076_tests-6d6a370e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE&runId=94278f11-6c34-5926-b459-e95b743e85f0) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE&runId=15eacdc6-13ca-5e2f-a9d7-7c3537b89971) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE&runId=6c31bb3d-05e8-5a45-8135-70d106754fc5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 22, 54, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 22:54:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112076_tests-6d6a370e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE&runId=94278f11-6c34-5926-b459-e95b743e85f0) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE&runId=15eacdc6-13ca-5e2f-a9d7-7c3537b89971) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment&runConclusion=FAILURE&runId=6c31bb3d-05e8-5a45-8135-70d106754fc5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52241?repo=metabase/metabase&commitHash=6d6a370e8f8341c637da619a77290c39776f51e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791057260,pull_request,closed,,Codeowners test 1,"let's see if this triggers backend webapp. Oh it did. Cool, this worked.",camsaul,2025-01-15 22:12:21+00:00,['camsaul'],2025-01-15 23:46:31+00:00,2025-01-15 22:12:43+00:00,https://github.com/metabase/metabase/pull/52240,"[('.Team/DevEx', '')]","[{'comment_id': 2594104876, 'issue_id': 2791057260, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112076_tests-e9dc4cfc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=b5f6af5a-30a5-54aa-8c74-bde328d19410) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=a0b0e75b-76c6-5fc2-98c4-a9e041b88f2e) |\n| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction is aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=573df0fb-2f61-50f5-9f11-9ccc31984a2f) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=c581419a-2e20-564e-8f1c-a9c4c3916d57) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=7e0049b7-2dbb-50ac-8de2-ebe3d7df8c9b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 22, 56, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 22:56:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112076_tests-e9dc4cfc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=b5f6af5a-30a5-54aa-8c74-bde328d19410) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=a0b0e75b-76c6-5fc2-98c4-a9e041b88f2e) |
| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction is aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=573df0fb-2f61-50f5-9f11-9ccc31984a2f) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=c581419a-2e20-564e-8f1c-a9c4c3916d57) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment&runConclusion=FAILURE&runId=7e0049b7-2dbb-50ac-8de2-ebe3d7df8c9b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52240?repo=metabase/metabase&commitHash=e9dc4cfc8b2e5ee94214421f8f33cf4dce6a2597&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2791056652,pull_request,closed,,Disable pivot drill thru for multi-stage queries,"Closes #52221
Related to  #52236

### Description

This drill thru was recently enabled for multi-stage queries in #51950, but there is a bug which causes the QueryColumnPicker to fail if a join is present. Disable the drill thru for now while we work on a fix.

Slack discussion:

https://metaboat.slack.com/archives/C0645JP1W81/p1736970278902299

### How to verify

See repro steps for #52221. The ""Break out by..."" option should no longer appear in the drill context menu.

### Demo

![Screenshot 2025-01-15 at 2 10 20 PM](https://github.com/user-attachments/assets/f0f01251-1279-4c3f-9c8f-365734d47df8)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-15 22:12:08+00:00,['appleby'],2025-01-17 19:55:39+00:00,2025-01-17 19:55:37+00:00,https://github.com/metabase/metabase/pull/52239,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2594101873, 'issue_id': 2791056652, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114202_tests-2c0807e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=29299c0b-4bc7-572c-9526-37a1e5fd8cee) |\n| <code>integer-aggregation-division-test</code> | The query result set was closed, preventing further processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=b7daa799-5669-5b9f-9187-a36801e4bac2) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=e906d720-aa0e-559a-9e1c-e13d66653ed4) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=55801f84-0eef-51ac-b2cc-97402bfa5c68) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=c9513782-dcfb-5b1a-9b20-d880b9072deb) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=4d3e9d54-e57e-5038-93d3-dc0b929dc84b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 22, 53, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 22:53:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114202_tests-2c0807e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=29299c0b-4bc7-572c-9526-37a1e5fd8cee) |
| <code>integer-aggregation-division-test</code> | The query result set was closed, preventing further processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=b7daa799-5669-5b9f-9187-a36801e4bac2) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=e906d720-aa0e-559a-9e1c-e13d66653ed4) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=55801f84-0eef-51ac-b2cc-97402bfa5c68) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=c9513782-dcfb-5b1a-9b20-d880b9072deb) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment&runConclusion=FAILURE&runId=4d3e9d54-e57e-5038-93d3-dc0b929dc84b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52239?repo=metabase/metabase&commitHash=2c0807e8ce12f5399f1d7d4fc3c3fc2910b3727d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790945746,pull_request,closed,,Change order of input wrapper elements,"[Thread in slack](https://metaboat.slack.com/archives/C02H619CJ8K/p1736876493549419)

_Note: backporting because this is a fix for the SDK_

Moves the error message to below the input for components that have a similar form to `TextInput`. This includes `TextInput`, `NumberInput`, and `Select` to ensure some form of consistency among the components


**Number input**
<img width=""345"" alt=""image"" src=""https://github.com/user-attachments/assets/546c404d-5369-4513-999f-7069866f060f"" />


**Text inputs**
<img width=""394"" alt=""image"" src=""https://github.com/user-attachments/assets/b76d3688-abd2-4d08-ba65-85665780d2c3"" />

**Select**
<img width=""464"" alt=""image"" src=""https://github.com/user-attachments/assets/e41c9f3a-f4f4-489a-bc51-4a386be89876"" />

--- 

_**Old:**_ I was going to change the order within the `InputWrapper`, but the `Switch` component has an issue with alignment. If this should be a global change, it should be done in a separate PR. Here is what some of those other components look like with the error below the component

**Checkbox**
<img width=""276"" alt=""image"" src=""https://github.com/user-attachments/assets/2eab5c36-49c3-4ed1-a3c2-da7fdb9f2dba"" />

**Radio**
<img width=""330"" alt=""image"" src=""https://github.com/user-attachments/assets/6c528f19-bce5-44d1-aae8-4a488b495e2c"" />

**Switch**
<img width=""354"" alt=""image"" src=""https://github.com/user-attachments/assets/79342fde-66f5-4a70-b20d-27b6614263b5"" />
",oisincoveney,2025-01-15 21:26:08+00:00,['oisincoveney'],2025-01-18 00:20:23+00:00,2025-01-17 19:15:01+00:00,https://github.com/metabase/metabase/pull/52235,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2593969338, 'issue_id': 2790945746, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52235 ◀\n    - #52075\n        - #52079\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 15, 21, 26, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593971840, 'issue_id': 2790945746, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9908b9e5393984832f7e06a6dec7f910809e696d...5b74961bc48ec6adc3a5166b664830841647e831.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Textarea/Textarea.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 15, 21, 27, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594065977, 'issue_id': 2790945746, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40699_tests-5b74961b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE&runId=d6169408-5a36-50d9-91ff-7c746ba0be74) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE&runId=d15ee5cc-6c78-5b87-b2d4-42b65a907347) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 22, 27, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596203425, 'issue_id': 2790945746, 'author': 'oisincoveney', 'body': ""> So is the idea that a broader change in InputWrapper _should_ happen but because of some switch and radio alignment issues you’re doing this only for a few components? If that’s the case are we tracking that work somewhere? \n\nI think in my ideal world, for consistency's sake, we should probably always have errors on the bottom (whether that's below the text input for text components, or below the label for horizontally aligned switch components), but it's not a hill I'm willing to die on if y'all feel otherwise. If you think we should align errors on the bottom then I think we should set up a mini-epic with those tasks somewhere.\n\n\n> Only other question was about capitalization, in your screenshots there some are all caps and some are sentence case, is that just happenstance or is there something codified about that?\n\nThat's just from the random strings that I typed in 🙂 the error messages will stay the same.\n\nBut as I type this I realize there's probably other error messages that begin with a lowercase letter, and might look weird. Should I capitalize those if I see them?"", 'created_at': datetime.datetime(2025, 1, 16, 16, 39, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596367088, 'issue_id': 2790945746, 'author': 'kdoh', 'body': ""Cool. Let's stick with what we have here and keep going with the rest in follow ups. I do think below is preferable for most elements, but there's some specific guidance around errors when there are lists of options that it looks like we owe for Checkbox and Radio. Switch we already do have [designs for](https://www.figma.com/design/xdNKMROC99J6Z4Sqg6V3JI/Input-%2F-Switch?node-id=5-70&t=2gTgqxPXFuDsyMFR-11) the error state which is below as well.\r\n\r\nAs far as the messages themselves, no need to change anything, we should have the strings themselves enforce that rather than do it via CSS I think. I was just curious if I had missed something."", 'created_at': datetime.datetime(2025, 1, 16, 17, 58, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596823900, 'issue_id': 2790945746, 'author': 'oisincoveney', 'body': ""> Cool. Let's stick with what we have here and keep going with the rest in follow ups. I do think below is preferable for most elements, but there's some specific guidance around errors when there are lists of options that it looks like we owe for Checkbox and Radio. Switch we already do have [designs for](https://www.figma.com/design/xdNKMROC99J6Z4Sqg6V3JI/Input-%2F-Switch?node-id=5-70&t=2gTgqxPXFuDsyMFR-11) the error state which is below as well.\r\n> \r\n> As far as the messages themselves, no need to change anything, we should have the strings themselves enforce that rather than do it via CSS I think. I was just curious if I had missed something.\r\n\r\nGotcha. I think being more specific for the different inputs makes a lot more sense than having a general solution. I'll create an issue here \r\n\r\n> Cool. Let's stick with what we have here and keep going with the rest in follow ups. I do think below is preferable for most elements, but there's some specific guidance around errors when there are lists of options that it looks like we owe for Checkbox and Radio. Switch we already do have [designs for](https://www.figma.com/design/xdNKMROC99J6Z4Sqg6V3JI/Input-%2F-Switch?node-id=5-70&t=2gTgqxPXFuDsyMFR-11) the error state which is below as well.\r\n> \r\n> As far as the messages themselves, no need to change anything, we should have the strings themselves enforce that rather than do it via CSS I think. I was just curious if I had missed something.\r\n\r\nGotcha, I've created #52282 to track the progress on this"", 'created_at': datetime.datetime(2025, 1, 16, 20, 24, 32, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-15 21:26:13 UTC): This change is part of the following stack:

- #52235 ◀
    - #52075
        - #52079

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-15 21:27:45 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9908b9e5393984832f7e06a6dec7f910809e696d...5b74961bc48ec6adc3a5166b664830841647e831.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Textarea/Textarea.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx |

trunk-io[bot] on (2025-01-15 22:27:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40699_tests-5b74961b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE&runId=d6169408-5a36-50d9-91ff-7c746ba0be74) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment&runConclusion=FAILURE&runId=d15ee5cc-6c78-5b87-b2d4-42b65a907347) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52235?repo=metabase/metabase&commitHash=5b74961bc48ec6adc3a5166b664830841647e831&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2025-01-16 16:39:52 UTC): I think in my ideal world, for consistency's sake, we should probably always have errors on the bottom (whether that's below the text input for text components, or below the label for horizontally aligned switch components), but it's not a hill I'm willing to die on if y'all feel otherwise. If you think we should align errors on the bottom then I think we should set up a mini-epic with those tasks somewhere.



That's just from the random strings that I typed in 🙂 the error messages will stay the same.

But as I type this I realize there's probably other error messages that begin with a lowercase letter, and might look weird. Should I capitalize those if I see them?

kdoh on (2025-01-16 17:58:42 UTC): Cool. Let's stick with what we have here and keep going with the rest in follow ups. I do think below is preferable for most elements, but there's some specific guidance around errors when there are lists of options that it looks like we owe for Checkbox and Radio. Switch we already do have [designs for](https://www.figma.com/design/xdNKMROC99J6Z4Sqg6V3JI/Input-%2F-Switch?node-id=5-70&t=2gTgqxPXFuDsyMFR-11) the error state which is below as well.

As far as the messages themselves, no need to change anything, we should have the strings themselves enforce that rather than do it via CSS I think. I was just curious if I had missed something.

oisincoveney (Issue Creator) on (2025-01-16 20:24:32 UTC): Gotcha. I think being more specific for the different inputs makes a lot more sense than having a general solution. I'll create an issue here 


Gotcha, I've created #52282 to track the progress on this

"
2790939324,pull_request,closed,,[Backend modularization] `setup` module cleanup,"Resolves #52232 

The `setup` module has code related to setting up a new Metabase instance (setup token for first launch and admin checklist).

- Move `metabase.setup` to `metabase.setup.core`
- Move `metabase.api.setup` to `metabase.setup.api`
- Add `CODEOWNERS` entry
- Add `README.md` for module
- (Slightly unrelated) I updated the module linter to default to assuming `<module>.core` is the modue API namespace rather than `<module>` so I had to update a few things. I renamed the pivot test util namespace `metabase.api.pivot` (yes, this was a test util namespace) to `metabase.query-processor.pivot.test-util` so the module linter would not try to check it ",camsaul,2025-01-15 21:23:23+00:00,['camsaul'],2025-01-15 23:19:26+00:00,2025-01-15 22:28:35+00:00,https://github.com/metabase/metabase/pull/52234,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2594062236, 'issue_id': 2790939324, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112080_tests-5a216624-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE&runId=41e6eefb-fda8-55cc-a82b-7365009d4afa) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE&runId=ae0d609c-ae5a-532d-ab54-b1c984305670) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 22, 24, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 22:24:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112080_tests-5a216624-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE&runId=41e6eefb-fda8-55cc-a82b-7365009d4afa) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment&runConclusion=FAILURE&runId=ae0d609c-ae5a-532d-ab54-b1c984305670) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52234?repo=metabase/metabase&commitHash=5a216624feb9c81ad172f021322acf74e83a757c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790914476,pull_request,closed,,"🤖 backported ""fix(sdk): Add segmented button for chart settings""","  #52076
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-15 21:13:12+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-17 23:19:09+00:00,2025-01-17 23:19:07+00:00,https://github.com/metabase/metabase/pull/52233,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2594141635, 'issue_id': 2790914476, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13374_tests-bb8395a6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE&runId=6298e0e1-ab29-5999-9ab2-b887f4392d8f) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE&runId=22887d23-76e1-5b35-a8b5-a21906d6531d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 23, 26, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595434750, 'issue_id': 2790914476, 'author': 'heypoom', 'body': ""@oisincoveney there is a merge conflict here that requires manual backporting. I'll remove Embedding from reviewer for now"", 'created_at': datetime.datetime(2025, 1, 16, 12, 22, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597296437, 'issue_id': 2790914476, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e18ec8c4252379a26a892b4b6dd79146eb8fa718...1c2c2b27916168822e5baee6e8f9e24835a4202c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |\n| @kdoh | frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/SelectDropdown/SelectDropdown.tsx |', 'created_at': datetime.datetime(2025, 1, 17, 2, 21, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 23:26:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13374_tests-bb8395a6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE&runId=6298e0e1-ab29-5999-9ab2-b887f4392d8f) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment&runConclusion=FAILURE&runId=22887d23-76e1-5b35-a8b5-a21906d6531d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52233?repo=metabase/metabase&commitHash=bb8395a6499d9dbcbc7eadcdec8e721ee719187e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom on (2025-01-16 12:22:47 UTC): @oisincoveney there is a merge conflict here that requires manual backporting. I'll remove Embedding from reviewer for now

github-actions[bot] on (2025-01-17 02:21:07 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e18ec8c4252379a26a892b4b6dd79146eb8fa718...1c2c2b27916168822e5baee6e8f9e24835a4202c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |
| @kdoh | frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/SelectDropdown/SelectDropdown.tsx |

"
2790895100,pull_request,closed,,remove ocean color scheme,This color is a trap and breaks white labeling when we mix it up with `brand` colors.,iethree,2025-01-15 21:05:16+00:00,['iethree'],2025-01-16 00:02:35+00:00,2025-01-15 23:15:59+00:00,https://github.com/metabase/metabase/pull/52231,"[('Administration/Whitelabel', 'Enterprise white labelling'), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2594024880, 'issue_id': 2790895100, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3669_tests-34b7388a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=13c4ed1e-6fcd-5671-bf33-627dd426c460) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=639c2e4a-ccdb-566b-bc6c-28a11c0f19a0) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=1c4e3207-0c99-5b26-917e-db895661a27e) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=62ae105d-2651-59f8-a45c-8a7461e40be1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 22, 0, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 22:00:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3669_tests-34b7388a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=13c4ed1e-6fcd-5671-bf33-627dd426c460) |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=639c2e4a-ccdb-566b-bc6c-28a11c0f19a0) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=1c4e3207-0c99-5b26-917e-db895661a27e) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment&runConclusion=FAILURE&runId=62ae105d-2651-59f8-a45c-8a7461e40be1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52231?repo=metabase/metabase&commitHash=34b7388abd99b443a437e481a26c6bee2439b9e1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790876777,pull_request,closed,,Normalize tool error responses,,metamben,2025-01-15 20:58:15+00:00,['metamben'],2025-01-17 16:31:21+00:00,2025-01-17 15:02:28+00:00,https://github.com/metabase/metabase/pull/52230,"[('Metabot/General', 'General Metabot AI'), ('.Team/Querying', '')]","[{'comment_id': 2594019774, 'issue_id': 2790876777, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111389_tests-81a7b498-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=e1821d6b-bd0c-5d48-b569-12b8b2c3d2c5) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=411cadf1-0760-54f6-9887-69dc86e3ec3d) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=1feb85c6-48df-55a1-af0d-83636f876edf) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=1d2b937f-036b-518a-9424-4e3ada4eede3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 21, 56, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 21:56:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111389_tests-81a7b498-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=e1821d6b-bd0c-5d48-b569-12b8b2c3d2c5) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=411cadf1-0760-54f6-9887-69dc86e3ec3d) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=1feb85c6-48df-55a1-af0d-83636f876edf) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment&runConclusion=FAILURE&runId=1d2b937f-036b-518a-9424-4e3ada4eede3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52230?repo=metabase/metabase&commitHash=81a7b4982e2636f9c93835a20d61408165243102&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790868191,pull_request,closed,,"🤖 backported ""update troubleshooting""",#52031,github-automation-metabase,2025-01-15 20:54:43+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-15 20:56:18+00:00,2025-01-15 20:56:18+00:00,https://github.com/metabase/metabase/pull/52229,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2790861903,pull_request,closed,,"🤖 backported ""Update mysql.md""",#52107,github-automation-metabase,2025-01-15 20:52:12+00:00,"['alexyarosh', 'github-automation-metabase']",2025-01-22 07:20:15+00:00,2025-01-22 07:20:15+00:00,https://github.com/metabase/metabase/pull/52228,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2790861575,pull_request,closed,,[Backend modularization] parcel out `async` module,"Resolves #52224

The `async` module had two things in it -- `core.async` utils and a `StreamingResponse` class used by our web server for QP responses. I moved the utils into the `util` module and the StreamingResponse stuff into the `server` module. ",camsaul,2025-01-15 20:51:59+00:00,['camsaul'],2025-01-15 22:25:38+00:00,2025-01-15 21:41:43+00:00,https://github.com/metabase/metabase/pull/52227,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2593969738, 'issue_id': 2790861575, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/81510_tests-923c6f6a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/208-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=a82921bb-5db5-5fe8-b3e3-01087ca6689a) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=bac98718-4a45-53ca-a6b4-8495e96b3c21) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=0f2b79b9-61fb-5d61-a6fe-a51519f62672) |\n| <code>offset-expression-inside-other-expression-test</code> | Resource pool cannot acquire a new resource, the factory or source appears to be down. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=d31144ba-8a7b-5a98-aae6-323bc90164da) |\n\n[... and 204 more](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 21, 26, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 21:26:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/81510_tests-923c6f6a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/208-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=a82921bb-5db5-5fe8-b3e3-01087ca6689a) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=bac98718-4a45-53ca-a6b4-8495e96b3c21) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=0f2b79b9-61fb-5d61-a6fe-a51519f62672) |
| <code>offset-expression-inside-other-expression-test</code> | Resource pool cannot acquire a new resource, the factory or source appears to be down. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE&runId=d31144ba-8a7b-5a98-aae6-323bc90164da) |

[... and 204 more](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52227?repo=metabase/metabase&commitHash=923c6f6a5be9312c4122d9f4c10e9d115dc8dce5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790828532,pull_request,closed,,fix(sdk): Add popover props for interactive question dropdowns,"Passes a `...popoverProps` to each of the dropdown components to allow users to set style props and `position`. 

We can also just allow users to put `position`, so let me know what you think.",oisincoveney,2025-01-15 20:39:27+00:00,['oisincoveney'],2025-01-17 03:08:19+00:00,2025-01-17 02:11:31+00:00,https://github.com/metabase/metabase/pull/52225,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2593888683, 'issue_id': 2790828532, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52225 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 15, 20, 39, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593889048, 'issue_id': 2790828532, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 15, 20, 39, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593957519, 'issue_id': 2790828532, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3669_tests-5c470222-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=FAILURE&runId=7933b450-2d62-5720-94a5-b49975ea831a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 21, 18, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596789919, 'issue_id': 2790828532, 'author': 'oisincoveney', 'body': '> Makes sense to me as those are all dropdown components. I wonder if we should mention this in the SDK docs?\r\n\r\nYes, we should 😄', 'created_at': datetime.datetime(2025, 1, 16, 20, 3, 39, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-15 20:39:28 UTC): This change is part of the following stack:

- #52225 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-15 20:39:46 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-15 21:18:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3669_tests-5c470222-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment&runConclusion=FAILURE&runId=7933b450-2d62-5720-94a5-b49975ea831a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52225?repo=metabase/metabase&commitHash=5c47022210fc140471c28ddbac808bf32741205b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2025-01-16 20:03:39 UTC): Yes, we should 😄

"
2790783510,pull_request,closed,,Only match issues in main repo for milestoning,"## Description
Updates our linked issue regex to only match urls in the main `metabase/metabase` repo and ignore other metabase repos for the purpose of setting milestones for release notes.

to prevent situations like [this pr](https://github.com/metabase/metabase/pull/52052) setting a milestone on this [10 year old issue](https://github.com/metabase/metabase/pull/268) because it assumed all issue references were within this repo.",iethree,2025-01-15 20:20:56+00:00,['iethree'],2025-01-27 22:11:30+00:00,2025-01-16 14:28:57+00:00,https://github.com/metabase/metabase/pull/52223,"[('.Building & Releasing', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2790739976,pull_request,closed,,Don't automatically persist/cache models in EE,"Closes #52209 

### Description

Modifies enterprise code to default model persistence info to ""off"".

Most models run quickly, so the caching doesn’t do anything but introduce a caching lag for the real data (problem 1). 

For big models, especially when you create many of them, this eventually leads to db performance/cost issues as it is doing unnecessary copying/caching of lots of data every hour (problem 2).

Due to problem 2, I think some models’ caches are not getting refreshed, which leads to stale data and confusion (problem 3).

Related to 3, having cache on by default isn’t what users expect and users that don’t know where the setting is as it isn’t that easy to find (hidden in dot menu and then Edit Settings; problem 4). Whenever cache is used, I would want to know that / something should be visible on the question result page (which then I can click/hover to learn more and change the cache setting).

Therefore, this changes EE usage to not automatically cache models when they are created. They must be explicitly enabled through the model configuration screen.

NOTES: 
- Because OSS doesn't support per-model configuration, **_all_** models continue to be cached when caching is enabled in general.
- Existing models for EE users will continue to be cached as there is no way to tell the difference between automatically-configured-cache and manually-configured-cache

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Create a a new model
2. See that the admin model persistence log shows ""off""

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-15 20:03:43+00:00,['nvoxland'],2025-01-15 22:49:26+00:00,2025-01-15 22:49:25+00:00,https://github.com/metabase/metabase/pull/52222,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2593916289, 'issue_id': 2790739976, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/93911_tests-f81aa700-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=FAILURE&runId=b9bd75b2-2336-598b-8888-aa7878c7a676) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 20, 55, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 20:55:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/93911_tests-f81aa700-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment&runConclusion=FAILURE&runId=b9bd75b2-2336-598b-8888-aa7878c7a676) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52222?repo=metabase/metabase&commitHash=f81aa70086c810c563b80cf0ddb41f5422fb63af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790606101,pull_request,closed,,"🤖 backported ""Apply theme change transition styles to the ParameterFieldSet component""",#52049,github-automation-metabase,2025-01-15 18:55:01+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-15 20:44:08+00:00,2025-01-15 19:29:13+00:00,https://github.com/metabase/metabase/pull/52220,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593897450, 'issue_id': 2790606101, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-21da6081-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=FAILURE&runId=54d90bc4-1dda-56b5-a2e3-3e951641f0fc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 20, 44, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 20:44:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-21da6081-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment&runConclusion=FAILURE&runId=54d90bc4-1dda-56b5-a2e3-3e951641f0fc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52220?repo=metabase/metabase&commitHash=21da60815e2426310477cb9b05ff0c775c5e469b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790581492,pull_request,closed,,feat: Add csv_upload_failed metric to Prometheus,Follows snowplow csv failures,snoe,2025-01-15 18:41:15+00:00,['snoe'],2025-01-17 23:44:52+00:00,2025-01-17 19:28:43+00:00,https://github.com/metabase/metabase/pull/52219,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2593878101, 'issue_id': 2790581492, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95210_tests-508c3f75-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=bb7826f1-cd1a-5d7b-b053-cb54ad0e317b) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=11ab126c-f0f4-5c46-8e72-0c52a7d1a663) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=f54a05e8-497e-5d34-9a0c-95bcc552fe0a) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=3742dad1-e2b8-5dac-8fe4-676b285826a3) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 20, 33, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 20:33:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95210_tests-508c3f75-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=bb7826f1-cd1a-5d7b-b053-cb54ad0e317b) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=11ab126c-f0f4-5c46-8e72-0c52a7d1a663) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=f54a05e8-497e-5d34-9a0c-95bcc552fe0a) |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE&runId=3742dad1-e2b8-5dac-8fe4-676b285826a3) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52219?repo=metabase/metabase&commitHash=508c3f75dd71dba415199a86dc6829ea08ae78a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790509875,pull_request,closed,,POST endpoint to actually move DQ candidates,"Also removed the sort query param for the GET endpoint, since we don't need that.",johnswanson,2025-01-15 18:07:17+00:00,['johnswanson'],2025-01-27 22:11:16+00:00,2025-01-20 20:49:31+00:00,https://github.com/metabase/metabase/pull/52218,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2595870372, 'issue_id': 2790509875, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112307_tests-29b2c988-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the \'dataset\' route. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=b67f65af-5665-50a2-9934-8b20eef92ed1) |\n| <code>impersonated permission admins impersonated users have limited access</code> | Cypress timed out retrying to click an element because the page updated while the command was executing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=b37fbd36-53ca-5e62-afdb-f2a09649a16d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=85eb9fb3-01ea-5cd6-871c-f1062d3f0f88) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=286f41cf-c06b-537d-a3a2-e995e4cdb4bb) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 14, 25, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602952706, 'issue_id': 2790509875, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `29b2c988796ef2794d1aa035bc48368b97b5345a-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12872895315?pr=52218)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 20, 17, 27, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 14:25:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112307_tests-29b2c988-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=b67f65af-5665-50a2-9934-8b20eef92ed1) |
| <code>impersonated permission admins impersonated users have limited access</code> | Cypress timed out retrying to click an element because the page updated while the command was executing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=b37fbd36-53ca-5e62-afdb-f2a09649a16d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=85eb9fb3-01ea-5cd6-871c-f1062d3f0f88) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment&runConclusion=FAILURE&runId=286f41cf-c06b-537d-a3a2-e995e4cdb4bb) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52218?repo=metabase/metabase&commitHash=29b2c988796ef2794d1aa035bc48368b97b5345a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 17:27:36 UTC): ## e2e tests failed on `29b2c988796ef2794d1aa035bc48368b97b5345a-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12872895315?pr=52218)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2790452276,pull_request,closed,,"🤖 backported ""Quarantine Flakes""",#52213,github-automation-metabase,2025-01-15 17:37:51+00:00,"['iethree', 'github-automation-metabase']",2025-01-15 18:40:05+00:00,2025-01-15 18:11:40+00:00,https://github.com/metabase/metabase/pull/52216,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593642872, 'issue_id': 2790452276, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2355_tests-892e6a30-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=FAILURE&runId=5cb69d22-d3ef-5624-b49c-7783c901c85d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 18, 17, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 18:17:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2355_tests-892e6a30-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment&runConclusion=FAILURE&runId=5cb69d22-d3ef-5624-b49c-7783c901c85d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52216?repo=metabase/metabase&commitHash=892e6a30c16ebde829d4e10f9a69673d56773ea9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790417377,pull_request,closed,,Added Sébastien to team files,Adding myself to the team :-),lorem--ipsum,2025-01-15 17:20:29+00:00,['lorem--ipsum'],2025-01-16 12:35:33+00:00,2025-01-16 12:32:30+00:00,https://github.com/metabase/metabase/pull/52215,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]",[],
2790372202,pull_request,closed,,"🤖 backported ""Secret handling in details""","  #51714
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-15 17:01:24+00:00,"['snoe', 'github-automation-metabase']",2025-01-20 20:28:38+00:00,2025-01-20 20:28:36+00:00,https://github.com/metabase/metabase/pull/52214,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593618343, 'issue_id': 2790372202, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130694_tests-5580bf77-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 18, 6, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 18:06:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130694_tests-5580bf77-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52214?repo=metabase/metabase&commitHash=5580bf77923dc035d07319b908eba37fb44dee6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790253279,pull_request,closed,,Quarantine Flakes,"These two tests are flaking like crazy in CI. quarantining.

Both pass locally, so they really are flakes.",iethree,2025-01-15 16:08:50+00:00,['iethree'],2025-01-15 18:37:34+00:00,2025-01-15 17:36:58+00:00,https://github.com/metabase/metabase/pull/52213,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2593427635, 'issue_id': 2790253279, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3669_tests-e5ed7d27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE&runId=1c87907c-4afc-5663-b6be-329eeb14556e) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE&runId=da2e8875-4e15-5ea4-91e2-16add0d4263e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 16, 46, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 16:46:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3669_tests-e5ed7d27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE&runId=1c87907c-4afc-5663-b6be-329eeb14556e) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment&runConclusion=FAILURE&runId=da2e8875-4e15-5ea4-91e2-16add0d4263e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52213?repo=metabase/metabase&commitHash=e5ed7d272a9d2591ea5d7c0d31e944b66144d26f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790239837,pull_request,closed,,"🤖 backported ""Filter after summarize drill-thru cleanups""",#52175,github-automation-metabase,2025-01-15 16:02:55+00:00,"['appleby', 'github-automation-metabase']",2025-01-15 18:37:14+00:00,2025-01-15 18:37:13+00:00,https://github.com/metabase/metabase/pull/52212,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593613356, 'issue_id': 2790239837, 'author': 'appleby', 'body': 'The `compare-aggregations` drill thru was deleted in master, but not backported, so this backport needed to backport changes from #52175 to `compare-aggregations` as well.', 'created_at': datetime.datetime(2025, 1, 15, 18, 5, 6, tzinfo=datetime.timezone.utc)}]","appleby (Assginee) on (2025-01-15 18:05:06 UTC): The `compare-aggregations` drill thru was deleted in master, but not backported, so this backport needed to backport changes from #52175 to `compare-aggregations` as well.

"
2790150921,pull_request,closed,,Document and update CSV date export behaviour,"Closes https://github.com/metabase/metabase/issues/46856

Closes https://github.com/metabase/metabase/issues/46849

### Description

Documents the MongoDB date behaviour that they are treated as date times. 

Updates Athena to use a `v3_test_data` database where the `checkins.date` column is of type date instead of timestamp. 

We discussed adding a test to verify date times are exported correctly but then I found that being done already in `datetime-fields-are-untouched-when-exported`. Updated this test to run against all drivers.

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-15 15:26:26+00:00,['rileythomp'],2025-01-17 01:13:27+00:00,2025-01-17 00:08:20+00:00,https://github.com/metabase/metabase/pull/52210,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2593429354, 'issue_id': 2790150921, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110691_tests-023c5908-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE&runId=cde4790e-8c0b-5d0c-94f1-57f6f85d8533) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE&runId=a1cab02c-d20e-5e36-9688-fe4343482e0c) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE&runId=212bebf2-1a9f-512e-a34e-0c56f563c925) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 16, 47, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 16:47:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110691_tests-023c5908-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE&runId=cde4790e-8c0b-5d0c-94f1-57f6f85d8533) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE&runId=a1cab02c-d20e-5e36-9688-fe4343482e0c) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment&runConclusion=FAILURE&runId=212bebf2-1a9f-512e-a34e-0c56f563c925) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52210?repo=metabase/metabase&commitHash=023c5908f4beec2a8dac597e8910d3c0f862a41d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790089743,pull_request,closed,,"🤖 backported ""Add ericnormand to team files""",#52143,github-automation-metabase,2025-01-15 15:03:02+00:00,"['ericnormand', 'github-automation-metabase']",2025-01-15 15:04:33+00:00,2025-01-15 15:04:31+00:00,https://github.com/metabase/metabase/pull/52208,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2790051144,pull_request,closed,,"Manual backport ""Revise new table permissions logic to handle sandboxes"" to 51",Manual backport of https://github.com/metabase/metabase/pull/52206 to 51,noahmoss,2025-01-15 14:47:54+00:00,['noahmoss'],2025-01-22 10:21:03+00:00,2025-01-15 16:53:55+00:00,https://github.com/metabase/metabase/pull/52207,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2593160294, 'issue_id': 2790051144, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/90397_tests-9af18c9d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The error occurred when trying to read the 'body' property of an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=FAILURE&runId=53f88a00-ab4c-5bca-b994-633d3569882c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 15, 18, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 15:18:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/90397_tests-9af18c9d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The error occurred when trying to read the 'body' property of an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment&runConclusion=FAILURE&runId=53f88a00-ab4c-5bca-b994-633d3569882c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52207?repo=metabase/metabase&commitHash=9af18c9db1e575680e80868aba5e96a14d6bd854&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790030538,pull_request,closed,,"🤖 backported ""Revise new table permissions logic to handle sandboxes""","  #52052
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-15 14:41:01+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-15 18:34:29+00:00,2025-01-15 17:32:26+00:00,https://github.com/metabase/metabase/pull/52206,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593150968, 'issue_id': 2790030538, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122292_tests-461df228-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=FAILURE&runId=d2ddeffa-162b-57c2-9151-1807e9a52d4a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 15, 16, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 15:16:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122292_tests-461df228-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment&runConclusion=FAILURE&runId=d2ddeffa-162b-57c2-9151-1807e9a52d4a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52206?repo=metabase/metabase&commitHash=461df228fef2ce48091f26fb8953ce9a9350b29d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2790011026,pull_request,closed,,Empty states: models,"Resolves #52106

This PR piggybacks on the existing logic for models ""empty states"". It further iterates on the UI according to the new design.

There are two notable scenarios to keep in mind:

## 1. No models on `/browse/models` page
- We're displaying an embedded YouTube video (should NOT auto play)
- We're displaying a title and the description below the video
- If the instance hasn't explicitly disabled Metabase links, we display ""Read the docs"" that points to our documentation on models

## 2. At least one model is present on `/browse/models` page
- We're updating the existing models banner that is still dismissible. (the existing user-level setting `dismissed-browse-models-banner`)
- We're displaying the same title and the description as on the empty state variant
- If the instance hasn't explicitly disabled Metabase links, we display ""Read the docs"" that points to our documentation on models
- There is a ""Dismiss"" text/button that a user can click to get rid of this banner permanently
- There is also a small custom thumbnail next to the text. When a user clicks on it, it opens a modal with an embedded YouTube video that auto plays in this case!

> [!Note]
> In both scenarios users should be able to watch the video in full screen, or to open it on YouTube in a new tab.",nemanjaglumac,2025-01-15 14:32:47+00:00,['nemanjaglumac'],2025-01-22 00:43:08+00:00,2025-01-21 23:36:53+00:00,https://github.com/metabase/metabase/pull/52205,"[('no-backport', 'Do not backport this PR to any branch'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2593153631, 'issue_id': 2790011026, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123808_tests-15ed3808-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=FAILURE&runId=54328147-b671-5e3c-b0ba-1890d6706e94) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 15, 15, 16, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605855535, 'issue_id': 2790011026, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 15ed38089f0316374313ca2d1594cc2be73cae49.\n✅ Preview:\n    https://pr52205.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 21, 22, 19, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 15:16:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123808_tests-15ed3808-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment&runConclusion=FAILURE&runId=54328147-b671-5e3c-b0ba-1890d6706e94) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52205?repo=metabase/metabase&commitHash=15ed38089f0316374313ca2d1594cc2be73cae49&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 22:19:05 UTC): 👋 Deploying a preview environment for commit 15ed38089f0316374313ca2d1594cc2be73cae49.
✅ Preview:
    https://pr52205.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2789954932,pull_request,closed,,"🤖 backported ""Handle stale search index tracking gracefully for h2""",#52084,github-automation-metabase,2025-01-15 14:11:03+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-16 11:09:48+00:00,2025-01-16 10:22:53+00:00,https://github.com/metabase/metabase/pull/52204,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593051832, 'issue_id': 2789954932, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122480_tests-5bbd00b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=ae6a7ae0-3f70-5a55-9070-72d24e2b7507) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=ce80eded-00f7-5295-9705-96b1ec68e0ae) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=e0399a48-3e1d-5732-956d-06eded207f25) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=3cb1bdb7-96bb-58b2-b9e3-f418263b9e04) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 14, 44, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593051838, 'issue_id': 2789954932, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40595_tests-f970aa40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 14, 44, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 14:44:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122480_tests-5bbd00b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=ae6a7ae0-3f70-5a55-9070-72d24e2b7507) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=ce80eded-00f7-5295-9705-96b1ec68e0ae) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=e0399a48-3e1d-5732-956d-06eded207f25) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment&runConclusion=FAILURE&runId=3cb1bdb7-96bb-58b2-b9e3-f418263b9e04) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=5bbd00b925d699bcb94972b288446cc2106cf2f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-15 14:44:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40595_tests-f970aa40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52204?repo=metabase/metabase&commitHash=f970aa4084ac98ab673b2732dd75dd0e3f83d7ea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2789892166,pull_request,closed,,"🤖 backported ""fix(sdk): fix data picker crash by using mantine popover""",Backports #52096,github-automation-metabase,2025-01-15 13:44:48+00:00,"['heypoom', 'github-automation-metabase']",2025-01-21 11:33:42+00:00,2025-01-21 11:33:40+00:00,https://github.com/metabase/metabase/pull/52203,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2593050634, 'issue_id': 2789892166, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13341_tests-92a52f6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 14, 44, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 14:44:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13341_tests-92a52f6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52203?repo=metabase/metabase&commitHash=92a52f6d8213f1a88ed47e26ff77b4ec7f15013a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2789741375,pull_request,closed,,Fix png image paths when rendered inside Embedding SDK,"Fixes https://github.com/metabase/metabase/issues/52102

To fix images inside Embedded SDK, the `api.basename` is added to image URLs (via an existing helper).

Issue:
![image](https://github.com/user-attachments/assets/7edb94c7-abb5-462f-a421-fba3c3d233e1)


How to verify:
- setup any dashboard containing a map visualisation with visible `pin` icons
- open this dashboard via Embedded SDK and be sure that `pin` icons visible",sanex3339,2025-01-15 12:41:11+00:00,['sanex3339'],2025-01-20 07:08:21+00:00,2025-01-20 07:08:20+00:00,https://github.com/metabase/metabase/pull/52201,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2592741424, 'issue_id': 2789741375, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 304e1077ee9c47336b3766e0665b05eea5ba7fa3...7626bc773a39c78630e215f88c64fba939e30f68.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |', 'created_at': datetime.datetime(2025, 1, 15, 12, 42, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592825198, 'issue_id': 2789741375, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41265_tests-7626bc77-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE&runId=9a894b31-10f1-5d88-b357-62c09f009ea1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE&runId=ae6af3ca-78f3-50ee-b6b5-3d16d85c6785) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE&runId=ba427c02-a8d3-597b-afef-d87361fcb631) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 13, 12, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592825199, 'issue_id': 2789741375, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/28026_tests-bfc5ca54-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 13, 12, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-15 12:42:43 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 304e1077ee9c47336b3766e0665b05eea5ba7fa3...7626bc773a39c78630e215f88c64fba939e30f68.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |

trunk-io[bot] on (2025-01-15 13:12:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41265_tests-7626bc77-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE&runId=9a894b31-10f1-5d88-b357-62c09f009ea1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE&runId=ae6af3ca-78f3-50ee-b6b5-3d16d85c6785) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment&runConclusion=FAILURE&runId=ba427c02-a8d3-597b-afef-d87361fcb631) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=7626bc773a39c78630e215f88c64fba939e30f68&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-15 13:12:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/28026_tests-bfc5ca54-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52201?repo=metabase/metabase&commitHash=bfc5ca5496b78017a9660900297a59ca2c9bd791&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2789581378,pull_request,closed,,Fix - Custom column formula autocomplete overwrites part of existing formula,"Fixes #50925

### How to verify

Follow repro steps from the issue.
Bracket identifiers with whitespace inside should still work (e.g. `[Orders Question → Product ID]`).
",kamilmielnik,2025-01-15 11:43:45+00:00,['kamilmielnik'],2025-01-17 07:53:11+00:00,2025-01-17 07:53:10+00:00,https://github.com/metabase/metabase/pull/52198,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2593152558, 'issue_id': 2789581378, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/68523_tests-982ec592-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=d94dd913-f526-5e3d-9058-6fb3768962f5) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=ffe07c41-6034-5c7d-b0e0-12fe8b8fe261) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=bbe77b6d-d444-5405-8e54-9f7f5fa55213) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=94bdab97-0815-59a4-9935-d786b9a6b0c7) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=051db0a0-a320-5da3-858f-f27c2c4d5f77) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=2ef7d9ed-9331-50d3-a396-3d7925422b11) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 15, 16, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595809484, 'issue_id': 2789581378, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 982ec592d9818c92cb7891c607c8a169666f6ed3.\n✅ Preview:\n    https://pr52198.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 16, 14, 6, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 15:16:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/68523_tests-982ec592-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=d94dd913-f526-5e3d-9058-6fb3768962f5) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=ffe07c41-6034-5c7d-b0e0-12fe8b8fe261) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=bbe77b6d-d444-5405-8e54-9f7f5fa55213) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=94bdab97-0815-59a4-9935-d786b9a6b0c7) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=051db0a0-a320-5da3-858f-f27c2c4d5f77) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment&runConclusion=FAILURE&runId=2ef7d9ed-9331-50d3-a396-3d7925422b11) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52198?repo=metabase/metabase&commitHash=982ec592d9818c92cb7891c607c8a169666f6ed3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-16 14:06:18 UTC): 👋 Deploying a preview environment for commit 982ec592d9818c92cb7891c607c8a169666f6ed3.
✅ Preview:
    https://pr52198.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2789567819,pull_request,closed,,Run nightly point releases at 4 pm ET,,perivamsi,2025-01-15 11:37:53+00:00,['perivamsi'],2025-01-27 22:11:38+00:00,2025-01-15 15:38:21+00:00,https://github.com/metabase/metabase/pull/52197,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2789271557,pull_request,closed,,Update tool spec with examples,"### Description

We iterated on the tool spec and added some example scenarios.
Also some descriptions changed and we adjusted the table_ids to be strings.


### What to look for

I ran some end-to-end tests from the frontend locally and it seems we are sending the examples automatically to the ai-service. Is there anything that needs to be changed in the clojure code as well?
",Somtom,2025-01-15 09:24:48+00:00,['Somtom'],2025-01-15 17:43:19+00:00,2025-01-15 16:57:43+00:00,https://github.com/metabase/metabase/pull/52195,[],"[{'comment_id': 2592135754, 'issue_id': 2789271557, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115896_tests-d13fcac4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE&runId=a04eeef8-0398-5c3f-85f8-5b9e6b76b624) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE&runId=b9f9d5a6-c8da-5c5a-a2ee-4cf282355e98) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE&runId=40d8e1ea-533a-554f-9766-a5a9c1d7a91a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 9, 39, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 09:39:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115896_tests-d13fcac4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE&runId=a04eeef8-0398-5c3f-85f8-5b9e6b76b624) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE&runId=b9f9d5a6-c8da-5c5a-a2ee-4cf282355e98) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment&runConclusion=FAILURE&runId=40d8e1ea-533a-554f-9766-a5a9c1d7a91a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52195?repo=metabase/metabase&commitHash=d13fcac4cdac44e845cfb8a3644069eb6b201ea6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2789133482,pull_request,closed,,[Notification] API change log for alerts removal,Epic: https://github.com/metabase/metabase/issues/50766,qnkhuat,2025-01-15 08:24:03+00:00,['qnkhuat'],2025-01-16 09:55:31+00:00,2025-01-16 09:55:19+00:00,https://github.com/metabase/metabase/pull/52193,"[('.Team/Workflows', 'aka BEC')]",[],
2789087553,pull_request,closed,,[search] fix postgres search index schema,fixes search tests failing in release branch 52,piranha,2025-01-15 07:58:58+00:00,['piranha'],2025-01-15 16:04:44+00:00,2025-01-15 16:03:48+00:00,https://github.com/metabase/metabase/pull/52192,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2591957222, 'issue_id': 2789087553, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125311_tests-e12c13a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=c0274b6c-0d03-56aa-b970-feb51653820a) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=da6e7db0-ca95-5d6b-bf96-863e1372b4c5) |\n| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=b2bb34bb-e29e-5362-b9a5-6209d1b7eb06) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=80622fc4-3acb-5a86-a68c-623516047e8b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 8, 43, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 08:43:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125311_tests-e12c13a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=c0274b6c-0d03-56aa-b970-feb51653820a) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=da6e7db0-ca95-5d6b-bf96-863e1372b4c5) |
| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=b2bb34bb-e29e-5362-b9a5-6209d1b7eb06) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment&runConclusion=FAILURE&runId=80622fc4-3acb-5a86-a68c-623516047e8b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52192?repo=metabase/metabase&commitHash=e12c13a9ce240165555efa35da9ac62836d9b489&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2789073063,pull_request,closed,,"🤖 backported ""optimize matrix builder""",#52101,github-automation-metabase,2025-01-15 07:50:36+00:00,"['filiphric', 'github-automation-metabase']",2025-01-15 08:51:45+00:00,2025-01-15 07:52:06+00:00,https://github.com/metabase/metabase/pull/52191,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591976860, 'issue_id': 2789073063, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-edb27163-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 8, 51, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 08:51:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-edb27163-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52191?repo=metabase/metabase&commitHash=edb271632aea81249aee8f0c3e5d3a244f5e8fc6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2789042675,pull_request,closed,,"🤖 backported ""Exclude embedding-sdk/dist for babel-loader for Embedding SDK cypress tests""",#52127,github-automation-metabase,2025-01-15 07:32:52+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-15 09:09:05+00:00,2025-01-15 08:07:15+00:00,https://github.com/metabase/metabase/pull/52190,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591896647, 'issue_id': 2789042675, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3416_tests-00e4a93f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 8, 12, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 08:12:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3416_tests-00e4a93f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52190?repo=metabase/metabase&commitHash=00e4a93fe0d7bd12a4dc7da4a016ed941cfac862&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788899645,pull_request,closed,,chore: remove metabot leftovers,"Followup https://github.com/metabase/metabase/pull/52167

drop metabot from the codebase",uladzimirdev,2025-01-15 05:50:25+00:00,['uladzimirdev'],2025-01-27 22:11:31+00:00,2025-01-16 13:00:09+00:00,https://github.com/metabase/metabase/pull/52189,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2591766193, 'issue_id': 2788899645, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41115_tests-6c7fdc64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE&runId=03b91cee-f717-5745-977f-44471dff9f7e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE&runId=3252bc2b-0a5b-58fa-a294-bb2ac4617c24) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE&runId=e9876509-0a8d-5c15-918d-b6a282b316e9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 6, 42, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 06:42:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41115_tests-6c7fdc64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE&runId=03b91cee-f717-5745-977f-44471dff9f7e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE&runId=3252bc2b-0a5b-58fa-a294-bb2ac4617c24) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment&runConclusion=FAILURE&runId=e9876509-0a8d-5c15-918d-b6a282b316e9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52189?repo=metabase/metabase&commitHash=6c7fdc643152ea6797e7142bdc324ac5db24337b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788887745,pull_request,closed,,"🤖 backported ""fix(sdk): Standardize SDK components errors with different ID formats""",#49714,github-automation-metabase,2025-01-15 05:42:15+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-16 10:42:15+00:00,2025-01-16 09:45:52+00:00,https://github.com/metabase/metabase/pull/52187,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591728952, 'issue_id': 2788887745, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51546_tests-6b63d240-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=FAILURE&runId=6d3f0c97-115e-5b69-8afd-6b897dff86b8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 6, 10, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 06:10:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51546_tests-6b63d240-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment&runConclusion=FAILURE&runId=6d3f0c97-115e-5b69-8afd-6b897dff86b8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52187?repo=metabase/metabase&commitHash=6b63d240a44d02a7f07e38cb51645de07362e801&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788825941,pull_request,open,,[Notification] unsubscribe notification UI,"Follow up of https://github.com/metabase/metabase/pull/52109, updates the UI to use notification APIs if it's alert, else use the old pulse APIs",qnkhuat,2025-01-15 04:44:40+00:00,"['crisptrutski', 'qnkhuat']",2025-02-05 02:47:21+00:00,,https://github.com/metabase/metabase/pull/52186,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2591674523, 'issue_id': 2788825941, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41043_tests-a39b9ed4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=885acea1-884c-5668-89ec-407a2128c921) |\n| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=f7b4172a-b21e-5fbc-8a11-ea9e39c3cc9a) |\n| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=11e79683-9db4-5c10-9b9a-4fdbe39192d6) |\n| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=22d4f534-4601-5c90-b2e0-3cf9a6a14728) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 5, 19, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 05:19:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41043_tests-a39b9ed4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=885acea1-884c-5668-89ec-407a2128c921) |
| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=f7b4172a-b21e-5fbc-8a11-ea9e39c3cc9a) |
| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=11e79683-9db4-5c10-9b9a-4fdbe39192d6) |
| <code>unsubscribe-hash-test</code> | The generated hash does not match the expected hash for a given notification unsubscribe URL. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE&runId=22d4f534-4601-5c90-b2e0-3cf9a6a14728) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52186?repo=metabase/metabase&commitHash=a39b9ed43dac580742d2afb5076801a5e22a6224&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788812018,pull_request,closed,,"🤖 backported ""Fix clickhouse uploads""",#52181,github-automation-metabase,2025-01-15 04:30:31+00:00,"['dpsutton', 'github-automation-metabase']",2025-01-15 06:00:20+00:00,2025-01-15 05:11:05+00:00,https://github.com/metabase/metabase/pull/52185,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591669796, 'issue_id': 2788812018, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122297_tests-65a72585-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=FAILURE&runId=4e2cbc6e-af41-5dda-8a13-8091cb0cfd6b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 5, 15, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 05:15:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122297_tests-65a72585-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment&runConclusion=FAILURE&runId=4e2cbc6e-af41-5dda-8a13-8091cb0cfd6b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52185?repo=metabase/metabase&commitHash=65a7258590b1332eedb5892c2ac3bf108194c7e4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788801628,pull_request,closed,,[Backend modularization] Improved model resolution; remove `metabase.models` and `metabase-enterprise.models`,"Resolves https://github.com/metabase/metabase/issues/52183

Introduces a new pattern for dynamic Toucan model resolution (loading model impl namespaces if needed) that will let us move forward with moving models into different modules.

Previously model resolution attempted to calculate the model namespace and require it; this sorta worked but for enterprise models we had to loop over a dozen or so possible namespaces to try to find it; some models didn't work at all. We had a `metabase.models` namespace that loaded most of our models for side effects, however, so the fact that the model resolution code didn't work super great didn't matter.

The new code maintains a map of model => namespace and adds tests to ensure this map is valid and kept up to date as models are moved around or added. Model resolution is now as simple as looking up a namespace in a map.

I had to rework a handful of places that were loading `metabase.models` to make sure everything was loaded... most stuff actually didn't even need it since it could rely on dynamic model resolution to load models as needed. 

Some stuff like Search needed more work... Search for the most part doesn't use Toucan models, but instead uses string model names that are mapped to Toucan models in the Toucan namespaces themselves, making the whole dynamic namespace resolution thing sort of a chicken and egg problem. I think I came up with an ok solution for it.",camsaul,2025-01-15 04:20:38+00:00,['camsaul'],2025-01-15 18:14:42+00:00,2025-01-15 18:14:40+00:00,https://github.com/metabase/metabase/pull/52184,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591669252, 'issue_id': 2788801628, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/109775_tests-69ab7633-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE&runId=f6a0c7a3-32d3-5bab-895e-5f7f4afd62f8) |\n| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction is aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE&runId=107bd20d-3633-57af-a51c-46fe3f0bfcc6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 5, 14, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 05:14:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/109775_tests-69ab7633-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE&runId=f6a0c7a3-32d3-5bab-895e-5f7f4afd62f8) |
| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction is aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment&runConclusion=FAILURE&runId=107bd20d-3633-57af-a51c-46fe3f0bfcc6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52184?repo=metabase/metabase&commitHash=69ab7633ae26554d27b7e1e9aa1d1ee07b81d1e6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788768473,pull_request,closed,,docs: linked filters,New docs for linked filters,alexyarosh,2025-01-15 03:46:17+00:00,['alexyarosh'],2025-01-17 21:24:27+00:00,2025-01-17 21:21:16+00:00,https://github.com/metabase/metabase/pull/52182,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2788761536,pull_request,closed,,Fix clickhouse uploads,"This change happened in peer
https://github.com/metabase/metabase/pull/51023 and is manifesting now it seems.

The removal of the call to `(classloader/the-classloader)` is what is hurting us.

Only clickhouse cloud instances can be set as a suitable upload spot so i'm doing the following changes in the local jar repro to fix it up:

```clojure
(in-ns 'metabase.driver.clickhouse)

(defmethod driver/database-supports? [:clickhouse :uploads] [_driver _feature db]
  true)

(in-ns 'metabase.public-settings)
(let [db_id 2, schema_name ""default"", table_prefix ""upload_""]
  (t2/update! :model/Database db_id {:uploads_enabled      true
                                     :uploads_schema_name  schema_name
                                     :uploads_table_prefix table_prefix}))
```

#### Before

<img width=""1120"" alt=""image"" src=""https://github.com/user-attachments/assets/af5964af-88a0-4c42-a558-55948fd58633"" />

#### After
<img width=""1122"" alt=""image"" src=""https://github.com/user-attachments/assets/73775f30-97a0-47d5-b4f9-bfd28b965509"" />


#### What I think is happening

We are unable to load the class `metabase.driver.clickhouse$fn__113059$fn__113061`.

If we catch this error and get it's details, we see it's a class not found issue:

```clojure
#error {
 :cause Exception java.lang.ClassNotFoundException: com.clickhouse.jdbc.internal.ClickHouseStatementImpl [in thread ""qtp1775711128-36""]
 :via
 [{:type java.lang.NoClassDefFoundError
   :message Could not initialize class metabase.driver.clickhouse$fn__113059$fn__113061
   :at [metabase.driver.clickhouse$fn__113059 invokeStatic clickhouse.clj 235]}
  {:type java.lang.ExceptionInInitializerError
   :message Exception java.lang.ClassNotFoundException: com.clickhouse.jdbc.internal.ClickHouseStatementImpl [in thread ""qtp1775711128-36""]
   :at [jdk.internal.loader.BuiltinClassLoader loadClass BuiltinClassLoader.java 641]}]
 :trace
 [[jdk.internal.loader.BuiltinClassLoader loadClass BuiltinClassLoader.java 641]
  [jdk.internal.loader.ClassLoaders$AppClassLoader loadClass ClassLoaders.java 188]
  [java.lang.ClassLoader loadClass ClassLoader.java 526]
  [java.lang.Class forName0 Class.java -2]
  [java.lang.Class forName Class.java 534]
```

> :message Exception java.lang.ClassNotFoundException: com.clickhouse.jdbc.internal.ClickHouseStatementImpl

Of course we can load this if we do it correctly:

```clojure
card=> (.loadClass (metabase.plugins.classloader/the-classloader) ""com.clickhouse.jdbc.internal.ClickHouseStatementImpl"")
com.clickhouse.jdbc.internal.ClickHouseStatementImpl ;; <-- works
card=> (.loadClass (clojure.lang.RT/baseLoader)  ""com.clickhouse.jdbc.internal.ClickHouseStatementImpl"")
Execution error (ClassNotFoundException) at java.net.URLClassLoader/findClass (URLClassLoader.java:445).
com.clickhouse.jdbc.internal.ClickHouseStatementImpl ;; <-- fails
```

And this is the gist. We have to make sure that the threads that handle this can see these modules added to our classpath. 

We get this cryptic error of `metabase.driver.clickhouse$fn__113059$fn__113061` because that's the function that actually uses the `com.clickhouse.jdbc.internal.ClickHouseStatementImpl`. Each function in a namespace is compiled to it's own class, so it's not until this function is called (class `metabase.driver.clickhouse$fn__113059$fn__113061` is loaded and invoked) that we hit the failure to load this class.

hat tip to @snoe for having the gist of this and keeping us on track. I think he identified the root cause a while ago. Also props to @perivamsi for finding the PR that introduced it. Quite subtle. Good find.",dpsutton,2025-01-15 03:38:45+00:00,['dpsutton'],2025-01-15 05:11:33+00:00,2025-01-15 04:29:41+00:00,https://github.com/metabase/metabase/pull/52181,"[('backport', 'Automatically create PR on current release branch on merge'), ('Organization/Uploads', 'Direct data upload (CSV)'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2591584320, 'issue_id': 2788761536, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 0730464693893837e294ed3041a18732229a986b.\n✅ Preview:\n    https://pr52181.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 15, 3, 48, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591608611, 'issue_id': 2788761536, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112482_tests-07304646-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE&runId=d368b191-d0ef-5a49-a817-e9454aa13957) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE&runId=3218ba24-21a5-5ea9-8b0e-2984989b32b2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 4, 12, 21, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-15 03:48:31 UTC): 👋 Deploying a preview environment for commit 0730464693893837e294ed3041a18732229a986b.
✅ Preview:
    https://pr52181.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2025-01-15 04:12:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112482_tests-07304646-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE&runId=d368b191-d0ef-5a49-a817-e9454aa13957) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment&runConclusion=FAILURE&runId=3218ba24-21a5-5ea9-8b0e-2984989b32b2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52181?repo=metabase/metabase&commitHash=0730464693893837e294ed3041a18732229a986b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788714430,pull_request,closed,,allow selecting non-metric columns for tooltips of cartesian charts,"Closes https://github.com/metabase/metabase/issues/52043

### Description

When updating tooltips of cartesian charts we decided to show only metric columns there, however, based on feedback we received users want to show categorical or date columns as well. By default we still show only columns that are plotted on the chart but with this PR users will be able to add any column to the tooltip from chart dataset.

Since the bug is P2 and requires a copy update it is not being backported.

### How to verify

- New -> Orders: Count by Created At and Category
- Set x-axis to Created At
- Set y-axis to Count
- Go to viz settings -> display
- Ensure you can add the Category column to the tooltip

### Demo

<img width=""351"" alt=""Screenshot 2025-01-15 at 10 28 52 PM"" src=""https://github.com/user-attachments/assets/2a2e2695-e215-4549-9d81-a11bb1aed551"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-15 02:47:53+00:00,['alxnddr'],2025-01-21 15:29:16+00:00,2025-01-21 15:29:13+00:00,https://github.com/metabase/metabase/pull/52180,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2594443803, 'issue_id': 2788714430, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41133_tests-428d15f0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE&runId=af7b2bb3-90d6-597b-ae7d-27ee8459a626) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE&runId=878f38f4-1efc-5422-b42f-f82be2c7c2e8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 16, 4, 16, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-16 04:16:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41133_tests-428d15f0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE&runId=af7b2bb3-90d6-597b-ae7d-27ee8459a626) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment&runConclusion=FAILURE&runId=878f38f4-1efc-5422-b42f-f82be2c7c2e8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52180?repo=metabase/metabase&commitHash=428d15f0f2951aaf6a4af4a160d864f967e518bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788672578,pull_request,closed,,[Backend modularization] `analyze` module cleanup,"Resolves #52178

I recently cleaned up this module and gave it an API namespace of `metabase.analyze`, so the only thing we need to do is rename it to `metabase.analyze.core` to follow the updated rules we agreed on",camsaul,2025-01-15 02:04:16+00:00,['camsaul'],2025-01-15 04:29:39+00:00,2025-01-15 04:11:17+00:00,https://github.com/metabase/metabase/pull/52179,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591542628, 'issue_id': 2788672578, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/144220_tests-186f63bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=34542861-fe62-5d2a-b506-0aa8581e3edf) |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=3f604be9-e345-50a0-b67a-38c365d180db) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=de90f632-991f-52dc-8cc3-d127d6dc9645) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=627f4892-15b2-55f7-ba98-3399097e61c5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 3, 4, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 03:04:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/144220_tests-186f63bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=34542861-fe62-5d2a-b506-0aa8581e3edf) |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=3f604be9-e345-50a0-b67a-38c365d180db) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=de90f632-991f-52dc-8cc3-d127d6dc9645) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment&runConclusion=FAILURE&runId=627f4892-15b2-55f7-ba98-3399097e61c5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52179?repo=metabase/metabase&commitHash=186f63bc562325e59d24429c1e30e411b8402529&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788644612,pull_request,closed,,[Backend modularization] Remove `metabase.compatibility`,"Resolves #52176

This ""module"" had one namespace with one function used in two places -- once in a Card model namespace and then once in a Card API namespace that also used the Card model namespace. I moved the function into the Card model namespace.",camsaul,2025-01-15 01:34:55+00:00,['camsaul'],2025-01-15 03:33:08+00:00,2025-01-15 02:28:38+00:00,https://github.com/metabase/metabase/pull/52177,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591490433, 'issue_id': 2788644612, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112687_tests-e718adf0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 2, 13, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 02:13:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112687_tests-e718adf0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52177?repo=metabase/metabase&commitHash=e718adf05ca91b94fab3d9acf80cdc88166faa40&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788603007,pull_request,closed,,Filter after summarize drill-thru cleanups,"Closes https://github.com/metabase/metabase/issues/46932

### Description

Some final cleanups / refactoring of recently-added drill thru changes, mostly in the tests, to make things more consistent.

* Update the comment in automatic-insights drill to point to new github issue
* Update drills tests added in previous PRs to use the new test helpers
* Consistent naming for drill-thru multi-stage query tests
* Move some funcs that deal with ""underlying"" columns into `lib.underlying`.
     * `aggregation-sourced?`
     * `breakout-sourced?`
     * `strictly-underlying-aggregation?`
* Homogenize apis for drill thru test helpers
  * Rename `prepend-filter-to-stage` to `prepend-filter-to-test-expectation-stage` and make the calling interface match that of `append-filter-stage-to-test-expectation`.

### How to verify

Run tests

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-15 01:12:31+00:00,['appleby'],2025-01-15 16:02:01+00:00,2025-01-15 16:01:59+00:00,https://github.com/metabase/metabase/pull/52175,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2591463630, 'issue_id': 2788603007, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124715_tests-b3517d72-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=218f0bc1-fa46-528b-936b-520ad5f6b613) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=7fd6ed7b-d49a-5b40-93b4-9ba290423e63) |\n| <code>test-concat</code> | The query result set was closed, preventing the query from being executed. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=5e17a6eb-8e2e-55a4-92ea-3d45c135747a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual results. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=3801e8d4-3eab-5c6f-9a7b-2bfe6be6c79e) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=596c9380-4850-53fd-ba46-c8be1a5f5337) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 1, 48, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 01:48:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124715_tests-b3517d72-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=218f0bc1-fa46-528b-936b-520ad5f6b613) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=7fd6ed7b-d49a-5b40-93b4-9ba290423e63) |
| <code>test-concat</code> | The query result set was closed, preventing the query from being executed. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=5e17a6eb-8e2e-55a4-92ea-3d45c135747a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual results. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=3801e8d4-3eab-5c6f-9a7b-2bfe6be6c79e) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment&runConclusion=FAILURE&runId=596c9380-4850-53fd-ba46-c8be1a5f5337) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52175?repo=metabase/metabase&commitHash=b3517d7279df4e50e8c7c62d799600b4133fdc6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788580780,pull_request,closed,,[Backend modularization] Remove `metabase.troubleshooting`,"Resolves #52172

- `metabase.troubleshooting` had two functions, one only used in `metabase.api.util` and one used both there and for logging stuff on launch in `metabase.core`. I moved the first one into the API namespace that uses it and the second into a new util namespace and removed `metabase.troubleshooting` altogether.",camsaul,2025-01-15 00:54:19+00:00,['camsaul'],2025-01-15 03:25:23+00:00,2025-01-15 02:20:31+00:00,https://github.com/metabase/metabase/pull/52173,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591462946, 'issue_id': 2788580780, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115047_tests-335642ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case, resulting in a false result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE&runId=46aa38a5-3abc-58bc-ab14-e7704d2ca66e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE&runId=5b998c6d-68eb-59e0-ad07-2586b934fd25) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 1, 47, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 01:47:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115047_tests-335642ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case, resulting in a false result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE&runId=46aa38a5-3abc-58bc-ab14-e7704d2ca66e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment&runConclusion=FAILURE&runId=5b998c6d-68eb-59e0-ad07-2586b934fd25) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52173?repo=metabase/metabase&commitHash=335642ab1393b034e202835647681e85771f987f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788568337,pull_request,closed,,[Cards in Dashboards] Bulk move dashboard question candidates,"[ENG-14246](https://linear.app/metabase-inc/issue/ENG-14246/fe-flow-to-move-questions-into-dashboard)

### Description

Describe the overall approach and the problem being solved.

### How to verify

- Visit a collection and ensure that it that has questions in the collection that also belong to a single dashboard
- Open the collection it's overflow menu
- Chose the ""Move saved questions into dashboards"" option
- Move the questions into the dashboard
- Verify they have been moved, and you do not see them in the collection anymore while still seeing them in their dashboard

### Demo

https://github.com/user-attachments/assets/cd99a49d-9ce4-4968-be7d-5f2ee74a196d
(note: there's a bug in our endpoint that is causing dashboard questions to appear as candidates, which is why opening it a second time shows the same questions. i open it to highlight that the info modal no longer appears after having been acknowledged once.)

### Checklist
- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-15 00:44:39+00:00,['sloansparger'],2025-01-27 22:10:21+00:00,2025-01-24 17:16:01+00:00,https://github.com/metabase/metabase/pull/52171,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2591436953, 'issue_id': 2788568337, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41514_tests-46e69f68-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE&runId=848d50bc-5b53-5c4e-945a-a202f4ec3a5e) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE&runId=63e29ef2-2c37-54eb-b641-d309b3b76803) |\n| <code>CollectionMenu should show \'Move questions into their dashboards\' option if there\'s dashboard question candidates</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE&runId=ed8bbd86-49fa-5115-a210-1904d6f55c1f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 1, 20, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611245006, 'issue_id': 2788568337, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 97480e09d5a1a6251ff2efab0103f8e04539ed38.\n✅ Preview:\n    https://pr52171.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 23, 23, 48, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611245193, 'issue_id': 2788568337, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `97480e09d5a1a6251ff2efab0103f8e04539ed38-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12940130153?pr=52171)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 23, 49, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 01:20:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41514_tests-46e69f68-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE&runId=848d50bc-5b53-5c4e-945a-a202f4ec3a5e) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE&runId=63e29ef2-2c37-54eb-b641-d309b3b76803) |
| <code>CollectionMenu should show 'Move questions into their dashboards' option if there's dashboard question candidates</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment&runConclusion=FAILURE&runId=ed8bbd86-49fa-5115-a210-1904d6f55c1f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52171?repo=metabase/metabase&commitHash=46e69f68104885018a52501301ad58cb7c9f484e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 23:48:59 UTC): 👋 Deploying a preview environment for commit 97480e09d5a1a6251ff2efab0103f8e04539ed38.
✅ Preview:
    https://pr52171.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-23 23:49:08 UTC): ## e2e tests failed on `97480e09d5a1a6251ff2efab0103f8e04539ed38-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12940130153?pr=52171)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2788553013,pull_request,closed,,[Backend modularization] `actions` module cleanup,"Resolves #52169

- `actions` already had a nice `metabase.actions.core` API namespace, so we just needed to move `metabase.actions` (NOT the API namespace) into the module; I couldn't decide what to call it so it's `metabase.actions.actions` for now.
- Add CODEOWNERS entries for the people who own this module (Admin webapp)
- I didn't move `metabase.models.action` into this module for now [since I'm still waiting for a general consensus from the team](https://metaboat.slack.com/archives/CKZEMT1MJ/p1736894539370439) that this is the way to go.",camsaul,2025-01-15 00:30:52+00:00,['camsaul'],2025-01-15 04:10:48+00:00,2025-01-15 04:10:47+00:00,https://github.com/metabase/metabase/pull/52170,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591433996, 'issue_id': 2788553013, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/136603_tests-98ee6837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 1, 17, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 01:17:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/136603_tests-98ee6837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52170?repo=metabase/metabase&commitHash=98ee683733a642373c91face0dab1c7fc61a259c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788543661,pull_request,closed,,"🤖 backported ""Static Viz Start of Week in Subscription Emails""","  #51423
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-15 00:24:02+00:00,"['tsplude', 'github-automation-metabase']",2025-01-21 21:23:21+00:00,2025-01-21 21:23:19+00:00,https://github.com/metabase/metabase/pull/52168,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591446542, 'issue_id': 2788543661, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132382_tests-6ab67fa4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=FAILURE&runId=3e436160-51a8-52f5-8e86-f44cb395774c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 1, 30, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 01:30:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132382_tests-6ab67fa4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment&runConclusion=FAILURE&runId=3e436160-51a8-52f5-8e86-f44cb395774c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52168?repo=metabase/metabase&commitHash=6ab67fa46274e7e14393752749cda50b492dd402&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788528496,pull_request,closed,,Remove remaining MetaBot v2 code,"Resolves #52166

As discussed [here](https://metaboat.slack.com/archives/C010L1Z4F9S/p1736892391154609) this code should be removed.

Removed backend code and a few remaining FE things after checking with Alex P.",camsaul,2025-01-15 00:14:23+00:00,['camsaul'],2025-01-15 03:08:18+00:00,2025-01-15 02:02:21+00:00,https://github.com/metabase/metabase/pull/52167,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591403338, 'issue_id': 2788528496, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125293_tests-bfb55a3d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE&runId=b22495fd-1283-55f6-8cb0-c4d5e2786916) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE&runId=c6023832-a448-577b-b94b-fd28492da1e1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 0, 49, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 00:49:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125293_tests-bfb55a3d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE&runId=b22495fd-1283-55f6-8cb0-c4d5e2786916) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment&runConclusion=FAILURE&runId=c6023832-a448-577b-b94b-fd28492da1e1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52167?repo=metabase/metabase&commitHash=bfb55a3d5d17fe22cea8ff4e87a4667941341903&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788508122,pull_request,closed,,[Backend modularization] query-analysis cleanup,"Resolves #52164

- Move `metabase.query-analysis` to `metabase.query-analysis.core`
- Move `metabase.task.analyze-queries` to `metabase.query-analysis.task.analyze-queries`
- Add `metabase.query-analysis.init` namespace to do initialization on launch for this module (load the task definiton)

I considered moving `metabase.models.query-analysis` into this module as well as part of this PR but decided to punt on this for now until we get a clear consensus that we want to move all the models into corresponding modules",camsaul,2025-01-14 23:57:42+00:00,['camsaul'],2025-01-15 08:36:53+00:00,2025-01-15 07:55:41+00:00,https://github.com/metabase/metabase/pull/52165,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591401045, 'issue_id': 2788508122, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113772_tests-be441ca6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-breakout</code> | Statement is closed error occurred while executing a query. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=FAILURE&runId=97d84c09-0b2e-53f7-9b6f-e6dd42daf66f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 0, 46, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 00:46:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113772_tests-be441ca6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-breakout</code> | Statement is closed error occurred while executing a query. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment&runConclusion=FAILURE&runId=97d84c09-0b2e-53f7-9b6f-e6dd42daf66f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52165?repo=metabase/metabase&commitHash=be441ca694e828a1c634a7753bb3c1528d3ac5f3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788481946,pull_request,closed,,gsheets: update polling logic + better errors,,escherize,2025-01-14 23:35:28+00:00,['escherize'],2025-01-18 00:50:22+00:00,2025-01-17 23:26:25+00:00,https://github.com/metabase/metabase/pull/52162,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2591365606, 'issue_id': 2788481946, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/10950_tests-c0ba3e35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 0, 18, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 00:18:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/10950_tests-c0ba3e35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52162?repo=metabase/metabase&commitHash=c0ba3e35af26484e6c8e4a4a275c03209fb7070b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788472921,pull_request,closed,,[WIP] Test e2e test performance on github 8 core runner,"☝️ 

self hosted PR: https://github.com/metabase/metabase/pull/51876",iethree,2025-01-14 23:26:14+00:00,['iethree'],2025-01-23 14:05:55+00:00,2025-01-23 14:05:55+00:00,https://github.com/metabase/metabase/pull/52161,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2591364393, 'issue_id': 2788472921, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3681_tests-0b2acaf3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > notebook > data source table as a source should correctly display a table from a multi-schema database (metabase\\#39807,metabase\\#11958)</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=2da98c98-11d9-523d-b7ce-a9b7713f9665) |\n| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=dd1497bd-d4a3-5939-bad5-eb43242b1f5c) |\n| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=edd39c35-d3e4-51c3-bc2e-2218b723c296) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=72e48538-3d9d-5f4b-a699-5c0d2391e3ee) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text \'Doing science... · Metabase\' was not displayed within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=e06cede0-58c6-517b-96b3-1975a9111a13) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 0, 17, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607742189, 'issue_id': 2788472921, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0b2acaf30a64c9d459c005e8484666b14a3d5af8-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12912647170?pr=52161)\n\n  File | Test Name\n  ---- | ---------\n  `notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > table as a source > should correctly display a table from a multi-schema database (metabase#39807,metabase#11958)', 'created_at': datetime.datetime(2025, 1, 22, 16, 43, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 00:17:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3681_tests-0b2acaf3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > notebook > data source table as a source should correctly display a table from a multi-schema database (metabase\#39807,metabase\#11958)</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=2da98c98-11d9-523d-b7ce-a9b7713f9665) |
| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=dd1497bd-d4a3-5939-bad5-eb43242b1f5c) |
| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=edd39c35-d3e4-51c3-bc2e-2218b723c296) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=72e48538-3d9d-5f4b-a699-5c0d2391e3ee) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment&runConclusion=FAILURE&runId=e06cede0-58c6-517b-96b3-1975a9111a13) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52161?repo=metabase/metabase&commitHash=0b2acaf30a64c9d459c005e8484666b14a3d5af8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 16:43:05 UTC): ## e2e tests failed on `0b2acaf30a64c9d459c005e8484666b14a3d5af8-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12912647170?pr=52161)

  File | Test Name
  ---- | ---------
  `notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > table as a source > should correctly display a table from a multi-schema database (metabase#39807,metabase#11958)

"
2788459813,pull_request,closed,,"🤖 backported ""Removing error boundaries when log scale y axis contains both negativ…""",#51941,github-automation-metabase,2025-01-14 23:15:59+00:00,"['tsplude', 'github-automation-metabase']",2025-01-15 00:45:42+00:00,2025-01-14 23:53:12+00:00,https://github.com/metabase/metabase/pull/52160,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591300265, 'issue_id': 2788459813, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 49b41aeebde0cfd68fca9f8916815388db7134b6...7da4623bf5ca189b2d99edc1e817422878b4180f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts |', 'created_at': datetime.datetime(2025, 1, 14, 23, 17, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591337082, 'issue_id': 2788459813, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51531_tests-7da4623b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 23, 53, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 23:17:30 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 49b41aeebde0cfd68fca9f8916815388db7134b6...7da4623bf5ca189b2d99edc1e817422878b4180f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts |

trunk-io[bot] on (2025-01-14 23:53:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51531_tests-7da4623b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52160?repo=metabase/metabase&commitHash=7da4623bf5ca189b2d99edc1e817422878b4180f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788439610,pull_request,closed,,"🤖 backported ""Enabling mouse wheel scroll zooming for leaflet maps""",#51888,github-automation-metabase,2025-01-14 23:00:51+00:00,"['tsplude', 'github-automation-metabase']",2025-01-15 00:10:01+00:00,2025-01-14 23:37:28+00:00,https://github.com/metabase/metabase/pull/52158,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591282045, 'issue_id': 2788439610, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 49b41aeebde0cfd68fca9f8916815388db7134b6...fad3ca8793ee81f8930cb95166df6380420a67cd.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMap.jsx |', 'created_at': datetime.datetime(2025, 1, 14, 23, 2, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591332091, 'issue_id': 2788439610, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13214_tests-fad3ca87-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 23, 48, 11, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 23:02:22 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 49b41aeebde0cfd68fca9f8916815388db7134b6...fad3ca8793ee81f8930cb95166df6380420a67cd.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMap.jsx |

trunk-io[bot] on (2025-01-14 23:48:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13214_tests-fad3ca87-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52158?repo=metabase/metabase&commitHash=fad3ca8793ee81f8930cb95166df6380420a67cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788403899,pull_request,closed,,[Backend modularization] Metabase `core` module cleanup,"- Move `metabase.core` to `metabase.core.core` for consistency with the new module shapes
- Move `metabase.bootstrap` to `metabase.core.bootstrap` so it lives with the rest of the launch code 

Resolves #52153
Resolves #52154
",camsaul,2025-01-14 22:31:00+00:00,['camsaul'],2025-01-15 01:48:40+00:00,2025-01-15 01:15:33+00:00,https://github.com/metabase/metabase/pull/52156,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591301821, 'issue_id': 2788403899, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116952_tests-7c8a5f6b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/133-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=8e17b530-7f65-501b-8dc6-d215704343c3) |\n| <code>basic-where-test-3</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=833df6f9-3cf9-5439-9c69-e72590e8d248) |\n| <code>two-breakout-fk-columns-test</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=6601459c-93b5-57bd-a709-9be97a9088bd) |\n| <code>complex-filter-clauses-test</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=1bec1937-f2b6-5542-9b92-7c375b846e04) |\n\n[... and 129 more](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=18ce8b09-46dd-5c8d-b5e0-9d97c595ea30) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=4852cb56-782c-538a-b07e-00aa647d3435) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=4bcf7665-f074-578c-b5bc-7c7b442e1a15) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 23, 18, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 23:18:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116952_tests-7c8a5f6b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/133-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=8e17b530-7f65-501b-8dc6-d215704343c3) |
| <code>basic-where-test-3</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=833df6f9-3cf9-5439-9c69-e72590e8d248) |
| <code>two-breakout-fk-columns-test</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=6601459c-93b5-57bd-a709-9be97a9088bd) |
| <code>complex-filter-clauses-test</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=1bec1937-f2b6-5542-9b92-7c375b846e04) |

[... and 129 more](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=18ce8b09-46dd-5c8d-b5e0-9d97c595ea30) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=4852cb56-782c-538a-b07e-00aa647d3435) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment&runConclusion=FAILURE&runId=4bcf7665-f074-578c-b5bc-7c7b442e1a15) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52156?repo=metabase/metabase&commitHash=7c8a5f6be3355f463b3b6b25f40c897fb06f900d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788374732,pull_request,open,,Encrypt fieldvalues in the database,"
### Description

Work in progress to improve encryption

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-14 22:11:40+00:00,['nvoxland'],2025-01-23 21:50:30+00:00,,https://github.com/metabase/metabase/pull/52155,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2606019508, 'issue_id': 2788374732, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113253_tests-3364875d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=70283cad-e65d-5c8d-8fff-8aa74fa056a1) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=80a06e23-9f57-51d8-b65d-2f4e5d59d64c) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=2c6d33c1-6ac8-5c33-b747-e47c6c818b7b) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=84d2f4d3-bd2a-5347-ae68-b9ad409644d1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 27, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610968159, 'issue_id': 2788374732, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3364875d9369d374180200a11f4ba7b06289735a-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12937448792?pr=52155)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 20, 37, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 00:27:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113253_tests-3364875d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=70283cad-e65d-5c8d-8fff-8aa74fa056a1) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=80a06e23-9f57-51d8-b65d-2f4e5d59d64c) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=2c6d33c1-6ac8-5c33-b747-e47c6c818b7b) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment&runConclusion=FAILURE&runId=84d2f4d3-bd2a-5347-ae68-b9ad409644d1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52155?repo=metabase/metabase&commitHash=3364875d9369d374180200a11f4ba7b06289735a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 20:37:46 UTC): ## e2e tests failed on `3364875d9369d374180200a11f4ba7b06289735a-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12937448792?pr=52155)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2788364820,pull_request,closed,,docs - specify enterprise only for SDK,Like it says on the tin.,jeff-bruemmer,2025-01-14 22:04:28+00:00,['jeff-bruemmer'],2025-01-21 20:54:09+00:00,2025-01-21 18:05:01+00:00,https://github.com/metabase/metabase/pull/52151,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2788359092,pull_request,closed,,"🤖 backported ""Update mysql.md""",#52139,github-automation-metabase,2025-01-14 22:00:27+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-14 22:06:41+00:00,2025-01-14 22:06:39+00:00,https://github.com/metabase/metabase/pull/52150,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2788357430,pull_request,closed,,Gsheets simplify gsheet definition,"We are going to put all tables in the dwh into the `GET /api/ee/upload-management/tables`, so no need to differentiate them at this time.",escherize,2025-01-14 21:59:11+00:00,['escherize'],2025-02-04 18:13:22+00:00,2025-01-14 22:28:45+00:00,https://github.com/metabase/metabase/pull/52149,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2591266758, 'issue_id': 2788357430, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6940_tests-93970647-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=FAILURE&runId=3e0f0ff3-986b-576e-a3cb-660457a11d55) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 22, 49, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 22:49:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6940_tests-93970647-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment&runConclusion=FAILURE&runId=3e0f0ff3-986b-576e-a3cb-660457a11d55) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52149?repo=metabase/metabase&commitHash=939706470302f5c714763f252a51da2617cfe627&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788349521,pull_request,closed,,[Backend modularization] `xrays` module cleanup,"- Move `metabase.xrays` to `metabase.xrays.core` for consistency with the new module shape
- Move `metabase.related` to `metabase.xrays.related`

Resolves #52142
Resolves #52146
",camsaul,2025-01-14 21:53:23+00:00,['camsaul'],2025-01-14 23:51:12+00:00,2025-01-14 23:02:55+00:00,https://github.com/metabase/metabase/pull/52148,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2591237607, 'issue_id': 2788349521, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/117075_tests-0aff6a8e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>created-at-api-test</code> | The expected result was not equal to the actual result, which is an empty set. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE&runId=b1e80ba6-a8ad-5c4f-943b-e3628fccc2de) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE&runId=f7d087b7-b2fb-500b-b4d4-f128d2c4aa5f) |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE&runId=69344a0a-98d3-5f10-9ece-c5bc1d2e1585) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 22, 28, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 22:28:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/117075_tests-0aff6a8e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>created-at-api-test</code> | The expected result was not equal to the actual result, which is an empty set. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE&runId=b1e80ba6-a8ad-5c4f-943b-e3628fccc2de) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE&runId=f7d087b7-b2fb-500b-b4d4-f128d2c4aa5f) |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment&runConclusion=FAILURE&runId=69344a0a-98d3-5f10-9ece-c5bc1d2e1585) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52148?repo=metabase/metabase&commitHash=0aff6a8e719c6f98e0a84f40d002bac76ba6779a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788342948,pull_request,closed,,"🤖 backported ""perf: Fix performance of CSV pivot table export""",#51985,github-automation-metabase,2025-01-14 21:48:48+00:00,"['alexander-yakushev', 'github-automation-metabase']",2025-01-15 01:43:23+00:00,2025-01-14 22:26:12+00:00,https://github.com/metabase/metabase/pull/52147,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2591237138, 'issue_id': 2788342948, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1768_tests-275a4a6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 22, 27, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 22:27:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1768_tests-275a4a6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52147?repo=metabase/metabase&commitHash=275a4a6ebaaa8a2ff1e69001c106dde08a76b55d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788332821,pull_request,closed,,Gsheets table management,"resolves https://github.com/metabase/metabase/issues/52067

We want to list tables imported from google sheets in the upload management interface. I've added them in this PR.",escherize,2025-01-14 21:41:27+00:00,['escherize'],2025-01-15 00:02:48+00:00,2025-01-14 23:20:47+00:00,https://github.com/metabase/metabase/pull/52145,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2591236896, 'issue_id': 2788332821, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118772_tests-b9d37770-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected some. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE&runId=2cdb9436-0a0f-5d0b-82ed-11e04d2f07c9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE&runId=986f155c-e57b-54cd-a1f4-673191ee3313) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 22, 27, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 22:27:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118772_tests-b9d37770-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected some. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE&runId=2cdb9436-0a0f-5d0b-82ed-11e04d2f07c9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment&runConclusion=FAILURE&runId=986f155c-e57b-54cd-a1f4-673191ee3313) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52145?repo=metabase/metabase&commitHash=b9d37770a5a029b76110eaecf06c4ee0c25bf0fd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788332518,pull_request,closed,,Cards use default values when required,"Closes https://github.com/metabase/metabase/issues/40038

### Description

If a card with a default value doesn't actually require a value, letting people clear the default value can be useful. However, if the card does require a value, letting people clear the default just throws an error.  This is a completely useless result, so we should use the default value in that case.

### How to verify

1. Create a saved sql query with a required parameter that has a default value
2. Add it to a dashboard with a filter, and hook the filter to the card's parameter
3. Clear the dashboard's filter
4. Confirm that the card is using its own default instead of erroring

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-14 21:41:15+00:00,['wzimrin'],2025-01-16 23:35:24+00:00,2025-01-16 23:00:29+00:00,https://github.com/metabase/metabase/pull/52144,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2591237724, 'issue_id': 2788332518, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112851_tests-a37b2d42-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE&runId=a434d43c-a84d-54cc-83ce-35bdd5a6d795) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE&runId=7a526b27-8b8a-5540-a9f2-abdc83d63db3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 22, 28, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 22:28:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112851_tests-a37b2d42-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE&runId=a434d43c-a84d-54cc-83ce-35bdd5a6d795) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment&runConclusion=FAILURE&runId=7a526b27-8b8a-5540-a9f2-abdc83d63db3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52144?repo=metabase/metabase&commitHash=a37b2d42a99d4b2ebdd7a2866d0f9200259dd28b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788331465,pull_request,closed,,Add ericnormand to team files,"### Description

Add ericnormand to team files
",ericnormand,2025-01-14 21:40:28+00:00,['ericnormand'],2025-01-15 15:30:08+00:00,2025-01-15 15:02:11+00:00,https://github.com/metabase/metabase/pull/52143,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2591207423, 'issue_id': 2788331465, 'author': 'ericnormand', 'body': 'Sorry for all these whitespace errors. I have not finished setting up Emacs yet.', 'created_at': datetime.datetime(2025, 1, 14, 22, 12, 7, tzinfo=datetime.timezone.utc)}]","ericnormand (Issue Creator) on (2025-01-14 22:12:07 UTC): Sorry for all these whitespace errors. I have not finished setting up Emacs yet.

"
2788279432,pull_request,closed,,Fix in-progress selection in the date range picker,"Fixes https://github.com/metabase/metabase/issues/51994

How to verify:
- Open a dashboard with a `date/range` or `date/all-options` widget
- Select a date range
- Now start to select a new date range, starting from a date inside the current range
- The new start date should be highlighted before the selection is completed, i.e. before the end date is clicked.

<img width=""673"" alt=""Screenshot 2025-01-14 at 16 05 58"" src=""https://github.com/user-attachments/assets/ecef8d2e-62c1-405d-a3b1-d4e4f43fae53"" />
",ranquild,2025-01-14 21:06:12+00:00,['ranquild'],2025-01-15 15:03:48+00:00,2025-01-15 15:01:58+00:00,https://github.com/metabase/metabase/pull/52141,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2591187068, 'issue_id': 2788279432, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13449_tests-4d4ff565-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE&runId=9ab3185b-1626-5c82-8a35-1d438d439189) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE&runId=1e1d22fc-ebdd-5d7d-9e20-01612628e7e5) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE&runId=bc7f2cdf-f3dc-5b6e-bff2-a0e7e135b3ea) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 21, 57, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 21:57:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13449_tests-4d4ff565-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE&runId=9ab3185b-1626-5c82-8a35-1d438d439189) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE&runId=1e1d22fc-ebdd-5d7d-9e20-01612628e7e5) |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment&runConclusion=FAILURE&runId=bc7f2cdf-f3dc-5b6e-bff2-a0e7e135b3ea) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52141?repo=metabase/metabase&commitHash=4d4ff565ea2bd7871835fb9ccb152bdad562ea4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788240707,pull_request,closed,,Update mysql.md,"Add an additional flag as a note, since I've hit this one today with a customer",paoliniluis,2025-01-14 20:41:00+00:00,['paoliniluis'],2025-01-14 22:08:18+00:00,2025-01-14 21:59:13+00:00,https://github.com/metabase/metabase/pull/52139,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2788191247,pull_request,closed,,Date widgets types cleanup,Small cleanup of types and functions used in refactored date widgets.,ranquild,2025-01-14 20:10:13+00:00,['ranquild'],2025-01-27 22:11:48+00:00,2025-01-14 21:34:12+00:00,https://github.com/metabase/metabase/pull/52138,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2591076177, 'issue_id': 2788191247, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41099_tests-bb681987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=f746bd61-7432-52fa-9792-116cb71f0d87) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=bd416b02-0549-52a0-9a9d-028c6af1d4e8) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=05b6cb1a-8f12-5c72-bde4-745bc9d3e10e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 20, 49, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591076180, 'issue_id': 2788191247, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/39603_tests-bb681987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=bd416b02-0549-52a0-9a9d-028c6af1d4e8) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=05b6cb1a-8f12-5c72-bde4-745bc9d3e10e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 20, 49, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 20:49:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41099_tests-bb681987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=f746bd61-7432-52fa-9792-116cb71f0d87) |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=bd416b02-0549-52a0-9a9d-028c6af1d4e8) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=05b6cb1a-8f12-5c72-bde4-745bc9d3e10e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-14 20:49:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/39603_tests-bb681987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=bd416b02-0549-52a0-9a9d-028c6af1d4e8) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment&runConclusion=FAILURE&runId=05b6cb1a-8f12-5c72-bde4-745bc9d3e10e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52138?repo=metabase/metabase&commitHash=bb681987d03c2a90dda52a969216ea1917dbb011&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788185282,pull_request,closed,,GET dashboard question candidates,Works for both the root and normal collections.,johnswanson,2025-01-14 20:06:27+00:00,['johnswanson'],2025-01-27 22:11:18+00:00,2025-01-20 16:54:03+00:00,https://github.com/metabase/metabase/pull/52137,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2591076741, 'issue_id': 2788185282, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114050_tests-d9f67c46-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=FAILURE&runId=2fc1d05d-ada1-5ed6-b5bf-d2da5163eee5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 20, 50, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 20:50:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114050_tests-d9f67c46-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment&runConclusion=FAILURE&runId=2fc1d05d-ada1-5ed6-b5bf-d2da5163eee5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52137?repo=metabase/metabase&commitHash=d9f67c465a14f05741764446cb337ef82a1640bf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788174661,pull_request,open,,docs - notes on db version support,"Where it makes sense, explain which versions we support for our supported databases.",jeff-bruemmer,2025-01-14 19:59:48+00:00,['jeff-bruemmer'],2025-01-17 17:14:19+00:00,,https://github.com/metabase/metabase/pull/52136,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2788153714,pull_request,closed,,"🤖 backported ""Update activating-the-enterprise-edition.md""",#52133,github-automation-metabase,2025-01-14 19:47:09+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-14 19:49:29+00:00,2025-01-14 19:49:28+00:00,https://github.com/metabase/metabase/pull/52135,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2788126057,pull_request,open,,Enforce download-row-limit minimum of 10000,"Closes #52019 

[Context on slack](https://metaboat.slack.com/archives/C05NXACAG1G/p1736760005003199)

- Add getter to `download-row-limit` environment variable (`MB_DOWNLOAD_ROW_LIMIT`) that enforces minimum of 1048576 (parity with Pro thresholds)",tsplude,2025-01-14 19:31:16+00:00,['tsplude'],2025-01-31 22:59:00+00:00,,https://github.com/metabase/metabase/pull/52134,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2591026269, 'issue_id': 2788126057, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94195_tests-c0bc701a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/115-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-fks-test</code> | The database query failed to find the expected table ""orders"" in the ""test-data (redshift)"" database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=8950eea4-e41a-5767-a33b-3da33b6f7b34) |\n| <code>describe-fields-or-table-test</code> | No table ""bird-count"" found in Redshift database ""daily-bird-counts (redshift)"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=2e78c50a-442e-5963-9300-e243a405108c) |\n| <code>prettify-native-form-executable-test</code> | No table \'orders\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=1f7fac02-0fe3-5714-b56e-757e6e07cd7d) |\n| <code>search-values-with-field-same-as-search-field-test</code> | The test failed because the table \'venues\' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=245eb5ea-e669-534a-8153-13ef743f64d1) |\n\n[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-case-aggregations-fields-as-values</code> | No table \'venues\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=b318de27-bce2-52e9-962f-eb0dac3aac8c) |\n| <code>order-by-aggregate-fields-test</code> | No table \'venues\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=e99a5a66-3a36-5d44-b038-148dc5393c86) |\n| <code>lead-test</code> | ""No table \'orders\' found in the Redshift database \'test-data (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=02a6fc3f-1d92-5f00-8a56-5f685293edf7) |\n| <code>test-23293</code> | No table \'orders\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=53045a25-8f03-5660-a850-d3501c1cd968) |\n\n[... and 111 more](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 20, 19, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596369149, 'issue_id': 2788126057, 'author': 'luizarakaki', 'body': ""@tsplude let's make it minimum 1048576 (so it can be raised but not reduced).\r\nIf people want to reduce the limit, they should use the permission system"", 'created_at': datetime.datetime(2025, 1, 16, 17, 59, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628441291, 'issue_id': 2788126057, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13081046412?pr=52134)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`"", 'created_at': datetime.datetime(2025, 1, 31, 21, 36, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 20:19:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94195_tests-c0bc701a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/115-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-fks-test</code> | The database query failed to find the expected table ""orders"" in the ""test-data (redshift)"" database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=8950eea4-e41a-5767-a33b-3da33b6f7b34) |
| <code>describe-fields-or-table-test</code> | No table ""bird-count"" found in Redshift database ""daily-bird-counts (redshift)"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=2e78c50a-442e-5963-9300-e243a405108c) |
| <code>prettify-native-form-executable-test</code> | No table 'orders' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=1f7fac02-0fe3-5714-b56e-757e6e07cd7d) |
| <code>search-values-with-field-same-as-search-field-test</code> | The test failed because the table 'venues' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=245eb5ea-e669-534a-8153-13ef743f64d1) |

[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-case-aggregations-fields-as-values</code> | No table 'venues' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=b318de27-bce2-52e9-962f-eb0dac3aac8c) |
| <code>order-by-aggregate-fields-test</code> | No table 'venues' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=e99a5a66-3a36-5d44-b038-148dc5393c86) |
| <code>lead-test</code> | ""No table 'orders' found in the Redshift database 'test-data (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=02a6fc3f-1d92-5f00-8a56-5f685293edf7) |
| <code>test-23293</code> | No table 'orders' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE&runId=53045a25-8f03-5660-a850-d3501c1cd968) |

[... and 111 more](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52134?repo=metabase/metabase&commitHash=c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

luizarakaki on (2025-01-16 17:59:52 UTC): @tsplude let's make it minimum 1048576 (so it can be raised but not reduced).
If people want to reduce the limit, they should use the permission system

github-actions[bot] on (2025-01-31 21:36:33 UTC): ## e2e tests failed on `c0bc701a8dfe2128964a7ceadaaaaf7cf71efed7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13081046412?pr=52134)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`

"
2788091042,pull_request,closed,,Update activating-the-enterprise-edition.md,"another little nitpick, since people tend to get creative with these things and then we end up debugging endless hours",paoliniluis,2025-01-14 19:12:12+00:00,['paoliniluis'],2025-01-14 19:49:56+00:00,2025-01-14 19:46:06+00:00,https://github.com/metabase/metabase/pull/52133,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2788075406,pull_request,closed,,Make preemptive caching toggle a FE plugin,Moves `PreemptiveCachingSwitch` into a plugin + updates backend to return `cache_preemptive` from the token-features setting,noahmoss,2025-01-14 19:02:45+00:00,['sloansparger'],2025-01-27 22:10:15+00:00,2025-01-24 23:00:28+00:00,https://github.com/metabase/metabase/pull/52131,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2590892057, 'issue_id': 2788075406, 'author': 'noahmoss', 'body': '* **#52131** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52131?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52131?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 14, 19, 3, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590970306, 'issue_id': 2788075406, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125790_tests-1a8d3c0f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=0e9bc1ef-db9a-57b1-ba54-6b29a9f6af72) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=1a918255-e057-5fba-a8c6-bcffa1f20499) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=faf660df-db90-58d1-b9c2-ba3eb3bbe6d0) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=b54ad933-13a6-56d6-8344-6141fb6c55c1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 19, 46, 46, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-14 19:03:13 UTC): * **#52131** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52131?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52131?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-14 19:46:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125790_tests-1a8d3c0f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=0e9bc1ef-db9a-57b1-ba54-6b29a9f6af72) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=1a918255-e057-5fba-a8c6-bcffa1f20499) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=faf660df-db90-58d1-b9c2-ba3eb3bbe6d0) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment&runConclusion=FAILURE&runId=b54ad933-13a6-56d6-8344-6141fb6c55c1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52131?repo=metabase/metabase&commitHash=1a8d3c0f9c0f864bfdfe3769761fb2cce5f3f812&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788021077,pull_request,closed,,"🤖 backported ""Update activating-the-enterprise-edition.md""",#52113,github-automation-metabase,2025-01-14 18:35:55+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-14 19:29:59+00:00,2025-01-14 18:38:27+00:00,https://github.com/metabase/metabase/pull/52128,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590940466, 'issue_id': 2788021077, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-2289e1fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 19, 29, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 19:29:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-2289e1fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52128?repo=metabase/metabase&commitHash=2289e1fab9c3847b215aafa274e02b35f118b210&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2788014470,pull_request,closed,,Exclude embedding-sdk/dist for babel-loader for Embedding SDK cypress tests,Exclude embedding-sdk/dist for babel-loader for Embedding SDK cypress tests,sanex3339,2025-01-14 18:32:17+00:00,['sanex3339'],2025-01-15 08:48:44+00:00,2025-01-15 07:31:55+00:00,https://github.com/metabase/metabase/pull/52127,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2590837352, 'issue_id': 2788014470, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 14, 18, 38, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590923477, 'issue_id': 2788014470, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3642_tests-6b501f27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=FAILURE&runId=3ed1d502-ccfe-59d2-9056-b9ff92ffea7e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 19, 20, 28, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 18:38:07 UTC): <!---conventional commit reminder comment ID-->
@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-14 19:20:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3642_tests-6b501f27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment&runConclusion=FAILURE&runId=3ed1d502-ccfe-59d2-9056-b9ff92ffea7e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52127?repo=metabase/metabase&commitHash=6b501f276460e7ac780c8439d9799acd07b23a85&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787990472,pull_request,closed,,Make sure dashboard-id is always included for preemptive caching,"Arakaki observed [here](https://metaboat.slack.com/archives/C064EB1UE5P/p1736794750438959) that `dashboard_id` was being populated on the query execution rows for `schedule` cache refresh queries, but not `duration` cache refreshes.

This was a byproduct of the way we are fetching the queries to rerun for a `duration` cache on a dashboard. We first fetch the card IDs associated with the dashboard, then issue a query that searches the `query_execution` table for relevant queries to rerun associated with the card. This loses the mapping from dashboard ID to query.

I've restructured this logic to search in `query_execution` based on `card_id` _or_ `dashboard_id` depending on the specific cache config. This also allowed me to simplify some of the surrounding code, like removing `cache-configs->card-ids`",noahmoss,2025-01-14 18:22:20+00:00,['noahmoss'],2025-01-27 22:11:27+00:00,2025-01-16 23:26:42+00:00,https://github.com/metabase/metabase/pull/52126,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2590786904, 'issue_id': 2787990472, 'author': 'noahmoss', 'body': '* **#52126** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52126?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52126?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 14, 18, 22, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590865750, 'issue_id': 2787990472, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118211_tests-02c8e74c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=29f76fbe-fbc6-5380-bc86-c9e5f563906b) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=4a804bbe-6032-59f7-86b8-48ec384dee7c) |\n| <code>search-db-call-count-test</code> | The expected call count was 5, but the actual call count was 6. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=d0faf5da-ad76-5045-975e-0e777303be45) |\n| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=932d0ddf-e351-563f-be12-ef148ea7e734) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 18, 50, 35, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-14 18:22:40 UTC): * **#52126** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52126?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52126?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-14 18:50:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118211_tests-02c8e74c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=29f76fbe-fbc6-5380-bc86-c9e5f563906b) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=4a804bbe-6032-59f7-86b8-48ec384dee7c) |
| <code>search-db-call-count-test</code> | The expected call count was 5, but the actual call count was 6. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=d0faf5da-ad76-5045-975e-0e777303be45) |
| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE&runId=932d0ddf-e351-563f-be12-ef148ea7e734) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52126?repo=metabase/metabase&commitHash=02c8e74ca2697bf1fce89aefeddb356b4f4dee94&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787974620,pull_request,closed,,"🤖 backported ""docs - preference for docker when self-hosting""",#52122,github-automation-metabase,2025-01-14 18:15:15+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-14 18:54:40+00:00,2025-01-14 18:17:30+00:00,https://github.com/metabase/metabase/pull/52125,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590875879, 'issue_id': 2787974620, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-ae2773b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 18, 54, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 18:54:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-ae2773b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52125?repo=metabase/metabase&commitHash=ae2773b9f822f7945035b38be9addbd56553eea7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787928338,pull_request,closed,,"🤖 backported ""refactor sdk imports""",manual backport of https://github.com/metabase/metabase/pull/52020 as the workflow failed,npretto,2025-01-14 17:55:53+00:00,['npretto'],2025-01-15 11:59:00+00:00,2025-01-15 11:58:34+00:00,https://github.com/metabase/metabase/pull/52123,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2592139765, 'issue_id': 2787928338, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4dfe75493c94dff1adc7ee732e8e4da0c6e3b09e...243a1230980e7846e75cb2453a977ed088ec8953.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/shared/utils/theme.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx |\n| @kdoh | frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 15, 9, 41, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592230434, 'issue_id': 2787928338, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/38363_tests-243a1230-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 10, 16, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-15 09:41:17 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4dfe75493c94dff1adc7ee732e8e4da0c6e3b09e...243a1230980e7846e75cb2453a977ed088ec8953.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/shared/utils/theme.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx |
| @kdoh | frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-15 10:16:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/38363_tests-243a1230-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52123?repo=metabase/metabase&commitHash=243a1230980e7846e75cb2453a977ed088ec8953&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787916141,pull_request,closed,,docs - preference for docker when self-hosting,"- Updates docs to show a preference for either Cloud or Docker deployments.
- Adds a mention of our air-gapped support.
- Adds note about the application database being distinct from data warehouses.",jeff-bruemmer,2025-01-14 17:49:50+00:00,['jeff-bruemmer'],2025-01-14 18:18:06+00:00,2025-01-14 18:14:20+00:00,https://github.com/metabase/metabase/pull/52122,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2787904406,pull_request,closed,,Implement show-results-to-user tool,,metamben,2025-01-14 17:44:21+00:00,['metamben'],2025-01-14 20:12:44+00:00,2025-01-14 20:12:42+00:00,https://github.com/metabase/metabase/pull/52121,"[('.Team/Querying', '')]","[{'comment_id': 2590790174, 'issue_id': 2787904406, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113564_tests-ab9906fe-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 18, 23, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 18:23:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113564_tests-ab9906fe-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52121?repo=metabase/metabase&commitHash=ab9906fe2c8a1fd8b518387f4ddc0c8df6987f81&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787793055,pull_request,closed,,fix(qb): do not truncate long tab name,"### Description

address [product review](https://metaboat.slack.com/archives/C01LQQ2UW03/p1736779279093619)

- [x]  avoid text truncation in the tabs
- [ ] align chart type selector header with a table on the right",uladzimirdev,2025-01-14 17:06:18+00:00,['uladzimirdev'],2025-01-16 21:11:23+00:00,2025-01-16 21:11:19+00:00,https://github.com/metabase/metabase/pull/52120,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2590591454, 'issue_id': 2787793055, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d458b6e6b90604b16e4ba8c1b100b506123ed2cc...26d400e0f4821d182330c4db07dc6f66a4e899ec.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx |', 'created_at': datetime.datetime(2025, 1, 14, 17, 7, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590723924, 'issue_id': 2787793055, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13272_tests-26d400e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE&runId=65dbe0ba-ab91-5248-8849-36463ed675ff) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE&runId=6a58e057-25a0-5747-b7b0-bc5c22f24429) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 17, 56, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591175744, 'issue_id': 2787793055, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 26d400e0f4821d182330c4db07dc6f66a4e899ec.\n✅ Preview:\n    https://pr52120.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 14, 21, 49, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596896004, 'issue_id': 2787793055, 'author': 'uladzimirdev', 'body': 'changes no longer required as we reverted the original [PR](https://github.com/metabase/metabase/pull/52270)', 'created_at': datetime.datetime(2025, 1, 16, 21, 11, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 17:07:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d458b6e6b90604b16e4ba8c1b100b506123ed2cc...26d400e0f4821d182330c4db07dc6f66a4e899ec.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx |

trunk-io[bot] on (2025-01-14 17:56:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13272_tests-26d400e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE&runId=65dbe0ba-ab91-5248-8849-36463ed675ff) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment&runConclusion=FAILURE&runId=6a58e057-25a0-5747-b7b0-bc5c22f24429) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52120?repo=metabase/metabase&commitHash=26d400e0f4821d182330c4db07dc6f66a4e899ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-14 21:49:41 UTC): 👋 Deploying a preview environment for commit 26d400e0f4821d182330c4db07dc6f66a4e899ec.
✅ Preview:
    https://pr52120.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

uladzimirdev (Issue Creator) on (2025-01-16 21:11:19 UTC): changes no longer required as we reverted the original [PR](https://github.com/metabase/metabase/pull/52270)

"
2787708074,pull_request,closed,,"🤖 backported ""refactor sdk imports""","  #52020
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-14 16:36:14+00:00,"['npretto', 'github-automation-metabase']",2025-01-15 09:28:21+00:00,2025-01-15 09:28:19+00:00,https://github.com/metabase/metabase/pull/52119,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590596061, 'issue_id': 2787708074, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e5b2155be7edd532fecb22bddb5d914b507e2dde...d98f3ca6782a248bcc0438fbf94631eaf48bfc70.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/shared/utils/theme.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx |\n| @kdoh | frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 14, 17, 9, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590610605, 'issue_id': 2787708074, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51525_tests-d98f3ca6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 17, 16, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 17:09:44 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e5b2155be7edd532fecb22bddb5d914b507e2dde...d98f3ca6782a248bcc0438fbf94631eaf48bfc70.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/shared/utils/theme.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx |
| @kdoh | frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-14 17:16:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51525_tests-d98f3ca6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52119?repo=metabase/metabase&commitHash=d98f3ca6782a248bcc0438fbf94631eaf48bfc70&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787666606,pull_request,closed,,Balance e2e specs by runtime,"## Description

This PR uses [cypress-split](https://github.com/bahmutov/cypress-split) to evenly balance our spec files across runners by runtime. **This reduces our e2e workflow time from 34 minutes to 24 minutes.**

## Details
- since cypress split hijacks what spec files you're running, I had to split snapshotting into a separate CI step. in order to not waste time spinning up metabase twice, I also split that into a separate CI step.
- For now, I hardcoded all spec times based on a recent run on master. Over time this will drift, and I have plans to make a follow-up that will automatically update spec timings. For now, we can take a huge performance win without taking on that complexity.
- another complexity here is we had to retain the matrix builder job in order to retain the ability to run certain test jobs against certain folders or tags
- Because cypress-split uses the current working directory of the cypress config file, it needs all spec files in the timings.json file to be relative to that path. I nearly tore my hair out and wrote a new library trying to figure out why it wouldn't match the specs it found with my timings file. (I still would kind of rather this whole thing not be a cypress plugin, but a simple node script that gives you a split list of files, but the cost of documenting and maintaining that is probably outweighed by using a nice tested and documented library).

",iethree,2025-01-14 16:22:56+00:00,['iethree'],2025-01-22 20:21:43+00:00,2025-01-17 15:49:48+00:00,https://github.com/metabase/metabase/pull/52118,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2590629452, 'issue_id': 2787666606, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13339_tests-cd3be7d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=FAILURE&runId=30c03ee6-e5b2-597c-9419-149a9c96d04a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 17, 23, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597148924, 'issue_id': 2787666606, 'author': 'iethree', 'body': ""😬 don't merge this , it has a volkswagen 😬"", 'created_at': datetime.datetime(2025, 1, 16, 23, 58, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 17:23:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13339_tests-cd3be7d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment&runConclusion=FAILURE&runId=30c03ee6-e5b2-597c-9419-149a9c96d04a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52118?repo=metabase/metabase&commitHash=cd3be7d9925cfd53073e59d017de68fdfe6a197d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-16 23:58:46 UTC): 😬 don't merge this , it has a volkswagen 😬

"
2787609528,pull_request,closed,,"🤖 backported ""update eslint rules to restrict importing from react-redux directly""",#52114,github-automation-metabase,2025-01-14 16:07:35+00:00,"['npretto', 'github-automation-metabase']",2025-01-14 16:12:28+00:00,2025-01-14 16:12:27+00:00,https://github.com/metabase/metabase/pull/52117,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2787495146,pull_request,closed,,"🤖 backported ""Run search index worker on every instance""",#52108,github-automation-metabase,2025-01-14 15:27:53+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-14 16:47:25+00:00,2025-01-14 16:05:38+00:00,https://github.com/metabase/metabase/pull/52115,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590409236, 'issue_id': 2787495146, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120350_tests-6c4d32fc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 16, 17, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 16:17:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120350_tests-6c4d32fc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52115?repo=metabase/metabase&commitHash=6c4d32fc95f743ddbe4573951bf8a049d69b8ac6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787489763,pull_request,closed,,update eslint rules to restrict importing from react-redux directly,"Closes https://github.com/metabase/metabase/issues/51401

# Description
This PR updates our eslint config files to make sure we never import directly from `react-redux` so that we always use the custom context",npretto,2025-01-14 15:26:02+00:00,['npretto'],2025-01-14 16:06:16+00:00,2025-01-14 16:06:14+00:00,https://github.com/metabase/metabase/pull/52114,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2590239447, 'issue_id': 2787489763, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 14, 15, 26, 24, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 15:26:24 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2787482426,pull_request,closed,,Update activating-the-enterprise-edition.md,Add details about Zscaler,paoliniluis,2025-01-14 15:23:24+00:00,['paoliniluis'],2025-01-14 18:38:56+00:00,2025-01-14 18:35:04+00:00,https://github.com/metabase/metabase/pull/52113,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2787472195,pull_request,closed,,"🤖 backported ""[search] update/delete indexed entities on change""",  #51222,github-automation-metabase,2025-01-14 15:20:07+00:00,"['piranha', 'github-automation-metabase']",2025-01-15 07:20:37+00:00,2025-01-15 07:20:35+00:00,https://github.com/metabase/metabase/pull/52112,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590413738, 'issue_id': 2787472195, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/146848_tests-1b9c22d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/193-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/24-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>mine-test</code> | Operator does not exist: integer = text | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=7fbc8070-e780-5e14-9d43-7f58755cd2d3) |\n| <code>custom-engine-test</code> | Error occurred when executing SQL query due to mismatched data types, integer and text. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=2e7be83a-1e22-5734-a533-ad93106f6719) |\n| <code>force-reindex-test</code> | Error occurred while executing SQL query due to mismatched data types, integer and text. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=3637146c-0ba5-587f-b79a-9385fa94e782) |\n| <code>indexed-entity-test</code> | Query execution failed due to type mismatch between column 'model\\_id' and expression. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=86976369-6d7f-5790-b217-65fad7753c8b) |\n\n[... and 189 more](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>quick-run-through</code> | Column 'model\\_id' of type integer is expected, but expression is of type character varying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=540ebaed-fc13-5a57-aba6-9fd10044c278) |\n| <code>model-index-test-3</code> | Error occurred while executing SQL query due to mismatched data type for column 'model\\_id'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=df884228-032c-5738-aa2d-e485d6b30aed) |\n| <code>model-index-test-2</code> | Error occurred while executing SQL query due to mismatched data type for column 'model\\_id'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=43dd7ac5-8960-55ed-8d9d-9c361d84d3bb) |\n| <code>model-index-test</code> | Column 'model\\_id' of type integer is expected to be of type character varying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=67ddae81-965c-56c9-b3e7-63c15621de28) |\n\n[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 16, 19, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 16:19:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/146848_tests-1b9c22d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/193-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/24-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>mine-test</code> | Operator does not exist: integer = text | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=7fbc8070-e780-5e14-9d43-7f58755cd2d3) |
| <code>custom-engine-test</code> | Error occurred when executing SQL query due to mismatched data types, integer and text. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=2e7be83a-1e22-5734-a533-ad93106f6719) |
| <code>force-reindex-test</code> | Error occurred while executing SQL query due to mismatched data types, integer and text. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=3637146c-0ba5-587f-b79a-9385fa94e782) |
| <code>indexed-entity-test</code> | Query execution failed due to type mismatch between column 'model\_id' and expression. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=86976369-6d7f-5790-b217-65fad7753c8b) |

[... and 189 more](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>quick-run-through</code> | Column 'model\_id' of type integer is expected, but expression is of type character varying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=540ebaed-fc13-5a57-aba6-9fd10044c278) |
| <code>model-index-test-3</code> | Error occurred while executing SQL query due to mismatched data type for column 'model\_id'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=df884228-032c-5738-aa2d-e485d6b30aed) |
| <code>model-index-test-2</code> | Error occurred while executing SQL query due to mismatched data type for column 'model\_id'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=43dd7ac5-8960-55ed-8d9d-9c361d84d3bb) |
| <code>model-index-test</code> | Column 'model\_id' of type integer is expected to be of type character varying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE&runId=67ddae81-965c-56c9-b3e7-63c15621de28) |

[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52112?repo=metabase/metabase&commitHash=1b9c22d12266be10bfe305588af9702d4e7daee3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787464894,pull_request,open,,Revert search indexing error workaround in #52072,"This *partially* reverts commit ce53e5256acbb62c5e43a7fe0f449cfaf10fc8b2.

We shouldn't need this workaround any more after https://github.com/metabase/metabase/pull/51222 is merged. Cutting this PR in advance so that we don't forget about this hack for too long.


Update: there's more to it than just that PR mentioned above... ",crisptrutski,2025-01-14 15:17:42+00:00,['crisptrutski'],2025-01-29 08:43:21+00:00,,https://github.com/metabase/metabase/pull/52111,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2590214535, 'issue_id': 2787464894, 'author': 'crisptrutski', 'body': 'It might be a good idea to rerun CI a few times on this PR before merging, to confirm the flake is gone.', 'created_at': datetime.datetime(2025, 1, 14, 15, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590301383, 'issue_id': 2787464894, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/92926_tests-d03ce367-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=5a256498-0995-5687-ab4b-98cb4b934cf9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=8d7dcc08-b58e-5b1e-abb2-39e52c189575) |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=424ba46e-bce2-55da-a8a7-c74e23e1bb5a) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=e494c21a-cef3-5f10-8c7a-002780748d9c) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=9cf84e75-2b75-54f7-996a-0f482da1c438) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 15, 47, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593292872, 'issue_id': 2787464894, 'author': 'crisptrutski', 'body': 'It looks like the error is still happening quite consistently, even with the change we expected to fix it. Will need to investigate further.', 'created_at': datetime.datetime(2025, 1, 15, 15, 49, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619343648, 'issue_id': 2787464894, 'author': 'crisptrutski', 'body': ""Thought this was due to a race. Made it race proof. That wasn't the problem.\r\n\r\nThe actual problem seems to relate to all the magic around how we reset the appdb with all these macros, and how that interacts with indexing. I've only ever seen it break this test, so just disabling the index for this test and moving on."", 'created_at': datetime.datetime(2025, 1, 28, 15, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620917660, 'issue_id': 2787464894, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `d03ce367f439b79099588b5e1f12d903342fe95c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13026597568?pr=52111)\n\n  File | Test Name\n  ---- | ---------\n  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)"", 'created_at': datetime.datetime(2025, 1, 29, 7, 50, 33, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2025-01-14 15:18:09 UTC): It might be a good idea to rerun CI a few times on this PR before merging, to confirm the flake is gone.

trunk-io[bot] on (2025-01-14 15:47:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/92926_tests-d03ce367-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=5a256498-0995-5687-ab4b-98cb4b934cf9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=8d7dcc08-b58e-5b1e-abb2-39e52c189575) |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=424ba46e-bce2-55da-a8a7-c74e23e1bb5a) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=e494c21a-cef3-5f10-8c7a-002780748d9c) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE&runId=9cf84e75-2b75-54f7-996a-0f482da1c438) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52111?repo=metabase/metabase&commitHash=d03ce367f439b79099588b5e1f12d903342fe95c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2025-01-15 15:49:50 UTC): It looks like the error is still happening quite consistently, even with the change we expected to fix it. Will need to investigate further.

crisptrutski (Issue Creator) on (2025-01-28 15:34:00 UTC): Thought this was due to a race. Made it race proof. That wasn't the problem.

The actual problem seems to relate to all the magic around how we reset the appdb with all these macros, and how that interacts with indexing. I've only ever seen it break this test, so just disabling the index for this test and moving on.

github-actions[bot] on (2025-01-29 07:50:33 UTC): ## e2e tests failed on `d03ce367f439b79099588b5e1f12d903342fe95c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13026597568?pr=52111)

  File | Test Name
  ---- | ---------
  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)

"
2787440911,pull_request,closed,,ci(sdk): add CODEOWNERS for embedding sdk,Adds CODEOWNERS for embedding-sdk. Will also add `frontend/src/metabase/embedding-sdk` once https://github.com/metabase/metabase/pull/52020 is merged.,heypoom,2025-01-14 15:11:28+00:00,['heypoom'],2025-01-27 22:11:39+00:00,2025-01-15 09:23:03+00:00,https://github.com/metabase/metabase/pull/52110,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2787353970,pull_request,closed,,[Notification] unsubscribe notification APIs,"Epic: https://github.com/metabase/metabase/issues/50766

In the alerts we send to external email, we include an ""unsubscribe"" link to let users unsubscribe from notifications.

This page will call the /api/notification/unsubscribe, we had a similar one for pulse at `api/pulse/unsubscribe`.

UI is updated in https://github.com/metabase/metabase/pull/52193

Part of WRK-2",qnkhuat,2025-01-14 14:42:43+00:00,"['piranha', 'qnkhuat']",2025-02-05 04:09:20+00:00,2025-02-05 02:47:19+00:00,https://github.com/metabase/metabase/pull/52109,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2590201932, 'issue_id': 2787353970, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95408_tests-db28a9e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/16-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search applying search filters created\\_at filter should remove created\\_at filter when \\`X\\` is clicked on search filter</code> | The expected text \'Robert\'s Super Duper Reviews\' was not found within the expected selector \'[data-testid=search-result-item]\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=ae500eb2-8788-5af8-84d9-8327368e65ab) |\n| <code>scenarios > search applying search filters created\\_at filter should filter results by Today (created\\_at=thisday)</code> | The \'Reviews\' array was expected to be a superset of another array, but it was missing an element. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=90556d4e-31ce-506b-948a-b478e5a85a4d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search applying search filters trashed items filter should only show items in the trash</code> | The test timed out while trying to find an element with data-testid ""search-result-item"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=a0ee9382-59e4-59f6-918c-b84338a8cf94) |\n| <code>scenarios > search applying search filters native query filter should not include results that contain native query data if the toggle is off</code> | The test timed out while trying to find an element with data-testid ""search-result-item-name"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=1004ec7b-fe60-523e-a329-9934e8341800) |\n| <code>scenarios > search applying search filters native query filter should include results that contain native query data when the toggle is on</code> | The test timed out while trying to find an element with data-testid ""search-result-item-name"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=24d40b77-b090-5d9d-9159-c49e668a5386) |\n| <code>scenarios > search applying search filters native query filter should hydrate search with search text and native query filter</code> | The test timed out while trying to find an element with data-testid ""search-result-item-name"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=4878b47a-01ae-508a-bf07-c7f48b085b8e) |\n\n[... and 12 more](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 15, 15, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635592626, 'issue_id': 2787353970, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `da92f2e3b22b44c46cec71441bea000ac7652315-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13149181007?pr=52109)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`search-filters.cy.spec.js` | scenarios > search > applying search filters > created_at filter > should filter results by Today (created_at=thisday)\n`search-filters.cy.spec.js` | scenarios > search > applying search filters > created_at filter > should remove created_at filter when `X` is clicked on search filter\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results\n`search-filters.cy.spec.js` | scenarios > search > applying search filters > last_edited_at filter > should filter results by Today (last_edited_at=thisday)\n`search-filters.cy.spec.js` | scenarios > search > applying search filters > last_edited_at filter > should remove last_edited_at filter when `X` is clicked on search filter\n`search-filters.cy.spec.js` | scenarios > search > applying search filters > verified filter > should hydrate search with search text and verified filter\nand more... | and more..."", 'created_at': datetime.datetime(2025, 2, 5, 2, 58, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 15:15:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95408_tests-db28a9e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/16-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search applying search filters created\_at filter should remove created\_at filter when \`X\` is clicked on search filter</code> | The expected text 'Robert's Super Duper Reviews' was not found within the expected selector '[data-testid=search-result-item]' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=ae500eb2-8788-5af8-84d9-8327368e65ab) |
| <code>scenarios > search applying search filters created\_at filter should filter results by Today (created\_at=thisday)</code> | The 'Reviews' array was expected to be a superset of another array, but it was missing an element. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=90556d4e-31ce-506b-948a-b478e5a85a4d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search applying search filters trashed items filter should only show items in the trash</code> | The test timed out while trying to find an element with data-testid ""search-result-item"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=a0ee9382-59e4-59f6-918c-b84338a8cf94) |
| <code>scenarios > search applying search filters native query filter should not include results that contain native query data if the toggle is off</code> | The test timed out while trying to find an element with data-testid ""search-result-item-name"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=1004ec7b-fe60-523e-a329-9934e8341800) |
| <code>scenarios > search applying search filters native query filter should include results that contain native query data when the toggle is on</code> | The test timed out while trying to find an element with data-testid ""search-result-item-name"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=24d40b77-b090-5d9d-9159-c49e668a5386) |
| <code>scenarios > search applying search filters native query filter should hydrate search with search text and native query filter</code> | The test timed out while trying to find an element with data-testid ""search-result-item-name"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE&runId=4878b47a-01ae-508a-bf07-c7f48b085b8e) |

[... and 12 more](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52109?repo=metabase/metabase&commitHash=db28a9e02f4505ca7a062559141c77baa3b00232&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-05 02:58:06 UTC): ## e2e tests failed on `da92f2e3b22b44c46cec71441bea000ac7652315-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13149181007?pr=52109)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`search-filters.cy.spec.js` | scenarios > search > applying search filters > created_at filter > should filter results by Today (created_at=thisday)
`search-filters.cy.spec.js` | scenarios > search > applying search filters > created_at filter > should remove created_at filter when `X` is clicked on search filter
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results
`search-filters.cy.spec.js` | scenarios > search > applying search filters > last_edited_at filter > should filter results by Today (last_edited_at=thisday)
`search-filters.cy.spec.js` | scenarios > search > applying search filters > last_edited_at filter > should remove last_edited_at filter when `X` is clicked on search filter
`search-filters.cy.spec.js` | scenarios > search > applying search filters > verified filter > should hydrate search with search text and verified filter
and more... | and more...

"
2787339693,pull_request,closed,,Run search index worker on every instance,"This should fix the issue where items are not always indexed for search in almost-realtime.

It should also fix a memory leak where all the instances without the job running never have messages consumed off their unbounded queues.",crisptrutski,2025-01-14 14:38:54+00:00,['crisptrutski'],2025-01-14 16:10:38+00:00,2025-01-14 15:27:00+00:00,https://github.com/metabase/metabase/pull/52108,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2590199634, 'issue_id': 2787339693, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116724_tests-e76cf129-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc35840-b090-52eb-ba7c-311ac31031ac) |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE&runId=26481498-2235-5ea9-aa8b-4eac549a74ca) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 15, 14, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 15:14:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116724_tests-e76cf129-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc35840-b090-52eb-ba7c-311ac31031ac) |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment&runConclusion=FAILURE&runId=26481498-2235-5ea9-aa8b-4eac549a74ca) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52108?repo=metabase/metabase&commitHash=e76cf129cea49e8242ff4111a9ed033136efe840&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787329544,pull_request,closed,,Update mysql.md,Add a note about vitess and planetscale,paoliniluis,2025-01-14 14:35:57+00:00,['paoliniluis'],2025-01-22 07:20:41+00:00,2025-01-15 20:51:19+00:00,https://github.com/metabase/metabase/pull/52107,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2787248165,pull_request,closed,,"🤖 backported ""fix mobile text cards height""",#52062,github-automation-metabase,2025-01-14 14:12:39+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-14 15:35:07+00:00,2025-01-14 14:58:09+00:00,https://github.com/metabase/metabase/pull/52105,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590031647, 'issue_id': 2787248165, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bb6db86f3d1ae1c782a7759515ca919d2e728bb8...88dbe1138180367723f021e51745a81ea3d387a3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/shared/utils/sizes.ts |', 'created_at': datetime.datetime(2025, 1, 14, 14, 14, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590116842, 'issue_id': 2787248165, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51569_tests-88dbe113-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > models > actions should allow CRUD operations on model actions</code> | Unable to find an element with the specified text, possibly due to it being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=FAILURE&runId=54b34956-a8bf-57f4-ae59-b88c77f29746) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 14, 45, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 14:14:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bb6db86f3d1ae1c782a7759515ca919d2e728bb8...88dbe1138180367723f021e51745a81ea3d387a3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/shared/utils/sizes.ts |

trunk-io[bot] on (2025-01-14 14:45:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51569_tests-88dbe113-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > models > actions should allow CRUD operations on model actions</code> | Unable to find an element with the specified text, possibly due to it being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment&runConclusion=FAILURE&runId=54b34956-a8bf-57f4-ae59-b88c77f29746) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52105?repo=metabase/metabase&commitHash=88dbe1138180367723f021e51745a81ea3d387a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787233666,pull_request,closed,,"🤖 backported ""Fix module errors when Embedding SDK Cypress tests running in dev mode""",#52093,github-automation-metabase,2025-01-14 14:08:12+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-14 15:32:47+00:00,2025-01-14 14:42:00+00:00,https://github.com/metabase/metabase/pull/52104,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2590116414, 'issue_id': 2787233666, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13333_tests-d4286088-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 14, 45, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 14:45:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13333_tests-d4286088-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52104?repo=metabase/metabase&commitHash=d4286088ec19d9516c3e64749fffd5b9e1170384&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787196153,pull_request,closed,,optimize matrix builder,"### Description

Ain’t much, but it’s honest work. `yarn add underscore` takes minute and a half from the overal E2E tests pipeline. pretty much everything runs in instant for this action but the installation takes 97% of the time. underscore is installed just for the usage of chunk function, so instead we can write it manually and save some time

### How to verify

Passing tests should be enough",filiphric,2025-01-14 13:54:31+00:00,['filiphric'],2025-01-15 08:47:59+00:00,2025-01-15 07:49:45+00:00,https://github.com/metabase/metabase/pull/52101,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2590301223, 'issue_id': 2787196153, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3642_tests-73afcdbc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native (editing test just to see if it runs) displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE&runId=35af5666-068e-5dbb-9d12-1480c394ab54) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE&runId=f24e8e77-c480-583e-82f1-2a82bb226379) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 15, 47, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 15:47:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3642_tests-73afcdbc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native (editing test just to see if it runs) displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE&runId=35af5666-068e-5dbb-9d12-1480c394ab54) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment&runConclusion=FAILURE&runId=f24e8e77-c480-583e-82f1-2a82bb226379) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52101?repo=metabase/metabase&commitHash=73afcdbc4474f1169dd58dc8538a497b45130c1f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787158775,pull_request,closed,,"🤖 backported ""fix: correct layout of viz settings on dashboard with reduced motion""",#51960,github-automation-metabase,2025-01-14 13:40:41+00:00,"['uladzimirdev', 'github-automation-metabase']",2025-01-20 17:40:43+00:00,2025-01-20 16:43:10+00:00,https://github.com/metabase/metabase/pull/52100,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2589942382, 'issue_id': 2787158775, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7f821ff352844c5bc8b521134a974a3e5b5d0636...dac0f6ede72c5c858aac41b280d34af64a1e2e43.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/DashboardChartSettings/DashboardChartSettings.tsx |', 'created_at': datetime.datetime(2025, 1, 14, 13, 42, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590043089, 'issue_id': 2787158775, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13632_tests-dac0f6ed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 14, 18, 32, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-14 13:42:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7f821ff352844c5bc8b521134a974a3e5b5d0636...dac0f6ede72c5c858aac41b280d34af64a1e2e43.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/DashboardChartSettings/DashboardChartSettings.tsx |

trunk-io[bot] on (2025-01-14 14:18:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13632_tests-dac0f6ed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52100?repo=metabase/metabase&commitHash=dac0f6ede72c5c858aac41b280d34af64a1e2e43&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2787074082,pull_request,closed,,[WIP] target buttons instead of svg elements,"### Description

Instead of clicking on svg elements, we should click on buttons that are parent elements to those svg elements. This mitigates all flakes related to using `cy.icon`

Cypress has [actionability checks](https://docs.cypress.io/app/core-concepts/interacting-with-elements#Actionability). However, these happen on targeted elements. If we target svg inside a button, these actionability checks happen on svg, not the button. Potentially, you could find yourself in a situation where button is disabled, but click on the svg element happens anyway, resulting in a dead click

### How to verify

if tests pass, we should be good. Assumption here is that all elements targeted by `cy.icon()` command are buttons, that’s why this PR is WIP
",filiphric,2025-01-14 13:00:52+00:00,['filiphric'],2025-01-14 15:58:04+00:00,2025-01-14 14:51:32+00:00,https://github.com/metabase/metabase/pull/52098,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2589954272, 'issue_id': 2787074082, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1291_tests-09027686-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/122-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > query stages + temporal unit parameters applies filter to the the dashcard and allows to drill via dashcard heade...</code> | The expected element with class 'Icon-add' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=bbe17e54-0f6d-5bc1-9e7e-529262ec7732) |\n| <code>Write actions on model detail page (mysql) should allow implicit action execution from the model details page</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=57cfaadb-b151-5924-bc48-47a444c849d6) |\n| <code>Write actions on model detail page (mysql) should allow public sharing of implicit action and execution</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=a3946354-d209-5f6a-bd61-57b7a734e887) |\n| <code>Write actions on model detail page (mysql) should allow public sharing of query action and execution</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=c8da9966-e067-5b85-a990-2793dd0d1f73) |\n\n[... and 118 more](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > models > actions should allow CRUD operations on model actions</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=c851d603-3253-52d3-9db8-12452e1f9c41) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 13, 47, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590133439, 'issue_id': 2787074082, 'author': 'filiphric', 'body': 'nevermind', 'created_at': datetime.datetime(2025, 1, 14, 14, 51, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 13:47:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1291_tests-09027686-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/122-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > query stages + temporal unit parameters applies filter to the the dashcard and allows to drill via dashcard heade...</code> | The expected element with class 'Icon-add' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=bbe17e54-0f6d-5bc1-9e7e-529262ec7732) |
| <code>Write actions on model detail page (mysql) should allow implicit action execution from the model details page</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=57cfaadb-b151-5924-bc48-47a444c849d6) |
| <code>Write actions on model detail page (mysql) should allow public sharing of implicit action and execution</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=a3946354-d209-5f6a-bd61-57b7a734e887) |
| <code>Write actions on model detail page (mysql) should allow public sharing of query action and execution</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=c8da9966-e067-5b85-a990-2793dd0d1f73) |

[... and 118 more](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > models > actions should allow CRUD operations on model actions</code> | The expected element with class 'Icon-ellipsis' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment&runConclusion=FAILURE&runId=c851d603-3253-52d3-9db8-12452e1f9c41) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52098?repo=metabase/metabase&commitHash=0902768608aac46dcadc669c0f0f840d6b635097&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

filiphric (Issue Creator) on (2025-01-14 14:51:32 UTC): nevermind

"
2786977837,pull_request,closed,,[Databricks] Make dataset loading chunk-size dynamic,"Follow up for https://github.com/metabase/metabase/pull/50642 and https://github.com/metabase/metabase/pull/51476 and https://github.com/metabase/metabase/pull/51693.

Because of second and third linked PRs were backported, this also has to be backported.

Databricks jdbc driver of version `2.6.40` has statement parameter limit 256. The upgrade to that version disabled our ability to load test datasets in some circumstances. This change ensures that test loading code won't exceed that limit.

Aside, `test-data` loads in +20 minutes with this limitation, but thanks to reuse of datasets between CI runs, only development is affected. Specifically, addition of new dataset during development.",lbrdnk,2025-01-14 12:10:41+00:00,['lbrdnk'],2025-01-18 11:15:26+00:00,2025-01-17 20:51:06+00:00,https://github.com/metabase/metabase/pull/52097,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('.Team/Drivers', '')]","[{'comment_id': 2589815957, 'issue_id': 2786977837, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/109798_tests-8ba47fce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=FAILURE&runId=396c2aa7-9bb0-5b68-a98f-a80f38bc758a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 12, 42, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 12:42:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/109798_tests-8ba47fce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment&runConclusion=FAILURE&runId=396c2aa7-9bb0-5b68-a98f-a80f38bc758a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52097?repo=metabase/metabase&commitHash=8ba47fce22c606f310b185d3f34d1995a859ddb1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786963835,pull_request,closed,,fix(sdk): fix data picker crash by using mantine popover,"Closes https://github.com/metabase/metabase/issues/51906

### Description

Rendering the data picker in the starter kit (https://github.com/metabase/metabase-nodejs-react-sdk-embedding-sample) such as with `<CreateQuestion />` or with `InteractiveQuestion.Editor` causes the following crash.

```tsx
Error: Tether Error: Both element and target must be defined
    at tether.js:700:1
    at Array.forEach (<anonymous>)
    at TetherClass2.setOptions (tether.js:698:1)
    at new TetherClass2 (tether.js:640:1)
    at Popover._setTetherOptions (Popover.jsx:293:1)
    at Popover._getBestAttachmentOptions (Popover.jsx:338:1)
    at Popover.updateComponentPosition (Popover.jsx:145:1)
    at Popover.componentDidMount (Popover.jsx:121:1)
    at invokeLayoutEffectMountInDEV (react-dom.development.js:25172:22)
    at invokeEffectsInDev (react-dom.development.js:27390:11)
```

Note that this crash cannot be reproduced in both the Storybook environment and in the [Shoppy demo app](https://embedded-analytics-sdk-demo.metabase.com) - it only happens in our starter kit.

A similar popover error happened before in https://github.com/metabase/metabase/issues/45488 in the parameter popover, and Oisin fixed this in in https://github.com/metabase/metabase/pull/45671 by replacing the legacy Popover with Mantine's. To quote Oisin:

> In the PopoverWithTrigger that we were using, there are issues with the usage of Tether (for a reason I still can't figure out) that cause the referred target to turn to null - something to the effect of the target component unmounting causes this error. The solution here is to get rid of this PopoverWithTrigger and replace it with the Mantine popover, which hasn't given us any issues on the SDK so far, so I felt it was a better option than attempt to debug deprecated code.

### How to verify

In the Embedding SDK

- Render the `<CreateQuestion />` component (or `InteractiveQuestion` with `InteractiveQuestion.Editor`)
- Run the demo again. It should crash
- Setup the starter kit via https://github.com/metabase/metabase-nodejs-react-sdk-embedding-sample
- Build the module locally via `yarn build-embedding-sdk`
- Link the locally built package to the starter kit.
   - Example: `rm -rf node_modules/.vite && rm -rf node_modules/@metabase/ && yarn add file:../../metabase/resources/embedding-sdk && env NODE_OPTIONS=""--max-old-space-size=7000"" yarn dev`. Tweak this to match your own folder structure.
- Run the demo again. It should no longer crash.

In the Metabase app

- Create a new SQL question
- The database dropdown should work as expected with no visual glitches

### Demo

<img src=""https://github.com/user-attachments/assets/825ac164-10f0-4014-9f6e-59dce4d1672d"" width=""300"">

<img src=""https://github.com/user-attachments/assets/1d706b1b-f91f-4289-9a47-edb1a474afd3"" width=""300"">

<img src=""https://github.com/user-attachments/assets/26e3c0c8-b8e4-4c0a-ba7f-304673d22739"" width=""300"">

The database dropdown in the SQL editor looks and works as before in the main Metabase app

![CleanShot 2568-01-15 at 19 28 02@2x](https://github.com/user-attachments/assets/9ce6e105-4484-4519-8807-45ea3c0cdb72)


",heypoom,2025-01-14 12:03:21+00:00,['heypoom'],2025-01-15 14:14:53+00:00,2025-01-15 13:43:52+00:00,https://github.com/metabase/metabase/pull/52096,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2589879632, 'issue_id': 2786963835, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13375_tests-8bb5bafe-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=6793978d-8966-58a6-ae0e-a899d5faf649) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=38795145-324a-5ada-bff4-2b9aa906c10c) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=10b2a0eb-af0b-5467-8b15-c37e1a04b406) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=23ea2550-32d9-570c-9e11-afb372e04415) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 13, 13, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592569182, 'issue_id': 2786963835, 'author': 'heypoom', 'body': 'Ouch, the DataSelector components are also used by the native query editor and FilteredToUrlTable, not just the LegacyDataPicker used by embedding, and this PR would have wrecked both if we merged it as-is. Thankfully the E2E and unit tests caught this early before we merge 😨 \r\n\r\n![CleanShot 2568-01-15 at 18 59 52@2x](https://github.com/user-attachments/assets/55282ae7-c5a1-4dd2-bc97-3c14f2546987)\r\n\r\nLet me fix this so it works with the native query editor too.', 'created_at': datetime.datetime(2025, 1, 15, 12, 1, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 13:13:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13375_tests-8bb5bafe-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=6793978d-8966-58a6-ae0e-a899d5faf649) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=38795145-324a-5ada-bff4-2b9aa906c10c) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=10b2a0eb-af0b-5467-8b15-c37e1a04b406) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=23ea2550-32d9-570c-9e11-afb372e04415) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52096?repo=metabase/metabase&commitHash=8bb5bafe0730b29ac8407545b659a3619a872cf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2025-01-15 12:01:26 UTC): Ouch, the DataSelector components are also used by the native query editor and FilteredToUrlTable, not just the LegacyDataPicker used by embedding, and this PR would have wrecked both if we merged it as-is. Thankfully the E2E and unit tests caught this early before we merge 😨 

![CleanShot 2568-01-15 at 18 59 52@2x](https://github.com/user-attachments/assets/55282ae7-c5a1-4dd2-bc97-3c14f2546987)

Let me fix this so it works with the native query editor too.

"
2786939996,pull_request,closed,,Add a warning/disclaimer for H2 uploads,"Resolves #52094

## Demo
https://github.com/user-attachments/assets/cfe1e763-b9e2-4b11-aaeb-61de318946e1

",nemanjaglumac,2025-01-14 11:50:14+00:00,['nemanjaglumac'],2025-01-16 17:06:51+00:00,2025-01-16 17:06:49+00:00,https://github.com/metabase/metabase/pull/52095,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2589818456, 'issue_id': 2786939996, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13312_tests-06732d01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE&runId=45d0b296-0288-5892-8331-798e5c9cc57e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE&runId=f0e5672a-683b-54c7-a7bf-aec2a0110365) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 12, 43, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 12:43:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13312_tests-06732d01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE&runId=45d0b296-0288-5892-8331-798e5c9cc57e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment&runConclusion=FAILURE&runId=f0e5672a-683b-54c7-a7bf-aec2a0110365) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52095?repo=metabase/metabase&commitHash=06732d01d5e8d49748a39af1c6c38d9dfa136e54&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786909321,pull_request,closed,,Fix module errors when Embedding SDK Cypress tests running in dev mode,"Fixes https://github.com/metabase/metabase/issues/51930

For some reason, the default `moduleIds: 'named'` setting breaks Cypress tests when `development` mode is enabled,
so we use a different value instead.",sanex3339,2025-01-14 11:33:51+00:00,['sanex3339'],2025-01-14 14:07:07+00:00,2025-01-14 14:07:05+00:00,https://github.com/metabase/metabase/pull/52093,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2589751823, 'issue_id': 2786909321, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12984_tests-0677164e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=84c915b8-7e3c-562f-ae2b-45b62bd7dfd9) |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute \'aria-current\' with value \'true\' was not found in an HTML element, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=7c0b564c-81b6-5203-baa6-f6fd2ea9deac) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=78521a37-7bae-5202-ae51-54b7fca00b2f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=3e5f2bb7-315d-5c2c-a3a6-631315c7d355) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 12, 10, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589751825, 'issue_id': 2786909321, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12984_tests-0677164e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=84c915b8-7e3c-562f-ae2b-45b62bd7dfd9) |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute \'aria-current\' with value \'true\' was not found in an HTML element, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=7c0b564c-81b6-5203-baa6-f6fd2ea9deac) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=78521a37-7bae-5202-ae51-54b7fca00b2f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=3e5f2bb7-315d-5c2c-a3a6-631315c7d355) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 12, 10, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 12:10:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12984_tests-0677164e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=84c915b8-7e3c-562f-ae2b-45b62bd7dfd9) |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=7c0b564c-81b6-5203-baa6-f6fd2ea9deac) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=78521a37-7bae-5202-ae51-54b7fca00b2f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=3e5f2bb7-315d-5c2c-a3a6-631315c7d355) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-14 12:10:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12984_tests-0677164e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=84c915b8-7e3c-562f-ae2b-45b62bd7dfd9) |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=7c0b564c-81b6-5203-baa6-f6fd2ea9deac) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=78521a37-7bae-5202-ae51-54b7fca00b2f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment&runConclusion=FAILURE&runId=3e5f2bb7-315d-5c2c-a3a6-631315c7d355) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52093?repo=metabase/metabase&commitHash=0677164e98d9c4d868cb3340756b865b3fe1ea50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786824319,pull_request,closed,,"🤖 backported ""Update error colors following the new design""",#52029,github-automation-metabase,2025-01-14 10:50:10+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-14 12:15:52+00:00,2025-01-14 11:35:31+00:00,https://github.com/metabase/metabase/pull/52091,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2589693057, 'issue_id': 2786824319, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51577_tests-9179f4ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=FAILURE&runId=30f654d2-65eb-5e11-a5b4-ebbf41549f09) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 11, 40, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 11:40:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51577_tests-9179f4ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment&runConclusion=FAILURE&runId=30f654d2-65eb-5e11-a5b4-ebbf41549f09) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52091?repo=metabase/metabase&commitHash=9179f4caad7510bfd8b8568ea7ecaeaf89c29903&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786569590,pull_request,closed,,[Notification] send emails about alerts when update card,epic: https://github.com/metabase/metabase/issues/50766,qnkhuat,2025-01-14 08:44:39+00:00,['qnkhuat'],2025-01-17 05:13:18+00:00,2025-01-17 03:57:36+00:00,https://github.com/metabase/metabase/pull/52087,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2589385663, 'issue_id': 2786569590, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112725_tests-1c8cc6b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/24-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-materialized-views-test</code> | The connection to Redshift has been closed, preventing the fetch of materialized views. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=3e1f3115-8e73-5cb8-8bfd-c38ccad14cc3) |\n| <code>every-model-is-supported-test</code> | The expected set of known models does not match the actual set. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=b1beeb32-e222-52bd-9543-926f9335aac6) |\n| <code>every-model-is-supported-test</code> | The expected set of known models does not match the actual set. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=a66036f8-6f2d-5cfa-8eea-0cedb394fc15) |\n| <code>all-models-are-accounted-for-test</code> | failure\\_text: resolution\\_test.clj:31:model/NotificationCardmetabase.models.resolution/model->namespace should have a mapping for :model/Notificat... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=fed07f91-4cc5-579b-b9de-1a01342b2afc) |\n\n[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=49cd7d52-73f0-5713-8c48-6c9a3ba6c0c1) |\n| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=0ba25651-f9a4-5819-81fe-af69799f84ac) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=e3605101-c926-5a45-b33a-286363025b88) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=ce6c1c68-8be8-58e3-8a04-dfb0cd1166de) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 9, 11, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 09:11:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112725_tests-1c8cc6b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/24-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-materialized-views-test</code> | The connection to Redshift has been closed, preventing the fetch of materialized views. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=3e1f3115-8e73-5cb8-8bfd-c38ccad14cc3) |
| <code>every-model-is-supported-test</code> | The expected set of known models does not match the actual set. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=b1beeb32-e222-52bd-9543-926f9335aac6) |
| <code>every-model-is-supported-test</code> | The expected set of known models does not match the actual set. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=a66036f8-6f2d-5cfa-8eea-0cedb394fc15) |
| <code>all-models-are-accounted-for-test</code> | failure\_text: resolution\_test.clj:31:model/NotificationCardmetabase.models.resolution/model->namespace should have a mapping for :model/Notificat... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=fed07f91-4cc5-579b-b9de-1a01342b2afc) |

[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=49cd7d52-73f0-5713-8c48-6c9a3ba6c0c1) |
| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=0ba25651-f9a4-5819-81fe-af69799f84ac) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=e3605101-c926-5a45-b33a-286363025b88) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE&runId=ce6c1c68-8be8-58e3-8a04-dfb0cd1166de) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52087?repo=metabase/metabase&commitHash=1c8cc6b970b84f84ea12d9bf323fb2b663d2e794&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786510867,pull_request,closed,,"🤖 backported ""Fix - Removing the source filter from a linked filter will leave the latter broken""",#52034,github-automation-metabase,2025-01-14 08:11:23+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-14 09:18:33+00:00,2025-01-14 08:48:22+00:00,https://github.com/metabase/metabase/pull/52086,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2589319880, 'issue_id': 2786510867, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13333_tests-0391dbc8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 8, 39, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589319888, 'issue_id': 2786510867, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1199_tests-0391dbc8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 8, 39, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 08:39:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13333_tests-0391dbc8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-14 08:39:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1199_tests-0391dbc8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52086?repo=metabase/metabase&commitHash=0391dbc8e7603a159753b35f6eefcb1eda3ef7b7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786353983,pull_request,closed,,Handle stale search index tracking gracefully for h2,"In production, there is coordination around replacing the index table so that all instances have moved over before we delete the old one.

In tests, we do all sorts of things, like spin up new empty h2 databases, or nuke tables directly. In order to handle this, we respond to database write failures by refreshing our tracking atom to make sure we weren't pointing at a non-existent table.

This updates the conditional exception handling to know about the class used by H2.",crisptrutski,2025-01-14 06:17:26+00:00,['crisptrutski'],2025-01-16 10:23:19+00:00,2025-01-15 14:10:11+00:00,https://github.com/metabase/metabase/pull/52084,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2589149795, 'issue_id': 2786353983, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120588_tests-5478c459-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=9871bb9e-ce64-5ee1-9272-be97530f27cb) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=cfe8a83c-b15e-5ec2-891e-0d38d7561ea7) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual value is a map with different structure. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=8fa4c595-5c77-592f-a102-ec10101d718a) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=ee69ee4e-70ab-5c13-bf66-86c422cef7cf) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 6, 42, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 06:42:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120588_tests-5478c459-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=9871bb9e-ce64-5ee1-9272-be97530f27cb) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=cfe8a83c-b15e-5ec2-891e-0d38d7561ea7) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual value is a map with different structure. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=8fa4c595-5c77-592f-a102-ec10101d718a) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment&runConclusion=FAILURE&runId=ee69ee4e-70ab-5c13-bf66-86c422cef7cf) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52084?repo=metabase/metabase&commitHash=5478c4591e5b40f531d1233054705efd10257349&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786239957,pull_request,closed,,Add Kondo linter to make sure defmultis have arglists,We really need to put arglists metadata on defmultis so it's not a gigantic mystery what arguments they take. Add a Kondo linter to enforce this.,camsaul,2025-01-14 04:48:27+00:00,['camsaul'],2025-01-27 22:11:22+00:00,2025-01-17 19:48:55+00:00,https://github.com/metabase/metabase/pull/52083,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2589018297, 'issue_id': 2786239957, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121764_tests-30731f52-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=051b7468-0943-5a51-80e3-bc95154a5480) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=16bc7ac3-f33e-579b-86ae-78d4219aecfc) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=53ff2fff-fca6-5faf-8ba5-d97184dd38ca) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=f975f4d8-5ced-519f-b858-851fd8215b81) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 5, 12, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589018301, 'issue_id': 2786239957, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/46029_tests-08ccf553-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 5, 12, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 05:12:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121764_tests-30731f52-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=051b7468-0943-5a51-80e3-bc95154a5480) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=16bc7ac3-f33e-579b-86ae-78d4219aecfc) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=53ff2fff-fca6-5faf-8ba5-d97184dd38ca) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE&runId=f975f4d8-5ced-519f-b858-851fd8215b81) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=30731f521456ec5f0957fc31e66ebc535764d0bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-14 05:12:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/46029_tests-08ccf553-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52083?repo=metabase/metabase&commitHash=08ccf55339f386d222e4c6cbdfd1c55c39a75cc4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786124249,pull_request,closed,,Unrevert #52018,"So tests on `master` are super flaky today with lots of failures like

```
Unique index or primary key violation: ""PUBLIC.SEARCH_INDEX__C602B4CE_9672_4B83_B2AD_DA78D5771DF9_IDENTITY_ID ...
```

I though #52018 was the cause of the flakes and reverted it in #52080 to unblock everyone's PRs, however after reverting it I'm still running into the same test failures in #52074 and elsewhere. So something else is the culprit.",camsaul,2025-01-14 03:19:14+00:00,['camsaul'],2025-01-27 22:11:48+00:00,2025-01-14 22:10:36+00:00,https://github.com/metabase/metabase/pull/52082,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588884046, 'issue_id': 2786124249, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113467_tests-4c1c1981-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=FAILURE&runId=df6e5b30-715e-5dfe-88b4-de3ccb8f372e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 3, 50, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 03:50:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113467_tests-4c1c1981-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment&runConclusion=FAILURE&runId=df6e5b30-715e-5dfe-88b4-de3ccb8f372e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52082?repo=metabase/metabase&commitHash=4c1c19814efcb179af73a261870d6bf5a0b9a3d5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2786099292,pull_request,open,,Improve Table visualization,"Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

<video src=""https://github.com/user-attachments/assets/25754ff3-6fac-4b7d-81cf-f09f8dd5aa95"" />

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-14 02:59:02+00:00,['alxnddr'],2025-02-06 18:08:29+00:00,,https://github.com/metabase/metabase/pull/52081,"[('.Team/DashViz', 'Dashboard and Viz team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2608571393, 'issue_id': 2786099292, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22975_tests-a07a3d07-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/508-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>converting question to SQL (metabase\\#12651, metabase\\#21615, metabase\\#32121, metabase\\#40422) should be possible to save a question based on a ta...</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=af90b984-efcc-530c-a361-642e85b7472c) |\n| <code>converting question to SQL (metabase\\#12651, metabase\\#21615, metabase\\#32121, metabase\\#40422) should be possible to save a question based on anot...</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=ef36f1f0-33f0-55c7-b556-f90a8fa4d581) |\n| <code>scenarios > question > notebook > native query preview sidebar smoke test: should show the preview sidebar, update it, persist it and close it</code> | The test timed out while trying to find an element with data-testid ""header-cell"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=4d550ce4-257a-5a33-a778-60b40db85dfb) |\n| <code>scenarios > question > offset when expression contains a standard function with offset works with 3 breakouts</code> | cy.wait() timed out waiting for the first request to the route \'dataset\' to occur, but no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=c9a8491c-c6b9-5c4d-bc00-3bc65db299aa) |\n\n[... and 504 more](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=cb22424d-2e45-5f12-9430-6c9afd53ab21) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 0, 28, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640339597, 'issue_id': 2786099292, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit a07a3d07defa164e3e6b7f1224641d020d02b695.\n✅ Preview:\n    https://pr52081.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 2, 6, 16, 29, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640342781, 'issue_id': 2786099292, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a07a3d07defa164e3e6b7f1224641d020d02b695-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13183171547?pr=52081)\n\n  File | Test Name\n  ---- | ---------\n  `cc-boolean-functions.cy.spec.ts` | scenarios > custom column > boolean functions > expression editor > isNull\n`filters-reproductions.cy.spec.js` | issue 9339 > should not paste non-numeric values into single-value numeric filters (metabase#9339)\n`temporal-unit-parameters.cy.spec.js` | scenarios > dashboard > temporal unit parameters > mapping targets > should connect a parameter to a question and drill thru\n`relative-datetime.cy.spec.js` | scenarios > question > relative-datetime > starting from > should work with Past filters (minutes ago)\n`filter.cy.spec.js` | scenarios > question > filter > should filter based on remapped values (metabase#13235)\n`filters-reproductions.cy.spec.js` | issue 16621 > should be possible to create multiple filter that start with the same value (metabase#16621)\n`relative-datetime.cy.spec.js` | scenarios > question > relative-datetime > starting from > should work with Past filters (hours ago)\n`reproductions.cy.spec.ts` | issue 29943 > selects the right column when clicking a column header (metabase#29943)\n`reproductions-3.cy.spec.js` | issue 38176 > restoring a question to a previous version should preserve the variables (metabase#38176)\n`custom-column.cy.spec.js` | scenarios > question > custom column > should not return same results for columns with the same name (metabase#12649)\nand more... | and more...', 'created_at': datetime.datetime(2025, 2, 6, 16, 30, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 00:28:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22975_tests-a07a3d07-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/508-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>converting question to SQL (metabase\#12651, metabase\#21615, metabase\#32121, metabase\#40422) should be possible to save a question based on a ta...</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=af90b984-efcc-530c-a361-642e85b7472c) |
| <code>converting question to SQL (metabase\#12651, metabase\#21615, metabase\#32121, metabase\#40422) should be possible to save a question based on anot...</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=ef36f1f0-33f0-55c7-b556-f90a8fa4d581) |
| <code>scenarios > question > notebook > native query preview sidebar smoke test: should show the preview sidebar, update it, persist it and close it</code> | The test timed out while trying to find an element with data-testid ""header-cell"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=4d550ce4-257a-5a33-a778-60b40db85dfb) |
| <code>scenarios > question > offset when expression contains a standard function with offset works with 3 breakouts</code> | cy.wait() timed out waiting for the first request to the route 'dataset' to occur, but no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=c9a8491c-c6b9-5c4d-bc00-3bc65db299aa) |

[... and 504 more](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment&runConclusion=FAILURE&runId=cb22424d-2e45-5f12-9430-6c9afd53ab21) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52081?repo=metabase/metabase&commitHash=a07a3d07defa164e3e6b7f1224641d020d02b695&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-06 16:29:41 UTC): 👋 Deploying a preview environment for commit a07a3d07defa164e3e6b7f1224641d020d02b695.
✅ Preview:
    https://pr52081.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-02-06 16:30:56 UTC): ## e2e tests failed on `a07a3d07defa164e3e6b7f1224641d020d02b695-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13183171547?pr=52081)

  File | Test Name
  ---- | ---------
  `cc-boolean-functions.cy.spec.ts` | scenarios > custom column > boolean functions > expression editor > isNull
`filters-reproductions.cy.spec.js` | issue 9339 > should not paste non-numeric values into single-value numeric filters (metabase#9339)
`temporal-unit-parameters.cy.spec.js` | scenarios > dashboard > temporal unit parameters > mapping targets > should connect a parameter to a question and drill thru
`relative-datetime.cy.spec.js` | scenarios > question > relative-datetime > starting from > should work with Past filters (minutes ago)
`filter.cy.spec.js` | scenarios > question > filter > should filter based on remapped values (metabase#13235)
`filters-reproductions.cy.spec.js` | issue 16621 > should be possible to create multiple filter that start with the same value (metabase#16621)
`relative-datetime.cy.spec.js` | scenarios > question > relative-datetime > starting from > should work with Past filters (hours ago)
`reproductions.cy.spec.ts` | issue 29943 > selects the right column when clicking a column header (metabase#29943)
`reproductions-3.cy.spec.js` | issue 38176 > restoring a question to a previous version should preserve the variables (metabase#38176)
`custom-column.cy.spec.js` | scenarios > question > custom column > should not return same results for columns with the same name (metabase#12649)
and more... | and more...

"
2785984921,pull_request,closed,,Revert #52018 to fix failing tests,"Backend tests have been failing consistently on `master` today -- I've seen errors like 

```
Unique index or primary key violation: ""PUBLIC.SEARCH_INDEX__1E1868A0_2903_4A44_9E45_5F8C255DC829_IDENTITY_IDX ON PUBLIC.SEARCH_INDEX__1E1868A0_2903_4A44_9E45_5F8C255DC829(MODEL NULLS FIRST, MODEL_ID NULLS FIRST) VALUES ( /* key:306 */ 'table', 1)"";
```

on at least 10 separate branches -- I think it has to do with #52018. I think we should revert this for now so it unblocks everyone else, maybe Chris or someone else can look at it tomorrow.",camsaul,2025-01-14 01:59:54+00:00,['camsaul'],2025-01-27 22:11:47+00:00,2025-01-14 02:54:42+00:00,https://github.com/metabase/metabase/pull/52080,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588786075, 'issue_id': 2785984921, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113201_tests-9579542d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE&runId=20f1554c-0d02-5ce8-a288-5237f16578a7) |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE&runId=dfe3428c-3321-5abf-8912-1278693e3853) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE&runId=577ffd20-612d-59d3-ae40-3b0e8ee7aa38) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 2, 48, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 02:48:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113201_tests-9579542d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE&runId=20f1554c-0d02-5ce8-a288-5237f16578a7) |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE&runId=dfe3428c-3321-5abf-8912-1278693e3853) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment&runConclusion=FAILURE&runId=577ffd20-612d-59d3-ae40-3b0e8ee7aa38) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52080?repo=metabase/metabase&commitHash=9579542d28e369f109122fbd102dee73d4127f96&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785917265,pull_request,closed,,Replace FormFooter default export  with named export,Converts the default export of `FormFooter` to a named export,oisincoveney,2025-01-14 01:28:16+00:00,['oisincoveney'],2025-01-18 02:08:56+00:00,2025-01-18 00:30:33+00:00,https://github.com/metabase/metabase/pull/52079,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2588563921, 'issue_id': 2785917265, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52079 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 14, 1, 28, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588673600, 'issue_id': 2785917265, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13344_tests-838cb3b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=FAILURE&runId=a0d3ae2d-a8ee-5d11-bfed-ac20ccf1a4c5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 14, 2, 14, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593934407, 'issue_id': 2785917265, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 15, 21, 5, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593936380, 'issue_id': 2785917265, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 40e53d907bd7a0089e8407b6738b90a84ac7dbde...838cb3b3c9ac975fa0964a33e09e283a9933f595.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 15, 21, 6, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599403426, 'issue_id': 2785917265, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `838cb3b3c9ac975fa0964a33e09e283a9933f595-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838746939?pr=52079)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard', 'created_at': datetime.datetime(2025, 1, 18, 0, 16, 26, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-14 01:28:18 UTC): This change is part of the following stack:

- #52079 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

trunk-io[bot] on (2025-01-14 02:14:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13344_tests-838cb3b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment&runConclusion=FAILURE&runId=a0d3ae2d-a8ee-5d11-bfed-ac20ccf1a4c5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52079?repo=metabase/metabase&commitHash=838cb3b3c9ac975fa0964a33e09e283a9933f595&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-15 21:05:06 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2025-01-15 21:06:26 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 40e53d907bd7a0089e8407b6738b90a84ac7dbde...838cb3b3c9ac975fa0964a33e09e283a9933f595.

No notifications.

github-actions[bot] on (2025-01-18 00:16:26 UTC): ## e2e tests failed on `838cb3b3c9ac975fa0964a33e09e283a9933f595-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12838746939?pr=52079)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can save a native question to a dashboard

"
2785908714,pull_request,closed,,[Notification] add spec update tests ,"The original PR: https://github.com/metabase/metabase/pull/51630, it was approved then reverted due to wrong target branch.",qnkhuat,2025-01-14 01:24:01+00:00,[],2025-01-14 02:44:44+00:00,2025-01-14 01:25:00+00:00,https://github.com/metabase/metabase/pull/52078,[],"[{'comment_id': 2588617321, 'issue_id': 2785908714, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116567_tests-f60c4eba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE&runId=425cd095-b434-5825-b5cf-e98caad73d1e) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE&runId=43c2e675-c74a-5013-ad37-b87ab55f400a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 2, 0, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 02:00:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116567_tests-f60c4eba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE&runId=425cd095-b434-5825-b5cf-e98caad73d1e) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment&runConclusion=FAILURE&runId=43c2e675-c74a-5013-ad37-b87ab55f400a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52078?repo=metabase/metabase&commitHash=f60c4eba7b0cc875645547f7998621fd8685ae8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785896529,pull_request,closed,,Split super slow Redshift upload tests off into separate job,"As discussed [here](https://metaboat.slack.com/archives/C064EB1UE5P/p1736820575863999) Redshift tests take ~22 minutes, ~10 are for tests in `metabase.upload-test` and ~12 are for **everything** else. It doesn't sound like we have a fix coming in the near future so let's slap a bandaid on this and split it into two separate jobs for now

",camsaul,2025-01-14 01:16:20+00:00,['camsaul'],2025-01-27 22:11:25+00:00,2025-01-17 02:14:40+00:00,https://github.com/metabase/metabase/pull/52077,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588591035, 'issue_id': 2785896529, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97929_tests-56ef1056-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_7c4b6\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=FAILURE&runId=4b4dd571-ab20-52ed-9bbb-f959bea3ca50) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 1, 47, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 01:47:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97929_tests-56ef1056-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_7c4b6\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment&runConclusion=FAILURE&runId=4b4dd571-ab20-52ed-9bbb-f959bea3ca50) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52077?repo=metabase/metabase&commitHash=56ef1056d28a501670a74a56dd170a49a2da0528&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785881482,pull_request,closed,,fix(sdk): Add segmented button for chart settings,"Combines the visualization type and settings button into a segmented button. Here is each theme along with its hover state color

default theme:
<img width=""586"" alt=""image"" src=""https://github.com/user-attachments/assets/249579b7-e31f-4b63-9577-daa645f41a34"" />
<img width=""459"" alt=""image"" src=""https://github.com/user-attachments/assets/574083be-5d89-430d-b067-51afed83450c"" />


pug:
<img width=""620"" alt=""image"" src=""https://github.com/user-attachments/assets/aa2c68d7-74ee-4cb7-9fdb-461615f404bb"" />
<img width=""611"" alt=""image"" src=""https://github.com/user-attachments/assets/5ecc6bbd-049f-4226-a324-ce6bca101685"" />

stitch:
<img width=""590"" alt=""image"" src=""https://github.com/user-attachments/assets/b88667d1-de2d-42a8-aa51-c8fb4144ece1"" />
<img width=""611"" alt=""image"" src=""https://github.com/user-attachments/assets/0bb03994-201d-4ba4-86d0-1ce53b2a791f"" />


luninara
<img width=""606"" alt=""image"" src=""https://github.com/user-attachments/assets/eacd84fb-133e-4314-a4e5-3099fca1dcaf"" />
<img width=""605"" alt=""image"" src=""https://github.com/user-attachments/assets/55fd087f-78db-4018-bb57-c458d4756624"" />
",oisincoveney,2025-01-14 01:06:36+00:00,['oisincoveney'],2025-01-17 23:19:41+00:00,2025-01-15 21:10:42+00:00,https://github.com/metabase/metabase/pull/52076,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2588540170, 'issue_id': 2785881482, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52076 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 14, 1, 6, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588540658, 'issue_id': 2785881482, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 14, 1, 6, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588586694, 'issue_id': 2785881482, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12015_tests-31b5c93d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE&runId=548a5c31-0d1a-5fcf-aa1e-834c1f54d05a) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE&runId=9ce5d894-da08-5923-9d61-86514bfcdba1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 1, 44, 24, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-14 01:06:37 UTC): This change is part of the following stack:

- #52076 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-14 01:06:57 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-14 01:44:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12015_tests-31b5c93d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE&runId=548a5c31-0d1a-5fcf-aa1e-834c1f54d05a) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment&runConclusion=FAILURE&runId=9ce5d894-da08-5923-9d61-86514bfcdba1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52076?repo=metabase/metabase&commitHash=31b5c93db5bc487fb8d65732364d120b5764c1b8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785864725,pull_request,closed,,Convert CreateDashboardModal to new components,"Closes https://github.com/metabase/metabase/issues/52027

Converts the `CreateDashboardModal` component and its form to the new components within `metabase/forms` and `metabase/ui`. I'm doing this to ensure that the theming remains consistent within the SDK, which is using its own `CreateDashboardModal` component for creating... new dashboards. Buttons and text weren't matching up to the theming, so I went ahead and made the changes to the new components.

There are a few quirks, so let me know what you think. I also need to make sure that types are all good before submitting, of course.

To see the changes, you can:
- run `yarn embedding-dev:sdk`
- in another session, run `yarn storybook-embedding-sdk`
- once it loads, go to http://localhost:6006/?path=/story/embeddingsdk-createdashboardmodal--default

Or, just to `+ New` and click `Dashboard` in the core app, and you'll see the new modal.

Before:

<img width=""672"" alt=""image"" src=""https://github.com/user-attachments/assets/1453e57a-c359-4e46-8e03-66a50a2947cb"" />


After:

<img width=""658"" alt=""image"" src=""https://github.com/user-attachments/assets/22c62a4c-ac27-4a0d-909c-95cc0a4f0554"" />


The styling is different, but I didn't want to try and make the new styles look like the old styles, since we want to continue to pivot towards the design system.



---


**One issue**

The error state is a bit silly on the new form components, and it seems like we decided to do [something similar](https://www.figma.com/design/xdNKMROC99J6Z4Sqg6V3JI/Input-%2F-Switch?node-id=440-2071&t=TGgI2zrPgDOXD7K3-4) for the `Switch` component. I couldn't find anything on the error side for the text input, so @AlessioLaiso could you chime in on this one?

<img width=""753"" alt=""image"" src=""https://github.com/user-attachments/assets/52a6ee9f-e6b8-4735-8ab6-20933b3c86be"" />
",oisincoveney,2025-01-14 00:57:15+00:00,['oisincoveney'],2025-01-22 11:44:38+00:00,2025-01-17 22:14:28+00:00,https://github.com/metabase/metabase/pull/52075,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2588528644, 'issue_id': 2785864725, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52075 ◀\n    - #52079\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 14, 0, 57, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588528961, 'issue_id': 2785864725, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 14, 0, 57, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588530058, 'issue_id': 2785864725, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 72501e16e386608d100855d8448586ff7b32e076...50f75b96d3e8a4b086b7e28d304b4dbccdcc341f.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 14, 0, 58, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588583824, 'issue_id': 2785864725, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/56438_tests-50f75b96-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=1c118f75-106b-5f92-8c67-128f7f242285) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=29b90e9a-8712-5c2b-a04d-31904ef2d546) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=890edaaf-e507-5e44-bc11-c7e4875c36d8) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=fbeee750-b8e1-5bda-a940-0f91a7605569) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 1, 43, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590692292, 'issue_id': 2785864725, 'author': 'AlessioLaiso', 'body': ""On the error state of the text input component, there's a weird inconsistency between the component here (and Storybook) and Figma. I opened a thread in the Design team channel."", 'created_at': datetime.datetime(2025, 1, 14, 17, 43, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599054434, 'issue_id': 2785864725, 'author': 'oisincoveney', 'body': ""@heypoom for the luminara theme, I don't think this is an issue with the component but with the theme itself - the button uses a standard variant of the mantine styles"", 'created_at': datetime.datetime(2025, 1, 17, 19, 30, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607014229, 'issue_id': 2785864725, 'author': 'heypoom', 'body': '@oisincoveney yes, that was indeed an issue with Shoppy using the wrong theme values - fixed in https://github.com/metabase/shoppy/pull/95 🙏🏻', 'created_at': datetime.datetime(2025, 1, 22, 11, 39, 58, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-14 00:57:17 UTC): This change is part of the following stack:

- #52075 ◀
    - #52079

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-14 00:57:36 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2025-01-14 00:58:45 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 72501e16e386608d100855d8448586ff7b32e076...50f75b96d3e8a4b086b7e28d304b4dbccdcc341f.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |

trunk-io[bot] on (2025-01-14 01:43:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/56438_tests-50f75b96-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=1c118f75-106b-5f92-8c67-128f7f242285) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=29b90e9a-8712-5c2b-a04d-31904ef2d546) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=890edaaf-e507-5e44-bc11-c7e4875c36d8) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment&runConclusion=FAILURE&runId=fbeee750-b8e1-5bda-a940-0f91a7605569) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52075?repo=metabase/metabase&commitHash=50f75b96d3e8a4b086b7e28d304b4dbccdcc341f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

AlessioLaiso on (2025-01-14 17:43:05 UTC): On the error state of the text input component, there's a weird inconsistency between the component here (and Storybook) and Figma. I opened a thread in the Design team channel.

oisincoveney (Issue Creator) on (2025-01-17 19:30:04 UTC): @heypoom for the luminara theme, I don't think this is an issue with the component but with the theme itself - the button uses a standard variant of the mantine styles

heypoom on (2025-01-22 11:39:58 UTC): @oisincoveney yes, that was indeed an issue with Shoppy using the wrong theme values - fixed in https://github.com/metabase/shoppy/pull/95 🙏🏻

"
2785827059,pull_request,closed,,Split backend test jobs,"Split the Backend test jobs matrix from 6 jobs (3 Java versions times 2 editions, `ee` and `oss`) to 15 -- 3 Java versions times

1. Enterprise tests (ee + tests in `enterprise/backend/test`) -- these are pretty slow since they contain stuff like SerDes tests
2. EE App DB tests (ee + tests in `test`) -- 2 partitions
3. OSS App DB tests (oss + tests in `test`) -- 2 partitions

Each of these jobs are ~10 minutes",camsaul,2025-01-14 00:38:49+00:00,['camsaul'],2025-01-14 06:22:03+00:00,2025-01-14 05:37:46+00:00,https://github.com/metabase/metabase/pull/52074,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588547966, 'issue_id': 2785827059, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/151_tests-d53744b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 1, 13, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589042761, 'issue_id': 2785827059, 'author': 'camsaul', 'body': ""merging this into #52072 so I don't have to babysit 2 PRs"", 'created_at': datetime.datetime(2025, 1, 14, 5, 37, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 01:13:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/151_tests-d53744b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52074?repo=metabase/metabase&commitHash=d53744b285fbf0bfd45a5e091d0f79717745187e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

camsaul (Issue Creator) on (2025-01-14 05:37:46 UTC): merging this into #52072 so I don't have to babysit 2 PRs

"
2785696786,pull_request,closed,,"🤖 backported ""Single frontend check""",#52066,github-automation-metabase,2025-01-13 23:15:34+00:00,"['iethree', 'github-automation-metabase']",2025-01-14 00:37:16+00:00,2025-01-13 23:36:42+00:00,https://github.com/metabase/metabase/pull/52073,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2588478916, 'issue_id': 2785696786, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9941_tests-2882b169-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 0, 1, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 00:01:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9941_tests-2882b169-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52073?repo=metabase/metabase&commitHash=2882b1694be28a8496c5a42695cde97f05b4cee3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785677963,pull_request,closed,,Optimize Backend & Driver Tests,"- Consolidate CI configs for Mongo, Oracle, and SQL Server. This will make it easier to partition these jobs in the future
- Split off MySQL/MariaDB and Postgres enterprise tests into separate job
- Split up the backend tests a bit",camsaul,2025-01-13 23:05:59+00:00,['camsaul'],2025-01-27 22:11:56+00:00,2025-01-14 06:28:08+00:00,https://github.com/metabase/metabase/pull/52072,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588474017, 'issue_id': 2785677963, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113634_tests-91dd8057-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE&runId=c3701476-51d4-52ae-a872-18fdecb9d3c0) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE&runId=38b3a2ed-a9f0-52d1-8ef5-16493a319082) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 23, 51, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588514756, 'issue_id': 2785677963, 'author': 'camsaul', 'body': '> Could you also use the matrix to define the SSL jobs ?\r\n\r\nI was going to at first but those jobs actually have a lot of difference between them (the SSL jobs have lots of extra env vars and extra steps) so I kept them as separate for now.', 'created_at': datetime.datetime(2025, 1, 14, 0, 45, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 23:51:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113634_tests-91dd8057-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE&runId=c3701476-51d4-52ae-a872-18fdecb9d3c0) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment&runConclusion=FAILURE&runId=38b3a2ed-a9f0-52d1-8ef5-16493a319082) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52072?repo=metabase/metabase&commitHash=91dd8057b38a0392f556948de07ef1c5af89ef16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

camsaul (Issue Creator) on (2025-01-14 00:45:05 UTC): I was going to at first but those jobs actually have a lot of difference between them (the SSL jobs have lots of extra env vars and extra steps) so I kept them as separate for now.

"
2785620496,pull_request,closed,,Improved MySQL/MariaDB and Postgres test job partitioning,"- Instead of splitting the entire set of MySQL/MariaDB tests into 4 partitions, split them into one driver tests partition and two app DB test partitions -- this should result in a more even split and overall faster test times
- Postgres is currently split into two partitions: driver tests and app DB tests. Further split the app DB tests into two more partitions",camsaul,2025-01-13 22:37:18+00:00,['camsaul'],2025-01-27 22:11:57+00:00,2025-01-14 01:57:26+00:00,https://github.com/metabase/metabase/pull/52070,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588435158, 'issue_id': 2785620496, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111831_tests-0825c949-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=FAILURE&runId=f0e6cba3-ffc3-537e-9eb4-80cbdef2b388) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 23, 20, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 23:20:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111831_tests-0825c949-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment&runConclusion=FAILURE&runId=f0e6cba3-ffc3-537e-9eb4-80cbdef2b388) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52070?repo=metabase/metabase&commitHash=0825c9492530625c5a807a488e69e427228411af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785597662,pull_request,closed,,Split H2 app DB and driver test jobs,I think this should turn our ~30 minute job into a ~20 minute job and a ~10 minute job.,camsaul,2025-01-13 22:26:54+00:00,['camsaul'],2025-01-27 22:11:58+00:00,2025-01-13 23:36:30+00:00,https://github.com/metabase/metabase/pull/52069,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588429305, 'issue_id': 2785597662, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111453_tests-d70a31a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=FAILURE&runId=da0fe594-0023-59ce-8273-f09ad9770c09) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 13, 23, 17, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 23:17:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111453_tests-d70a31a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment&runConclusion=FAILURE&runId=da0fe594-0023-59ce-8273-f09ad9770c09) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52069?repo=metabase/metabase&commitHash=d70a31a84b5fab1475276d74de3c8e93cd5746ea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785587931,pull_request,closed,,"🤖 backported ""One driver check""",#52002,github-automation-metabase,2025-01-13 22:22:09+00:00,"['iethree', 'github-automation-metabase']",2025-01-23 21:18:42+00:00,2025-01-23 20:26:57+00:00,https://github.com/metabase/metabase/pull/52068,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2588450237, 'issue_id': 2785587931, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/117238_tests-2a61e173-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 23, 26, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 23:26:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/117238_tests-2a61e173-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52068?repo=metabase/metabase&commitHash=2a61e1734d4944ecf760e72e36d72dd4bec493e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785542195,pull_request,closed,,Single frontend check,"Similar to #52002  and #52065 , moves us to one frontend check, so we can add/remove jobs at will without messing with github required checks.",iethree,2025-01-13 21:59:51+00:00,['iethree'],2025-01-27 22:11:59+00:00,2025-01-13 23:14:39+00:00,https://github.com/metabase/metabase/pull/52066,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2785520185,pull_request,closed,,Single backend check,"Similar to #52002 , creates a single required check for all backend jobs to give us more flexibility in changing / updating them without needing to mess with github required checks.
",iethree,2025-01-13 21:51:04+00:00,['iethree'],2025-01-27 22:11:57+00:00,2025-01-14 00:04:32+00:00,https://github.com/metabase/metabase/pull/52065,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2588345990, 'issue_id': 2785520185, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/63570_tests-257a482d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 22, 22, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 22:22:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/63570_tests-257a482d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52065?repo=metabase/metabase&commitHash=257a482dc80d9190582ce8805045994ea01a4739&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785474785,pull_request,closed,,docs - refresh cache automatically,Documents automatic cache refresh for questions and dashboards.,jeff-bruemmer,2025-01-13 21:31:55+00:00,['jeff-bruemmer'],2025-01-27 22:11:30+00:00,2025-01-16 14:28:52+00:00,https://github.com/metabase/metabase/pull/52064,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2785384208,pull_request,closed,,Fix SCIM test failure,"Ensures that the `trashbird@metabase.com` is created before we run SCIM tests, since we're relying on it to be in the DB.

See https://metaboat.slack.com/archives/CKZEMT1MJ/p1736799063648689",noahmoss,2025-01-13 20:56:35+00:00,['noahmoss'],2025-01-16 19:54:33+00:00,2025-01-16 18:35:06+00:00,https://github.com/metabase/metabase/pull/52063,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2588182270, 'issue_id': 2785384208, 'author': 'noahmoss', 'body': '* **#52063** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52063?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52063?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 13, 20, 56, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588297174, 'issue_id': 2785384208, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/107472_tests-2b20d3e9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=FAILURE&runId=2069ff94-d1fb-5e83-879d-b70152a1f586) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 21, 52, 28, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-13 20:56:52 UTC): * **#52063** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52063?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52063?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-13 21:52:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/107472_tests-2b20d3e9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment&runConclusion=FAILURE&runId=2069ff94-d1fb-5e83-879d-b70152a1f586) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52063?repo=metabase/metabase&commitHash=2b20d3e9453f55460d82bd6c07dc1d3002bdb350&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785368232,pull_request,closed,,fix mobile text cards height,"Closes https://github.com/metabase/metabase/issues/35337

### Description

Text cards height on mobile dashboard layout was hardcoded to 2 rows which makes longer content hard to read. This PR makes mobile layout use the desktop hard height.

### How to verify

- Create a text dashboard card with long content, expand it to 5 rows
- Shrink screen size to see the mobile layout
- Ensure the card's height is still 5 rows

### Demo

<img width=""503"" alt=""Screenshot 2025-01-13 at 3 49 37 PM"" src=""https://github.com/user-attachments/assets/52e56547-1df7-4bc0-bce4-f5525260946d"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-13 20:49:49+00:00,['alxnddr'],2025-01-14 14:11:38+00:00,2025-01-14 14:11:36+00:00,https://github.com/metabase/metabase/pull/52062,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2588300201, 'issue_id': 2785368232, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40744_tests-81266687-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=FAILURE&runId=6e1ba03b-1dab-51f0-ad1c-ab10ec9b06f1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 21, 54, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 21:54:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40744_tests-81266687-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment&runConclusion=FAILURE&runId=6e1ba03b-1dab-51f0-ad1c-ab10ec9b06f1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52062?repo=metabase/metabase&commitHash=81266687684c067bbfc632d281536b22dd28f1e5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785346394,pull_request,closed,,"🤖 backported ""Refactor collection list query for performance""","  #51929
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-13 20:42:00+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-14 00:09:48+00:00,2025-01-13 22:27:43+00:00,https://github.com/metabase/metabase/pull/52061,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2588342203, 'issue_id': 2785346394, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3069_tests-97e9868d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 22, 19, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 22:19:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3069_tests-97e9868d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52061?repo=metabase/metabase&commitHash=97e9868d0e1be7b7eb2002cfd6ba8369acf02bf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785313270,pull_request,closed,,Skip migrations tests for non-core drivers,These tests are slow and we should skip them for driver tests besides Postgres/H2/MySQL. These tests were using `test-drivers` but really should have just been looking at `(mdb/db-type)` instead.,camsaul,2025-01-13 20:28:03+00:00,['camsaul'],2025-01-27 22:11:51+00:00,2025-01-14 19:20:18+00:00,https://github.com/metabase/metabase/pull/52060,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2588242276, 'issue_id': 2785313270, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110922_tests-8b7eb558-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>order-by-test</code> | The query result set was closed, preventing further processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE&runId=0107e736-d5a2-5c83-aa3a-6176747424ca) |\n| <code>bin-two-columns-test</code> | The query result set was closed unexpectedly, preventing further processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE&runId=2d304521-7e75-59a1-91cb-7b9378169690) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 21, 21, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 21:21:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110922_tests-8b7eb558-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>order-by-test</code> | The query result set was closed, preventing further processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE&runId=0107e736-d5a2-5c83-aa3a-6176747424ca) |
| <code>bin-two-columns-test</code> | The query result set was closed unexpectedly, preventing further processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment&runConclusion=FAILURE&runId=2d304521-7e75-59a1-91cb-7b9378169690) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52060?repo=metabase/metabase&commitHash=8b7eb5583999721e42f7f944c8f37b8bbb4c37a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785298620,pull_request,closed,,Return metric IDs as plain integers instead of card__<id>,"See https://metaboat.slack.com/archives/C07SJT1P0ET/p1736237110786299?thread_ts=1735243354.390349&cid=C07SJT1P0ET for context.
",metamben,2025-01-13 20:21:44+00:00,['metamben'],2025-01-15 20:52:39+00:00,2025-01-15 20:52:37+00:00,https://github.com/metabase/metabase/pull/52059,"[('.Team/Querying', '')]","[{'comment_id': 2588174360, 'issue_id': 2785298620, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122581_tests-de6ca442-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE&runId=3518268e-147a-5705-8084-7d00f857c270) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE&runId=fff280e8-7bcd-5eb3-b9f0-f58ad5d7fdcc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 20, 52, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 20:52:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122581_tests-de6ca442-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE&runId=3518268e-147a-5705-8084-7d00f857c270) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment&runConclusion=FAILURE&runId=fff280e8-7bcd-5eb3-b9f0-f58ad5d7fdcc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52059?repo=metabase/metabase&commitHash=de6ca4420cb93e96ee4d73b760dabd5634291de4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785269725,pull_request,closed,,[Deets in Sheets]: Relationships tab,"This PR adds a Relationships tab to the question info sidesheet that shows where the question/model is used, and which tables are linked to it.

![image](https://github.com/user-attachments/assets/ccfb3e8e-923f-41b7-a45f-ca171141695d)
",rafpaf,2025-01-13 20:11:32+00:00,['rafpaf'],2025-01-27 22:10:48+00:00,2025-01-22 21:30:07+00:00,https://github.com/metabase/metabase/pull/52057,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2588097954, 'issue_id': 2785269725, 'author': 'rafpaf', 'body': '* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4  dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other) 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 13, 20, 11, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588114535, 'issue_id': 2785269725, 'author': 'graphite-app[bot]', 'body': '### Graphite Automations\n<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/13/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau\'s automation.</p></details>', 'created_at': datetime.datetime(2025, 1, 13, 20, 20, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588170816, 'issue_id': 2785269725, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3681_tests-854d5df3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 20, 50, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608231275, 'issue_id': 2785269725, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `625f7302d0f40f32f746f0b3b4c452d707a16a27-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916401552?pr=52057)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-dashboard.cy.spec.js` | scenarios > metrics > dashboard > should be possible to add metrics to a dashboard', 'created_at': datetime.datetime(2025, 1, 22, 20, 47, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608309503, 'issue_id': 2785269725, 'author': 'rafpaf', 'body': '### Merge activity\n\n* **Jan 22, 4:30 PM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/52057).', 'created_at': datetime.datetime(2025, 1, 22, 21, 30, 8, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-13 20:11:53 UTC): * **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4  dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other) 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

graphite-app[bot] on (2025-01-13 20:20:11 UTC): ### Graphite Automations
<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/13/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau's automation.</p></details>

trunk-io[bot] on (2025-01-13 20:50:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3681_tests-854d5df3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52057?repo=metabase/metabase&commitHash=854d5df381f5a1f896b258e55191d444e90d2cf4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 20:47:31 UTC): ## e2e tests failed on `625f7302d0f40f32f746f0b3b4c452d707a16a27-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916401552?pr=52057)

  File | Test Name
  ---- | ---------
  `metrics-dashboard.cy.spec.js` | scenarios > metrics > dashboard > should be possible to add metrics to a dashboard

rafpaf (Issue Creator) on (2025-01-22 21:30:08 UTC): ### Merge activity

* **Jan 22, 4:30 PM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/52057).

"
2785201695,pull_request,closed,,Consolidate logic to apply a parameter to a query,"Epic https://github.com/metabase/metabase/issues/51911
Closes https://github.com/metabase/metabase/issues/51911

Consolidates logic to apply a parameter to a query. Now all parameter types are applied via MBQL lib without intermediate  hand-written MBQL.

I also want to eventually move `convertParametersToMbql` from `metabase-lib/v1` but don't want to increase the scope too much now; so for this epic this is the last PR.

How to verify:
- Dashboard->QB drills should work for all parameter types",ranquild,2025-01-13 19:50:45+00:00,['ranquild'],2025-01-14 17:09:36+00:00,2025-01-14 16:15:28+00:00,https://github.com/metabase/metabase/pull/52056,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2588169329, 'issue_id': 2785201695, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40974_tests-840a1e6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE&runId=a8c93053-5fb8-5d9c-9a4a-b5fe4bddb870) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE&runId=b256da5b-faaa-560f-bc4d-f14277c37ef2) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE&runId=f31286a4-d5b0-555f-b6b5-a807b2ddd468) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 20, 49, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588169330, 'issue_id': 2785201695, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52069_tests-03b8c118-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard drill should preserve dashboard filter and apply it to the question on a drill-through (metabase\\#11503) should c...</code> | The test timed out waiting for the expected content \'Started from Orders\' on the dashboard. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=2613b178-adf0-5e0d-9c6e-656fae872e23) |\n| <code>scenarios > dashboard > dashboard drill should preserve dashboard filter and apply it to the question on a drill-through (metabase\\#11503) should c...</code> | The test timed out waiting for the expected content \'Started from Orders\' on the dashboard. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=19b02593-8073-59c8-8f64-27ba1f079772) |\n| <code>scenarios > dashboard > dashboard drill should handle question click through on a table</code> | Unable to find an element with the text ""User ID is 111"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=b6218cb7-4f0c-5b3d-ac7e-7eeeb6350d64) |\n| <code>issue 16334 should not change the visualization type in a targetted question with mapped filter (metabase\\#16334)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'dataset\' and no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=1cdc7a80-d453-5b99-bfe8-bfded3398694) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=95e72a6c-99ac-5607-90e4-46c46350c130) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 20, 49, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 20:49:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40974_tests-840a1e6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE&runId=a8c93053-5fb8-5d9c-9a4a-b5fe4bddb870) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE&runId=b256da5b-faaa-560f-bc4d-f14277c37ef2) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment&runConclusion=FAILURE&runId=f31286a4-d5b0-555f-b6b5-a807b2ddd468) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=840a1e6e84a97c471971d3b5850a4f8f3caa66ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-13 20:49:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52069_tests-03b8c118-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard drill should preserve dashboard filter and apply it to the question on a drill-through (metabase\#11503) should c...</code> | The test timed out waiting for the expected content 'Started from Orders' on the dashboard. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=2613b178-adf0-5e0d-9c6e-656fae872e23) |
| <code>scenarios > dashboard > dashboard drill should preserve dashboard filter and apply it to the question on a drill-through (metabase\#11503) should c...</code> | The test timed out waiting for the expected content 'Started from Orders' on the dashboard. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=19b02593-8073-59c8-8f64-27ba1f079772) |
| <code>scenarios > dashboard > dashboard drill should handle question click through on a table</code> | Unable to find an element with the text ""User ID is 111"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=b6218cb7-4f0c-5b3d-ac7e-7eeeb6350d64) |
| <code>issue 16334 should not change the visualization type in a targetted question with mapped filter (metabase\#16334)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'dataset' and no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=1cdc7a80-d453-5b99-bfe8-bfded3398694) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment&runConclusion=FAILURE&runId=95e72a6c-99ac-5607-90e4-46c46350c130) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52056?repo=metabase/metabase&commitHash=03b8c118dcbc42c0ab9ab9fb7ec2b5977a3f5334&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785159486,pull_request,closed,,"🤖 backported ""docs - update links""",#52047,github-automation-metabase,2025-01-13 19:39:37+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-13 20:31:37+00:00,2025-01-13 19:41:52+00:00,https://github.com/metabase/metabase/pull/52055,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2588135007, 'issue_id': 2785159486, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-80db0709-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 20, 31, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 20:31:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-80db0709-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52055?repo=metabase/metabase&commitHash=80db0709710c611730c5490d72b208357fd59859&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785092561,pull_request,closed,,"Remove the ""version check"" from the sequence of Cypress runner steps","### What does this PR accomplish?
It removes superfluous step in the sequence of steps needed to spin Cypress up at Metabase. I [checked with other engineers at Metabase](https://metaboat.slack.com/archives/C505ZNNH4/p1736536361482919) and it doesn't seem that anyone was relying on the ""version check"", nor that anyone will miss it.

Going through different workflows in https://github.com/metabase/metabase/commit/9f02034ed97dc3568c9bdbfe4f225ddb2a125b8f, I could see how decoupling the extraction of the `version.properties` from the actual version check step was a bad decision (implicit contract) in hindsight. People were copy-pasting this sequence but I bet without really understanding why do we need it. 
```
- name: Get the version info
  run: |
    jar xf target/uberjar/metabase.jar version.properties
    mv version.properties resources/
```

Bad design. Good riddance.",nemanjaglumac,2025-01-13 19:19:21+00:00,['nemanjaglumac'],2025-01-27 22:11:49+00:00,2025-01-14 21:10:03+00:00,https://github.com/metabase/metabase/pull/52054,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2588113146, 'issue_id': 2785092561, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3643_tests-dbc39987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=FAILURE&runId=df02dafd-2184-5763-8ead-9eb325b9d1dc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 20, 19, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 20:19:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3643_tests-dbc39987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment&runConclusion=FAILURE&runId=df02dafd-2184-5763-8ead-9eb325b9d1dc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52054?repo=metabase/metabase&commitHash=dbc39987c5637daa76fe492d875bab963408bf41&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785049227,pull_request,closed,,Revise new table permissions logic to handle sandboxes,"Makes sure that we detect sandboxes when a new table is added and set the table to use table-level block.

This is slightly complicated because sandboxes are stored in a separate table from data permissions, so a DB with sandboxes in some tables and `unrestricted` in all the others will have its permissions stored as `unrestricted` for the entire DB.

So if we add a new table, it should get block permissions, but we need to _also_ break out the DB-level `unrestricted` perms to table-level perms.

I've adjusted `set-new-table-permissions!` to handle this case. It differentiates between perms that need to be broken out from DB->table-level and perms that don't, and calls `set-table-permission!` individually on the former. This is more overhead but I think it's worth it here, since we need to ensure perms stay consistent when new tables are added.

Resolves https://github.com/metabase/metabase-private/issues/268",noahmoss,2025-01-13 19:06:09+00:00,['noahmoss'],2025-01-22 07:34:29+00:00,2025-01-15 14:40:09+00:00,https://github.com/metabase/metabase/pull/52052,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2587970407, 'issue_id': 2785049227, 'author': 'noahmoss', 'body': '* **#52052** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52052?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52052?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 13, 19, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588057058, 'issue_id': 2785049227, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112680_tests-596d963a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE&runId=53c46a75-2123-55ee-9d3b-83222b7bacac) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE&runId=7b86a289-6738-54b4-8fa4-64b8406f60a9) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE&runId=dd1fc5d3-a0cd-5d31-96f2-ce8e32508f83) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 19, 50, 5, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-13 19:06:32 UTC): * **#52052** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52052?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52052?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-13 19:50:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112680_tests-596d963a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE&runId=53c46a75-2123-55ee-9d3b-83222b7bacac) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE&runId=7b86a289-6738-54b4-8fa4-64b8406f60a9) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment&runConclusion=FAILURE&runId=dd1fc5d3-a0cd-5d31-96f2-ce8e32508f83) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52052?repo=metabase/metabase&commitHash=596d963a924f6641fc8a753f169b2dd193b5aa3c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2785032814,pull_request,closed,,Simplify Cypress custom runner dependencies,"~~While talking to @muratkeremozcan about Metabase's custom Cypress runner wrapper, and all the magic that's going on behind the scene, he suggested to make some of these steps more explicit (and more visible) by moving them to the [node events](https://docs.cypress.io/api/node-events/overview). This makes a ton of sense to me so in this PR I did exactly that.~~

After @filiphric 's [comment](https://github.com/metabase/metabase/pull/52051#discussion_r1914432009), I decided to abandon the before and after run hooks approach, and to simplify the dependencies by removing everything that's not needed.

This means:
1. Stop manually deleting the Cypress artifacts (rely on `trashAssetsBeforeRuns` instead)
2. Hook into the existing utilities that handle mochawesome reports and stop writing a unified report to the disk. We're now using `merge` only to parse unified test reports in order to create the GitHub Actions job summary!

> [!IMPORTANT]
> 1. Individual mochawesome reports will still be available for download in GitHub Actions artifacts 
> 2. If someone really needs to generate the unified, human-readable HTML report **locally**, they can still do that by invoking `yarn generate-cypress-html-report`",nemanjaglumac,2025-01-13 19:01:11+00:00,['nemanjaglumac'],2025-01-27 22:11:50+00:00,2025-01-14 20:18:24+00:00,https://github.com/metabase/metabase/pull/52051,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2588057169, 'issue_id': 2785032814, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13368_tests-fa34c4a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE&runId=750be561-0f9c-57db-99cf-88a489c155d7) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE&runId=04eb1ba7-9075-5d77-9057-7c7c90b411c1) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE&runId=1f27b03c-c2bf-5447-8746-52534f564ff2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 19, 50, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 19:50:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13368_tests-fa34c4a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE&runId=750be561-0f9c-57db-99cf-88a489c155d7) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE&runId=04eb1ba7-9075-5d77-9057-7c7c90b411c1) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment&runConclusion=FAILURE&runId=1f27b03c-c2bf-5447-8746-52534f564ff2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52051?repo=metabase/metabase&commitHash=fa34c4a4e79430618ffc62903fb5e625766190c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2784875880,pull_request,closed,,Apply theme change transition styles to the ParameterFieldSet component,"The PR fixes https://github.com/metabase/metabase/issues/51848

To have a unified solution, I extracted some generic styles that can be applied to all such elements into a shared constant and re-used it for `ParameterFieldSet` and also for `ParametersWidgetContainer`

",sanex3339,2025-01-13 18:16:28+00:00,['sanex3339'],2025-01-15 18:54:10+00:00,2025-01-15 18:54:08+00:00,https://github.com/metabase/metabase/pull/52049,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2587995471, 'issue_id': 2784875880, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13311_tests-efad5e2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE&runId=b7703038-6cbb-5793-8a15-27b47c108585) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE&runId=f2628085-132f-5b20-86bb-c9454bdaebe8) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE&runId=9dafc29f-6592-540e-ad8f-8d2fd16b9256) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 19, 19, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589884357, 'issue_id': 2784875880, 'author': 'sanex3339', 'body': '@heypoom let me replace emotion with a CSS module for these styles', 'created_at': datetime.datetime(2025, 1, 14, 13, 15, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592261459, 'issue_id': 2784875880, 'author': 'sanex3339', 'body': '@alxnddr let me check if i can add transitions for the embedding preview as part of this PR\r\n\r\nAs we discussed with @NevRA, applying transitions in non-fullscreen mode to the dashboard - out of scope for this PR.', 'created_at': datetime.datetime(2025, 1, 15, 10, 30, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 19:19:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13311_tests-efad5e2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE&runId=b7703038-6cbb-5793-8a15-27b47c108585) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE&runId=f2628085-132f-5b20-86bb-c9454bdaebe8) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment&runConclusion=FAILURE&runId=9dafc29f-6592-540e-ad8f-8d2fd16b9256) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52049?repo=metabase/metabase&commitHash=efad5e2b1bbde02715b0bfeb6ce5d04fed5ce44b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

sanex3339 (Issue Creator) on (2025-01-14 13:15:21 UTC): @heypoom let me replace emotion with a CSS module for these styles

sanex3339 (Issue Creator) on (2025-01-15 10:30:49 UTC): @alxnddr let me check if i can add transitions for the embedding preview as part of this PR

As we discussed with @NevRA, applying transitions in non-fullscreen mode to the dashboard - out of scope for this PR.

"
2784871178,pull_request,closed,,"🤖 backported ""Fix pivot drill thru for multi-stage queries""",#51950,github-automation-metabase,2025-01-13 18:15:22+00:00,"['appleby', 'github-automation-metabase']",2025-01-13 19:45:03+00:00,2025-01-13 18:50:48+00:00,https://github.com/metabase/metabase/pull/52048,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2587935617, 'issue_id': 2784871178, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100476_tests-a6d3bb4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 18, 48, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 18:48:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100476_tests-a6d3bb4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52048?repo=metabase/metabase&commitHash=a6d3bb4cd0300f379509582d10d5a3ac78aa3bed&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2784773591,pull_request,closed,,docs - update links,"Fixes links, updates link checker to point to correct directory.",jeff-bruemmer,2025-01-13 17:48:43+00:00,['jeff-bruemmer'],2025-01-13 19:42:18+00:00,2025-01-13 19:38:47+00:00,https://github.com/metabase/metabase/pull/52047,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2784732373,pull_request,closed,,Fix flaky JoinStep tests,"A JoinStep test is still flaky locally.
It looks like, to fix it, we need to change the order of calls because we should wait:
- for a loader to be removed
- and then select a modal.",sanex3339,2025-01-13 17:33:35+00:00,['sanex3339'],2025-01-27 22:11:54+00:00,2025-01-14 09:09:14+00:00,https://github.com/metabase/metabase/pull/52046,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2587880987, 'issue_id': 2784732373, 'author': 'rafpaf', 'body': ""Oops, I started the wrong kind of workflow. Here's the right one: https://github.com/metabase/metabase/actions/runs/12753544588"", 'created_at': datetime.datetime(2025, 1, 13, 18, 21, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589198255, 'issue_id': 2784732373, 'author': 'sanex3339', 'body': '@rafpaf added `findByText` usage as you suggested', 'created_at': datetime.datetime(2025, 1, 14, 7, 23, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589272376, 'issue_id': 2784732373, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9558_tests-db548435-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 8, 13, 2, tzinfo=datetime.timezone.utc)}]","rafpaf on (2025-01-13 18:21:39 UTC): Oops, I started the wrong kind of workflow. Here's the right one: https://github.com/metabase/metabase/actions/runs/12753544588

sanex3339 (Issue Creator) on (2025-01-14 07:23:16 UTC): @rafpaf added `findByText` usage as you suggested

trunk-io[bot] on (2025-01-14 08:13:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9558_tests-db548435-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52046?repo=metabase/metabase&commitHash=db548435f5dea35cf07a04e8c490aadea352ea10&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2784690929,pull_request,closed,,"🤖 backported ""Fix 53rd week formatting""",#52038,github-automation-metabase,2025-01-13 17:19:01+00:00,"['ranquild', 'github-automation-metabase']",2025-01-13 18:52:21+00:00,2025-01-13 18:52:19+00:00,https://github.com/metabase/metabase/pull/52044,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2587874001, 'issue_id': 2784690929, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51516_tests-85ffc9e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 18, 18, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 18:18:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51516_tests-85ffc9e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52044?repo=metabase/metabase&commitHash=85ffc9e7387e01db27784262beef81c9f1115a67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2784635342,pull_request,closed,,introduce tree-shaking of helpers by adding them to the Cypress object,"`import { H } from ""e2e/support""` was an important step in helpers discoverability. However, this increased the bundle rapidly, because we pretty much import everything all the time.

This PR introduces a change that will treeshake all the unused functions. This saves about 1 MB on each spec load.

~as a result, we are rewriting `H.helperName()` to `cy.H.helperName()`~

~as a result, we are rewriting `H.helperName()` to `cy.helperName()`~

~This may initially result in some naming conflicts with our custom commands, however these are soon to be moved to helpers. when both custom command and helper is present, custom command will be used.~

Just as I went to bed yesterday, I found a way that could actually work without minimal disruption. No renaming of the `H` object, but instead:

add helpers to cypress object
```js
// commands.js
cy.H = { ...H };
```

add helper types to Cypress
```ts
// e2e/support/index.ts
declare global {
  namespace Cypress {
    interface Chainable extends HelperTypes {
      H: typeof H;
    }
  }
}
```

and then in tests:
```diff
- import { H } from ""e2e/support""
+ const { H } = cy
```

works like a charm (I think), what do you think @iethree ?
",filiphric,2025-01-13 16:59:48+00:00,['filiphric'],2025-01-31 08:55:09+00:00,2025-01-30 09:13:47+00:00,https://github.com/metabase/metabase/pull/52042,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2587784528, 'issue_id': 2784635342, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23662_tests-06681947-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" after 4000ms timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=5dcb0aea-8465-5179-8c33-7adc9dc8a056) |\n| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=5f4e1004-0164-5276-a445-d66405c34282) |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=1050559b-596f-594a-8a46-8ec5160d9312) |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=0679bdf6-fb10-59cc-964c-13a1dbe0d615) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 17, 49, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623849448, 'issue_id': 2784635342, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `066819472e361095f6320fafbf283f1b48a3a9bc-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13048210867?pr=52042)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show saved questions if only models exist (metabase#25142)\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist', 'created_at': datetime.datetime(2025, 1, 30, 8, 36, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 17:49:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23662_tests-06681947-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" after 4000ms timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=5dcb0aea-8465-5179-8c33-7adc9dc8a056) |
| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=5f4e1004-0164-5276-a445-d66405c34282) |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=1050559b-596f-594a-8a46-8ec5160d9312) |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE&runId=0679bdf6-fb10-59cc-964c-13a1dbe0d615) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52042?repo=metabase/metabase&commitHash=066819472e361095f6320fafbf283f1b48a3a9bc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 08:36:43 UTC): ## e2e tests failed on `066819472e361095f6320fafbf283f1b48a3a9bc-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13048210867?pr=52042)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show saved questions if only models exist (metabase#25142)
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist

"
2784501769,pull_request,closed,,[Redux] Make core app use custom redux context,"Closes #51399

### Description

This PR makes two changes:
1. Updates the app to use a custom redux context
2. Patches the `redux-auth-wrapper` package so that a custom context can be passed in when calling `connectedReduxRedirect`

### Checklist

- [x] Tests have been added/updated to cover changes in this PR",sloansparger,2025-01-13 16:17:34+00:00,['sloansparger'],2025-01-14 15:36:48+00:00,2025-01-14 15:36:46+00:00,https://github.com/metabase/metabase/pull/52040,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2587717743, 'issue_id': 2784501769, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40739_tests-b6b7df15-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE&runId=7d799f0f-9741-5ab1-b329-b52bd985af81) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE&runId=7943fe67-dc92-59d6-a31b-a3743091019d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 17, 18, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590101615, 'issue_id': 2784501769, 'author': 'iethree', 'body': '@sloansparger is there a path to _not_ needing [redux auth wrapper](https://www.npmjs.com/package/redux-auth-wrapper/v/1.0.0)? \r\n\r\n![Screen Shot 2025-01-14 at 7 37 05 AM](https://github.com/user-attachments/assets/2c2745f8-a547-42c7-87f0-9e5fb2a93b79)', 'created_at': datetime.datetime(2025, 1, 14, 14, 39, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590229013, 'issue_id': 2784501769, 'author': 'sloansparger', 'body': ""@iethree great question. yes, we would remove it when we upgrade from [react-router v3](https://www.npmjs.com/package/react-router/v/3.2.6).\r\n![CleanShot 2025-01-14 at 09 10 50@2x](https://github.com/user-attachments/assets/35df34bc-72da-4ecf-9378-f4805d14945a)\r\n\r\nIn react-router v6 they've deprecated using custom `Route` components so we'll have to find a way to replace this package with that upgrade. (This document covers the rationale for the change: https://gist.github.com/mjackson/d54b40a094277b7afdd6b81f51a0393f)"", 'created_at': datetime.datetime(2025, 1, 14, 15, 22, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 17:18:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40739_tests-b6b7df15-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE&runId=7d799f0f-9741-5ab1-b329-b52bd985af81) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment&runConclusion=FAILURE&runId=7943fe67-dc92-59d6-a31b-a3743091019d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52040?repo=metabase/metabase&commitHash=b6b7df1584cb1124334f505c8cc1db695c6f6cb5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree on (2025-01-14 14:39:25 UTC): @sloansparger is there a path to _not_ needing [redux auth wrapper](https://www.npmjs.com/package/redux-auth-wrapper/v/1.0.0)? 

![Screen Shot 2025-01-14 at 7 37 05 AM](https://github.com/user-attachments/assets/2c2745f8-a547-42c7-87f0-9e5fb2a93b79)

sloansparger (Issue Creator) on (2025-01-14 15:22:30 UTC): @iethree great question. yes, we would remove it when we upgrade from [react-router v3](https://www.npmjs.com/package/react-router/v/3.2.6).
![CleanShot 2025-01-14 at 09 10 50@2x](https://github.com/user-attachments/assets/35df34bc-72da-4ecf-9378-f4805d14945a)

In react-router v6 they've deprecated using custom `Route` components so we'll have to find a way to replace this package with that upgrade. (This document covers the rationale for the change: https://gist.github.com/mjackson/d54b40a094277b7afdd6b81f51a0393f)

"
2784465202,pull_request,closed,,"🤖 backported ""Docs: Typo in the embedding article""",#52023,github-automation-metabase,2025-01-13 16:05:55+00:00,"['abdhabli', 'github-automation-metabase']",2025-01-13 16:08:23+00:00,2025-01-13 16:08:22+00:00,https://github.com/metabase/metabase/pull/52039,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2784458984,pull_request,closed,,Fix 53rd week formatting,"Fixes https://github.com/metabase/metabase/issues/51777
Follow up for https://github.com/metabase/metabase/pull/51892

The previous fix didn't fully solve the problem. It fixed parsing but not formatting.

In the previous PR we parsed week-of-year numbers as iso week numbers to support the 53rd week of year, but didn't formatted them as iso week numbers. This PR fixes formatting.",ranquild,2025-01-13 16:04:15+00:00,['ranquild'],2025-01-13 18:07:21+00:00,2025-01-13 17:18:04+00:00,https://github.com/metabase/metabase/pull/52038,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2587639866, 'issue_id': 2784458984, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/49015_tests-87cb9f49-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE&runId=5404b3cf-607e-5850-9cb9-d7c82e73f567) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE&runId=2e76e227-9a7f-5c4f-bd80-80b632af7cf9) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE&runId=c24c76a5-5ac2-56fc-9ab4-83199ba9a722) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 16, 46, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 16:46:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/49015_tests-87cb9f49-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE&runId=5404b3cf-607e-5850-9cb9-d7c82e73f567) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE&runId=2e76e227-9a7f-5c4f-bd80-80b632af7cf9) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment&runConclusion=FAILURE&runId=c24c76a5-5ac2-56fc-9ab4-83199ba9a722) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52038?repo=metabase/metabase&commitHash=87cb9f4974530dc66ae1cd925fb09bab7ad58429&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2784450662,pull_request,closed,,"🤖 backported ""docs: static embedding typo""",#52036,github-automation-metabase,2025-01-13 16:01:49+00:00,"['alexyarosh', 'github-automation-metabase']",2025-01-15 07:15:11+00:00,2025-01-15 06:44:33+00:00,https://github.com/metabase/metabase/pull/52037,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2587654429, 'issue_id': 2784450662, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-75b0dc0f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 16, 52, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 16:52:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-75b0dc0f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52037?repo=metabase/metabase&commitHash=75b0dc0fd82aa3e926e3dd04e091c2e41e7d9ebd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2784403495,pull_request,closed,,docs: static embedding typo,,alexyarosh,2025-01-13 15:47:12+00:00,['alexyarosh'],2025-01-15 06:44:58+00:00,2025-01-13 16:00:54+00:00,https://github.com/metabase/metabase/pull/52036,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2784332706,pull_request,closed,,Fix - Removing the source filter from a linked filter will leave the latter broken,"Fixes #49556

### Description

This PR adds `filteringParameters` handling to `removeParameter` action.
It will unlink the removed parameter from other parameters.

### How to verify

Follow repro steps from issue report.
",kamilmielnik,2025-01-13 15:25:49+00:00,['kamilmielnik'],2025-01-14 08:45:49+00:00,2025-01-14 08:10:32+00:00,https://github.com/metabase/metabase/pull/52034,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2587645396, 'issue_id': 2784332706, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13536_tests-4768bd39-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=7f13b97c-dd2b-549c-8d42-ef8371950561) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=21d65ba9-d9fb-5656-ab8d-2040a3d0f9bd) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=ac402f74-10d1-5f42-8e40-6e9dff2d2b73) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=6409b69d-b674-536a-9a3c-2cf927ceefe4) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=81c2607b-85ff-5df5-9223-56b27928f6e4) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 16, 48, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589282924, 'issue_id': 2784332706, 'author': 'kamilmielnik', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 14, 8, 19, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589284952, 'issue_id': 2784332706, 'author': 'github-actions[bot]', 'body': '@kamilmielnik something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12763647858)', 'created_at': datetime.datetime(2025, 1, 14, 8, 20, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 16:48:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13536_tests-4768bd39-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=7f13b97c-dd2b-549c-8d42-ef8371950561) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=21d65ba9-d9fb-5656-ab8d-2040a3d0f9bd) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=ac402f74-10d1-5f42-8e40-6e9dff2d2b73) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=6409b69d-b674-536a-9a3c-2cf927ceefe4) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE&runId=81c2607b-85ff-5df5-9223-56b27928f6e4) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52034?repo=metabase/metabase&commitHash=4768bd3913cf7adbfa0c3f6d7a60b6991da832fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

kamilmielnik (Issue Creator) on (2025-01-14 08:19:16 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-14 08:20:28 UTC): @kamilmielnik something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12763647858)

"
2784166829,pull_request,closed,,update troubleshooting,Some little details about running Java apps on prod,paoliniluis,2025-01-13 14:38:00+00:00,['paoliniluis'],2025-01-15 20:56:49+00:00,2025-01-15 20:53:40+00:00,https://github.com/metabase/metabase/pull/52031,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2784084104,pull_request,closed,,Upgrade Athena jdbc driver to 3.3.0,"Closes https://github.com/metabase/metabase/issues/35965

This PR upgrades Athena jdbc driver to 3.3.0. Notable changes:

- Maven repository is stored in different location ([slack thread](https://metaboat.slack.com/archives/C04DN5VRQM6/p1717417986335689)),
- types previously returned via Types/VARCHAR are not anymore,
- different shape of DESCRIBE results,
- differences in getTables results,
- differences in connection properties.",lbrdnk,2025-01-13 14:11:55+00:00,['lbrdnk'],2025-01-14 15:32:09+00:00,2025-01-14 15:32:07+00:00,https://github.com/metabase/metabase/pull/52030,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('.Team/Drivers', '')]","[{'comment_id': 2587289956, 'issue_id': 2784084104, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113467_tests-665e679f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE&runId=75bf01ef-4aa2-5a0f-82ba-ef91be79089f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE&runId=064d576a-c986-5395-9715-d1f50afd1d56) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 14, 42, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 14:42:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113467_tests-665e679f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE&runId=75bf01ef-4aa2-5a0f-82ba-ef91be79089f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment&runConclusion=FAILURE&runId=064d576a-c986-5395-9715-d1f50afd1d56) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52030?repo=metabase/metabase&commitHash=665e679f7cc94d8e1c88e377d7a7ba69d1c0ca27&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783966842,pull_request,closed,,Update error colors following the new design,"### Description

As a part of #49714, we update the error component colors using the [new base colors here.](https://www.figma.com/design/W1TfzdrR8ldzp4vdjP1z36/SDK-Embedding%3A-admin-settings-%2B-embed-flow?node-id=11613-23031&t=z4vjXKUradcAyyAp-0)

This PR updates the colors according to the new design.

### How to verify
The expression editor and trash entity menu looks good.

### Demo 
#### Expression editor (before/after)
- ![image](https://github.com/user-attachments/assets/a30491a5-3393-4f53-860e-3677fefb06b8)
- ![image](https://github.com/user-attachments/assets/9e50524f-5f68-422a-9627-8b811d182bcd)


#### Trash entity menu
- ![image](https://github.com/user-attachments/assets/0ac64d30-7304-49dc-9c36-aef6c52765cc)
- ![image](https://github.com/user-attachments/assets/7ac3fc56-1d80-45ef-bfd1-053b8f724aaf)


### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~
",WiNloSt,2025-01-13 13:29:46+00:00,['WiNloSt'],2025-01-14 11:36:01+00:00,2025-01-14 10:49:18+00:00,https://github.com/metabase/metabase/pull/52029,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2587216024, 'issue_id': 2783966842, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40866_tests-c659aa5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=888877a3-5b39-5700-80af-a12f9896f4a5) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=376c7e8b-81ee-5cc0-980d-d6f4a5b4b674) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=d5c7b4e2-f57b-59ce-8e4d-00786199d565) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=4cbe1dcd-8a9c-57a7-8651-d322664ba208) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 14, 13, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587228252, 'issue_id': 2783966842, 'author': 'WiNloSt', 'body': 'It should be safe to backport colors, let me know if you think otherwise.', 'created_at': datetime.datetime(2025, 1, 13, 14, 18, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 14:13:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40866_tests-c659aa5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=888877a3-5b39-5700-80af-a12f9896f4a5) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=376c7e8b-81ee-5cc0-980d-d6f4a5b4b674) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=d5c7b4e2-f57b-59ce-8e4d-00786199d565) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment&runConclusion=FAILURE&runId=4cbe1dcd-8a9c-57a7-8651-d322664ba208) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52029?repo=metabase/metabase&commitHash=c659aa5b9303efe3a378f43f8b82e95561b0be5e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt (Issue Creator) on (2025-01-13 14:18:40 UTC): It should be safe to backport colors, let me know if you think otherwise.

"
2783931054,pull_request,closed,,Add sanex3339 to team files,Adds sanex3339 (Timofei Kachalov) to `teams.json` and `github-slack-map.json`,sanex3339,2025-01-13 13:13:58+00:00,['sanex3339'],2025-01-27 22:12:03+00:00,2025-01-13 14:45:35+00:00,https://github.com/metabase/metabase/pull/52026,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]",[],
2783861179,pull_request,closed,,"🤖 backported ""Enable realtime search indexing without experimental flag""",#52018,github-automation-metabase,2025-01-13 12:42:36+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-13 13:58:00+00:00,2025-01-13 13:17:26+00:00,https://github.com/metabase/metabase/pull/52025,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2587075863, 'issue_id': 2783861179, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120348_tests-05320f5e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 13, 14, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 13:14:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120348_tests-05320f5e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52025?repo=metabase/metabase&commitHash=05320f5eb68b51d645dc73a1bf3031f5ae221d65&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783807097,pull_request,closed,,"🤖 backported ""Add Code component from Mantine""",#51962,github-automation-metabase,2025-01-13 12:19:04+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-13 15:46:00+00:00,2025-01-13 15:24:50+00:00,https://github.com/metabase/metabase/pull/52024,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2586959752, 'issue_id': 2783807097, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07cbbb19a956ff902a2b210871400cc703070b1a...915e7ec0fa609fe644e66472c0d6385fde06c017.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/typography/Code/Code.stories.tsx<br>frontend/src/metabase/ui/components/typography/Code/Code.styled.tsx<br>frontend/src/metabase/ui/components/typography/Code/index.ts<br>frontend/src/metabase/ui/components/typography/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 13, 12, 20, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587074841, 'issue_id': 2783807097, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51605_tests-915e7ec0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=FAILURE&runId=6f254fbc-2244-5b4a-a461-b7108d7bf52e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 13, 14, 10, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-13 12:20:34 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07cbbb19a956ff902a2b210871400cc703070b1a...915e7ec0fa609fe644e66472c0d6385fde06c017.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/typography/Code/Code.stories.tsx<br>frontend/src/metabase/ui/components/typography/Code/Code.styled.tsx<br>frontend/src/metabase/ui/components/typography/Code/index.ts<br>frontend/src/metabase/ui/components/typography/index.ts<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-13 13:14:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51605_tests-915e7ec0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment&runConclusion=FAILURE&runId=6f254fbc-2244-5b4a-a461-b7108d7bf52e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52024?repo=metabase/metabase&commitHash=915e7ec0fa609fe644e66472c0d6385fde06c017&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783792220,pull_request,closed,,Docs: Typo in the embedding article,as the title says,abdhabli,2025-01-13 12:12:05+00:00,['abdhabli'],2025-01-13 16:08:51+00:00,2025-01-13 16:04:50+00:00,https://github.com/metabase/metabase/pull/52023,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2783770084,pull_request,closed,,"🤖 backported ""Fix SDK release process failure""",#52015,github-automation-metabase,2025-01-13 12:01:55+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-13 12:46:40+00:00,2025-01-13 12:04:11+00:00,https://github.com/metabase/metabase/pull/52022,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2587014077, 'issue_id': 2783770084, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-f737d7c9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 12, 46, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 12:46:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-f737d7c9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52022?repo=metabase/metabase&commitHash=f737d7c990455ea7f0a3b0e1551ec643fb1287ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783664576,pull_request,closed,,"🤖 backported ""Add trace logging for search index queue, and fix timer""",#52017,github-automation-metabase,2025-01-13 11:11:30+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-13 12:42:04+00:00,2025-01-13 11:46:30+00:00,https://github.com/metabase/metabase/pull/52021,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2586882284, 'issue_id': 2783664576, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120348_tests-68080cff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 11, 42, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 11:42:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120348_tests-68080cff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52021?repo=metabase/metabase&commitHash=68080cff0d5ab25fa661a2c96be0db4ad789a7a0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783473481,pull_request,closed,,refactor sdk imports,"Part of [this issue](https://github.com/metabase/metabase-private/issues/262)

See [this slack thread](https://metaboat.slack.com/archives/C063Q3F1HPF/p1736862240932089?thread_ts=1736446882.630579&cid=C063Q3F1HPF) for more info",npretto,2025-01-13 09:44:50+00:00,['npretto'],2025-01-15 09:28:46+00:00,2025-01-14 16:35:21+00:00,https://github.com/metabase/metabase/pull/52020,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2586630461, 'issue_id': 2783473481, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 13, 9, 45, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586632580, 'issue_id': 2783473481, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6624cc7e22775b105e311eeaf5617eff3f472d16...b726b281958b7f7917d40e25968c4cb045f8ebe8.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/shared/utils/theme.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx |\n| @kdoh | frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 13, 9, 46, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586697107, 'issue_id': 2783473481, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40748_tests-b726b281-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE&runId=80c61925-6310-5d0f-8d5c-6256aab830e7) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE&runId=5c3bb1fe-a9ab-544a-a27f-79fa8c9e8a2c) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE&runId=c7844cd3-1959-577e-9860-6a736fe24525) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 10, 14, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590599315, 'issue_id': 2783473481, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 14, 17, 11, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590601901, 'issue_id': 2783473481, 'author': 'github-actions[bot]', 'body': '@npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12772808818)', 'created_at': datetime.datetime(2025, 1, 14, 17, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590615461, 'issue_id': 2783473481, 'author': 'github-actions[bot]', 'body': '@npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12772808818)', 'created_at': datetime.datetime(2025, 1, 14, 17, 18, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590624679, 'issue_id': 2783473481, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 14, 17, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590627583, 'issue_id': 2783473481, 'author': 'github-actions[bot]', 'body': '@npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12772985136)', 'created_at': datetime.datetime(2025, 1, 14, 17, 22, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-13 09:45:13 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2025-01-13 09:46:17 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6624cc7e22775b105e311eeaf5617eff3f472d16...b726b281958b7f7917d40e25968c4cb045f8ebe8.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/shared/utils/theme.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart/BarChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/LineChart/LineChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx |
| @kdoh | frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-13 10:14:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40748_tests-b726b281-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE&runId=80c61925-6310-5d0f-8d5c-6256aab830e7) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE&runId=5c3bb1fe-a9ab-544a-a27f-79fa8c9e8a2c) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment&runConclusion=FAILURE&runId=c7844cd3-1959-577e-9860-6a736fe24525) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52020?repo=metabase/metabase&commitHash=b726b281958b7f7917d40e25968c4cb045f8ebe8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2025-01-14 17:11:04 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-14 17:12:18 UTC): @npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12772808818)

github-actions[bot] on (2025-01-14 17:18:27 UTC): @npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12772808818)

npretto (Issue Creator) on (2025-01-14 17:21:20 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-14 17:22:38 UTC): @npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12772985136)

"
2783403761,pull_request,closed,,Enable realtime search indexing without experimental flag,"We have been running with this flag enabled on Stats for multiple months, without noticeable issues.

We've ruled out all the non-trivial ideas we were able to come up with for reducing the load this will create, and are choosing to accept the risks in the interest of starting roll-out of the new search engine.",crisptrutski,2025-01-13 09:12:44+00:00,['crisptrutski'],2025-01-13 13:30:05+00:00,2025-01-13 12:41:43+00:00,https://github.com/metabase/metabase/pull/52018,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2586625458, 'issue_id': 2783403761, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128817_tests-10059a55-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=08685ddd-6532-5ca0-a649-6e10ec48ac65) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=815e96dd-6f86-56c4-ad9b-d3ed62ab238d) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=6e710b15-2dba-5be1-9baa-b414dbe959c3) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=66dd6ca7-2080-5ea5-950a-74f0e97f3eb4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 9, 42, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 09:42:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128817_tests-10059a55-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=08685ddd-6532-5ca0-a649-6e10ec48ac65) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=815e96dd-6f86-56c4-ad9b-d3ed62ab238d) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=6e710b15-2dba-5be1-9baa-b414dbe959c3) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment&runConclusion=FAILURE&runId=66dd6ca7-2080-5ea5-950a-74f0e97f3eb4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52018?repo=metabase/metabase&commitHash=10059a55bd2d9692620e58746532265d5b912e38&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783398456,pull_request,closed,,"Add trace logging for search index queue, and fix timer","This adds trace logging around what is put on and taken from the search indexing queue.

While making this change, I noticed that we were including the waiting time in the processing time metrics. To fix this I needed to break the processing method in half.",crisptrutski,2025-01-13 09:10:12+00:00,['crisptrutski'],2025-01-13 11:52:36+00:00,2025-01-13 11:10:30+00:00,https://github.com/metabase/metabase/pull/52017,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2586625030, 'issue_id': 2783398456, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/136055_tests-bbc4b9e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=6936a4b9-e620-5214-8745-cb9189c23366) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=9e9be23f-521f-5145-ac17-5f2f7e362bdd) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=fff1c724-20c9-59f2-aaad-b2b6a73cff42) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation when inserting data into the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=1cc6d565-4b3f-516d-9fdc-83b54544feca) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=64b02aa1-71d8-55d2-ac74-04bea67d6823) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=ca57417b-7d39-5fef-93ab-2680151d890e) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 9, 42, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 09:42:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/136055_tests-bbc4b9e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=6936a4b9-e620-5214-8745-cb9189c23366) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=9e9be23f-521f-5145-ac17-5f2f7e362bdd) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=fff1c724-20c9-59f2-aaad-b2b6a73cff42) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation when inserting data into the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=1cc6d565-4b3f-516d-9fdc-83b54544feca) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=64b02aa1-71d8-55d2-ac74-04bea67d6823) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE&runId=ca57417b-7d39-5fef-93ab-2680151d890e) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52017?repo=metabase/metabase&commitHash=bbc4b9e8222be64d6e943d9265c21469bbb0e436&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2783254136,pull_request,closed,,docs(sdk): Update SDK version to 0.53.1-nightly,Update Readme version references and published npm package version to 0.53.1-nightly,github-automation-metabase,2025-01-13 07:50:30+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-27 22:12:04+00:00,2025-01-13 07:52:49+00:00,https://github.com/metabase/metabase/pull/52016,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2783199975,pull_request,closed,,Fix SDK release process failure,"### Description

We haven't released the SDK for like 3 weeks, and we attempted to release it again last Friday, Jan 10, 2025. And it [failed miserably](https://github.com/metabase/metabase/actions/runs/12713929700/job/35443510400).

Here's the error
```sh
aborted: you must first push the current branch to a remote, or use the --head flag
```

The team found out that this was caused by the upstream change in gh CLI. On the [current runner](https://github.com/metabase/metabase/actions/runs/12713929700/job/35443510400#step:1:10) it's running [v2.64.0](https://github.com/actions/runner-images/blob/ubuntu22/20250105.1/images/ubuntu/Ubuntu2204-Readme.md?plain=1#L121). Which seems to cause the error to happen, and that's [reported here](https://github.com/cli/cli/issues/6485#issuecomment-2560935183).

So, what I did here is to upgrade gh to the latest version on brew v2.65.0 which seems to have already solved the issue.

### How to verify

The [workflow that releases the SDK passes](https://github.com/metabase/metabase/actions/runs/12742646668).

### Demo

- [`master` SDK release run](https://github.com/metabase/metabase/actions/runs/12742646668) ✅
- [npm page v0.53.1-nightly](https://www.npmjs.com/package/@metabase/embedding-sdk-react/v/0.53.1-nightly)  


### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~
",WiNloSt,2025-01-13 07:17:27+00:00,['WiNloSt'],2025-01-13 12:04:38+00:00,2025-01-13 12:01:03+00:00,https://github.com/metabase/metabase/pull/52015,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2783178652,pull_request,closed,,Update SDK version to 0.53.1-nightly,Update Readme version references and published npm package version to 0.53.1-nightly,github-automation-metabase,2025-01-13 07:02:37+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-13 07:03:01+00:00,2025-01-13 07:02:55+00:00,https://github.com/metabase/metabase/pull/52014,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2586341985, 'issue_id': 2783178652, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 13, 7, 2, 58, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-13 07:02:58 UTC): <!---conventional commit reminder comment ID-->
@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2782973722,pull_request,open,,[Notification] Remove alerts APIs except GET and DELETE,"Delete pulse apis but keep the GET and DELETE, context [thread](https://metaboat.slack.com/archives/C0641E4PB9B/p1736244903671159)

epic: https://github.com/metabase/metabase/issues/50766

Part of WRK-2",qnkhuat,2025-01-13 04:14:33+00:00,['qnkhuat'],2025-02-03 07:24:19+00:00,,https://github.com/metabase/metabase/pull/52012,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2586162113, 'issue_id': 2782973722, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95114_tests-0d5c8ea9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/83-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/10-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=24b328f7-24d5-50d4-b9ad-55adc3990c1b) |\n| <code>scenarios > models metadata GUI model should edit GUI model metadata</code> | An element with class \'RBpOg.emotion-13gfaog.e1rld57t0\' was not expected to be in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=bfd3ea1b-79b1-52c2-aaac-32db67a2bd4e) |\n| <code>issue 45926 should restore model correctly without refresh (metabase\\#45926)</code> | cy.wait() timed out waiting for the second request to the route \'dataset\' to occur, but it never did. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=ea5b044c-fbe5-5dd1-8843-77309ee7d48f) |\n| <code>scenarios > models metadata should edit native model metadata</code> | An element with class \'RBpOg.emotion-13gfaog.e1rld57t0\' was not expected to be in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=81cd91c1-245d-5587-8e44-ddbfe4adff54) |\n\n[... and 79 more](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=2cf9ce82-9a9a-518b-b615-e59c1f32a30c) |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=d531cef4-67a1-54c6-864a-cce7329f4c33) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=6423f08b-90a8-54ea-a4b1-97a7aa11a0e7) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=087c3768-f214-58bb-ab69-c0aa26d031a5) |\n\n[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 4, 39, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586162116, 'issue_id': 2782973722, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/388_tests-a5c734df-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard back navigation should not preserve query results when the question changes during navigation</code> | The element is being covered by another element, preventing it from being interacted with. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE&runId=f48f788d-14c7-5c76-a5d6-4332961defff) |\n| <code>scenarios > admin > permissions > application subscriptions permission granted gives ability to create dashboard subscriptions and question alerts</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE&runId=c565d9ca-8268-504f-8dc9-b02d6d4b7b35) |\n| <code>scenarios > models metadata GUI model clears custom metadata when a model is turned back into a question</code> | An element with class 'RBpOg.emotion-13gfaog.e1rld57t0' was not expected to be in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE&runId=d27fa4d4-4fba-5a66-be8d-c328d16532af) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 13, 4, 39, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589182229, 'issue_id': 2782973722, 'author': 'qnkhuat', 'body': 'E2E tests are not happy because UI still using the old alert APIs', 'created_at': datetime.datetime(2025, 1, 14, 7, 10, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630073532, 'issue_id': 2782973722, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13107507963?pr=52012)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`models.cy.spec.js` | scenarios > models > allows to turn a GUI question into a model\n`reproductions.cy.spec.ts` | issue 29943 > selects the right column when clicking a column header (metabase#29943)\n`models.cy.spec.js` | scenarios > models > allows to turn a native question into a model\n`question-management.cy.spec.js` | managing question from the question's details sidebar > curate access > admin user > move > should be able to move models\n`models.cy.spec.js` | scenarios > models > allows to turn a native question with a long alias into a model (metabase#47584)\n`reproductions.cy.spec.ts` | issue 23103 > shows correct number of distinct values (metabase#23103)\n`models.cy.spec.js` | scenarios > models > changes model's display to table\n`visualizations-tabular-reproductions.cy.spec.js` | issue 42697 > should display a pivot table when a new breakout is added to the query (metabase#42697)\n`models.cy.spec.js` | scenarios > models > only shows model info modal once when turning a question into a model\nand more... | and more..."", 'created_at': datetime.datetime(2025, 2, 3, 6, 23, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 04:39:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95114_tests-0d5c8ea9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/83-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/10-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=24b328f7-24d5-50d4-b9ad-55adc3990c1b) |
| <code>scenarios > models metadata GUI model should edit GUI model metadata</code> | An element with class 'RBpOg.emotion-13gfaog.e1rld57t0' was not expected to be in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=bfd3ea1b-79b1-52c2-aaac-32db67a2bd4e) |
| <code>issue 45926 should restore model correctly without refresh (metabase\#45926)</code> | cy.wait() timed out waiting for the second request to the route 'dataset' to occur, but it never did. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=ea5b044c-fbe5-5dd1-8843-77309ee7d48f) |
| <code>scenarios > models metadata should edit native model metadata</code> | An element with class 'RBpOg.emotion-13gfaog.e1rld57t0' was not expected to be in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=81cd91c1-245d-5587-8e44-ddbfe4adff54) |

[... and 79 more](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=2cf9ce82-9a9a-518b-b615-e59c1f32a30c) |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=d531cef4-67a1-54c6-864a-cce7329f4c33) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=6423f08b-90a8-54ea-a4b1-97a7aa11a0e7) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE&runId=087c3768-f214-58bb-ab69-c0aa26d031a5) |

[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-13 04:39:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/388_tests-a5c734df-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard back navigation should not preserve query results when the question changes during navigation</code> | The element is being covered by another element, preventing it from being interacted with. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE&runId=f48f788d-14c7-5c76-a5d6-4332961defff) |
| <code>scenarios > admin > permissions > application subscriptions permission granted gives ability to create dashboard subscriptions and question alerts</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE&runId=c565d9ca-8268-504f-8dc9-b02d6d4b7b35) |
| <code>scenarios > models metadata GUI model clears custom metadata when a model is turned back into a question</code> | An element with class 'RBpOg.emotion-13gfaog.e1rld57t0' was not expected to be in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment&runConclusion=FAILURE&runId=d27fa4d4-4fba-5a66-be8d-c328d16532af) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52012?repo=metabase/metabase&commitHash=a5c734df902eb04b7d695aba028cb24e45e0f53d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat (Issue Creator) on (2025-01-14 07:10:50 UTC): E2E tests are not happy because UI still using the old alert APIs

github-actions[bot] on (2025-02-03 06:23:08 UTC): ## e2e tests failed on `0d5c8ea91b351d8718c6dba7bda2b4f3367a6f23-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13107507963?pr=52012)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`models.cy.spec.js` | scenarios > models > allows to turn a GUI question into a model
`reproductions.cy.spec.ts` | issue 29943 > selects the right column when clicking a column header (metabase#29943)
`models.cy.spec.js` | scenarios > models > allows to turn a native question into a model
`question-management.cy.spec.js` | managing question from the question's details sidebar > curate access > admin user > move > should be able to move models
`models.cy.spec.js` | scenarios > models > allows to turn a native question with a long alias into a model (metabase#47584)
`reproductions.cy.spec.ts` | issue 23103 > shows correct number of distinct values (metabase#23103)
`models.cy.spec.js` | scenarios > models > changes model's display to table
`visualizations-tabular-reproductions.cy.spec.js` | issue 42697 > should display a pivot table when a new breakout is added to the query (metabase#42697)
`models.cy.spec.js` | scenarios > models > only shows model info modal once when turning a question into a model
and more... | and more...

"
2782895564,pull_request,closed,,"🤖 backported ""[Notification] reduce memory footprint""","  #51708
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-13 02:52:12+00:00,"['qnkhuat', 'github-automation-metabase']",2025-01-13 06:40:34+00:00,2025-01-13 05:49:51+00:00,https://github.com/metabase/metabase/pull/52011,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2586116946, 'issue_id': 2782895564, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3318_tests-f059c65f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 13, 3, 39, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-13 03:39:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3318_tests-f059c65f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52011?repo=metabase/metabase&commitHash=f059c65f9d7872275814459b517b7ff789bcc3fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781583288,pull_request,closed,,"🤖 backported ""Fix parameter mappings reset logic""","  #51973
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-11 03:33:59+00:00,"['ranquild', 'github-automation-metabase']",2025-01-11 05:14:01+00:00,2025-01-11 04:42:11+00:00,https://github.com/metabase/metabase/pull/52009,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2585057258, 'issue_id': 2781583288, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13339_tests-347ba61b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>converting question to a native query (metabase\\#15946, metabase\\#32121, metabase\\#38181) should work for both simple and nested questions based on...</code> | The expected text was not found in the element after 4 seconds, containing 'Small Marble Shoes'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=FAILURE&runId=68cb1fea-f9e5-5052-aa4b-de10f7e46bf7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 11, 4, 12, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-11 04:12:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13339_tests-347ba61b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>converting question to a native query (metabase\#15946, metabase\#32121, metabase\#38181) should work for both simple and nested questions based on...</code> | The expected text was not found in the element after 4 seconds, containing 'Small Marble Shoes'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment&runConclusion=FAILURE&runId=68cb1fea-f9e5-5052-aa4b-de10f7e46bf7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52009?repo=metabase/metabase&commitHash=347ba61bb125ed1053a6738c151c80cb02da86f6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781582256,pull_request,closed,,Make embed_common_test work when run standalone,"- The embed_common_test ns needs to have the db initialized, so I've added that in a fixture.

- When run by itself, a test that runs against <100 cards in the db (which there are none) so I check that there are actually cards before running it.",escherize,2025-01-11 03:30:46+00:00,['escherize'],2025-01-27 22:12:00+00:00,2025-01-13 20:51:42+00:00,https://github.com/metabase/metabase/pull/52008,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2585057183, 'issue_id': 2781582256, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/162438_tests-36582b6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the update of a report card. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE&runId=8a06cd3f-37f9-56ef-867d-ed70c9a9cfd7) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE&runId=e30f95dc-d003-5250-817d-d26e2c95a075) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 11, 4, 12, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-11 04:12:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/162438_tests-36582b6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the update of a report card. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE&runId=8a06cd3f-37f9-56ef-867d-ed70c9a9cfd7) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment&runConclusion=FAILURE&runId=e30f95dc-d003-5250-817d-d26e2c95a075) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52008?repo=metabase/metabase&commitHash=36582b6d94a5d50d28025f0cb476340232fde673&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781530704,pull_request,closed,,"🤖 backported ""allow changing x-axis column settings""",#51953,github-automation-metabase,2025-01-11 02:20:47+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-11 03:43:51+00:00,2025-01-11 03:10:14+00:00,https://github.com/metabase/metabase/pull/52005,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2585009996, 'issue_id': 2781530704, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ff6a641345c85a7c0ab48708048bb1f05079a5bc...36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js |', 'created_at': datetime.datetime(2025, 1, 11, 2, 22, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585040216, 'issue_id': 2781530704, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51633_tests-36d7c33f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=FAILURE&runId=7f331373-d202-5771-862c-35cb9de1c0ba) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 11, 3, 13, 2, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-11 02:22:20 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ff6a641345c85a7c0ab48708048bb1f05079a5bc...36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js |

trunk-io[bot] on (2025-01-11 03:13:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51633_tests-36d7c33f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment&runConclusion=FAILURE&runId=7f331373-d202-5771-862c-35cb9de1c0ba) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52005?repo=metabase/metabase&commitHash=36d7c33fa0e84cd2ad4151f5a3ccb6e7cfbb4330&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781526907,pull_request,closed,,`metabase.<module>.init` namespaces,As discussed here https://metaboat.slack.com/archives/CKZEMT1MJ/p1736556522733279,camsaul,2025-01-11 02:14:56+00:00,['camsaul'],2025-01-27 22:11:59+00:00,2025-01-13 23:07:28+00:00,https://github.com/metabase/metabase/pull/52003,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2585029079, 'issue_id': 2781526907, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/138185_tests-0426f01c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/216-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>batched-deletion-test</code> | The expected number of queries was 2, but 3 queries were executed, due to batched deletion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=d71ab109-3e9f-5914-b42b-64ae63562971) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=f6e4d7b4-1543-534f-b094-d77433328b4e) |\n| <code>dont-return-expressions-if-fields-is-explicit-test-3</code> | Connection to the underlying database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=ba4bb1ee-5e9d-52e9-a367-d1a8bddf5104) |\n| <code>basic-where-test-2</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=bd5ab4ed-43f7-58f2-8733-df79dd3a445c) |\n\n[... and 212 more](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case ""past4seconds"" ""past4seconds-from-0years"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=5e5fc648-971c-51ae-a63b-7be188d0b682) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during insertion into the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=b75ae1b9-de1b-5506-a30e-22d4b40798c2) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=8778191e-0409-53af-bed4-3823727cf0a8) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=c4c0a839-b3e1-5044-9331-50689eae6b40) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 11, 2, 40, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-11 02:40:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/138185_tests-0426f01c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/216-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>batched-deletion-test</code> | The expected number of queries was 2, but 3 queries were executed, due to batched deletion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=d71ab109-3e9f-5914-b42b-64ae63562971) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=f6e4d7b4-1543-534f-b094-d77433328b4e) |
| <code>dont-return-expressions-if-fields-is-explicit-test-3</code> | Connection to the underlying database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=ba4bb1ee-5e9d-52e9-a367-d1a8bddf5104) |
| <code>basic-where-test-2</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=bd5ab4ed-43f7-58f2-8733-df79dd3a445c) |

[... and 212 more](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case ""past4seconds"" ""past4seconds-from-0years"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=5e5fc648-971c-51ae-a63b-7be188d0b682) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during insertion into the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=b75ae1b9-de1b-5506-a30e-22d4b40798c2) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=8778191e-0409-53af-bed4-3823727cf0a8) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment&runConclusion=FAILURE&runId=c4c0a839-b3e1-5044-9331-50689eae6b40) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52003?repo=metabase/metabase&commitHash=0426f01c438a3963a11c0c041d74264a273e7818&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781462088,pull_request,closed,,One driver check,"Updates drivers workflow to just have a single job that passes or fails based on the result of all the drivers jobs, so we don't have to keep changing required checks.",iethree,2025-01-11 00:24:43+00:00,['iethree'],2025-01-23 20:27:24+00:00,2025-01-13 22:21:10+00:00,https://github.com/metabase/metabase/pull/52002,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('.Team/DevEx', '')]","[{'comment_id': 2584968376, 'issue_id': 2781462088, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118480_tests-16762c8a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 11, 0, 55, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-11 00:55:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118480_tests-16762c8a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52002?repo=metabase/metabase&commitHash=16762c8a4528d8869668be7c0bf86c4f771d1bf6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781400880,pull_request,closed,,Skip model modal if the user has accepted it previously,"Closes #25474

### Description

Skips the model modal if the user has accepted it previously:
![CleanShot 2025-01-10 at 17 20 49@2x](https://github.com/user-attachments/assets/e0d3b1c4-1efa-48ff-b0f2-ef33238ed353)

This PR also adds a small wrapper around our useUserKeyValue hook for capturing user acknowledgement.

### How to verify

- visit a question, open the context menu, then select ""turn into a model""
- see the model about models
- acknowledge
- see model has been created
- visit another question, open the context menu, then select ""turn into a model""
- (modal should not appear now)
- see model has been created

### Demo

https://github.com/user-attachments/assets/67fa2af5-bce0-4820-a761-a3013f70847c

### Checklist
- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-10 23:23:37+00:00,['sloansparger'],2025-01-20 23:31:25+00:00,2025-01-20 23:13:21+00:00,https://github.com/metabase/metabase/pull/52000,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2584800494, 'issue_id': 2781400880, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 59daec2227a527fc759e6a21ffeac47e1ef97cef...aeb6df7d5e28a1b73d4130bb7d44a124b94606c9.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 10, 23, 25, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584906208, 'issue_id': 2781400880, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123637_tests-aeb6df7d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE&runId=8e8959e7-05a6-5e85-9123-bf06dc181a2e) |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_db497\\_50"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE&runId=9899f13d-9006-582b-baf1-3a41c871b76a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE&runId=2648867b-f74c-557f-ae00-71dae4de1569) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 23, 47, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603276956, 'issue_id': 2781400880, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `aeb6df7d5e28a1b73d4130bb7d44a124b94606c9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876028094?pr=52000)\n\n  File | Test Name\n  ---- | ---------\n  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook', 'created_at': datetime.datetime(2025, 1, 20, 21, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 23:25:12 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 59daec2227a527fc759e6a21ffeac47e1ef97cef...aeb6df7d5e28a1b73d4130bb7d44a124b94606c9.

No notifications.

trunk-io[bot] on (2025-01-10 23:47:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123637_tests-aeb6df7d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE&runId=8e8959e7-05a6-5e85-9123-bf06dc181a2e) |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_db497\_50"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE&runId=9899f13d-9006-582b-baf1-3a41c871b76a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment&runConclusion=FAILURE&runId=2648867b-f74c-557f-ae00-71dae4de1569) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52000?repo=metabase/metabase&commitHash=aeb6df7d5e28a1b73d4130bb7d44a124b94606c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 21:54:00 UTC): ## e2e tests failed on `aeb6df7d5e28a1b73d4130bb7d44a124b94606c9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12876028094?pr=52000)

  File | Test Name
  ---- | ---------
  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook

"
2781280271,pull_request,closed,,"🤖 backported ""Fix zoom-in.geographic drill thru for multi-stage queries""",#51891,github-automation-metabase,2025-01-10 22:07:16+00:00,"['appleby', 'github-automation-metabase']",2025-01-10 23:52:45+00:00,2025-01-10 23:52:44+00:00,https://github.com/metabase/metabase/pull/51998,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2584630474, 'issue_id': 2781280271, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113318_tests-336b04e3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 22, 46, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 22:46:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113318_tests-336b04e3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51998?repo=metabase/metabase&commitHash=336b04e3c51cbd58de2c523a749701e4a98ff3a2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781277013,pull_request,closed,,Gsheets service account be flow,"resolves: #52050

The Service Account should be setup without MB doing anything. That removes the OAuth setup part of the flow, and simplifies things on the MB side a ton. (win).


This also adds a is_gsheet column to metabase_table, so that we can list it in the `/api/ee/upload-management/tables` response. Which will be done in #52067.",escherize,2025-01-10 22:05:17+00:00,['escherize'],2025-01-14 00:40:12+00:00,2025-01-13 23:58:50+00:00,https://github.com/metabase/metabase/pull/51997,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2584640492, 'issue_id': 2781277013, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/134752_tests-8c5eedee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual entity is different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=9c753835-4724-5948-a62c-db5bf5464ab3) |\n| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card\'s query count. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=315f5d0a-710f-55f1-b5ed-cecfa5a551f6) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | The test timed out while trying to find an element with the text "" 해당 없음"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=9c0aa6b7-92c2-59c8-9f66-1693b50a5605) |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content \'No results!\' and never found it. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=4bd742c9-c788-5a41-8aab-f95ccb7f700c) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 22, 49, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 22:49:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/134752_tests-8c5eedee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual entity is different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=9c753835-4724-5948-a62c-db5bf5464ab3) |
| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card's query count. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=315f5d0a-710f-55f1-b5ed-cecfa5a551f6) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | The test timed out while trying to find an element with the text "" 해당 없음"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=9c0aa6b7-92c2-59c8-9f66-1693b50a5605) |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' and never found it. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE&runId=4bd742c9-c788-5a41-8aab-f95ccb7f700c) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51997?repo=metabase/metabase&commitHash=8c5eedee91587ecb0b45de439ffbfa3bfb852365&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781246050,pull_request,closed,,Consolidate date filter formatting logic,"Epic https://github.com/metabase/metabase/issues/51911

Implements formatting a date filter as a string without legacy mbql conversion, and drops this code from `metabase-lib/v1`.

How to verify:
- Create all date parameter types and try all possible values. The date value displayed as string should match the previous implementation.
- There is one case that deliberately doesn't match. On/After/Before/Between filters are displayed with time, even if it's 12 AM, if time was enabled in the widget. That matches MBQL lib behavior and querying logic. There are updated tests.

<img width=""564"" alt=""Screenshot 2025-01-10 at 22 32 32"" src=""https://github.com/user-attachments/assets/8bb368e2-1c74-48f6-b279-54d2cc03d500"" />
",ranquild,2025-01-10 21:48:39+00:00,['ranquild'],2025-01-14 09:07:38+00:00,2025-01-13 16:31:16+00:00,https://github.com/metabase/metabase/pull/51995,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2584619402, 'issue_id': 2781246050, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1181_tests-8a878257-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 22, 44, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 22:44:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1181_tests-8a878257-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51995?repo=metabase/metabase&commitHash=8a878257291f9adae7b6b4ee3e689d76a2c87c29&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781103316,pull_request,closed,,"🤖 backported ""Fix zoom-in.geographic drill thru for multi-stage queries""",#51891,github-automation-metabase,2025-01-10 20:37:13+00:00,"['appleby', 'github-automation-metabase']",2025-01-10 22:30:01+00:00,2025-01-10 21:30:57+00:00,https://github.com/metabase/metabase/pull/51993,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2584244794, 'issue_id': 2781103316, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120463_tests-dc15c4ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=FAILURE&runId=4f3a0aa4-ed25-5d2d-b737-3848e53df86b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 21, 18, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 21:18:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120463_tests-dc15c4ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment&runConclusion=FAILURE&runId=4f3a0aa4-ed25-5d2d-b737-3848e53df86b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51993?repo=metabase/metabase&commitHash=dc15c4ad17a49cb1870bf7b2022a3454c1f2a8c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781082138,pull_request,closed,,Update a bunch of native sql tests,"Updates a bunch of SQL tests to use more modern helpers and hopefully make them less flaky

Stress test: 
:x: https://github.com/metabase/metabase/actions/runs/12716740816
🤞  https://github.com/metabase/metabase/actions/runs/12718940479",iethree,2025-01-10 20:27:02+00:00,['iethree'],2025-01-15 23:03:49+00:00,2025-01-15 23:03:49+00:00,https://github.com/metabase/metabase/pull/51992,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2584239241, 'issue_id': 2781082138, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3640_tests-1a4536bd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=b962c153-5f30-5311-8552-6688bd1391cc) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=4f097657-abd0-5a57-b494-a8220a6e228f) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=6c2c6a36-922b-5346-899a-92f0bc5d3d03) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 21, 17, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594113968, 'issue_id': 2781082138, 'author': 'iethree', 'body': 'not better 😢', 'created_at': datetime.datetime(2025, 1, 15, 23, 3, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 21:17:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3640_tests-1a4536bd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=b962c153-5f30-5311-8552-6688bd1391cc) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=4f097657-abd0-5a57-b494-a8220a6e228f) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=6c2c6a36-922b-5346-899a-92f0bc5d3d03) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51992?repo=metabase/metabase&commitHash=1a4536bd595ed7d5a5a34fa7ef4e8d8aa6b11d9d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-15 23:03:49 UTC): not better 😢

"
2781075340,pull_request,closed,,"🤖 backported ""fix pivot table is not rendered until resized""",#51951,github-automation-metabase,2025-01-10 20:24:21+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-10 21:47:12+00:00,2025-01-10 20:59:57+00:00,https://github.com/metabase/metabase/pull/51990,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2584246171, 'issue_id': 2781075340, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41592_tests-511ba098-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 21, 18, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 21:18:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41592_tests-511ba098-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51990?repo=metabase/metabase&commitHash=511ba098ded20edc45018e9a356d13cdda33cab1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781054517,pull_request,closed,,[refs] Joined columns get unique `:ident`s; new test metadata,"Part of #49687.

### Description

**Joined columns**

- `join__${IDENT_OF_JOIN_CLAUSE}__${IDENT_OF_COLUMN}` for explicit
  joins
- `implicit_via__${IDENT_OF_FK_COLUMN}__->__${IDENT_OF_TARGET_COLUMN}`
  for implicit joins

These fulfill the contract for column `:ident`s:
- Unique identity within one stage of a query
- Globally unique
    - Note that the same implicitly joined column (eg.
      `Products via Orders.PRODUCT_ID`) might be referenced in
      many queries, but it's the **same column** - same `display_name`,
      types, etc.

**New test metadata**

In order to test these properly, I needed test metadata with more
permutations of FKs.

I've added three new tables to `metabase.lib.test-metadata`, which are a
simplified version of Github issues, users and comments. The tables are
`:gh/issues`, `:gh/users` and `:gh/comments`.

Some notable things:
- `:gh/users` has a `:type/Text` PK, ie. Github usernames
- `:gh/issues` and `:gh/comments` have `:type/UUID` PKs
- `:gh/issues` has **two** FKs to `:gh/users`: `:reporter-id` and
  `:assignee-id`.
- `:gh/comments` has a **self FK**: `:reply-to`
- `:gh/issues :closed-at` is a `NULL`able `:type/DateTime` column, which
  we lacked previously


### How to verify

Check out the new metadata in the tests, eg. `metabase.lib.metadata.calculation-test`
where they're used to test the new `:ident`s in various explicit/implicit join scenarios.

Nothing is consuming the new `:ident`s yet, so there's nothing in particular to verify.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2025-01-10 20:14:37+00:00,['bshepherdson'],2025-01-27 22:11:17+00:00,2025-01-20 17:02:34+00:00,https://github.com/metabase/metabase/pull/51989,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2583965955, 'issue_id': 2781054517, 'author': 'bshepherdson', 'body': '* **#51989** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51989?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51989?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 10, 20, 14, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584123088, 'issue_id': 2781054517, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121060_tests-efb4763c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 20, 50, 12, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2025-01-10 20:14:57 UTC): * **#51989** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51989?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51989?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-10 20:50:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121060_tests-efb4763c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51989?repo=metabase/metabase&commitHash=efb4763c9e285501b008006d67487b214ea16681&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2781053488,pull_request,closed,,Add workaround to prevent release failure,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2025-01-10 20:14:14+00:00,['oisincoveney'],2025-01-13 18:26:21+00:00,2025-01-13 18:26:21+00:00,https://github.com/metabase/metabase/pull/51988,"[('.Team/Embedding', '')]","[{'comment_id': 2587892973, 'issue_id': 2781053488, 'author': 'oisincoveney', 'body': 'Closing due to fix from #52015', 'created_at': datetime.datetime(2025, 1, 13, 18, 26, 16, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-13 18:26:16 UTC): Closing due to fix from #52015

"
2781039341,pull_request,closed,,"🤖 backported ""Make sync timezone log human readable""",#51883,github-automation-metabase,2025-01-10 20:07:33+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-22 16:48:14+00:00,2025-01-22 16:18:15+00:00,https://github.com/metabase/metabase/pull/51987,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2584110520, 'issue_id': 2781039341, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/71211_tests-22ad81e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE&runId=ea5576a3-861e-5995-80dc-b3ddff5456d6) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE&runId=19473367-87c1-5610-95f5-abf94e02bb50) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 20, 47, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607583291, 'issue_id': 2781039341, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `22ad81e8b24c13a5b9500d80c4ddbd2cad9953df-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12911473083?pr=51987)\n\n  File | Test Name\n  ---- | ---------\n  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)', 'created_at': datetime.datetime(2025, 1, 22, 15, 40, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 20:47:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/71211_tests-22ad81e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE&runId=ea5576a3-861e-5995-80dc-b3ddff5456d6) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment&runConclusion=FAILURE&runId=19473367-87c1-5610-95f5-abf94e02bb50) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51987?repo=metabase/metabase&commitHash=22ad81e8b24c13a5b9500d80c4ddbd2cad9953df&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 15:40:06 UTC): ## e2e tests failed on `22ad81e8b24c13a5b9500d80c4ddbd2cad9953df-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12911473083?pr=51987)

  File | Test Name
  ---- | ---------
  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)

"
2781026479,pull_request,closed,,docs - env var updates,Updates defsettings so that they're included in docs.,jeff-bruemmer,2025-01-10 20:01:25+00:00,['jeff-bruemmer'],2025-01-17 14:56:33+00:00,2025-01-16 20:29:00+00:00,https://github.com/metabase/metabase/pull/51986,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2584110971, 'issue_id': 2781026479, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113484_tests-ef9d1e25-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE&runId=5b393031-073f-5fcb-9cbf-f69825e6d462) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE&runId=fb0587eb-ffac-579e-bd6c-155104c99486) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 20, 47, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 20:47:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113484_tests-ef9d1e25-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE&runId=5b393031-073f-5fcb-9cbf-f69825e6d462) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment&runConclusion=FAILURE&runId=fb0587eb-ffac-579e-bd6c-155104c99486) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51986?repo=metabase/metabase&commitHash=ef9d1e25caad424f375569c3e6fa5a2e4cc09f07&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780872962,pull_request,closed,,perf: Fix performance of CSV pivot table export,"Cut down from 15 GB allocations for one big export to 1.2 GB allocations. Diffgraph: https://flamebin.dev/wT8PJc.

<img width=""1259"" alt=""image"" src=""https://github.com/user-attachments/assets/d3e65f96-37dd-4587-be4d-6cbe68631a64"" />
",alexander-yakushev,2025-01-10 18:51:58+00:00,['alexander-yakushev'],2025-01-14 22:36:10+00:00,2025-01-14 21:47:44+00:00,https://github.com/metabase/metabase/pull/51985,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2583704862, 'issue_id': 2780872962, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/117451_tests-fe92c114-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE&runId=91961c1b-1004-5d21-8ca4-2959caee1f92) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE&runId=71589ce6-e2e2-5c0a-9c46-ba5a9d3d59e2) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE&runId=b6602376-5747-5c87-be96-c31a764573b1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 19, 20, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587217840, 'issue_id': 2780872962, 'author': 'perivamsi', 'body': 'Fixes https://github.com/metabase/metabase/issues/49977', 'created_at': datetime.datetime(2025, 1, 13, 14, 14, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 19:20:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/117451_tests-fe92c114-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE&runId=91961c1b-1004-5d21-8ca4-2959caee1f92) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE&runId=71589ce6-e2e2-5c0a-9c46-ba5a9d3d59e2) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment&runConclusion=FAILURE&runId=b6602376-5747-5c87-be96-c31a764573b1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51985?repo=metabase/metabase&commitHash=fe92c114fae747eda4639f3709625db22bc5ba99&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

perivamsi on (2025-01-13 14:14:26 UTC): Fixes https://github.com/metabase/metabase/issues/49977

"
2780853194,pull_request,closed,,"🤖 backported ""Fix quick-filter drill thru for multi-stage queries""",#51807,github-automation-metabase,2025-01-10 18:42:17+00:00,"['appleby', 'github-automation-metabase']",2025-01-10 20:04:56+00:00,2025-01-10 19:11:03+00:00,https://github.com/metabase/metabase/pull/51984,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583727899, 'issue_id': 2780853194, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/66626_tests-a8c999f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 19, 24, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 19:24:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/66626_tests-a8c999f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51984?repo=metabase/metabase&commitHash=a8c999f271069abd9e9bfcbf067e6579a2f81cbb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780842595,pull_request,closed,,unused - custom visualization click actions,Closing in favor of another proof-of-concept pull request,heypoom,2025-01-10 18:37:18+00:00,['heypoom'],2025-01-16 13:23:33+00:00,2025-01-16 13:23:27+00:00,https://github.com/metabase/metabase/pull/51983,"[('.Team/Embedding', '')]",[],
2780842550,pull_request,closed,,"🤖 backported ""fix(sdk): Ensure that styles within the custom expression editor still work""","  #51878
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-10 18:37:16+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-15 22:33:50+00:00,2025-01-15 22:33:49+00:00,https://github.com/metabase/metabase/pull/51982,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583726092, 'issue_id': 2780842550, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3416_tests-d66e08b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 19, 24, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587913596, 'issue_id': 2780842550, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8da74f2a2c9600ade62449a84c4adfeae3329ce8...d66e08b100d10110575777536a5031b7b9a2d028.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 13, 18, 37, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 19:24:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3416_tests-d66e08b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51982?repo=metabase/metabase&commitHash=d66e08b100d10110575777536a5031b7b9a2d028&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-13 18:37:03 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8da74f2a2c9600ade62449a84c4adfeae3329ce8...d66e08b100d10110575777536a5031b7b9a2d028.

No notifications.

"
2780793483,pull_request,closed,,"🤖 backported ""allow disabling table pivot when new columns were added""",#51893,github-automation-metabase,2025-01-10 18:13:59+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-10 19:45:38+00:00,2025-01-10 19:20:37+00:00,https://github.com/metabase/metabase/pull/51981,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583461202, 'issue_id': 2780793483, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e7741933adaa3aedd8595c1e8082085f8e647d36...7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Table.tsx<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js |', 'created_at': datetime.datetime(2025, 1, 10, 18, 16, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583582821, 'issue_id': 2780793483, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13518_tests-7c2e0b4b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Cache invalidation for dashboards and questions ee no-caching policy questions can use no-caching policy</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`cardQuery86\\` to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=1710075a-0613-5f60-980b-c0d1699bacc3) |\n| <code>Cache invalidation for dashboards and questions ee no-caching policy questions can inherit no-caching policy from database</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`cardQuery86\\` to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=656d6a63-42f2-58fd-9bcf-d71152644237) |\n| <code>Cache invalidation for dashboards and questions ee no-caching policy questions can inherit no-caching policy from instance-wide default policy</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`cardQuery86\\` to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=3b196080-8251-5ed6-bed0-da8027a2efeb) |\n| <code>Cache invalidation for dashboards and questions ee adaptive and duration strategies questions can use duration strategy</code> | The test timed out waiting for an element with data-testid ""visualization-root"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=95f56d94-ffb5-5b87-a4d4-dacf7877d8e9) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 18, 51, 8, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 18:16:39 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e7741933adaa3aedd8595c1e8082085f8e647d36...7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Table.tsx<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js |

trunk-io[bot] on (2025-01-10 18:51:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13518_tests-7c2e0b4b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Cache invalidation for dashboards and questions ee no-caching policy questions can use no-caching policy</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`cardQuery86\` to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=1710075a-0613-5f60-980b-c0d1699bacc3) |
| <code>Cache invalidation for dashboards and questions ee no-caching policy questions can inherit no-caching policy from database</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`cardQuery86\` to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=656d6a63-42f2-58fd-9bcf-d71152644237) |
| <code>Cache invalidation for dashboards and questions ee no-caching policy questions can inherit no-caching policy from instance-wide default policy</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`cardQuery86\` to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=3b196080-8251-5ed6-bed0-da8027a2efeb) |
| <code>Cache invalidation for dashboards and questions ee adaptive and duration strategies questions can use duration strategy</code> | The test timed out waiting for an element with data-testid ""visualization-root"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE&runId=95f56d94-ffb5-5b87-a4d4-dacf7877d8e9) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51981?repo=metabase/metabase&commitHash=7c2e0b4b897b7f31526a2ccb491c65efa48bd4fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780782806,pull_request,closed,,"🤖 backported ""Fix quick-filter drill thru for multi-stage queries""",#51807,github-automation-metabase,2025-01-10 18:08:58+00:00,"['appleby', 'github-automation-metabase']",2025-01-10 20:15:06+00:00,2025-01-10 18:45:06+00:00,https://github.com/metabase/metabase/pull/51980,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583587731, 'issue_id': 2780782806, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6367_tests-24b808c4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 18, 52, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 18:52:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6367_tests-24b808c4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51980?repo=metabase/metabase&commitHash=24b808c4b4ed062b2740f584869663e9ff1ee58e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780727150,pull_request,closed,,"🤖 backported ""Convert ChartsettingOrderedItems to match ChartSettingSelect""","  #51332
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-10 17:42:19+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-11 02:47:18+00:00,2025-01-11 02:27:13+00:00,https://github.com/metabase/metabase/pull/51978,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583395882, 'issue_id': 2780727150, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ff6a641345c85a7c0ab48708048bb1f05079a5bc...95c3c49ee4bb276d3c9444623d7f0ee4651fb60e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingActionIcon.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedSimple.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedSimple.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSeriesOrder.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/TableColumnPanel.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.module.css<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |', 'created_at': datetime.datetime(2025, 1, 10, 17, 59, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583582611, 'issue_id': 2780727150, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51504_tests-95c3c49e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 18, 51, 4, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 17:59:42 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ff6a641345c85a7c0ab48708048bb1f05079a5bc...95c3c49ee4bb276d3c9444623d7f0ee4651fb60e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingActionIcon.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedSimple.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedSimple.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSeriesOrder.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/TableColumnPanel.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.module.css<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx |

trunk-io[bot] on (2025-01-10 18:51:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51504_tests-95c3c49e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51978?repo=metabase/metabase&commitHash=95c3c49ee4bb276d3c9444623d7f0ee4651fb60e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780726720,pull_request,closed,,"🤖 backported ""Fix ChartSettingsPopover style/z-index issues""","  #51154
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-10 17:42:02+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-11 01:49:15+00:00,2025-01-11 01:49:14+00:00,https://github.com/metabase/metabase/pull/51977,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583463096, 'issue_id': 2780726720, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5b9361a321e81aba962280e322032558d4df4f8f...0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSelect.jsx |', 'created_at': datetime.datetime(2025, 1, 10, 18, 17, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583627202, 'issue_id': 2780726720, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51504_tests-0a1eed4e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 19, 3, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 18:17:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5b9361a321e81aba962280e322032558d4df4f8f...0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSelect.jsx |

trunk-io[bot] on (2025-01-10 19:03:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51504_tests-0a1eed4e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51977?repo=metabase/metabase&commitHash=0a1eed4e7f620171c7eee13a0e6bf5ee3c4633a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780689876,pull_request,closed,,"🤖 backported ""docs: H1 edits""","  #51940
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-10 17:17:54+00:00,"['alexyarosh', 'github-automation-metabase']",2025-01-10 17:33:43+00:00,2025-01-10 17:33:42+00:00,https://github.com/metabase/metabase/pull/51975,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2780652685,pull_request,open,,Move session creation logic models.session and don't track session_id…,"### Description

Consolidates the session creation into metabase.models.session to remove duplication and ensure all sessions get logged to login_history, no matter how they get created.

Also removes the session_id from login_history since that is sensitive information and not needed/used in the history

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Start a new metabase instance and see that the initial user's login gets recorded
2. Ensure normal login still works

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-10 16:56:12+00:00,['nvoxland'],2025-01-22 16:02:01+00:00,,https://github.com/metabase/metabase/pull/51974,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2583312764, 'issue_id': 2780652685, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/93664_tests-38912c89-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/229-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/13-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>blocked-tables-downgrade-to-blocked-dbs</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=918c33de-cef5-5f2d-8115-428e1c605e18) |\n| <code>setup-settings-test</code> | Setting :site-locale to ""es\\_MX"" failed to set correctly, expected a non-nil Session UUID. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=d84340ec-8bba-5084-90f3-a567ce7aa7f4) |\n| <code>migrate-uploads-settings-test-1</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=83b06455-c0d6-56b6-a04c-359fbe0bf972) |\n| <code>revision-add-join-alias-to-column-settings-field-refs-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=33644e23-df60-525d-8d11-20f58ba9b49b) |\n\n[... and 225 more](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one dashboard, but actual entity is different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=6af7dfd6-3cb0-54f1-a06e-81a4277c2ec3) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=e21ec284-15e5-54ba-b6e4-88b7b16b9f0a) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=0ce84511-222c-51b1-af74-8df528193efb) |\n| <code>down-migrate-and-load-dump-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=67297a12-c011-5a90-82b8-5da38be83b42) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 17, 26, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 17:26:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/93664_tests-38912c89-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/229-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/13-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>blocked-tables-downgrade-to-blocked-dbs</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=918c33de-cef5-5f2d-8115-428e1c605e18) |
| <code>setup-settings-test</code> | Setting :site-locale to ""es\_MX"" failed to set correctly, expected a non-nil Session UUID. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=d84340ec-8bba-5084-90f3-a567ce7aa7f4) |
| <code>migrate-uploads-settings-test-1</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=83b06455-c0d6-56b6-a04c-359fbe0bf972) |
| <code>revision-add-join-alias-to-column-settings-field-refs-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=33644e23-df60-525d-8d11-20f58ba9b49b) |

[... and 225 more](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one dashboard, but actual entity is different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=6af7dfd6-3cb0-54f1-a06e-81a4277c2ec3) |
| <code>set-stage-number-in-parameter-mappings-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=e21ec284-15e5-54ba-b6e4-88b7b16b9f0a) |
| <code>set-stage-number-in-parameter-mappings-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=0ce84511-222c-51b1-af74-8df528193efb) |
| <code>down-migrate-and-load-dump-test</code> | Liquibase rollback failed due to missing inverse operation for DropColumnChange. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE&runId=67297a12-c011-5a90-82b8-5da38be83b42) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51974?repo=metabase/metabase&commitHash=38912c89eb3dc944fcca5a585b5a947b9619c95b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780588874,pull_request,closed,,Fix parameter mappings reset logic,"Fixes https://github.com/metabase/metabase/issues/51957
Caused by https://github.com/metabase/metabase/pull/41615

Makes logic to disconnect parameters from native cards explicit by putting in into redux in the appropriate action instead of relying on (side-)effects.

How to verify:
- New -> SQL -> `select * from products where {{vendor}} and {{date}}`
- Make both variables field filters, connect to Products.Vendor and Products.CreatedAt -> Save -> Add to a dashboard
- Add Text and Date parameters and connect them to this dashboard card
- After setting the mapping for the Date parameter, click on the Text parameter and then back on Date
- The mapping should not disappear
",ranquild,2025-01-10 16:28:31+00:00,['ranquild'],2025-01-11 04:29:36+00:00,2025-01-11 03:33:10+00:00,https://github.com/metabase/metabase/pull/51973,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2583301744, 'issue_id': 2780588874, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13182_tests-611b6ab5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 17, 19, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 17:19:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13182_tests-611b6ab5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51973?repo=metabase/metabase&commitHash=611b6ab570db2439c2f99a61ce76d60272088b4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780529692,pull_request,closed,,"🤖 backported ""feat(sdk): Interactive Question Chart Settings Dropdown""","  #50976
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-10 16:05:26+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-16 02:48:26+00:00,2025-01-16 01:46:29+00:00,https://github.com/metabase/metabase/pull/51971,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2583252126, 'issue_id': 2780529692, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1412_tests-f4cb9968-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=FAILURE&runId=87d5f0ce-aeea-5f5f-807f-e462260d0fce) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 16, 52, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587923288, 'issue_id': 2780529692, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ded92218fcf1228b7cb1f9376683254ab3a6510c...f4cb99688ea6d25575f7a0d621c9ca9af1c16ead.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/SelectDropdown/SelectDropdown.tsx |', 'created_at': datetime.datetime(2025, 1, 13, 18, 42, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 16:52:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1412_tests-f4cb9968-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment&runConclusion=FAILURE&runId=87d5f0ce-aeea-5f5f-807f-e462260d0fce) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51971?repo=metabase/metabase&commitHash=f4cb99688ea6d25575f7a0d621c9ca9af1c16ead&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-13 18:42:12 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ded92218fcf1228b7cb1f9376683254ab3a6510c...f4cb99688ea6d25575f7a0d621c9ca9af1c16ead.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/SelectDropdown/SelectDropdown.tsx |

"
2780491735,pull_request,closed,,Request reviews from filip for e2e test changes,"As a temporary matter, make @filiphric  a reviewer for all PRs with e2e test changes, so he can get a better view into how our test suite is getting developed, and start offering feedback on how to improve it.

Let's remove this if gets too noisy or annoying.",iethree,2025-01-10 15:51:09+00:00,['iethree'],2025-01-27 22:12:02+00:00,2025-01-13 16:49:41+00:00,https://github.com/metabase/metabase/pull/51968,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2780488760,pull_request,open,,Remove validateDOMNesting warning,"PinnedItemCards have links inside links, which is invalid HTML and creates an irritating little warning.

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/8cbf7f31-3218-4471-af29-dfb865a89ac8.png)

Let's get rid of that. To do so, this PR moves the actions outside the link.",rafpaf,2025-01-10 15:50:09+00:00,['rafpaf'],2025-01-22 15:02:40+00:00,,https://github.com/metabase/metabase/pull/51967,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2583019803, 'issue_id': 2780488760, 'author': 'rafpaf', 'body': '* **#51967** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51967?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51967?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 10, 15, 50, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583239827, 'issue_id': 2780488760, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13171_tests-4cdad964-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved should should correctly display \'Save\' modal (metabase\\#13817)</code> | The element with the expected path was not removed from the DOM within the timeout period. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=23fe6793-0344-52e1-9eb2-4105b376aa72) |\n| <code>scenarios > collection pinned items overview should be able to unpin a pinned dashboard</code> | Unable to find a label with the text \'Actions\' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=f3290dfa-0f46-57a3-8da1-1c4ad7f44760) |\n| <code>scenarios > collection pinned items overview should be able to move a pinned dashboard</code> | Unable to find a label with the text \'Actions\' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=4d61c3c9-0e2d-57d6-a026-6e64190061c5) |\n| <code>scenarios > collection pinned items overview should be able to duplicate a pinned dashboard</code> | Unable to find a label with the text \'Actions\' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=2f50ab41-a304-5d20-bdfc-0518b96e7a06) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=1f9c6278-838d-5b71-b40e-a0885fc288e4) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=59a4e717-c592-56d4-ae91-158e4b3e1d79) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=83919ad7-ce17-5717-8ded-e97b6f20500b) |\n| <code>scenarios > organization > bookmarks > collection can add/remove bookmark from pinned Question in collection</code> | The element \\`.Icon-ellipsis\\` was not found within 4000ms, causing a test to timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=c55e17b0-76ff-5f20-9407-aad79a4c41b5) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 16, 48, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607485607, 'issue_id': 2780488760, 'author': 'graphite-app[bot]', 'body': '### Merge activity\n\n* **Jan 22, 10:02 AM EST**: [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/51967) disabled ""merge when ready"" on this PR due to: a merge conflict with the target branch; resolve the conflict and try again..', 'created_at': datetime.datetime(2025, 1, 22, 15, 2, 18, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-10 15:50:32 UTC): * **#51967** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51967?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51967?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-10 16:48:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13171_tests-4cdad964-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved should should correctly display 'Save' modal (metabase\#13817)</code> | The element with the expected path was not removed from the DOM within the timeout period. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=23fe6793-0344-52e1-9eb2-4105b376aa72) |
| <code>scenarios > collection pinned items overview should be able to unpin a pinned dashboard</code> | Unable to find a label with the text 'Actions' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=f3290dfa-0f46-57a3-8da1-1c4ad7f44760) |
| <code>scenarios > collection pinned items overview should be able to move a pinned dashboard</code> | Unable to find a label with the text 'Actions' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=4d61c3c9-0e2d-57d6-a026-6e64190061c5) |
| <code>scenarios > collection pinned items overview should be able to duplicate a pinned dashboard</code> | Unable to find a label with the text 'Actions' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=2f50ab41-a304-5d20-bdfc-0518b96e7a06) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=1f9c6278-838d-5b71-b40e-a0885fc288e4) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=59a4e717-c592-56d4-ae91-158e4b3e1d79) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=83919ad7-ce17-5717-8ded-e97b6f20500b) |
| <code>scenarios > organization > bookmarks > collection can add/remove bookmark from pinned Question in collection</code> | The element \`.Icon-ellipsis\` was not found within 4000ms, causing a test to timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE&runId=c55e17b0-76ff-5f20-9407-aad79a4c41b5) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51967?repo=metabase/metabase&commitHash=4cdad9644d32e0bfb00254513f2a427ea973046f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

graphite-app[bot] on (2025-01-22 15:02:18 UTC): ### Merge activity

* **Jan 22, 10:02 AM EST**: [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/51967) disabled ""merge when ready"" on this PR due to: a merge conflict with the target branch; resolve the conflict and try again..

"
2780466958,pull_request,closed,,Add Filip to slack map,Adds filip to github <--> slack map so he can get pinged properly 😁 ,iethree,2025-01-10 15:41:06+00:00,['iethree'],2025-01-27 22:12:08+00:00,2025-01-10 15:46:57+00:00,https://github.com/metabase/metabase/pull/51966,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2780451999,pull_request,closed,,make flaky job detection case-insensitive,"Updates our CI failure slack notification flaky job detection to be case-insensitive 🙃 



![Screen Shot 2025-01-10 at 8 33 24 AM](https://github.com/user-attachments/assets/816e1c95-869e-449f-bd3f-f81a02566059)
",iethree,2025-01-10 15:33:37+00:00,['iethree'],2025-01-27 22:12:07+00:00,2025-01-10 16:26:05+00:00,https://github.com/metabase/metabase/pull/51965,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2780395291,pull_request,closed,,Remove the custom `--folder` flag when running Cypress,"After @iethree introduced parallel runs in https://github.com/metabase/metabase/pull/51433, we no longer need to support the custom `--folder` flag.

This PR removes it.",nemanjaglumac,2025-01-10 15:05:06+00:00,['nemanjaglumac'],2025-01-27 22:12:06+00:00,2025-01-10 19:06:40+00:00,https://github.com/metabase/metabase/pull/51964,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2582952254, 'issue_id': 2780395291, 'author': 'nemanjaglumac', 'body': ""> You sure you want to remove it? It could be useful \r\n\r\nIt's just syntactic sugar around a well-known and well-documented official flag:\r\nhttps://docs.cypress.io/app/references/command-line#cypress-run-spec-lt-spec-gt\r\n\r\nMy motivation for removing this was that more people might be familiar with the official flag, and they don't have to learn another custom thing related strictly to our code base.\r\n\r\nBut I don't feel strongly about either approach."", 'created_at': datetime.datetime(2025, 1, 10, 15, 23, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583000369, 'issue_id': 2780395291, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3797_tests-fe369c2c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=46ee9547-7177-5abd-82cc-ded13ceb17f1) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=10fd9662-65b3-5884-8bb1-5bf7fbd98e9c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=c4b5fcef-26dc-5b4c-a94c-388a41ebb58f) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=4924d2ea-9a1a-5df6-ae2a-b163cb28e7cb) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=f5cd9919-23aa-5ebe-a4bf-f632e1e8dd6e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 15, 45, 18, tzinfo=datetime.timezone.utc)}]","nemanjaglumac (Issue Creator) on (2025-01-10 15:23:37 UTC): It's just syntactic sugar around a well-known and well-documented official flag:
https://docs.cypress.io/app/references/command-line#cypress-run-spec-lt-spec-gt

My motivation for removing this was that more people might be familiar with the official flag, and they don't have to learn another custom thing related strictly to our code base.

But I don't feel strongly about either approach.

trunk-io[bot] on (2025-01-10 15:45:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3797_tests-fe369c2c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=46ee9547-7177-5abd-82cc-ded13ceb17f1) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=10fd9662-65b3-5884-8bb1-5bf7fbd98e9c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=c4b5fcef-26dc-5b4c-a94c-388a41ebb58f) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=4924d2ea-9a1a-5df6-ae2a-b163cb28e7cb) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment&runConclusion=FAILURE&runId=f5cd9919-23aa-5ebe-a4bf-f632e1e8dd6e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51964?repo=metabase/metabase&commitHash=fe369c2cf9f8a7fea8bbb649441673697f8b8f26&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780370143,pull_request,closed,,Remove the old `EntityListLoader` and clean up,"Closes #50325

### Description

Depends on #51908 - please review it first.

### How to verify

CI is green (except flaky e2e tests).",kamilmielnik,2025-01-10 14:52:35+00:00,['kamilmielnik'],2025-01-14 10:05:12+00:00,2025-01-14 09:02:07+00:00,https://github.com/metabase/metabase/pull/51963,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2583008858, 'issue_id': 2780370143, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40904_tests-d0095f5a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=8abba2f2-38c7-5011-8d4f-d500c0f4121e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\' to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=c937e3b7-c709-5ee2-bdac-255d1fbee0f0) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=c7da1bba-a03f-5e45-9ffe-0fbb4d6cbd9d) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=ff9dfd29-46b9-5dfe-a4e7-0abae72ad48e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 15, 47, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 15:47:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40904_tests-d0095f5a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=8abba2f2-38c7-5011-8d4f-d500c0f4121e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=c937e3b7-c709-5ee2-bdac-255d1fbee0f0) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=c7da1bba-a03f-5e45-9ffe-0fbb4d6cbd9d) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment&runConclusion=FAILURE&runId=ff9dfd29-46b9-5dfe-a4e7-0abae72ad48e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51963?repo=metabase/metabase&commitHash=d0095f5ad093885c62982c7ec371bc67a90b1037&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780318257,pull_request,closed,,Add Code component from Mantine,"This PR adds [`Code`](https://v6.mantine.dev/core/code/) from Mantine. This will be used in PR #49714.
",WiNloSt,2025-01-10 14:27:47+00:00,['WiNloSt'],2025-01-13 15:25:27+00:00,2025-01-13 12:18:15+00:00,https://github.com/metabase/metabase/pull/51962,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2582838503, 'issue_id': 2780318257, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 68b5038d6ef9c763e56641b25acc136006417d26...124677ff36da1e66e9638e85a15f6931cbddaa92.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/typography/Code/Code.stories.tsx<br>frontend/src/metabase/ui/components/typography/Code/Code.styled.tsx<br>frontend/src/metabase/ui/components/typography/Code/index.ts<br>frontend/src/metabase/ui/components/typography/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 10, 14, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582934860, 'issue_id': 2780318257, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52126_tests-124677ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=ecfb7926-1102-50a7-b2da-c8431550af53) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=828f32a4-881a-56fe-8e38-821c76e35f6e) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=020f8c12-a16a-5a48-986f-7a8a21cc7992) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=db260b15-699e-53b6-8090-e171c2eaf2f2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 15, 15, 10, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 14:29:15 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 68b5038d6ef9c763e56641b25acc136006417d26...124677ff36da1e66e9638e85a15f6931cbddaa92.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/typography/Code/Code.stories.tsx<br>frontend/src/metabase/ui/components/typography/Code/Code.styled.tsx<br>frontend/src/metabase/ui/components/typography/Code/index.ts<br>frontend/src/metabase/ui/components/typography/index.ts<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-10 15:15:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52126_tests-124677ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=ecfb7926-1102-50a7-b2da-c8431550af53) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=828f32a4-881a-56fe-8e38-821c76e35f6e) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=020f8c12-a16a-5a48-986f-7a8a21cc7992) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment&runConclusion=FAILURE&runId=db260b15-699e-53b6-8090-e171c2eaf2f2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51962?repo=metabase/metabase&commitHash=124677ff36da1e66e9638e85a15f6931cbddaa92&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780247411,pull_request,closed,,fix: correct layout of viz settings on dashboard with reduced motion,"Can fix #51936

### Description

To reproduce this issue you need to enable reduced motion in your OS

### Demo

https://github.com/user-attachments/assets/2a3fb213-ad9c-48bb-9a64-fdac9693d096


",uladzimirdev,2025-01-10 13:55:19+00:00,['uladzimirdev'],2025-01-14 14:28:18+00:00,2025-01-14 13:39:42+00:00,https://github.com/metabase/metabase/pull/51960,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2582768231, 'issue_id': 2780247411, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6624cc7e22775b105e311eeaf5617eff3f472d16...cf86a2f818f3656ead9348182764b0d434fd8cc7.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/DashboardChartSettings/DashboardChartSettings.tsx |', 'created_at': datetime.datetime(2025, 1, 10, 13, 56, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582868747, 'issue_id': 2780247411, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13283_tests-cf86a2f8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE&runId=8d335715-2e05-5573-98fb-72264d0efb48) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE&runId=77f16135-a607-5189-8003-cf3d310ee9b4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 14, 44, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 13:56:53 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6624cc7e22775b105e311eeaf5617eff3f472d16...cf86a2f818f3656ead9348182764b0d434fd8cc7.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/DashboardChartSettings/DashboardChartSettings.tsx |

trunk-io[bot] on (2025-01-10 14:44:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13283_tests-cf86a2f8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE&runId=8d335715-2e05-5573-98fb-72264d0efb48) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment&runConclusion=FAILURE&runId=77f16135-a607-5189-8003-cf3d310ee9b4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51960?repo=metabase/metabase&commitHash=cf86a2f818f3656ead9348182764b0d434fd8cc7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2780121562,pull_request,closed,,Remove `entity.ListLoader` from `CollectionItemsTable` - approach v3,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-10 12:51:56+00:00,['kamilmielnik'],2025-01-10 15:43:55+00:00,2025-01-10 14:33:00+00:00,https://github.com/metabase/metabase/pull/51958,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2582740653, 'issue_id': 2780121562, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52018_tests-e5bf6d11-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/17-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>CSV Uploading CSV Uploading (mysql) CSV replacement Can replace data in an existing table</code> | The test timed out while trying to find elements with the text ""Dog Breeds"" and found multiple matches, suggesting that the query should use the ""\\... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=c9156251-6824-5e1f-85c6-efa665de29c1) |\n| <code>CSV Uploading CSV Uploading (mysql) CSV replacement Cannot data in a table with a different schema</code> | The test timed out while trying to find elements with the text ""Dog Breeds"" and found multiple matches, suggesting that the query should use the ""\\... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=cdd467dc-f1d9-5d21-83b4-f2003ea6bdec) |\n| <code>CSV Uploading CSV Uploading (mysql) CSV appends Can append a CSV file to an existing table</code> | The \\`uploadFileToCollection\\` function timed out while trying to find an element with the text ""Data added to Uploads Collection"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=69251a6e-8410-5011-a0ff-ed745a88b9e2) |\n| <code>CSV Uploading CSV Uploading (mysql) CSV appends Cannot append a CSV file to a table with a different schema</code> | The test timed out while trying to find elements with the text ""Dog Breeds"" and found multiple matches, suggesting that the query should use the ""\\... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=efab47ff-d425-56a8-a1a3-22dce436aaca) |\n\n[... and 13 more](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=ce2925fd-d172-5459-86fa-4c58af1d7211) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=74a214be-ebe1-54cb-98b3-ceba98c1d1c1) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=535f657c-6e22-5875-b8cd-ea3d187a69a0) |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute \'aria-current\' with value \'true\' was not found in an HTML element. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=04d6546f-9183-5441-80e1-cd67e7229896) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 13, 42, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 13:42:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52018_tests-e5bf6d11-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/17-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>CSV Uploading CSV Uploading (mysql) CSV replacement Can replace data in an existing table</code> | The test timed out while trying to find elements with the text ""Dog Breeds"" and found multiple matches, suggesting that the query should use the ""\... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=c9156251-6824-5e1f-85c6-efa665de29c1) |
| <code>CSV Uploading CSV Uploading (mysql) CSV replacement Cannot data in a table with a different schema</code> | The test timed out while trying to find elements with the text ""Dog Breeds"" and found multiple matches, suggesting that the query should use the ""\... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=cdd467dc-f1d9-5d21-83b4-f2003ea6bdec) |
| <code>CSV Uploading CSV Uploading (mysql) CSV appends Can append a CSV file to an existing table</code> | The \`uploadFileToCollection\` function timed out while trying to find an element with the text ""Data added to Uploads Collection"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=69251a6e-8410-5011-a0ff-ed745a88b9e2) |
| <code>CSV Uploading CSV Uploading (mysql) CSV appends Cannot append a CSV file to a table with a different schema</code> | The test timed out while trying to find elements with the text ""Dog Breeds"" and found multiple matches, suggesting that the query should use the ""\... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=efab47ff-d425-56a8-a1a3-22dce436aaca) |

[... and 13 more](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=ce2925fd-d172-5459-86fa-4c58af1d7211) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=74a214be-ebe1-54cb-98b3-ceba98c1d1c1) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=535f657c-6e22-5875-b8cd-ea3d187a69a0) |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment&runConclusion=FAILURE&runId=04d6546f-9183-5441-80e1-cd67e7229896) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51958?repo=metabase/metabase&commitHash=e5bf6d118bc3dd18c2cdc3bdbe8135a2a4ec444b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2779638834,pull_request,closed,,Remove `entity.ListLoader` from `CollectionItemsTable` - approach v2,"Depends on #51908

Alternative to #51918

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-10 09:00:03+00:00,['kamilmielnik'],2025-01-10 10:37:16+00:00,2025-01-10 10:06:36+00:00,https://github.com/metabase/metabase/pull/51954,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2582202924, 'issue_id': 2779638834, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3037_tests-1933d5f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > trash sidebar drag and drop should allow items outside the trash to be moved in the trash and allow it to be undone</code> | Cypress command chain failed due to page update after triggering an event, causing the subject to detach from the DOM. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=3e80d4f3-ea7e-5989-89e2-258c229bcc79) |\n| <code>scenarios > collections > trash sidebar drag and drop should not allow items in the trash to be moved into the trash</code> | Cypress command chain failed due to page update after triggering an event, causing the subject to detach from the DOM. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=fbed97fc-8902-5920-9bf2-4b76b82498a6) |\n| <code>scenarios > home > homepage after content creation should not show pinned questions in recent items when viewed in a collection</code> | The \\`cy.find()\\` command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=7a110c52-64fd-50ac-b91e-71a43a60ef58) |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=47781d62-891e-52a4-b5b5-ee47edb120f0) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=d7766114-ec02-5ae7-b38d-1f66aea5903e) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=82753683-0b9e-515d-a2e2-9cf443ec267b) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=23ce62e9-3bd0-5129-82ed-5b7d7a28f885) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 9, 42, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582267600, 'issue_id': 2779638834, 'author': 'kamilmielnik', 'body': 'Too many failures, abandoning', 'created_at': datetime.datetime(2025, 1, 10, 10, 6, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 09:42:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3037_tests-1933d5f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > trash sidebar drag and drop should allow items outside the trash to be moved in the trash and allow it to be undone</code> | Cypress command chain failed due to page update after triggering an event, causing the subject to detach from the DOM. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=3e80d4f3-ea7e-5989-89e2-258c229bcc79) |
| <code>scenarios > collections > trash sidebar drag and drop should not allow items in the trash to be moved into the trash</code> | Cypress command chain failed due to page update after triggering an event, causing the subject to detach from the DOM. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=fbed97fc-8902-5920-9bf2-4b76b82498a6) |
| <code>scenarios > home > homepage after content creation should not show pinned questions in recent items when viewed in a collection</code> | The \`cy.find()\` command timed out because the page updated and the element was removed from the DOM. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=7a110c52-64fd-50ac-b91e-71a43a60ef58) |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=47781d62-891e-52a4-b5b5-ee47edb120f0) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=d7766114-ec02-5ae7-b38d-1f66aea5903e) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=82753683-0b9e-515d-a2e2-9cf443ec267b) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment&runConclusion=FAILURE&runId=23ce62e9-3bd0-5129-82ed-5b7d7a28f885) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51954?repo=metabase/metabase&commitHash=1933d5f7657b5797012e816a1da27aa739b54699&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

kamilmielnik (Issue Creator) on (2025-01-10 10:06:37 UTC): Too many failures, abandoning

"
2779179150,pull_request,closed,,allow changing x-axis column settings,"Closes https://github.com/metabase/metabase/issues/51839

### Description

Returns missing x-axis column settings button:
<img width=""643"" alt=""Screenshot 2025-01-09 at 10 12 35 PM"" src=""https://github.com/user-attachments/assets/5a50e873-8911-4a03-9b1b-bfe21b2353ea"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-10 03:13:04+00:00,['alxnddr'],2025-01-11 02:43:38+00:00,2025-01-11 02:19:57+00:00,https://github.com/metabase/metabase/pull/51953,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581680789, 'issue_id': 2779179150, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52330_tests-43c2210d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=bb5673dd-9b41-5be9-b585-75837e484314) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=b68e4d3d-9a42-5e3f-af0a-03b37c3d0abe) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=61dc3fa5-209e-5ee7-88ae-c5f5ccbda57f) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=ff81e11a-4442-5566-b477-1488c3e25254) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 3, 42, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 03:42:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52330_tests-43c2210d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=bb5673dd-9b41-5be9-b585-75837e484314) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=b68e4d3d-9a42-5e3f-af0a-03b37c3d0abe) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=61dc3fa5-209e-5ee7-88ae-c5f5ccbda57f) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment&runConclusion=FAILURE&runId=ff81e11a-4442-5566-b477-1488c3e25254) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51953?repo=metabase/metabase&commitHash=43c2210d1e10c061e75a2bacb143114ba342252a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2779149313,pull_request,closed,,fix pivot table is not rendered until resized,"Closes https://github.com/metabase/metabase/issues/51926

### Description

By bisecting I found that https://github.com/metabase/metabase/pull/49414 introduced the bug, however, there is nothing bad in this PR.

Pivot table viz initially renders nothing so there won't be an element for ExplicitSize to measure and set the dimensions.
```
if (pivoted === null || !leftHeaderWidths || columnsChanged) {
  return null;
}
```
Before the PR above the PivotTable component was remounted and `ExplicitSize.componentDidMount` with `_updateSize` inside were called for subsequent renders when PivotTable actually rendered some content. Due to this unreasonable remount with `componentDidMount` the PivotTable component got width and height from ExplicitSize that are needed to render grid correctly.

After the PR, the component is not remounted, and since it tried to measure and update size on the first render only when there is no any element yet, there were no dimensions.

### Demo

Before

https://github.com/user-attachments/assets/0a7bdf67-e7f4-45f9-adb6-649becd28e9b

After

https://github.com/user-attachments/assets/5c2503b9-0305-4323-b5b2-d86541420912


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-10 02:41:06+00:00,['alxnddr'],2025-01-10 20:23:21+00:00,2025-01-10 20:23:20+00:00,https://github.com/metabase/metabase/pull/51951,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581663362, 'issue_id': 2779149313, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52079_tests-1cd1c4a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the data processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=c1798aa5-3d31-5814-9aff-0489823600e2) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=9d1e168b-ef9e-5f5d-9df6-6387c293375a) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=a4063706-0ea5-5e8a-990d-c6bc81c54ae6) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=f529f1a2-79e5-54f9-94e1-d38be9901e76) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=e8b28df1-0cc6-59fc-8291-8cc3d6df1242) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 3, 20, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 03:20:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52079_tests-1cd1c4a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the data processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=c1798aa5-3d31-5814-9aff-0489823600e2) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=9d1e168b-ef9e-5f5d-9df6-6387c293375a) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=a4063706-0ea5-5e8a-990d-c6bc81c54ae6) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=f529f1a2-79e5-54f9-94e1-d38be9901e76) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment&runConclusion=FAILURE&runId=e8b28df1-0cc6-59fc-8291-8cc3d6df1242) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51951?repo=metabase/metabase&commitHash=1cd1c4a99f5ff8c5b5c9612896d5f7d6cd11fcfe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2779070857,pull_request,closed,,Fix pivot drill thru for multi-stage queries,"### Description

Fix the pivot drill thru for queries with a filter stage after the aggregations.

Related to https://github.com/metabase/metabase/issues/46932

~~This is currently diffing against [appleby-zoom-in.geographic-multi-stage-query](https://github.com/metabase/metabase/tree/appleby-zoom-in.geographic-multi-stage-query) because the tests depend on a test helper added there. Once https://github.com/metabase/metabase/pull/51891 merges I will rebase this onto master.~~

### How to verify

* New question: People
* summarize: Count by State
* Add filter stage after summarize, e.g. Count > 1
* Visualize
* Click on a cell in the ""count"" column
* Click ""Break out by..."" in the context menu
* Click ""Category"" -> ""Source"" (e.g.)
* Filter should be added for the state with a breakout on Source

### Demo

![Screenshot 2025-01-09 at 5 21 34 PM](https://github.com/user-attachments/assets/2945132b-167f-4ad6-bbe7-688f86591df9)

![Screenshot 2025-01-09 at 5 21 14 PM](https://github.com/user-attachments/assets/9191758f-8a7c-4201-8c3f-ad985663a336)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-10 01:26:49+00:00,['appleby'],2025-01-15 16:57:57+00:00,2025-01-13 18:14:28+00:00,https://github.com/metabase/metabase/pull/51950,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2581605529, 'issue_id': 2779070857, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/140508_tests-d1948fc3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=456b8ae8-faa9-5497-9351-0263f0cd752a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=09497e60-647c-55b8-90dd-814b21e92081) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from completing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=d3b6e35c-c790-55b8-a02e-5b515d865be9) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected some. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=c84cfc0a-836a-5d9f-a865-48b97226806d) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=b2e413f7-f947-58d8-bd5d-dc171aed5cbe) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 10, 2, 14, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591440472, 'issue_id': 2779070857, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 15, 1, 24, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591441692, 'issue_id': 2779070857, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12779610872)', 'created_at': datetime.datetime(2025, 1, 15, 1, 25, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591556544, 'issue_id': 2779070857, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 15, 3, 18, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591557862, 'issue_id': 2779070857, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12780856216)', 'created_at': datetime.datetime(2025, 1, 15, 3, 19, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593431436, 'issue_id': 2779070857, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 15, 16, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593434068, 'issue_id': 2779070857, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12793062295)', 'created_at': datetime.datetime(2025, 1, 15, 16, 49, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 02:14:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/140508_tests-d1948fc3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=456b8ae8-faa9-5497-9351-0263f0cd752a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=09497e60-647c-55b8-90dd-814b21e92081) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from completing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=d3b6e35c-c790-55b8-a02e-5b515d865be9) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected some. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=c84cfc0a-836a-5d9f-a865-48b97226806d) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE&runId=b2e413f7-f947-58d8-bd5d-dc171aed5cbe) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51950?repo=metabase/metabase&commitHash=d1948fc3dcece97515d526b39c1a7ecf3009ba7c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-15 01:24:21 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-15 01:25:33 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12779610872)

appleby (Issue Creator) on (2025-01-15 03:18:22 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-15 03:19:39 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12780856216)

appleby (Issue Creator) on (2025-01-15 16:48:00 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-15 16:49:15 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12793062295)

"
2779068255,pull_request,closed,,"🤖 backported ""Dont escape chars of header dashcards""",#51880,github-automation-metabase,2025-01-10 01:23:31+00:00,"['tsplude', 'github-automation-metabase']",2025-01-16 19:03:24+00:00,2025-01-16 18:10:37+00:00,https://github.com/metabase/metabase/pull/51949,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2581582102, 'issue_id': 2779068255, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/107124_tests-ea2eb674-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE&runId=45060291-aec5-557f-b50f-e89127893986) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE&runId=058ec0ac-3572-5f1c-ac7f-9d914462a3e5) |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE&runId=4e75bc28-f600-5b60-bd8c-c090631afd71) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 10, 1, 57, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 01:57:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/107124_tests-ea2eb674-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE&runId=45060291-aec5-557f-b50f-e89127893986) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE&runId=058ec0ac-3572-5f1c-ac7f-9d914462a3e5) |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to unauthorized access. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment&runConclusion=FAILURE&runId=4e75bc28-f600-5b60-bd8c-c090631afd71) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51949?repo=metabase/metabase&commitHash=ea2eb6747f537fe28efaa480fd1c7b9caab0d2c5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2779060440,pull_request,closed,,Add hostname support to BigQuery,"### Description

Add an hostname support to bigquery. When set, it will be used instead of the default bigquery.googleapis.com
Similar to https://github.com/metabase/metabase/pull/39471 

### How to verify

Have bigquery  instance not accessible directly on bigquery.googleapis.com (setup a proxy for example)
When adding the BigQuery connection, set an alternative hostname.
Validate metabase can connect.

### Demo

<img width=""1209"" alt=""Screenshot 2025-01-09 at 5 02 33 PM"" src=""https://github.com/user-attachments/assets/28dd3db5-65cb-4508-9662-c6b32bc0e841"" />


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",vieux,2025-01-10 01:13:47+00:00,[],2025-02-03 22:00:08+00:00,2025-02-03 21:50:12+00:00,https://github.com/metabase/metabase/pull/51948,"[('External', 'PR from an external contributor.')]","[{'comment_id': 2583319062, 'issue_id': 2779060440, 'author': 'vieux', 'body': '@luizarakaki @metamben @iethree pinging you since you reviewed my original PR', 'created_at': datetime.datetime(2025, 1, 10, 17, 30, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619865126, 'issue_id': 2779060440, 'author': 'vieux', 'body': '@luizarakaki @metamben @iethree @snoe can you please take a look ?', 'created_at': datetime.datetime(2025, 1, 28, 19, 19, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627676567, 'issue_id': 2779060440, 'author': 'lwintjen', 'body': ""I'm wondering when this will be made available, highly desired!"", 'created_at': datetime.datetime(2025, 1, 31, 15, 54, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632194344, 'issue_id': 2779060440, 'author': 'vieux', 'body': 'Thanks @snoe\r\n\r\nAny chance this will be included in the upcoming 53.0 ? (or are you planning a 52.10?)', 'created_at': datetime.datetime(2025, 2, 3, 22, 0, 4, tzinfo=datetime.timezone.utc)}]","vieux (Issue Creator) on (2025-01-10 17:30:05 UTC): @luizarakaki @metamben @iethree pinging you since you reviewed my original PR

vieux (Issue Creator) on (2025-01-28 19:19:09 UTC): @luizarakaki @metamben @iethree @snoe can you please take a look ?

lwintjen on (2025-01-31 15:54:56 UTC): I'm wondering when this will be made available, highly desired!

vieux (Issue Creator) on (2025-02-03 22:00:04 UTC): Thanks @snoe

Any chance this will be included in the upcoming 53.0 ? (or are you planning a 52.10?)

"
2779041480,pull_request,closed,,🤦 Fix re-run ci job,"#51885 broke this job due to a missing bracket 😩 

![Screen Shot 2025-01-09 at 5 47 31 PM](https://github.com/user-attachments/assets/9841bd39-a4c0-441a-80a4-c78b3f334b14)

https://github.com/metabase/metabase/actions/runs/12699794783/job/35401168994",iethree,2025-01-10 00:49:33+00:00,['iethree'],2025-01-10 01:48:24+00:00,2025-01-10 01:48:23+00:00,https://github.com/metabase/metabase/pull/51947,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2779031202,pull_request,closed,,Gsheets frontend,"Closes eng-9438
Closes https://github.com/metabase/harbormaster/issues/5766

## Description

- adds a non-oauth frontend for adding a url

![Screen Shot 2025-01-09 at 5 25 05 PM](https://github.com/user-attachments/assets/aaefbd63-d616-47e6-9c00-b48c4e718183)
![Screen Shot 2025-01-09 at 5 24 58 PM](https://github.com/user-attachments/assets/03e3b7f6-be50-4b57-8ff8-1bd598e3b972)

![Screen Shot 2025-01-10 at 2 51 40 PM](https://github.com/user-attachments/assets/321ea54f-f7ce-47f7-8206-b6ad4bc9e3ed)

## Todo
- [x] agree on new settings shape with backend
- [x] how do we get the service account email?
- [x] figure out how to know if connection was successful
- [x] find out what error payloads look like if connection failed
- [x] only show to admins on frontend?
- [x] figure out how to know sync status
- [x] where does the entrypoint go?
- [ ] should the doc icon be a sheet icon?
- [ ] update entrypoint to sidebar
- [ ] add loading state to entrypoint button
- [ ] fix bug with success code showing an error
",iethree,2025-01-10 00:36:32+00:00,['iethree'],2025-01-22 00:53:27+00:00,2025-01-21 23:22:33+00:00,https://github.com/metabase/metabase/pull/51946,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2581510620, 'issue_id': 2779031202, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3f5a479b0ed91cb6c4808018b3923f44ed604dca...cd6334ada6c0b500420caa64ca7eca92098277aa.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/google_drive.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/google_sheet.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |', 'created_at': datetime.datetime(2025, 1, 10, 0, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581542732, 'issue_id': 2779031202, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4999_tests-87711e5e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>better onboarding via sidebar Upload CSV for DWH Can upload dog\\_breeds.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=023f583b-e2dc-53b1-a11c-300e380e842b) |\n| <code>better onboarding via sidebar Upload CSV for DWH Can upload star\\_wars\\_characters.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=8e732092-beab-5cc3-b020-d8a057cba281) |\n| <code>better onboarding via sidebar Upload CSV for DWH Can upload pokedex.tsv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=bb1789e1-f45c-5356-8efb-595c7a933f78) |\n| <code>better onboarding via sidebar Upload CSV for DWH Cannot upload invalid.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=33cfa551-b090-55db-a7a7-10b3da185d81) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 1, 13, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-10 00:38:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3f5a479b0ed91cb6c4808018b3923f44ed604dca...cd6334ada6c0b500420caa64ca7eca92098277aa.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/google_drive.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/google_sheet.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |

trunk-io[bot] on (2025-01-10 01:13:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4999_tests-87711e5e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>better onboarding via sidebar Upload CSV for DWH Can upload dog\_breeds.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=023f583b-e2dc-53b1-a11c-300e380e842b) |
| <code>better onboarding via sidebar Upload CSV for DWH Can upload star\_wars\_characters.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=8e732092-beab-5cc3-b020-d8a057cba281) |
| <code>better onboarding via sidebar Upload CSV for DWH Can upload pokedex.tsv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=bb1789e1-f45c-5356-8efb-595c7a933f78) |
| <code>better onboarding via sidebar Upload CSV for DWH Cannot upload invalid.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE&runId=33cfa551-b090-55db-a7a7-10b3da185d81) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51946?repo=metabase/metabase&commitHash=87711e5e63047f46544643ac8139f66f04e22046&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778908869,pull_request,closed,,Only push OSS Dot-x git tags,"
### Description

We had a strange failure pushing a git tag when releasing v0.51.11.1,

The tag `v0.51.11.x` failed to push, all other tags pushed just fine

![Screen Shot 2025-01-08 at 9 00 42 PM](https://github.com/user-attachments/assets/67783178-6937-4470-a932-a0f5c7be56fc)

I really don't know why this failed to push, however it did highlight that we don't need to be pushing this particular git tag anyway: we want to keep the git clutter down, and the `ee` and `oss` tags will always be on the same commit, so we can just use the OSS version number. Note, however, that we do need to run this tag job for both oss and ee because we need to trigger dockerhub and s3 publishes for both oss and ee. It's just the git tagging step we can skip for dot x tags.

2 changes:
- make the git command more explicit that we're pushing a tag - if we just push and there's both a branch and a tag by that name, things could get weird
- only push the oss tag

This is a low-consequence failure, so I don't want to spend more time digging into this unless it fails again.


",iethree,2025-01-09 22:54:50+00:00,['iethree'],2025-01-27 22:12:11+00:00,2025-01-10 14:53:29+00:00,https://github.com/metabase/metabase/pull/51944,"[('.Building & Releasing', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2778878491,pull_request,open,,Change session-id generator,"### Description

The random uuid we use for the session_id is random, but there are UUID libraries which are less random and people seeing a UUID session ID may make them wonder about our security.

This replaces the UUID-formatted string with a purely random string
 
Existing UUID session_ids in the database continue to work because we are just using them as a random string in general.

### How to verify

1. Log in with the change
2. See that your session_id is not UUIDI formatted 

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-09 22:37:12+00:00,['nvoxland'],2025-01-22 16:01:55+00:00,,https://github.com/metabase/metabase/pull/51942,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2581431207, 'issue_id': 2778878491, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122454_tests-a2686bd0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/49-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-full-app-embedding-session-cookie-test</code> | Invalid input: expected a string, got a UUID. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=57b63008-247d-5fbe-9bdb-f17d11a83940) |\n| <code>set-session-cookie-test</code> | Invalid input: expected a string, got a UUID when setting session timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=c2eeacc6-3506-5d78-865f-5b8db398ffc6) |\n| <code>secure-cookie-test</code> | The input to the \\`set-session-cookies\\` function is invalid because the \\`:id\\` field is a UUID instead of a string. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=95519342-bb36-5f4b-b991-bc05f7e60779) |\n| <code>samesite-none-log-warning-test</code> | Invalid input: expected a string, got a UUID. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=3a501ba9-9a61-57cd-b2e5-7e7dd8db2f3d) |\n\n[... and 45 more](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=584e2c1a-4f71-5dae-9a91-71596abdfdd9) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=fea7ff9a-450e-5914-b118-9f3d0ddfbf1c) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=44e5cf43-1ab5-5d50-a2e0-0b27fa8e357d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 23, 18, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 23:18:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122454_tests-a2686bd0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/49-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-full-app-embedding-session-cookie-test</code> | Invalid input: expected a string, got a UUID. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=57b63008-247d-5fbe-9bdb-f17d11a83940) |
| <code>set-session-cookie-test</code> | Invalid input: expected a string, got a UUID when setting session timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=c2eeacc6-3506-5d78-865f-5b8db398ffc6) |
| <code>secure-cookie-test</code> | The input to the \`set-session-cookies\` function is invalid because the \`:id\` field is a UUID instead of a string. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=95519342-bb36-5f4b-b991-bc05f7e60779) |
| <code>samesite-none-log-warning-test</code> | Invalid input: expected a string, got a UUID. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=3a501ba9-9a61-57cd-b2e5-7e7dd8db2f3d) |

[... and 45 more](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=584e2c1a-4f71-5dae-9a91-71596abdfdd9) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=fea7ff9a-450e-5914-b118-9f3d0ddfbf1c) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment&runConclusion=FAILURE&runId=44e5cf43-1ab5-5d50-a2e0-0b27fa8e357d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51942?repo=metabase/metabase&commitHash=a2686bd02fc79eff645963d4e779eaec67c93097&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778872394,pull_request,closed,,Removing error boundaries when log scale y axis contains both negativ…,"Closes #4286 

- Removing `Y_AXIS_CROSS_ERROR` which throws when y axis log scale has both negative and positive values
  - Seems to be no longer needed after switch to echarts

<details>
<summary>Example that would previously fail</summary>
<img width=""1489"" alt=""image"" src=""https://github.com/user-attachments/assets/b168386e-f01d-48bf-8a86-093153e1afb8"" />
</details>",tsplude,2025-01-09 22:32:58+00:00,['tsplude'],2025-01-15 00:10:23+00:00,2025-01-14 23:15:00+00:00,https://github.com/metabase/metabase/pull/51941,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581372830, 'issue_id': 2778872394, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 914cc8f725576cfc939dd546aef803a15e97c085...a43902e065ae8f7ffe024fe61039dd867839c807.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts |', 'created_at': datetime.datetime(2025, 1, 9, 22, 34, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581432257, 'issue_id': 2778872394, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41139_tests-a43902e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=FAILURE&runId=413974bc-0825-542f-95ce-0a9108ccb413) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 23, 19, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-09 22:34:30 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 914cc8f725576cfc939dd546aef803a15e97c085...a43902e065ae8f7ffe024fe61039dd867839c807.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts |

trunk-io[bot] on (2025-01-09 23:19:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41139_tests-a43902e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment&runConclusion=FAILURE&runId=413974bc-0825-542f-95ce-0a9108ccb413) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51941?repo=metabase/metabase&commitHash=a43902e065ae8f7ffe024fe61039dd867839c807&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778850959,pull_request,closed,,docs: H1 edits,Minor H1 edits. No strong opinions here - Feel free to reject any of these.,alexyarosh,2025-01-09 22:21:14+00:00,['alexyarosh'],2025-01-10 17:34:11+00:00,2025-01-10 17:16:49+00:00,https://github.com/metabase/metabase/pull/51940,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2778843208,pull_request,closed,,"🤖 backported ""Correct docstring for series""",#51840,github-automation-metabase,2025-01-09 22:16:29+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-09 23:48:10+00:00,2025-01-09 22:51:12+00:00,https://github.com/metabase/metabase/pull/51939,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2581402134, 'issue_id': 2778843208, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120333_tests-02e54ef8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 22, 55, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 22:55:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120333_tests-02e54ef8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51939?repo=metabase/metabase&commitHash=02e54ef87fca41b7b4c0982341e2dcfb6a14e8bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778782968,pull_request,open,,Remove withinPortal console.error,"Let's remove this console error:

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/3d0a0bf0-bb94-439f-9342-a8c3edccd08a.png)

",rafpaf,2025-01-09 21:28:29+00:00,['rafpaf'],2025-01-17 05:05:06+00:00,,https://github.com/metabase/metabase/pull/51938,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2581280896, 'issue_id': 2778782968, 'author': 'rafpaf', 'body': '* **#51938** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51938?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51938?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 9, 21, 28, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581284875, 'issue_id': 2778782968, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8ce65f0ec8ea7e2b34bd3a627a1fa620fd061d36...cd6ff3121661d36463989f4395f0edf47a8e3843.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/index.tsx |', 'created_at': datetime.datetime(2025, 1, 9, 21, 31, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581359965, 'issue_id': 2778782968, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52077_tests-cd6ff312-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=e57bb9b6-d531-5189-b68a-1926751f16f1) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=995dae7e-d31d-55f8-a98a-a29941d434db) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=88654399-560c-5963-835d-7b230481b0f3) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=f1002bd5-fc94-5667-8e1a-ffe0714191b4) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=827a0d24-68f5-5d9b-8dce-d8e78d00d469) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=bbe88b96-2ffc-50a9-a107-8e3a1962c0d9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 22, 25, 13, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-09 21:28:51 UTC): * **#51938** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51938?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51938?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-09 21:31:35 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8ce65f0ec8ea7e2b34bd3a627a1fa620fd061d36...cd6ff3121661d36463989f4395f0edf47a8e3843.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/index.tsx |

trunk-io[bot] on (2025-01-09 22:25:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52077_tests-cd6ff312-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=e57bb9b6-d531-5189-b68a-1926751f16f1) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=995dae7e-d31d-55f8-a98a-a29941d434db) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=88654399-560c-5963-835d-7b230481b0f3) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=f1002bd5-fc94-5667-8e1a-ffe0714191b4) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=827a0d24-68f5-5d9b-8dce-d8e78d00d469) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment&runConclusion=FAILURE&runId=bbe88b96-2ffc-50a9-a107-8e3a1962c0d9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51938?repo=metabase/metabase&commitHash=cd6ff3121661d36463989f4395f0edf47a8e3843&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778776824,pull_request,closed,,Using 1 as max value in minibar chart rendering logic if the column i…,"Closes #34257 

- Changes minibar visualization to use 1 as reference max value in numerical columns where all values fall in the range [0, 1], rather than the max value in the column.
  - The impact of this is a value of `.8` will render a minibar that is 80% wide, as opposed to 100% wide if the max in the column was `.8`

<details>
<summary>Before</summary>
<img width=""224"" alt=""image"" src=""https://github.com/user-attachments/assets/cf9049fe-1455-4d90-be14-b0341ac1756a"" />
</details>
<details>
<summary>After</summary>
<img width=""230"" alt=""image"" src=""https://github.com/user-attachments/assets/734ce8cd-af63-4dc4-a58d-9980a7f889e0"" />
</details>",tsplude,2025-01-09 21:23:48+00:00,['tsplude'],2025-01-22 07:21:01+00:00,2025-01-22 07:20:59+00:00,https://github.com/metabase/metabase/pull/51937,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2599262336, 'issue_id': 2778776824, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 23f0e9405f92baa8981861a3cc4f37b5c2cca772...3d264b09ed6cf52c8fad9103955faf346ffa35a4.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/MiniBar.jsx<br>frontend/src/metabase/visualizations/components/MiniBar.unit.spec.js |', 'created_at': datetime.datetime(2025, 1, 17, 21, 41, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599315567, 'issue_id': 2778776824, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13382_tests-3d264b09-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 17, 22, 28, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-17 21:41:27 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 23f0e9405f92baa8981861a3cc4f37b5c2cca772...3d264b09ed6cf52c8fad9103955faf346ffa35a4.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/MiniBar.jsx<br>frontend/src/metabase/visualizations/components/MiniBar.unit.spec.js |

trunk-io[bot] on (2025-01-17 22:28:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13382_tests-3d264b09-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51937?repo=metabase/metabase&commitHash=3d264b09ed6cf52c8fad9103955faf346ffa35a4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778661773,pull_request,closed,,"🤖 backported ""Setting alignment to top for icons in subscription and alert emails""",#51886,github-automation-metabase,2025-01-09 20:03:54+00:00,"['tsplude', 'github-automation-metabase']",2025-01-09 21:45:20+00:00,2025-01-09 20:39:06+00:00,https://github.com/metabase/metabase/pull/51935,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2581226899, 'issue_id': 2778661773, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120333_tests-f8de33b4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>geographic-coordinates-formatting-test</code> | Longitude and latitude columns should format correctly on export. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=FAILURE&runId=d8a5bf0b-97e0-50c8-9e1d-360a0c8e0963) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 20, 53, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 20:53:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120333_tests-f8de33b4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>geographic-coordinates-formatting-test</code> | Longitude and latitude columns should format correctly on export. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment&runConclusion=FAILURE&runId=d8a5bf0b-97e0-50c8-9e1d-360a0c8e0963) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51935?repo=metabase/metabase&commitHash=f8de33b4c7b1ed409095d629cf33616c27af790c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778564382,pull_request,closed,,"🤖 backported ""Fix formatting of month-of-year when there are 53 weeks in the year""",#51892,github-automation-metabase,2025-01-09 19:02:51+00:00,"['ranquild', 'github-automation-metabase']",2025-01-09 20:46:10+00:00,2025-01-09 19:36:24+00:00,https://github.com/metabase/metabase/pull/51933,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2581140080, 'issue_id': 2778564382, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51486_tests-a207ce62-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 19, 57, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 19:57:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51486_tests-a207ce62-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51933?repo=metabase/metabase&commitHash=a207ce62c0573b41b8a207be9e29d9f18f3fe0fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778552200,pull_request,closed,,"🤖 backported ""docs - upload title""",#51931,github-automation-metabase,2025-01-09 18:55:13+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-09 19:23:04+00:00,2025-01-09 19:23:03+00:00,https://github.com/metabase/metabase/pull/51932,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2778546710,pull_request,closed,,docs - upload title,Updates title for admin page on setting up data uploads.,jeff-bruemmer,2025-01-09 18:51:50+00:00,['jeff-bruemmer'],2025-01-09 19:23:30+00:00,2025-01-09 18:54:15+00:00,https://github.com/metabase/metabase/pull/51931,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2778480644,pull_request,closed,,Refactor collection list query for performance,"* Uses a CTE for fetching visible collections for permission checks to avoid unnecessary duplicated work
* Fetches total row count and the limited results in a single query instead of doing all of the work twice
* Only fetches the necessary rows for the `visible-collection-query` instead of `:c.*`

For a test case on MariaDB of a user in 50 groups that all have permissions for 2000 collections, this cuts the response time for `/api/collection/:id/items` from consistently 5-6 seconds to 1-2 seconds. Still not snappy, but this should be a noticeable improvement.

Pursuant to https://github.com/metabase/metabase/issues/51560",noahmoss,2025-01-09 18:12:19+00:00,['noahmoss'],2025-01-13 22:28:12+00:00,2025-01-13 20:41:02+00:00,https://github.com/metabase/metabase/pull/51929,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2580962162, 'issue_id': 2778480644, 'author': 'noahmoss', 'body': '* **#51929** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51929?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51929?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 9, 18, 12, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581082223, 'issue_id': 2778480644, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132166_tests-a9bf672c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=7c3a5cf7-3afb-5520-8518-6283e3df1e5c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from completing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=150348db-4795-5318-93a6-290c37049e2e) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=fcb1e356-8132-5782-92dd-5d365ae457c8) |\n| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=b86a0c1b-5941-526f-b657-f53ebd678ea1) |\n| <code>analyze-unhidden-tables-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=3e42ddd0-362a-5edd-872d-7d4627ab48e9) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 19, 22, 38, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-09 18:12:44 UTC): * **#51929** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51929?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51929?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-09 19:22:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132166_tests-a9bf672c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=7c3a5cf7-3afb-5520-8518-6283e3df1e5c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from completing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=150348db-4795-5318-93a6-290c37049e2e) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=fcb1e356-8132-5782-92dd-5d365ae457c8) |
| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=b86a0c1b-5941-526f-b657-f53ebd678ea1) |
| <code>analyze-unhidden-tables-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE&runId=3e42ddd0-362a-5edd-872d-7d4627ab48e9) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51929?repo=metabase/metabase&commitHash=a9bf672cdd7d7a21b0ab5efc217295f9b8aae960&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778362239,pull_request,closed,,Re-remove docs update from release job,"## Description

This release step was (properly) removed in #51410 but somehow accidentally added back by https://github.com/metabase/metabase/pull/51257. 

This re-removes it

CI failure: https://github.com/metabase/metabase/actions/runs/12681563398",iethree,2025-01-09 17:16:31+00:00,['iethree'],2025-01-27 22:12:14+00:00,2025-01-09 17:42:31+00:00,https://github.com/metabase/metabase/pull/51928,"[('.Building & Releasing', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2778348680,pull_request,closed,,"🤖 backported ""Reset login cache when starting cypress locally""",#51921,github-automation-metabase,2025-01-09 17:08:42+00:00,"['iethree', 'github-automation-metabase']",2025-01-09 18:37:51+00:00,2025-01-09 17:45:50+00:00,https://github.com/metabase/metabase/pull/51927,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2580928664, 'issue_id': 2778348680, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13306_tests-47fc7e35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 17, 54, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 17:54:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13306_tests-47fc7e35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51927?repo=metabase/metabase&commitHash=47fc7e35756bd3dd342676889c4adbb77b89c481&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778286151,pull_request,closed,,Consolidate date filter clause creation in parameters,"Epic https://github.com/metabase/metabase/issues/51911

Re-uses logic to create mbql filter clauses for applying date parameters to the query. Previously we relied on legacy mbql generation and a helper to create a clause from legacy mbql; now we use proper mbql lib functions to create a clause directly.

The long-term vision is to make parameter application for all parameter types work the same way and move this logic outside of `metabase-lib`. This PR is the first step. I had to temporary allow `metabase/querying` imports in `metabase-lib/v1` to not change a lot of code at once. See https://github.com/metabase/metabase/pull/51995

How to verify:
- When you have a date parameter with value connected to a question, clicking on the title should correctly add a filter for the target column. This is already tested.",ranquild,2025-01-09 16:37:49+00:00,['ranquild'],2025-01-27 22:12:01+00:00,2025-01-13 19:14:26+00:00,https://github.com/metabase/metabase/pull/51924,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2581659873, 'issue_id': 2778286151, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52099_tests-0fcde101-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\' to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=3d8d77d5-8896-52a0-87c8-ea39a98df3dc) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=f04ffa1d-c093-54a9-b775-d9ac9e725deb) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=57e292a7-5aed-5243-a7cb-23179761cf03) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=b2c11649-5ad8-57eb-9228-3928dac0d1fc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 3, 16, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 03:16:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52099_tests-0fcde101-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=3d8d77d5-8896-52a0-87c8-ea39a98df3dc) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=f04ffa1d-c093-54a9-b775-d9ac9e725deb) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=57e292a7-5aed-5243-a7cb-23179761cf03) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment&runConclusion=FAILURE&runId=b2c11649-5ad8-57eb-9228-3928dac0d1fc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51924?repo=metabase/metabase&commitHash=0fcde1019acd86d4ff6fd6fb3f0eebd731e1dc28&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778253706,pull_request,closed,,Update year in the README,,nemanjaglumac,2025-01-09 16:21:29+00:00,['nemanjaglumac'],2025-01-27 22:12:15+00:00,2025-01-09 16:43:08+00:00,https://github.com/metabase/metabase/pull/51923,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2778186080,pull_request,open,,[refs] Add `:lib.columns/breakouts` for reified breakout columns,"**DRAFT, do not submit**

Part of #49687, which is part of Milestone 2 of #49182.

### Description

Add `:lib.columns/breakouts` maps to query stages, which map `:ident` strings for the
breakouts to their column metadata.

Nothing is consuming these values yet.


### How to verify

TODO

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",bshepherdson,2025-01-09 15:51:01+00:00,['bshepherdson'],2025-01-09 15:51:30+00:00,,https://github.com/metabase/metabase/pull/51922,"[('.Team/Querying', '')]","[{'comment_id': 2580624735, 'issue_id': 2778186080, 'author': 'bshepherdson', 'body': '* **#51922** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51922?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51922?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 9, 15, 51, 28, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2025-01-09 15:51:28 UTC): * **#51922** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51922?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51922?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2778158168,pull_request,closed,,Reset login cache when starting cypress locally,"## Description

#51715 caused an issue in local development when creating qa-db snapshots - namely if the cache file already existed, it would use a stale cache when creating snapshots. This removes the cache before starting cypress.
",iethree,2025-01-09 15:39:20+00:00,['iethree'],2025-01-09 17:46:19+00:00,2025-01-09 17:06:40+00:00,https://github.com/metabase/metabase/pull/51921,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2580700836, 'issue_id': 2778158168, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13168_tests-a7f432fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=FAILURE&runId=0d34986c-b441-54f2-b686-97673c2dba25) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 16, 16, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 16:16:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13168_tests-a7f432fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment&runConclusion=FAILURE&runId=0d34986c-b441-54f2-b686-97673c2dba25) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51921?repo=metabase/metabase&commitHash=a7f432fa88f569cb3124dc28536e0c62efade1bd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2778033953,pull_request,open,,Bump cssbox to 5.0.2 for dos bugfix,"I don't think we are susceptible to this, but the scanners pick it up and there's finally a release.

This was merged in https://github.com/metabase/metabase/pull/50642 to master and will target 53. There's lots of other stuff in there so I'm opening this smaller, targeted change against the 52 branch
",dpsutton,2025-01-09 14:46:39+00:00,['dpsutton'],2025-01-23 03:29:52+00:00,,https://github.com/metabase/metabase/pull/51919,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2580615280, 'issue_id': 2778033953, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120660_tests-c41781bd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/768-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 49525 Subscriptions with \'Keep data pivoted\' checked should work (metabase\\#49525)</code> | The \'attachments\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=8abd8a49-7370-5df4-a1cd-e27970490433) |\n| <code>issue 24223 should clear default filter (metabase\\#24223)</code> | The \'id\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=322bd17e-b835-502d-88bc-1c4feb20102e) |\n| <code>issue 21559 should respect dashboard card visualization (metabase\\#21559)</code> | The \'html\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=81104d52-34ff-547b-8a76-26acdfd86066) |\n| <code>issue 18352 should send the card with the INT64 values (metabase\\#18352)</code> | The \'html\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=fa6e88c0-4f6c-5934-9771-9c83a82902cf) |\n\n[... and 764 more](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=ef49f383-0902-54a7-b5e0-577b348dafb7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 47, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:47:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120660_tests-c41781bd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/768-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 49525 Subscriptions with 'Keep data pivoted' checked should work (metabase\#49525)</code> | The 'attachments' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=8abd8a49-7370-5df4-a1cd-e27970490433) |
| <code>issue 24223 should clear default filter (metabase\#24223)</code> | The 'id' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=322bd17e-b835-502d-88bc-1c4feb20102e) |
| <code>issue 21559 should respect dashboard card visualization (metabase\#21559)</code> | The 'html' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=81104d52-34ff-547b-8a76-26acdfd86066) |
| <code>issue 18352 should send the card with the INT64 values (metabase\#18352)</code> | The 'html' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=fa6e88c0-4f6c-5934-9771-9c83a82902cf) |

[... and 764 more](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment&runConclusion=FAILURE&runId=ef49f383-0902-54a7-b5e0-577b348dafb7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51919?repo=metabase/metabase&commitHash=c41781bdb789b5297e374e045e552ebb23746cda&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777995755,pull_request,closed,,Remove `entity.ListLoader` from `CollectionItemsTable`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:30:25+00:00,['kamilmielnik'],2025-01-10 14:31:43+00:00,2025-01-10 14:31:40+00:00,https://github.com/metabase/metabase/pull/51918,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580541062, 'issue_id': 2777995755, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52018_tests-ef43817e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/23-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive question (metabase\\#15253)</code> | Unable to find an element with the text ""Orders"" after 4000ms, possibly due to broken or multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=495f07df-6cab-5598-98d4-b07fe260124e) |\n| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive dashboard</code> | Unable to find an element with the text ""Orders in a dashboard"" in a specified time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=c39c828e-4b24-53e8-9370-ffe26d6ab908) |\n| <code>collection permissions item management curate access nodata user move should let a user move/undo move a dashboard</code> | The element with class \'emotion-Text-root.emotion-48pq6d\' was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=d85ceabc-54b2-56ad-add1-3574444dd0dc) |\n| <code>collection permissions item management curate access nodata user move should let a user move/undo move a question</code> | The element with class ""emotion-Text-root.emotion-48pq6d"" was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=710ad9bd-f3c8-52df-9987-9114aaa41008) |\n\n[... and 19 more](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=54285671-955a-5f9f-a8f1-47aba2cc0104) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=6624f32c-0bbf-53e0-8d0c-4c4061a547a4) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=edfd6969-2256-522f-9b9e-66a3e0dbd724) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=99be8263-0de5-59b8-ad9a-bb71478e48df) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 17, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581954813, 'issue_id': 2777995755, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0b916181023b8faadae4f7043922b362ef356b53...ef43817e5aa0df4e004aadf0af12be32d54c66f8.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 10, 7, 26, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582843561, 'issue_id': 2777995755, 'author': 'kamilmielnik', 'body': 'Closing in favor of #51958', 'created_at': datetime.datetime(2025, 1, 10, 14, 31, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:17:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52018_tests-ef43817e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/23-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive question (metabase\#15253)</code> | Unable to find an element with the text ""Orders"" after 4000ms, possibly due to broken or multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=495f07df-6cab-5598-98d4-b07fe260124e) |
| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive dashboard</code> | Unable to find an element with the text ""Orders in a dashboard"" in a specified time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=c39c828e-4b24-53e8-9370-ffe26d6ab908) |
| <code>collection permissions item management curate access nodata user move should let a user move/undo move a dashboard</code> | The element with class 'emotion-Text-root.emotion-48pq6d' was expected to not exist in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=d85ceabc-54b2-56ad-add1-3574444dd0dc) |
| <code>collection permissions item management curate access nodata user move should let a user move/undo move a question</code> | The element with class ""emotion-Text-root.emotion-48pq6d"" was expected to not exist in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=710ad9bd-f3c8-52df-9987-9114aaa41008) |

[... and 19 more](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=54285671-955a-5f9f-a8f1-47aba2cc0104) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=6624f32c-0bbf-53e0-8d0c-4c4061a547a4) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=edfd6969-2256-522f-9b9e-66a3e0dbd724) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE&runId=99be8263-0de5-59b8-ad9a-bb71478e48df) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51918?repo=metabase/metabase&commitHash=ef43817e5aa0df4e004aadf0af12be32d54c66f8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-10 07:26:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0b916181023b8faadae4f7043922b362ef356b53...ef43817e5aa0df4e004aadf0af12be32d54c66f8.

No notifications.

kamilmielnik (Issue Creator) on (2025-01-10 14:31:40 UTC): Closing in favor of #51958

"
2777989830,pull_request,closed,,Remove `entity.ListLoader` from `CollectionContentView`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:27:52+00:00,['kamilmielnik'],2025-01-10 08:50:37+00:00,2025-01-10 07:44:52+00:00,https://github.com/metabase/metabase/pull/51916,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580542356, 'issue_id': 2777989830, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/59920_tests-53e61444-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-view-fields</code> | The expected and actual values for non-view fields in a view did not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE&runId=c1d5f089-91f0-5fbe-a4cf-f2b943a72a89) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE&runId=fa2bc13d-001c-521b-bbf2-12bc125628e1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 18, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581955051, 'issue_id': 2777989830, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4bebd6616a06e5d568eff56a6f284a22f2e4bbf7...6e1f39d38a1931f07cad1fe77e970dcb6aa2a07b.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/SelectDropdown/SelectDropdown.tsx<br>src/metabase/email/alert.hbs<br>src/metabase/email/dashboard_subscription.hbs |', 'created_at': datetime.datetime(2025, 1, 10, 7, 26, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:18:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/59920_tests-53e61444-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-view-fields</code> | The expected and actual values for non-view fields in a view did not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE&runId=c1d5f089-91f0-5fbe-a4cf-f2b943a72a89) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment&runConclusion=FAILURE&runId=fa2bc13d-001c-521b-bbf2-12bc125628e1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51916?repo=metabase/metabase&commitHash=53e614441660e0440a67f88ff84080702f19e25f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-10 07:26:36 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4bebd6616a06e5d568eff56a6f284a22f2e4bbf7...6e1f39d38a1931f07cad1fe77e970dcb6aa2a07b.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/SelectDropdown/SelectDropdown.tsx<br>src/metabase/email/alert.hbs<br>src/metabase/email/dashboard_subscription.hbs |

"
2777984481,pull_request,closed,,Remove `entity.ListLoader` from `SearchApp`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:25:48+00:00,['kamilmielnik'],2025-01-09 15:46:37+00:00,2025-01-09 14:56:58+00:00,https://github.com/metabase/metabase/pull/51915,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580539901, 'issue_id': 2777984481, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13126_tests-0a00d44c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\' to occur, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=e1fd7a49-d760-5c06-94f6-5dd47067a689) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=97c72c33-97a6-5507-a105-dd354435f1c6) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=5ca13401-f5d9-5259-8b5b-1b280667010b) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=7a2be095-c9fd-5ffa-8735-e2d9704e1e25) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 17, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:17:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13126_tests-0a00d44c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=e1fd7a49-d760-5c06-94f6-5dd47067a689) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=97c72c33-97a6-5507-a105-dd354435f1c6) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=5ca13401-f5d9-5259-8b5b-1b280667010b) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment&runConclusion=FAILURE&runId=7a2be095-c9fd-5ffa-8735-e2d9704e1e25) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51915?repo=metabase/metabase&commitHash=0a00d44c073669397cca4d6cf66aafcb922c5fbf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777980701,pull_request,closed,,Remove `entity.ListLoader` from `SavedEntityList`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:24:21+00:00,['kamilmielnik'],2025-01-09 15:43:36+00:00,2025-01-09 14:56:38+00:00,https://github.com/metabase/metabase/pull/51914,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580540119, 'issue_id': 2777980701, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13168_tests-34a9ec07-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=41bd8fbb-e726-5ce6-b41e-b066deac7770) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=8f41e755-e25d-59d4-9325-b92df23f93b7) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=17ceb3a7-14fe-5d92-bdd6-e94f716bf42b) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=cf61b53a-858b-5821-a1c7-510d47d389b9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 17, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:17:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13168_tests-34a9ec07-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=41bd8fbb-e726-5ce6-b41e-b066deac7770) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=8f41e755-e25d-59d4-9325-b92df23f93b7) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=17ceb3a7-14fe-5d92-bdd6-e94f716bf42b) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment&runConclusion=FAILURE&runId=cf61b53a-858b-5821-a1c7-510d47d389b9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51914?repo=metabase/metabase&commitHash=34a9ec0721abe0074ce60c9ebb0a7e3cb0a044de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777976517,pull_request,closed,,Remove `entity.ListLoader` from `SearchResults`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:22:54+00:00,['kamilmielnik'],2025-01-10 07:23:01+00:00,2025-01-10 07:22:59+00:00,https://github.com/metabase/metabase/pull/51913,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580538194, 'issue_id': 2777976517, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13245_tests-dd63fe97-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=9c387d18-f312-54ff-a9ac-7085e873b42e) |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=9e050820-33ed-5f32-b3b4-8ff79db15078) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=2894c604-ef53-5ee3-b366-fa2c958822eb) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=a3615629-7d01-51c6-8d4e-c265951af460) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 16, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:16:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13245_tests-dd63fe97-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=9c387d18-f312-54ff-a9ac-7085e873b42e) |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=9e050820-33ed-5f32-b3b4-8ff79db15078) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=2894c604-ef53-5ee3-b366-fa2c958822eb) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment&runConclusion=FAILURE&runId=a3615629-7d01-51c6-8d4e-c265951af460) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51913?repo=metabase/metabase&commitHash=dd63fe97f5e23f2d35bde7c5f261581dd57983ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777972487,pull_request,closed,,Remove `entity.ListLoader` from `QuestionList`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:21:23+00:00,['kamilmielnik'],2025-01-09 15:57:47+00:00,2025-01-09 14:57:18+00:00,https://github.com/metabase/metabase/pull/51912,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580538441, 'issue_id': 2777972487, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/17_tests-045f21d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | Unable to find an element with the text ""Filter by this value"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE&runId=9df64ada-1f4a-59cc-ad4c-3225f0b0b4b5) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE&runId=03035786-7d85-5d63-be2d-b414301dfb55) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 16, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:16:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/17_tests-045f21d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | Unable to find an element with the text ""Filter by this value"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE&runId=9df64ada-1f4a-59cc-ad4c-3225f0b0b4b5) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment&runConclusion=FAILURE&runId=03035786-7d85-5d63-be2d-b414301dfb55) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51912?repo=metabase/metabase&commitHash=045f21d92f6c1fd9ba73239db531c09730f68abd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777966084,pull_request,closed,,Remove `entity.ListLoader` from `ModelCacheRefreshJobs`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:18:44+00:00,['kamilmielnik'],2025-01-09 15:45:28+00:00,2025-01-09 14:54:53+00:00,https://github.com/metabase/metabase/pull/51910,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580538195, 'issue_id': 2777966084, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13168_tests-3ee0cdf4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE&runId=e7e3e297-b888-5a28-b40d-67ff42288258) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE&runId=0e0030aa-47cd-5713-9ba3-a1ec4671edeb) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 16, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:16:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13168_tests-3ee0cdf4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE&runId=e7e3e297-b888-5a28-b40d-67ff42288258) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment&runConclusion=FAILURE&runId=0e0030aa-47cd-5713-9ba3-a1ec4671edeb) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51910?repo=metabase/metabase&commitHash=3ee0cdf4a3929453c7c281634d17ac723c225274&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777961816,pull_request,closed,,Remove `entity.ListLoader` from `UploadSettingsForm`,"Depends on #51908

### Description

Temporary PR to run CI for this change in isolation.",kamilmielnik,2025-01-09 14:16:48+00:00,['kamilmielnik'],2025-01-09 15:46:00+00:00,2025-01-09 14:54:24+00:00,https://github.com/metabase/metabase/pull/51909,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580538455, 'issue_id': 2777961816, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13168_tests-82ac292b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE&runId=f9806c10-650d-55e5-91cf-258008630137) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE&runId=cea94386-b57e-5bee-bd77-e45602543e62) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 15, 16, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 15:16:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13168_tests-82ac292b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE&runId=f9806c10-650d-55e5-91cf-258008630137) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment&runConclusion=FAILURE&runId=cea94386-b57e-5bee-bd77-e45602543e62) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51909?repo=metabase/metabase&commitHash=82ac292b9e8372734642f4e27b579e08672b73aa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777922464,pull_request,closed,,Remove `entity.ListLoader`,"Closes #51215

### Description

Goodbye `entity.ListLoader` :wave: 

[Hiding whitespace](https://github.com/user-attachments/assets/0ee827af-2a7e-4ee8-ad85-d8633da484bb) recommended. Removing `entity.ListLoader` helped reduce a lot of nesting in JSX.

Not all `entity.ListLoader` usages could be switched to direct RTK query usages (because other components rely on `entity.ListLoader` populating the Redux store) - I used the deprecated `entity.loadList` in these cases (it's deprecated, but it's _less deprecated_ than the previous approach).

### How to verify

The 8 refactored components work like before (`UploadSettingsForm`, `ModelCacheRefreshJobs`, `CollectionContentView`, `CollectionItemsTable`, `QuestionList`, `SearchResults`, `SavedEntityList`, `SearchApp`).
",kamilmielnik,2025-01-09 14:00:02+00:00,['kamilmielnik'],2025-01-14 08:10:19+00:00,2025-01-14 08:06:51+00:00,https://github.com/metabase/metabase/pull/51908,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2580283457, 'issue_id': 2777922464, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@kamilmielnik You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 9, 14, 4, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580444744, 'issue_id': 2777922464, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40736_tests-577933b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 14, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581981364, 'issue_id': 2777922464, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ce53e5256acbb62c5e43a7fe0f449cfaf10fc8b2...577933b52a1f0f532512d6947b09ba8135dcd3a3.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 10, 7, 46, 25, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-09 14:04:10 UTC): <!---conventional commit reminder comment ID-->
@kamilmielnik You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-09 14:45:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40736_tests-577933b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51908?repo=metabase/metabase&commitHash=577933b52a1f0f532512d6947b09ba8135dcd3a3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-10 07:46:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ce53e5256acbb62c5e43a7fe0f449cfaf10fc8b2...577933b52a1f0f532512d6947b09ba8135dcd3a3.

No notifications.

"
2777915983,pull_request,closed,,[Deets in Sheets] Add fields to question info sidebar,"Let's add fields to the question info sidesheet, and remove the schema tab from the model details page.

---

Design:

![image](https://github.com/user-attachments/assets/7d1c05dd-4ca0-4077-ad3f-0b58578dd033)

[Link to the Figma](https://www.figma.com/design/NOCVfjRaqkVhNqNq8jL9mX/Rework-the-info-sidebar-and-entity-actions?node-id=6734-48134&t=TI9VrGMPyisUxrcs-4)

For now, we'll add these fields to all question sidesheets, not just model sidesheets, as Kyle [confirmed here](https://metaboat.slack.com/archives/C084331FL8P/p1736431929069699).

----

Fields now appear in the sidesheet:

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/653cf64a-c4d8-43a8-b0ee-016d8800880f.png)

----

Schema tab is gone from the model details page:

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/36d2c4e8-45ce-4f18-8338-9b4de58a4d14.png)

- [x] Test added",rafpaf,2025-01-09 13:57:15+00:00,['rafpaf'],2025-01-27 22:10:58+00:00,2025-01-22 14:40:17+00:00,https://github.com/metabase/metabase/pull/51907,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2580259270, 'issue_id': 2777915983, 'author': 'rafpaf', 'body': '* **#51907** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51907?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51907?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 9, 13, 57, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581272399, 'issue_id': 2777915983, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13486_tests-d8df50b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE&runId=363440f1-f4ab-5cae-ae5b-ebd27242c90d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE&runId=68d00204-3ba2-5ed7-a307-c9ca5979b354) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 21, 23, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582976958, 'issue_id': 2777915983, 'author': 'graphite-app[bot]', 'body': '### Graphite Automations\n<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/10/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau\'s automation.</p></details>', 'created_at': datetime.datetime(2025, 1, 10, 15, 35, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604838758, 'issue_id': 2777915983, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d8df50b2e3fd20947f6ee1f5c777919455b06eab-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12888445082?pr=51907)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 21, 14, 9, 33, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-09 13:57:40 UTC): * **#51907** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51907?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51907?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-09 21:23:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13486_tests-d8df50b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE&runId=363440f1-f4ab-5cae-ae5b-ebd27242c90d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment&runConclusion=FAILURE&runId=68d00204-3ba2-5ed7-a307-c9ca5979b354) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/51907?repo=metabase/metabase&commitHash=d8df50b2e3fd20947f6ee1f5c777919455b06eab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

graphite-app[bot] on (2025-01-10 15:35:12 UTC): ### Graphite Automations
<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/10/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau's automation.</p></details>

github-actions[bot] on (2025-01-21 14:09:33 UTC): ## e2e tests failed on `d8df50b2e3fd20947f6ee1f5c777919455b06eab-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12888445082?pr=51907)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

"
