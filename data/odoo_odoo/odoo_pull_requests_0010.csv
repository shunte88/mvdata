id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2784112424,pull_request,closed,,[IMP] im_livechat: cleanup RTC session before we find an operator,"Before this PR, operators could be stuck inside a ""ghost call,"" meaning that they had incorrectly closed RTC sessions. This is an issue with the fact that ""in call"" operators cannot be assigned a new live chat.

This PR cleanup rtc session before trying to find an operator

task-4440897


",phenix-factory,2025-01-13 14:21:07+00:00,[],2025-01-14 10:59:11+00:00,2025-01-14 10:57:45+00:00,https://github.com/odoo/odoo/pull/193427,"[('RD', 'research & development, internal work')]","[{'comment_id': 2587234249, 'issue_id': 2784112424, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193427.png)](https://mergebot.odoo.com/odoo/odoo/pull/193427)', 'created_at': datetime.datetime(2025, 1, 13, 14, 21, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589609564, 'issue_id': 2784112424, 'author': 'phenix-factory', 'body': 'Moved to 18.0 https://github.com/odoo/odoo/pull/193535', 'created_at': datetime.datetime(2025, 1, 14, 10, 57, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 14:21:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193427.png)](https://mergebot.odoo.com/odoo/odoo/pull/193427)

phenix-factory (Issue Creator) on (2025-01-14 10:57:45 UTC): Moved to 18.0 https://github.com/odoo/odoo/pull/193535

"
2784097202,pull_request,closed,,[FIX] stock_account: fifo out condition,"When a outgoing transfer is made, a stock valuation row is created, the problem encountered is within the ‘_prepare_out_svl_vals’ method, even if the valuation method is set to ‘standard price’ it still starts the ‘_run_fifo’ method by scaling the remaining quantities from the unwanted stock valuation row. 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ArcadioPinto,2025-01-13 14:16:03+00:00,[],2025-01-13 14:17:31+00:00,2025-01-13 14:17:22+00:00,https://github.com/odoo/odoo/pull/193426,[],"[{'comment_id': 2587221911, 'issue_id': 2784097202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193426.png)](https://mergebot.odoo.com/odoo/odoo/pull/193426)', 'created_at': datetime.datetime(2025, 1, 13, 14, 16, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 14:16:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193426.png)](https://mergebot.odoo.com/odoo/odoo/pull/193426)

"
2784085726,pull_request,closed,,[FIX] loyalty: parse reward_product_domain as JSON,"Before this commit, `domain['reward_product_domain']` was being evaluated with `ast.literal_eval` while containing JSON-style booleans (`true/false`). That caused a `ValueError` because `true/false` are invalid in Python syntax.

With this commit, we now use `json.loads` to parse the domain string, which correctly handles JSON booleans without error.

opw-4458627

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-13 14:12:23+00:00,[],2025-02-06 11:46:53+00:00,2025-01-23 11:40:46+00:00,https://github.com/odoo/odoo/pull/193425,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2587212953, 'issue_id': 2784085726, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193425.png)](https://mergebot.odoo.com/odoo/odoo/pull/193425)', 'created_at': datetime.datetime(2025, 1, 13, 14, 12, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 14:12:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193425.png)](https://mergebot.odoo.com/odoo/odoo/pull/193425)

"
2784085201,pull_request,closed,,[FW][IMP] l10n_es_edi_tbai: allow setting reversed invoices in outgoing refunds,"When doing a refund for an outgoing invoice, sometimes the user will use Odoo's built-in refund features and the reversed_entry_id field will be filled appropriately. That's OK.

However, other times they will just create a new invoice from scratch. For example, when refunding one line for an invoice that had 100 lines, it's easier to create a new invoice with one line than to create a refund and delete 99 lines from it. In these cases, the user can't link it with the invoice it's refunding, resulting in an error for TicketBAI.

See https://github.com/odoo/odoo/pull/191303#discussion_r1910034083 for details.

@moduon MT-4966

cc @RicGR98 @gelojr

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193392",fw-bot,2025-01-13 14:12:16+00:00,[],2025-01-27 08:48:24+00:00,2025-01-27 08:48:24+00:00,https://github.com/odoo/odoo/pull/193424,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587212571, 'issue_id': 2784085201, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193424.png)](https://mergebot.odoo.com/odoo/odoo/pull/193424)', 'created_at': datetime.datetime(2025, 1, 13, 14, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587212616, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 cherrypicking of pull request odoo/odoo#193392 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml deleted in ba21b59d1234d13b5d4460facd60c586648048b8 and modified in 26774cfa56cbca23f2e380a40a9f3794f4932d2f.  Version 26774cfa56cbca23f2e380a40a9f3794f4932d2f of addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 14, 12, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597277754, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 0, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468640, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600464232, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601173373, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476209, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119463, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608689388, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721860, 'issue_id': 2784085201, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615153031, 'issue_id': 2784085201, 'author': 'RicGR98', 'body': 'Done in https://github.com/odoo/odoo/pull/193376', 'created_at': datetime.datetime(2025, 1, 27, 8, 48, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 14:12:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193424.png)](https://mergebot.odoo.com/odoo/odoo/pull/193424)

fw-bot (Issue Creator) on (2025-01-13 14:12:19 UTC): @Yajo @RicGR98 cherrypicking of pull request odoo/odoo#193392 failed.

stdout:
```
CONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml deleted in ba21b59d1234d13b5d4460facd60c586648048b8 and modified in 26774cfa56cbca23f2e380a40a9f3794f4932d2f.  Version 26774cfa56cbca23f2e380a40a9f3794f4932d2f of addons/l10n_es_edi_tbai_multi_refund/views/account_move_view.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:00:44 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:00:54 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:01:43 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:01:40 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:01:24 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:38 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:01:21 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:24 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#193392 is awaiting action (not merged or closed).

RicGR98 on (2025-01-27 08:48:24 UTC): Done in https://github.com/odoo/odoo/pull/193376

"
2783998925,pull_request,closed,,[FW][FIX] resource_mail: added wrench icon for many2one_avatar_resource,"Steps to reproduce:

- Open planning app and click on New.
- A form is opened and searched for a material resource in the Resource field ex. Crane
- An empty photo icon is displayed in the selection bar.

Issue:

- An empty photo icon is being displayed instead of a wrench.

Cause:

- Many2XAutocomplete which adds an image in the many2one selection field is not modified to display
- the wrench icon in the many2one_avatar_resource_field.

Solution:

- A similar modification is done in many2many_avatar_resource_field through class which extends Many2XAutocomplete which can be imported and added into components of many2one_avatar_resource_field.

fix the alignment between of icon and text in many2many_avatar_resource.

task-3801551

Forward-Port-Of: odoo/odoo#193083
Forward-Port-Of: odoo/odoo#157968",fw-bot,2025-01-13 13:43:18+00:00,[],2025-01-30 05:46:43+00:00,2025-01-16 05:03:10+00:00,https://github.com/odoo/odoo/pull/193423,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587140906, 'issue_id': 2783998925, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193423.png)](https://mergebot.odoo.com/odoo/odoo/pull/193423)', 'created_at': datetime.datetime(2025, 1, 13, 13, 43, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587140964, 'issue_id': 2783998925, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 43, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587390680, 'issue_id': 2783998925, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol the next pull request (odoo/odoo#193446) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 15, 16, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621399, 'issue_id': 2783998925, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#157968 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591479177, 'issue_id': 2783998925, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#157968 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593127361, 'issue_id': 2783998925, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 15, 11, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:43:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193423.png)](https://mergebot.odoo.com/odoo/odoo/pull/193423)

fw-bot (Issue Creator) on (2025-01-13 13:43:22 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 15:16:16 UTC): @kthe-odoo @xavierbol the next pull request (odoo/odoo#193446) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:02:24 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#157968 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:17 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#157968 is awaiting action (not merged or closed).

xavierbol on (2025-01-15 15:11:14 UTC): robodoo r+

"
2783998075,pull_request,open,,[FIX] sale_stock: valuation when same prod on different,"In case two sale order lines share the same product in automated inventory valuation, the system will make an incorrect valuation

Steps to reproduce:
- Enable Anglo-Saxon accounting.
- Create a storable product [TEST], with category set to automated valuation - FIFO.
- Create a purchase order with 2 lines
  1. Product [TEST], quantity 10, price unit 100
  2. Product [TEST], quantity 30, price unit 300
- Receive the product
- Create a sales order with 2 lines:
  1. Product [TEST], quantity 10, price unit 100
  2. Product [TEST], quantity 30, price unit 300
- Validate the delivery.
- Create an invoice from the SO, edit the second line quantity 30 -> 10, and validate
- Create a second invoice for the remaining 15 units from line 2, and validate it.

Issue In the second invoice, CoGs line is incorrect: it should have been 15 × 300 = 4500 but is instead 6500.

This occurs because when looking for [TEST] Cogs lines, we retrieve the two cogs line from invoices 1. So we will consider the invoice quantity of both lines (25), but we try to consume the svl of the second sale order line

opw-4358491

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",agr-odoo,2025-01-13 13:42:57+00:00,[],2025-02-07 11:03:49+00:00,,https://github.com/odoo/odoo/pull/193422,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2587140543, 'issue_id': 2783998075, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193422.png)](https://mergebot.odoo.com/odoo/odoo/pull/193422)', 'created_at': datetime.datetime(2025, 1, 13, 13, 43, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587143619, 'issue_id': 2783998075, 'author': 'agr-odoo', 'body': ""@adwid \r\nI would gladly accept suggestions on how to tackle this\r\nClearly adding quantity in the domain is not ok for a generic case, but it doesn't seems we have another way to locate the exact cogs we need"", 'created_at': datetime.datetime(2025, 1, 13, 13, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639790682, 'issue_id': 2783998075, 'author': 'agr-odoo', 'body': '@adwid', 'created_at': datetime.datetime(2025, 2, 6, 13, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642602735, 'issue_id': 2783998075, 'author': 'adwid', 'body': ""Honestly\r\nIt's an edge case\r\nWe are in the third/last year of support for that version\r\nI think it's better to consider this like a limitation and avoid bringing any bad side effects\r\n\r\n(And sorry for the too-long delay in answering)"", 'created_at': datetime.datetime(2025, 2, 7, 11, 3, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:43:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193422.png)](https://mergebot.odoo.com/odoo/odoo/pull/193422)

agr-odoo (Issue Creator) on (2025-01-13 13:44:32 UTC): @adwid 
I would gladly accept suggestions on how to tackle this
Clearly adding quantity in the domain is not ok for a generic case, but it doesn't seems we have another way to locate the exact cogs we need

agr-odoo (Issue Creator) on (2025-02-06 13:11:14 UTC): @adwid

adwid on (2025-02-07 11:03:48 UTC): Honestly
It's an edge case
We are in the third/last year of support for that version
I think it's better to consider this like a limitation and avoid bringing any bad side effects

(And sorry for the too-long delay in answering)

"
2783974793,pull_request,closed,,[FIX] rpc: re-raise exceptions for http.py,"For my friends at tech support

Exceptions in RPC are handled and a Response is returned directly. It is a different behaviour than jsonrpc where the exception is raised and the dispatcher wraps it is a Response after logging the exception. The xmlrpc code should also raise an exception so that it can be handled in http.py. Adding here a way to detect if a Response was already generated for an exception in the exception handler of HTTP.

Related: #193208",Julien00859,2025-01-13 13:33:16+00:00,[],2025-01-15 09:11:24+00:00,2025-01-14 18:53:25+00:00,https://github.com/odoo/odoo/pull/193421,"[('RD', 'research & development, internal work')]","[{'comment_id': 2587117974, 'issue_id': 2783974793, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193421.png)](https://mergebot.odoo.com/odoo/odoo/pull/193421)', 'created_at': datetime.datetime(2025, 1, 13, 13, 33, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590147093, 'issue_id': 2783974793, 'author': 'Julien00859', 'body': '@robodoo up-to saas-18.1', 'created_at': datetime.datetime(2025, 1, 14, 14, 56, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590147243, 'issue_id': 2783974793, 'author': 'robodoo', 'body': ""@Julien00859 unknown command 'up-to'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`override=<...>`|marks overridable statuses as successful|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 14, 14, 56, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590147938, 'issue_id': 2783974793, 'author': 'Julien00859', 'body': '@robodoo up to saas-18.1', 'created_at': datetime.datetime(2025, 1, 14, 14, 57, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590148124, 'issue_id': 2783974793, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 1, 14, 14, 57, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:33:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193421.png)](https://mergebot.odoo.com/odoo/odoo/pull/193421)

Julien00859 (Issue Creator) on (2025-01-14 14:56:47 UTC): @robodoo up-to saas-18.1

robodoo on (2025-01-14 14:56:49 UTC): @Julien00859 unknown command 'up-to'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`override=<...>`|marks overridable statuses as successful|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

Julien00859 (Issue Creator) on (2025-01-14 14:57:04 UTC): @robodoo up to saas-18.1

robodoo on (2025-01-14 14:57:07 UTC): Forward-porting to 'saas-18.1'.

"
2783970164,pull_request,open,,[FIX] web_editor: editing link should not convert to telephone url,"**Behavior before PR:**

When user edits link and inserts 3 or more digits, link url gets converted to telephone url. This happens because in sanitize.js `deduceURLfromText` method converts url to telephone url if label matches the regex.

**Behavior after PR:**

Now, inserting 3 or more digits will not convert existing url to telephone url directly. If current link is telephone url or
label starts with `""tel:""` prefix then url will get converted to telephone url if label matches the `PHONE_REGEX`.

task-4173806


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adsa-odoo,2025-01-13 13:31:18+00:00,[],2025-01-20 09:58:39+00:00,,https://github.com/odoo/odoo/pull/193420,"[('RD', 'research & development, internal work')]","[{'comment_id': 2587113547, 'issue_id': 2783970164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193420.png)](https://mergebot.odoo.com/odoo/odoo/pull/193420)', 'created_at': datetime.datetime(2025, 1, 13, 13, 31, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:31:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193420.png)](https://mergebot.odoo.com/odoo/odoo/pull/193420)

"
2783969761,pull_request,closed,,[FW][FIX] project: Use company id data not company record,"Steps:
- Install project_todo
- Create a second company
- Create a project
- Link the project to a company
- Setup a default value for task.project_id with your new project (1)
- Try to open project_todo

Actual result:
- Error due to company id
- can't adapt type 'res.company'

Expected result:
- No error
- Welcome task is created and project is opened

opw-4465277

Caused by https://github.com/odoo/odoo/pull/173625

Forward-Port-Of: odoo/odoo#193359",fw-bot,2025-01-13 13:31:07+00:00,[],2025-01-29 17:35:59+00:00,2025-01-15 17:25:56+00:00,https://github.com/odoo/odoo/pull/193419,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587113431, 'issue_id': 2783969761, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193419.png)](https://mergebot.odoo.com/odoo/odoo/pull/193419)', 'created_at': datetime.datetime(2025, 1, 13, 13, 31, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587113461, 'issue_id': 2783969761, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 31, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590605991, 'issue_id': 2783969761, 'author': 'robodoo', 'body': '@GaetanVandenBergh @xavierbol staging failed: ci/runbot on 88bb8d75c7a2c379c7b65e376822a0a76d10c29f (view more at https://runbot.odoo.com/runbot/build/73342418)', 'created_at': datetime.datetime(2025, 1, 14, 17, 14, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593258173, 'issue_id': 2783969761, 'author': 'xavierbol', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 15, 15, 39, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:31:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193419.png)](https://mergebot.odoo.com/odoo/odoo/pull/193419)

fw-bot (Issue Creator) on (2025-01-13 13:31:19 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-14 17:14:07 UTC): @GaetanVandenBergh @xavierbol staging failed: ci/runbot on 88bb8d75c7a2c379c7b65e376822a0a76d10c29f (view more at https://runbot.odoo.com/runbot/build/73342418)

xavierbol on (2025-01-15 15:39:44 UTC): robodoo retry

"
2783969161,pull_request,closed,,[FW][FIX] point_of_sale: handle inaccessible paid orders,"Before this commit, when a user without access to certain orders attempted to load paid orders, the process would fail and result in an error. This was particularly problematic if a POS order was linked to a sale order that the user did not have permission to access, causing the entire loading process to halt.

This commit addresses the issue by filtering out paid orders that the user cannot access.

opw-4108044

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192702
Forward-Port-Of: odoo/odoo#177592",fw-bot,2025-01-13 13:30:51+00:00,[],2025-02-06 15:33:40+00:00,2025-01-23 15:22:56+00:00,https://github.com/odoo/odoo/pull/193418,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587112542, 'issue_id': 2783969161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193418.png)](https://mergebot.odoo.com/odoo/odoo/pull/193418)', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587112560, 'issue_id': 2783969161, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#177592 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621271, 'issue_id': 2783969161, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591479064, 'issue_id': 2783969161, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313926, 'issue_id': 2783969161, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278730, 'issue_id': 2783969161, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600472258, 'issue_id': 2783969161, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609885141, 'issue_id': 2783969161, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 14, 0, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:30:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193418.png)](https://mergebot.odoo.com/odoo/odoo/pull/193418)

fw-bot (Issue Creator) on (2025-01-13 13:30:53 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#177592 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:02:18 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:10 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:44 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:41 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:38 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#177592 is awaiting action (not merged or closed).

pedrambiria on (2025-01-23 14:00:58 UTC): robodoo r+

"
2783968619,pull_request,closed,,[FW][FIX] mail: correctly handle iOS push notifications,"iOS push notifications do not work on Safari: they only work in apps. The notifications are managed by the apps, whether with native mobile app or PWA.

With PWA, it should normally rely on `Notification.permission`, but somehow it doesn't work and always has value ""default"". Its showing has been limited to the PWA, but it keeps showing a persistent notification. Clicking on it the 1st time displays a prompt to either accept or deny the permissions. Afterwards, further clicks on the ""odoobot has a request"" automatically display ""granted"" or ""denied"" based on user initial choice.

iOS push permissions seem to necessarily rely on
`serviceWorker.getRegistration().pushManager`, which works only on HTTPS, hence why iOS push notifications do not work on HTTP. Also actual push permission state are correct there whereas on Notification.permission they are wrong.

This commit fixes the issue by computing the push notification permisssion state correctly on iOS, using
`serviceWorker.getRegistration().pushManager`.

opw-4391766

Backport of
https://github.com/odoo/odoo/pull/178057
https://github.com/odoo/odoo/pull/187038
https://github.com/odoo/odoo/pull/188258

Forward-Port-Of: odoo/odoo#193257",fw-bot,2025-01-13 13:30:35+00:00,[],2025-01-13 19:43:38+00:00,2025-01-13 18:27:58+00:00,https://github.com/odoo/odoo/pull/193417,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587111924, 'issue_id': 2783968619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193417.png)](https://mergebot.odoo.com/odoo/odoo/pull/193417)', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587111950, 'issue_id': 2783968619, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587317987, 'issue_id': 2783968619, 'author': 'fw-bot', 'body': '@alexkuhn @zel-odoo the next pull request (odoo/odoo#193436) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 14, 52, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587592980, 'issue_id': 2783968619, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 16, 28, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:30:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193417.png)](https://mergebot.odoo.com/odoo/odoo/pull/193417)

fw-bot (Issue Creator) on (2025-01-13 13:30:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 14:52:23 UTC): @alexkuhn @zel-odoo the next pull request (odoo/odoo#193436) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-13 16:28:01 UTC): @robodoo r+

"
2783967987,pull_request,closed,,[FW][FIX] base: website is not shown in the contact qweb widget,"**Affects**
16.0+

**Steps to reproduce:**

- Render the Contact qweb widget with fields [""phone"", ""website""]

```py
Contact = self.env[""ir.qweb.field.contact""]
partner = self.env[""res.partner""].create(
    {
        ""name"": ""Test Partner"",
        ""phone"": ""1234567890"",
        ""website"": ""https://www.example.com"",
    }
)
result = Contact.value_to_html(partner, {""fields"": [""phone"", ""website""]})
```

**Result:**

- The website is not shown

---

This is a regression introduced in 9e53aea9, in combination with some buggy behavior in the qweb compilation.

Somehow the `t-elif` condition is applying on the next element instead on itself, hiding the website item. I did not investigate this further.


ping @lvsz @ryv-odoo

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192460
Forward-Port-Of: odoo/odoo#191201",fw-bot,2025-01-13 13:30:18+00:00,[],2025-01-28 10:13:47+00:00,2025-01-14 09:43:00+00:00,https://github.com/odoo/odoo/pull/193416,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587111248, 'issue_id': 2783967987, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193416.png)](https://mergebot.odoo.com/odoo/odoo/pull/193416)', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587111275, 'issue_id': 2783967987, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:30:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193416.png)](https://mergebot.odoo.com/odoo/odoo/pull/193416)

fw-bot (Issue Creator) on (2025-01-13 13:30:20 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783967053,pull_request,closed,,[FW][FIX] website_sale_loyalty: validate rewards before payment,"Versions
--------
- 16.0+

Steps
-----
1. Have a payment provider like Demo published;
2. create a discount program that expired yesterday;
3. change time of PC to yesterday;
4. go to eCommerce, add product to cart, go to checkout;
5. follow steps until you get to the ""Pay Now"" button;
6. change time of PC to today;
7. finalize payment.

Issue
-----
The payment transaction proceeds, but doesn't cover the entire amount, as the promotion was removed afterwards.

Cause
-----
When initiating payment, there's check on whether the applied rewards are still valid.

Solution
--------
Add an override for `_validate_transaction_for_order`, which compares the order amount before and after updating programs & rewards.

If they don't match, raise a `ValidationError`, forcing the user reload the order without expired programs & rewards.

opw-4304241

Forward-Port-Of: odoo/odoo#193090
Forward-Port-Of: odoo/odoo#191256",fw-bot,2025-01-13 13:29:52+00:00,[],2025-01-27 19:55:41+00:00,2025-01-13 19:48:49+00:00,https://github.com/odoo/odoo/pull/193415,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587110720, 'issue_id': 2783967053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193415.png)](https://mergebot.odoo.com/odoo/odoo/pull/193415)', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587110739, 'issue_id': 2783967053, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#191256 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale_loyalty/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py\nAuto-merging addons/website_sale_loyalty/i18n/website_sale_loyalty.pot\nAuto-merging addons/website_sale_loyalty/tests/__init__.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/tests/__init__.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 30, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587515464, 'issue_id': 2783967053, 'author': 'lvsz', 'body': 'Taxcloud is no longer supported as of https://github.com/odoo/enterprise/pull/53768, so removed that part from the validation', 'created_at': datetime.datetime(2025, 1, 13, 15, 58, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587564094, 'issue_id': 2783967053, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 16, 16, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:30:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193415.png)](https://mergebot.odoo.com/odoo/odoo/pull/193415)

fw-bot (Issue Creator) on (2025-01-13 13:30:07 UTC): @lvsz cherrypicking of pull request odoo/odoo#191256 failed.

stdout:
```
Auto-merging addons/website_sale_loyalty/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py
Auto-merging addons/website_sale_loyalty/i18n/website_sale_loyalty.pot
Auto-merging addons/website_sale_loyalty/tests/__init__.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/tests/__init__.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-13 15:58:28 UTC): Taxcloud is no longer supported as of https://github.com/odoo/enterprise/pull/53768, so removed that part from the validation

lvsz on (2025-01-13 16:16:29 UTC): robodoo r+

"
2783956288,pull_request,closed,,"[FW][FIX] purchase_stock,stock_dropshipping: add dropship product to PO","If the user adds a product to a PO generated for a sold and
subcontrated service, the picking will be a receipt and the related
SO will not be updated

To reproduce the issue:
1. Create a service S:
   - Add a new vendor V
   - Subcontracted Service: True
2. Create a product P:
   - Vendor V
   - Routes: Dropship
3. Create and confirm a SO with 1 x S
4. Add 1 x P to the PO
5. Confirm the PO
   - Error 01: it generates a receipt while a dropship is expected
6. Process the receipt
   - Error 02: the SO does not change while a new SOL for P1 is expected

If the initial SO had P, it would work correctly. The user could
even add a second dropshipped product before confirming the PO, the
picking would be a dropship and there would be some new SOL for the
dropship products.

When confirming a SO, the process that generates the PO depends on
the SOL. If at least one of them is a product, the stock rule
mechanism will always handle the situation since it is called before
the `super`:
https://github.com/odoo/odoo/blob/899878f8e4d61de6b7bb6e4799a3e97e8d9f4434/addons/sale_stock/models/sale_order.py#L176-L178
while, service side, we generate the PO after `super`
https://github.com/odoo/odoo/blob/706431510110a005618a2acaf6566f2bb61d5114/addons/sale_purchase/models/sale_order.py#L20-L24
And, good news, everything works correctly when the PO is created by
the stock rules.

However, when creating a PO for a sold service, we have few mistakes.
First, we don't provide any operation type:
https://github.com/odoo/odoo/blob/238a41e35280256382f6509182b9e900fb4f7aba/addons/sale_purchase/models/sale_order_line.py#L131-L141
We therefore use the default one, a receipt:
https://github.com/odoo/odoo/blob/f9381a0611207e0fec6b957aef3b160437ecbafb/addons/purchase_stock/models/purchase_order.py#L23
We don't provide any destination address either, as explicitly said
by the comment: ""False since only supported in stock"". All this
could make sense as long as we don't add any product. If we do, we
will then have an issue with the picking: error 01. The PO has been
created to subcontract a service to a customer. It's a dropship-like
situation. We should therefore anticipate the situation and set some
correct values in case we add some products.

Then, when processing the picking, we update the related SO in some
conditions:
https://github.com/odoo/odoo/blob/84d2c884300f090103b917b8911d82dbeac9279e/addons/sale_stock/models/stock.py#L119-L130
Fixing error 01 solves a part of the conditions: we now have a
correct destination location. However, we still don't have any SO
linked to the picking. This info actually comes from the group:
https://github.com/odoo/odoo/blob/84d2c884300f090103b917b8911d82dbeac9279e/addons/sale_stock/models/stock.py#L87-L90
However, when confirming the PO, it leads to the picking creation.
To do so, we directly create the missing group but we don't provide
any value for `sale_id`:
https://github.com/odoo/odoo/blob/f9381a0611207e0fec6b957aef3b160437ecbafb/addons/purchase_stock/models/purchase_order.py#L259-L264

OPW-4332074

Forward-Port-Of: odoo/odoo#193300
Forward-Port-Of: odoo/odoo#192375",fw-bot,2025-01-13 13:25:11+00:00,[],2025-01-28 17:05:31+00:00,2025-01-14 16:55:43+00:00,https://github.com/odoo/odoo/pull/193414,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2587099283, 'issue_id': 2783956288, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193414.png)](https://mergebot.odoo.com/odoo/odoo/pull/193414)', 'created_at': datetime.datetime(2025, 1, 13, 13, 25, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587099314, 'issue_id': 2783956288, 'author': 'fw-bot', 'body': '@adwid @ticodoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 25, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618902, 'issue_id': 2783956288, 'author': 'fw-bot', 'body': '@adwid @ticodoo this forward port of odoo/odoo#192375 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590122079, 'issue_id': 2783956288, 'author': 'adwid', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 14, 47, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:25:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193414.png)](https://mergebot.odoo.com/odoo/odoo/pull/193414)

fw-bot (Issue Creator) on (2025-01-13 13:25:13 UTC): @adwid @ticodoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:27 UTC): @adwid @ticodoo this forward port of odoo/odoo#192375 is awaiting action (not merged or closed).

adwid on (2025-01-14 14:47:17 UTC): robodoo r+

"
2783955666,pull_request,closed,,[FW][FIX] point_of_sale: closing with negative combined payment,"It is impossible to close a session when there is a combined payment amount with a negative value.

Steps to reproduce:
- Create a new bank payment method and assign as payment method of a pos.config.
- Open a session.
- Sell with negative amount (e.g. negative quantity) and pay using the new payment method.
- [ISSUE] Try to close the session and you will get an error.

When a payment amount is negative, we invert the destination and outstanding accounts. Prior to creation of the `account.payment` record, it's possible that an outstanding account is missing. This value can be missing but will be automatically assigned during the creation of the `account.payment` record.

So instead of inverting the accounts before creating the `account.payment` record, we now invert them after the creation.

OPW: 4317320

Forward-Port-Of: odoo/odoo#192527
Forward-Port-Of: odoo/odoo#192328",fw-bot,2025-01-13 13:24:54+00:00,[],2025-01-22 14:10:38+00:00,2025-01-22 14:10:38+00:00,https://github.com/odoo/odoo/pull/193413,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587098679, 'issue_id': 2783955666, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193413.png)](https://mergebot.odoo.com/odoo/odoo/pull/193413)', 'created_at': datetime.datetime(2025, 1, 13, 13, 24, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587098703, 'issue_id': 2783955666, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 24, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619019, 'issue_id': 2783955666, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478443, 'issue_id': 2783955666, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313250, 'issue_id': 2783955666, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468810, 'issue_id': 2783955666, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607352279, 'issue_id': 2783955666, 'author': 'caburj', 'body': '@sbel-odoo \r\n\r\ndropping this for your fix.', 'created_at': datetime.datetime(2025, 1, 22, 14, 10, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:24:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193413.png)](https://mergebot.odoo.com/odoo/odoo/pull/193413)

fw-bot (Issue Creator) on (2025-01-13 13:24:56 UTC): @caburj @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:33 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:36 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:13 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:16 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

caburj on (2025-01-22 14:10:38 UTC): @sbel-odoo 

dropping this for your fix.

"
2783955115,pull_request,closed,,[FW][FIX] mail: should be able to mention non-members in accessible channels,"Current behavior before PR:

In channel it was not possible to mention internal users which are non-members of channel.

Desired behavior after PR is merged:

now it is possible to mention internal users who has access to the channel

task-4100364

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193325
Forward-Port-Of: odoo/odoo#176758",fw-bot,2025-01-13 13:24:38+00:00,[],2025-01-15 10:07:20+00:00,2025-01-15 07:37:43+00:00,https://github.com/odoo/odoo/pull/193412,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2587098075, 'issue_id': 2783955115, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193412.png)](https://mergebot.odoo.com/odoo/odoo/pull/193412)', 'created_at': datetime.datetime(2025, 1, 13, 13, 24, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587098098, 'issue_id': 2783955115, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 24, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591479087, 'issue_id': 2783955115, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn this forward port of odoo/odoo#176758 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591742908, 'issue_id': 2783955115, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 6, 22, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:24:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193412.png)](https://mergebot.odoo.com/odoo/odoo/pull/193412)

fw-bot (Issue Creator) on (2025-01-13 13:24:40 UTC): @jayp-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-15 02:02:12 UTC): @jayp-odoo @alexkuhn this forward port of odoo/odoo#176758 is awaiting action (not merged or closed).

jayp-odoo on (2025-01-15 06:22:54 UTC): @robodoo r+

"
2783949160,pull_request,closed,,"[FW][FIX] l10n_es_edi_{facturae,sii}: FechaOperacion / OperationDate","Currently the folllowing fields are not set / given in the SII / FaturaE XMLs respectively:
  * `FechaOperacion` (l10n_es_edi_sii)
  * `OperationDate` (l10n_es_edi_facturae)

After this commit they will give the delivery date in case the delivery date is different from the invoice date.

This is basically the same as it was done for TicketBat (l10n_es_edi_tbai) in commit 1451f589895f0867cd40add66e5e6bcbb5ba4a6e already.

opw-4367470

Enterprise PR: https://github.com/odoo/enterprise/pull/76523

Forward-Port-Of: odoo/odoo#192467",fw-bot,2025-01-13 13:22:00+00:00,[],2025-01-27 17:52:34+00:00,2025-01-13 17:52:18+00:00,https://github.com/odoo/odoo/pull/193411,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587092269, 'issue_id': 2783949160, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193411.png)](https://mergebot.odoo.com/odoo/odoo/pull/193411)', 'created_at': datetime.datetime(2025, 1, 13, 13, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587092322, 'issue_id': 2783949160, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 22, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587286458, 'issue_id': 2783949160, 'author': 'fw-bot', 'body': '@svfu-odoo @RicGR98 the next pull request (odoo/odoo#193435) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 14, 41, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587409138, 'issue_id': 2783949160, 'author': 'svfu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 22, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:22:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193411.png)](https://mergebot.odoo.com/odoo/odoo/pull/193411)

fw-bot (Issue Creator) on (2025-01-13 13:22:03 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 14:41:02 UTC): @svfu-odoo @RicGR98 the next pull request (odoo/odoo#193435) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

svfu-odoo on (2025-01-13 15:22:01 UTC): @robodoo r+

"
2783928189,pull_request,closed,,[FW][REF] web_tour: remove saveAs attribute,"In this commit, in order to simplify the tours API, we remove the saveAs
attribute from the tour object definition. This attribute does not bring
anything in the sense that it just allows not to create in the registry
a tour that could already exist and to save it under another name
to have access to it from tour_service.
To avoid the error of creating a key that already exists in the
registry, simply remove it before adding it again.
This is only used in the website module for the homepage tour.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193065",fw-bot,2025-01-13 13:12:44+00:00,[],2025-02-03 12:14:11+00:00,2025-01-20 12:03:33+00:00,https://github.com/odoo/odoo/pull/193410,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2587071616, 'issue_id': 2783928189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193410.png)](https://mergebot.odoo.com/odoo/odoo/pull/193410)', 'created_at': datetime.datetime(2025, 1, 13, 13, 12, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587071643, 'issue_id': 2783928189, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193382\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 12, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587358080, 'issue_id': 2783928189, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 7, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591944014, 'issue_id': 2783928189, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 15, 8, 37, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597277953, 'issue_id': 2783928189, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 0, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468693, 'issue_id': 2783928189, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600465078, 'issue_id': 2783928189, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601173639, 'issue_id': 2783928189, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601706827, 'issue_id': 2783928189, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 8, 15, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:12:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193410.png)](https://mergebot.odoo.com/odoo/odoo/pull/193410)

fw-bot (Issue Creator) on (2025-01-13 13:12:46 UTC): @pipu-odoo @BastienFafchamps this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193382

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-13 15:07:03 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-15 08:37:52 UTC): @pipu-odoo @BastienFafchamps this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-17 02:00:55 UTC): @pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:02 UTC): @pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:01:51 UTC): @pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:01:53 UTC): @pipu-odoo @BastienFafchamps this forward port of odoo/odoo#193065 is awaiting action (not merged or closed).

pipu-odoo on (2025-01-20 08:15:14 UTC): @robodoo r+

"
2783927613,pull_request,closed,,[FW][FIX] point_of_sale: disable payment method,"Steps to reproduce:
--------------------------
- Install the point_of_sale module.
- Set up any payment terminal.
- Attempt payment using the terminal.
- Cancel the transaction request.

Issue:
--------
- Payment method button remains in progress mode after canceling the transaction.
- In mobile view, the payment status message lacks a visible background.

Cause:
---------
- Transaction progress state is not reset after a successful cancellation.
- Missing responsive classes for mobile view.

Fix:
----
- Reset the payment method progress state after a successful cancellation.
- Add appropriate classes to ensure the payment status background is visible across all views.

Task: 4427387

Forward-Port-Of: odoo/odoo#191618",fw-bot,2025-01-13 13:12:26+00:00,[],2025-01-29 08:08:13+00:00,2025-01-15 07:39:49+00:00,https://github.com/odoo/odoo/pull/193409,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587070970, 'issue_id': 2783927613, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193409.png)](https://mergebot.odoo.com/odoo/odoo/pull/193409)', 'created_at': datetime.datetime(2025, 1, 13, 13, 12, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587071001, 'issue_id': 2783927613, 'author': 'fw-bot', 'body': '@sjai-odoo @caburj cherrypicking of pull request odoo/odoo#191618 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_lines/payment_lines.xml\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 12, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591744996, 'issue_id': 2783927613, 'author': 'sjai-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 6, 24, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:12:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193409.png)](https://mergebot.odoo.com/odoo/odoo/pull/193409)

fw-bot (Issue Creator) on (2025-01-13 13:12:28 UTC): @sjai-odoo @caburj cherrypicking of pull request odoo/odoo#191618 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_lines/payment_lines.xml
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

sjai-odoo on (2025-01-15 06:24:49 UTC): @robodoo r+

"
2783926839,pull_request,closed,,"[FW][FIX] tools,spreadsheet_dashboard_*: export all spreadsheet translations","Currently, the extractor looking for terms to translate in spreadsheet files was specifically looking for files ending in ""_spreadsheet.json"". However, since this version there were new spreadsheets added that ended in ""_spreadsheet.osheet.json"". The translation extractor couldn't find these and the terms were never extracted, resulting in missing translations.

This commit searches for both filename patterns to export the terms.

We also make sure that file references are only extracted once per term per file.

Related to https://github.com/odoo/enterprise/pull/75605

Forward-Port-Of: odoo/odoo#193054
Forward-Port-Of: odoo/odoo#190598",fw-bot,2025-01-13 13:12:07+00:00,[],2025-01-27 18:24:41+00:00,2025-01-13 18:06:40+00:00,https://github.com/odoo/odoo/pull/193408,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587070369, 'issue_id': 2783926839, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193408.png)](https://mergebot.odoo.com/odoo/odoo/pull/193408)', 'created_at': datetime.datetime(2025, 1, 13, 13, 12, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587070424, 'issue_id': 2783926839, 'author': 'fw-bot', 'body': '@dylankiss @rrahir while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#77038) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 12, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587172287, 'issue_id': 2783926839, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 56, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:12:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193408.png)](https://mergebot.odoo.com/odoo/odoo/pull/193408)

fw-bot (Issue Creator) on (2025-01-13 13:12:13 UTC): @dylankiss @rrahir while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#77038) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-13 13:56:07 UTC): @robodoo r+

"
2783925905,pull_request,closed,,"[FW][FIX] base, mail, *: fix issues with avatar route","\* = im_livechat, portal, web

Validating access in controllers based on generic queries is slow, so it needs to be removed.

It also grants more access than necessary, effectively making some avatars fully public depending on hard to track states or relations, when it only needs to be available in a specific context.

Access could be validated with more specific queries instead, for example for a specific thread. While that solves the biggest performance issue, it's still not the fastest, but more importantly it requires a lot of contextual info to be forwarded to the route. And having one route per thread removes the ability to cache the avatar between various context (in particular from one channel to the next). Also avatar are not always displayed in the context of threads, so it doesn't fully resolve the issue and requires to think about more conditions and more contexts.

The generic token of the target record could be used when it exists, but the token could be used to leak other information (portal, ...), and it doesn't always exist.

This commit introduces a solution resolving all issues, with almost no drawback. The access is granted through a token which is specific to displaying the avatar. The token is only given when necessary, so minimal access is granted in all cases. The token is the same in all contexts, allowing caching. Validating the token is much faster than making queries. The token has an expiration date to minimize data access in time, but it can be refreshed at any time if the user can still access the source of the token.

https://github.com/odoo/enterprise/pull/77037

Forward-Port-Of: odoo/odoo#187799",fw-bot,2025-01-13 13:11:43+00:00,[],2025-01-27 16:15:06+00:00,2025-01-18 18:00:12+00:00,https://github.com/odoo/odoo/pull/193407,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587069473, 'issue_id': 2783925905, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193407.png)](https://mergebot.odoo.com/odoo/odoo/pull/193407)', 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587069525, 'issue_id': 2783925905, 'author': 'fw-bot', 'body': '@seb-odoo @tsm-odoo cherrypicking of pull request odoo/odoo#187799 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/controllers/main.py\nCONFLICT (content): Merge conflict in addons/im_livechat/controllers/main.py\nAuto-merging addons/im_livechat/models/__init__.py\nAuto-merging addons/im_livechat/models/discuss_channel.py\nCONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel.py\nAuto-merging addons/im_livechat/models/discuss_channel_member.py\nCONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel_member.py\nCONFLICT (modify/delete): addons/im_livechat/models/ir_binary.py deleted in ae6afd0e77a8a93655ede8bb93feb17c6a38c890 and modified in 572ce9d56341a24b209603c490e0c652dfdd0c41.  Version 572ce9d56341a24b209603c490e0c652dfdd0c41 of addons/im_livechat/models/ir_binary.py left in tree.\nAuto-merging addons/im_livechat/models/mail_message.py\nCONFLICT (content): Merge conflict in addons/im_livechat/models/mail_message.py\nAuto-merging addons/im_livechat/static/tests/embed/chat_window.test.js\nCONFLICT (content): Merge conflict in addons/im_livechat/static/tests/embed/chat_window.test.js\nAuto-merging addons/im_livechat/static/tests/mock_server/livechat_mock_server.js\nAuto-merging addons/im_livechat/static/tests/mock_server/mock_models/discuss_channel.js\nAuto-merging addons/im_livechat/tests/test_get_discuss_channel.py\nCONFLICT (content): Merge conflict in addons/im_livechat/tests/test_get_discuss_channel.py\nAuto-merging addons/im_livechat/tests/test_message.py\nCONFLICT (modify/delete): addons/mail/models/discuss/ir_binary.py deleted in ae6afd0e77a8a93655ede8bb93feb17c6a38c890 and modified in 572ce9d56341a24b209603c490e0c652dfdd0c41.  Version 572ce9d56341a24b209603c490e0c652dfdd0c41 of addons/mail/models/discuss/ir_binary.py left in tree.\nAuto-merging addons/mail/models/discuss/mail_guest.py\nCONFLICT (content): Merge conflict in addons/mail/models/discuss/mail_guest.py\nCONFLICT (modify/delete): addons/mail/models/ir_binary.py deleted in ae6afd0e77a8a93655ede8bb93feb17c6a38c890 and modified in 572ce9d56341a24b209603c490e0c652dfdd0c41.  Version 572ce9d56341a24b209603c490e0c652dfdd0c41 of addons/mail/models/ir_binary.py left in tree.\nAuto-merging addons/mail/models/mail_message.py\nCONFLICT (content): Merge conflict in addons/mail/models/mail_message.py\nAuto-merging addons/mail/models/mail_message_reaction.py\nCONFLICT (content): Merge conflict in addons/mail/models/mail_message_reaction.py\nAuto-merging addons/mail/models/mail_thread.py\nCONFLICT (content): Merge conflict in addons/mail/models/mail_thread.py\nAuto-merging addons/mail/models/res_partner.py\nCONFLICT (content): Merge conflict in addons/mail/models/res_partner.py\nAuto-merging addons/mail/models/res_users.py\nCONFLICT (content): Merge conflict in addons/mail/models/res_users.py\nAuto-merging addons/mail/static/src/core/common/persona_model.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/persona_model.js\nAuto-merging addons/mail/static/tests/mock_server/mail_mock_server.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/mail_message.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js\nAuto-merging addons/mail/tests/discuss/test_discuss_binary_controller.py\nAuto-merging addons/mail/tests/discuss/test_discuss_channel.py\nAuto-merging addons/portal/controllers/mail.py\nCONFLICT (content): Merge conflict in addons/portal/controllers/mail.py\nAuto-merging addons/test_discuss_full/tests/test_performance.py\nCONFLICT (content): Merge conflict in addons/test_discuss_full/tests/test_performance.py\nAuto-merging addons/test_mail/tests/test_mail_followers.py\nCONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_followers.py\nAuto-merging addons/test_mail/tests/test_performance.py\nCONFLICT (content): Merge conflict in addons/test_mail/tests/test_performance.py\nCONFLICT (modify/delete): addons/test_mail/tests/test_public_binary_controller.py deleted in 572ce9d56341a24b209603c490e0c652dfdd0c41 and modified in ae6afd0e77a8a93655ede8bb93feb17c6a38c890.  Version ae6afd0e77a8a93655ede8bb93feb17c6a38c890 of addons/test_mail/tests/test_public_binary_controller.py left in tree.\nAuto-merging odoo/addons/base/models/ir_binary.py\nCONFLICT (content): Merge conflict in odoo/addons/base/models/ir_binary.py\nAuto-merging odoo/tools/misc.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278658, 'issue_id': 2783925905, 'author': 'fw-bot', 'body': '@seb-odoo @tsm-odoo this forward port of odoo/odoo#187799 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:11:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193407.png)](https://mergebot.odoo.com/odoo/odoo/pull/193407)

fw-bot (Issue Creator) on (2025-01-13 13:11:47 UTC): @seb-odoo @tsm-odoo cherrypicking of pull request odoo/odoo#187799 failed.

stdout:
```
Auto-merging addons/im_livechat/controllers/main.py
CONFLICT (content): Merge conflict in addons/im_livechat/controllers/main.py
Auto-merging addons/im_livechat/models/__init__.py
Auto-merging addons/im_livechat/models/discuss_channel.py
CONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel.py
Auto-merging addons/im_livechat/models/discuss_channel_member.py
CONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel_member.py
CONFLICT (modify/delete): addons/im_livechat/models/ir_binary.py deleted in ae6afd0e77a8a93655ede8bb93feb17c6a38c890 and modified in 572ce9d56341a24b209603c490e0c652dfdd0c41.  Version 572ce9d56341a24b209603c490e0c652dfdd0c41 of addons/im_livechat/models/ir_binary.py left in tree.
Auto-merging addons/im_livechat/models/mail_message.py
CONFLICT (content): Merge conflict in addons/im_livechat/models/mail_message.py
Auto-merging addons/im_livechat/static/tests/embed/chat_window.test.js
CONFLICT (content): Merge conflict in addons/im_livechat/static/tests/embed/chat_window.test.js
Auto-merging addons/im_livechat/static/tests/mock_server/livechat_mock_server.js
Auto-merging addons/im_livechat/static/tests/mock_server/mock_models/discuss_channel.js
Auto-merging addons/im_livechat/tests/test_get_discuss_channel.py
CONFLICT (content): Merge conflict in addons/im_livechat/tests/test_get_discuss_channel.py
Auto-merging addons/im_livechat/tests/test_message.py
CONFLICT (modify/delete): addons/mail/models/discuss/ir_binary.py deleted in ae6afd0e77a8a93655ede8bb93feb17c6a38c890 and modified in 572ce9d56341a24b209603c490e0c652dfdd0c41.  Version 572ce9d56341a24b209603c490e0c652dfdd0c41 of addons/mail/models/discuss/ir_binary.py left in tree.
Auto-merging addons/mail/models/discuss/mail_guest.py
CONFLICT (content): Merge conflict in addons/mail/models/discuss/mail_guest.py
CONFLICT (modify/delete): addons/mail/models/ir_binary.py deleted in ae6afd0e77a8a93655ede8bb93feb17c6a38c890 and modified in 572ce9d56341a24b209603c490e0c652dfdd0c41.  Version 572ce9d56341a24b209603c490e0c652dfdd0c41 of addons/mail/models/ir_binary.py left in tree.
Auto-merging addons/mail/models/mail_message.py
CONFLICT (content): Merge conflict in addons/mail/models/mail_message.py
Auto-merging addons/mail/models/mail_message_reaction.py
CONFLICT (content): Merge conflict in addons/mail/models/mail_message_reaction.py
Auto-merging addons/mail/models/mail_thread.py
CONFLICT (content): Merge conflict in addons/mail/models/mail_thread.py
Auto-merging addons/mail/models/res_partner.py
CONFLICT (content): Merge conflict in addons/mail/models/res_partner.py
Auto-merging addons/mail/models/res_users.py
CONFLICT (content): Merge conflict in addons/mail/models/res_users.py
Auto-merging addons/mail/static/src/core/common/persona_model.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/persona_model.js
Auto-merging addons/mail/static/tests/mock_server/mail_mock_server.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/mail_message.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js
Auto-merging addons/mail/tests/discuss/test_discuss_binary_controller.py
Auto-merging addons/mail/tests/discuss/test_discuss_channel.py
Auto-merging addons/portal/controllers/mail.py
CONFLICT (content): Merge conflict in addons/portal/controllers/mail.py
Auto-merging addons/test_discuss_full/tests/test_performance.py
CONFLICT (content): Merge conflict in addons/test_discuss_full/tests/test_performance.py
Auto-merging addons/test_mail/tests/test_mail_followers.py
CONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_followers.py
Auto-merging addons/test_mail/tests/test_performance.py
CONFLICT (content): Merge conflict in addons/test_mail/tests/test_performance.py
CONFLICT (modify/delete): addons/test_mail/tests/test_public_binary_controller.py deleted in 572ce9d56341a24b209603c490e0c652dfdd0c41 and modified in ae6afd0e77a8a93655ede8bb93feb17c6a38c890.  Version ae6afd0e77a8a93655ede8bb93feb17c6a38c890 of addons/test_mail/tests/test_public_binary_controller.py left in tree.
Auto-merging odoo/addons/base/models/ir_binary.py
CONFLICT (content): Merge conflict in odoo/addons/base/models/ir_binary.py
Auto-merging odoo/tools/misc.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:01:36 UTC): @seb-odoo @tsm-odoo this forward port of odoo/odoo#187799 is awaiting action (not merged or closed).

"
2783924654,pull_request,closed,,[FW][FIX] l10n_be_pos_sale: activate default invoice only with intracom taxes,"Previously, settling a sale.order from the POS of a Belgian company
would auto check the invoice option before paying.

Steps to reproduce:
-------------------
* Install `l10n_be_pos_cert`
* Switch to the Beligian company
* Crete a quotation in **Sale** app
* Add any partner and any product, remove all taxes for the product line
* Save
* Open pos shop
* Settle the order
* Go to the payment screen
> Observation: The invoice button is already selected.

Why the fix:
------------
This invoice option was auto selected since this commit: https://github.com/odoo/odoo/commit/c760fbb1bd2e7725b5e759198684a07060612033

The following commit https://github.com/odoo/odoo/commit/3a5e22218708b4b6c9aedfa965d9f3c279edbd46
updates the previous one as the invoice enforcement is only needed when we have
intracom taxes on the SO. Thus when no intracom taxes apply we can still 
decide wether or not to invoice. We fallback on the default behavior which 
is to have the invoice button un-selected.

opw-4334095

Forward-Port-Of: odoo/odoo#193286
Forward-Port-Of: odoo/odoo#188400",fw-bot,2025-01-13 13:11:08+00:00,[],2025-01-27 18:24:44+00:00,2025-01-13 18:06:59+00:00,https://github.com/odoo/odoo/pull/193406,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587068167, 'issue_id': 2783924654, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193406.png)](https://mergebot.odoo.com/odoo/odoo/pull/193406)', 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587068208, 'issue_id': 2783924654, 'author': 'fw-bot', 'body': '@sbel-odoo @caburj cherrypicking of pull request odoo/odoo#188400 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_be_pos_sale/static/src/js/PaymentScreen.js\nCONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/static/src/js/PaymentScreen.js\nAuto-merging addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js\nCONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js\nAuto-merging addons/l10n_be_pos_sale/tests/test_l10n_be_pos_sale.py\nCONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/tests/test_l10n_be_pos_sale.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 11, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587490037, 'issue_id': 2783924654, 'author': 'sbel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 48, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:11:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193406.png)](https://mergebot.odoo.com/odoo/odoo/pull/193406)

fw-bot (Issue Creator) on (2025-01-13 13:11:10 UTC): @sbel-odoo @caburj cherrypicking of pull request odoo/odoo#188400 failed.

stdout:
```
Auto-merging addons/l10n_be_pos_sale/static/src/js/PaymentScreen.js
CONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/static/src/js/PaymentScreen.js
Auto-merging addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js
CONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js
Auto-merging addons/l10n_be_pos_sale/tests/test_l10n_be_pos_sale.py
CONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/tests/test_l10n_be_pos_sale.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

sbel-odoo on (2025-01-13 15:48:36 UTC): @robodoo r+

"
2783924052,pull_request,closed,,[FW][FIX] web_tour: checkForUndeterminisms must throw error,"The function checkForUndeterminisms in the TourStepAutomatic class throws an error in the case where an indeterminism is found. However, in the TourAutomatic class, we used this.throwError which throws the error but does not stop the macro (Does not go through the stop method of the Macro class). As a result, the observable is not disconnected and the macro is not stopped properly.
In this commit, we make sure that the macro is stopped properly.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192895",fw-bot,2025-01-13 13:10:52+00:00,[],2025-01-28 10:13:54+00:00,2025-01-14 09:55:17+00:00,https://github.com/odoo/odoo/pull/193405,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2587067569, 'issue_id': 2783924052, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193405.png)](https://mergebot.odoo.com/odoo/odoo/pull/193405)', 'created_at': datetime.datetime(2025, 1, 13, 13, 10, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587067601, 'issue_id': 2783924052, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps cherrypicking of pull request odoo/odoo#192895 failed.\n\nstdout:\n```\nAuto-merging addons/web_tour/static/src/tour_service/tour_automatic.js\nCONFLICT (content): Merge conflict in addons/web_tour/static/src/tour_service/tour_automatic.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 10, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589298652, 'issue_id': 2783924052, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 8, 28, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:10:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193405.png)](https://mergebot.odoo.com/odoo/odoo/pull/193405)

fw-bot (Issue Creator) on (2025-01-13 13:10:54 UTC): @pipu-odoo @BastienFafchamps cherrypicking of pull request odoo/odoo#192895 failed.

stdout:
```
Auto-merging addons/web_tour/static/src/tour_service/tour_automatic.js
CONFLICT (content): Merge conflict in addons/web_tour/static/src/tour_service/tour_automatic.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-14 08:28:01 UTC): @robodoo r+

"
2783923444,pull_request,closed,,[FW][FIX] account_payment: fix traceback while generating account payment link,"Currently, a traceback occurs when the user tries to generate a payment link and tries to refresh it.

To reproduce this issue:

1) Install `Accounting`
2) Create a confirmed Customer Invoice
3) Generate a Payment link from `Actions`
4) Change the `Amount` and refresh the tab
5) You can see the error in the terminal

Error:- 
```
KeyError: 'installment_state'
```

This traceback occurs because when the user refreshes the tab, 
it executes the `default_get` method, with self as `payment.link.wizard`.

https://github.com/odoo/odoo/blob/be6b327c17435947fc3f10d30fc8c4730c182aed/odoo/models.py#L1897-L1899

In that `payment.link.wizard`, we have overridden the `default_get` and updated the values from the `_get_default_payment_link_values` method with the model as `account.move`.

https://github.com/odoo/odoo/blob/4787c91c434c7e22ca030bc7a62588482c24b2ab/addons/payment/wizards/payment_link_wizard.py#L21-L23

The method mentioned above will return a dict containing the `installment_state` key-value pair.

https://github.com/odoo/odoo/blob/be6b327c17435947fc3f10d30fc8c4730c182aed/addons/account_payment/models/account_move.py#L128-L132

But `installment_state` is not a field. It is just a variable 
that gets its value from the `_get_invoice_next_payment_values`. 

https://github.com/odoo/odoo/blob/be6b327c17435947fc3f10d30fc8c4730c182aed/addons/account_payment/models/account_move.py#L104

So eventually it leads to the above traceback from the below line. 

https://github.com/odoo/odoo/blob/be6b327c17435947fc3f10d30fc8c4730c182aed/odoo/models.py#L1897-L1899 

sentry-6058398917

Forward-Port-Of: odoo/odoo#191764",fw-bot,2025-01-13 13:10:37+00:00,[],2025-01-29 11:56:59+00:00,2025-01-15 11:56:04+00:00,https://github.com/odoo/odoo/pull/193404,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587067423, 'issue_id': 2783923444, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193404.png)](https://mergebot.odoo.com/odoo/odoo/pull/193404)', 'created_at': datetime.datetime(2025, 1, 13, 13, 10, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587067452, 'issue_id': 2783923444, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 10, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:10:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193404.png)](https://mergebot.odoo.com/odoo/odoo/pull/193404)

fw-bot (Issue Creator) on (2025-01-13 13:10:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783922895,pull_request,closed,,[FW][FIX] point_of_sale: fix load onboarding scenario from company branch,"- `point_of_sale`: when creating cash payment methods, we now use the default cash account if it exists.
- `l10n_be_pos_restaurant`: filter taxes to create to avoid recreating same tax in sub company

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193275",fw-bot,2025-01-13 13:10:21+00:00,[],2025-01-27 18:24:42+00:00,2025-01-13 18:06:47+00:00,https://github.com/odoo/odoo/pull/193403,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2587067367, 'issue_id': 2783922895, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193403.png)](https://mergebot.odoo.com/odoo/odoo/pull/193403)', 'created_at': datetime.datetime(2025, 1, 13, 13, 10, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587067393, 'issue_id': 2783922895, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 10, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587449201, 'issue_id': 2783922895, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 34, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:10:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193403.png)](https://mergebot.odoo.com/odoo/odoo/pull/193403)

fw-bot (Issue Creator) on (2025-01-13 13:10:49 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

manv-afk on (2025-01-13 15:34:31 UTC): @robodoo r+

"
2783903866,pull_request,closed,,[FW][FIX] account: fix activity date display,"After commit odoo/odoo@6e4a036, the activity date component breaks onto a new line. This fix ensures that the activity date remains on the same line and no longer wraps.

opw-4402682

**Description of the issue/feature this PR addresses:**

- In the Accounting dashboard, when an activity is set on an account journal of type `Miscellaneous`, the `date` component of the `activity` is not aligned properly.
- The date component breaks into a new line, causing a misalignment in the display.
- This fix aims to fix the display issue by ensuring the activity date remains properly aligned on the same line as the rest of the content.
- It prevents the date component from wrapping onto the next line, thereby improving the visual consistency of the dashboard.

**Current behavior before PR:**
The `activity date` falls onto the next line.
![Acc-Dashboard-before-FIX](https://github.com/user-attachments/assets/b3282744-3b11-41e7-9e03-2bd4d2a00116)

**Desired behavior after PR is merged:**
The `activity date` stays on the same line.
![Acc-Dashboard-After-FIX](https://github.com/user-attachments/assets/a574f260-f727-435e-b5c8-65eaa3b8e0be)


**Steps to reproduce activity date display issue :**

- Install the Accounting module.
- Navigate to the Accounting dashboard.
- Create a new account journal of type `Miscellaneous`
- Set an `activity` on that journal.
- Return to the dashboard.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193173",fw-bot,2025-01-13 13:02:02+00:00,[],2025-01-29 06:15:48+00:00,2025-01-15 06:11:16+00:00,https://github.com/odoo/odoo/pull/193402,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2587047280, 'issue_id': 2783903866, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193402.png)](https://mergebot.odoo.com/odoo/odoo/pull/193402)', 'created_at': datetime.datetime(2025, 1, 13, 13, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587047314, 'issue_id': 2783903866, 'author': 'fw-bot', 'body': '@suma-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193381\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 13, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587141782, 'issue_id': 2783903866, 'author': 'fw-bot', 'body': '@suma-odoo @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 13, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591628797, 'issue_id': 2783903866, 'author': 'suma-odoo', 'body': '@robodoo  r+', 'created_at': datetime.datetime(2025, 1, 15, 4, 32, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 13:02:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193402.png)](https://mergebot.odoo.com/odoo/odoo/pull/193402)

fw-bot (Issue Creator) on (2025-01-13 13:02:04 UTC): @suma-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193381

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 13:43:43 UTC): @suma-odoo @h4818 ci/runbot failed on this forward-port PR

suma-odoo on (2025-01-15 04:32:26 UTC): @robodoo  r+

"
2783892025,pull_request,closed,,[FIX] sale_loyalty: handle adding order & specific discounts,"Versions
--------
- 18.0+

Steps
-----
1. Create a promotion to apply a fixed discount to an order;
2. create a promotion to apply a fixed discount to a specific product;
3. create a order with a taxed product eligible for the 2nd discount;
4. apply the first promotion;
5. apply the second promotion.

Issue
-----
Traceback:
> KeyError: account.tax(1,)

Cause
-----
Commit db12319e8b3b changed the way taxes get handled for discounts on the order total. They no longer automatically get a tax applied to them.

This causes a problem in the `_discountable_specific` method, which builds a `dict` using taxes of discount lines as keys to calculate discountable amounts.

Because the existing reward doesn't have a tax, this dict only has an `account.tax()` key, leading to a `KeyError` when trying to get discountable amount associated with the product-specific reward's taxes.

Solution
--------
Change the `dict` to a `defaultdict` which returns `0` for non-existing keys.

opw-4419764",lvsz,2025-01-13 12:56:41+00:00,[],2025-01-28 12:07:48+00:00,2025-01-14 12:01:07+00:00,https://github.com/odoo/odoo/pull/193401,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2587035726, 'issue_id': 2783892025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193401.png)](https://mergebot.odoo.com/odoo/odoo/pull/193401)', 'created_at': datetime.datetime(2025, 1, 13, 12, 56, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589474205, 'issue_id': 2783892025, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 9, 53, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:56:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193401.png)](https://mergebot.odoo.com/odoo/odoo/pull/193401)

lvsz (Issue Creator) on (2025-01-14 09:53:52 UTC): robodoo r+

"
2783875573,pull_request,closed,,[FIX] mail : Correct Usability Of User Settings,"Issue:
------
Case:  User Settings menu is basically used to handle created users but when clicking on the `New` button within the User Settings the form view corresponding to that model i.e; `res.users.settings` will be opened which is an inappropriate behavior.
Whenever a User is created that user will be reflected within that menu. There's no meaning of having `New` button when no user is created to handle.

Solution:
-----------
Some users do not have a user settings yet, so it is a perfectly valid use case to create one.
We should not artificially prevent acceptable behavior in technical/admin menus.

Steps to reproduce:
------------------------
1. Create a database in version 16.0.
2. Go to `User Settings`.
3. Click On `New` button. Try making changes and save.
4. An Invalid Field `User` error will Occur.

This is because there's a many2One field i.e; `user_id` within the tree and form views which is basically an existing user.
The `New` button will open a form view with no User which is a must. And will cause the Invalid field error when trying to save any change.

Ref:
https://github.com/odoo/odoo/blob/16.0/addons/mail/views/res_users_settings_views.xml#L24

Ref Screenshot:
![image](https://github.com/user-attachments/assets/24373b6e-2d67-42f7-9506-24faa3021e41)


Co-Authored By - @seb-odoo ",syna-odoo,2025-01-13 12:49:08+00:00,[],2025-02-06 15:38:57+00:00,2025-02-06 15:38:56+00:00,https://github.com/odoo/odoo/pull/193400,"[('RD', 'research & development, internal work')]","[{'comment_id': 2587019374, 'issue_id': 2783875573, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193400.png)](https://mergebot.odoo.com/odoo/odoo/pull/193400)', 'created_at': datetime.datetime(2025, 1, 13, 12, 49, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587040993, 'issue_id': 2783875573, 'author': 'seb-odoo', 'body': 'Hello, shouldn\'t we display the missing user field instead?\r\nIt\'s actually a critical information of the view.\r\n\r\nIt\'s an admin/debug view, so it\'s think it\'s fine to keep the ""new"" button in the case where admin would want to create the settings for a user that didn\'t log yet.', 'created_at': datetime.datetime(2025, 1, 13, 12, 59, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587095638, 'issue_id': 2783875573, 'author': 'syna-odoo', 'body': '> Hello, shouldn\'t we display the missing user field instead? It\'s actually a critical information of the view.\r\n> \r\n> It\'s an admin/debug view, so it\'s think it\'s fine to keep the ""new"" button in the case where admin would want to create the settings for a user that didn\'t log yet.\r\n\r\nHello @seb-odoo \r\n\r\nThanks for your input!\r\nIt\'s not about the missing user, the User Settings menu will be used to manipulate/handle the created user or you can say an existing User. when you create a user that user will be appeared within this menus tree view. And further there are possibilities to make changes for that user.\r\n\r\nIf the User is created the admin can make changes for that particular user. \r\nBut here if you directly click the \'New\' button then, does it make sense to create a new record where no user exist?\r\n\r\nI think `User Settings` menu is to handle an existing user.\r\n\r\nIf you really want to make changes for a particular user(existing) you can directly make changes by using the `User Settings` menu and selecting that particular user from the tree view.\r\n\r\nHope you got my point!\r\nCorrect me If I\'m wrong.', 'created_at': datetime.datetime(2025, 1, 13, 13, 23, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604811880, 'issue_id': 2783875573, 'author': 'syna-odoo', 'body': 'Hello @seb-odoo \r\n\r\nCould you please have a look at it?\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 21, 13, 58, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612925319, 'issue_id': 2783875573, 'author': 'seb-odoo', 'body': 'Hello, I pushed a commit to illustrate my idea.\r\n\r\nSome users do not have a user settings yet, so it is a perfectly valid use case to create one.\r\nWe should not artificially prevent acceptable behavior in technical/admin menus.\r\n\r\nFeel free to squash my commit and adapt the message if we want to merge the PR.', 'created_at': datetime.datetime(2025, 1, 24, 16, 27, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613071157, 'issue_id': 2783875573, 'author': 'syna-odoo', 'body': '@seb-odoo Thanks for the alternate fix, you can have a look now, Have a nice weekend :smile:', 'created_at': datetime.datetime(2025, 1, 24, 17, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613080746, 'issue_id': 2783875573, 'author': 'seb-odoo', 'body': 'It looks like the commit/PR message still contains the old explanation, rather that the new fix explanation?', 'created_at': datetime.datetime(2025, 1, 24, 17, 49, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624300861, 'issue_id': 2783875573, 'author': 'syna-odoo', 'body': 'Hello @seb-odoo \r\n\r\nModified the commit message as suggested. Could you please have a look?\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 30, 11, 59, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639856428, 'issue_id': 2783875573, 'author': 'syna-odoo', 'body': 'Hello @seb-odoo \r\nCould you please have a look?\r\nThanks!', 'created_at': datetime.datetime(2025, 2, 6, 13, 38, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:49:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193400.png)](https://mergebot.odoo.com/odoo/odoo/pull/193400)

seb-odoo on (2025-01-13 12:59:08 UTC): Hello, shouldn't we display the missing user field instead?
It's actually a critical information of the view.

It's an admin/debug view, so it's think it's fine to keep the ""new"" button in the case where admin would want to create the settings for a user that didn't log yet.

syna-odoo (Issue Creator) on (2025-01-13 13:23:32 UTC): Hello @seb-odoo 

Thanks for your input!
It's not about the missing user, the User Settings menu will be used to manipulate/handle the created user or you can say an existing User. when you create a user that user will be appeared within this menus tree view. And further there are possibilities to make changes for that user.

If the User is created the admin can make changes for that particular user. 
But here if you directly click the 'New' button then, does it make sense to create a new record where no user exist?

I think `User Settings` menu is to handle an existing user.

If you really want to make changes for a particular user(existing) you can directly make changes by using the `User Settings` menu and selecting that particular user from the tree view.

Hope you got my point!
Correct me If I'm wrong.

syna-odoo (Issue Creator) on (2025-01-21 13:58:41 UTC): Hello @seb-odoo 

Could you please have a look at it?
Thanks!

seb-odoo on (2025-01-24 16:27:36 UTC): Hello, I pushed a commit to illustrate my idea.

Some users do not have a user settings yet, so it is a perfectly valid use case to create one.
We should not artificially prevent acceptable behavior in technical/admin menus.

Feel free to squash my commit and adapt the message if we want to merge the PR.

syna-odoo (Issue Creator) on (2025-01-24 17:43:18 UTC): @seb-odoo Thanks for the alternate fix, you can have a look now, Have a nice weekend :smile:

seb-odoo on (2025-01-24 17:49:11 UTC): It looks like the commit/PR message still contains the old explanation, rather that the new fix explanation?

syna-odoo (Issue Creator) on (2025-01-30 11:59:01 UTC): Hello @seb-odoo 

Modified the commit message as suggested. Could you please have a look?
Thanks!

syna-odoo (Issue Creator) on (2025-02-06 13:38:11 UTC): Hello @seb-odoo 
Could you please have a look?
Thanks!

"
2783860558,pull_request,open,,[FIX] invoice_report_document: use overflow-auto class for legal notes to esure it wont over lap with other sections.,"Behaviour Before the Commit:

When an invoice pdf has more than 1 page and legal notes(multiline notes) section is the first thing on next page, wkhtmltopdf fails to handle page-break for legal notes text. First line of legal notes overwrites on the total amount section resulting in overflow of contents. It works fine if legal notes are not the first thing on page.

Behaviour After the Commit:

Legal notes(multiline notes) text does not overwrite on total payment summary anymore.

Fix:

Add 'overflow-auto' class to div with id='payment-term' and has clearfix class to ensure it handles overflow.

Steps to reproduce:

1. Create a multiline legal notes for any tax.
2. Open Customer-Invoices, create an invoice by adding multiple products with the tax which has multiline legal notes.
3. Make sure to add specific number of products/sections so that invoice expands to 2 pages.
4. Legal notes section must be the first thing on second page, otherwise it will not overwrite text.

Feel free to look at the ticket number 4416845 for detailed understanding of the bug.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",arih-odoo,2025-01-13 12:42:19+00:00,[],2025-01-13 13:00:15+00:00,,https://github.com/odoo/odoo/pull/193399,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2587005447, 'issue_id': 2783860558, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193399.png)](https://mergebot.odoo.com/odoo/odoo/pull/193399)', 'created_at': datetime.datetime(2025, 1, 13, 12, 42, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:42:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193399.png)](https://mergebot.odoo.com/odoo/odoo/pull/193399)

"
2783829370,pull_request,closed,,[FIX] account: no stream if file not PDF-convertible with Original Bills,"**Steps to reproduce:**
- Install Accounting
- Create a bill by uploading a XML (e.g. an EDI xml)
- Go to the bills list view
- Select the created bill
- Click on ""Print > Original Bills""

**Issue:**
A PDF is generated but it is not possible to open it as it contains nothing.

**Cause:**
A previous fix has been made to handle image-type attachments by converting them to a pdf stream.
https://github.com/odoo/odoo/commit/41c79f66cfb5cdb558110d32842198157932397e 
However, it is just returning None if the attachment is not a PDF or an image file.

**Solution:**
Do not add a file if it could not be converted to a PDF stream and return an UserError if no stream can be returned.

opw-4439034



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-13 12:28:48+00:00,[],2025-01-27 16:20:51+00:00,2025-01-27 16:20:51+00:00,https://github.com/odoo/odoo/pull/193398,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586976864, 'issue_id': 2783829370, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193398.png)](https://mergebot.odoo.com/odoo/odoo/pull/193398)', 'created_at': datetime.datetime(2025, 1, 13, 12, 28, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616243436, 'issue_id': 2783829370, 'author': 'kitan191', 'body': ""@svfu-odoo I'm closing this PR as discussed.\r\n\r\nThanks for the review and the investigation. :+1:"", 'created_at': datetime.datetime(2025, 1, 27, 16, 20, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:28:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193398.png)](https://mergebot.odoo.com/odoo/odoo/pull/193398)

kitan191 (Issue Creator) on (2025-01-27 16:20:51 UTC): @svfu-odoo I'm closing this PR as discussed.

Thanks for the review and the investigation. :+1:

"
2783825981,pull_request,closed,,[FW][FIX] account_peppol: Handle non-Peppol EDI proxy,"An error can occur when the EDI proxy is not Peppol, because the mocked request does not exist in the mocked dictionary.

Steps to reproduce:
- Install l10n_it_edi and account_peppol
- Set up production for Italian Electronic Invoicing
- Set up demo mode for Peppol
- Create a new invoice and click on Send & Print
- Check the ""Send To Tax Agency"" box

An error will occur:
```
File
""/home/odoo/src/odoo/saas-17.4/addons/account_peppol/tools/demo_utils.py"",
line 74, in _mock_make_request
    return {
KeyError: 'SdiRiceviFile'
```

This error arises because the EDI proxy is not Peppol, and thus the request should not be mocked. This fix ensures that the EDI proxy is Peppol before mocking the request.

opw-4438740

Forward-Port-Of: odoo/odoo#193188",fw-bot,2025-01-13 12:27:32+00:00,[],2025-01-27 16:32:30+00:00,2025-01-13 16:32:30+00:00,https://github.com/odoo/odoo/pull/193397,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586974113, 'issue_id': 2783825981, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193397.png)](https://mergebot.odoo.com/odoo/odoo/pull/193397)', 'created_at': datetime.datetime(2025, 1, 13, 12, 27, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586974143, 'issue_id': 2783825981, 'author': 'fw-bot', 'body': '@LouisGobert @clbr-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#193369\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 12, 27, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587120767, 'issue_id': 2783825981, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 34, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:27:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193397.png)](https://mergebot.odoo.com/odoo/odoo/pull/193397)

fw-bot (Issue Creator) on (2025-01-13 12:27:34 UTC): @LouisGobert @clbr-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#193369

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-01-13 13:34:35 UTC): @robodoo r+

"
2783810886,pull_request,closed,,[FIX] web_editor: prevent adding empty `p` when deleting an image,"**Problem**:
When an image inside a `<p>` tag (e.g., `<p><img></p>`) is deleted using the toolbar delete button, the selection is not properly restored, leaving an empty `<p>` in the DOM and the selection in the editor root.

**Solution**:
Restore the selection to the correct position after deleting the image to avoid leaving an empty `<p>`.

**Steps to Reproduce**:
1. Open an empty editor and add an image.
2. Delete the image using the toolbar delete button.
3. Inspect the DOM:
   - An empty `<p>` remains, and the selection is in the editor root.

opw-4472173

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-13 12:20:55+00:00,[],2025-02-06 12:52:06+00:00,2025-01-23 12:49:24+00:00,https://github.com/odoo/odoo/pull/193396,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586960556, 'issue_id': 2783810886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193396.png)](https://mergebot.odoo.com/odoo/odoo/pull/193396)', 'created_at': datetime.datetime(2025, 1, 13, 12, 20, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609336276, 'issue_id': 2783810886, 'author': 'dmo-odoo', 'body': '@walidsahli Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 9, 43, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:20:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193396.png)](https://mergebot.odoo.com/odoo/odoo/pull/193396)

dmo-odoo on (2025-01-23 09:43:01 UTC): @walidsahli Thanks!
@robodoo r+

"
2783796703,pull_request,closed,,[FW][FIX] crm: onboarding tour bubble fix,"Tour bubble points to every New button in kanban.
Fixed it to only point at New button in crm lead kanban view.

Task-4377574

Forward-Port-Of: odoo/odoo#190937",fw-bot,2025-01-13 12:14:12+00:00,[],2025-02-06 03:07:08+00:00,2025-01-23 02:57:55+00:00,https://github.com/odoo/odoo/pull/193395,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586946898, 'issue_id': 2783796703, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193395.png)](https://mergebot.odoo.com/odoo/odoo/pull/193395)', 'created_at': datetime.datetime(2025, 1, 13, 12, 14, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586946924, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 12, 14, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278428, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597454224, 'issue_id': 2783796703, 'author': 'nihp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 5, 18, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468901, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600468614, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174263, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476684, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119885, 'issue_id': 2783796703, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607342646, 'issue_id': 2783796703, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 6, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607342791, 'issue_id': 2783796703, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 22, 14, 6, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:14:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193395.png)](https://mergebot.odoo.com/odoo/odoo/pull/193395)

fw-bot (Issue Creator) on (2025-01-13 12:14:16 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:01:20 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

nihp-odoo on (2025-01-17 05:18:02 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-18 02:01:27 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:16 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:20 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:01:52 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:58 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#190937 is awaiting action (not merged or closed).

tde-banana-odoo on (2025-01-22 14:06:49 UTC): @robodoo r+

robodoo on (2025-01-22 14:06:52 UTC): This PR is already reviewed, reviewing it again is useless.

"
2783791256,pull_request,closed,,"[FIX] account,web: harmonize documents' taxes header display","**Steps to reproduce:**

- In Sales app, create a new invoice with one product;
- Post the invoice without validating it;
- Print invoice without payment from action button.

**Issue:**
The taxes column's header is ""start aligned"" as its content and the other columns are ""end aligned"".

**Expected:**
Column headers should be harmonized and have a consistent display as per :
https://github.com/odoo/odoo/blob/4d9cf2e5103fcdc11be2fd574886afed6f300281/addons/sale/report/ir_actions_report_templates.xml#L79-L88

**Cause:**
The view sets the header alignement on start.


opw-4380680

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",barracudapps,2025-01-13 12:11:38+00:00,[],2025-02-07 22:59:12+00:00,2025-02-07 22:59:11+00:00,https://github.com/odoo/odoo/pull/193394,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586940658, 'issue_id': 2783791256, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193394.png)](https://mergebot.odoo.com/odoo/odoo/pull/193394)', 'created_at': datetime.datetime(2025, 1, 13, 12, 11, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591957641, 'issue_id': 2783791256, 'author': 'barracudapps', 'body': '@malb-odoo \r\nThank you for your review.\r\nIndeed, another view needed to be fixed too and the tax column\'s content also needed to be aligned. Nevertheless, I think all templates need to keep consistency. Therefore I would keep all the ""end alignement"" setup here.\r\nWhat do you think ?', 'created_at': datetime.datetime(2025, 1, 15, 8, 43, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591970781, 'issue_id': 2783791256, 'author': 'malb-odoo', 'body': '@barracudapps Fine by me :smile: Maybe an accounting PO checks can be done to be 100% suuure', 'created_at': datetime.datetime(2025, 1, 15, 8, 49, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602712087, 'issue_id': 2783791256, 'author': 'barracudapps', 'body': 'Hello @oco-odoo\r\nMay I ask you to have a quick look around ?\r\nThank you', 'created_at': datetime.datetime(2025, 1, 20, 15, 29, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644067071, 'issue_id': 2783791256, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 20, 30, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:11:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193394.png)](https://mergebot.odoo.com/odoo/odoo/pull/193394)

barracudapps (Issue Creator) on (2025-01-15 08:43:54 UTC): @malb-odoo 
Thank you for your review.
Indeed, another view needed to be fixed too and the tax column's content also needed to be aligned. Nevertheless, I think all templates need to keep consistency. Therefore I would keep all the ""end alignement"" setup here.
What do you think ?

malb-odoo on (2025-01-15 08:49:43 UTC): @barracudapps Fine by me :smile: Maybe an accounting PO checks can be done to be 100% suuure

barracudapps (Issue Creator) on (2025-01-20 15:29:50 UTC): Hello @oco-odoo
May I ask you to have a quick look around ?
Thank you

qdp-odoo on (2025-02-07 20:30:55 UTC): @robodoo r+

"
2783786450,pull_request,closed,,[FIX] hr_attendance: geolocate check in/out in kiosk mode,This is a backport of 183741 which missed earlier versions where attendance geolocation is available.,taqu-odoo,2025-01-13 12:09:31+00:00,[],2025-02-07 20:18:48+00:00,2025-02-07 20:18:48+00:00,https://github.com/odoo/odoo/pull/193393,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586935843, 'issue_id': 2783786450, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193393.png)](https://mergebot.odoo.com/odoo/odoo/pull/193393)', 'created_at': datetime.datetime(2025, 1, 13, 12, 9, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587346768, 'issue_id': 2783786450, 'author': 'taqu-odoo', 'body': 'robodoo up to saas-17.2', 'created_at': datetime.datetime(2025, 1, 13, 15, 2, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587346966, 'issue_id': 2783786450, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.2'."", 'created_at': datetime.datetime(2025, 1, 13, 15, 2, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:09:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193393.png)](https://mergebot.odoo.com/odoo/odoo/pull/193393)

taqu-odoo (Issue Creator) on (2025-01-13 15:02:49 UTC): robodoo up to saas-17.2

robodoo on (2025-01-13 15:02:53 UTC): Forward-porting to 'saas-17.2'.

"
2783786196,pull_request,closed,,[IMP] l10n_es_edi_tbai: allow setting reversed invoices in outgoing refunds,"When doing a refund for an outgoing invoice, sometimes the user will use Odoo's built-in refund features and the reversed_entry_id field will be filled appropriately. That's OK.

However, other times they will just create a new invoice from scratch. For example, when refunding one line for an invoice that had 100 lines, it's easier to create a new invoice with one line than to create a refund and delete 99 lines from it. In these cases, the user can't link it with the invoice it's refunding, resulting in an error for TicketBAI.

See https://github.com/odoo/odoo/pull/191303#discussion_r1910034083 for details.

@moduon MT-4966

cc @RicGR98 @gelojr

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",yajo,2025-01-13 12:09:24+00:00,[],2025-01-14 07:41:06+00:00,2025-01-13 14:11:56+00:00,https://github.com/odoo/odoo/pull/193392,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2586935582, 'issue_id': 2783786196, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193392.png)](https://mergebot.odoo.com/odoo/odoo/pull/193392)', 'created_at': datetime.datetime(2025, 1, 13, 12, 9, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:09:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193392.png)](https://mergebot.odoo.com/odoo/odoo/pull/193392)

"
2783779005,pull_request,closed,,"[FW][FIX] l10n_es_edi_{facturae,sii}: FechaOperacion / OperationDate","Currently the folllowing fields are not set / given in the SII / FaturaE XMLs respectively:
  * `FechaOperacion` (l10n_es_edi_sii)
  * `OperationDate` (l10n_es_edi_facturae)

After this commit they will give the delivery date in case the delivery date is different from the invoice date.

This is basically the same as it was done for TicketBat (l10n_es_edi_tbai) in commit 1451f589895f0867cd40add66e5e6bcbb5ba4a6e already.

opw-4367470

Enterprise PR: https://github.com/odoo/enterprise/pull/76523

Forward-Port-Of: odoo/odoo#192467",fw-bot,2025-01-13 12:06:03+00:00,[],2025-01-27 17:28:38+00:00,2025-01-13 17:11:52+00:00,https://github.com/odoo/odoo/pull/193391,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586928460, 'issue_id': 2783779005, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193391.png)](https://mergebot.odoo.com/odoo/odoo/pull/193391)', 'created_at': datetime.datetime(2025, 1, 13, 12, 6, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586928507, 'issue_id': 2783779005, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 12, 6, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:06:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193391.png)](https://mergebot.odoo.com/odoo/odoo/pull/193391)

fw-bot (Issue Creator) on (2025-01-13 12:06:07 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783778119,pull_request,closed,,[FW][FIX] point_of_sale: keep manually set price,"After modifying the price of an order line, going to floorplans, selecting the previous table and setting a customer now keep the price previously manually set.

As the attribute `order_line.price_manually_set` is not saved in backend, when loading an order from the backend its value is always False. Now we recompute this attribute by comparing the default price of the product and the unit price of the orderline.

opw: 4393328

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193015
Forward-Port-Of: odoo/odoo#191053",fw-bot,2025-01-13 12:05:38+00:00,[],2025-01-28 15:12:47+00:00,2025-01-14 15:12:45+00:00,https://github.com/odoo/odoo/pull/193390,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2586927605, 'issue_id': 2783778119, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193390.png)](https://mergebot.odoo.com/odoo/odoo/pull/193390)', 'created_at': datetime.datetime(2025, 1, 13, 12, 5, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586927638, 'issue_id': 2783778119, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo cherrypicking of pull request odoo/odoo#191053 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/store/models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/models.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 12, 5, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619527, 'issue_id': 2783778119, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo this forward port of odoo/odoo#191053 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589788635, 'issue_id': 2783778119, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 29, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 12:05:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193390.png)](https://mergebot.odoo.com/odoo/odoo/pull/193390)

fw-bot (Issue Creator) on (2025-01-13 12:05:42 UTC): @manv-afk @adgu-odoo cherrypicking of pull request odoo/odoo#191053 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/store/models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/models.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:59 UTC): @manv-afk @adgu-odoo this forward port of odoo/odoo#191053 is awaiting action (not merged or closed).

manv-afk on (2025-01-14 12:29:24 UTC): @robodoo r+

"
2783757275,pull_request,closed,,[FIX] l10_ch: make Swiss QRcode on invoice depend on the QRcode setting,"### Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create an invoice for a Swiss partner
- Send it
- The QR code appears in the generated PDF

### Cause:
The settings are not checked to display the QR code.

### Solution:
Check the settings.

Ticket link: https://www.odoo.com/odoo/69/tasks/4380520
opw-4380520",mathcoutant,2025-01-13 11:55:49+00:00,[],2025-01-13 18:52:38+00:00,2025-01-13 18:52:38+00:00,https://github.com/odoo/odoo/pull/193389,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586907651, 'issue_id': 2783757275, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193389.png)](https://mergebot.odoo.com/odoo/odoo/pull/193389)', 'created_at': datetime.datetime(2025, 1, 13, 11, 55, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:55:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193389.png)](https://mergebot.odoo.com/odoo/odoo/pull/193389)

"
2783752421,pull_request,closed,,[FIX] mail: exit full screen on discuss call leave,"Before this commit, leaving call while the call view is full screen would keep the fullscreen mode.

This commit fixes the issue by exiting the full screen when leaving the call.

Task-4476568",akap-odoo,2025-01-13 11:53:27+00:00,[],2025-01-18 22:44:29+00:00,2025-01-17 20:12:29+00:00,https://github.com/odoo/odoo/pull/193388,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586902970, 'issue_id': 2783752421, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193388.png)](https://mergebot.odoo.com/odoo/odoo/pull/193388)', 'created_at': datetime.datetime(2025, 1, 13, 11, 53, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:53:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193388.png)](https://mergebot.odoo.com/odoo/odoo/pull/193388)

"
2783743275,pull_request,closed,,[FW][FIX] im_livechat: fix chatbot question selection,"The question_selection steps of the chatbot suffer from several issues. In [1], a fix was made to make the chatbot work with answers containing ampersands, but this fix broke other special characters such as ""'"".

This step also does not handle well answers containing a subset of words, such as ""X""/""not X"". This occurs because the client code tries to guess which answer was selected after posting the answer.

This PR updates the flow to  save the answer when the message is posted. As a result, there is no need to guess which answer was selected anymore, and all these issues are fixed.

[1]: https://github.com/odoo/odoo/pull/189313

opw-4369966,4436567.

Forward-Port-Of: odoo/odoo#192971
Forward-Port-Of: odoo/odoo#192076",fw-bot,2025-01-13 11:49:33+00:00,[],2025-01-13 17:28:42+00:00,2025-01-13 17:18:11+00:00,https://github.com/odoo/odoo/pull/193387,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586895146, 'issue_id': 2783743275, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193387.png)](https://mergebot.odoo.com/odoo/odoo/pull/193387)', 'created_at': datetime.datetime(2025, 1, 13, 11, 49, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586895167, 'issue_id': 2783743275, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587210260, 'issue_id': 2783743275, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 13, 14, 11, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587210357, 'issue_id': 2783743275, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 13, 14, 11, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:49:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193387.png)](https://mergebot.odoo.com/odoo/odoo/pull/193387)

fw-bot (Issue Creator) on (2025-01-13 11:49:35 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-13 14:11:18 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-13 14:11:20 UTC): Merge method set to rebase and fast-forward.

"
2783742767,pull_request,closed,,[FW][FIX] hw_drivers: improve image update reliability,"We improve the image reliability by:

- Improving handlers cleanup (we only removed os-specific handlers but downloaded all),
- Forcing Odoo service to restart after checkout, even if an error occurred.

Task: 4433461

Forward-Port-Of: odoo/odoo#193110
Forward-Port-Of: odoo/odoo#191928",fw-bot,2025-01-13 11:49:18+00:00,[],2025-01-27 14:57:15+00:00,2025-01-13 14:44:09+00:00,https://github.com/odoo/odoo/pull/193386,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586894606, 'issue_id': 2783742767, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193386.png)](https://mergebot.odoo.com/odoo/odoo/pull/193386)', 'created_at': datetime.datetime(2025, 1, 13, 11, 49, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586894632, 'issue_id': 2783742767, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 49, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586962892, 'issue_id': 2783742767, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 12, 22, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:49:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193386.png)](https://mergebot.odoo.com/odoo/odoo/pull/193386)

fw-bot (Issue Creator) on (2025-01-13 11:49:20 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-13 12:22:07 UTC): @robodoo r+

"
2783742201,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: Different UX improvements","Point of sale:
- Adding margin left on preset time on product screen.
- Replacing ActionPad button ""action"" by 3 vertical dots
- Allow to reprint the last prepration ticket
- Adding number of orders by pages on ticket screen.
- Removing seconds on the time of the order.
- Resizing search bar on ticket screen.

Preparation display:
- Adding zoom parameter on the navbar
- Removing waiter name.
- Adding order floating name.
- Adding preset name and time on orders.

taskId: 4398826

Forward-Port-Of: odoo/odoo#191126",fw-bot,2025-01-13 11:49:01+00:00,[],2025-01-27 22:33:21+00:00,2025-01-13 21:37:47+00:00,https://github.com/odoo/odoo/pull/193385,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2586894070, 'issue_id': 2783742201, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193385.png)](https://mergebot.odoo.com/odoo/odoo/pull/193385)', 'created_at': datetime.datetime(2025, 1, 13, 11, 49, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586894120, 'issue_id': 2783742201, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#191126 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.xml\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/utils/product_screen_util.js\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 49, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587546171, 'issue_id': 2783742201, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 16, 9, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:49:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193385.png)](https://mergebot.odoo.com/odoo/odoo/pull/193385)

fw-bot (Issue Creator) on (2025-01-13 11:49:04 UTC): @davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#191126 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.xml
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/utils/product_screen_util.js
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-13 16:09:28 UTC): @robodoo r+

"
2783741406,pull_request,closed,,[FW][FIX] l10n_be_pos_restaurant: fix install restaurant scenario,"Fix issue when trying to install ""Restaurant"" scenario in a belgian company. Now we put the dedicated belgian takeaway fiscal position inside take away presets (instead of old fields `takeaway` and `takeaway_fp_id`).

task-id: 4463785

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193088",fw-bot,2025-01-13 11:48:38+00:00,[],2025-01-27 22:33:19+00:00,2025-01-13 21:37:37+00:00,https://github.com/odoo/odoo/pull/193384,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586893696, 'issue_id': 2783741406, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193384.png)](https://mergebot.odoo.com/odoo/odoo/pull/193384)', 'created_at': datetime.datetime(2025, 1, 13, 11, 48, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586893713, 'issue_id': 2783741406, 'author': 'fw-bot', 'body': '@manv-afk @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 48, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587393531, 'issue_id': 2783741406, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 17, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:48:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193384.png)](https://mergebot.odoo.com/odoo/odoo/pull/193384)

fw-bot (Issue Creator) on (2025-01-13 11:48:53 UTC): @manv-afk @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

manv-afk on (2025-01-13 15:17:24 UTC): @robodoo r+

"
2783740611,pull_request,closed,,[FW][FIX] web: tests: decrease test_unit_desktop suite timeout,"This timeout has been recently increased [1] because builds sometimes reached it. It was indicating that something was wrong, but until we figured it out, the correct thing to do was to increase it.

PR [2] just fixed the underlying issue, which was coming from the update to from chrome 123 to chrome 126 on runbots. Indeed, as of chrome 124, the instruction to force a garbage collect after each test had to be slightly adapted.

Now that this is done, this suite generally lasts 20-22 minutes, so we can safely decrease the timeout to 30 minutes, which allows us to kill the test earlier when something's wrong, and which will indicate regressions (like memory leaks) faster.

[1] odoo/odoo#191456
[2] odoo/odoo#193332

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193346",fw-bot,2025-01-13 11:48:13+00:00,[],2025-01-27 14:57:14+00:00,2025-01-13 14:44:05+00:00,https://github.com/odoo/odoo/pull/193383,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586893597, 'issue_id': 2783740611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193383.png)](https://mergebot.odoo.com/odoo/odoo/pull/193383)', 'created_at': datetime.datetime(2025, 1, 13, 11, 48, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586893626, 'issue_id': 2783740611, 'author': 'fw-bot', 'body': '@aab-odoo @jum-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 48, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586971235, 'issue_id': 2783740611, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 12, 26, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:48:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193383.png)](https://mergebot.odoo.com/odoo/odoo/pull/193383)

fw-bot (Issue Creator) on (2025-01-13 11:48:51 UTC): @aab-odoo @jum-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-13 12:26:12 UTC): @robodoo r+

"
2783732890,pull_request,closed,,[FW][REF] web_tour: remove saveAs attribute,"In this commit, in order to simplify the tours API, we remove the saveAs
attribute from the tour object definition. This attribute does not bring
anything in the sense that it just allows not to create in the registry
a tour that could already exist and to save it under another name
to have access to it from tour_service.
To avoid the error of creating a key that already exists in the
registry, simply remove it before adding it again.
This is only used in the website module for the homepage tour.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193065",fw-bot,2025-01-13 11:44:25+00:00,[],2025-01-27 17:06:08+00:00,2025-01-13 16:48:33+00:00,https://github.com/odoo/odoo/pull/193382,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586885438, 'issue_id': 2783732890, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193382.png)](https://mergebot.odoo.com/odoo/odoo/pull/193382)', 'created_at': datetime.datetime(2025, 1, 13, 11, 44, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586885526, 'issue_id': 2783732890, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 44, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587135320, 'issue_id': 2783732890, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 40, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:44:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193382.png)](https://mergebot.odoo.com/odoo/odoo/pull/193382)

fw-bot (Issue Creator) on (2025-01-13 11:44:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-13 13:40:56 UTC): @robodoo r+

"
2783732356,pull_request,closed,,[FW][FIX] account: fix activity date display,"After commit odoo/odoo@6e4a036, the activity date component breaks onto a new line. This fix ensures that the activity date remains on the same line and no longer wraps.

opw-4402682

**Description of the issue/feature this PR addresses:**

- In the Accounting dashboard, when an activity is set on an account journal of type `Miscellaneous`, the `date` component of the `activity` is not aligned properly.
- The date component breaks into a new line, causing a misalignment in the display.
- This fix aims to fix the display issue by ensuring the activity date remains properly aligned on the same line as the rest of the content.
- It prevents the date component from wrapping onto the next line, thereby improving the visual consistency of the dashboard.

**Current behavior before PR:**
The `activity date` falls onto the next line.
![Acc-Dashboard-before-FIX](https://github.com/user-attachments/assets/b3282744-3b11-41e7-9e03-2bd4d2a00116)

**Desired behavior after PR is merged:**
The `activity date` stays on the same line.
![Acc-Dashboard-After-FIX](https://github.com/user-attachments/assets/a574f260-f727-435e-b5c8-65eaa3b8e0be)


**Steps to reproduce activity date display issue :**

- Install the Accounting module.
- Navigate to the Accounting dashboard.
- Create a new account journal of type `Miscellaneous`
- Set an `activity` on that journal.
- Return to the dashboard.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193173",fw-bot,2025-01-13 11:44:09+00:00,[],2025-01-29 05:47:09+00:00,2025-01-15 05:44:02+00:00,https://github.com/odoo/odoo/pull/193381,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586885388, 'issue_id': 2783732356, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193381.png)](https://mergebot.odoo.com/odoo/odoo/pull/193381)', 'created_at': datetime.datetime(2025, 1, 13, 11, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586885414, 'issue_id': 2783732356, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 44, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:44:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193381.png)](https://mergebot.odoo.com/odoo/odoo/pull/193381)

fw-bot (Issue Creator) on (2025-01-13 11:44:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783714253,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192825
Forward-Port-Of: odoo/odoo#192448",fw-bot,2025-01-13 11:35:17+00:00,[],2025-01-27 14:57:12+00:00,2025-01-13 14:43:53+00:00,https://github.com/odoo/odoo/pull/193380,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586866551, 'issue_id': 2783714253, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193380.png)](https://mergebot.odoo.com/odoo/odoo/pull/193380)', 'created_at': datetime.datetime(2025, 1, 13, 11, 35, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586866571, 'issue_id': 2783714253, 'author': 'fw-bot', 'body': '@kitan191 @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193363\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 35, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586906660, 'issue_id': 2783714253, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 11, 55, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:35:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193380.png)](https://mergebot.odoo.com/odoo/odoo/pull/193380)

fw-bot (Issue Creator) on (2025-01-13 11:35:19 UTC): @kitan191 @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193363

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-13 11:55:23 UTC): @robodoo r+

"
2783702724,pull_request,closed,,[FW][FIX] spreadsheet_account: auto-complete type of account group,"Currently, there's no way to know what are the valid/expected values for the ""type"" argument of ODOO.ACCOUNT.GROUP.

It makes it almost impossible to use if you are not technical and you can't go and check the code.

The valid inputs are the *technical* value of the selection field `account_type`.

I had to copy-paste and hard-code the selection field option. This is clearly not ideal (not a single source of truth), but the current auto-complete system is synchronous. I can't make a server call to fetch all the options. Besides, the UX is better if the auto-complete shows up instantly rather than having to wait for a network round-trip.

Task: 4465573

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193167",fw-bot,2025-01-13 11:29:40+00:00,[],2025-01-27 14:57:11+00:00,2025-01-13 14:43:48+00:00,https://github.com/odoo/odoo/pull/193379,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586855131, 'issue_id': 2783702724, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193379.png)](https://mergebot.odoo.com/odoo/odoo/pull/193379)', 'created_at': datetime.datetime(2025, 1, 13, 11, 29, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586855153, 'issue_id': 2783702724, 'author': 'fw-bot', 'body': '@LucasLefevre @rrahir this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193362\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 29, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586880535, 'issue_id': 2783702724, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 11, 41, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586880652, 'issue_id': 2783702724, 'author': 'LucasLefevre', 'body': 'robodoo r+\r\n\r\nOn Mon, Jan 13, 2025 at 12:30\u202fPM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @LucasLefevre <https://github.com/LucasLefevre> @rrahir\r\n> <https://github.com/rrahir> this PR targets master and is the last of the\r\n> forward-port chain containing:\r\n>\r\n>    - #193362 <https://github.com/odoo/odoo/pull/193362>\r\n>\r\n> To merge the full chain, use\r\n>\r\n> @robodoo <https://github.com/robodoo> r+\r\n>\r\n> More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/193379#issuecomment-2586855153>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ACTHFEN336II2XEGMG4VHKT2KOPTZAVCNFSM6AAAAABVCMGHP6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDKOBWHA2TKMJVGM>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 1, 13, 11, 42, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586881277, 'issue_id': 2783702724, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 13, 11, 42, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:29:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193379.png)](https://mergebot.odoo.com/odoo/odoo/pull/193379)

fw-bot (Issue Creator) on (2025-01-13 11:29:42 UTC): @LucasLefevre @rrahir this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193362

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rrahir on (2025-01-13 11:41:57 UTC): @robodoo r+

LucasLefevre on (2025-01-13 11:42:01 UTC): robodoo r+

On Mon, Jan 13, 2025 at 12:30 PM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

robodoo on (2025-01-13 11:42:20 UTC): This PR is already reviewed, reviewing it again is useless.

"
2783700296,pull_request,closed,,[FW][FIX] purchase: set_vendor_price_po_company,"The issue:
When a vendor has multiple prices for two companies (A and B), and the purchase order's company is set to B (while the user's main company is A), the price incorrectly defaults to the main company A's price.

How to reproduce the issue:
1) Create a new product with 2 vendor pricelist records that have different ""Unit Prices"" under the ""Purchase"" tab of the product -> each pricelist record should belong to a different company 

2) Create an RFQ for this product with both of these companies active

3) Change the ""Company"" on the PO under the ""Other Information"" tab to the company that is NOT shown in the top right-hand corner, but is still selected 

4) Add the product to the RFQ order line
- The ""Unit Price"" will be pulled from the main company shown in the top-right hand corner, thereby ignoring the ""Company"" selected for the PO.

After this commit, the price from the purchase order's company (B) is prioritized over the main company (A).

opw-4347134


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192918
Forward-Port-Of: odoo/odoo#189272",fw-bot,2025-01-13 11:28:29+00:00,[],2025-02-03 13:39:25+00:00,2025-01-20 13:32:26+00:00,https://github.com/odoo/odoo/pull/193378,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586852926, 'issue_id': 2783700296, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193378.png)](https://mergebot.odoo.com/odoo/odoo/pull/193378)', 'created_at': datetime.datetime(2025, 1, 13, 11, 28, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586852945, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193361\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 28, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587369088, 'issue_id': 2783700296, 'author': 'gteboul', 'body': '@robodo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 10, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588620209, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590258847, 'issue_id': 2783700296, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 15, 32, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590563469, 'issue_id': 2783700296, 'author': 'robodoo', 'body': '@gteboul @Whenrow unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 14, 16, 56, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478937, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313713, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278583, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468961, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174442, 'issue_id': 2783700296, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601655820, 'issue_id': 2783700296, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 7, 48, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601656051, 'issue_id': 2783700296, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 1, 20, 7, 48, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601805435, 'issue_id': 2783700296, 'author': 'gteboul', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 20, 8, 59, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:28:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193378.png)](https://mergebot.odoo.com/odoo/odoo/pull/193378)

fw-bot (Issue Creator) on (2025-01-13 11:28:30 UTC): @gteboul @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193361

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

gteboul on (2025-01-13 15:10:19 UTC): @robodo r+

fw-bot (Issue Creator) on (2025-01-14 02:02:05 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

Whenrow on (2025-01-14 15:32:53 UTC): robodoo r+

robodoo on (2025-01-14 16:56:12 UTC): @gteboul @Whenrow unable to stage: merge conflict

fw-bot (Issue Creator) on (2025-01-15 02:02:03 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:34 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:31 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:35 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:30 UTC): @gteboul @Whenrow this forward port of odoo/odoo#189272 is awaiting action (not merged or closed).

gteboul on (2025-01-20 07:48:46 UTC): @robodoo r+

robodoo on (2025-01-20 07:48:49 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

gteboul on (2025-01-20 08:59:49 UTC): @robodoo retry

"
2783699459,pull_request,closed,,[FW][FIX] hr_attendance: Auto Check-Out Checking Out Spuriously,"When ""Automatic Check-Out"" was enabled for the Attendance app, a scheduled action will run every given interval to clock out employees who are still clocked-in after their defined work hours for a day (typically 8 hours.) The issue is that this action was clocking every employee out every time it ran because the condition was comparing a value in seconds to a value in hours, where the former would dominate every time.

This change fixes this by normalizing the units to hours in all calculations.

This can be tested on Runbot by following these steps: 
1) In Attendances > Configuration, check the ""Automatic Check-Out"" box and set the tolerance to 0. The tolerance won't make much of a difference here because it is measured in hours and we'll find later that we are calculating time in seconds, but this is the tolerance that the customer has set.)

2) In Attendances > Overview, create a new attendance record for any given employee by clicking ""New."" Set the check-in date and time to be the current time to simulate a small interval of working time. Delete the check-out date entirely so that we functionally have a ""checked-in"" employee. (You could also clock this employee in using other methods like the kiosk, but I think this way is clear and easy too.)

3) Now that there is a short interval of time for this employee, navigate to Settings > Scheduled Actions > ""Attendance: Automatically check-out employees"" and run it manually to simulate what would happen when it should run 4 hours later.

4) Observe that the employee has not been clocked out because they have not gone over their allotted work hours for the day: BUG SQUASHED. 💥🐛

opw-4383268

Forward-Port-Of: odoo/odoo#192396",fw-bot,2025-01-13 11:28:04+00:00,[],2025-01-31 21:53:26+00:00,2025-01-17 21:39:27+00:00,https://github.com/odoo/odoo/pull/193377,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586852160, 'issue_id': 2783699459, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193377.png)](https://mergebot.odoo.com/odoo/odoo/pull/193377)', 'created_at': datetime.datetime(2025, 1, 13, 11, 28, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586852183, 'issue_id': 2783699459, 'author': 'fw-bot', 'body': '@hahu-odoo @jugj-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193360\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 28, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278147, 'issue_id': 2783699459, 'author': 'fw-bot', 'body': '@hahu-odoo @jugj-odoo this forward port of odoo/odoo#192396 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598399739, 'issue_id': 2783699459, 'author': 'hahu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 13, 44, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:28:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193377.png)](https://mergebot.odoo.com/odoo/odoo/pull/193377)

fw-bot (Issue Creator) on (2025-01-13 11:28:05 UTC): @hahu-odoo @jugj-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193360

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:01:05 UTC): @hahu-odoo @jugj-odoo this forward port of odoo/odoo#192396 is awaiting action (not merged or closed).

hahu-odoo on (2025-01-17 13:44:41 UTC): @robodoo r+

"
2783698802,pull_request,open,,[FW][IMP] l10n_es_edi_tbai: allow for more than one original vendor bill,"Backport of https://github.com/odoo/odoo/pull/166533:

> For the Bizkaia tax agency in Bask country, we also need to send vendor bills and vendor bill refunds.  In Odoo standard however, we only have a link towards one original vendor bill for a vendor bill refund.
> 
> The problem however is that your vendor can send you a vendor refund for multiple original vendor bills and that for the moment, you do not really have a good way to encode it.
> 
> So, we added a field to put the other original vendor bills as a many2many.
> 
> We also updated the translations.
> 
> opw-3719158


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
@moduon MT-4966

Forward-Port-Of: odoo/odoo#191303",fw-bot,2025-01-13 11:27:43+00:00,[],2025-02-02 02:01:53+00:00,,https://github.com/odoo/odoo/pull/193376,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2586851579, 'issue_id': 2783698802, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193376.png)](https://mergebot.odoo.com/odoo/odoo/pull/193376)', 'created_at': datetime.datetime(2025, 1, 13, 11, 27, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586851609, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 cherrypicking of pull request odoo/odoo#191303 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es_edi_tbai/views/account_move_view.xml\nCONFLICT (content): Merge conflict in addons/l10n_es_edi_tbai/views/account_move_view.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 27, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278272, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468869, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600467953, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174245, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476605, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119856, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608689617, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 23, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613721970, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 25, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615442423, 'issue_id': 2783698802, 'author': 'RicGR98', 'body': ""I'll wait to merge [this PR](https://github.com/odoo/odoo/pull/194361) in 16.0 so that I can include it in this one too"", 'created_at': datetime.datetime(2025, 1, 27, 11, 0, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618433393, 'issue_id': 2783698802, 'author': 'yajo', 'body': 'Do you mean https://github.com/odoo/odoo/pull/195113 and https://github.com/odoo/odoo/pull/194361?', 'created_at': datetime.datetime(2025, 1, 28, 9, 37, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618447965, 'issue_id': 2783698802, 'author': 'RicGR98', 'body': 'Woops messy clipboard, I meant https://github.com/odoo/odoo/pull/194361 indeed, fixed.', 'created_at': datetime.datetime(2025, 1, 28, 9, 44, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201944, 'issue_id': 2783698802, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:27:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193376.png)](https://mergebot.odoo.com/odoo/odoo/pull/193376)

fw-bot (Issue Creator) on (2025-01-13 11:27:45 UTC): @Yajo @RicGR98 cherrypicking of pull request odoo/odoo#191303 failed.

stdout:
```
Auto-merging addons/l10n_es_edi_tbai/views/account_move_view.xml
CONFLICT (content): Merge conflict in addons/l10n_es_edi_tbai/views/account_move_view.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:01:12 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:22 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:11 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:19 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:01:48 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:01:57 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-23 02:01:34 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-25 02:01:39 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

RicGR98 on (2025-01-27 11:00:21 UTC): I'll wait to merge [this PR](https://github.com/odoo/odoo/pull/194361) in 16.0 so that I can include it in this one too

yajo on (2025-01-28 09:37:21 UTC): Do you mean https://github.com/odoo/odoo/pull/195113 and https://github.com/odoo/odoo/pull/194361?

RicGR98 on (2025-01-28 09:44:07 UTC): Woops messy clipboard, I meant https://github.com/odoo/odoo/pull/194361 indeed, fixed.

fw-bot (Issue Creator) on (2025-02-02 02:01:51 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#191303 is awaiting action (not merged or closed).

"
2783698296,pull_request,closed,,[FW][FIX] point_of_sale: no caba move during reconciliation,"The reconciliation of move lines creates a cash basis (caba) move under some conditions. This can i.e. happen for the PoS move during the closing of a session.

But the PoS move does not use the transition account of any used caba taxes but the ""real"" account directly (see commit a011dcc0bdbe892b0a505a6a4169c5168bd018f6). So there is no need for a caba move.
Further an exchange difference move for the tax amount may be created. The issue is that the tax amounts from the cash basis are not being matched correctly with the tax amounts from the PoS move (since we only look for the transition account on the PoS move).

Reproduce on runbot for l10n_mx
1. Install l10n_mx
2. Set the 'IVA 16% VENTAS' tax as Customer Taxes on a product. Set the Sales Price to 100.
3. Create a payment method and journal for the PoS 
    * Payment method: Cash on journal CSH1
    * Journal: POS
5. Create a PoS using the payment method and journal from the previous step.
6. Start a PoS session
7. Sell the product from step 2 via the Cash payment method.
8. Close the Session
9. The following journal entries will be created: (All the tax lines use the same tax account; the ""final"" and not the caba transition account) 
```
* 1 entry in the POS journal (order)
       base:       | - 100.0 $
       tax:        | -  16.0 $
       receivable: | + 116.0 $
     * 1 entry in the CSH1 journal (cash / payment)
       cash:       | + 116.0 $
       receivable: | - 116.0 $
     * 1 entry in the CBMX journal (caba)
       base:       | - 100.0 $
       base:       | + 100.0 $
       tax:        | -  16.0 $
       tax:        | +  16.0 $
     * 1 entry in the EXCH journal (exchange difference)
       for the cash basis rounding difference
       tax:        | -  16.0 $
       tax:        | +  16.0 $
```

This commit fixes the issue by just skipping the creation of caba moves during the reconciliation of the PoS move lines. Further we make sure no exchange difference entry is created for the (not even created) cash basis entries.

opw-4355124

Forward-Port-Of: odoo/odoo#193195",fw-bot,2025-01-13 11:27:28+00:00,[],2025-01-27 19:16:02+00:00,2025-01-13 19:01:03+00:00,https://github.com/odoo/odoo/pull/193375,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2586851137, 'issue_id': 2783698296, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193375.png)](https://mergebot.odoo.com/odoo/odoo/pull/193375)', 'created_at': datetime.datetime(2025, 1, 13, 11, 27, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586851151, 'issue_id': 2783698296, 'author': 'fw-bot', 'body': '@svfu-odoo @RicGR98 cherrypicking of pull request odoo/odoo#193195 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move_line.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move_line.py\nAuto-merging addons/point_of_sale/models/pos_session.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 11, 27, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587415513, 'issue_id': 2783698296, 'author': 'svfu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 22, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:27:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193375.png)](https://mergebot.odoo.com/odoo/odoo/pull/193375)

fw-bot (Issue Creator) on (2025-01-13 11:27:30 UTC): @svfu-odoo @RicGR98 cherrypicking of pull request odoo/odoo#193195 failed.

stdout:
```
Auto-merging addons/account/models/account_move_line.py
CONFLICT (content): Merge conflict in addons/account/models/account_move_line.py
Auto-merging addons/point_of_sale/models/pos_session.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

svfu-odoo on (2025-01-13 15:22:54 UTC): @robodoo r+

"
2783671116,pull_request,closed,,[IMP] mail: better call context menu,"This commit fixes various issues with the context menu on the call participant:
- Before this commit it wasn't possible to set the volume of a user to 0 due to the use of the `||` operator in the `getVolume` function. This commit fixes the issue by using the correct `??` operator.
- Before this commit the volume slider in dark mode had the same background as the popover menu, making it difficult to see. This commit fixes the issue by making the slider darker than the background.
- A volume icon was added to better indicate the slider purpose.
- A volume percentage tooltip was added for more accurate use.
- A chevron button was added to the minimized participant card for better discoverability of the context menu.

Before:
![image (3)](https://github.com/user-attachments/assets/fc56e89a-3524-4476-94b4-59595d69a640)

After:
![Pasted image 20250113113653](https://github.com/user-attachments/assets/50f439cc-93c7-45e9-a9a5-54db69c987f6)

task-4467222
",Atovange,2025-01-13 11:14:31+00:00,[],2025-01-16 19:23:53+00:00,2025-01-16 16:29:17+00:00,https://github.com/odoo/odoo/pull/193374,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586824833, 'issue_id': 2783671116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193374.png)](https://mergebot.odoo.com/odoo/odoo/pull/193374)', 'created_at': datetime.datetime(2025, 1, 13, 11, 14, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 11:14:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193374.png)](https://mergebot.odoo.com/odoo/odoo/pull/193374)

"
2783630471,pull_request,open,,Enable various Python tests,,xmo-odoo,2025-01-13 10:55:29+00:00,[],2025-01-15 08:06:15+00:00,,https://github.com/odoo/odoo/pull/193373,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586784306, 'issue_id': 2783630471, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193373.png)](https://mergebot.odoo.com/odoo/odoo/pull/193373)', 'created_at': datetime.datetime(2025, 1, 13, 10, 55, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:55:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193373.png)](https://mergebot.odoo.com/odoo/odoo/pull/193373)

"
2783619778,pull_request,closed,,[IMP] pos_settle_due: display settling and deposit order lines,"### Add `settling` and `deposit` orderlines : 
- Now in PoS when settling an order we want to see the list of the orders for which the customers have due with the remaining due amount for each order. Then we can select the order(s) we want to settle, and it adds orderlines with a ref to the settling order(s). We can also add basic orderlines to the order.
- For money deposit money we don't change the flow, so we're still redirected to the payment screen to complete the deposit, and we shouldn't be able to add any other orderlines to the order. That's why deposit orderline are only added to the order at the validation.
- From the backend we now have the details of `settling` and `deposit` orderlines.
-  `settling` and `deposit` orderlines are excluded from tax computation, as these are not sales lines. But we wan't to see these lines on the receipt and invoices

Other:
- Remove useless file `point_of_sale/models/ir_ui_view.py` (not used since commit 217d4bb16968519502ae1bbd7e2b03da414f570a)

enterprise PR: https://github.com/odoo/enterprise/pull/77019

task-id: 4342951

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-01-13 10:50:27+00:00,[],2025-02-05 13:54:07+00:00,2025-02-05 13:54:07+00:00,https://github.com/odoo/odoo/pull/193372,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2586773692, 'issue_id': 2783619778, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193372.png)](https://mergebot.odoo.com/odoo/odoo/pull/193372)', 'created_at': datetime.datetime(2025, 1, 13, 10, 50, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:50:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193372.png)](https://mergebot.odoo.com/odoo/odoo/pull/193372)

"
2783616011,pull_request,closed,,[FIX] pos_viva_wallet: mark endpoint as read/write,"Since #584a172, controller endpoints can specify `readonly=False` if they are expected to write to the DB. The webhook endpoint for Viva Wallet was previously not specified this way, which leads to a warning being logged.

This commit simply adds `readonly=False` to the webhook endpoint to prevent the warning.

task-4472274

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-01-13 10:48:45+00:00,[],2025-02-06 03:07:09+00:00,2025-01-23 02:57:55+00:00,https://github.com/odoo/odoo/pull/193371,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586770119, 'issue_id': 2783616011, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193371.png)](https://mergebot.odoo.com/odoo/odoo/pull/193371)', 'created_at': datetime.datetime(2025, 1, 13, 10, 48, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586795675, 'issue_id': 2783616011, 'author': 'MaxTheWhale', 'body': '@odoo/rd-security A small PR for you:\r\n\r\n**Context**: Viva wallet uses a webhook endpoint, in this PR we are just explicitly making it a read-write endpoint\r\n**Flagged code**: As the endpoint needs `csrf=False`, it has been flagged\r\n\r\nThis is okay because the endpoint uses a shared secret which is checked against to ensure that only Viva wallet can call it.', 'created_at': datetime.datetime(2025, 1, 13, 11, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586913096, 'issue_id': 2783616011, 'author': 'mart-e', 'body': 'Hi,\r\n\r\nWhich part needs to write to db?\r\nCan you also use `consteq` to check the token?', 'created_at': datetime.datetime(2025, 1, 13, 11, 58, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586994040, 'issue_id': 2783616011, 'author': 'MaxTheWhale', 'body': '@mart-e\r\n\r\n> Which part needs to write to db?\r\n\r\nThe controller calls the `_retrieve_session_id` method on the payment method model, which then sets the `viva_wallet_latest_response` field.\r\n\r\n> Can you also use `consteq` to check the token?\r\n\r\nDone.', 'created_at': datetime.datetime(2025, 1, 13, 12, 36, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587000028, 'issue_id': 2783616011, 'author': 'mart-e', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 13, 12, 39, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:48:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193371.png)](https://mergebot.odoo.com/odoo/odoo/pull/193371)

MaxTheWhale (Issue Creator) on (2025-01-13 11:01:01 UTC): @odoo/rd-security A small PR for you:

**Context**: Viva wallet uses a webhook endpoint, in this PR we are just explicitly making it a read-write endpoint
**Flagged code**: As the endpoint needs `csrf=False`, it has been flagged

This is okay because the endpoint uses a shared secret which is checked against to ensure that only Viva wallet can call it.

mart-e on (2025-01-13 11:58:34 UTC): Hi,

Which part needs to write to db?
Can you also use `consteq` to check the token?

MaxTheWhale (Issue Creator) on (2025-01-13 12:36:52 UTC): @mart-e


The controller calls the `_retrieve_session_id` method on the payment method model, which then sets the `viva_wallet_latest_response` field.


Done.

mart-e on (2025-01-13 12:39:49 UTC): @robodoo override=ci/security

"
2783615386,pull_request,closed,,[FW][FIX] web: prevent crash with empty calendar color attribute,"Steps to reproduce
==================

- Install industry_fsm,web_studio
- Go to Field Service
- Switch to the calendar view
- Open studio
- Unset the color

=> fields[fieldMapping.color] is undefined

Cause of the issue
==================

We have a field that has the color attribute with a value of color.

```xml
<field name=""worksheet_template_id"" attrs=""{'invisible': [('worksheet_template_id', '=', False)]}"" filters=""1"" color=""color""/>
```

`shouldFetchColor` checks if the filter color is the same one as the calendar record color.

Solution
========

Since it's possible to have a color filter without a record color, we should fetch the filter colors in that case.

opw-4443497

Forward-Port-Of: odoo/odoo#193018
Forward-Port-Of: odoo/odoo#192334",fw-bot,2025-01-13 10:48:28+00:00,[],2025-01-27 16:20:47+00:00,2025-01-13 15:57:35+00:00,https://github.com/odoo/odoo/pull/193370,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586769426, 'issue_id': 2783615386, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193370.png)](https://mergebot.odoo.com/odoo/odoo/pull/193370)', 'created_at': datetime.datetime(2025, 1, 13, 10, 48, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586769469, 'issue_id': 2783615386, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 48, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586874235, 'issue_id': 2783615386, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 11, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586920578, 'issue_id': 2783615386, 'author': 'fw-bot', 'body': '@hubvd @mcm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 13, 12, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587155917, 'issue_id': 2783615386, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 49, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:48:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193370.png)](https://mergebot.odoo.com/odoo/odoo/pull/193370)

fw-bot (Issue Creator) on (2025-01-13 10:48:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 11:38:51 UTC): @hubvd @mcm-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-13 12:02:14 UTC): @hubvd @mcm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

hubvd on (2025-01-13 13:49:33 UTC): @robodoo r+

"
2783606469,pull_request,closed,,[FW][FIX] account_peppol: Handle non-Peppol EDI proxy,"An error can occur when the EDI proxy is not Peppol, because the mocked request does not exist in the mocked dictionary.

Steps to reproduce:
- Install l10n_it_edi and account_peppol
- Set up production for Italian Electronic Invoicing
- Set up demo mode for Peppol
- Create a new invoice and click on Send & Print
- Check the ""Send To Tax Agency"" box

An error will occur:
```
File
""/home/odoo/src/odoo/saas-17.4/addons/account_peppol/tools/demo_utils.py"",
line 74, in _mock_make_request
    return {
KeyError: 'SdiRiceviFile'
```

This error arises because the EDI proxy is not Peppol, and thus the request should not be mocked. This fix ensures that the EDI proxy is Peppol before mocking the request.

opw-4438740

Forward-Port-Of: odoo/odoo#193188",fw-bot,2025-01-13 10:44:21+00:00,[],2025-01-27 15:55:24+00:00,2025-01-13 15:51:18+00:00,https://github.com/odoo/odoo/pull/193369,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586761036, 'issue_id': 2783606469, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193369.png)](https://mergebot.odoo.com/odoo/odoo/pull/193369)', 'created_at': datetime.datetime(2025, 1, 13, 10, 44, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586761053, 'issue_id': 2783606469, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 44, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586815806, 'issue_id': 2783606469, 'author': 'fw-bot', 'body': '@LouisGobert @clbr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 11, 10, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:44:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193369.png)](https://mergebot.odoo.com/odoo/odoo/pull/193369)

fw-bot (Issue Creator) on (2025-01-13 10:44:25 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 11:10:32 UTC): @LouisGobert @clbr-odoo ci/runbot failed on this forward-port PR

"
2783593085,pull_request,closed,,[FIX] purchase: Prevent chatter logs for insignificant changes to Untaxed Amount,"The `amount_untaxed` field, which is tracked,
encounters floating-point precision issues during recomputation. When a value like `261,462.02` is assigned,
the field may become 261,`462.0200000002` due to floating-point imprecision. Although the value is stored correctly in the database (as `261,462.02`), the tracked change is logged in the chatter, causing unnecessary noise.

I couldn’t identify a clear or universal solution to this issue due to the inherent nature of floating-point arithmetic and its limitations. So what I did is checking if the new value is different than the old one then update the field.

Steps to reproduce:
1. Create a PO
2. Add a product with price 261,462.02
3. Save
4. Change the expected arrival date
5. Save See the chatter.
take a loot at the chatter.
![image](https://github.com/user-attachments/assets/a19ce09a-f02a-45a7-a02a-d044a4c1cc40)

opw-4315116



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-01-13 10:37:58+00:00,[],2025-02-07 12:38:56+00:00,2025-01-24 12:30:41+00:00,https://github.com/odoo/odoo/pull/193368,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586748087, 'issue_id': 2783593085, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193368.png)](https://mergebot.odoo.com/odoo/odoo/pull/193368)', 'created_at': datetime.datetime(2025, 1, 13, 10, 38, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612095285, 'issue_id': 2783593085, 'author': 'Whenrow', 'body': 'robodoo r+ \r\nthank you', 'created_at': datetime.datetime(2025, 1, 24, 9, 47, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:38:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193368.png)](https://mergebot.odoo.com/odoo/odoo/pull/193368)

Whenrow on (2025-01-24 09:47:10 UTC): robodoo r+ 
thank you

"
2783590791,pull_request,closed,,[FIX] uom: unblock runbot,"In order to unblock migration tests for #184131, this PR removes two constraints related to UoM categories that the mentioned PR removes. Therefore, the migration build in the other PR won't try to add those constraints back leading to a warning. See: https://runbot.odoo.com/runbot/build/73266841.",mohammadhossam,2025-01-13 10:36:51+00:00,[],2025-01-27 14:57:08+00:00,2025-01-13 14:43:30+00:00,https://github.com/odoo/odoo/pull/193367,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2586745618, 'issue_id': 2783590791, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193367.png)](https://mergebot.odoo.com/odoo/odoo/pull/193367)', 'created_at': datetime.datetime(2025, 1, 13, 10, 36, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586762638, 'issue_id': 2783590791, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 45, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:36:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193367.png)](https://mergebot.odoo.com/odoo/odoo/pull/193367)

d-fence on (2025-01-13 10:45:15 UTC): robodoo r+

"
2783558483,pull_request,closed,,[FW][FIX] point_of_sale: fix pos preset name without partner,"Since https://github.com/odoo/odoo/pull/192154, selecting a preset indentified by name without a partner raise a traceback as we try to access the name of the partner which is undefined.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192452",fw-bot,2025-01-13 10:22:06+00:00,[],2025-01-14 08:25:37+00:00,2025-01-14 08:25:37+00:00,https://github.com/odoo/odoo/pull/193366,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2586714467, 'issue_id': 2783558483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193366.png)](https://mergebot.odoo.com/odoo/odoo/pull/193366)', 'created_at': datetime.datetime(2025, 1, 13, 10, 22, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586714498, 'issue_id': 2783558483, 'author': 'fw-bot', 'body': '@adgu-odoo @caburj cherrypicking of pull request odoo/odoo#192452 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 22, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:22:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193366.png)](https://mergebot.odoo.com/odoo/odoo/pull/193366)

fw-bot (Issue Creator) on (2025-01-13 10:22:17 UTC): @adgu-odoo @caburj cherrypicking of pull request odoo/odoo#192452 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783542981,pull_request,open,,[REF/IMP] spreadsheet: revamp GF + add support for others types,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pro-odoo,2025-01-13 10:14:44+00:00,[],2025-02-06 20:12:28+00:00,,https://github.com/odoo/odoo/pull/193365,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586698370, 'issue_id': 2783542981, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193365.png)](https://mergebot.odoo.com/odoo/odoo/pull/193365)', 'created_at': datetime.datetime(2025, 1, 13, 10, 14, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:14:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193365.png)](https://mergebot.odoo.com/odoo/odoo/pull/193365)

"
2783539422,pull_request,closed,,"[FW][IMP] l10n_sa, l10n_sa_edi: Improved Report Spacing","Description of the issue/feature this PR addresses:
Task ID: 4342267

Current behavior before PR:
-Error When printing draft invoice due to unset invoice_date.

-Report spacing between header & body in second page overlaps due to paperformat spacing.
Due to the long address format of saudi arabia, the default paperformat header spacing and margin top are not enough to show the full address without overlapping the second and onward pages.

-English labels on the exchange rate table in l10n_sa_edi are translated and not shown together with the arabic labels.

-Remove unnecessary spans in xpaths

Desired behavior after PR is merged:
-Fix printing draft invoice with invoice_date as today's date

-Fix report spacing header by adding a new A4 paperformat for l10n_sa which is set as the saudi arabia companies default paper format.

-Fix exchange rate table to show both arabic and english labels and remove unnecessary translations (no longer used)

-Remove unnecessary spans in xpath.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190172",fw-bot,2025-01-13 10:13:04+00:00,[],2025-02-05 14:57:53+00:00,2025-01-22 14:39:44+00:00,https://github.com/odoo/odoo/pull/193364,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2586694670, 'issue_id': 2783539422, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193364.png)](https://mergebot.odoo.com/odoo/odoo/pull/193364)', 'created_at': datetime.datetime(2025, 1, 13, 10, 13, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586694689, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190172 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_sa/__manifest__.py\nCONFLICT (content): Merge conflict in addons/l10n_sa/__manifest__.py\nAuto-merging addons/l10n_sa/demo/demo_company.xml\nAuto-merging addons/l10n_sa/views/report_invoice.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 13, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278561, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468949, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600469087, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601174418, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 20, 2, 2, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476847, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606119945, 'issue_id': 2783539422, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606993698, 'issue_id': 2783539422, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 11, 30, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:13:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193364.png)](https://mergebot.odoo.com/odoo/odoo/pull/193364)

fw-bot (Issue Creator) on (2025-01-13 10:13:06 UTC): @alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190172 failed.

stdout:
```
Auto-merging addons/l10n_sa/__manifest__.py
CONFLICT (content): Merge conflict in addons/l10n_sa/__manifest__.py
Auto-merging addons/l10n_sa/demo/demo_company.xml
Auto-merging addons/l10n_sa/views/report_invoice.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:01:29 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:34 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:20 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-20 02:02:28 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:02:02 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:02:01 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

gawa-odoo on (2025-01-22 11:30:21 UTC): @robodoo r+

"
2783530593,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192825
Forward-Port-Of: odoo/odoo#192448",fw-bot,2025-01-13 10:08:59+00:00,[],2025-01-27 15:44:44+00:00,2025-01-13 15:13:39+00:00,https://github.com/odoo/odoo/pull/193363,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586685824, 'issue_id': 2783530593, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193363.png)](https://mergebot.odoo.com/odoo/odoo/pull/193363)', 'created_at': datetime.datetime(2025, 1, 13, 10, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586685847, 'issue_id': 2783530593, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 9, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:09:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193363.png)](https://mergebot.odoo.com/odoo/odoo/pull/193363)

fw-bot (Issue Creator) on (2025-01-13 10:09:01 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783529994,pull_request,closed,,[FW][FIX] spreadsheet_account: auto-complete type of account group,"Currently, there's no way to know what are the valid/expected values for the ""type"" argument of ODOO.ACCOUNT.GROUP.

It makes it almost impossible to use if you are not technical and you can't go and check the code.

The valid inputs are the *technical* value of the selection field `account_type`.

I had to copy-paste and hard-code the selection field option. This is clearly not ideal (not a single source of truth), but the current auto-complete system is synchronous. I can't make a server call to fetch all the options. Besides, the UX is better if the auto-complete shows up instantly rather than having to wait for a network round-trip.

Task: 4465573

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193167",fw-bot,2025-01-13 10:08:43+00:00,[],2025-01-27 13:26:47+00:00,2025-01-13 13:24:37+00:00,https://github.com/odoo/odoo/pull/193362,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586685178, 'issue_id': 2783529994, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193362.png)](https://mergebot.odoo.com/odoo/odoo/pull/193362)', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586685198, 'issue_id': 2783529994, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:08:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193362.png)](https://mergebot.odoo.com/odoo/odoo/pull/193362)

fw-bot (Issue Creator) on (2025-01-13 10:08:45 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783529402,pull_request,closed,,[FW][FIX] purchase: set_vendor_price_po_company,"The issue:
When a vendor has multiple prices for two companies (A and B), and the purchase order's company is set to B (while the user's main company is A), the price incorrectly defaults to the main company A's price.

How to reproduce the issue:
1) Create a new product with 2 vendor pricelist records that have different ""Unit Prices"" under the ""Purchase"" tab of the product -> each pricelist record should belong to a different company 

2) Create an RFQ for this product with both of these companies active

3) Change the ""Company"" on the PO under the ""Other Information"" tab to the company that is NOT shown in the top right-hand corner, but is still selected 

4) Add the product to the RFQ order line
- The ""Unit Price"" will be pulled from the main company shown in the top-right hand corner, thereby ignoring the ""Company"" selected for the PO.

After this commit, the price from the purchase order's company (B) is prioritized over the main company (A).

opw-4347134


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192918
Forward-Port-Of: odoo/odoo#189272",fw-bot,2025-01-13 10:08:28+00:00,[],2025-01-31 10:24:51+00:00,2025-01-17 10:20:34+00:00,https://github.com/odoo/odoo/pull/193361,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586684496, 'issue_id': 2783529402, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193361.png)](https://mergebot.odoo.com/odoo/odoo/pull/193361)', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586684518, 'issue_id': 2783529402, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590579891, 'issue_id': 2783529402, 'author': 'robodoo', 'body': '@gteboul @Whenrow unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 14, 17, 2, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596004092, 'issue_id': 2783529402, 'author': 'fw-bot', 'body': '@gteboul @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 16, 15, 17, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597635933, 'issue_id': 2783529402, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 7, 54, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:08:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193361.png)](https://mergebot.odoo.com/odoo/odoo/pull/193361)

fw-bot (Issue Creator) on (2025-01-13 10:08:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-14 17:02:58 UTC): @gteboul @Whenrow unable to stage: merge conflict

fw-bot (Issue Creator) on (2025-01-16 15:17:52 UTC): @gteboul @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

gteboul on (2025-01-17 07:54:53 UTC): @robodoo r+

"
2783528775,pull_request,closed,,[FW][FIX] hr_attendance: Auto Check-Out Checking Out Spuriously,"When ""Automatic Check-Out"" was enabled for the Attendance app, a scheduled action will run every given interval to clock out employees who are still clocked-in after their defined work hours for a day (typically 8 hours.) The issue is that this action was clocking every employee out every time it ran because the condition was comparing a value in seconds to a value in hours, where the former would dominate every time.

This change fixes this by normalizing the units to hours in all calculations.

This can be tested on Runbot by following these steps: 
1) In Attendances > Configuration, check the ""Automatic Check-Out"" box and set the tolerance to 0. The tolerance won't make much of a difference here because it is measured in hours and we'll find later that we are calculating time in seconds, but this is the tolerance that the customer has set.)

2) In Attendances > Overview, create a new attendance record for any given employee by clicking ""New."" Set the check-in date and time to be the current time to simulate a small interval of working time. Delete the check-out date entirely so that we functionally have a ""checked-in"" employee. (You could also clock this employee in using other methods like the kiosk, but I think this way is clear and easy too.)

3) Now that there is a short interval of time for this employee, navigate to Settings > Scheduled Actions > ""Attendance: Automatically check-out employees"" and run it manually to simulate what would happen when it should run 4 hours later.

4) Observe that the employee has not been clocked out because they have not gone over their allotted work hours for the day: BUG SQUASHED. 💥🐛

opw-4383268

Forward-Port-Of: odoo/odoo#192396",fw-bot,2025-01-13 10:08:11+00:00,[],2025-02-01 04:46:36+00:00,2025-01-18 02:24:58+00:00,https://github.com/odoo/odoo/pull/193360,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2586684187, 'issue_id': 2783528775, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193360.png)](https://mergebot.odoo.com/odoo/odoo/pull/193360)', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586684226, 'issue_id': 2783528775, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:08:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193360.png)](https://mergebot.odoo.com/odoo/odoo/pull/193360)

fw-bot (Issue Creator) on (2025-01-13 10:08:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2783522999,pull_request,closed,,[FIX] project: Use company id data not company record,"Steps:
- Install project_todo
- Create a second company
- Create a project
- Link the project to a company
- Setup a default value for task.project_id with your new project (1)
- Try to open project_todo

Actual result:
- Error due to company id
- can't adapt type 'res.company'

Expected result:
- No error
- Welcome task is created and project is opened

opw-4465277

Caused by https://github.com/odoo/odoo/pull/173625",GaetanVandenBergh,2025-01-13 10:06:02+00:00,[],2025-01-27 14:16:55+00:00,2025-01-13 13:30:01+00:00,https://github.com/odoo/odoo/pull/193359,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586677747, 'issue_id': 2783522999, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193359.png)](https://mergebot.odoo.com/odoo/odoo/pull/193359)', 'created_at': datetime.datetime(2025, 1, 13, 10, 6, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 10:06:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193359.png)](https://mergebot.odoo.com/odoo/odoo/pull/193359)

"
2783507175,pull_request,closed,,[FIX] pos_viva_wallet: traceback when cancelling payment,"Steps to reproduce:
- Start a Viva wallet payment
- Immediately cancel and remove the payment line
- After a few seconds, a traceback occurs

This commit fixes the issue by ensuring that the Viva Wallet status polling only runs if it is still the current payment line.

task-4472269

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-01-13 09:59:37+00:00,[],2025-01-27 16:30:27+00:00,2025-01-13 16:28:34+00:00,https://github.com/odoo/odoo/pull/193358,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586661866, 'issue_id': 2783507175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193358.png)](https://mergebot.odoo.com/odoo/odoo/pull/193358)', 'created_at': datetime.datetime(2025, 1, 13, 9, 59, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587213009, 'issue_id': 2783507175, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 14, 12, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 09:59:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193358.png)](https://mergebot.odoo.com/odoo/odoo/pull/193358)

caburj on (2025-01-13 14:12:28 UTC): robodoo r+

"
2783481368,pull_request,closed,,[FIX] website_sale_collect: add check on delivery radio existing,"Versions
--------
- 18.0+

Steps
-----
1. Go to eCommerce;
2. add only services to cart;
3. go to checkout;
4. on payment page, go back to Delivery page;
5. add a second address if needed;
6. change selected address.

Issue
-----
> Uncaught Promise > Cannot read properties of null

Cause
-----
The query selector in `_canEnabledMainButton` assumes a radio input is always present on this step, but this is only the case when deliverable products were added to the cart.

Solution
--------
Skip the remainder of the method if the delivery radio wasn't found.

opw-4365246
opw-4422905",lvsz,2025-01-13 09:48:24+00:00,[],2025-01-30 01:45:34+00:00,2025-01-16 01:21:47+00:00,https://github.com/odoo/odoo/pull/193357,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586637165, 'issue_id': 2783481368, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193357.png)](https://mergebot.odoo.com/odoo/odoo/pull/193357)', 'created_at': datetime.datetime(2025, 1, 13, 9, 48, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586734490, 'issue_id': 2783481368, 'author': 'AntoineVDV', 'body': '@robodoo delegate=vchu-odoo', 'created_at': datetime.datetime(2025, 1, 13, 10, 31, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592098431, 'issue_id': 2783481368, 'author': 'lvsz', 'body': '> Just small fix with triple-equals and since it needs fix I cleaned the comments as well.\r\n\r\nDone (ellipses worked better grammatically imo, but this is fine too)', 'created_at': datetime.datetime(2025, 1, 15, 9, 23, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592749576, 'issue_id': 2783481368, 'author': 'vchu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 12, 45, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 09:48:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193357.png)](https://mergebot.odoo.com/odoo/odoo/pull/193357)

AntoineVDV on (2025-01-13 10:31:41 UTC): @robodoo delegate=vchu-odoo

lvsz (Issue Creator) on (2025-01-15 09:23:38 UTC): Done (ellipses worked better grammatically imo, but this is fine too)

vchu-odoo on (2025-01-15 12:45:14 UTC): @robodoo r+

"
2783472092,pull_request,closed,,[FIX] pos_self_order: corrected price calculation for combo product lines,"Issue:
=======
Combo product lines in the POS frontend displayed incorrect prices when order from self Order

Cause:
=======
The `price_unit` was being calculated without considering the `combo_line_id`. For example:
price_unit += pos_order_line.combo_price + price_extra_child`

Fix:
=====
The `combo_line_id` was included in the calculation to ensure accuracy: price_unit += pos_order_line.`combo_line_id`.combo_price + price_extra_child

Task-4464002


",jipr-odoo,2025-01-13 09:44:10+00:00,[],2025-01-31 15:34:03+00:00,2025-01-17 15:28:45+00:00,https://github.com/odoo/odoo/pull/193356,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586628376, 'issue_id': 2783472092, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193356.png)](https://mergebot.odoo.com/odoo/odoo/pull/193356)', 'created_at': datetime.datetime(2025, 1, 13, 9, 44, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598273635, 'issue_id': 2783472092, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 12, 35, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 09:44:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193356.png)](https://mergebot.odoo.com/odoo/odoo/pull/193356)

adgu-odoo on (2025-01-17 12:35:45 UTC): robodoo r+

"
2783464845,pull_request,closed,,[IMP] account: allow only file drop,"This commit change a bit the behaviour of drag & drop feature in multiple account view. The main goal is to avoid users to drag and drop text in files drop zones. So now, if a user is dragging a text, we hide the files drop zones.

Linked:https://github.com/odoo/enterprise/pull/76565

opw-4366605",igbe-odoo,2025-01-13 09:40:48+00:00,[],2025-01-28 19:00:17+00:00,2025-01-28 19:00:17+00:00,https://github.com/odoo/odoo/pull/193355,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2586621422, 'issue_id': 2783464845, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193355.png)](https://mergebot.odoo.com/odoo/odoo/pull/193355)', 'created_at': datetime.datetime(2025, 1, 13, 9, 40, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595926534, 'issue_id': 2783464845, 'author': 'svfu-odoo', 'body': 'In the commit / PR title: the string after tag and before the module should be the changed module (or the main module scope in case there are multiple). Maybe:\r\n> [IMP] `account`: allow only files for bills upload dropzones', 'created_at': datetime.datetime(2025, 1, 16, 14, 47, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 09:40:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193355.png)](https://mergebot.odoo.com/odoo/odoo/pull/193355)

svfu-odoo on (2025-01-16 14:47:56 UTC): In the commit / PR title: the string after tag and before the module should be the changed module (or the main module scope in case there are multiple). Maybe:

"
2783462218,pull_request,closed,,[FIX] hr_holidays: remove unnecessary code,"Clean up `get outOfOfficeText` method by removing unused code and redundant conditions.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-01-13 09:39:34+00:00,[],2025-01-17 15:35:52+00:00,2025-01-17 15:28:40+00:00,https://github.com/odoo/odoo/pull/193354,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586619012, 'issue_id': 2783462218, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193354.png)](https://mergebot.odoo.com/odoo/odoo/pull/193354)', 'created_at': datetime.datetime(2025, 1, 13, 9, 39, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598183949, 'issue_id': 2783462218, 'author': 'alexkuhn', 'body': ""@robodoo r+ fw=no\r\n\r\nOnly dead code in 17.4.\r\n\r\nNote that the same dead code is present in 17.0: https://github.com/odoo/odoo/blob/17.0/addons/hr_holidays/static/src/persona_service_patch.js#L26\r\n\r\nTBH I don't care much of cleaning this dead code in stable, this is limited to this small function and this is at the very least improved in 18.0."", 'created_at': datetime.datetime(2025, 1, 17, 11, 43, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598184040, 'issue_id': 2783462218, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 17, 11, 43, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 09:39:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193354.png)](https://mergebot.odoo.com/odoo/odoo/pull/193354)

alexkuhn on (2025-01-17 11:43:52 UTC): @robodoo r+ fw=no

Only dead code in 17.4.

Note that the same dead code is present in 17.0: https://github.com/odoo/odoo/blob/17.0/addons/hr_holidays/static/src/persona_service_patch.js#L26

TBH I don't care much of cleaning this dead code in stable, this is limited to this small function and this is at the very least improved in 18.0.

robodoo on (2025-01-17 11:43:55 UTC): Disabled forward-porting.

"
2783453470,pull_request,closed,,"[IMP] iot_box_image: nano, vim update files using odoo user","In order to ensure file ownership does not change, we updated `nano` and `vim` aliases to force perform as `odoo` user.
",loouis-t,2025-01-13 09:35:21+00:00,[],2025-01-29 11:57:00+00:00,2025-01-15 11:56:08+00:00,https://github.com/odoo/odoo/pull/193353,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586610386, 'issue_id': 2783453470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193353.png)](https://mergebot.odoo.com/odoo/odoo/pull/193353)', 'created_at': datetime.datetime(2025, 1, 13, 9, 35, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 09:35:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193353.png)](https://mergebot.odoo.com/odoo/odoo/pull/193353)

"
2783345744,pull_request,closed,,[FW][FIX] l10n_id_pos: tests: load only test product,"This fixes the indeterminate test failures where the Test Product isn't found in the product list.

Related: https://github.com/odoo/enterprise/pull/76517

Forward-Port-Of: odoo/odoo#193196
Forward-Port-Of: odoo/odoo#193123",fw-bot,2025-01-13 08:43:28+00:00,[],2025-01-27 13:20:42+00:00,2025-01-13 13:14:50+00:00,https://github.com/odoo/odoo/pull/193352,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586505219, 'issue_id': 2783345744, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193352.png)](https://mergebot.odoo.com/odoo/odoo/pull/193352)', 'created_at': datetime.datetime(2025, 1, 13, 8, 43, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586505267, 'issue_id': 2783345744, 'author': 'fw-bot', 'body': '@caburj @Williambraecky this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 8, 43, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586729053, 'issue_id': 2783345744, 'author': 'caburj', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 29, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 08:43:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193352.png)](https://mergebot.odoo.com/odoo/odoo/pull/193352)

fw-bot (Issue Creator) on (2025-01-13 08:43:31 UTC): @caburj @Williambraecky this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

caburj on (2025-01-13 10:29:07 UTC): @robodoo r+

"
2783344671,pull_request,closed,,[FW][FIX] l10n_in_pos: tb on receipt with customer after payment done,"Steps:
===
- Open a POS shop.
- Create an order, select a customer, and validate it.

Issue:
===
- The generated receipt did not include customer name and phone details.

Cause:
===
- Customer details were not being passed correctly to the receipt template.

Fix:
===
- Updated the function for setting customer details to correctly include
in the receipt.

Task- 4431623

Forward-Port-Of: odoo/odoo#193212
Forward-Port-Of: odoo/odoo#191972",fw-bot,2025-01-13 08:42:53+00:00,[],2025-01-27 11:46:43+00:00,2025-01-13 11:42:04+00:00,https://github.com/odoo/odoo/pull/193351,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586504275, 'issue_id': 2783344671, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193351.png)](https://mergebot.odoo.com/odoo/odoo/pull/193351)', 'created_at': datetime.datetime(2025, 1, 13, 8, 42, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586504293, 'issue_id': 2783344671, 'author': 'fw-bot', 'body': '@djip-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 8, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586683963, 'issue_id': 2783344671, 'author': 'djip-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 8, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 08:42:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193351.png)](https://mergebot.odoo.com/odoo/odoo/pull/193351)

fw-bot (Issue Creator) on (2025-01-13 08:43:00 UTC): @djip-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

djip-odoo on (2025-01-13 10:08:15 UTC): @robodoo r+

"
2783343963,pull_request,closed,,[FW][FIX] spreadsheet_account: fix misleading function description,"The example of values in the description are translated in other languages. It should not because only the technical values are accepted (which are never translated)

It's not needed to backport to 16.0 because function description were not translated at that time.

Task: 4471424

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193205",fw-bot,2025-01-13 08:42:31+00:00,[],2025-01-31 09:22:44+00:00,2025-01-17 08:58:55+00:00,https://github.com/odoo/odoo/pull/193350,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2586503417, 'issue_id': 2783343963, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193350.png)](https://mergebot.odoo.com/odoo/odoo/pull/193350)', 'created_at': datetime.datetime(2025, 1, 13, 8, 42, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586503441, 'issue_id': 2783343963, 'author': 'fw-bot', 'body': '@LucasLefevre @rrahir cherrypicking of pull request odoo/odoo#193205 failed.\n\nstdout:\n```\nAuto-merging addons/spreadsheet_account/i18n/spreadsheet_account.pot\nCONFLICT (content): Merge conflict in addons/spreadsheet_account/i18n/spreadsheet_account.pot\nAuto-merging addons/spreadsheet_account/static/src/accounting_functions.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 8, 42, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597277861, 'issue_id': 2783343963, 'author': 'fw-bot', 'body': '@LucasLefevre @rrahir this forward port of odoo/odoo#193205 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 0, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597545524, 'issue_id': 2783343963, 'author': 'LucasLefevre', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 6, 43, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 08:42:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193350.png)](https://mergebot.odoo.com/odoo/odoo/pull/193350)

fw-bot (Issue Creator) on (2025-01-13 08:42:33 UTC): @LucasLefevre @rrahir cherrypicking of pull request odoo/odoo#193205 failed.

stdout:
```
Auto-merging addons/spreadsheet_account/i18n/spreadsheet_account.pot
CONFLICT (content): Merge conflict in addons/spreadsheet_account/i18n/spreadsheet_account.pot
Auto-merging addons/spreadsheet_account/static/src/accounting_functions.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-17 02:00:51 UTC): @LucasLefevre @rrahir this forward port of odoo/odoo#193205 is awaiting action (not merged or closed).

LucasLefevre on (2025-01-17 06:43:46 UTC): robodoo r+

"
2783299755,pull_request,closed,,[PERF] core: always call inverse method in batch,"Since create() works in batch with https://github.com/odoo/odoo/commit/b1e83fd7b87fa874816553c2cc99f86b3c9658bf, there is a special case where we unbatch the inverse method. Explanation (1) seems obsolete since we protect all inverted fields from being invalidated or marked for recomputation. It's probably because we didn't protect no-store fields before, but we do since https://github.com/odoo/odoo/pull/35659/files#diff-7144f88ea32f36feb17ce1b8dda7dee1631f5ada34075414587df3948c6b3d1bR5433

Then we can remove this complexity and avoid useless unbatched call of inverse.

(1) ""If a field is not stored, its inverse method will probably write on its dependencies, which will invalidate the field on all records. We therefore inverse the field record by record.""
",ryv-odoo,2025-01-13 08:18:08+00:00,[],2025-02-06 19:17:27+00:00,2025-01-23 19:16:44+00:00,https://github.com/odoo/odoo/pull/193349,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2586460616, 'issue_id': 2783299755, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193349.png)](https://mergebot.odoo.com/odoo/odoo/pull/193349)', 'created_at': datetime.datetime(2025, 1, 13, 8, 18, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609974248, 'issue_id': 2783299755, 'author': 'rco-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 14, 36, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 08:18:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193349.png)](https://mergebot.odoo.com/odoo/odoo/pull/193349)

rco-odoo on (2025-01-23 14:36:34 UTC): robodoo r+

"
2783277451,pull_request,closed,,[IMP] core: TransactionCase.enter_test_mode context,"Description of the issue/feature this PR addresses:
Sometimes it is needed to `enter_test_mode` just for a block of code. We add a simple context handler for that case.

Current behavior before PR:
Manual entering and registering a handler to leave test mode each time.

Desired behavior after PR is merged:
Context manager for test mode.
If all tests need it, we can still use the old method.

odoo/enterprise#77004



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-13 08:04:51+00:00,[],2025-01-27 14:42:48+00:00,2025-01-13 21:38:18+00:00,https://github.com/odoo/odoo/pull/193348,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2586438649, 'issue_id': 2783277451, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193348.png)](https://mergebot.odoo.com/odoo/odoo/pull/193348)', 'created_at': datetime.datetime(2025, 1, 13, 8, 4, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587675459, 'issue_id': 2783277451, 'author': 'robodoo', 'body': '@kmagusiak @Julien00859 linked pull request(s) odoo/enterprise#77004 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 13, 17, 0, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 08:04:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193348.png)](https://mergebot.odoo.com/odoo/odoo/pull/193348)

robodoo on (2025-01-13 17:00:01 UTC): @kmagusiak @Julien00859 linked pull request(s) odoo/enterprise#77004 not ready. Linked PRs are not staged until all of them are ready.

"
2783234888,pull_request,closed,,[CLN] website_sale: clean 'AddToCart' Logic,"Clean up of the changes made in b8d0ab4.
",chevalierv,2025-01-13 07:38:15+00:00,[],2025-01-27 22:33:23+00:00,2025-01-13 21:38:06+00:00,https://github.com/odoo/odoo/pull/193347,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2586400938, 'issue_id': 2783234888, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193347.png)](https://mergebot.odoo.com/odoo/odoo/pull/193347)', 'created_at': datetime.datetime(2025, 1, 13, 7, 38, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587383775, 'issue_id': 2783234888, 'author': 'chevalierv', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 13, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 07:38:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193347.png)](https://mergebot.odoo.com/odoo/odoo/pull/193347)

chevalierv (Issue Creator) on (2025-01-13 15:13:38 UTC): robodoo r+

"
2783231024,pull_request,closed,,[FIX] web: tests: decrease test_unit_desktop suite timeout,"This timeout has been recently increased [1] because builds sometimes reached it. It was indicating that something was wrong, but until we figured it out, the correct thing to do was to increase it.

PR [2] just fixed the underlying issue, which was coming from the update to from chrome 123 to chrome 126 on runbots. Indeed, as of chrome 124, the instruction to force a garbage collect after each test had to be slightly adapted.

Now that this is done, this suite generally lasts 20-22 minutes, so we can safely decrease the timeout to 30 minutes, which allows us to kill the test earlier when something's wrong, and which will indicate regressions (like memory leaks) faster.

[1] odoo/odoo#191456
[2] odoo/odoo#193332

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-13 07:35:48+00:00,[],2025-01-27 11:51:16+00:00,2025-01-13 11:48:01+00:00,https://github.com/odoo/odoo/pull/193346,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586397444, 'issue_id': 2783231024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193346.png)](https://mergebot.odoo.com/odoo/odoo/pull/193346)', 'created_at': datetime.datetime(2025, 1, 13, 7, 35, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586512721, 'issue_id': 2783231024, 'author': 'jum-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 47, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586518105, 'issue_id': 2783231024, 'author': 'aab-odoo', 'body': '@Xavier-Do fyi', 'created_at': datetime.datetime(2025, 1, 13, 8, 50, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 07:35:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193346.png)](https://mergebot.odoo.com/odoo/odoo/pull/193346)

jum-odoo on (2025-01-13 08:47:30 UTC): @robodoo r+

aab-odoo (Issue Creator) on (2025-01-13 08:50:20 UTC): @Xavier-Do fyi

"
2783201906,pull_request,open,,[REF] test_lint: Add prefer-env-translation lint checker,"Related to https://github.com/odoo/odoo/pull/174844

Based on https://github.com/OCA/pylint-odoo/pull/514


- [ ] Fix all cases https://gist.github.com/moylop260/71311407f4a00f9a942a4e51757b00f6",moylop260,2025-01-13 07:18:49+00:00,[],2025-01-13 07:55:11+00:00,,https://github.com/odoo/odoo/pull/193345,[],"[{'comment_id': 2586361614, 'issue_id': 2783201906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193345.png)](https://mergebot.odoo.com/odoo/odoo/pull/193345)', 'created_at': datetime.datetime(2025, 1, 13, 7, 18, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 07:18:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193345.png)](https://mergebot.odoo.com/odoo/odoo/pull/193345)

"
2783109511,pull_request,closed,,[FIX] mrp_subcontracting: remove duplicate detailed operation button,"Issue:
===========
Currently, the 'Detailed Operation' button appears twice on each product move for subcontracting receipts.

Steps to Reproduce:
===========================
1. Create a Bill of Materials (BOM) with the type set to 'Subcontracting'.
2. Create a Purchase Order (PO) for the product associated with the BOM.
3. Navigate to the receipt for that PO.
4. Observe that the 'Detailed Operation' button appears twice for each move.

With this commit:
=====================

A duplicate detailed operation button was displayed in each product
move for subcontracting receipts due to code duplication,
leading to redundancy and confusion. This fix removes the
extra button to ensure a clear and intuitive UI.

task-4467313
",dhha-odoo,2025-01-13 06:21:52+00:00,[],2025-02-08 03:46:05+00:00,2025-01-25 01:19:40+00:00,https://github.com/odoo/odoo/pull/193344,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586249049, 'issue_id': 2783109511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193344.png)](https://mergebot.odoo.com/odoo/odoo/pull/193344)', 'created_at': datetime.datetime(2025, 1, 13, 6, 21, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612938655, 'issue_id': 2783109511, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 24, 16, 34, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 06:21:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193344.png)](https://mergebot.odoo.com/odoo/odoo/pull/193344)

amoyaux on (2025-01-24 16:34:20 UTC): robodoo r+

"
2783109227,pull_request,closed,,[FIX] stock: Fix calculation of Demand value in stock move,"
Steps to Reproduce:
---------------------

1. Open Inventory and create a storable product (e.g., test) and assign a vendor to it.
2. Create a Unit of Measure (UOM) with a ratio of 150, select the type to `bigger`,
and categorize it under Unit (e.g., name it KG_150).
3. Set the product's UOM to Unit and Purchase UOM to KG_150.
4. Enable Multi-Step Routes and set incoming shipments to two_steps.
5. Click on button `Replenish`
6. Assign a quantity of 100 and confirm.

Issue:
--------
A Purchase Order (PO) and a Transfers(stock.picking) record with the status
`Waiting for another operation` will be created. However, when the product UOM
and Purchase UOM differ, then the Demand (product_uom_qty) value in the
stock move is incorrectly set to 100 instead of 100.5.

Solution:
----------
We need to consider `product_qty` from purchase order line and Purchase UOM ratio
in order to resolve the issue.

opw-4429992

Description of the issue/feature this PR addresses:

<details>
    <summary>Click here to see - Current behavior before PR and Desired behavior after PR is merged:</summary>
    <b>Current behavior before PR </b><hr/>
    <img src=""https://github.com/user-attachments/assets/55263397-6cc7-41c3-8825-0c00f8d515b8""/>
    <img src=""https://github.com/user-attachments/assets/62cf2e26-c4a7-4a72-b814-e6a448ed9d08""/>
    <img src=""https://github.com/user-attachments/assets/e5c2ea46-7b93-451e-9ab1-fd356e1d5c1a""/>
    <b>Desired behavior after PR is merged:</b><hr/>
    <img src=""https://github.com/user-attachments/assets/b84788bf-c1cb-42a4-b381-66c85db8c09d"">
    <img src=""https://github.com/user-attachments/assets/f4fb0802-08f2-4413-a435-bdb58184c098""/>
</details>




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",bona-odoo,2025-01-13 06:21:37+00:00,[],2025-01-24 10:49:51+00:00,2025-01-24 10:49:51+00:00,https://github.com/odoo/odoo/pull/193343,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586248759, 'issue_id': 2783109227, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193343.png)](https://mergebot.odoo.com/odoo/odoo/pull/193343)', 'created_at': datetime.datetime(2025, 1, 13, 6, 21, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590294323, 'issue_id': 2783109227, 'author': 'Whenrow', 'body': ""It seems to be a rather a purchase issue or a replenish issue instead of a 'stock rule' issue. Also, could you link the source task or help ticket into the commit message and write a test ? Thank you"", 'created_at': datetime.datetime(2025, 1, 14, 15, 44, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602034976, 'issue_id': 2783109227, 'author': 'bona-odoo', 'body': 'Hello @Whenrow ,\r\n\r\nThank you for your review.\r\n\r\nSuggested changes are done. Could you please check this PR once?', 'created_at': datetime.datetime(2025, 1, 20, 10, 31, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606914814, 'issue_id': 2783109227, 'author': 'Whenrow', 'body': ""@bona-odoo. The issue comes from here :\r\n https://github.com/odoo/odoo/blob/fa066bcd1bb4d69ef1474764a77a2e7bd7019c23/addons/purchase/models/purchase.py#L1437\r\n \r\n The replenishment wizard creates a procurement for 100 Units. The purchase order line created needs the quantity converted in the purchase UoM. The result will be rounded according to the precision set on the UoM (in your case, the one set on kg_150). \r\n To me, it's a config issue instead of a bugfix"", 'created_at': datetime.datetime(2025, 1, 22, 10, 54, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612229190, 'issue_id': 2783109227, 'author': 'bona-odoo', 'body': 'We are closing this ticket, as the reviewer stated that it is expected behavior (a configuration issue).', 'created_at': datetime.datetime(2025, 1, 24, 10, 49, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 06:21:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193343.png)](https://mergebot.odoo.com/odoo/odoo/pull/193343)

Whenrow on (2025-01-14 15:44:43 UTC): It seems to be a rather a purchase issue or a replenish issue instead of a 'stock rule' issue. Also, could you link the source task or help ticket into the commit message and write a test ? Thank you

bona-odoo (Issue Creator) on (2025-01-20 10:31:18 UTC): Hello @Whenrow ,

Thank you for your review.

Suggested changes are done. Could you please check this PR once?

Whenrow on (2025-01-22 10:54:11 UTC): @bona-odoo. The issue comes from here :
 https://github.com/odoo/odoo/blob/fa066bcd1bb4d69ef1474764a77a2e7bd7019c23/addons/purchase/models/purchase.py#L1437
 
 The replenishment wizard creates a procurement for 100 Units. The purchase order line created needs the quantity converted in the purchase UoM. The result will be rounded according to the precision set on the UoM (in your case, the one set on kg_150). 
 To me, it's a config issue instead of a bugfix

bona-odoo (Issue Creator) on (2025-01-24 10:49:51 UTC): We are closing this ticket, as the reviewer stated that it is expected behavior (a configuration issue).

"
2783106448,pull_request,open,,[IMP] stock*: product routes improvements,"*: mrp, mrp_subcontracting, mrp_subcontracting_dropshipping, purchase_stock

With this commit
=======================

- The operations section is hidden if no routes on the product.
- Simplified the product route configuration whenever possible.
- Added the Manufacturing (manufacturing_ok) option to the product form.
- The Bill of Materials smart button is only shown when manufacturing_ok is set to True.
- No need to select routes in the following cases:

     - If Purchase (purchase_ok) is ticked, the 'Buy' route is
       automatically selected.
     - If Manufacturing (manufacturing_ok) is ticked, the 'Manufacturing' route
       is automatically selected.
     - For a product defined as a component of a subcontracting BOM,
       the 'Resupply Subcontractor on Order' route is automatically selected.
     - Now, the 'Dropship' route can also work for 'subcontracting BOMs',
       similar to the 'Dropship Subcontractor on Order' route.

Task - [4385221](https://www.odoo.com/odoo/my-tasks/4385221)
",dhha-odoo,2025-01-13 06:19:14+00:00,[],2025-01-28 04:13:04+00:00,,https://github.com/odoo/odoo/pull/193342,"[('RD', 'research & development, internal work')]","[{'comment_id': 2586246438, 'issue_id': 2783106448, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193342.png)](https://mergebot.odoo.com/odoo/odoo/pull/193342)', 'created_at': datetime.datetime(2025, 1, 13, 6, 19, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 06:19:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193342.png)](https://mergebot.odoo.com/odoo/odoo/pull/193342)

"
2782827579,pull_request,closed,,[FW][FIX] mail: can dismiss 'Turn on notifications' in messaging menu,"This commit adds a ""X"" next to ""Turn on notifications"" to quickly dismiss the suggestion to enable push notifications.

Note that this keeps the push permission to ""Ask"", as it cannot be changed programmatically. So if the user wants to change the push permissions, it should be manually changed to ""Allow"" or ""Denied"" from browser settings or should clear the local storage content in order to display ""Turn on notifications"" in messaging menu again.

Task-4446924

Before
![Screenshot 2025-01-03 at 14 39 22](https://github.com/user-attachments/assets/154f86f7-fa74-4c1f-b4db-71d2c1693bee)

After
![Screenshot 2025-01-03 at 14 37 44](https://github.com/user-attachments/assets/93a51e2c-bc9e-4cc3-9f5b-d2ea538be1ef)

Forward-Port-Of: odoo/odoo#192962
Forward-Port-Of: odoo/odoo#192336",fw-bot,2025-01-13 01:32:14+00:00,[],2025-01-13 12:43:53+00:00,2025-01-13 11:42:08+00:00,https://github.com/odoo/odoo/pull/193341,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2586026996, 'issue_id': 2782827579, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193341.png)](https://mergebot.odoo.com/odoo/odoo/pull/193341)', 'created_at': datetime.datetime(2025, 1, 13, 1, 32, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586026999, 'issue_id': 2782827579, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 13, 1, 32, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046393, 'issue_id': 2782827579, 'author': 'fw-bot', 'body': '@alexkuhn this forward port of odoo/odoo#192336 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586688510, 'issue_id': 2782827579, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 10, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-13 01:32:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193341.png)](https://mergebot.odoo.com/odoo/odoo/pull/193341)

fw-bot (Issue Creator) on (2025-01-13 01:32:16 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:01:50 UTC): @alexkuhn this forward port of odoo/odoo#192336 is awaiting action (not merged or closed).

alexkuhn on (2025-01-13 10:10:13 UTC): @robodoo r+

"
2782399738,pull_request,open,,[REM] partner_autocomplete: remove auto install,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jjscarafia,2025-01-12 10:43:05+00:00,[],2025-01-12 10:43:09+00:00,,https://github.com/odoo/odoo/pull/193340,[],"[{'comment_id': 2585681514, 'issue_id': 2782399738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193340.png)](https://mergebot.odoo.com/odoo/odoo/pull/193340)', 'created_at': datetime.datetime(2025, 1, 12, 10, 43, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-12 10:43:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193340.png)](https://mergebot.odoo.com/odoo/odoo/pull/193340)

"
2782166684,pull_request,open,,Add files via upload,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ExpertosTI,2025-01-11 22:10:03+00:00,[],2025-01-11 23:00:13+00:00,,https://github.com/odoo/odoo/pull/193339,"[('Point of Sale', '')]","[{'comment_id': 2585461461, 'issue_id': 2782166684, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193339.png)](https://mergebot.odoo.com/odoo/odoo/pull/193339)', 'created_at': datetime.datetime(2025, 1, 11, 22, 10, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 22:10:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193339.png)](https://mergebot.odoo.com/odoo/odoo/pull/193339)

"
2782038517,pull_request,open,,[IMP] l10n_ar_withholding: better demo data,"### FIX 1: copy withholding sequence when duplicating a tax
Usually, when a user duplicate a tax, is to create a new one from the same type with a different rate.
On this use case the sequence should be copied as well.
Before this commit withholding sequence field was not copied

### FIX 2: better demo data
Before this commit demo taxes being copied has name on their names.
![image](https://github.com/user-attachments/assets/89fb28ba-b753-41a7-a713-0020c17ed7a0)


After this commit taxes names relects what users are supposed to do.
![image](https://github.com/user-attachments/assets/b6ffef7a-fbd0-480a-b7ff-da12f9f5ee34)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jjscarafia,2025-01-11 17:43:20+00:00,[],2025-01-16 14:46:03+00:00,,https://github.com/odoo/odoo/pull/193338,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2585354055, 'issue_id': 2782038517, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193338.png)](https://mergebot.odoo.com/odoo/odoo/pull/193338)', 'created_at': datetime.datetime(2025, 1, 11, 17, 43, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 17:43:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193338.png)](https://mergebot.odoo.com/odoo/odoo/pull/193338)

"
2781768899,pull_request,closed,,[FW][FIX] account: skip readonly check on synchronize from moves,"This commit adds a missing skip_readonly_check context from the changes
to add readonly check in https://github.com/odoo/odoo/commit/b5d94f5563641adfd93bf431c139bc2b78d67beb

Steps to reproduce:
- create a statement line
- edit the partner of the liquidity line using the accounting items list
  view
- -> UserError: You cannot modify the following readonly fields on a posted move

opw-4453940

Forward-Port-Of: odoo/odoo#193289",fw-bot,2025-01-11 11:16:57+00:00,[],2025-01-25 17:47:13+00:00,2025-01-11 15:27:25+00:00,https://github.com/odoo/odoo/pull/193337,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585207342, 'issue_id': 2781768899, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193337.png)](https://mergebot.odoo.com/odoo/odoo/pull/193337)', 'created_at': datetime.datetime(2025, 1, 11, 11, 16, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585207344, 'issue_id': 2781768899, 'author': 'fw-bot', 'body': '@yosuanicolaus @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193336\n* odoo/odoo#193315\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 11, 16, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585256468, 'issue_id': 2781768899, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 12, 55, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 11:16:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193337.png)](https://mergebot.odoo.com/odoo/odoo/pull/193337)

fw-bot (Issue Creator) on (2025-01-11 11:16:59 UTC): @yosuanicolaus @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193336
* odoo/odoo#193315

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-01-11 12:55:09 UTC): @robodoo r+

"
2781740145,pull_request,closed,,[FW][FIX] account: skip readonly check on synchronize from moves,"This commit adds a missing skip_readonly_check context from the changes
to add readonly check in https://github.com/odoo/odoo/commit/b5d94f5563641adfd93bf431c139bc2b78d67beb

Steps to reproduce:
- create a statement line
- edit the partner of the liquidity line using the accounting items list
  view
- -> UserError: You cannot modify the following readonly fields on a posted move

opw-4453940

Forward-Port-Of: odoo/odoo#193289",fw-bot,2025-01-11 09:59:53+00:00,[],2025-01-25 15:04:12+00:00,2025-01-11 14:36:10+00:00,https://github.com/odoo/odoo/pull/193336,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2585189286, 'issue_id': 2781740145, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193336.png)](https://mergebot.odoo.com/odoo/odoo/pull/193336)', 'created_at': datetime.datetime(2025, 1, 11, 9, 59, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585189290, 'issue_id': 2781740145, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 9, 59, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 09:59:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193336.png)](https://mergebot.odoo.com/odoo/odoo/pull/193336)

fw-bot (Issue Creator) on (2025-01-11 09:59:55 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781684682,pull_request,closed,,[FW][IMP] test_sale_purchase_edi_ubl: add order edi test cases,"This commit add order edi test cases to check imported
sale order from purchase order have all the details
properly filled out to ensure everything is working.

task-4206350

Forward-Port-Of: odoo/odoo#193220
Forward-Port-Of: odoo/odoo#188775",fw-bot,2025-01-11 07:42:47+00:00,[],2025-01-25 11:18:43+00:00,2025-01-11 10:55:45+00:00,https://github.com/odoo/odoo/pull/193335,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585134907, 'issue_id': 2781684682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193335.png)](https://mergebot.odoo.com/odoo/odoo/pull/193335)', 'created_at': datetime.datetime(2025, 1, 11, 7, 42, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585134910, 'issue_id': 2781684682, 'author': 'fw-bot', 'body': '@kcv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 7, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585165645, 'issue_id': 2781684682, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 9, 4, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 07:42:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193335.png)](https://mergebot.odoo.com/odoo/odoo/pull/193335)

fw-bot (Issue Creator) on (2025-01-11 07:42:49 UTC): @kcv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-01-11 09:04:38 UTC): @robodoo r+

"
2781678927,pull_request,closed,,[FW][FIX] web: hoot: correctly garbage collect between suites,"Since [1], we force the garbage collector to run between each hoot test suite. However, since chrome 124, this no longer seemed to produce the desirable effect. Indeed, memory graphs of the test suites were no longer predictable. The garbage collector seemed to work differently from a build to another, even with the same code.

This is probably due to this change [2] in chrome, coming with version 124. Hopefully, the commit message gave us a hint on a way to fix our issue.

[1] https://github.com/odoo/odoo/commit/a3ef39dae4a7cd6c96f14958744ac8d8bd2064c9
[2] https://chromium.googlesource.com/chromium/src/+/ae7269f134ede59c815b22c1fd042b26bab96b7a

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193283",fw-bot,2025-01-11 07:25:36+00:00,[],2025-01-25 11:18:44+00:00,2025-01-11 10:55:50+00:00,https://github.com/odoo/odoo/pull/193334,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585131010, 'issue_id': 2781678927, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193334.png)](https://mergebot.odoo.com/odoo/odoo/pull/193334)', 'created_at': datetime.datetime(2025, 1, 11, 7, 25, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585131014, 'issue_id': 2781678927, 'author': 'fw-bot', 'body': '@aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193332\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 7, 25, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585170903, 'issue_id': 2781678927, 'author': 'Polymorphe57', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 9, 24, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 07:25:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193334.png)](https://mergebot.odoo.com/odoo/odoo/pull/193334)

fw-bot (Issue Creator) on (2025-01-11 07:25:38 UTC): @aab-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193332

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-01-11 09:24:43 UTC): robodoo r+

"
2781653542,pull_request,closed,,[FW][FIX] web: not export readonly fields in import-compatible export,"Issue
-----
Read-only fields appear in the export menu when the ""I want to update data (import-compatible export)"" checkbox is active.

Cause
-----
The `readonly` key is missing from the field dictionnary leading to all fields being considered as not read-only.
https://github.com/odoo/odoo/blob/a546e2e5a87c311bef054ca4a6909e63d70c91fd/addons/web/controllers/export.py#L389-L390 Issue from 2b87effeb461acddf327884dd72c00ee22a4c9aa since only some attributes of the fields are fetched.

opw-4446090

Forward-Port-Of: odoo/odoo#192486",fw-bot,2025-01-11 06:16:50+00:00,[],2025-01-27 10:18:06+00:00,2025-01-13 10:17:34+00:00,https://github.com/odoo/odoo/pull/193333,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585114438, 'issue_id': 2781653542, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193333.png)](https://mergebot.odoo.com/odoo/odoo/pull/193333)', 'created_at': datetime.datetime(2025, 1, 11, 6, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585114442, 'issue_id': 2781653542, 'author': 'fw-bot', 'body': '@taqu-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193324\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 6, 16, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586427275, 'issue_id': 2781653542, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 57, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 06:16:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193333.png)](https://mergebot.odoo.com/odoo/odoo/pull/193333)

fw-bot (Issue Creator) on (2025-01-11 06:16:52 UTC): @taqu-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193324

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-01-13 07:57:21 UTC): @robodoo r+

"
2781653202,pull_request,closed,,[FW][FIX] web: hoot: correctly garbage collect between suites,"Since [1], we force the garbage collector to run between each hoot test suite. However, since chrome 124, this no longer seemed to produce the desirable effect. Indeed, memory graphs of the test suites were no longer predictable. The garbage collector seemed to work differently from a build to another, even with the same code.

This is probably due to this change [2] in chrome, coming with version 124. Hopefully, the commit message gave us a hint on a way to fix our issue.

[1] https://github.com/odoo/odoo/commit/a3ef39dae4a7cd6c96f14958744ac8d8bd2064c9
[2] https://chromium.googlesource.com/chromium/src/+/ae7269f134ede59c815b22c1fd042b26bab96b7a

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193283",fw-bot,2025-01-11 06:15:55+00:00,[],2025-01-25 11:18:42+00:00,2025-01-11 10:44:10+00:00,https://github.com/odoo/odoo/pull/193332,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2585114165, 'issue_id': 2781653202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193332.png)](https://mergebot.odoo.com/odoo/odoo/pull/193332)', 'created_at': datetime.datetime(2025, 1, 11, 6, 15, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585114168, 'issue_id': 2781653202, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 6, 15, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 06:15:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193332.png)](https://mergebot.odoo.com/odoo/odoo/pull/193332)

fw-bot (Issue Creator) on (2025-01-11 06:15:56 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781624091,pull_request,closed,,"[FW][FIX] hr_holidays, mail: im_status fa - plane not consistent","**Current behavior before PR:**

prior to this PR fa-plane icon does not displayed after user comes online/offline/away while on leave without any reload.

**Desired behavior after PR is merged:**

now fa-plane icon is displayed with respective color of im_status without any reload

task-4237384

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193282
Forward-Port-Of: odoo/odoo#184471",fw-bot,2025-01-11 05:18:50+00:00,[],2025-01-12 21:47:26+00:00,2025-01-11 08:24:33+00:00,https://github.com/odoo/odoo/pull/193331,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585076621, 'issue_id': 2781624091, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193331.png)](https://mergebot.odoo.com/odoo/odoo/pull/193331)', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585076625, 'issue_id': 2781624091, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585095331, 'issue_id': 2781624091, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 11, 5, 57, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585100674, 'issue_id': 2781624091, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 6, 2, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:18:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193331.png)](https://mergebot.odoo.com/odoo/odoo/pull/193331)

fw-bot (Issue Creator) on (2025-01-11 05:18:52 UTC): @jayp-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 05:57:25 UTC): @jayp-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

jayp-odoo on (2025-01-11 06:02:43 UTC): @robodoo r+

"
2781624008,pull_request,closed,,[FW][IMP] mail: deleted messages are visible but have removed content,"Before this commit, deleted messages were completely removed from UI, as if they never existed. This require custom JS code to adjust counters and change display of message list to hide deleted messages.

The main advantage of this approach is that deleted messages are visually pretty much deleted, in the sense they are not visible on UI (though we still receive messages that are considered as ""empty"")

There are 2 main cons however with this approach:
- more LOCs to pretend these messages no longer exist.
- when we had a reference to the deleted message (starred, history, pinned message, etc.), it's frustrating to loose a quick access to the message and thread.

Many features are expected to work for the most part even when the record is deleted by a user, but by choosing to pretend the message never exists, we also pretend that people that pinned the message and starred it never existed... Which is very annoying when the deletion of message is not decided by these people.

We get that humans make mistakes, so it's good to correct themselves by editing messages or deleting them. But that doesn't mean we should go all the way: we can find a in-between solution that encompass the concerns of message author while not completely disrupting people that wanted to keep at the very least a reference to the message, even if the content is erased because mistakes happen.

Task-4423068

![Screenshot 2024-12-20 at 11 10 29](https://github.com/user-attachments/assets/63c24975-62dd-4a04-b9e7-e1eb51177f18)
![Screenshot 2024-12-20 at 11 10 41](https://github.com/user-attachments/assets/526db117-9462-4375-9238-243fd792fc6a)
![Screenshot 2024-12-20 at 11 11 03](https://github.com/user-attachments/assets/50fdec7e-5bd1-45d2-b66f-28276db29d88)

Forward-Port-Of: odoo/odoo#190226",fw-bot,2025-01-11 05:18:35+00:00,[],2025-01-13 10:09:48+00:00,2025-01-13 01:30:41+00:00,https://github.com/odoo/odoo/pull/193330,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2585076557, 'issue_id': 2781624008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193330.png)](https://mergebot.odoo.com/odoo/odoo/pull/193330)', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585076560, 'issue_id': 2781624008, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#190226 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/mail_message.py\nAuto-merging addons/mail/models/mail_thread.py\nAuto-merging addons/mail/static/src/core/common/chat_bubble.js\nAuto-merging addons/mail/static/src/core/common/thread.js\nAuto-merging addons/mail/static/src/core/public_web/notification_item.js\nAuto-merging addons/mail/static/src/discuss/core/public_web/sub_channel_list.xml\nAuto-merging addons/mail/static/tests/mock_server/mail_mock_server.js\nAuto-merging addons/test_mail/tests/test_mail_thread_internals.py\nCONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_thread_internals.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585966155, 'issue_id': 2781624008, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 12, 23, 38, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:18:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193330.png)](https://mergebot.odoo.com/odoo/odoo/pull/193330)

fw-bot (Issue Creator) on (2025-01-11 05:18:37 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#190226 failed.

stdout:
```
Auto-merging addons/mail/models/mail_message.py
Auto-merging addons/mail/models/mail_thread.py
Auto-merging addons/mail/static/src/core/common/chat_bubble.js
Auto-merging addons/mail/static/src/core/common/thread.js
Auto-merging addons/mail/static/src/core/public_web/notification_item.js
Auto-merging addons/mail/static/src/discuss/core/public_web/sub_channel_list.xml
Auto-merging addons/mail/static/tests/mock_server/mail_mock_server.js
Auto-merging addons/test_mail/tests/test_mail_thread_internals.py
CONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_thread_internals.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-12 23:38:04 UTC): @robodoo r+

"
2781623918,pull_request,closed,,[FW][FIX] base: append suffix to duplicated server action name,"Before this commit:
When a user duplicates a server action, the new action retains the exact same name as the original.

After this commit:
Duplicated server actions are assigned a name with the suffix ""(copy)"" to differentiate them from the original action.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193278
Forward-Port-Of: odoo/odoo#190383",fw-bot,2025-01-11 05:18:20+00:00,['elct-odoo'],2025-01-25 12:15:24+00:00,2025-01-11 12:12:40+00:00,https://github.com/odoo/odoo/pull/193329,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585076493, 'issue_id': 2781623918, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193329.png)](https://mergebot.odoo.com/odoo/odoo/pull/193329)', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585076495, 'issue_id': 2781623918, 'author': 'fw-bot', 'body': '@elct-odoo @rco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585082088, 'issue_id': 2781623918, 'author': 'elct-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 5, 31, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585114376, 'issue_id': 2781623918, 'author': 'robodoo', 'body': ""@elct-odoo @rco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 11, 6, 16, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:18:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193329.png)](https://mergebot.odoo.com/odoo/odoo/pull/193329)

fw-bot (Issue Creator) on (2025-01-11 05:18:21 UTC): @elct-odoo @rco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

elct-odoo (Assginee) on (2025-01-11 05:31:24 UTC): @robodoo r+

robodoo on (2025-01-11 06:16:36 UTC): @elct-odoo @rco-odoo 'ci/runbot' failed on this reviewed PR.

"
2781623843,pull_request,closed,,[FW][IMP] im_livechat: leave live chat instead of unpinning,"Live chat operators currently cannot leave live chats, and visitors do not systematically leave chats either. This poses an issue when a limit on the number of concurrent sessions is set, as operators cannot free up sessions.

This PR replaces the unpin action with an unfollow action, allowing operators to leave live chats.

task-4440366

![Jan-03-2025 19-29-13](https://github.com/user-attachments/assets/0ffb46ff-53e0-4146-9d72-4606fb70648f)

Forward-Port-Of: odoo/odoo#192378",fw-bot,2025-01-11 05:18:05+00:00,[],2025-01-13 15:19:58+00:00,2025-01-13 14:43:44+00:00,https://github.com/odoo/odoo/pull/193328,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2585076453, 'issue_id': 2781623843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193328.png)](https://mergebot.odoo.com/odoo/odoo/pull/193328)', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585076456, 'issue_id': 2781623843, 'author': 'fw-bot', 'body': '@alexkuhn cherrypicking of pull request odoo/odoo#192378 failed.\n\n* 2b6f0e792b7b90a146130f9f7387b2f16279af3c\n* 70033433e364fc4a81bc950287d8cb7e4f254d13 <- on this commit\n\nstdout:\n```\nAuto-merging addons/im_livechat/static/src/embed/common/chat_window_patch.js\nCONFLICT (content): Merge conflict in addons/im_livechat/static/src/embed/common/chat_window_patch.js\nAuto-merging addons/mail/static/src/core/common/chat_window.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587016109, 'issue_id': 2781623843, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 13, 12, 47, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587016211, 'issue_id': 2781623843, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 13, 12, 47, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:18:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193328.png)](https://mergebot.odoo.com/odoo/odoo/pull/193328)

fw-bot (Issue Creator) on (2025-01-11 05:18:09 UTC): @alexkuhn cherrypicking of pull request odoo/odoo#192378 failed.

* 2b6f0e792b7b90a146130f9f7387b2f16279af3c
* 70033433e364fc4a81bc950287d8cb7e4f254d13 <- on this commit

stdout:
```
Auto-merging addons/im_livechat/static/src/embed/common/chat_window_patch.js
CONFLICT (content): Merge conflict in addons/im_livechat/static/src/embed/common/chat_window_patch.js
Auto-merging addons/mail/static/src/core/common/chat_window.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-13 12:47:37 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-13 12:47:40 UTC): Merge method set to rebase and fast-forward.

"
2781623736,pull_request,closed,,[FW][FIX] point_of_sale: remove restaurant function from point_of_sale,"A method declared in restaurant was used in point_of_sale module which is causing an error in runbot. This commit removes the function from point_of_sale module.

The behavior is kept via a pre-existing override.

Forward-Port-Of: odoo/odoo#193237",fw-bot,2025-01-11 05:17:50+00:00,[],2025-01-27 17:28:41+00:00,2025-01-13 17:18:15+00:00,https://github.com/odoo/odoo/pull/193327,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2585076448, 'issue_id': 2781623736, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193327.png)](https://mergebot.odoo.com/odoo/odoo/pull/193327)', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585076450, 'issue_id': 2781623736, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#193237 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587266932, 'issue_id': 2781623736, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 14, 33, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:18:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193327.png)](https://mergebot.odoo.com/odoo/odoo/pull/193327)

fw-bot (Issue Creator) on (2025-01-11 05:18:08 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#193237 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-13 14:33:32 UTC): @robodoo r+

"
2781623662,pull_request,closed,,[FW][IMP] hw_posbox_homepage: wifi UX improvements,"When connecting an IoT box to a Wi-Fi network,
the user is left on an infinite loading spinner
due to the fact that the IoT box disables the
hotspot before the user receives a response.

This commit instead displays a blocking message
to the user explaining that the IoT box is now
connected to the desired network.

task-4456765

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192883",fw-bot,2025-01-11 05:17:35+00:00,[],2025-01-28 12:58:41+00:00,2025-01-14 12:27:17+00:00,https://github.com/odoo/odoo/pull/193326,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585076437, 'issue_id': 2781623662, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193326.png)](https://mergebot.odoo.com/odoo/odoo/pull/193326)', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585076443, 'issue_id': 2781623662, 'author': 'fw-bot', 'body': '@maxthewhale @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 18, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585088115, 'issue_id': 2781623662, 'author': 'fw-bot', 'body': '@maxthewhale @Ysoroko ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 11, 5, 54, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589384786, 'issue_id': 2781623662, 'author': 'MaxTheWhale', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 9, 10, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:18:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193326.png)](https://mergebot.odoo.com/odoo/odoo/pull/193326)

fw-bot (Issue Creator) on (2025-01-11 05:18:06 UTC): @maxthewhale @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 05:54:22 UTC): @maxthewhale @Ysoroko ci/runbot failed on this forward-port PR

MaxTheWhale on (2025-01-14 09:10:51 UTC): @robodoo r+

"
2781616894,pull_request,closed,,[FW][FIX] mail: should be able to mention non-members in accessible channels,"Current behavior before PR:

In channel it was not possible to mention internal users which are non-members of channel.

Desired behavior after PR is merged:

now it is possible to mention internal users who has access to the channel

task-4100364

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#176758",fw-bot,2025-01-11 05:02:03+00:00,[],2025-01-13 14:07:07+00:00,2025-01-13 13:24:23+00:00,https://github.com/odoo/odoo/pull/193325,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2585071304, 'issue_id': 2781616894, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193325.png)](https://mergebot.odoo.com/odoo/odoo/pull/193325)', 'created_at': datetime.datetime(2025, 1, 11, 5, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585071311, 'issue_id': 2781616894, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#176758 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/discuss/discuss_channel.py\nCONFLICT (content): Merge conflict in addons/mail/models/discuss/discuss_channel.py\nAuto-merging addons/mail/models/discuss/res_partner.py\nCONFLICT (content): Merge conflict in addons/mail/models/discuss/res_partner.py\nAuto-merging addons/mail/models/discuss/res_users.py\nCONFLICT (content): Merge conflict in addons/mail/models/discuss/res_users.py\nAuto-merging addons/mail/models/res_partner.py\nAuto-merging addons/mail/static/src/core/common/@types/models.d.ts\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/@types/models.d.ts\nAuto-merging addons/mail/static/src/core/common/message.xml\nAuto-merging addons/mail/static/src/core/common/persona_model.js\nAuto-merging addons/mail/static/src/core/common/store_service.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/store_service.js\nAuto-merging addons/mail/static/src/core/common/suggestion_service.js\nAuto-merging addons/mail/static/src/core/common/thread_model.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/thread_model.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/discuss_channel.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js\nAuto-merging addons/mail/static/tests/suggestion/suggestion.test.js\nAuto-merging addons/test_discuss_full/tests/test_performance.py\nCONFLICT (content): Merge conflict in addons/test_discuss_full/tests/test_performance.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586720112, 'issue_id': 2781616894, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 24, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:02:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193325.png)](https://mergebot.odoo.com/odoo/odoo/pull/193325)

fw-bot (Issue Creator) on (2025-01-11 05:02:05 UTC): @jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#176758 failed.

stdout:
```
Auto-merging addons/mail/models/discuss/discuss_channel.py
CONFLICT (content): Merge conflict in addons/mail/models/discuss/discuss_channel.py
Auto-merging addons/mail/models/discuss/res_partner.py
CONFLICT (content): Merge conflict in addons/mail/models/discuss/res_partner.py
Auto-merging addons/mail/models/discuss/res_users.py
CONFLICT (content): Merge conflict in addons/mail/models/discuss/res_users.py
Auto-merging addons/mail/models/res_partner.py
Auto-merging addons/mail/static/src/core/common/@types/models.d.ts
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/@types/models.d.ts
Auto-merging addons/mail/static/src/core/common/message.xml
Auto-merging addons/mail/static/src/core/common/persona_model.js
Auto-merging addons/mail/static/src/core/common/store_service.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/store_service.js
Auto-merging addons/mail/static/src/core/common/suggestion_service.js
Auto-merging addons/mail/static/src/core/common/thread_model.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/thread_model.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/discuss_channel.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js
Auto-merging addons/mail/static/tests/suggestion/suggestion.test.js
Auto-merging addons/test_discuss_full/tests/test_performance.py
CONFLICT (content): Merge conflict in addons/test_discuss_full/tests/test_performance.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-13 10:24:43 UTC): @robodoo r+

"
2781616753,pull_request,closed,,[FW][FIX] web: not export readonly fields in import-compatible export,"Issue
-----
Read-only fields appear in the export menu when the ""I want to update data (import-compatible export)"" checkbox is active.

Cause
-----
The `readonly` key is missing from the field dictionnary leading to all fields being considered as not read-only.
https://github.com/odoo/odoo/blob/a546e2e5a87c311bef054ca4a6909e63d70c91fd/addons/web/controllers/export.py#L389-L390 Issue from 2b87effeb461acddf327884dd72c00ee22a4c9aa since only some attributes of the fields are fetched.

opw-4446090

Forward-Port-Of: odoo/odoo#192486",fw-bot,2025-01-11 05:01:39+00:00,[],2025-01-27 10:26:58+00:00,2025-01-13 10:22:03+00:00,https://github.com/odoo/odoo/pull/193324,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2585071184, 'issue_id': 2781616753, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193324.png)](https://mergebot.odoo.com/odoo/odoo/pull/193324)', 'created_at': datetime.datetime(2025, 1, 11, 5, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585071190, 'issue_id': 2781616753, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 5, 1, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 05:01:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193324.png)](https://mergebot.odoo.com/odoo/odoo/pull/193324)

fw-bot (Issue Creator) on (2025-01-11 05:01:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781590130,pull_request,closed,,[FW][FIX] base: fixup of a4a87c20e,"The rule introduced shared the same xmlid as the one above, overriding the value.

Forward-Port-Of: odoo/odoo#193052",fw-bot,2025-01-11 03:57:18+00:00,[],2025-01-25 17:47:14+00:00,2025-01-11 16:47:00+00:00,https://github.com/odoo/odoo/pull/193323,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585052517, 'issue_id': 2781590130, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193323.png)](https://mergebot.odoo.com/odoo/odoo/pull/193323)', 'created_at': datetime.datetime(2025, 1, 11, 3, 57, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585052523, 'issue_id': 2781590130, 'author': 'fw-bot', 'body': '@mart-e this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 3, 57, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585294618, 'issue_id': 2781590130, 'author': 'mart-e', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 14, 59, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585294670, 'issue_id': 2781590130, 'author': 'robodoo', 'body': '@mart-e linked pull request(s) odoo/enterprise#76996 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 11, 15, 0, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 03:57:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193323.png)](https://mergebot.odoo.com/odoo/odoo/pull/193323)

fw-bot (Issue Creator) on (2025-01-11 03:57:21 UTC): @mart-e this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mart-e on (2025-01-11 14:59:53 UTC): @robodoo r+

robodoo on (2025-01-11 15:00:06 UTC): @mart-e linked pull request(s) odoo/enterprise#76996 not ready. Linked PRs are not staged until all of them are ready.

"
2781590026,pull_request,closed,,[FW][FIX] google_address_autocomplete: field should become dirty when typ…,"…ing in it

Before this commit, when typing in the field, the change did not make the record dirty.

After this commit it does.

opw-4464355

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193081",fw-bot,2025-01-11 03:56:56+00:00,[],2025-01-27 08:57:37+00:00,2025-01-13 08:39:50+00:00,https://github.com/odoo/odoo/pull/193322,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585052433, 'issue_id': 2781590026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193322.png)](https://mergebot.odoo.com/odoo/odoo/pull/193322)', 'created_at': datetime.datetime(2025, 1, 11, 3, 56, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585052438, 'issue_id': 2781590026, 'author': 'fw-bot', 'body': '@kebeclibre @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 3, 56, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586354907, 'issue_id': 2781590026, 'author': 'aab-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 13, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 03:56:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193322.png)](https://mergebot.odoo.com/odoo/odoo/pull/193322)

fw-bot (Issue Creator) on (2025-01-11 03:56:58 UTC): @kebeclibre @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-13 07:13:11 UTC): robodoo r+

"
2781589962,pull_request,closed,,[FW][FIX] project: show subtasks in project if converted into tasks,"Steps to reproduce:
1. Create a task, and a subtask
3. Open the subtask
4. From the gear icon, click ""Convert to Task/Sub-Task""
5. Remove the parent task and click ""Convert Task""
6. Go to the project dashboard > the subtask is not shown.

Why?
The above reproducing steps lead to the subtask having the `display_in_project` stored as `False`, hence it's not visible on the dashboard page. This is because `_compute_project_id` interrupted the computation flow of `display_in_project` by a call to `remove_to_compute` [1].

Fix:
In the `write` method, explicitly set `display_in_project` to `True` if the parent_id has been removed.

[1]: https://github.com/odoo/odoo/blob/9dec8329523d4966243c6491e7e556e643af6cdf/addons/project/models/project_task.py#L337

opw-4384222

Forward-Port-Of: odoo/odoo#193236
Forward-Port-Of: odoo/odoo#191530",fw-bot,2025-01-11 03:56:42+00:00,[],2025-01-25 11:18:42+00:00,2025-01-11 09:39:58+00:00,https://github.com/odoo/odoo/pull/193321,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585052391, 'issue_id': 2781589962, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193321.png)](https://mergebot.odoo.com/odoo/odoo/pull/193321)', 'created_at': datetime.datetime(2025, 1, 11, 3, 56, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585052395, 'issue_id': 2781589962, 'author': 'fw-bot', 'body': '@hadielyakhni @xavierbol this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 3, 56, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585134420, 'issue_id': 2781589962, 'author': 'hadielyakhni', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 7, 40, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 03:56:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193321.png)](https://mergebot.odoo.com/odoo/odoo/pull/193321)

fw-bot (Issue Creator) on (2025-01-11 03:56:48 UTC): @hadielyakhni @xavierbol this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hadielyakhni on (2025-01-11 07:40:45 UTC): @robodoo r+

"
2781566339,pull_request,closed,,[FW][FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786

Forward-Port-Of: odoo/odoo#193274",fw-bot,2025-01-11 02:47:57+00:00,[],2025-01-27 19:16:00+00:00,2025-01-13 18:43:38+00:00,https://github.com/odoo/odoo/pull/193320,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2585032035, 'issue_id': 2781566339, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193320.png)](https://mergebot.odoo.com/odoo/odoo/pull/193320)', 'created_at': datetime.datetime(2025, 1, 11, 2, 47, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585032036, 'issue_id': 2781566339, 'author': 'fw-bot', 'body': '@juwu-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193319\n* odoo/odoo#193317\n* odoo/odoo#193312\n* odoo/odoo#193308\n* odoo/odoo#193302\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 2, 47, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587169644, 'issue_id': 2781566339, 'author': 'juwu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 55, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 02:47:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193320.png)](https://mergebot.odoo.com/odoo/odoo/pull/193320)

fw-bot (Issue Creator) on (2025-01-11 02:47:59 UTC): @juwu-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193319
* odoo/odoo#193317
* odoo/odoo#193312
* odoo/odoo#193308
* odoo/odoo#193302

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

juwu-odoo on (2025-01-13 13:55:02 UTC): @robodoo r+

"
2781494857,pull_request,closed,,[FW][FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786

Forward-Port-Of: odoo/odoo#193274",fw-bot,2025-01-11 01:23:37+00:00,[],2025-01-27 17:06:09+00:00,2025-01-13 16:48:37+00:00,https://github.com/odoo/odoo/pull/193319,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584982294, 'issue_id': 2781494857, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193319.png)](https://mergebot.odoo.com/odoo/odoo/pull/193319)', 'created_at': datetime.datetime(2025, 1, 11, 1, 23, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584982301, 'issue_id': 2781494857, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 1, 23, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 01:23:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193319.png)](https://mergebot.odoo.com/odoo/odoo/pull/193319)

fw-bot (Issue Creator) on (2025-01-11 01:23:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781457870,pull_request,closed,,[FW][FIX] base: no properties in server action path,"Scenario: create a server action that updates a properties
Result: traceback error is raised

Issue: server action does not handle updating record properties Fix: ignore the error in _stringify_path method, so the more legible
     ValidationError from _traverse_path is raised instead.

Note: without the fix, the added test failed with ""KeyError: 'discussion_color_code'"", with the fix it doesn't fail (and there is a ""ValidationError: 'The path to the field to update contains a non-relational field (attributes) that is not the last field in …'"").

opw-4339633

Forward-Port-Of: odoo/odoo#192483",fw-bot,2025-01-11 00:18:06+00:00,[],2025-01-27 15:44:45+00:00,2025-01-13 15:13:43+00:00,https://github.com/odoo/odoo/pull/193318,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2584946422, 'issue_id': 2781457870, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193318.png)](https://mergebot.odoo.com/odoo/odoo/pull/193318)', 'created_at': datetime.datetime(2025, 1, 11, 0, 18, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584946460, 'issue_id': 2781457870, 'author': 'fw-bot', 'body': '@nle-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#192483 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/models/ir_actions.py\nAuto-merging odoo/addons/test_new_api/tests/test_properties.py\nCONFLICT (content): Merge conflict in odoo/addons/test_new_api/tests/test_properties.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 0, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586752757, 'issue_id': 2781457870, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 40, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 00:18:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193318.png)](https://mergebot.odoo.com/odoo/odoo/pull/193318)

fw-bot (Issue Creator) on (2025-01-11 00:18:10 UTC): @nle-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#192483 failed.

stdout:
```
Auto-merging odoo/addons/base/models/ir_actions.py
Auto-merging odoo/addons/test_new_api/tests/test_properties.py
CONFLICT (content): Merge conflict in odoo/addons/test_new_api/tests/test_properties.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-13 10:40:19 UTC): robodoo r+

"
2781446562,pull_request,closed,,[FW][FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786

Forward-Port-Of: odoo/odoo#193274",fw-bot,2025-01-11 00:00:51+00:00,[],2025-01-27 16:20:48+00:00,2025-01-13 15:57:35+00:00,https://github.com/odoo/odoo/pull/193317,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584933984, 'issue_id': 2781446562, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193317.png)](https://mergebot.odoo.com/odoo/odoo/pull/193317)', 'created_at': datetime.datetime(2025, 1, 11, 0, 0, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584933988, 'issue_id': 2781446562, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 0, 0, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-11 00:00:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193317.png)](https://mergebot.odoo.com/odoo/odoo/pull/193317)

fw-bot (Issue Creator) on (2025-01-11 00:00:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781445276,pull_request,closed,,[FW][FIX] calendar: unwanted activity creation,"Some modules (i.e., Appointment) uses calendar.event, but they don't want to create an activity every time a user books a meeting.
This PR indroduce a helper function, which return a list of models, in which we don't want to create activities.

Task-4243603

Forward-Port-Of: odoo/odoo#184272",fw-bot,2025-01-10 23:58:38+00:00,[],2025-01-27 18:24:43+00:00,2025-01-13 18:06:52+00:00,https://github.com/odoo/odoo/pull/193316,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2584932697, 'issue_id': 2781445276, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193316.png)](https://mergebot.odoo.com/odoo/odoo/pull/193316)', 'created_at': datetime.datetime(2025, 1, 10, 23, 58, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584932711, 'issue_id': 2781445276, 'author': 'fw-bot', 'body': '@yagp-odoo @awa-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76991) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 23, 58, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587160755, 'issue_id': 2781445276, 'author': 'awa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 51, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587161644, 'issue_id': 2781445276, 'author': 'robodoo', 'body': ""@yagp-odoo @awa-odoo 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 13, 51, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587162976, 'issue_id': 2781445276, 'author': 'robodoo', 'body': ""@yagp-odoo @awa-odoo 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 13, 52, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 23:58:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193316.png)](https://mergebot.odoo.com/odoo/odoo/pull/193316)

fw-bot (Issue Creator) on (2025-01-10 23:58:41 UTC): @yagp-odoo @awa-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76991) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

awa-odoo on (2025-01-13 13:51:28 UTC): @robodoo r+

robodoo on (2025-01-13 13:51:46 UTC): @yagp-odoo @awa-odoo 'ci/upgrade_enterprise' failed on this reviewed PR.

robodoo on (2025-01-13 13:52:16 UTC): @yagp-odoo @awa-odoo 'ci/template' failed on this reviewed PR.

"
2781420609,pull_request,closed,,[FW][FIX] account: skip readonly check on synchronize from moves,"This commit adds a missing skip_readonly_check context from the changes
to add readonly check in https://github.com/odoo/odoo/commit/b5d94f5563641adfd93bf431c139bc2b78d67beb

Steps to reproduce:
- create a statement line
- edit the partner of the liquidity line using the accounting items list
  view
- -> UserError: You cannot modify the following readonly fields on a posted move

opw-4453940

Forward-Port-Of: odoo/odoo#193289",fw-bot,2025-01-10 23:37:24+00:00,[],2025-01-25 17:47:14+00:00,2025-01-11 15:27:41+00:00,https://github.com/odoo/odoo/pull/193315,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584860008, 'issue_id': 2781420609, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193315.png)](https://mergebot.odoo.com/odoo/odoo/pull/193315)', 'created_at': datetime.datetime(2025, 1, 10, 23, 37, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584860072, 'issue_id': 2781420609, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 23, 37, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584958359, 'issue_id': 2781420609, 'author': 'fw-bot', 'body': '@yosuanicolaus @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 11, 0, 36, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 23:37:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193315.png)](https://mergebot.odoo.com/odoo/odoo/pull/193315)

fw-bot (Issue Creator) on (2025-01-10 23:37:26 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 00:36:08 UTC): @yosuanicolaus @smetl ci/runbot failed on this forward-port PR

"
2781348177,pull_request,closed,,[FW][FIX] project_todo: allow user to edit tag and users in todo on mobile,"Before this commit, when the user is on mobile and try to edit/create a new todo, the user cannot edit a tag or users because those fields are displayed in actions dropdown and that dropdown is closed each time the user clicks on one of those fields.

This commit prevents to close the dropdown in todo form view since that dropdown contains fields and not buttons to let the user to edit those fields.

Forward-Port-Of: odoo/odoo#193177",fw-bot,2025-01-10 22:48:39+00:00,[],2025-01-13 15:01:50+00:00,2025-01-13 15:01:46+00:00,https://github.com/odoo/odoo/pull/193314,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2584637869, 'issue_id': 2781348177, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193314.png)](https://mergebot.odoo.com/odoo/odoo/pull/193314)', 'created_at': datetime.datetime(2025, 1, 10, 22, 48, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584637943, 'issue_id': 2781348177, 'author': 'fw-bot', 'body': '@xavierbol cherrypicking of pull request odoo/odoo#193177 failed.\n\nstdout:\n```\nAuto-merging addons/project_todo/static/src/views/todo_form/todo_form_renderer.js\nCONFLICT (add/add): Merge conflict in addons/project_todo/static/src/views/todo_form/todo_form_renderer.js\nAuto-merging addons/project_todo/static/src/views/todo_form/todo_form_view.js\nCONFLICT (content): Merge conflict in addons/project_todo/static/src/views/todo_form/todo_form_view.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 22, 48, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587344013, 'issue_id': 2781348177, 'author': 'xavierbol', 'body': 'no longer needed since now the form view of to-do has been updated to have a standard form view.', 'created_at': datetime.datetime(2025, 1, 13, 15, 1, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 22:48:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193314.png)](https://mergebot.odoo.com/odoo/odoo/pull/193314)

fw-bot (Issue Creator) on (2025-01-10 22:48:42 UTC): @xavierbol cherrypicking of pull request odoo/odoo#193177 failed.

stdout:
```
Auto-merging addons/project_todo/static/src/views/todo_form/todo_form_renderer.js
CONFLICT (add/add): Merge conflict in addons/project_todo/static/src/views/todo_form/todo_form_renderer.js
Auto-merging addons/project_todo/static/src/views/todo_form/todo_form_view.js
CONFLICT (content): Merge conflict in addons/project_todo/static/src/views/todo_form/todo_form_view.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-13 15:01:46 UTC): no longer needed since now the form view of to-do has been updated to have a standard form view.

"
2781347418,pull_request,closed,,[FW][FIX] base: no properties in server action path,"Scenario: create a server action that updates a properties
Result: traceback error is raised

Issue: server action does not handle updating record properties Fix: ignore the error in _stringify_path method, so the more legible
     ValidationError from _traverse_path is raised instead.

Note: without the fix, the added test failed with ""KeyError: 'discussion_color_code'"", with the fix it doesn't fail (and there is a ""ValidationError: 'The path to the field to update contains a non-relational field (attributes) that is not the last field in …'"").

opw-4339633

Forward-Port-Of: odoo/odoo#192483",fw-bot,2025-01-10 22:48:04+00:00,[],2025-01-27 13:20:34+00:00,2025-01-13 13:10:01+00:00,https://github.com/odoo/odoo/pull/193313,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584635790, 'issue_id': 2781347418, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193313.png)](https://mergebot.odoo.com/odoo/odoo/pull/193313)', 'created_at': datetime.datetime(2025, 1, 10, 22, 48, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584635823, 'issue_id': 2781347418, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 22, 48, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584946432, 'issue_id': 2781347418, 'author': 'fw-bot', 'body': '@nle-odoo @ryv-odoo the next pull request (odoo/odoo#193318) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 11, 0, 18, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586689419, 'issue_id': 2781347418, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 10, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 22:48:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193313.png)](https://mergebot.odoo.com/odoo/odoo/pull/193313)

fw-bot (Issue Creator) on (2025-01-10 22:48:06 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 00:18:08 UTC): @nle-odoo @ryv-odoo the next pull request (odoo/odoo#193318) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-13 10:10:40 UTC): robodoo r+

"
2781319622,pull_request,closed,,[FW][FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786

Forward-Port-Of: odoo/odoo#193274",fw-bot,2025-01-10 22:30:51+00:00,[],2025-01-27 16:32:30+00:00,2025-01-13 16:32:35+00:00,https://github.com/odoo/odoo/pull/193312,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584559987, 'issue_id': 2781319622, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193312.png)](https://mergebot.odoo.com/odoo/odoo/pull/193312)', 'created_at': datetime.datetime(2025, 1, 10, 22, 30, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584560036, 'issue_id': 2781319622, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 22, 30, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 22:30:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193312.png)](https://mergebot.odoo.com/odoo/odoo/pull/193312)

fw-bot (Issue Creator) on (2025-01-10 22:30:54 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781275371,pull_request,closed,,[FIX] sale_timesheet: Allow users without Sales access to record time,"This PR addresses the issue of users without Sales access not being able to record on time on timesheets that are linked to a sale order line.

If a user with access to Projects and Timesheets, but not Sales, wants to record time on a timesheet linked to a sales order, they will get an access rights error. This is because we check to see if there is an analytic distribution associated with the sale order line associated with the project task. However, this check is done without `sudo()` access in its current state. This PR provides that access because the result is not propagated further than simply evaluating whether or not there is an analytic distribution at all.

The result is that this workflow is no longer blocking for users who should be able to timesheet, but not necessarily view or edit the sale order.

This can be tested on Runbot by following these steps:

Configuration:
- User A does not have any Sales access, but has full rights to Projects and Timesheets
- Have a service product that creates a task in a project
- Have a sale order made for this product by User B, who does have Sales access

Now, 
1) On User A, navigate to the associated project and task made by the sale order from earlier
2) Click on the Timesheets tab in the notebook part of the view
3) Attempt to record an hour of work by adding a line to the timesheet, then clicking the ""save"" button

Prior to this PR, the user will get an access rights error. Once this is merged, that error will no longer appear. 

opw-4409571
",hahu-odoo,2025-01-10 22:04:16+00:00,[],2025-01-30 13:07:57+00:00,2025-01-16 12:58:02+00:00,https://github.com/odoo/odoo/pull/193311,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2584448373, 'issue_id': 2781275371, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193311.png)](https://mergebot.odoo.com/odoo/odoo/pull/193311)', 'created_at': datetime.datetime(2025, 1, 10, 22, 4, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587371089, 'issue_id': 2781275371, 'author': 'xavierbol', 'body': 'LGTM, thanks for your work! 💪🏼 \r\n\r\nMay I ask you to add a unit test? 🥺 \r\n\r\nThanks in advance!', 'created_at': datetime.datetime(2025, 1, 13, 15, 10, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587434743, 'issue_id': 2781275371, 'author': 'hahu-odoo', 'body': 'The unit test is already being written 🙂\r\n\r\nThis is my first time writing a test that relies on specific access rights, so I had to do some extra learning along the way.\r\n\r\nThank you for the feedback though!', 'created_at': datetime.datetime(2025, 1, 13, 15, 29, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592775393, 'issue_id': 2781275371, 'author': 'xavierbol', 'body': 'Also, you can obviously squash my commit with yours. 🙂', 'created_at': datetime.datetime(2025, 1, 15, 12, 50, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593682335, 'issue_id': 2781275371, 'author': 'hahu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 18, 38, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593682393, 'issue_id': 2781275371, 'author': 'robodoo', 'body': ""@hahu-odoo you can't review+."", 'created_at': datetime.datetime(2025, 1, 15, 18, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594741299, 'issue_id': 2781275371, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 7, 45, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 22:04:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193311.png)](https://mergebot.odoo.com/odoo/odoo/pull/193311)

xavierbol on (2025-01-13 15:10:57 UTC): LGTM, thanks for your work! 💪🏼 

May I ask you to add a unit test? 🥺 

Thanks in advance!

hahu-odoo (Issue Creator) on (2025-01-13 15:29:12 UTC): The unit test is already being written 🙂

This is my first time writing a test that relies on specific access rights, so I had to do some extra learning along the way.

Thank you for the feedback though!

xavierbol on (2025-01-15 12:50:54 UTC): Also, you can obviously squash my commit with yours. 🙂

hahu-odoo (Issue Creator) on (2025-01-15 18:38:58 UTC): @robodoo r+

robodoo on (2025-01-15 18:39:00 UTC): @hahu-odoo you can't review+.

xavierbol on (2025-01-16 07:45:12 UTC): robodoo r+

"
2781196167,pull_request,closed,,[FW][FIX] project_todo: allow user to edit tag and users in todo on mobile,"Before this commit, when the user is on mobile and try to edit/create a new todo, the user cannot edit a tag or users because those fields are displayed in actions dropdown and that dropdown is closed each time the user clicks on one of those fields.

This commit prevents to close the dropdown in todo form view since that dropdown contains fields and not buttons to let the user to edit those fields.

Forward-Port-Of: odoo/odoo#193177",fw-bot,2025-01-10 21:24:14+00:00,[],2025-01-27 16:32:34+00:00,2025-01-13 16:32:51+00:00,https://github.com/odoo/odoo/pull/193310,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584271009, 'issue_id': 2781196167, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193310.png)](https://mergebot.odoo.com/odoo/odoo/pull/193310)', 'created_at': datetime.datetime(2025, 1, 10, 21, 24, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584271034, 'issue_id': 2781196167, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 21, 24, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584637891, 'issue_id': 2781196167, 'author': 'fw-bot', 'body': '@xavierbol the next pull request (odoo/odoo#193314) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 22, 48, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587339126, 'issue_id': 2781196167, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 0, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 21:24:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193310.png)](https://mergebot.odoo.com/odoo/odoo/pull/193310)

fw-bot (Issue Creator) on (2025-01-10 21:24:16 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 22:48:41 UTC): @xavierbol the next pull request (odoo/odoo#193314) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-13 15:00:02 UTC): robodoo r+

"
2781195237,pull_request,closed,,[FW][FIX] base: no properties in server action path,"Scenario: create a server action that updates a properties
Result: traceback error is raised

Issue: server action does not handle updating record properties Fix: ignore the error in _stringify_path method, so the more legible
     ValidationError from _traverse_path is raised instead.

Note: without the fix, the added test failed with ""KeyError: 'discussion_color_code'"", with the fix it doesn't fail (and there is a ""ValidationError: 'The path to the field to update contains a non-relational field (attributes) that is not the last field in …'"").

opw-4339633

Forward-Port-Of: odoo/odoo#192483",fw-bot,2025-01-10 21:23:41+00:00,[],2025-01-27 12:20:45+00:00,2025-01-13 12:14:09+00:00,https://github.com/odoo/odoo/pull/193309,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584268725, 'issue_id': 2781195237, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193309.png)](https://mergebot.odoo.com/odoo/odoo/pull/193309)', 'created_at': datetime.datetime(2025, 1, 10, 21, 23, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584268754, 'issue_id': 2781195237, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 21, 23, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 21:23:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193309.png)](https://mergebot.odoo.com/odoo/odoo/pull/193309)

fw-bot (Issue Creator) on (2025-01-10 21:23:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781171674,pull_request,closed,,[FW][FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786

Forward-Port-Of: odoo/odoo#193274",fw-bot,2025-01-10 21:11:02+00:00,[],2025-01-27 15:55:25+00:00,2025-01-13 15:51:23+00:00,https://github.com/odoo/odoo/pull/193308,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2584212731, 'issue_id': 2781171674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193308.png)](https://mergebot.odoo.com/odoo/odoo/pull/193308)', 'created_at': datetime.datetime(2025, 1, 10, 21, 11, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584212840, 'issue_id': 2781171674, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 21, 11, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 21:11:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193308.png)](https://mergebot.odoo.com/odoo/odoo/pull/193308)

fw-bot (Issue Creator) on (2025-01-10 21:11:04 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781103602,pull_request,closed,,[FW][FIX] web: name_search user manage falsy index,"Steps:
- Login as Mitchell Admin
- Create 8 user (B, C, D, E, F, G, H, I) to reach search limit
- Rename Mitchell Admin to Admin Mitchell to be the first result
- Open a user dropdown (employee form)

Actual result:
- Admin Mitchell appears twice

Expected result:
- Admin Mitchell appears at first position
- Admin Mitchell appears only once

opw-4430590

Forward-Port-Of: odoo/odoo#192075",fw-bot,2025-01-10 20:37:26+00:00,[],2025-01-27 10:18:07+00:00,2025-01-13 10:17:39+00:00,https://github.com/odoo/odoo/pull/193307,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2584068101, 'issue_id': 2781103602, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193307.png)](https://mergebot.odoo.com/odoo/odoo/pull/193307)', 'created_at': datetime.datetime(2025, 1, 10, 20, 37, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584068126, 'issue_id': 2781103602, 'author': 'fw-bot', 'body': '@GaetanVandenBergh @ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193301\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 20, 37, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586428036, 'issue_id': 2781103602, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 57, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 20:37:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193307.png)](https://mergebot.odoo.com/odoo/odoo/pull/193307)

fw-bot (Issue Creator) on (2025-01-10 20:37:28 UTC): @GaetanVandenBergh @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193301

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-01-13 07:57:53 UTC): @robodoo r+

"
2781095719,pull_request,open,,[FIX] hr_recruitment: read inactive applications of the candidate,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omarkhair,2025-01-10 20:33:35+00:00,[],2025-01-10 21:00:12+00:00,,https://github.com/odoo/odoo/pull/193306,"[('RD', 'research & development, internal work')]","[{'comment_id': 2584050979, 'issue_id': 2781095719, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193306.png)](https://mergebot.odoo.com/odoo/odoo/pull/193306)', 'created_at': datetime.datetime(2025, 1, 10, 20, 33, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 20:33:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193306.png)](https://mergebot.odoo.com/odoo/odoo/pull/193306)

"
2781060448,pull_request,closed,,[FW][IMP] account: unified the labelling of account.move.line,"In list view and reports, the accounting entries were displayed in different manners. Sometimes in a stupid way (name of the move repeated twice).

This commit aims to give a single and unified way to display them.

ticket-4440711




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192463",fw-bot,2025-01-10 20:17:25+00:00,[],2025-01-28 15:37:10+00:00,2025-01-14 15:24:00+00:00,https://github.com/odoo/odoo/pull/193305,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583977220, 'issue_id': 2781060448, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193305.png)](https://mergebot.odoo.com/odoo/odoo/pull/193305)', 'created_at': datetime.datetime(2025, 1, 10, 20, 17, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583977405, 'issue_id': 2781060448, 'author': 'fw-bot', 'body': '@qdp-odoo @oco-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76977) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 20, 17, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618816, 'issue_id': 2781060448, 'author': 'fw-bot', 'body': '@qdp-odoo @oco-odoo this forward port of odoo/odoo#192463 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589752477, 'issue_id': 2781060448, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 11, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 20:17:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193305.png)](https://mergebot.odoo.com/odoo/odoo/pull/193305)

fw-bot (Issue Creator) on (2025-01-10 20:17:29 UTC): @qdp-odoo @oco-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76977) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:22 UTC): @qdp-odoo @oco-odoo this forward port of odoo/odoo#192463 is awaiting action (not merged or closed).

qdp-odoo on (2025-01-14 12:11:14 UTC): @robodoo r+

"
2781037245,pull_request,closed,,[FW][FIX] project_todo: allow user to edit tag and users in todo on mobile,"Before this commit, when the user is on mobile and try to edit/create a new todo, the user cannot edit a tag or users because those fields are displayed in actions dropdown and that dropdown is closed each time the user clicks on one of those fields.

This commit prevents to close the dropdown in todo form view since that dropdown contains fields and not buttons to let the user to edit those fields.

Forward-Port-Of: odoo/odoo#193177",fw-bot,2025-01-10 20:06:24+00:00,[],2025-01-27 17:28:36+00:00,2025-01-13 17:11:39+00:00,https://github.com/odoo/odoo/pull/193304,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583927129, 'issue_id': 2781037245, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193304.png)](https://mergebot.odoo.com/odoo/odoo/pull/193304)', 'created_at': datetime.datetime(2025, 1, 10, 20, 6, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583927193, 'issue_id': 2781037245, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 20, 6, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 20:06:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193304.png)](https://mergebot.odoo.com/odoo/odoo/pull/193304)

fw-bot (Issue Creator) on (2025-01-10 20:06:26 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2781036195,pull_request,closed,,[FW][FIX] base: no properties in server action path,"Scenario: create a server action that updates a properties
Result: traceback error is raised

Issue: server action does not handle updating record properties Fix: ignore the error in _stringify_path method, so the more legible
     ValidationError from _traverse_path is raised instead.

Note: without the fix, the added test failed with ""KeyError: 'discussion_color_code'"", with the fix it doesn't fail (and there is a ""ValidationError: 'The path to the field to update contains a non-relational field (attributes) that is not the last field in …'"").

opw-4339633

Forward-Port-Of: odoo/odoo#192483",fw-bot,2025-01-10 20:06:00+00:00,[],2025-01-27 11:55:02+00:00,2025-01-13 11:54:06+00:00,https://github.com/odoo/odoo/pull/193303,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583925950, 'issue_id': 2781036195, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193303.png)](https://mergebot.odoo.com/odoo/odoo/pull/193303)', 'created_at': datetime.datetime(2025, 1, 10, 20, 6, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583926001, 'issue_id': 2781036195, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 20, 6, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 20:06:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193303.png)](https://mergebot.odoo.com/odoo/odoo/pull/193303)

fw-bot (Issue Creator) on (2025-01-10 20:06:04 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780994245,pull_request,closed,,[FW][FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786

Forward-Port-Of: odoo/odoo#193274",fw-bot,2025-01-10 19:46:28+00:00,[],2025-01-27 16:30:26+00:00,2025-01-13 16:28:25+00:00,https://github.com/odoo/odoo/pull/193302,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583830492, 'issue_id': 2780994245, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193302.png)](https://mergebot.odoo.com/odoo/odoo/pull/193302)', 'created_at': datetime.datetime(2025, 1, 10, 19, 46, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583830530, 'issue_id': 2780994245, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 19, 46, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 19:46:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193302.png)](https://mergebot.odoo.com/odoo/odoo/pull/193302)

fw-bot (Issue Creator) on (2025-01-10 19:46:29 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780949454,pull_request,closed,,[FW][FIX] web: name_search user manage falsy index,"Steps:
- Login as Mitchell Admin
- Create 8 user (B, C, D, E, F, G, H, I) to reach search limit
- Rename Mitchell Admin to Admin Mitchell to be the first result
- Open a user dropdown (employee form)

Actual result:
- Admin Mitchell appears twice

Expected result:
- Admin Mitchell appears at first position
- Admin Mitchell appears only once

opw-4430590

Forward-Port-Of: odoo/odoo#192075",fw-bot,2025-01-10 19:26:54+00:00,[],2025-01-27 10:26:58+00:00,2025-01-13 10:22:07+00:00,https://github.com/odoo/odoo/pull/193301,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583737735, 'issue_id': 2780949454, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193301.png)](https://mergebot.odoo.com/odoo/odoo/pull/193301)', 'created_at': datetime.datetime(2025, 1, 10, 19, 26, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583737776, 'issue_id': 2780949454, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 19, 26, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 19:26:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193301.png)](https://mergebot.odoo.com/odoo/odoo/pull/193301)

fw-bot (Issue Creator) on (2025-01-10 19:26:56 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780948821,pull_request,closed,,"[FW][FIX] purchase_stock,stock_dropshipping: add dropship product to PO","If the user adds a product to a PO generated for a sold and
subcontrated service, the picking will be a receipt and the related
SO will not be updated

To reproduce the issue:
1. Create a service S:
   - Add a new vendor V
   - Subcontracted Service: True
2. Create a product P:
   - Vendor V
   - Routes: Dropship
3. Create and confirm a SO with 1 x S
4. Add 1 x P to the PO
5. Confirm the PO
   - Error 01: it generates a receipt while a dropship is expected
6. Process the receipt
   - Error 02: the SO does not change while a new SOL for P1 is expected

If the initial SO had P, it would work correctly. The user could
even add a second dropshipped product before confirming the PO, the
picking would be a dropship and there would be some new SOL for the
dropship products.

When confirming a SO, the process that generates the PO depends on
the SOL. If at least one of them is a product, the stock rule
mechanism will always handle the situation since it is called before
the `super`:
https://github.com/odoo/odoo/blob/899878f8e4d61de6b7bb6e4799a3e97e8d9f4434/addons/sale_stock/models/sale_order.py#L176-L178
while, service side, we generate the PO after `super`
https://github.com/odoo/odoo/blob/706431510110a005618a2acaf6566f2bb61d5114/addons/sale_purchase/models/sale_order.py#L20-L24
And, good news, everything works correctly when the PO is created by
the stock rules.

However, when creating a PO for a sold service, we have few mistakes.
First, we don't provide any operation type:
https://github.com/odoo/odoo/blob/238a41e35280256382f6509182b9e900fb4f7aba/addons/sale_purchase/models/sale_order_line.py#L131-L141
We therefore use the default one, a receipt:
https://github.com/odoo/odoo/blob/f9381a0611207e0fec6b957aef3b160437ecbafb/addons/purchase_stock/models/purchase_order.py#L23
We don't provide any destination address either, as explicitly said
by the comment: ""False since only supported in stock"". All this
could make sense as long as we don't add any product. If we do, we
will then have an issue with the picking: error 01. The PO has been
created to subcontract a service to a customer. It's a dropship-like
situation. We should therefore anticipate the situation and set some
correct values in case we add some products.

Then, when processing the picking, we update the related SO in some
conditions:
https://github.com/odoo/odoo/blob/84d2c884300f090103b917b8911d82dbeac9279e/addons/sale_stock/models/stock.py#L119-L130
Fixing error 01 solves a part of the conditions: we now have a
correct destination location. However, we still don't have any SO
linked to the picking. This info actually comes from the group:
https://github.com/odoo/odoo/blob/84d2c884300f090103b917b8911d82dbeac9279e/addons/sale_stock/models/stock.py#L87-L90
However, when confirming the PO, it leads to the picking creation.
To do so, we directly create the missing group but we don't provide
any value for `sale_id`:
https://github.com/odoo/odoo/blob/f9381a0611207e0fec6b957aef3b160437ecbafb/addons/purchase_stock/models/purchase_order.py#L259-L264

OPW-4332074

Forward-Port-Of: odoo/odoo#192375",fw-bot,2025-01-10 19:26:39+00:00,[],2025-01-27 13:26:46+00:00,2025-01-13 13:24:32+00:00,https://github.com/odoo/odoo/pull/193300,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583736310, 'issue_id': 2780948821, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193300.png)](https://mergebot.odoo.com/odoo/odoo/pull/193300)', 'created_at': datetime.datetime(2025, 1, 10, 19, 26, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583736341, 'issue_id': 2780948821, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 19, 26, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583957226, 'issue_id': 2780948821, 'author': 'fw-bot', 'body': '@adwid @ticodoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 10, 20, 13, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586636472, 'issue_id': 2780948821, 'author': 'fw-bot', 'body': '@adwid @ticodoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 13, 9, 48, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586636733, 'issue_id': 2780948821, 'author': 'adwid', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 48, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 19:26:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193300.png)](https://mergebot.odoo.com/odoo/odoo/pull/193300)

fw-bot (Issue Creator) on (2025-01-10 19:26:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 20:13:06 UTC): @adwid @ticodoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-13 09:48:07 UTC): @adwid @ticodoo this PR was modified / updated and has become a normal PR. It must be merged directly.

adwid on (2025-01-13 09:48:15 UTC): robodoo r+

"
2780948473,pull_request,closed,,[FW][FIX] mrp: prevent re-count global lead days if not 1-step manufacture,"**Current behavior:**
The global lead days system parameter may be counted in the lead days breakdown in the replenishment report when:
A) product has manufacture route and,
B) WH manufacture steps is not 1-step

**Expected behavior:**
The parameter is counted once.

**Steps to reproduce:**
1. Create a product with a simple BoM and the manufacture route

2. Enable 2 or 3 step manufacturing in WH

3. Create an out move for the product

4. Open the replenishment report in inventory

5. Click the (i) in the orderpoint line for the product -> see the global vis. days are counted 2x

**Cause of the issue:**
Like the issue solved by 38d8e77
In some instances the `_get_lead_days()` must be called a second time to capture some additional lead time (in this case because we have > 1-step manufacturing).

**Fix:**
Use the context added in the referenced similar commit to ignore the global days in the second call.

opw-4410790

Forward-Port-Of: odoo/odoo#193154
Forward-Port-Of: odoo/odoo#190808",fw-bot,2025-01-10 19:26:23+00:00,[],2025-01-30 19:33:15+00:00,2025-01-16 19:28:47+00:00,https://github.com/odoo/odoo/pull/193299,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583735784, 'issue_id': 2780948473, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193299.png)](https://mergebot.odoo.com/odoo/odoo/pull/193299)', 'created_at': datetime.datetime(2025, 1, 10, 19, 26, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583735831, 'issue_id': 2780948473, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#190808 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/stock_rule.py\nAuto-merging addons/mrp/tests/test_replenish.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_replenish.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 19, 26, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047270, 'issue_id': 2780948473, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619716, 'issue_id': 2780948473, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589813178, 'issue_id': 2780948473, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 41, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589815255, 'issue_id': 2780948473, 'author': 'ethanrobv', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 14, 12, 42, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478861, 'issue_id': 2780948473, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313600, 'issue_id': 2780948473, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595737115, 'issue_id': 2780948473, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 13, 46, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 19:26:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193299.png)](https://mergebot.odoo.com/odoo/odoo/pull/193299)

fw-bot (Issue Creator) on (2025-01-10 19:26:32 UTC): @ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#190808 failed.

stdout:
```
Auto-merging addons/mrp/models/stock_rule.py
Auto-merging addons/mrp/tests/test_replenish.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_replenish.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:34 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:00 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).

ethanrobv on (2025-01-14 12:41:03 UTC): @robodoo r+

ethanrobv on (2025-01-14 12:42:02 UTC): @robodoo r-

fw-bot (Issue Creator) on (2025-01-15 02:01:58 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:29 UTC): @ethanrobv @Whenrow this forward port of odoo/odoo#190808 is awaiting action (not merged or closed).

ethanrobv on (2025-01-16 13:46:06 UTC): @robodoo r+

"
2780915350,pull_request,closed,,[FW][FIX] web_editor: line breaks at edges of block anchor nested within li,"Description of the issue this PR addresses:

I. Commit [1] handled cases of pressing enter at the edge of an anchor, which is a
child of an unbreakable element. The commit inserted the `br`'s after anchors;
however, it missed the situation where the anchor tags are block elements nested
inside an unbreakable element inside a `li`. In this specific case, inserting
two `br` tags after a anchor block resulted in the creation of two new lines.
This PR handles that case by only inserting one `br` tag after the anchor,
rather than both.

II. Previously when changing selection between links in website, when clicking on a
link the previous link used to get selected. This commit makes sure that when
changing selection in between links it selects the correct link.

III. This PR ensures that the link popover closes when the cursor moves outside
the link.

[1]: https://github.com/odoo/odoo/commit/df6f8dd0c54c40ea7edbd3821ae068d79b1b7af7

task-3631910

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192761
Forward-Port-Of: odoo/odoo#171469",fw-bot,2025-01-10 19:11:42+00:00,[],2025-01-31 10:24:49+00:00,2025-01-17 10:10:17+00:00,https://github.com/odoo/odoo/pull/193298,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2583662709, 'issue_id': 2780915350, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193298.png)](https://mergebot.odoo.com/odoo/odoo/pull/193298)', 'created_at': datetime.datetime(2025, 1, 10, 19, 11, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583662794, 'issue_id': 2780915350, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193292\n* odoo/odoo#193287\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 19, 11, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313953, 'issue_id': 2780915350, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595903943, 'issue_id': 2780915350, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 16, 14, 38, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597552987, 'issue_id': 2780915350, 'author': 'deso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 6, 50, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 19:11:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193298.png)](https://mergebot.odoo.com/odoo/odoo/pull/193298)

fw-bot (Issue Creator) on (2025-01-10 19:11:44 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193292
* odoo/odoo#193287

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-16 02:01:46 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 14:38:48 UTC): @deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR

deso-odoo on (2025-01-17 06:50:29 UTC): @robodoo r+

"
2780883500,pull_request,closed,,[FW][IMP] account: unified the labelling of account.move.line,"In list view and reports, the accounting entries were displayed in different manners. Sometimes in a stupid way (name of the move repeated twice).

This commit aims to give a single and unified way to display them.

ticket-4440711




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192463",fw-bot,2025-01-10 18:56:54+00:00,[],2025-01-27 11:55:00+00:00,2025-01-13 11:53:55+00:00,https://github.com/odoo/odoo/pull/193297,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583603617, 'issue_id': 2780883500, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193297.png)](https://mergebot.odoo.com/odoo/odoo/pull/193297)', 'created_at': datetime.datetime(2025, 1, 10, 18, 56, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583603751, 'issue_id': 2780883500, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 18, 56, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583977256, 'issue_id': 2780883500, 'author': 'fw-bot', 'body': '@qdp-odoo @oco-odoo the next pull request (odoo/odoo#193305) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 20, 17, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586585504, 'issue_id': 2780883500, 'author': 'oco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 23, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 18:56:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193297.png)](https://mergebot.odoo.com/odoo/odoo/pull/193297)

fw-bot (Issue Creator) on (2025-01-10 18:56:57 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 20:17:28 UTC): @qdp-odoo @oco-odoo the next pull request (odoo/odoo#193305) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

oco-odoo on (2025-01-13 09:23:09 UTC): @robodoo r+

"
2780853185,pull_request,closed,,[FIX] portal: view chatter messages with partner reactions,"Before this commit, when accessing a shared chatter from a portal user that has edit access, chatter messages could not be loaded when a partner added at least one emoji reaction on a message.

Steps to reproduce:
- Share a project with Joel Willis with edit access
- Create a task with Joel Willis on this project
- Post a message as Joel Willis on the new task
- Let Mitchell Admin add a reaction on the new message

=> Joel Willis cannot load messages:

```
An error occurred while fetching messages.
```

This happens because the custom mail message formatter of portal chatter messages was crafting the reaction data of the messages to return. When providing people that have reacted to the message, Access to reacted partners was denied due to ACL.

This commit fixes the issue by sudo() the partners of message reaction to retrieve their data to the portal user. This is ok because the portal has access to the message, therefore access to the reaction and related data are fine. Note that data of partner that have reacted is very limited: only the name is returned.

opw-4454427
",alexkuhn,2025-01-10 18:42:16+00:00,[],2025-01-20 21:57:01+00:00,2025-01-20 21:48:37+00:00,https://github.com/odoo/odoo/pull/193296,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2583553132, 'issue_id': 2780853185, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193296.png)](https://mergebot.odoo.com/odoo/odoo/pull/193296)', 'created_at': datetime.datetime(2025, 1, 10, 18, 42, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602014779, 'issue_id': 2780853185, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 10, 25, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 18:42:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193296.png)](https://mergebot.odoo.com/odoo/odoo/pull/193296)

alexkuhn (Issue Creator) on (2025-01-20 10:25:55 UTC): @robodoo r+

"
2780780959,pull_request,closed,,[FW][FIX] hw_drivers: wrong foot pedal name,"Devices detected through usb don't always have there manufactured and product name which can be retrieved.
For example, our foot pedal in the office doesn't which leads to it having a name `""None - None""` in Odoo.

After this PR if a device doesn't have a product name / manufacturer name it will be saved as `""Unknown input device""`

task-4472585

Forward-Port-Of: odoo/odoo#193277",fw-bot,2025-01-10 18:08:07+00:00,[],2025-01-29 19:07:53+00:00,2025-01-15 18:55:15+00:00,https://github.com/odoo/odoo/pull/193295,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583432223, 'issue_id': 2780780959, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193295.png)](https://mergebot.odoo.com/odoo/odoo/pull/193295)', 'created_at': datetime.datetime(2025, 1, 10, 18, 8, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583432281, 'issue_id': 2780780959, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo cherrypicking of pull request odoo/odoo#193277 failed.\n\nstdout:\n```\nAuto-merging addons/hw_drivers/iot_handlers/drivers/KeyboardUSBDriver_L.py\nCONFLICT (content): Merge conflict in addons/hw_drivers/iot_handlers/drivers/KeyboardUSBDriver_L.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 18, 8, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618393, 'issue_id': 2780780959, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo this forward port of odoo/odoo#193277 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478025, 'issue_id': 2780780959, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo this forward port of odoo/odoo#193277 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592270550, 'issue_id': 2780780959, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 10, 35, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 18:08:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193295.png)](https://mergebot.odoo.com/odoo/odoo/pull/193295)

fw-bot (Issue Creator) on (2025-01-10 18:08:09 UTC): @Ysoroko @qle-odoo cherrypicking of pull request odoo/odoo#193277 failed.

stdout:
```
Auto-merging addons/hw_drivers/iot_handlers/drivers/KeyboardUSBDriver_L.py
CONFLICT (content): Merge conflict in addons/hw_drivers/iot_handlers/drivers/KeyboardUSBDriver_L.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:02 UTC): @Ysoroko @qle-odoo this forward port of odoo/odoo#193277 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:16 UTC): @Ysoroko @qle-odoo this forward port of odoo/odoo#193277 is awaiting action (not merged or closed).

Ysoroko on (2025-01-15 10:35:02 UTC): @robodoo r+

"
2780772874,pull_request,closed,,[FW][FIX] pos_mercado_pago: fix callback,"Add a check on MP callback when paying. Verify if the pending payment line exist before processing the callback.

Same as:
- https://github.com/odoo/odoo/pull/186580
- https://github.com/odoo/odoo/pull/190735

opw-4349957

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193029",fw-bot,2025-01-10 18:04:16+00:00,[],2025-01-25 15:04:10+00:00,2025-01-11 14:13:18+00:00,https://github.com/odoo/odoo/pull/193294,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2583416500, 'issue_id': 2780772874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193294.png)](https://mergebot.odoo.com/odoo/odoo/pull/193294)', 'created_at': datetime.datetime(2025, 1, 10, 18, 4, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583416537, 'issue_id': 2780772874, 'author': 'fw-bot', 'body': '@lse-odoo @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193288\n* odoo/odoo#193273\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 18, 4, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585256146, 'issue_id': 2780772874, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 12, 54, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 18:04:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193294.png)](https://mergebot.odoo.com/odoo/odoo/pull/193294)

fw-bot (Issue Creator) on (2025-01-10 18:04:18 UTC): @lse-odoo @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193288
* odoo/odoo#193273

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lse-odoo on (2025-01-11 12:54:29 UTC): @robodoo r+

"
2780765530,pull_request,closed,,[PERF] product: Speed-up `product.template._name_search`,"## Description
Following ef90c22efda8a1d56d41eb0739d94733fb574f41, the delegated `_name_search` on `product.product` executed when performing a `name_search` on `product.template` is always unbounded (no limit). For non-selective domains on large databases, this can lead to manipulating extremely large lists of IDs, which are re-injected into other queries, resulting in performance regressions and excessive Postgres memory consumption.

We introduce an upper bound on the delegated `_name_search`. To avoid excessive iterations when there is no limit, the bound is set large enough but not so large that it causes blocking regressions. Each iteration becomes more selective than the previous one, as already found templates are excluded from the search scope.

## Benchmark
On a database with over half-million active products, a non-selective `name_search` that matches 1/3 of the products (For ex: `name='d', args=[('sale_ok', '=', True)]`, which happens during via dropdown of products on a `sale.order`):

|               | Before           | After |
|---------------|------------------|-------|
| Timings (hot) | 15min+ (timeout) | 50ms  |

## Reference
opw-4448182

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pivi-odoo,2025-01-10 18:00:47+00:00,[],2025-01-27 15:44:47+00:00,2025-01-13 15:19:40+00:00,https://github.com/odoo/odoo/pull/193293,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2583401164, 'issue_id': 2780765530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193293.png)](https://mergebot.odoo.com/odoo/odoo/pull/193293)', 'created_at': datetime.datetime(2025, 1, 10, 18, 0, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586468274, 'issue_id': 2780765530, 'author': 'pivi-odoo', 'body': ""The `_name_search` was reworked into `_search_display_name` in 18. The issue shouldn't appear on that version, as only the explicit `name_search` is possible to trigger it, but it has a limit but default (and most of the time from the front-end)\r\n\r\n@robodoo up to saas-17.4"", 'created_at': datetime.datetime(2025, 1, 13, 8, 22, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586468330, 'issue_id': 2780765530, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 1, 13, 8, 22, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587106261, 'issue_id': 2780765530, 'author': 'pivi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 28, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 18:00:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193293.png)](https://mergebot.odoo.com/odoo/odoo/pull/193293)

pivi-odoo (Issue Creator) on (2025-01-13 08:22:51 UTC): The `_name_search` was reworked into `_search_display_name` in 18. The issue shouldn't appear on that version, as only the explicit `name_search` is possible to trigger it, but it has a limit but default (and most of the time from the front-end)

@robodoo up to saas-17.4

robodoo on (2025-01-13 08:22:53 UTC): Forward-porting to 'saas-17.4'.

pivi-odoo (Issue Creator) on (2025-01-13 13:28:05 UTC): @robodoo r+

"
2780762241,pull_request,closed,,[FW][FIX] web_editor: line breaks at edges of block anchor nested within li,"Description of the issue this PR addresses:

I. Commit [1] handled cases of pressing enter at the edge of an anchor, which is a
child of an unbreakable element. The commit inserted the `br`'s after anchors;
however, it missed the situation where the anchor tags are block elements nested
inside an unbreakable element inside a `li`. In this specific case, inserting
two `br` tags after a anchor block resulted in the creation of two new lines.
This PR handles that case by only inserting one `br` tag after the anchor,
rather than both.

II. Previously when changing selection between links in website, when clicking on a
link the previous link used to get selected. This commit makes sure that when
changing selection in between links it selects the correct link.

III. This PR ensures that the link popover closes when the cursor moves outside
the link.

[1]: https://github.com/odoo/odoo/commit/df6f8dd0c54c40ea7edbd3821ae068d79b1b7af7

task-3631910

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192761
Forward-Port-Of: odoo/odoo#171469",fw-bot,2025-01-10 17:59:10+00:00,[],2025-01-31 09:22:43+00:00,2025-01-17 08:57:23+00:00,https://github.com/odoo/odoo/pull/193292,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583393659, 'issue_id': 2780762241, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193292.png)](https://mergebot.odoo.com/odoo/odoo/pull/193292)', 'created_at': datetime.datetime(2025, 1, 10, 17, 59, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583393742, 'issue_id': 2780762241, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 17, 59, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595982917, 'issue_id': 2780762241, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 16, 15, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597594367, 'issue_id': 2780762241, 'author': 'robodoo', 'body': '@deso-odoo @dmo-odoo staging failed: ci/runbot on bc80612bed4c29597ad675384a807bc4e8ef1e03 (view more at https://runbot.odoo.com/runbot/build/73505183)', 'created_at': datetime.datetime(2025, 1, 17, 7, 23, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597616808, 'issue_id': 2780762241, 'author': 'deso-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 17, 7, 41, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 17:59:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193292.png)](https://mergebot.odoo.com/odoo/odoo/pull/193292)

fw-bot (Issue Creator) on (2025-01-10 17:59:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-16 15:10:11 UTC): @deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR

robodoo on (2025-01-17 07:23:42 UTC): @deso-odoo @dmo-odoo staging failed: ci/runbot on bc80612bed4c29597ad675384a807bc4e8ef1e03 (view more at https://runbot.odoo.com/runbot/build/73505183)

deso-odoo on (2025-01-17 07:41:16 UTC): @robodoo retry

"
2780749632,pull_request,open,,[FW][FIX] sale: take line discount in global discount calculation,"If discount was appplied to sale order line and user applied global discount, it would have been calculated based on unsdicounted amount resulting in too high global discount as global discount should be calculated based on price after line discount.

opw-4349320

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191211",fw-bot,2025-01-10 17:53:35+00:00,[],2025-01-29 02:01:26+00:00,,https://github.com/odoo/odoo/pull/193291,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583369047, 'issue_id': 2780749632, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193291.png)](https://mergebot.odoo.com/odoo/odoo/pull/193291)', 'created_at': datetime.datetime(2025, 1, 10, 17, 53, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583369163, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo cherrypicking of pull request odoo/odoo#191211 failed.\n\nstdout:\n```\nAuto-merging addons/sale/tests/test_sale_order_discount.py\nAuto-merging addons/sale/wizard/sale_order_discount.py\nCONFLICT (content): Merge conflict in addons/sale/wizard/sale_order_discount.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 17, 53, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047047, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619379, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478731, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313491, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278344, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599468878, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600468190, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 19, 2, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603476631, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 21, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471755, 'issue_id': 2780749632, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 17:53:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193291.png)](https://mergebot.odoo.com/odoo/odoo/pull/193291)

fw-bot (Issue Creator) on (2025-01-10 17:53:38 UTC): @anko-odoo cherrypicking of pull request odoo/odoo#191211 failed.

stdout:
```
Auto-merging addons/sale/tests/test_sale_order_discount.py
Auto-merging addons/sale/wizard/sale_order_discount.py
CONFLICT (content): Merge conflict in addons/sale/wizard/sale_order_discount.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:23 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:51 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:52 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:24 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:01:15 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:24 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-19 02:02:13 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-21 02:01:49 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 02:01:25 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

"
2780671869,pull_request,open,,[FIX] mrp: fix late MO filter,"Steps to reproduce the bug:
- Create a MO:
     -Product: Select any product to produce
     - Update the Scheduled Date to yesterday
      -> The Scheduled End Date is automatically set to the past.
- Go to the inventory overview:
    - Manufacturing picking type:
        - The ""Late MO"" button is correctly computed.
        - Click on it.
         -> The “Planning Issues” filter is applied.

Problem:
The MO is not found during the search, so it is not displayed. This occurs because the filter is incorrect: it is based solely on “date_deadlin”e being in the past. However, this field is computed and is only populated when the MO is created from a Reordering Rule (RR), MPS, or MTO. For other cases, we need to rely on “date_planned_finished” being in the past.

opw-4453621
",DjamelTouati,2025-01-10 17:06:47+00:00,[],2025-01-10 18:00:14+00:00,,https://github.com/odoo/odoo/pull/193290,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2583281541, 'issue_id': 2780671869, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193290.png)](https://mergebot.odoo.com/odoo/odoo/pull/193290)', 'created_at': datetime.datetime(2025, 1, 10, 17, 6, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 17:06:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193290.png)](https://mergebot.odoo.com/odoo/odoo/pull/193290)

"
2780649038,pull_request,closed,,[FIX] account: skip readonly check on synchronize from moves,"This commit adds a missing skip_readonly_check context from the changes
to add readonly check in https://github.com/odoo/odoo/commit/b5d94f5563641adfd93bf431c139bc2b78d67beb

Steps to reproduce:
- create a statement line
- edit the partner of the liquidity line using the accounting items list
  view
- -> UserError: You cannot modify the following readonly fields on a posted move

opw-4453940",yosuanicolaus,2025-01-10 16:54:09+00:00,['yosuanicolaus'],2025-01-24 23:47:21+00:00,2025-01-10 23:37:14+00:00,https://github.com/odoo/odoo/pull/193289,"[('RD', 'research & development, internal work')]","[{'comment_id': 2583258581, 'issue_id': 2780649038, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193289.png)](https://mergebot.odoo.com/odoo/odoo/pull/193289)', 'created_at': datetime.datetime(2025, 1, 10, 16, 54, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583286775, 'issue_id': 2780649038, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 17, 10, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583357378, 'issue_id': 2780649038, 'author': 'robodoo', 'body': ""@yosuanicolaus @smetl 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 10, 17, 50, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:54:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193289.png)](https://mergebot.odoo.com/odoo/odoo/pull/193289)

smetl on (2025-01-10 17:10:07 UTC): @robodoo r+

robodoo on (2025-01-10 17:50:25 UTC): @yosuanicolaus @smetl 'ci/runbot' failed on this reviewed PR.

"
2780639861,pull_request,closed,,[FW][FIX] pos_mercado_pago: fix callback,"Add a check on MP callback when paying. Verify if the pending payment line exist before processing the callback.

Same as:
- https://github.com/odoo/odoo/pull/186580
- https://github.com/odoo/odoo/pull/190735

opw-4349957

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193029",fw-bot,2025-01-10 16:49:05+00:00,[],2025-01-25 15:04:12+00:00,2025-01-11 14:36:05+00:00,https://github.com/odoo/odoo/pull/193288,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583241621, 'issue_id': 2780639861, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193288.png)](https://mergebot.odoo.com/odoo/odoo/pull/193288)', 'created_at': datetime.datetime(2025, 1, 10, 16, 49, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583241668, 'issue_id': 2780639861, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 49, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:49:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193288.png)](https://mergebot.odoo.com/odoo/odoo/pull/193288)

fw-bot (Issue Creator) on (2025-01-10 16:49:07 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780634434,pull_request,closed,,[FW][FIX] web_editor: line breaks at edges of block anchor nested within li,"Description of the issue this PR addresses:

I. Commit [1] handled cases of pressing enter at the edge of an anchor, which is a
child of an unbreakable element. The commit inserted the `br`'s after anchors;
however, it missed the situation where the anchor tags are block elements nested
inside an unbreakable element inside a `li`. In this specific case, inserting
two `br` tags after a anchor block resulted in the creation of two new lines.
This PR handles that case by only inserting one `br` tag after the anchor,
rather than both.

II. Previously when changing selection between links in website, when clicking on a
link the previous link used to get selected. This commit makes sure that when
changing selection in between links it selects the correct link.

III. This PR ensures that the link popover closes when the cursor moves outside
the link.

[1]: https://github.com/odoo/odoo/commit/df6f8dd0c54c40ea7edbd3821ae068d79b1b7af7

task-3631910

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192761
Forward-Port-Of: odoo/odoo#171469",fw-bot,2025-01-10 16:46:16+00:00,[],2025-01-16 19:29:40+00:00,2025-01-16 19:29:40+00:00,https://github.com/odoo/odoo/pull/193287,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583233501, 'issue_id': 2780634434, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193287.png)](https://mergebot.odoo.com/odoo/odoo/pull/193287)', 'created_at': datetime.datetime(2025, 1, 10, 16, 46, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583233523, 'issue_id': 2780634434, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 46, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586508945, 'issue_id': 2780634434, 'author': 'dmo-odoo', 'body': 'Does this PR require html_editor adaptation?', 'created_at': datetime.datetime(2025, 1, 13, 8, 45, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594577503, 'issue_id': 2780634434, 'author': 'deso-odoo', 'body': 'Yes I am on it.', 'created_at': datetime.datetime(2025, 1, 16, 5, 38, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595732557, 'issue_id': 2780634434, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 16, 13, 44, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595737334, 'issue_id': 2780634434, 'author': 'deso-odoo', 'body': '@dmo-odoo We only needed to adapt the first commit to `html_editor`. Need you review on `html_editor` changes.', 'created_at': datetime.datetime(2025, 1, 16, 13, 46, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595856283, 'issue_id': 2780634434, 'author': 'dmo-odoo', 'body': '@deso-odoo Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 14, 20, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:46:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193287.png)](https://mergebot.odoo.com/odoo/odoo/pull/193287)

fw-bot (Issue Creator) on (2025-01-10 16:46:18 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-13 08:45:32 UTC): Does this PR require html_editor adaptation?

deso-odoo on (2025-01-16 05:38:29 UTC): Yes I am on it.

fw-bot (Issue Creator) on (2025-01-16 13:44:09 UTC): @deso-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

deso-odoo on (2025-01-16 13:46:11 UTC): @dmo-odoo We only needed to adapt the first commit to `html_editor`. Need you review on `html_editor` changes.

dmo-odoo on (2025-01-16 14:20:12 UTC): @deso-odoo Thanks!
@robodoo r+

"
2780633772,pull_request,closed,,[FW][FIX] l10n_be_pos_sale: activate default invoice only with intracom taxes,"Previously, settling a sale.order from the POS of a Belgian company
would auto check the invoice option before paying.

Steps to reproduce:
-------------------
* Install `l10n_be_pos_cert`
* Switch to the Beligian company
* Crete a quotation in **Sale** app
* Add any partner and any product, remove all taxes for the product line
* Save
* Open pos shop
* Settle the order
* Go to the payment screen
> Observation: The invoice button is already selected.

Why the fix:
------------
This invoice option was auto selected since this commit: https://github.com/odoo/odoo/commit/c760fbb1bd2e7725b5e759198684a07060612033

The following commit https://github.com/odoo/odoo/commit/3a5e22218708b4b6c9aedfa965d9f3c279edbd46
updates the previous one as the invoice enforcement is only needed when we have
intracom taxes on the SO. Thus when no intracom taxes apply we can still 
decide wether or not to invoice. We fallback on the default behavior which 
is to have the invoice button un-selected.

opw-4334095

Forward-Port-Of: odoo/odoo#191290
Forward-Port-Of: odoo/odoo#188400",fw-bot,2025-01-10 16:46:00+00:00,[],2025-01-27 13:20:37+00:00,2025-01-13 13:10:04+00:00,https://github.com/odoo/odoo/pull/193286,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583233024, 'issue_id': 2780633772, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193286.png)](https://mergebot.odoo.com/odoo/odoo/pull/193286)', 'created_at': datetime.datetime(2025, 1, 10, 16, 46, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583233044, 'issue_id': 2780633772, 'author': 'fw-bot', 'body': '@sbel-odoo @caburj cherrypicking of pull request odoo/odoo#188400 failed.\n\n* 1c560cc41d00055ce4f86bb4369000e7c936428f\n* 424758aeea04c7ea05efc639f6e9fd2749e7b0ce <- on this commit\n\nstdout:\n```\nAuto-merging addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js\nCONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 46, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586780772, 'issue_id': 2780633772, 'author': 'sbel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 53, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:46:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193286.png)](https://mergebot.odoo.com/odoo/odoo/pull/193286)

fw-bot (Issue Creator) on (2025-01-10 16:46:03 UTC): @sbel-odoo @caburj cherrypicking of pull request odoo/odoo#188400 failed.

* 1c560cc41d00055ce4f86bb4369000e7c936428f
* 424758aeea04c7ea05efc639f6e9fd2749e7b0ce <- on this commit

stdout:
```
Auto-merging addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js
CONFLICT (content): Merge conflict in addons/l10n_be_pos_sale/static/tests/tours/l10n_be_pos_sale_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

sbel-odoo on (2025-01-13 10:53:52 UTC): @robodoo r+

"
2780623935,pull_request,closed,,[FW][FIX] sale: take line discount in global discount calculation,"If discount was appplied to sale order line and user applied global discount, it would have been calculated based on unsdicounted amount resulting in too high global discount as global discount should be calculated based on price after line discount.

opw-4349320

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191211",fw-bot,2025-01-10 16:42:13+00:00,[],2025-01-27 10:18:03+00:00,2025-01-13 10:07:51+00:00,https://github.com/odoo/odoo/pull/193285,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2583225572, 'issue_id': 2780623935, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193285.png)](https://mergebot.odoo.com/odoo/odoo/pull/193285)', 'created_at': datetime.datetime(2025, 1, 10, 16, 42, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583225593, 'issue_id': 2780623935, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 42, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583369069, 'issue_id': 2780623935, 'author': 'fw-bot', 'body': '@anko-odoo the next pull request (odoo/odoo#193291) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 17, 53, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047003, 'issue_id': 2780623935, 'author': 'fw-bot', 'body': '@anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586505425, 'issue_id': 2780623935, 'author': 'anko-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 43, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:42:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193285.png)](https://mergebot.odoo.com/odoo/odoo/pull/193285)

fw-bot (Issue Creator) on (2025-01-10 16:42:14 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 17:53:36 UTC): @anko-odoo the next pull request (odoo/odoo#193291) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:22 UTC): @anko-odoo this forward port of odoo/odoo#191211 is awaiting action (not merged or closed).

anko-odoo on (2025-01-13 08:43:36 UTC): @robodoo r+

"
2780608708,pull_request,closed,,[FW][FIX] data_recycle: Fix notify_frequency_period field style,"**Steps to Reproduce:**
- Install data_recycle module.
- Navigate to Configuration → Rules and create any rule for the data_recycle.

**Issue:**
- The selected option for the notify_frequency_period field is not displayed correctly due to a fixed width class (w-25) assigned to its parent div element.

![image](https://github.com/user-attachments/assets/1656d3f1-d248-45d7-92e3-3722b7679fa5)

**Solution:**
- Updated the width class from w-25 to w-50 to ensure proper display of the selected option.

![image](https://github.com/user-attachments/assets/49d43886-1a32-4256-80a1-f3d3aa69de42)

opw-4414071

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192851
Forward-Port-Of: odoo/odoo#191639",fw-bot,2025-01-10 16:36:16+00:00,[],2025-01-27 08:57:35+00:00,2025-01-13 08:39:43+00:00,https://github.com/odoo/odoo/pull/193284,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2583203960, 'issue_id': 2780608708, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193284.png)](https://mergebot.odoo.com/odoo/odoo/pull/193284)', 'created_at': datetime.datetime(2025, 1, 10, 16, 36, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583205262, 'issue_id': 2780608708, 'author': 'fw-bot', 'body': '@kmod-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193268\n* odoo/odoo#193249\n* odoo/odoo#193223\n* odoo/odoo#193200\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 36, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541836, 'issue_id': 2780608708, 'author': 'fw-bot', 'body': '@kmod-odoo @tivisse this forward port of odoo/odoo#191639 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046830, 'issue_id': 2780608708, 'author': 'fw-bot', 'body': '@kmod-odoo @tivisse this forward port of odoo/odoo#191639 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586326732, 'issue_id': 2780608708, 'author': 'kmod-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 6, 50, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:36:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193284.png)](https://mergebot.odoo.com/odoo/odoo/pull/193284)

fw-bot (Issue Creator) on (2025-01-10 16:36:34 UTC): @kmod-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193268
* odoo/odoo#193249
* odoo/odoo#193223
* odoo/odoo#193200

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-12 02:01:46 UTC): @kmod-odoo @tivisse this forward port of odoo/odoo#191639 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:12 UTC): @kmod-odoo @tivisse this forward port of odoo/odoo#191639 is awaiting action (not merged or closed).

kmod-odoo on (2025-01-13 06:50:45 UTC): @robodoo r+

"
2780594470,pull_request,closed,,[FIX] web: hoot: correctly garbage collect between suites,"Since [1], we force the garbage collector to run between each hoot test suite. However, since chrome 124, this no longer seemed to produce the desirable effect. Indeed, memory graphs of the test suites were no longer predictable. The garbage collector seemed to work differently from a build to another, even with the same code.

This is probably due to this change [2] in chrome, coming with version 124. Hopefully, the commit message gave us a hint on a way to fix our issue.

[1] https://github.com/odoo/odoo/commit/a3ef39dae4a7cd6c96f14958744ac8d8bd2064c9
[2] https://chromium.googlesource.com/chromium/src/+/ae7269f134ede59c815b22c1fd042b26bab96b7a

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-10 16:30:43+00:00,[],2025-01-25 08:46:23+00:00,2025-01-11 06:15:38+00:00,https://github.com/odoo/odoo/pull/193283,"[('RD', 'research & development, internal work')]","[{'comment_id': 2583183109, 'issue_id': 2780594470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193283.png)](https://mergebot.odoo.com/odoo/odoo/pull/193283)', 'created_at': datetime.datetime(2025, 1, 10, 16, 30, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583268875, 'issue_id': 2780594470, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 16, 59, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583337425, 'issue_id': 2780594470, 'author': 'robodoo', 'body': ""@aab-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 10, 17, 41, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:30:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193283.png)](https://mergebot.odoo.com/odoo/odoo/pull/193283)

Polymorphe57 on (2025-01-10 16:59:54 UTC): @robodoo r+

robodoo on (2025-01-10 17:41:49 UTC): @aab-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR.

"
2780583311,pull_request,closed,,"[FW][FIX] hr_holidays, mail: im_status fa - plane not consistent","**Current behavior before PR:**

prior to this PR fa-plane icon does not displayed after user comes online/offline/away while on leave without any reload.

**Desired behavior after PR is merged:**

now fa-plane icon is displayed with respective color of im_status without any reload

task-4237384

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193210
Forward-Port-Of: odoo/odoo#184471",fw-bot,2025-01-10 16:26:19+00:00,[],2025-01-12 21:47:14+00:00,2025-01-11 05:17:56+00:00,https://github.com/odoo/odoo/pull/193282,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583167818, 'issue_id': 2780583311, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193282.png)](https://mergebot.odoo.com/odoo/odoo/pull/193282)', 'created_at': datetime.datetime(2025, 1, 10, 16, 26, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583167851, 'issue_id': 2780583311, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/persona_model.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 26, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:26:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193282.png)](https://mergebot.odoo.com/odoo/odoo/pull/193282)

fw-bot (Issue Creator) on (2025-01-10 16:26:21 UTC): @jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/persona_model.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780582167,pull_request,closed,,[FW][FIX] pos: self service invoicing TB on portal,"Steps:
- Enable the self-invoicing option from Configuration → Settings → Bills & Receipts.
- Open the POS system.
- Create an order and validate it.
- Scan the QR code for self-invoicing displayed on the receipt.
- The QR code opens the portal.

Issue:
- A traceback error appears when opening the page.

Cause:
- A problem in the `account_peppol` module was causing it to search for an element on the page that wasn’t available.

Fix:
- Included a condition such that If the element isn’t found, it skips the step and assigns a null value to the variable, resolving the error.

Task: 4438885

Forward-Port-Of: odoo/odoo#192701",fw-bot,2025-01-10 16:25:52+00:00,[],2025-01-27 07:43:17+00:00,2025-01-13 07:20:58+00:00,https://github.com/odoo/odoo/pull/193281,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2583166205, 'issue_id': 2780582167, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193281.png)](https://mergebot.odoo.com/odoo/odoo/pull/193281)', 'created_at': datetime.datetime(2025, 1, 10, 16, 25, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583166243, 'issue_id': 2780582167, 'author': 'fw-bot', 'body': '@djip-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193265\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 25, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586224801, 'issue_id': 2780582167, 'author': 'djip-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 5, 57, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:25:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193281.png)](https://mergebot.odoo.com/odoo/odoo/pull/193281)

fw-bot (Issue Creator) on (2025-01-10 16:25:54 UTC): @djip-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193265

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

djip-odoo on (2025-01-13 05:57:52 UTC): @robodoo r+

"
2780572016,pull_request,closed,,[FW] Nilvera integration for Turkish EDI,"Three commits are included in this PR.
- One adds a base module for all Nilvera modules
- One adds a module to handle sending and receiving E-Invoices and E-Archives to and from Nilvera.
- One adds general improvements to UBL.

task-3952234

Forward-Port-Of: odoo/odoo#192196
Forward-Port-Of: odoo/odoo#180283",fw-bot,2025-01-10 16:22:00+00:00,[],2025-01-24 21:34:38+00:00,2025-01-10 20:31:07+00:00,https://github.com/odoo/odoo/pull/193280,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2583151606, 'issue_id': 2780572016, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193280.png)](https://mergebot.odoo.com/odoo/odoo/pull/193280)', 'created_at': datetime.datetime(2025, 1, 10, 16, 22, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583151639, 'issue_id': 2780572016, 'author': 'fw-bot', 'body': '@alialfie @gawa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193263\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583480858, 'issue_id': 2780572016, 'author': 'alialfie', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 18, 22, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:22:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193280.png)](https://mergebot.odoo.com/odoo/odoo/pull/193280)

fw-bot (Issue Creator) on (2025-01-10 16:22:02 UTC): @alialfie @gawa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193263

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alialfie on (2025-01-10 18:22:16 UTC): @robodoo r+

"
2780555570,pull_request,closed,,[FW][FIX] pos_sale: prevent double consumption repair,"When creating a repair order, and paying it with a POS order, the product from the repair order would be consumed twice, once when creating the repair order, and once when validating the POS order. So we end up with 2 stock moves for the same product.

Steps to reproduce:
-------------------
* Create a repair order for any product
* Add product A to the part list
* Start and end the repair (at this point one stock move is created)
* Create a quotation for the repair order
* Open PoS and settle the quotation
* Validate the PoS order, and check the stock moves for the product A
> Observation: You can see one more stock move for the product A
coming from the PoS order

Why the fix:
------------
We make a similar fix as this one https://github.com/odoo/odoo/pull/186812 to prevent the creation of stock moves when the product is coming from a repair order.

opw-4351266

Forward-Port-Of: odoo/odoo#192753",fw-bot,2025-01-10 16:15:42+00:00,[],2025-01-27 14:57:09+00:00,2025-01-13 14:43:39+00:00,https://github.com/odoo/odoo/pull/193279,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2583127515, 'issue_id': 2780555570, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193279.png)](https://mergebot.odoo.com/odoo/odoo/pull/193279)', 'created_at': datetime.datetime(2025, 1, 10, 16, 15, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583127547, 'issue_id': 2780555570, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193264\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 15, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587015981, 'issue_id': 2780555570, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 12, 47, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:15:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193279.png)](https://mergebot.odoo.com/odoo/odoo/pull/193279)

fw-bot (Issue Creator) on (2025-01-10 16:15:45 UTC): @robinengels @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193264

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-13 12:47:34 UTC): @robodoo r+

"
2780535856,pull_request,closed,,[FW][FIX] base: append suffix to duplicated server action name,"Before this commit:
When a user duplicates a server action, the new action retains the exact same name as the original.

After this commit:
Duplicated server actions are assigned a name with the suffix ""(copy)"" to differentiate them from the original action.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190383",fw-bot,2025-01-10 16:07:49+00:00,['elct-odoo'],2025-01-25 05:41:12+00:00,2025-01-11 05:17:48+00:00,https://github.com/odoo/odoo/pull/193278,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2583094393, 'issue_id': 2780535856, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193278.png)](https://mergebot.odoo.com/odoo/odoo/pull/193278)', 'created_at': datetime.datetime(2025, 1, 10, 16, 7, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583094548, 'issue_id': 2780535856, 'author': 'fw-bot', 'body': '@elct-odoo @rco-odoo cherrypicking of pull request odoo/odoo#190383 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/models/ir_actions.py\nCONFLICT (content): Merge conflict in odoo/addons/base/models/ir_actions.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 7, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583600804, 'issue_id': 2780535856, 'author': 'elct-odoo', 'body': '@robodoo  r+', 'created_at': datetime.datetime(2025, 1, 10, 18, 56, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:07:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193278.png)](https://mergebot.odoo.com/odoo/odoo/pull/193278)

fw-bot (Issue Creator) on (2025-01-10 16:07:52 UTC): @elct-odoo @rco-odoo cherrypicking of pull request odoo/odoo#190383 failed.

stdout:
```
Auto-merging odoo/addons/base/models/ir_actions.py
CONFLICT (content): Merge conflict in odoo/addons/base/models/ir_actions.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

elct-odoo (Assginee) on (2025-01-10 18:56:14 UTC): @robodoo  r+

"
2780523259,pull_request,closed,,[FIX] hw_drivers: wrong foot pedal name,"Devices detected through usb don't always have there manufactured and product name which can be retrieved.
For example, our foot pedal in the office doesn't which leads to it having a name `""None - None""` in Odoo.

After this PR if a device doesn't have a product name / manufacturer name it will be saved as `""Unknown input device""`

task-4472585
",Ysoroko,2025-01-10 16:02:58+00:00,[],2025-01-24 18:10:55+00:00,2025-01-10 18:07:55+00:00,https://github.com/odoo/odoo/pull/193277,"[('RD', 'research & development, internal work')]","[{'comment_id': 2583072011, 'issue_id': 2780523259, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193277.png)](https://mergebot.odoo.com/odoo/odoo/pull/193277)', 'created_at': datetime.datetime(2025, 1, 10, 16, 3, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 16:03:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193277.png)](https://mergebot.odoo.com/odoo/odoo/pull/193277)

"
2780507560,pull_request,closed,,[FIX] website_hr_recruitment: fix plural,,Bertrand2,2025-01-10 15:57:08+00:00,[],2025-01-31 15:10:45+00:00,2025-01-17 15:09:01+00:00,https://github.com/odoo/odoo/pull/193276,"[('RD', 'research & development, internal work')]","[{'comment_id': 2583045612, 'issue_id': 2780507560, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193276.png)](https://mergebot.odoo.com/odoo/odoo/pull/193276)', 'created_at': datetime.datetime(2025, 1, 10, 15, 57, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583122525, 'issue_id': 2780507560, 'author': 'robodoo', 'body': ""@ticodoo unknown delegation 'Bertrand2'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 10, 16, 14, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583124033, 'issue_id': 2780507560, 'author': 'ticodoo', 'body': '@robodoo delegate=Bertrand2', 'created_at': datetime.datetime(2025, 1, 10, 16, 14, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598281734, 'issue_id': 2780507560, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 12, 40, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:57:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193276.png)](https://mergebot.odoo.com/odoo/odoo/pull/193276)

robodoo on (2025-01-10 16:14:26 UTC): @ticodoo unknown delegation 'Bertrand2'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

ticodoo on (2025-01-10 16:14:48 UTC): @robodoo delegate=Bertrand2

Bertrand2 (Issue Creator) on (2025-01-17 12:40:27 UTC): robodoo r+

"
2780492917,pull_request,closed,,[FIX] point_of_sale: fix load onboarding scenario from company branch,"- `point_of_sale`: when creating cash payment methods, we now use the default cash account if it exists.
- `l10n_be_pos_restaurant`: filter taxes to create to avoid recreating same tax in sub company

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-01-10 15:51:36+00:00,[],2025-01-27 13:20:35+00:00,2025-01-13 13:10:02+00:00,https://github.com/odoo/odoo/pull/193275,"[('RD', 'research & development, internal work')]","[{'comment_id': 2583024072, 'issue_id': 2780492917, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193275.png)](https://mergebot.odoo.com/odoo/odoo/pull/193275)', 'created_at': datetime.datetime(2025, 1, 10, 15, 51, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586690325, 'issue_id': 2780492917, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 11, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:51:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193275.png)](https://mergebot.odoo.com/odoo/odoo/pull/193275)

caburj on (2025-01-13 10:11:05 UTC): robodoo r+

"
2780481550,pull_request,closed,,[FIX] mass_mailing_crm: make demo data viewable,"The demo data for `mass_mailing_crm` is currently not viewable nor editable before being sent.

Steps to reproduce
-----
1. Open Email Marketing > Select the campaign titled ""We want to hear from you !""
2. In the form view, a template picker is displayed instead of the existing contents

Cause
-----
The demo data is using `body_html` instead of `body_arch`, the latter of which is displayed in the form view before the campaign is sent. Since `body_arch = False`, the template picker is displayed instead.

Solution
-----
Use the `body_arch` field instead, `body_html` will be rendered when running the Test or Send actions.

opw-4440786",juwu-odoo,2025-01-10 15:47:19+00:00,[],2025-01-24 19:58:51+00:00,2025-01-10 19:46:15+00:00,https://github.com/odoo/odoo/pull/193274,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2583007925, 'issue_id': 2780481550, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193274.png)](https://mergebot.odoo.com/odoo/odoo/pull/193274)', 'created_at': datetime.datetime(2025, 1, 10, 15, 47, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583557997, 'issue_id': 2780481550, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 18, 43, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:47:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193274.png)](https://mergebot.odoo.com/odoo/odoo/pull/193274)

tde-banana-odoo on (2025-01-10 18:43:57 UTC): @robodoo r+

"
2780444354,pull_request,closed,,[FW][FIX] pos_mercado_pago: fix callback,"Add a check on MP callback when paying. Verify if the pending payment line exist before processing the callback.

Same as:
- https://github.com/odoo/odoo/pull/186580
- https://github.com/odoo/odoo/pull/190735

opw-4349957

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193029",fw-bot,2025-01-10 15:29:56+00:00,[],2025-01-25 15:04:11+00:00,2025-01-11 14:14:10+00:00,https://github.com/odoo/odoo/pull/193273,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582965406, 'issue_id': 2780444354, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193273.png)](https://mergebot.odoo.com/odoo/odoo/pull/193273)', 'created_at': datetime.datetime(2025, 1, 10, 15, 29, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582965430, 'issue_id': 2780444354, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 29, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:29:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193273.png)](https://mergebot.odoo.com/odoo/odoo/pull/193273)

fw-bot (Issue Creator) on (2025-01-10 15:29:58 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780443836,pull_request,closed,,[FW][FIX] point_of_sale: correctly apply multiple pricelist rules,"Before this commit, if there were multiple pricelist rules applicable to a product but they had minimum quantity conditions, PoS did not compute the price with the correct applicable pricelist rules if the top pricelist rule's minimum quantity was not satisfied.

opw-4407515

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193202",fw-bot,2025-01-10 15:29:40+00:00,[],2025-01-28 15:36:57+00:00,2025-01-14 15:13:12+00:00,https://github.com/odoo/odoo/pull/193272,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582965089, 'issue_id': 2780443836, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193272.png)](https://mergebot.odoo.com/odoo/odoo/pull/193272)', 'created_at': datetime.datetime(2025, 1, 10, 15, 29, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582965112, 'issue_id': 2780443836, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 29, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583029772, 'issue_id': 2780443836, 'author': 'fw-bot', 'body': '@pedrambiria @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 10, 15, 53, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618418, 'issue_id': 2780443836, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#193202 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589406792, 'issue_id': 2780443836, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 14, 9, 21, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589764228, 'issue_id': 2780443836, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 16, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:29:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193272.png)](https://mergebot.odoo.com/odoo/odoo/pull/193272)

fw-bot (Issue Creator) on (2025-01-10 15:29:49 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 15:53:15 UTC): @pedrambiria @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-14 02:01:03 UTC): @pedrambiria @caburj this forward port of odoo/odoo#193202 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 09:21:55 UTC): @pedrambiria @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.

pedrambiria on (2025-01-14 12:16:55 UTC): @robodoo r+

"
2780437682,pull_request,closed,,[FW][FIX] sale: take line discount in global discount calculation,"If discount was appplied to sale order line and user applied global discount, it would have been calculated based on unsdicounted amount resulting in too high global discount as global discount should be calculated based on price after line discount.

opw-4349320

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191211",fw-bot,2025-01-10 15:26:31+00:00,[],2025-01-27 10:49:37+00:00,2025-01-13 10:48:08+00:00,https://github.com/odoo/odoo/pull/193271,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582958570, 'issue_id': 2780437682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193271.png)](https://mergebot.odoo.com/odoo/odoo/pull/193271)', 'created_at': datetime.datetime(2025, 1, 10, 15, 26, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582958589, 'issue_id': 2780437682, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 26, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:26:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193271.png)](https://mergebot.odoo.com/odoo/odoo/pull/193271)

fw-bot (Issue Creator) on (2025-01-10 15:26:33 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780429539,pull_request,closed,,[FIX] web: Fix Autocomplete active items style,"The active style of the css class `.ui-state-active` was removed in a previous commit and made it impossible to see the active element.

Commit that caused the issue: https://github.com/odoo/odoo/commit/6d77fb2d823688fcdd3085cd15c7a28771e783b6
Task: 4467153

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",BastienFafchamps,2025-01-10 15:22:28+00:00,[],2025-01-13 08:31:17+00:00,2025-01-13 08:31:17+00:00,https://github.com/odoo/odoo/pull/193270,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582949981, 'issue_id': 2780429539, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193270.png)](https://mergebot.odoo.com/odoo/odoo/pull/193270)', 'created_at': datetime.datetime(2025, 1, 10, 15, 22, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:22:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193270.png)](https://mergebot.odoo.com/odoo/odoo/pull/193270)

"
2780418720,pull_request,closed,,[FW][FIX] pos_sale: separate downpayment for fixed tax,"When a product has a fixed tax, there should be a separate downpayment line for the fixed tax amount.

Steps to reproduce:
-------------------
* Create a fixed tax of 1€
* Assign this tax to any product
* Create a sale order with this product
* Open PoS and make a downpayment of 10%
> Observation: There is only one downpayment line with the total amount
  of the product and the fixed tax combined.

opw-4252104

Forward-Port-Of: odoo/odoo#192208",fw-bot,2025-01-10 15:16:51+00:00,[],2025-01-29 11:56:56+00:00,2025-01-15 11:53:21+00:00,https://github.com/odoo/odoo/pull/193269,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582938445, 'issue_id': 2780418720, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193269.png)](https://mergebot.odoo.com/odoo/odoo/pull/193269)', 'created_at': datetime.datetime(2025, 1, 10, 15, 16, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582938475, 'issue_id': 2780418720, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192208 failed.\n\nstdout:\n```\nAuto-merging addons/pos_sale/static/src/app/order_management_screen/sale_order_management_screen/sale_order_management_screen.js\nCONFLICT (content): Merge conflict in addons/pos_sale/static/src/app/order_management_screen/sale_order_management_screen/sale_order_management_screen.js\nAuto-merging addons/pos_sale/static/tests/tours/PosSaleTour.js\nCONFLICT (content): Merge conflict in addons/pos_sale/static/tests/tours/PosSaleTour.js\nAuto-merging addons/pos_sale/tests/test_pos_sale_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 16, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619123, 'issue_id': 2780418720, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo this forward port of odoo/odoo#192208 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478485, 'issue_id': 2780418720, 'author': 'fw-bot', 'body': '@robinengels @adgu-odoo this forward port of odoo/odoo#192208 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592216280, 'issue_id': 2780418720, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 10, 10, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:16:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193269.png)](https://mergebot.odoo.com/odoo/odoo/pull/193269)

fw-bot (Issue Creator) on (2025-01-10 15:16:53 UTC): @robinengels @adgu-odoo cherrypicking of pull request odoo/odoo#192208 failed.

stdout:
```
Auto-merging addons/pos_sale/static/src/app/order_management_screen/sale_order_management_screen/sale_order_management_screen.js
CONFLICT (content): Merge conflict in addons/pos_sale/static/src/app/order_management_screen/sale_order_management_screen/sale_order_management_screen.js
Auto-merging addons/pos_sale/static/tests/tours/PosSaleTour.js
CONFLICT (content): Merge conflict in addons/pos_sale/static/tests/tours/PosSaleTour.js
Auto-merging addons/pos_sale/tests/test_pos_sale_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:36 UTC): @robinengels @adgu-odoo this forward port of odoo/odoo#192208 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:38 UTC): @robinengels @adgu-odoo this forward port of odoo/odoo#192208 is awaiting action (not merged or closed).

robinengels on (2025-01-15 10:10:52 UTC): @robodoo r+

"
2780411613,pull_request,closed,,[FW][FIX] data_recycle: Fix notify_frequency_period field style,"**Steps to Reproduce:**
- Install data_recycle module.
- Navigate to Configuration → Rules and create any rule for the data_recycle.

**Issue:**
- The selected option for the notify_frequency_period field is not displayed correctly due to a fixed width class (w-25) assigned to its parent div element.

![image](https://github.com/user-attachments/assets/1656d3f1-d248-45d7-92e3-3722b7679fa5)

**Solution:**
- Updated the width class from w-25 to w-50 to ensure proper display of the selected option.

![image](https://github.com/user-attachments/assets/49d43886-1a32-4256-80a1-f3d3aa69de42)

opw-4414071

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192851
Forward-Port-Of: odoo/odoo#191639",fw-bot,2025-01-10 15:13:16+00:00,[],2025-01-27 08:57:39+00:00,2025-01-13 08:42:47+00:00,https://github.com/odoo/odoo/pull/193268,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582930864, 'issue_id': 2780411613, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193268.png)](https://mergebot.odoo.com/odoo/odoo/pull/193268)', 'created_at': datetime.datetime(2025, 1, 10, 15, 13, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582930920, 'issue_id': 2780411613, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 13, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:13:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193268.png)](https://mergebot.odoo.com/odoo/odoo/pull/193268)

fw-bot (Issue Creator) on (2025-01-10 15:13:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780400197,pull_request,closed,,[FW][FIX] stock_picking_batch: forbid picking free sml wave transfer,"### Steps to reproduce:
- In the settings enable: 1) Multi-Steps Routes 2) ""Batch, Wave and cluster Transfers""
- Inventory > Operations > Jobs > Wave transfer
- Click on ""Prepare Wave"".
> A read group of the stock.move.line model is performed for you to compose your wave transfer.

### Issue:

Move lines without picking are also displayed. Hence if selected raise a traceback during the `_add_to_wave` call.

### Note:

The `action_prepare_wave` and `action_prepare_wave_for_picking_type` actions performing the read groups were added to the 18.0 versions by commit 71eeeae5c7212a709c0b18181d195975b5ca6a99 so that there is no issue prior to that version.

opw-4464695
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193100",fw-bot,2025-01-10 15:07:37+00:00,[],2025-01-31 14:38:58+00:00,2025-01-17 14:18:40+00:00,https://github.com/odoo/odoo/pull/193267,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582919070, 'issue_id': 2780400197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193267.png)](https://mergebot.odoo.com/odoo/odoo/pull/193267)', 'created_at': datetime.datetime(2025, 1, 10, 15, 7, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582919095, 'issue_id': 2780400197, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193248\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 7, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618491, 'issue_id': 2780400197, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478091, 'issue_id': 2780400197, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594312925, 'issue_id': 2780400197, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597277924, 'issue_id': 2780400197, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598263530, 'issue_id': 2780400197, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 12, 29, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:07:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193267.png)](https://mergebot.odoo.com/odoo/odoo/pull/193267)

fw-bot (Issue Creator) on (2025-01-10 15:07:39 UTC): @lase-odoo @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193248

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:07 UTC): @lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:19 UTC): @lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:00:57 UTC): @lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:00:54 UTC): @lase-odoo @Whenrow this forward port of odoo/odoo#193100 is awaiting action (not merged or closed).

lase-odoo on (2025-01-17 12:29:55 UTC): robodoo r+

"
2780397903,pull_request,closed,,[FW][FIX] crm: display the missing line in crm helper,"**Specifications:**
When the domain is specified, helper in crm helper should display an extra line, which explains that any email sent to alias@domain will create a lead.

**Technical reason:**
A code was added in `crm.lead` which checks for the company, but in data file company was already specified as `False`. Hence, the missing line.

**After this PR:**
If the custom email domain is set, crm helper will display an extra line.

Task-4377574

Forward-Port-Of: odoo/odoo#190936",fw-bot,2025-01-10 15:06:25+00:00,[],2025-01-24 22:20:54+00:00,2025-01-10 22:12:53+00:00,https://github.com/odoo/odoo/pull/193266,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582916744, 'issue_id': 2780397903, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193266.png)](https://mergebot.odoo.com/odoo/odoo/pull/193266)', 'created_at': datetime.datetime(2025, 1, 10, 15, 6, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582916764, 'issue_id': 2780397903, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193250\n* odoo/odoo#193225\n* odoo/odoo#193204\n* odoo/odoo#193184\n* odoo/odoo#193169\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 6, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582987171, 'issue_id': 2780397903, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 40, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583033599, 'issue_id': 2780397903, 'author': 'robodoo', 'body': ""@nihp-odoo @tde-banana-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 10, 15, 54, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:06:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193266.png)](https://mergebot.odoo.com/odoo/odoo/pull/193266)

fw-bot (Issue Creator) on (2025-01-10 15:06:27 UTC): @nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193250
* odoo/odoo#193225
* odoo/odoo#193204
* odoo/odoo#193184
* odoo/odoo#193169

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-01-10 15:40:05 UTC): @robodoo r+

robodoo on (2025-01-10 15:54:15 UTC): @nihp-odoo @tde-banana-odoo 'ci/runbot' failed on this reviewed PR.

"
2780391691,pull_request,closed,,[FW][FIX] pos: self service invoicing TB on portal,"Steps:
- Enable the self-invoicing option from Configuration → Settings → Bills & Receipts.
- Open the POS system.
- Create an order and validate it.
- Scan the QR code for self-invoicing displayed on the receipt.
- The QR code opens the portal.

Issue:
- A traceback error appears when opening the page.

Cause:
- A problem in the `account_peppol` module was causing it to search for an element on the page that wasn’t available.

Fix:
- Included a condition such that If the element isn’t found, it skips the step and assigns a null value to the variable, resolving the error.

Task: 4438885

Forward-Port-Of: odoo/odoo#192701",fw-bot,2025-01-10 15:03:19+00:00,[],2025-01-27 07:43:17+00:00,2025-01-13 07:18:29+00:00,https://github.com/odoo/odoo/pull/193265,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582910517, 'issue_id': 2780391691, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193265.png)](https://mergebot.odoo.com/odoo/odoo/pull/193265)', 'created_at': datetime.datetime(2025, 1, 10, 15, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582910533, 'issue_id': 2780391691, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 3, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:03:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193265.png)](https://mergebot.odoo.com/odoo/odoo/pull/193265)

fw-bot (Issue Creator) on (2025-01-10 15:03:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780391146,pull_request,closed,,[FW][FIX] pos_sale: prevent double consumption repair,"When creating a repair order, and paying it with a POS order, the product from the repair order would be consumed twice, once when creating the repair order, and once when validating the POS order. So we end up with 2 stock moves for the same product.

Steps to reproduce:
-------------------
* Create a repair order for any product
* Add product A to the part list
* Start and end the repair (at this point one stock move is created)
* Create a quotation for the repair order
* Open PoS and settle the quotation
* Validate the PoS order, and check the stock moves for the product A
> Observation: You can see one more stock move for the product A
coming from the PoS order

Why the fix:
------------
We make a similar fix as this one https://github.com/odoo/odoo/pull/186812 to prevent the creation of stock moves when the product is coming from a repair order.

opw-4351266

Forward-Port-Of: odoo/odoo#192753",fw-bot,2025-01-10 15:03:03+00:00,[],2025-01-27 15:44:45+00:00,2025-01-13 15:13:48+00:00,https://github.com/odoo/odoo/pull/193264,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582909998, 'issue_id': 2780391146, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193264.png)](https://mergebot.odoo.com/odoo/odoo/pull/193264)', 'created_at': datetime.datetime(2025, 1, 10, 15, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582910014, 'issue_id': 2780391146, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 3, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:03:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193264.png)](https://mergebot.odoo.com/odoo/odoo/pull/193264)

fw-bot (Issue Creator) on (2025-01-10 15:03:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780390626,pull_request,closed,,[FW] Nilvera integration for Turkish EDI,"Three commits are included in this PR.
- One adds a base module for all Nilvera modules
- One adds a module to handle sending and receiving E-Invoices and E-Archives to and from Nilvera.
- One adds general improvements to UBL.

task-3952234

Forward-Port-Of: odoo/odoo#192196
Forward-Port-Of: odoo/odoo#180283",fw-bot,2025-01-10 15:02:47+00:00,[],2025-01-25 05:41:11+00:00,2025-01-11 05:17:44+00:00,https://github.com/odoo/odoo/pull/193263,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582909881, 'issue_id': 2780390626, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193263.png)](https://mergebot.odoo.com/odoo/odoo/pull/193263)', 'created_at': datetime.datetime(2025, 1, 10, 15, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582909899, 'issue_id': 2780390626, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 15, 3, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 15:03:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193263.png)](https://mergebot.odoo.com/odoo/odoo/pull/193263)

fw-bot (Issue Creator) on (2025-01-10 15:03:01 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780380215,pull_request,closed,,[FW][FIX] point_of_sale: keep product serial number in refund order,"Previously, when refunding a product with a serial number, the serial number was not being properly set in the refund order. This caused issues in inventory management as the POS transfer was not automatically validated.

After this commit, the serial number of the refunded product is correctly assigned in the refund order and the POS transfer is automatically validated.

opw-4387411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192497
Forward-Port-Of: odoo/odoo#191147",fw-bot,2025-01-10 14:57:34+00:00,[],2025-01-27 10:18:05+00:00,2025-01-13 10:17:27+00:00,https://github.com/odoo/odoo/pull/193262,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582898390, 'issue_id': 2780380215, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193262.png)](https://mergebot.odoo.com/odoo/odoo/pull/193262)', 'created_at': datetime.datetime(2025, 1, 10, 14, 57, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582898421, 'issue_id': 2780380215, 'author': 'fw-bot', 'body': '@stva-odoo @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193246\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 14, 57, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000504, 'issue_id': 2780380215, 'author': 'fw-bot', 'body': '@stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541894, 'issue_id': 2780380215, 'author': 'fw-bot', 'body': '@stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047209, 'issue_id': 2780380215, 'author': 'fw-bot', 'body': '@stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586370635, 'issue_id': 2780380215, 'author': 'stva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 26, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:57:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193262.png)](https://mergebot.odoo.com/odoo/odoo/pull/193262)

fw-bot (Issue Creator) on (2025-01-10 14:57:36 UTC): @stva-odoo @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193246

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-11 02:01:33 UTC): @stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:59 UTC): @stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:31 UTC): @stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).

stva-odoo on (2025-01-13 07:26:14 UTC): @robodoo r+

"
2780379709,pull_request,closed,,[FW][FIX] website_hr_recruitment: website_hr_recruitment_tour_edit_form tour,"In this commit, we prefer to use selector in trigger instead of use native in run function. This is better to ensure trigger is in DOM when the run is activated. The findTrigger method in tour engine is based on MutationObserver while run function in a step definition is launched once the trigger has been found.
This is why it can cause the following error during the tour.

runbot-error-id~106439

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193183",fw-bot,2025-01-10 14:57:19+00:00,[],2025-01-27 10:18:05+00:00,2025-01-13 10:17:22+00:00,https://github.com/odoo/odoo/pull/193261,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582897886, 'issue_id': 2780379709, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193261.png)](https://mergebot.odoo.com/odoo/odoo/pull/193261)', 'created_at': datetime.datetime(2025, 1, 10, 14, 57, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582897906, 'issue_id': 2780379709, 'author': 'fw-bot', 'body': '@pipu-odoo @BastienFafchamps this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193247\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 14, 57, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586364102, 'issue_id': 2780379709, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 20, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:57:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193261.png)](https://mergebot.odoo.com/odoo/odoo/pull/193261)

fw-bot (Issue Creator) on (2025-01-10 14:57:21 UTC): @pipu-odoo @BastienFafchamps this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193247

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-13 07:20:57 UTC): @robodoo r+

"
2780374857,pull_request,closed,,[IMP] im_livechat: enable translations in live chat,"With this commit message translation will be available in livechat channels for internal users.

task-4457025

https://github.com/odoo/enterprise/pull/76936",alexkuhn,2025-01-10 14:54:56+00:00,[],2025-01-19 20:32:39+00:00,2025-01-19 20:25:57+00:00,https://github.com/odoo/odoo/pull/193260,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582893332, 'issue_id': 2780374857, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193260.png)](https://mergebot.odoo.com/odoo/odoo/pull/193260)', 'created_at': datetime.datetime(2025, 1, 10, 14, 54, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2600940823, 'issue_id': 2780374857, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 19, 16, 54, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:54:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193260.png)](https://mergebot.odoo.com/odoo/odoo/pull/193260)

alexkuhn (Issue Creator) on (2025-01-19 16:54:04 UTC): @robodoo r+

"
2780373458,pull_request,open,,[IMP] project: Link SOLs to project's associated SOs,"[IMP] project: Link SOLs to project's associated SOs
Before this commit:
1- create a billable project and do not set an SO/SOL on the project form view
2- link the project to an SO by setting the project field
3- go to dashboard > SOL stat button > create a new SOL
-> a new SO is created

After this commit:
in the absence of an SO on the project, the SOL is added to the SO with the highest
date_order to which the project is linked

task-4462052",RaoufGhrissi,2025-01-10 14:54:15+00:00,[],2025-02-05 11:52:35+00:00,,https://github.com/odoo/odoo/pull/193259,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582891967, 'issue_id': 2780373458, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193259.png)](https://mergebot.odoo.com/odoo/odoo/pull/193259)', 'created_at': datetime.datetime(2025, 1, 10, 14, 54, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:54:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193259.png)](https://mergebot.odoo.com/odoo/odoo/pull/193259)

"
2780368235,pull_request,closed,,[FW][FIX] base: append suffix to duplicated server action name,"Before this commit:
When a user duplicates a server action, the new action retains the exact same name as the original.

After this commit:
Duplicated server actions are assigned a name with the suffix ""(copy)"" to differentiate them from the original action.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190383",fw-bot,2025-01-10 14:51:38+00:00,['elct-odoo'],2025-01-25 08:46:24+00:00,2025-01-11 06:15:39+00:00,https://github.com/odoo/odoo/pull/193258,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582886894, 'issue_id': 2780368235, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193258.png)](https://mergebot.odoo.com/odoo/odoo/pull/193258)', 'created_at': datetime.datetime(2025, 1, 10, 14, 51, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582886918, 'issue_id': 2780368235, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 14, 51, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583094432, 'issue_id': 2780368235, 'author': 'fw-bot', 'body': '@elct-odoo @rco-odoo the next pull request (odoo/odoo#193278) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 16, 7, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583623978, 'issue_id': 2780368235, 'author': 'elct-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 19, 2, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:51:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193258.png)](https://mergebot.odoo.com/odoo/odoo/pull/193258)

fw-bot (Issue Creator) on (2025-01-10 14:51:40 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 16:07:50 UTC): @elct-odoo @rco-odoo the next pull request (odoo/odoo#193278) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

elct-odoo (Assginee) on (2025-01-10 19:02:31 UTC): robodoo r+

"
2780313917,pull_request,closed,,[FIX] mail: correctly handle iOS push notifications,"iOS push notifications do not work on Safari: they only work in apps. The notifications are managed by the apps, whether with native mobile app or PWA.

With PWA, it should normally rely on `Notification.permission`, but somehow it doesn't work and always has value ""default"". Its showing has been limited to the PWA, but it keeps showing a persistent notification. Clicking on it the 1st time displays a prompt to either accept or deny the permissions. Afterwards, further clicks on the ""odoobot has a request"" automatically display ""granted"" or ""denied"" based on user initial choice.

iOS push permissions seem to necessarily rely on
`serviceWorker.getRegistration().pushManager`, which works only on HTTPS, hence why iOS push notifications do not work on HTTP. Also actual push permission state are correct there whereas on Notification.permission they are wrong.

This commit fixes the issue by computing the push notification permisssion state correctly on iOS, using
`serviceWorker.getRegistration().pushManager`.

opw-4391766

Backport of
https://github.com/odoo/odoo/pull/178057
https://github.com/odoo/odoo/pull/187038
https://github.com/odoo/odoo/pull/188258",alexkuhn,2025-01-10 14:25:33+00:00,[],2025-01-13 14:07:14+00:00,2025-01-13 13:29:52+00:00,https://github.com/odoo/odoo/pull/193257,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582831303, 'issue_id': 2780313917, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193257.png)](https://mergebot.odoo.com/odoo/odoo/pull/193257)', 'created_at': datetime.datetime(2025, 1, 10, 14, 25, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586676083, 'issue_id': 2780313917, 'author': 'zel-odoo', 'body': 'working with iOS', 'created_at': datetime.datetime(2025, 1, 13, 10, 5, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586686160, 'issue_id': 2780313917, 'author': 'zel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 9, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:25:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193257.png)](https://mergebot.odoo.com/odoo/odoo/pull/193257)

zel-odoo on (2025-01-13 10:05:23 UTC): working with iOS

zel-odoo on (2025-01-13 10:09:10 UTC): @robodoo r+

"
2780309715,pull_request,closed,,[FIX] core: fix inverse x2many field in create(),"### To reproduce:
- Model A has an inverse X2many stored field pointing to model B.
- Calling `A.create({'X2many': [Command.create({...})]})` returns `A(1)`.
- `A(1).X2many` returns `B(1, <NewId NoOrigin>)`. This breaks one of the implicit invariants of the ORM, we shouldn't have a mix of real and New ids in the same recordset. Also, it may break some computation done on this X2many later in the same request, since `A(1).X2many` contains two records instead of one.

This happens because `create()` calls `_update_cache()` with X2many values, but the value of that X2many is already in the cache with the record created from the command values. This causes the X2many values to be duplicated with the new record version of the command values.

### Real Issue in the standard code

In the case of the 'sale.commission.plan' model and due to the inversed `target_commission_ids` field, it breaks the duplicate feature (`copy()` method):
```
Traceback (most recent call last):
  File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 1960, in _transactioning
    return service_model.retrying(func, env=self.env)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/service/model.py"", line 138, in retrying
    result = func()
             ^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 1927, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 2174, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
    result = endpoint(**request.params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 729, in route_wrapper
    result = endpoint(self, *args, **params_ok)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/addons/web/controllers/dataset.py"", line 35, in call_kw
    return call_kw(request.env[model], method, args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 517, in call_kw
    result = getattr(recs, name)(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5921, in copy
    old_record.copy_translations(new_record, excluded=default or ())
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5874, in copy_translations
    new_lines = new[name].sorted(key='id')
                ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 6690, in sorted
    ids = tuple(item.id for item in sorted(self, key=key, reverse=reverse))
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NewId' and 'int'
```
Explanation of the traceback:
A `copy()` calls `create()` on 'sale.commission.plan', which returns a `commission` record that should contain the same `target_commission_ids` values. Instead of that, `commission.target_commission_ids` (after the create and before `copy_translations`) returns twice as many records and with a mix of New and real ids, causing `copy_translations()` to crash when sorting by id.

### Fix

To avoid this issue, we don't call `_update_cache()` for the stored fields because we are sure that the cache has already been set in `_create()` and not invalidated by `modified()`.",ryv-odoo,2025-01-10 14:23:26+00:00,[],2025-01-30 05:46:45+00:00,2025-01-16 05:03:10+00:00,https://github.com/odoo/odoo/pull/193256,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582826921, 'issue_id': 2780309715, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193256.png)](https://mergebot.odoo.com/odoo/odoo/pull/193256)', 'created_at': datetime.datetime(2025, 1, 10, 14, 23, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589445507, 'issue_id': 2780309715, 'author': 'ryv-odoo', 'body': ""Hi @rco-odoo ,\r\nI updated the commit message to make it more understandable (I hope :smile: ). Let's talk about it face to face tomorrow."", 'created_at': datetime.datetime(2025, 1, 14, 9, 40, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592611627, 'issue_id': 2780309715, 'author': 'rco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 12, 9, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592827977, 'issue_id': 2780309715, 'author': 'ryv-odoo', 'body': '@robodoo r-\r\nTypo: False should be True.', 'created_at': datetime.datetime(2025, 1, 15, 13, 13, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592946680, 'issue_id': 2780309715, 'author': 'rco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 14, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:23:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193256.png)](https://mergebot.odoo.com/odoo/odoo/pull/193256)

ryv-odoo (Issue Creator) on (2025-01-14 09:40:07 UTC): Hi @rco-odoo ,
I updated the commit message to make it more understandable (I hope :smile: ). Let's talk about it face to face tomorrow.

rco-odoo on (2025-01-15 12:09:39 UTC): @robodoo r+

ryv-odoo (Issue Creator) on (2025-01-15 13:13:57 UTC): @robodoo r-
Typo: False should be True.

rco-odoo on (2025-01-15 14:06:00 UTC): @robodoo r+

"
2780296118,pull_request,closed,,[FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-10 14:16:27+00:00,[],2025-01-31 15:00:55+00:00,2025-01-31 15:00:55+00:00,https://github.com/odoo/odoo/pull/193255,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582812988, 'issue_id': 2780296118, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193255.png)](https://mergebot.odoo.com/odoo/odoo/pull/193255)', 'created_at': datetime.datetime(2025, 1, 10, 14, 16, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627328028, 'issue_id': 2780296118, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 13, 21, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:16:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193255.png)](https://mergebot.odoo.com/odoo/odoo/pull/193255)

dmo-odoo on (2025-01-31 13:21:14 UTC): @robodoo r+

"
2780269909,pull_request,closed,,[FW][REV] website_sale: pricelist previously removed override,"Partial Revert of 2f7bc1e606809b9a65d357c08fea26b364d81941 The fix applied in 17.0 when forward porting it reintroduced a function that was previously removed.

[Mentioned diff](https://github.com/odoo/odoo/commit/b25e8e2cfefcf2af9af7a7cbe04110ac35f81f3d#diff-60accb44cf04ef4bd2a178a0dfefeb9facdf3724caf4ba080ffa63d8b08c807eR35:~:text=%2B-,def%20_get_pricelist_price_before_discount(self)%3A,-36)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193176",fw-bot,2025-01-10 14:06:19+00:00,[],2025-01-24 21:34:40+00:00,2025-01-10 20:39:59+00:00,https://github.com/odoo/odoo/pull/193254,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582786818, 'issue_id': 2780269909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193254.png)](https://mergebot.odoo.com/odoo/odoo/pull/193254)', 'created_at': datetime.datetime(2025, 1, 10, 14, 6, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582786830, 'issue_id': 2780269909, 'author': 'fw-bot', 'body': '@livaios this PR targets 18.0 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 14, 6, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582793388, 'issue_id': 2780269909, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 14, 9, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:06:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193254.png)](https://mergebot.odoo.com/odoo/odoo/pull/193254)

fw-bot (Issue Creator) on (2025-01-10 14:06:21 UTC): @livaios this PR targets 18.0 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

livaios on (2025-01-10 14:09:15 UTC): @robodoo r+

"
2780265287,pull_request,closed,,[WIP] testing fix for incorrect progress in portal view,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",chrisduvivier,2025-01-10 14:04:09+00:00,[],2025-01-23 14:39:23+00:00,2025-01-23 14:38:53+00:00,https://github.com/odoo/odoo/pull/193253,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582782456, 'issue_id': 2780265287, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193253.png)](https://mergebot.odoo.com/odoo/odoo/pull/193253)', 'created_at': datetime.datetime(2025, 1, 10, 14, 4, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 14:04:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193253.png)](https://mergebot.odoo.com/odoo/odoo/pull/193253)

"
2780253798,pull_request,open,,[FIX] html_editor: handle toggling background color for tabs,"**Problem**:
Background color handling for tabs is inconsistent and incorrect in various scenarios:
- Adding a tab at the start of a paragraph with background color applies the background to the tab, which is incorrect.
- Adding a tab inside or at the end of text with a background color and selecting the tab does not reflect the background color in the toolbar (the color button state is off).
- Removing the background color from a tab does not work as the tab is not recognized as having a background.

**Solution**:
Improve color application and checks to handle tabs correctly, ensuring consistent behavior for adding, recognizing, and removing background colors.

**Steps to Reproduce**:
1. Add text with a background color.
2. Insert a tab at the start of the text.
   - The tab incorrectly inherits the background color.
3. Insert a tab at the end of the text.
4. Select the tab to remove the background color.
   - The background color button in the toolbar remains off (as if no background color exists).
5. Attempt to remove the background color.
   - Nothing happens.

opw-4381135

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-10 13:58:26+00:00,[],2025-02-07 15:52:26+00:00,,https://github.com/odoo/odoo/pull/193252,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582771339, 'issue_id': 2780253798, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193252.png)](https://mergebot.odoo.com/odoo/odoo/pull/193252)', 'created_at': datetime.datetime(2025, 1, 10, 13, 58, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:58:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193252.png)](https://mergebot.odoo.com/odoo/odoo/pull/193252)

"
2780243684,pull_request,closed,,[FW][FIX] stock: prevent crash in mobile stock move line view,"Steps to reproduce
==================

- Use a mobile viewport
- Go to Inventory > Delivery Orders
- Open any record
- Click on a product
- Click on add

=> TypeError: ml.data.quant_id is undefined

Cause of the issue
==================

On mobile, the quant_id field is not present in the view

opw-4288556

Forward-Port-Of: odoo/odoo#192732",fw-bot,2025-01-10 13:53:27+00:00,[],2025-01-27 17:28:38+00:00,2025-01-13 17:11:48+00:00,https://github.com/odoo/odoo/pull/193251,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582761663, 'issue_id': 2780243684, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193251.png)](https://mergebot.odoo.com/odoo/odoo/pull/193251)', 'created_at': datetime.datetime(2025, 1, 10, 13, 53, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582761692, 'issue_id': 2780243684, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 53, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582832279, 'issue_id': 2780243684, 'author': 'fw-bot', 'body': '@hubvd @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 10, 14, 26, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587386630, 'issue_id': 2780243684, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 14, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:53:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193251.png)](https://mergebot.odoo.com/odoo/odoo/pull/193251)

fw-bot (Issue Creator) on (2025-01-10 13:53:28 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 14:26:05 UTC): @hubvd @Whenrow ci/runbot failed on this forward-port PR

hubvd on (2025-01-13 15:14:38 UTC): @robodoo r+

"
2780222528,pull_request,closed,,[FW][FIX] crm: display the missing line in crm helper,"**Specifications:**
When the domain is specified, helper in crm helper should display an extra line, which explains that any email sent to alias@domain will create a lead.

**Technical reason:**
A code was added in `crm.lead` which checks for the company, but in data file company was already specified as `False`. Hence, the missing line.

**After this PR:**
If the custom email domain is set, crm helper will display an extra line.

Task-4377574

Forward-Port-Of: odoo/odoo#190936",fw-bot,2025-01-10 13:42:52+00:00,[],2025-01-25 02:44:11+00:00,2025-01-11 02:22:01+00:00,https://github.com/odoo/odoo/pull/193250,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582741841, 'issue_id': 2780222528, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193250.png)](https://mergebot.odoo.com/odoo/odoo/pull/193250)', 'created_at': datetime.datetime(2025, 1, 10, 13, 42, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582741858, 'issue_id': 2780222528, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 42, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:42:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193250.png)](https://mergebot.odoo.com/odoo/odoo/pull/193250)

fw-bot (Issue Creator) on (2025-01-10 13:42:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780217402,pull_request,closed,,[FW][FIX] data_recycle: Fix notify_frequency_period field style,"**Steps to Reproduce:**
- Install data_recycle module.
- Navigate to Configuration → Rules and create any rule for the data_recycle.

**Issue:**
- The selected option for the notify_frequency_period field is not displayed correctly due to a fixed width class (w-25) assigned to its parent div element.

![image](https://github.com/user-attachments/assets/1656d3f1-d248-45d7-92e3-3722b7679fa5)

**Solution:**
- Updated the width class from w-25 to w-50 to ensure proper display of the selected option.

![image](https://github.com/user-attachments/assets/49d43886-1a32-4256-80a1-f3d3aa69de42)

opw-4414071

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192851
Forward-Port-Of: odoo/odoo#191639",fw-bot,2025-01-10 13:40:11+00:00,[],2025-01-27 08:57:42+00:00,2025-01-13 08:46:41+00:00,https://github.com/odoo/odoo/pull/193249,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582736964, 'issue_id': 2780217402, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193249.png)](https://mergebot.odoo.com/odoo/odoo/pull/193249)', 'created_at': datetime.datetime(2025, 1, 10, 13, 40, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582737006, 'issue_id': 2780217402, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 40, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:40:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193249.png)](https://mergebot.odoo.com/odoo/odoo/pull/193249)

fw-bot (Issue Creator) on (2025-01-10 13:40:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780211290,pull_request,closed,,[FW][FIX] stock_picking_batch: forbid picking free sml wave transfer,"### Steps to reproduce:
- In the settings enable: 1) Multi-Steps Routes 2) ""Batch, Wave and cluster Transfers""
- Inventory > Operations > Jobs > Wave transfer
- Click on ""Prepare Wave"".
> A read group of the stock.move.line model is performed for you to compose your wave transfer.

### Issue:

Move lines without picking are also displayed. Hence if selected raise a traceback during the `_add_to_wave` call.

### Note:

The `action_prepare_wave` and `action_prepare_wave_for_picking_type` actions performing the read groups were added to the 18.0 versions by commit 71eeeae5c7212a709c0b18181d195975b5ca6a99 so that there is no issue prior to that version.

opw-4464695
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193100",fw-bot,2025-01-10 13:37:02+00:00,[],2025-01-31 19:34:26+00:00,2025-01-17 19:23:18+00:00,https://github.com/odoo/odoo/pull/193248,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582731354, 'issue_id': 2780211290, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193248.png)](https://mergebot.odoo.com/odoo/odoo/pull/193248)', 'created_at': datetime.datetime(2025, 1, 10, 13, 37, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582731371, 'issue_id': 2780211290, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 37, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:37:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193248.png)](https://mergebot.odoo.com/odoo/odoo/pull/193248)

fw-bot (Issue Creator) on (2025-01-10 13:37:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780210747,pull_request,closed,,[FW][FIX] website_hr_recruitment: website_hr_recruitment_tour_edit_form tour,"In this commit, we prefer to use selector in trigger instead of use native in run function. This is better to ensure trigger is in DOM when the run is activated. The findTrigger method in tour engine is based on MutationObserver while run function in a step definition is launched once the trigger has been found.
This is why it can cause the following error during the tour.

runbot-error-id~106439

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193183",fw-bot,2025-01-10 13:36:46+00:00,[],2025-01-27 10:26:56+00:00,2025-01-13 10:21:54+00:00,https://github.com/odoo/odoo/pull/193247,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582730848, 'issue_id': 2780210747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193247.png)](https://mergebot.odoo.com/odoo/odoo/pull/193247)', 'created_at': datetime.datetime(2025, 1, 10, 13, 36, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582730859, 'issue_id': 2780210747, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 36, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586364858, 'issue_id': 2780210747, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 21, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586364893, 'issue_id': 2780210747, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 13, 7, 21, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:36:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193247.png)](https://mergebot.odoo.com/odoo/odoo/pull/193247)

fw-bot (Issue Creator) on (2025-01-10 13:36:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-13 07:21:34 UTC): @robodoo r+

robodoo on (2025-01-13 07:21:35 UTC): This PR is already reviewed, reviewing it again is useless.

"
2780209397,pull_request,closed,,[FW][FIX] point_of_sale: keep product serial number in refund order,"Previously, when refunding a product with a serial number, the serial number was not being properly set in the refund order. This caused issues in inventory management as the POS transfer was not automatically validated.

After this commit, the serial number of the refunded product is correctly assigned in the refund order and the POS transfer is automatically validated.

opw-4387411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192497
Forward-Port-Of: odoo/odoo#191147",fw-bot,2025-01-10 13:36:07+00:00,[],2025-01-27 10:26:57+00:00,2025-01-13 10:21:58+00:00,https://github.com/odoo/odoo/pull/193246,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582730356, 'issue_id': 2780209397, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193246.png)](https://mergebot.odoo.com/odoo/odoo/pull/193246)', 'created_at': datetime.datetime(2025, 1, 10, 13, 36, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582730383, 'issue_id': 2780209397, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 36, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:36:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193246.png)](https://mergebot.odoo.com/odoo/odoo/pull/193246)

fw-bot (Issue Creator) on (2025-01-10 13:36:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780209179,pull_request,closed,,"[IMP] mail, im_livechat: store chat window state in browser","We currently have very complex code to handle sync of chat window with the server. This allows from syncing them cross tab, cross device, and cross session (log in/log out).

It feels the only real use case is cross-tab, so we should simplify the code by storing it only locally on each browser.

Added benefit: chat windows are now sync in their correct order. Non-channel threads are also sync.

Technical change: /mail/data now includes thread/data and channel/info to batch calls. The API is adapted to be more batch friendly.
As open chat windows are no longer returned by the server, they need to be requested at init by the client (from local storage data) together with the rest of the server init data.

task-3707836

https://github.com/odoo/enterprise/pull/77022
https://github.com/odoo/upgrade/pull/7056",seb-odoo,2025-01-10 13:36:00+00:00,['seb-odoo'],2025-01-21 21:55:04+00:00,2025-01-21 20:37:33+00:00,https://github.com/odoo/odoo/pull/193245,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter'), ('18.2', None)]","[{'comment_id': 2582730296, 'issue_id': 2780209179, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193245.png)](https://mergebot.odoo.com/odoo/odoo/pull/193245)', 'created_at': datetime.datetime(2025, 1, 10, 13, 36, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598480218, 'issue_id': 2780209179, 'author': 'robodoo', 'body': '@seb-odoo @alexkuhn linked pull request(s) odoo/enterprise#77022, odoo/upgrade#7056 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 17, 14, 23, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598674373, 'issue_id': 2780209179, 'author': 'robodoo', 'body': '@seb-odoo @alexkuhn linked pull request(s) odoo/upgrade#7056 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 17, 16, 0, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601898569, 'issue_id': 2780209179, 'author': 'seb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 9, 40, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603315202, 'issue_id': 2780209179, 'author': 'robodoo', 'body': '@seb-odoo unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 20, 22, 36, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604980962, 'issue_id': 2780209179, 'author': 'seb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 15, 4, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:36:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193245.png)](https://mergebot.odoo.com/odoo/odoo/pull/193245)

robodoo on (2025-01-17 14:23:43 UTC): @seb-odoo @alexkuhn linked pull request(s) odoo/enterprise#77022, odoo/upgrade#7056 not ready. Linked PRs are not staged until all of them are ready.

robodoo on (2025-01-17 16:00:04 UTC): @seb-odoo @alexkuhn linked pull request(s) odoo/upgrade#7056 not ready. Linked PRs are not staged until all of them are ready.

seb-odoo (Issue Creator) on (2025-01-20 09:40:02 UTC): @robodoo r+

robodoo on (2025-01-20 22:36:18 UTC): @seb-odoo unable to stage: merge conflict

seb-odoo (Issue Creator) on (2025-01-21 15:04:01 UTC): @robodoo r+

"
2780201100,pull_request,closed,,[FW][FIX] discuss: prevent use of outdated sfu channel,"Before this commit, if a discuss channel was provided a new sfu channel, users that were already in a call on that old sfu channel would stay there instead of moving to the new one.

This commit also adds an icon if a rtc session is missing an expected `audioStream` so that it becomes easier to notice if a partial connectivity issue arises.

Forward-Port-Of: odoo/odoo#193111",fw-bot,2025-01-10 13:31:53+00:00,[],2025-01-10 19:11:49+00:00,2025-01-10 19:07:29+00:00,https://github.com/odoo/odoo/pull/193244,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582721445, 'issue_id': 2780201100, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193244.png)](https://mergebot.odoo.com/odoo/odoo/pull/193244)', 'created_at': datetime.datetime(2025, 1, 10, 13, 31, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582721479, 'issue_id': 2780201100, 'author': 'fw-bot', 'body': '@thanhdodeurodoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193219\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 31, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582739520, 'issue_id': 2780201100, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 41, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:31:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193244.png)](https://mergebot.odoo.com/odoo/odoo/pull/193244)

fw-bot (Issue Creator) on (2025-01-10 13:31:55 UTC): @thanhdodeurodoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193219

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-10 13:41:37 UTC): @robodoo r+

"
2780200639,pull_request,closed,,[FW][FIX] base: append suffix to duplicated server action name,"Before this commit:
When a user duplicates a server action, the new action retains the exact same name as the original.

After this commit:
Duplicated server actions are assigned a name with the suffix ""(copy)"" to differentiate them from the original action.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190383",fw-bot,2025-01-10 13:31:38+00:00,['elct-odoo'],2025-01-24 16:48:53+00:00,2025-01-10 16:46:01+00:00,https://github.com/odoo/odoo/pull/193243,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582720690, 'issue_id': 2780200639, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193243.png)](https://mergebot.odoo.com/odoo/odoo/pull/193243)', 'created_at': datetime.datetime(2025, 1, 10, 13, 31, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582720715, 'issue_id': 2780200639, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 31, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582943992, 'issue_id': 2780200639, 'author': 'rco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 19, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:31:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193243.png)](https://mergebot.odoo.com/odoo/odoo/pull/193243)

fw-bot (Issue Creator) on (2025-01-10 13:31:40 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rco-odoo on (2025-01-10 15:19:35 UTC): @robodoo r+

"
2780198919,pull_request,closed,,[FW][FIX] stock_account: branch accounts configuration ignored,"User of a branch company may change accounts configuration product categories,
but currently this settings is ignored, as accounts are fetched from the main
company instead

Steps to reproduce:
- Create a branch company
- Open a product category [CATEG] (i.e. Office Furniture) and set
  - 'Inventory valuation': 'Automated'
  - 'Stock Input Account': [Account]
- Assign product category [CATEG] to a product [PROD]
- Create a Vendor bill with [PROD] and Save
- Check Journal items tab

Issue: Product line account is not [Account] but it is taken from the
main company settings
This occurs due to a fix [1] done to have `stock_account` in sync with the
base method in `account`. However, the forced company in base method was changed
in a refactor [2]

[1] https://github.com/odoo/odoo/commit/0b07210fe1f1c451eb648deff74c3ab37c8c09bd
[2] https://github.com/odoo/odoo/commit/d8d47f9ff8554f4b39487fd2f13c153c7d6f958d

opw-4297203

Forward-Port-Of: odoo/odoo#193087
Forward-Port-Of: odoo/odoo#191349",fw-bot,2025-01-10 13:30:52+00:00,[],2025-01-24 21:34:28+00:00,2025-01-10 20:30:13+00:00,https://github.com/odoo/odoo/pull/193242,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582719054, 'issue_id': 2780198919, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193242.png)](https://mergebot.odoo.com/odoo/odoo/pull/193242)', 'created_at': datetime.datetime(2025, 1, 10, 13, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582719074, 'issue_id': 2780198919, 'author': 'fw-bot', 'body': '@agr-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193221\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 30, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582812827, 'issue_id': 2780198919, 'author': 'oco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 14, 16, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:30:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193242.png)](https://mergebot.odoo.com/odoo/odoo/pull/193242)

fw-bot (Issue Creator) on (2025-01-10 13:30:54 UTC): @agr-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193221

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

oco-odoo on (2025-01-10 14:16:25 UTC): @robodoo r+

"
2780196178,pull_request,closed,,[FW][IMP] bus add delay before showing the disconnected alert,"Before this PR, the ""real-time connection lost"" alert was displayed right after the disconnection was detected.
This PR adds a 15s delay to avoid spamming the alert on unstable connexion.

Task-4453176

Forward-Port-Of: odoo/odoo#193160
Forward-Port-Of: odoo/odoo#192705",fw-bot,2025-01-10 13:29:27+00:00,[],2025-01-12 21:30:11+00:00,2025-01-10 20:31:03+00:00,https://github.com/odoo/odoo/pull/193241,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2582716553, 'issue_id': 2780196178, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193241.png)](https://mergebot.odoo.com/odoo/odoo/pull/193241)', 'created_at': datetime.datetime(2025, 1, 10, 13, 29, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582716578, 'issue_id': 2780196178, 'author': 'fw-bot', 'body': '@phenix-factory @alexkuhn cherrypicking of pull request odoo/odoo#192705 failed.\n\n* feddf14e6e74fa54e197e9ea677f5a61f34e23b4\n* 062054d2a455e643cfebcefb9a90ade88d61e130 <- on this commit\n\nstdout:\n```\nAuto-merging addons/bus/static/src/components/bus_connection_alert.js\nCONFLICT (content): Merge conflict in addons/bus/static/src/components/bus_connection_alert.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 29, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583088994, 'issue_id': 2780196178, 'author': 'alexkuhn', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 10, 16, 6, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583089110, 'issue_id': 2780196178, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 10, 16, 6, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:29:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193241.png)](https://mergebot.odoo.com/odoo/odoo/pull/193241)

fw-bot (Issue Creator) on (2025-01-10 13:29:28 UTC): @phenix-factory @alexkuhn cherrypicking of pull request odoo/odoo#192705 failed.

* feddf14e6e74fa54e197e9ea677f5a61f34e23b4
* 062054d2a455e643cfebcefb9a90ade88d61e130 <- on this commit

stdout:
```
Auto-merging addons/bus/static/src/components/bus_connection_alert.js
CONFLICT (content): Merge conflict in addons/bus/static/src/components/bus_connection_alert.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-10 16:06:44 UTC): @robodoo rebase-ff r+

robodoo on (2025-01-10 16:06:46 UTC): Merge method set to rebase and fast-forward.

"
2780187747,pull_request,closed,,[FW][FIX] account: fix account opening from CoA with archived branches,"**Steps to reproduce:**
- Install Accounting
- Create a branch
- Archive the branch
- Go to ""Accounting / Configuration / Accounting / Chart of Accounts""
- Click on the ""View"" button of any account

**Issue:**
An AccessError is raised:
""Access to unauthorized or invalid companies.""

**Cause:**
The ""account.code.mapping"" records are fetched for all the companies of the current user, even the archived ones.
{'active_test': False} is added in the context in the read method of the One2many class in fields.py

opw-4450588




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193094",fw-bot,2025-01-10 13:25:18+00:00,[],2025-01-24 19:16:57+00:00,2025-01-10 19:07:25+00:00,https://github.com/odoo/odoo/pull/193240,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582709109, 'issue_id': 2780187747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193240.png)](https://mergebot.odoo.com/odoo/odoo/pull/193240)', 'created_at': datetime.datetime(2025, 1, 10, 13, 25, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582709128, 'issue_id': 2780187747, 'author': 'fw-bot', 'body': '@kitan191 @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193218\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 25, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582711797, 'issue_id': 2780187747, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 26, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:25:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193240.png)](https://mergebot.odoo.com/odoo/odoo/pull/193240)

fw-bot (Issue Creator) on (2025-01-10 13:25:19 UTC): @kitan191 @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193218

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 13:26:49 UTC): @robodoo r+

"
2780186455,pull_request,closed,,[FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648",shsa-odoo,2025-01-10 13:24:37+00:00,[],2025-02-03 11:10:29+00:00,2025-02-03 11:10:29+00:00,https://github.com/odoo/odoo/pull/193239,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582707963, 'issue_id': 2780186455, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193239.png)](https://mergebot.odoo.com/odoo/odoo/pull/193239)', 'created_at': datetime.datetime(2025, 1, 10, 13, 24, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630469583, 'issue_id': 2780186455, 'author': 'bso-odoo', 'body': '@robodoo delegate=bvr-odoo', 'created_at': datetime.datetime(2025, 2, 3, 9, 56, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630491167, 'issue_id': 2780186455, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 5, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:24:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193239.png)](https://mergebot.odoo.com/odoo/odoo/pull/193239)

bso-odoo on (2025-02-03 09:56:58 UTC): @robodoo delegate=bvr-odoo

bvr-odoo on (2025-02-03 10:05:43 UTC): @robodoo r+

"
2780175555,pull_request,closed,,"[FIX] pos_hr, point_of_sale: fix error when re-entering payment screen","Before this commit:
- Enable the ""Log in with employees""
- Log in as any employee, add a product, and go to the payment screen
- Lock the session
- Enter the session again

This sequence of actions would result in an error in the console.

opw-4435559

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-10 13:19:04+00:00,[],2025-02-06 11:46:52+00:00,2025-01-23 11:40:46+00:00,https://github.com/odoo/odoo/pull/193238,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582698186, 'issue_id': 2780175555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193238.png)](https://mergebot.odoo.com/odoo/odoo/pull/193238)', 'created_at': datetime.datetime(2025, 1, 10, 13, 19, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582864621, 'issue_id': 2780175555, 'author': 'pedrambiria', 'body': ""@davidmonnom Yes, it's easier. However, I didn't want to add the logic related to the `paymentScreen` there. I was looking for a more general solution to implement inside the `showScreen`, something like validating props for the component.\r\n\r\nBut I think it's not a good idea to handle it as you suggested, because for every other required prop, we would have to do it inside `showScreen`. What do you think?"", 'created_at': datetime.datetime(2025, 1, 10, 14, 42, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583007504, 'issue_id': 2780175555, 'author': 'davidmonnom', 'body': '@caburj any advice ?', 'created_at': datetime.datetime(2025, 1, 10, 15, 47, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595371565, 'issue_id': 2780175555, 'author': 'caburj', 'body': '> isn\'t more easier to do directly:\r\n> \r\n> ```js\r\n>     showScreen(name, props) {\r\n>         if (name === ""PaymentScreen"" && !props.orderUuid) {\r\n>             name = ""ProductScreen"";\r\n>         }\r\n>         if (name === ""ProductScreen"") {\r\n>             this.get_order()?.deselect_orderline();\r\n>         }\r\n>         this.previousScreen = this.mainScreen.component?.name;\r\n>         const component = registry.category(""pos_screens"").get(name);\r\n>         this.mainScreen = { component, props };\r\n>         // Save the screen to the order so that it is shown again when the order is selected.\r\n>         if (component.storeOnOrder ?? true) {\r\n>             this.get_order()?.set_screen_data({ name, props });\r\n>         }\r\n>     }\r\n> ```\r\n> \r\n> it avoid to mount PaymentScreen for nothing.\r\n\r\nI agree with this solution. We should avoid mounting a component with incomplete props. One may also use the `selectedOrderUuid` as default value for the `orderUuid` props of the PaymentScreen.', 'created_at': datetime.datetime(2025, 1, 16, 12, 10, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:19:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193238.png)](https://mergebot.odoo.com/odoo/odoo/pull/193238)

pedrambiria (Issue Creator) on (2025-01-10 14:42:26 UTC): @davidmonnom Yes, it's easier. However, I didn't want to add the logic related to the `paymentScreen` there. I was looking for a more general solution to implement inside the `showScreen`, something like validating props for the component.

But I think it's not a good idea to handle it as you suggested, because for every other required prop, we would have to do it inside `showScreen`. What do you think?

davidmonnom on (2025-01-10 15:47:18 UTC): @caburj any advice ?

caburj on (2025-01-16 12:10:01 UTC): I agree with this solution. We should avoid mounting a component with incomplete props. One may also use the `selectedOrderUuid` as default value for the `orderUuid` props of the PaymentScreen.

"
2780167098,pull_request,closed,,[FIX] point_of_sale: remove restaurant function from point_of_sale,"A method declared in restaurant was used in point_of_sale module which is causing an error in runbot. This commit removes the function from point_of_sale module.

The behavior is kept via a pre-existing override.


",davidmonnom,2025-01-10 13:14:31+00:00,[],2025-01-25 05:41:10+00:00,2025-01-11 05:17:35+00:00,https://github.com/odoo/odoo/pull/193237,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582690208, 'issue_id': 2780167098, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193237.png)](https://mergebot.odoo.com/odoo/odoo/pull/193237)', 'created_at': datetime.datetime(2025, 1, 10, 13, 14, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582804304, 'issue_id': 2780167098, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 14, 13, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583035179, 'issue_id': 2780167098, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 54, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:14:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193237.png)](https://mergebot.odoo.com/odoo/odoo/pull/193237)

caburj on (2025-01-10 14:13:05 UTC): robodoo r+

caburj on (2025-01-10 15:54:41 UTC): robodoo r+

"
2780166138,pull_request,closed,,[FW][FIX] project: show subtasks in project if converted into tasks,"Steps to reproduce:
1. Create a task, and a subtask
3. Open the subtask
4. From the gear icon, click ""Convert to Task/Sub-Task""
5. Remove the parent task and click ""Convert Task""
6. Go to the project dashboard > the subtask is not shown.

Why?
The above reproducing steps lead to the subtask having the `display_in_project` stored as `False`, hence it's not visible on the dashboard page. This is because `_compute_project_id` interrupted the computation flow of `display_in_project` by a call to `remove_to_compute` [1].

Fix:
In the `write` method, explicitly set `display_in_project` to `True` if the parent_id has been removed.

[1]: https://github.com/odoo/odoo/blob/9dec8329523d4966243c6491e7e556e643af6cdf/addons/project/models/project_task.py#L337

opw-4384222

Forward-Port-Of: odoo/odoo#191530",fw-bot,2025-01-10 13:14:04+00:00,[],2025-01-25 04:06:53+00:00,2025-01-11 03:56:34+00:00,https://github.com/odoo/odoo/pull/193236,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582689198, 'issue_id': 2780166138, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193236.png)](https://mergebot.odoo.com/odoo/odoo/pull/193236)', 'created_at': datetime.datetime(2025, 1, 10, 13, 14, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582689260, 'issue_id': 2780166138, 'author': 'fw-bot', 'body': '@hadielyakhni @xavierbol cherrypicking of pull request odoo/odoo#191530 failed.\n\nstdout:\n```\nAuto-merging addons/project/models/project_task.py\nAuto-merging addons/project/tests/test_project_subtasks.py\nCONFLICT (content): Merge conflict in addons/project/tests/test_project_subtasks.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 14, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 13:14:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193236.png)](https://mergebot.odoo.com/odoo/odoo/pull/193236)

fw-bot (Issue Creator) on (2025-01-10 13:14:07 UTC): @hadielyakhni @xavierbol cherrypicking of pull request odoo/odoo#191530 failed.

stdout:
```
Auto-merging addons/project/models/project_task.py
Auto-merging addons/project/tests/test_project_subtasks.py
CONFLICT (content): Merge conflict in addons/project/tests/test_project_subtasks.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780119351,pull_request,closed,,[FW][IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193192",fw-bot,2025-01-10 12:50:43+00:00,[],2025-01-24 19:16:56+00:00,2025-01-10 19:07:14+00:00,https://github.com/odoo/odoo/pull/193235,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582641149, 'issue_id': 2780119351, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193235.png)](https://mergebot.odoo.com/odoo/odoo/pull/193235)', 'created_at': datetime.datetime(2025, 1, 10, 12, 50, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582641160, 'issue_id': 2780119351, 'author': 'fw-bot', 'body': '@rfr-odoo @ged-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193234\n* odoo/odoo#193233\n* odoo/odoo#193232\n* odoo/odoo#193231\n* odoo/odoo#193230\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 50, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582705343, 'issue_id': 2780119351, 'author': 'ged-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 23, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:50:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193235.png)](https://mergebot.odoo.com/odoo/odoo/pull/193235)

fw-bot (Issue Creator) on (2025-01-10 12:50:45 UTC): @rfr-odoo @ged-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193234
* odoo/odoo#193233
* odoo/odoo#193232
* odoo/odoo#193231
* odoo/odoo#193230

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ged-odoo on (2025-01-10 13:23:02 UTC): @robodoo r+

"
2780118825,pull_request,closed,,[FW][IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193192",fw-bot,2025-01-10 12:50:27+00:00,[],2025-01-25 00:08:43+00:00,2025-01-11 00:01:36+00:00,https://github.com/odoo/odoo/pull/193234,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582640658, 'issue_id': 2780118825, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193234.png)](https://mergebot.odoo.com/odoo/odoo/pull/193234)', 'created_at': datetime.datetime(2025, 1, 10, 12, 50, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582640679, 'issue_id': 2780118825, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 50, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:50:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193234.png)](https://mergebot.odoo.com/odoo/odoo/pull/193234)

fw-bot (Issue Creator) on (2025-01-10 12:50:29 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780118197,pull_request,closed,,[FW][IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193192",fw-bot,2025-01-10 12:50:12+00:00,[],2025-01-24 16:28:43+00:00,2025-01-10 16:26:01+00:00,https://github.com/odoo/odoo/pull/193233,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582639991, 'issue_id': 2780118197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193233.png)](https://mergebot.odoo.com/odoo/odoo/pull/193233)', 'created_at': datetime.datetime(2025, 1, 10, 12, 50, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582640014, 'issue_id': 2780118197, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 50, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:50:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193233.png)](https://mergebot.odoo.com/odoo/odoo/pull/193233)

fw-bot (Issue Creator) on (2025-01-10 12:50:14 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780117326,pull_request,closed,,[FW][IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193192",fw-bot,2025-01-10 12:49:54+00:00,[],2025-01-24 16:48:51+00:00,2025-01-10 16:45:47+00:00,https://github.com/odoo/odoo/pull/193232,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582639398, 'issue_id': 2780117326, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193232.png)](https://mergebot.odoo.com/odoo/odoo/pull/193232)', 'created_at': datetime.datetime(2025, 1, 10, 12, 49, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582639416, 'issue_id': 2780117326, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 49, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:49:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193232.png)](https://mergebot.odoo.com/odoo/odoo/pull/193232)

fw-bot (Issue Creator) on (2025-01-10 12:49:56 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780116798,pull_request,closed,,[FW][IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193192",fw-bot,2025-01-10 12:49:37+00:00,[],2025-01-24 16:28:36+00:00,2025-01-10 15:59:58+00:00,https://github.com/odoo/odoo/pull/193231,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582638871, 'issue_id': 2780116798, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193231.png)](https://mergebot.odoo.com/odoo/odoo/pull/193231)', 'created_at': datetime.datetime(2025, 1, 10, 12, 49, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582638891, 'issue_id': 2780116798, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 49, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:49:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193231.png)](https://mergebot.odoo.com/odoo/odoo/pull/193231)

fw-bot (Issue Creator) on (2025-01-10 12:49:39 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780116334,pull_request,closed,,[FW][IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193192",fw-bot,2025-01-10 12:49:22+00:00,[],2025-01-28 10:13:56+00:00,2025-01-14 10:13:01+00:00,https://github.com/odoo/odoo/pull/193230,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582638495, 'issue_id': 2780116334, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193230.png)](https://mergebot.odoo.com/odoo/odoo/pull/193230)', 'created_at': datetime.datetime(2025, 1, 10, 12, 49, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582638520, 'issue_id': 2780116334, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 49, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582773602, 'issue_id': 2780116334, 'author': 'robodoo', 'body': ""@rfr-odoo @ged-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 10, 13, 59, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618460, 'issue_id': 2780116334, 'author': 'fw-bot', 'body': '@rfr-odoo @ged-odoo this forward port of odoo/odoo#193192 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:49:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193230.png)](https://mergebot.odoo.com/odoo/odoo/pull/193230)

fw-bot (Issue Creator) on (2025-01-10 12:49:25 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-10 13:59:44 UTC): @rfr-odoo @ged-odoo 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-14 02:01:05 UTC): @rfr-odoo @ged-odoo this forward port of odoo/odoo#193192 is awaiting action (not merged or closed).

"
2780109975,pull_request,closed,,[FIX] core: disable typofixing when upgrade,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",HydrionBurst,2025-01-10 12:46:01+00:00,[],2025-01-15 09:48:09+00:00,2025-01-15 09:48:09+00:00,https://github.com/odoo/odoo/pull/193229,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582632489, 'issue_id': 2780109975, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193229.png)](https://mergebot.odoo.com/odoo/odoo/pull/193229)', 'created_at': datetime.datetime(2025, 1, 10, 12, 46, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592058101, 'issue_id': 2780109975, 'author': 'KangOl', 'body': 'Can the commit message explain *why* you made those changes?', 'created_at': datetime.datetime(2025, 1, 15, 9, 13, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592155434, 'issue_id': 2780109975, 'author': 'HydrionBurst', 'body': 'move to https://github.com/odoo/odoo/pull/193708', 'created_at': datetime.datetime(2025, 1, 15, 9, 48, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:46:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193229.png)](https://mergebot.odoo.com/odoo/odoo/pull/193229)

KangOl on (2025-01-15 09:13:10 UTC): Can the commit message explain *why* you made those changes?

HydrionBurst (Issue Creator) on (2025-01-15 09:48:09 UTC): move to https://github.com/odoo/odoo/pull/193708

"
2780097784,pull_request,closed,,[FIX] website_project: fix translation in for 'Email',"- add translation for `Email` in chatter message when task create from website form.

task-4295363


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mjvi-odoo,2025-01-10 12:39:46+00:00,['mjvi-odoo'],2025-01-24 16:28:34+00:00,2025-01-10 15:59:46+00:00,https://github.com/odoo/odoo/pull/193228,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582621139, 'issue_id': 2780097784, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193228.png)](https://mergebot.odoo.com/odoo/odoo/pull/193228)', 'created_at': datetime.datetime(2025, 1, 10, 12, 39, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582739040, 'issue_id': 2780097784, 'author': 'xavierbol', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 10, 13, 41, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582739098, 'issue_id': 2780097784, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 10, 13, 41, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582739373, 'issue_id': 2780097784, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 41, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:39:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193228.png)](https://mergebot.odoo.com/odoo/odoo/pull/193228)

xavierbol on (2025-01-10 13:41:22 UTC): robodoo fw=no

robodoo on (2025-01-10 13:41:24 UTC): Disabled forward-porting.

xavierbol on (2025-01-10 13:41:32 UTC): robodoo r+

"
2780091497,pull_request,closed,,[IMP] orm: allow again for the Id to be non integer,"Bring back the possibility to define view that have non-integer Id fields. Add a test case for that usage.
Note that many features of the ORM do not support anything else than integer as the identifier of a record, but it may be helpful for SQL views that have composite ids.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-10 12:36:36+00:00,[],2025-01-16 08:03:50+00:00,2025-01-15 16:27:35+00:00,https://github.com/odoo/odoo/pull/193227,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582614213, 'issue_id': 2780091497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193227.png)](https://mergebot.odoo.com/odoo/odoo/pull/193227)', 'created_at': datetime.datetime(2025, 1, 10, 12, 36, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592241456, 'issue_id': 2780091497, 'author': 'rco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 10, 21, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:36:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193227.png)](https://mergebot.odoo.com/odoo/odoo/pull/193227)

rco-odoo on (2025-01-15 10:21:37 UTC): @robodoo r+

"
2780080462,pull_request,closed,,[FW][FIX] account: creating a bank statement from the transaction list view,"Step to reproduce
* open the reconcilation widget and toggle the list view
* multi edit bank statement lines and assign them a new bank statement with name 'BLABLA 1'
* click save and see how Odoo just didn't keep your name at all

The reason is that the module account_bank_statement_extract forces the recomputation of the name when the statement's date changes which happens at the creation (and triggers our bug) but also when the OCR fills that value (in which case we still want that).

So to fix that,
* the default name of the statement line now check if the statement date is falsy, to avoid having a default name as 'BNK1 Statement False', and fallback on the create_date
* when filling the OCR values, we check if the statement still has the same structure, we can assume it wasn't manually changed and we can safely replace the default name

ticket-4424021

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192759",fw-bot,2025-01-10 12:30:43+00:00,[],2025-01-27 11:46:38+00:00,2025-01-13 11:41:38+00:00,https://github.com/odoo/odoo/pull/193226,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582603959, 'issue_id': 2780080462, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193226.png)](https://mergebot.odoo.com/odoo/odoo/pull/193226)', 'created_at': datetime.datetime(2025, 1, 10, 12, 30, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582603995, 'issue_id': 2780080462, 'author': 'fw-bot', 'body': '@qdp-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193136\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 30, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046064, 'issue_id': 2780080462, 'author': 'fw-bot', 'body': '@qdp-odoo @h4818 this forward port of odoo/odoo#192759 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586436194, 'issue_id': 2780080462, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 3, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586536246, 'issue_id': 2780080462, 'author': 'robodoo', 'body': '@qdp-odoo @h4818 linked pull request(s) odoo/enterprise#76914 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 13, 9, 0, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:30:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193226.png)](https://mergebot.odoo.com/odoo/odoo/pull/193226)

fw-bot (Issue Creator) on (2025-01-10 12:30:47 UTC): @qdp-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193136

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:01:30 UTC): @qdp-odoo @h4818 this forward port of odoo/odoo#192759 is awaiting action (not merged or closed).

qdp-odoo on (2025-01-13 08:03:22 UTC): @robodoo r+

robodoo on (2025-01-13 09:00:01 UTC): @qdp-odoo @h4818 linked pull request(s) odoo/enterprise#76914 not ready. Linked PRs are not staged until all of them are ready.

"
2780070352,pull_request,closed,,[FW][FIX] crm: display the missing line in crm helper,"**Specifications:**
When the domain is specified, helper in crm helper should display an extra line, which explains that any email sent to alias@domain will create a lead.

**Technical reason:**
A code was added in `crm.lead` which checks for the company, but in data file company was already specified as `False`. Hence, the missing line.

**After this PR:**
If the custom email domain is set, crm helper will display an extra line.

Task-4377574

Forward-Port-Of: odoo/odoo#190936",fw-bot,2025-01-10 12:25:16+00:00,[],2025-01-24 19:58:47+00:00,2025-01-10 19:26:07+00:00,https://github.com/odoo/odoo/pull/193225,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582594616, 'issue_id': 2780070352, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193225.png)](https://mergebot.odoo.com/odoo/odoo/pull/193225)', 'created_at': datetime.datetime(2025, 1, 10, 12, 25, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582594635, 'issue_id': 2780070352, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 25, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:25:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193225.png)](https://mergebot.odoo.com/odoo/odoo/pull/193225)

fw-bot (Issue Creator) on (2025-01-10 12:25:18 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780058647,pull_request,closed,,[FW][FIX] base: append suffix to duplicated server action name,"Before this commit:
When a user duplicates a server action, the new action retains the exact same name as the original.

After this commit:
Duplicated server actions are assigned a name with the suffix ""(copy)"" to differentiate them from the original action.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190383",fw-bot,2025-01-10 12:19:02+00:00,['elct-odoo'],2025-01-24 17:14:52+00:00,2025-01-10 17:11:25+00:00,https://github.com/odoo/odoo/pull/193224,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582583236, 'issue_id': 2780058647, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193224.png)](https://mergebot.odoo.com/odoo/odoo/pull/193224)', 'created_at': datetime.datetime(2025, 1, 10, 12, 19, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582583247, 'issue_id': 2780058647, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 19, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:19:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193224.png)](https://mergebot.odoo.com/odoo/odoo/pull/193224)

fw-bot (Issue Creator) on (2025-01-10 12:19:04 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780050694,pull_request,closed,,[FW][FIX] data_recycle: Fix notify_frequency_period field style,"**Steps to Reproduce:**
- Install data_recycle module.
- Navigate to Configuration → Rules and create any rule for the data_recycle.

**Issue:**
- The selected option for the notify_frequency_period field is not displayed correctly due to a fixed width class (w-25) assigned to its parent div element.

![image](https://github.com/user-attachments/assets/1656d3f1-d248-45d7-92e3-3722b7679fa5)

**Solution:**
- Updated the width class from w-25 to w-50 to ensure proper display of the selected option.

![image](https://github.com/user-attachments/assets/49d43886-1a32-4256-80a1-f3d3aa69de42)

opw-4414071

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192851
Forward-Port-Of: odoo/odoo#191639",fw-bot,2025-01-10 12:14:51+00:00,[],2025-01-27 08:30:11+00:00,2025-01-13 08:01:48+00:00,https://github.com/odoo/odoo/pull/193223,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582575128, 'issue_id': 2780050694, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193223.png)](https://mergebot.odoo.com/odoo/odoo/pull/193223)', 'created_at': datetime.datetime(2025, 1, 10, 12, 14, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582575233, 'issue_id': 2780050694, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 14, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:14:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193223.png)](https://mergebot.odoo.com/odoo/odoo/pull/193223)

fw-bot (Issue Creator) on (2025-01-10 12:14:57 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780039618,pull_request,open,,Master resource clean bedo,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Bertrand2,2025-01-10 12:09:44+00:00,[],2025-01-31 12:33:42+00:00,,https://github.com/odoo/odoo/pull/193222,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582564597, 'issue_id': 2780039618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193222.png)](https://mergebot.odoo.com/odoo/odoo/pull/193222)', 'created_at': datetime.datetime(2025, 1, 10, 12, 9, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:09:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193222.png)](https://mergebot.odoo.com/odoo/odoo/pull/193222)

"
2780039151,pull_request,closed,,[FW][FIX] stock_account: branch accounts configuration ignored,"User of a branch company may change accounts configuration product categories,
but currently this settings is ignored, as accounts are fetched from the main
company instead

Steps to reproduce:
- Create a branch company
- Open a product category [CATEG] (i.e. Office Furniture) and set
  - 'Inventory valuation': 'Automated'
  - 'Stock Input Account': [Account]
- Assign product category [CATEG] to a product [PROD]
- Create a Vendor bill with [PROD] and Save
- Check Journal items tab

Issue: Product line account is not [Account] but it is taken from the
main company settings
This occurs due to a fix [1] done to have `stock_account` in sync with the
base method in `account`. However, the forced company in base method was changed
in a refactor [2]

[1] https://github.com/odoo/odoo/commit/0b07210fe1f1c451eb648deff74c3ab37c8c09bd
[2] https://github.com/odoo/odoo/commit/d8d47f9ff8554f4b39487fd2f13c153c7d6f958d

opw-4297203

Forward-Port-Of: odoo/odoo#193087
Forward-Port-Of: odoo/odoo#191349",fw-bot,2025-01-10 12:09:28+00:00,[],2025-01-25 00:08:44+00:00,2025-01-11 00:01:41+00:00,https://github.com/odoo/odoo/pull/193221,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582564134, 'issue_id': 2780039151, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193221.png)](https://mergebot.odoo.com/odoo/odoo/pull/193221)', 'created_at': datetime.datetime(2025, 1, 10, 12, 9, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582564147, 'issue_id': 2780039151, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 9, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:09:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193221.png)](https://mergebot.odoo.com/odoo/odoo/pull/193221)

fw-bot (Issue Creator) on (2025-01-10 12:09:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780038314,pull_request,closed,,[FW][IMP] test_sale_purchase_edi_ubl: add order edi test cases,"This commit add order edi test cases to check imported
sale order from purchase order have all the details
properly filled out to ensure everything is working.

task-4206350

Forward-Port-Of: odoo/odoo#188775",fw-bot,2025-01-10 12:09:02+00:00,[],2025-01-25 08:46:25+00:00,2025-01-11 07:42:35+00:00,https://github.com/odoo/odoo/pull/193220,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582563392, 'issue_id': 2780038314, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193220.png)](https://mergebot.odoo.com/odoo/odoo/pull/193220)', 'created_at': datetime.datetime(2025, 1, 10, 12, 9, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582563405, 'issue_id': 2780038314, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 9, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582622084, 'issue_id': 2780038314, 'author': 'fw-bot', 'body': '@kcv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 10, 12, 40, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582631033, 'issue_id': 2780038314, 'author': 'fw-bot', 'body': '@kcv-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 12, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585116928, 'issue_id': 2780038314, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 11, 6, 26, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:09:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193220.png)](https://mergebot.odoo.com/odoo/odoo/pull/193220)

fw-bot (Issue Creator) on (2025-01-10 12:09:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 12:40:22 UTC): @kcv-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-10 12:45:14 UTC): @kcv-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

kcv-odoo on (2025-01-11 06:26:41 UTC): @robodoo r+

"
2780037822,pull_request,closed,,[FW][FIX] discuss: prevent use of outdated sfu channel,"Before this commit, if a discuss channel was provided a new sfu channel, users that were already in a call on that old sfu channel would stay there instead of moving to the new one.

This commit also adds an icon if a rtc session is missing an expected `audioStream` so that it becomes easier to notice if a partial connectivity issue arises.

Forward-Port-Of: odoo/odoo#193111",fw-bot,2025-01-10 12:08:47+00:00,[],2025-01-25 00:08:44+00:00,2025-01-11 00:01:45+00:00,https://github.com/odoo/odoo/pull/193219,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582562958, 'issue_id': 2780037822, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193219.png)](https://mergebot.odoo.com/odoo/odoo/pull/193219)', 'created_at': datetime.datetime(2025, 1, 10, 12, 8, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582562990, 'issue_id': 2780037822, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 8, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:08:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193219.png)](https://mergebot.odoo.com/odoo/odoo/pull/193219)

fw-bot (Issue Creator) on (2025-01-10 12:08:49 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780037044,pull_request,closed,,[FW][FIX] account: fix account opening from CoA with archived branches,"**Steps to reproduce:**
- Install Accounting
- Create a branch
- Archive the branch
- Go to ""Accounting / Configuration / Accounting / Chart of Accounts""
- Click on the ""View"" button of any account

**Issue:**
An AccessError is raised:
""Access to unauthorized or invalid companies.""

**Cause:**
The ""account.code.mapping"" records are fetched for all the companies of the current user, even the archived ones.
{'active_test': False} is added in the context in the read method of the One2many class in fields.py

opw-4450588




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193094",fw-bot,2025-01-10 12:08:22+00:00,[],2025-01-24 16:39:20+00:00,2025-01-10 16:36:23+00:00,https://github.com/odoo/odoo/pull/193218,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582562859, 'issue_id': 2780037044, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193218.png)](https://mergebot.odoo.com/odoo/odoo/pull/193218)', 'created_at': datetime.datetime(2025, 1, 10, 12, 8, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582562882, 'issue_id': 2780037044, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 8, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:08:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193218.png)](https://mergebot.odoo.com/odoo/odoo/pull/193218)

fw-bot (Issue Creator) on (2025-01-10 12:08:46 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780022864,pull_request,closed,,"[FW][FIX] l10n_ar_pos,l10n_es_pos,l10n_pe_pos: Fix limited partner override","Adapt the `get_limited_partners_loading` method to the new API.

Forward-Port-Of: odoo/odoo#193057",fw-bot,2025-01-10 12:01:40+00:00,[],2025-01-10 14:39:01+00:00,2025-01-10 14:39:01+00:00,https://github.com/odoo/odoo/pull/193217,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582546427, 'issue_id': 2780022864, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193217.png)](https://mergebot.odoo.com/odoo/odoo/pull/193217)', 'created_at': datetime.datetime(2025, 1, 10, 12, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582546470, 'issue_id': 2780022864, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 1, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:01:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193217.png)](https://mergebot.odoo.com/odoo/odoo/pull/193217)

fw-bot (Issue Creator) on (2025-01-10 12:01:52 UTC): @davidmonnom @adgu-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2780022175,pull_request,closed,,[FW][FIX] account: matching rules appliance on branches,"The bank reconciliation widget shouldn't be allowed to work/match more than what's possible through the UI.

Steps to reproduce the bug
* create child company CHILD 1, with an invoice $100
* Create child company CHILD 2 with same parent company, a bank journal and a matching rule to fetch bills/invoices of same amount regardless of any other critera (for simplicity)
* make sure the matching rule is applied 1st, create a bank transacation of $100 in CHILD 2 bank journal
* click reconcile from the dashboard, on CHILD 2 bank journal => you get an access error because Odoo is trying to match invoice from CHILD 1 and bank transaction from CHILD 2

ticket-4384481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192992
Forward-Port-Of: odoo/odoo#192507",fw-bot,2025-01-10 12:01:17+00:00,[],2025-01-24 21:34:30+00:00,2025-01-10 20:30:19+00:00,https://github.com/odoo/odoo/pull/193216,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582546373, 'issue_id': 2780022175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193216.png)](https://mergebot.odoo.com/odoo/odoo/pull/193216)', 'created_at': datetime.datetime(2025, 1, 10, 12, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582546398, 'issue_id': 2780022175, 'author': 'fw-bot', 'body': '@qdp-odoo @epictete this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 12, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582940704, 'issue_id': 2780022175, 'author': 'epictete', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 17, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 12:01:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193216.png)](https://mergebot.odoo.com/odoo/odoo/pull/193216)

fw-bot (Issue Creator) on (2025-01-10 12:01:50 UTC): @qdp-odoo @epictete this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

epictete on (2025-01-10 15:17:57 UTC): @robodoo r+

"
2780014659,pull_request,closed,,[FW][FIX] project_todo: avoid clicking in step of project_task_activities_split tour,"Before this commit, the test running the `project_task_activities_split` tour could failed because a step clicks on a task displayed in the activity view instead of just checking if the task expected is present on the view.

This commit removes the click event on that step to just check if we found the node with the trigger defined in that step to be sure the task is on the activity view. By doing that, the next step checking if another task is also there in the activity.

Closes #192995

Forward-Port-Of: odoo/odoo#193066",fw-bot,2025-01-10 11:57:14+00:00,[],2025-01-24 17:47:18+00:00,2025-01-10 17:44:41+00:00,https://github.com/odoo/odoo/pull/193215,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582538459, 'issue_id': 2780014659, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193215.png)](https://mergebot.odoo.com/odoo/odoo/pull/193215)', 'created_at': datetime.datetime(2025, 1, 10, 11, 57, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582538477, 'issue_id': 2780014659, 'author': 'fw-bot', 'body': '@xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193197\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 11, 57, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582556178, 'issue_id': 2780014659, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 12, 6, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:57:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193215.png)](https://mergebot.odoo.com/odoo/odoo/pull/193215)

fw-bot (Issue Creator) on (2025-01-10 11:57:16 UTC): @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193197

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-10 12:06:37 UTC): robodoo r+

"
2780013577,pull_request,closed,,[FIX] stock: allow picking validation of already reserved package,"### Steps to reproduce:

- In the settings enable: Multi-Step Routes, Operations > Packages
- Create a storable prodcut
- Update the on hand quantity:
  - 10 units in package PK
- Inventory > Configuration > Warehouse Management > Locations
- Create 2 warehouse locations: WH/LOC1, WH/LOC2
- Go to the barcode app and proceed with the scans:
    1. Scan the internal transfer picking type
    2. Scan WH/STOCK as a source location
    3. Scan the package name (PK)
    4. Scan WH/LOC1 as destination location
- Leave the barcode app without validation
- Go to the barcode app and proceed with the scans: i -> iii,  iv'. Scan WH/LOC2 as destination location
- Try to validate the picking
#### > Invalid operation: You cannot move the same package content more than once in the same transfer or split the same package into two location.

### Cause of the issue:

As both pickings were treated via the barcode app, they generated picked move lines related to the package. Both of these move lines have updated the reserved quantity of the stock.quant present in stock:
- WH/STOCK, quantity: 10, reserved_quantity: 20.

When you try to validate the second picking, you will launch an `_action_done` of its move line that will create a new quant in WH/LOC2 and update the quant in stock:
- WH/STOCK, quantity: 0, reserved_quantity: 10.
- WH/LOC2, quantity: 10, reserved_quantity: 0.

The error is raised just after since 2 quants with either a quantity or reserved quantity are found:
https://github.com/odoo/odoo/blob/6349fb0362d881672616bb4b800bd32be82f9a5f/addons/stock/models/stock_move.py#L1910-L1917

### Fix:

Since the check is made in order to check the consistency of result packages moved by the current validation the ""reserved_quantity"" should not matter.

opw-4456484
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-10 11:56:39+00:00,[],2025-02-05 11:13:11+00:00,2025-02-05 11:13:11+00:00,https://github.com/odoo/odoo/pull/193214,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582537543, 'issue_id': 2780013577, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193214.png)](https://mergebot.odoo.com/odoo/odoo/pull/193214)', 'created_at': datetime.datetime(2025, 1, 10, 11, 56, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636090173, 'issue_id': 2780013577, 'author': 'clesgow', 'body': 'Hope my concerns are unwarranted. :smiling_face_with_tear: \r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 45, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:56:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193214.png)](https://mergebot.odoo.com/odoo/odoo/pull/193214)

clesgow on (2025-02-05 08:45:35 UTC): Hope my concerns are unwarranted. :smiling_face_with_tear: 
@robodoo r+

"
2780012717,pull_request,open,,[ADD] l10n_sa_edi_branch: Added Branch CRN,"[#Task](https://www.odoo.com/web#model=project.task&id=4119982)

As per ZATCA rule BR-KSA-08: In the case where a company has multiple commercial registrations, such as different branches, the seller should fill the commercial registration of the branch in respect of which the Tax Invoice is being issued. In the case of Odoo, the branch CRN will be set on the Journal.

Description of the issue/feature this PR addresses:
Currently there is no option to link a Branch CRN to a company, as the only option is to have multiple companies with the same VAT but different Additional Identification Number values.

Current behavior before PR:
Additional Identification Number submitted to ZATCA is set directly on the company and does not allow for multiple branches by company

Desired behavior after PR is merged:
Additional Identification Number (CRN) submitted to ZATCA can be set on the Journal which allows to have different registration numbers per journal


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",alny-odoo,2025-01-10 11:56:11+00:00,['alny-odoo'],2025-01-23 12:31:38+00:00,,https://github.com/odoo/odoo/pull/193213,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582536665, 'issue_id': 2780012717, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193213.png)](https://mergebot.odoo.com/odoo/odoo/pull/193213)', 'created_at': datetime.datetime(2025, 1, 10, 11, 56, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:56:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193213.png)](https://mergebot.odoo.com/odoo/odoo/pull/193213)

"
2780012084,pull_request,closed,,[FW][FIX] l10n_in_pos: tb on receipt with customer after payment done,"Steps:
===
- Open a POS shop.
- Create an order, select a customer, and validate it.

Issue:
===
- The generated receipt did not include customer name and phone details.

Cause:
===
- Customer details were not being passed correctly to the receipt template.

Fix:
===
- Updated the function for setting customer details to correctly include
in the receipt.

Task- 4431623

Forward-Port-Of: odoo/odoo#193084
Forward-Port-Of: odoo/odoo#191972",fw-bot,2025-01-10 11:55:50+00:00,[],2025-01-27 08:57:38+00:00,2025-01-13 08:42:40+00:00,https://github.com/odoo/odoo/pull/193212,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582536020, 'issue_id': 2780012084, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193212.png)](https://mergebot.odoo.com/odoo/odoo/pull/193212)', 'created_at': datetime.datetime(2025, 1, 10, 11, 55, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582536075, 'issue_id': 2780012084, 'author': 'fw-bot', 'body': '@djip-odoo @caburj cherrypicking of pull request odoo/odoo#191972 failed.\n\n* b373a796f84a99fcdddbdccaca40d11d56f06aa3\n* 648082568ea0ac424f96c2b820afff6141c2881d <- on this commit\n\nstdout:\n```\nAuto-merging addons/l10n_in_pos/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/l10n_in_pos/static/src/app/models/pos_order.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 11, 55, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046682, 'issue_id': 2780012084, 'author': 'fw-bot', 'body': '@djip-odoo @caburj this forward port of odoo/odoo#191972 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586233599, 'issue_id': 2780012084, 'author': 'djip-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 6, 6, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:55:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193212.png)](https://mergebot.odoo.com/odoo/odoo/pull/193212)

fw-bot (Issue Creator) on (2025-01-10 11:55:54 UTC): @djip-odoo @caburj cherrypicking of pull request odoo/odoo#191972 failed.

* b373a796f84a99fcdddbdccaca40d11d56f06aa3
* 648082568ea0ac424f96c2b820afff6141c2881d <- on this commit

stdout:
```
Auto-merging addons/l10n_in_pos/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/l10n_in_pos/static/src/app/models/pos_order.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:05 UTC): @djip-odoo @caburj this forward port of odoo/odoo#191972 is awaiting action (not merged or closed).

djip-odoo on (2025-01-13 06:06:38 UTC): @robodoo r+

"
2780006547,pull_request,closed,,[FW][FIX] project: show subtasks in project if converted into tasks,"Steps to reproduce:
1. Create a task, and a subtask
3. Open the subtask
4. From the gear icon, click ""Convert to Task/Sub-Task""
5. Remove the parent task and click ""Convert Task""
6. Go to the project dashboard > the subtask is not shown.

Why?
The above reproducing steps lead to the subtask having the `display_in_project` stored as `False`, hence it's not visible on the dashboard page. This is because `_compute_project_id` interrupted the computation flow of `display_in_project` by a call to `remove_to_compute` [1].

Fix:
In the `write` method, explicitly set `display_in_project` to `True` if the parent_id has been removed.

[1]: https://github.com/odoo/odoo/blob/9dec8329523d4966243c6491e7e556e643af6cdf/addons/project/models/project_task.py#L337

opw-4384222

Forward-Port-Of: odoo/odoo#191530",fw-bot,2025-01-10 11:53:35+00:00,[],2025-01-24 19:58:47+00:00,2025-01-10 19:26:08+00:00,https://github.com/odoo/odoo/pull/193211,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582532289, 'issue_id': 2780006547, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193211.png)](https://mergebot.odoo.com/odoo/odoo/pull/193211)', 'created_at': datetime.datetime(2025, 1, 10, 11, 53, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582532307, 'issue_id': 2780006547, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 11, 53, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582689214, 'issue_id': 2780006547, 'author': 'fw-bot', 'body': '@hadielyakhni @xavierbol the next pull request (odoo/odoo#193236) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 13, 14, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582996732, 'issue_id': 2780006547, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 44, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:53:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193211.png)](https://mergebot.odoo.com/odoo/odoo/pull/193211)

fw-bot (Issue Creator) on (2025-01-10 11:53:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 13:14:05 UTC): @hadielyakhni @xavierbol the next pull request (odoo/odoo#193236) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-10 15:44:22 UTC): robodoo r+

"
2780005800,pull_request,closed,,"[FW][FIX] hr_holidays, mail: im_status fa - plane not consistent","**Current behavior before PR:**

prior to this PR fa-plane icon does not displayed after user comes online/offline/away while on leave without any reload.

**Desired behavior after PR is merged:**

now fa-plane icon is displayed with respective color of im_status without any reload

task-4237384

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193120
Forward-Port-Of: odoo/odoo#184471",fw-bot,2025-01-10 11:53:20+00:00,[],2025-01-10 17:41:38+00:00,2025-01-10 16:26:02+00:00,https://github.com/odoo/odoo/pull/193210,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582532247, 'issue_id': 2780005800, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193210.png)](https://mergebot.odoo.com/odoo/odoo/pull/193210)', 'created_at': datetime.datetime(2025, 1, 10, 11, 53, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582532265, 'issue_id': 2780005800, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/static/src/persona_model_patch.js\nAuto-merging addons/hr_holidays/static/tests/mock_server/mock_models/res_partner.js\nAuto-merging addons/mail/static/src/core/common/persona_model.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 11, 53, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582726491, 'issue_id': 2780005800, 'author': 'jayp-odoo', 'body': '@alexkuhn hello i have updated some code of `mock_server/mock_models/res_partner.js` i thought it would be good if you just take quick look at this and then good for r+ thanks. :smile:', 'created_at': datetime.datetime(2025, 1, 10, 13, 34, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:53:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193210.png)](https://mergebot.odoo.com/odoo/odoo/pull/193210)

fw-bot (Issue Creator) on (2025-01-10 11:53:51 UTC): @jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.

stdout:
```
Auto-merging addons/hr_holidays/static/src/persona_model_patch.js
Auto-merging addons/hr_holidays/static/tests/mock_server/mock_models/res_partner.js
Auto-merging addons/mail/static/src/core/common/persona_model.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jayp-odoo on (2025-01-10 13:34:31 UTC): @alexkuhn hello i have updated some code of `mock_server/mock_models/res_partner.js` i thought it would be good if you just take quick look at this and then good for r+ thanks. :smile:

"
2780004273,pull_request,open,,[FIX] utm: correct typo in archive and restore buttons,"This commit addresses a typo in the archive and restore buttons within the kanban menu, introduced in this commit https://github.com/odoo/odoo/commit/d220bb4c872d3660d15373d15565c846e3a35d9f

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omra-odoo,2025-01-10 11:52:40+00:00,[],2025-01-10 12:00:19+00:00,,https://github.com/odoo/odoo/pull/193209,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582530367, 'issue_id': 2780004273, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193209.png)](https://mergebot.odoo.com/odoo/odoo/pull/193209)', 'created_at': datetime.datetime(2025, 1, 10, 11, 52, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:52:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193209.png)](https://mergebot.odoo.com/odoo/odoo/pull/193209)

"
2779993325,pull_request,closed,,[FIX] rpc: re-raise exceptions for http.py,"Exceptions in RPC are handled and a Response is returned directly. It is a different behaviour than jsonrpc where the exception is raised and the dispatcher wraps it is a Response after logging the exception. The xmlrpc code should also raise an exception so that it can be handled in http.py. Adding here a way to detect if a Response was already generated for an exception in the exception handler of HTTP.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-10 11:46:50+00:00,[],2025-01-14 06:54:28+00:00,2025-01-13 20:08:38+00:00,https://github.com/odoo/odoo/pull/193208,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2582520187, 'issue_id': 2779993325, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193208.png)](https://mergebot.odoo.com/odoo/odoo/pull/193208)', 'created_at': datetime.datetime(2025, 1, 10, 11, 46, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:46:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193208.png)](https://mergebot.odoo.com/odoo/odoo/pull/193208)

"
2779976455,pull_request,closed,,[CLA] Update initos.md,"Including additional contributor to the CLA and forward port to newer versions

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",OSevangelist,2025-01-10 11:37:21+00:00,[],2025-01-14 11:26:13+00:00,2025-01-14 11:26:13+00:00,https://github.com/odoo/odoo/pull/193207,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2582503400, 'issue_id': 2779976455, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193207.png)](https://mergebot.odoo.com/odoo/odoo/pull/193207)', 'created_at': datetime.datetime(2025, 1, 10, 11, 37, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582509397, 'issue_id': 2779976455, 'author': 'OSevangelist', 'body': '@mart-e i did a similar change on 18.1 in October / November 2024 but i need these colleague be added also for older Odoo versions. May i kindly ask you to check this and to put a ""forwardport"" port label on this to have it included all the way up from 15.0. Thx and happy new year btw.', 'created_at': datetime.datetime(2025, 1, 10, 11, 40, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587073857, 'issue_id': 2779976455, 'author': 'mart-e', 'body': '@OSevangelist hello Frederic,\r\nThe 15.0 is no longer supported, can you retarget in 16?', 'created_at': datetime.datetime(2025, 1, 13, 13, 13, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589665262, 'issue_id': 2779976455, 'author': 'OSevangelist', 'body': ""Ok @mart-e i'll close this and added a new one under https://github.com/odoo/odoo/pull/193539 against 16.0 Cheers Frederik"", 'created_at': datetime.datetime(2025, 1, 14, 11, 26, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:37:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193207.png)](https://mergebot.odoo.com/odoo/odoo/pull/193207)

OSevangelist (Issue Creator) on (2025-01-10 11:40:10 UTC): @mart-e i did a similar change on 18.1 in October / November 2024 but i need these colleague be added also for older Odoo versions. May i kindly ask you to check this and to put a ""forwardport"" port label on this to have it included all the way up from 15.0. Thx and happy new year btw.

mart-e on (2025-01-13 13:13:44 UTC): @OSevangelist hello Frederic,
The 15.0 is no longer supported, can you retarget in 16?

OSevangelist (Issue Creator) on (2025-01-14 11:26:13 UTC): Ok @mart-e i'll close this and added a new one under https://github.com/odoo/odoo/pull/193539 against 16.0 Cheers Frederik

"
2779931605,pull_request,closed,,[IMP] base_automation: improve computed fields,"Backport of 105e313775a6853d8dcd8ea89af7f710f4e1e2a1

**Purpose**
Currently, editing any trigger field of an automation erases the domain, which may lead to unexpected behavior as some ""light"" automations (i.e. in CRM) hide their domains (for user friendliness).

After this commit, any change in the trigger fields won't erase the domain. Also, any change in the domain will update the trigger fields. This is true for: `On save` and `On UI change` triggers.

opw-4367901",brboi,2025-01-10 11:13:20+00:00,[],2025-01-27 16:20:50+00:00,2025-01-13 15:57:36+00:00,https://github.com/odoo/odoo/pull/193206,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582461379, 'issue_id': 2779931605, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193206.png)](https://mergebot.odoo.com/odoo/odoo/pull/193206)', 'created_at': datetime.datetime(2025, 1, 10, 11, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587048873, 'issue_id': 2779931605, 'author': 'kebeclibre', 'body': '@robodoo fw=no r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587048969, 'issue_id': 2779931605, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 13, 13, 2, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:13:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193206.png)](https://mergebot.odoo.com/odoo/odoo/pull/193206)

kebeclibre on (2025-01-13 13:02:47 UTC): @robodoo fw=no r+

robodoo on (2025-01-13 13:02:50 UTC): Disabled forward-porting.

"
2779930932,pull_request,closed,,[FIX] spreadsheet_account: fix misleading function description,"The example of values in the description are translated in other languages. It should not because only the technical values are accepted (which are never translated)

It's not needed to backport to 16.0 because function description were not translated at that time.

Task: 4471424

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-10 11:13:02+00:00,[],2025-01-27 08:57:37+00:00,2025-01-13 08:42:18+00:00,https://github.com/odoo/odoo/pull/193205,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582460854, 'issue_id': 2779930932, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193205.png)](https://mergebot.odoo.com/odoo/odoo/pull/193205)', 'created_at': datetime.datetime(2025, 1, 10, 11, 13, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586368145, 'issue_id': 2779930932, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 24, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:13:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193205.png)](https://mergebot.odoo.com/odoo/odoo/pull/193205)

rrahir on (2025-01-13 07:24:11 UTC): @robodoo r+

"
2779916930,pull_request,closed,,[FW][FIX] crm: display the missing line in crm helper,"**Specifications:**
When the domain is specified, helper in crm helper should display an extra line, which explains that any email sent to alias@domain will create a lead.

**Technical reason:**
A code was added in `crm.lead` which checks for the company, but in data file company was already specified as `False`. Hence, the missing line.

**After this PR:**
If the custom email domain is set, crm helper will display an extra line.

Task-4377574

Forward-Port-Of: odoo/odoo#190936",fw-bot,2025-01-10 11:06:15+00:00,[],2025-01-24 17:58:48+00:00,2025-01-10 17:58:13+00:00,https://github.com/odoo/odoo/pull/193204,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582443796, 'issue_id': 2779916930, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193204.png)](https://mergebot.odoo.com/odoo/odoo/pull/193204)', 'created_at': datetime.datetime(2025, 1, 10, 11, 6, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582443815, 'issue_id': 2779916930, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 11, 6, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:06:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193204.png)](https://mergebot.odoo.com/odoo/odoo/pull/193204)

fw-bot (Issue Creator) on (2025-01-10 11:06:17 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779908139,pull_request,closed,,[FIX] web: use count limit on the domain field widget,"Executing a search count on a table with a large number of records can be slow, which is why a limit was added on b37d221e.

The same issue exists on the domain field widget, and so the same solution is applied here.

Task ID: 4471410",aab-odoo,2025-01-10 11:01:47+00:00,[],2025-01-24 19:16:48+00:00,2025-01-10 19:06:32+00:00,https://github.com/odoo/odoo/pull/193203,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2582434817, 'issue_id': 2779908139, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193203.png)](https://mergebot.odoo.com/odoo/odoo/pull/193203)', 'created_at': datetime.datetime(2025, 1, 10, 11, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582710272, 'issue_id': 2779908139, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 26, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 11:01:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193203.png)](https://mergebot.odoo.com/odoo/odoo/pull/193203)

Polymorphe57 on (2025-01-10 13:26:01 UTC): @robodoo r+

"
2779891971,pull_request,closed,,[FIX] point_of_sale: correctly apply multiple pricelist rules,"Before this commit, if there were multiple pricelist rules applicable to a product but they had minimum quantity conditions, PoS did not compute the price with the correct applicable pricelist rules if the top pricelist rule's minimum quantity was not satisfied.

opw-4407515

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-10 10:54:05+00:00,[],2025-01-24 15:33:22+00:00,2025-01-10 15:29:35+00:00,https://github.com/odoo/odoo/pull/193202,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582417485, 'issue_id': 2779891971, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193202.png)](https://mergebot.odoo.com/odoo/odoo/pull/193202)', 'created_at': datetime.datetime(2025, 1, 10, 10, 54, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:54:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193202.png)](https://mergebot.odoo.com/odoo/odoo/pull/193202)

"
2779887258,pull_request,closed,,[FIX] point_of_sale: fix receipt screen error,"isContinueSplitting function is defined in pos_restaurant, but is being called in point_of_sale. This gives us errors when pos_restaurant is not installed.






---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",angv-odoo,2025-01-10 10:51:40+00:00,[],2025-01-14 08:05:51+00:00,2025-01-14 08:05:51+00:00,https://github.com/odoo/odoo/pull/193201,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582412646, 'issue_id': 2779887258, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193201.png)](https://mergebot.odoo.com/odoo/odoo/pull/193201)', 'created_at': datetime.datetime(2025, 1, 10, 10, 51, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:51:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193201.png)](https://mergebot.odoo.com/odoo/odoo/pull/193201)

"
2779884763,pull_request,closed,,[FW][FIX] data_recycle: Fix notify_frequency_period field style,"**Steps to Reproduce:**
- Install data_recycle module.
- Navigate to Configuration → Rules and create any rule for the data_recycle.

**Issue:**
- The selected option for the notify_frequency_period field is not displayed correctly due to a fixed width class (w-25) assigned to its parent div element.

![image](https://github.com/user-attachments/assets/1656d3f1-d248-45d7-92e3-3722b7679fa5)

**Solution:**
- Updated the width class from w-25 to w-50 to ensure proper display of the selected option.

![image](https://github.com/user-attachments/assets/49d43886-1a32-4256-80a1-f3d3aa69de42)

opw-4414071

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192851
Forward-Port-Of: odoo/odoo#191639",fw-bot,2025-01-10 10:50:22+00:00,[],2025-01-27 08:30:14+00:00,2025-01-13 08:09:58+00:00,https://github.com/odoo/odoo/pull/193200,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582410930, 'issue_id': 2779884763, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193200.png)](https://mergebot.odoo.com/odoo/odoo/pull/193200)', 'created_at': datetime.datetime(2025, 1, 10, 10, 50, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582411002, 'issue_id': 2779884763, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 50, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:50:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193200.png)](https://mergebot.odoo.com/odoo/odoo/pull/193200)

fw-bot (Issue Creator) on (2025-01-10 10:50:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779864738,pull_request,closed,,"[FW][FIX] account,l10n_cz,l10n_hu_edi: fix currency rate computations","In modules l10n_cz and l10n_hu_edi the currency rate computation on
the invoice lines was changed. Instead of using the standard date
(i.e. Invoice Date) for the currency conversion we use the
Taxable Supply Date (for l10n_cz / CZ) or Delivery Date
(for l10n_hu_edi / HU).

The way this was done conflicts with a change in 17.3:
Since then we store and display the currency rate on invoices
(See commit bedffa80beb61c134e8f476ef2ca71f2bd66f554 for more details).
The rate for each line should then just be taken from the rate stored on the move.
Currently the rate on the invoice is still computed with the standard date (invoice date)
in any case.

So e.g. with l10n_cz installed it can happen happen that the lines of a CZ invoice
- compute the currency rate individually ""themselves"" instead of taking it from the invoice
  (which is one of the things the change in 17.3 wanted to prevent)
- use a different different date for the currency rate conversion than the invoice
  (in case the Taxable Supply Date is set)
I.e. the rate stored and displayed on the invoice may have nothing to do with the rate
that was actually used for the conversion.

Example that goes wrong currently for l10n_cz on runbot
  1. Install l10n_cz
  2. Select CZ Company
  3. Ensure the USD currency is as follows:
     - Starting on 2024-12-01 there is 10 units per CZK rate
     - There is no other currency rate defined
  4. Create an invoice
     - in USD
     - with invoice date 2024-11-01
     - Taxable Supply Date 2024-12-01
     - a single invoice line with price 100 and no taxes
  5. The invoice displays:
     - ""1 CZK = 1.000000 USD"" (Since we ignore the Taxable Supply Date)
     - total: 100 USD
  6. The ""Journal Items"" tab displays only 10 CZK total.
     (Since we use the Taxable Supply Date for the actual conversion)

Related commits: The currency rate computations for move lines were overridden
in commits e3bac6461500d34425697eed5a263c605f6f9de5 (l10n_cz) and
b1e07d27da27aad86049c8eae42e1803cf24bd3f (l10n_hu_edi) respectively.

This commit fixes the currency rate computation for these localizations:
We revert the changes to the currency rate computation on the lines and
adapt the date used for the currency rate computation on the invoice.
The invoice then displays the correct rate and the lines just take the (correct)
rate from the invoice.

Further for l10n_cz the taxable supply date is hidden on non-invoices and
ignored for currency computations on non-invoices.

task-4367605


related upgrade PR: https://github.com/odoo/upgrade/pull/6853

Forward-Port-Of: odoo/odoo#193077
Forward-Port-Of: odoo/odoo#189023",fw-bot,2025-01-10 10:41:07+00:00,[],2025-01-24 19:16:54+00:00,2025-01-10 19:06:52+00:00,https://github.com/odoo/odoo/pull/193199,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582374026, 'issue_id': 2779864738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193199.png)](https://mergebot.odoo.com/odoo/odoo/pull/193199)', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582374063, 'issue_id': 2779864738, 'author': 'fw-bot', 'body': '@svfu-odoo @epictete this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582599489, 'issue_id': 2779864738, 'author': 'fw-bot', 'body': '@svfu-odoo @epictete this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 12, 28, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582602384, 'issue_id': 2779864738, 'author': 'epictete', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 12, 29, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:41:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193199.png)](https://mergebot.odoo.com/odoo/odoo/pull/193199)

fw-bot (Issue Creator) on (2025-01-10 10:41:18 UTC): @svfu-odoo @epictete this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 12:28:10 UTC): @svfu-odoo @epictete this PR was modified / updated and has become a normal PR. It must be merged directly.

epictete on (2025-01-10 12:29:52 UTC): @robodoo r+

"
2779864170,pull_request,closed,,[FW][IMP] web_editor: allow to search snippets by technical name / classes,"With the increasing number of snippets and their potential option classes, it became even more important to be able to search for them quickly while reviewing / testing features (... we really would like to restore the search for inner snippets too if it was accepted ...).

This commit improves the snippet search. If the search starts by 's_', it will:
- Also match any snippet whose root or child nodes have a class that begins by the search term.
- For those extra matches, sort them by:
    - Exact XMLID match first
    - Exact class match on the root node first
    - Partial class match on the root node first

Forward-Port-Of: odoo/odoo#191829",fw-bot,2025-01-10 10:40:50+00:00,[],2025-01-28 15:37:34+00:00,2025-01-14 15:32:35+00:00,https://github.com/odoo/odoo/pull/193198,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582373943, 'issue_id': 2779864170, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193198.png)](https://mergebot.odoo.com/odoo/odoo/pull/193198)', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582373975, 'issue_id': 2779864170, 'author': 'fw-bot', 'body': '@qsm-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#191829 failed.\n\n* ce26e89fba0c5f04c9dc64935fc1cb4cc9e8fe31\n* eed853bda105f78d98e73736d2f783696215e760 <- on this commit\n* 70b00012487fc9df4da12ba5c5c748589a2f5fb0\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/add_snippet_dialog.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/add_snippet_dialog.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619228, 'issue_id': 2779864170, 'author': 'fw-bot', 'body': '@qsm-odoo @bvr-odoo this forward port of odoo/odoo#191829 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589893310, 'issue_id': 2779864170, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 14, 13, 19, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:41:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193198.png)](https://mergebot.odoo.com/odoo/odoo/pull/193198)

fw-bot (Issue Creator) on (2025-01-10 10:41:17 UTC): @qsm-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#191829 failed.

* ce26e89fba0c5f04c9dc64935fc1cb4cc9e8fe31
* eed853bda105f78d98e73736d2f783696215e760 <- on this commit
* 70b00012487fc9df4da12ba5c5c748589a2f5fb0

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/add_snippet_dialog.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/add_snippet_dialog.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:42 UTC): @qsm-odoo @bvr-odoo this forward port of odoo/odoo#191829 is awaiting action (not merged or closed).

robodoo on (2025-01-14 13:19:40 UTC): Merge method set to rebase and fast-forward.

"
2779862627,pull_request,closed,,[FW][FIX] project_todo: avoid clicking in step of project_task_activities_split tour,"Before this commit, the test running the `project_task_activities_split` tour could failed because a step clicks on a task displayed in the activity view instead of just checking if the task expected is present on the view.

This commit removes the click event on that step to just check if we found the node with the trigger defined in that step to be sure the task is on the activity view. By doing that, the next step checking if another task is also there in the activity.

Closes #192995

Forward-Port-Of: odoo/odoo#193066",fw-bot,2025-01-10 10:40:34+00:00,[],2025-01-24 18:10:55+00:00,2025-01-10 18:00:49+00:00,https://github.com/odoo/odoo/pull/193197,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582373381, 'issue_id': 2779862627, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193197.png)](https://mergebot.odoo.com/odoo/odoo/pull/193197)', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582373485, 'issue_id': 2779862627, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:41:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193197.png)](https://mergebot.odoo.com/odoo/odoo/pull/193197)

fw-bot (Issue Creator) on (2025-01-10 10:41:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779861762,pull_request,closed,,[FW][FIX] l10n_id_pos: tests: load only test product,"This fixes the indeterminate test failures where the Test Product isn't found in the product list.

Related: https://github.com/odoo/enterprise/pull/76894

Forward-Port-Of: odoo/odoo#193123",fw-bot,2025-01-10 10:40:17+00:00,[],2025-01-27 08:57:41+00:00,2025-01-13 08:42:54+00:00,https://github.com/odoo/odoo/pull/193196,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582372934, 'issue_id': 2779861762, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193196.png)](https://mergebot.odoo.com/odoo/odoo/pull/193196)', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582373148, 'issue_id': 2779861762, 'author': 'fw-bot', 'body': '@caburj @Williambraecky while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76894) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582564911, 'issue_id': 2779861762, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 12, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583899660, 'issue_id': 2779861762, 'author': 'robodoo', 'body': '@caburj @Williambraecky linked pull request(s) odoo/enterprise#76894 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 10, 20, 0, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586349655, 'issue_id': 2779861762, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 8, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:41:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193196.png)](https://mergebot.odoo.com/odoo/odoo/pull/193196)

fw-bot (Issue Creator) on (2025-01-10 10:41:11 UTC): @caburj @Williambraecky while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76894) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

caburj on (2025-01-10 12:09:59 UTC): robodoo r+

robodoo on (2025-01-10 20:00:33 UTC): @caburj @Williambraecky linked pull request(s) odoo/enterprise#76894 not ready. Linked PRs are not staged until all of them are ready.

caburj on (2025-01-13 07:08:56 UTC): robodoo r+

"
2779861290,pull_request,closed,,[FIX] point_of_sale: no caba move during reconciliation,"The reconciliation of move lines creates a cash basis (caba) move under some conditions. This can i.e. happen for the PoS move during the closing of a session.

But the PoS move does not use the transition account of any used caba taxes but the ""real"" account directly (see commit a011dcc0bdbe892b0a505a6a4169c5168bd018f6). So there is no need for a caba move.
Further an exchange difference move for the tax amount may be created. The issue is that the tax amounts from the cash basis are not being matched correctly with the tax amounts from the PoS move (since we only look for the transition account on the PoS move).

Reproduce on runbot for l10n_mx
1. Install l10n_mx
2. Set the 'IVA 16% VENTAS' tax as Customer Taxes on a product. Set the Sales Price to 100.
3. Create a payment method and journal for the PoS 
    * Payment method: Cash on journal CSH1
    * Journal: POS
5. Create a PoS using the payment method and journal from the previous step.
6. Start a PoS session
7. Sell the product from step 2 via the Cash payment method.
8. Close the Session
9. The following journal entries will be created: (All the tax lines use the same tax account; the ""final"" and not the caba transition account) 
```
* 1 entry in the POS journal (order)
       base:       | - 100.0 $
       tax:        | -  16.0 $
       receivable: | + 116.0 $
     * 1 entry in the CSH1 journal (cash / payment)
       cash:       | + 116.0 $
       receivable: | - 116.0 $
     * 1 entry in the CBMX journal (caba)
       base:       | - 100.0 $
       base:       | + 100.0 $
       tax:        | -  16.0 $
       tax:        | +  16.0 $
     * 1 entry in the EXCH journal (exchange difference)
       for the cash basis rounding difference
       tax:        | -  16.0 $
       tax:        | +  16.0 $
```

This commit fixes the issue by just skipping the creation of caba moves during the reconciliation of the PoS move lines. Further we make sure no exchange difference entry is created for the (not even created) cash basis entries.

opw-4355124",svfu-odoo,2025-01-10 10:40:02+00:00,[],2025-01-27 11:46:36+00:00,2025-01-13 11:27:16+00:00,https://github.com/odoo/odoo/pull/193195,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582372651, 'issue_id': 2779861290, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193195.png)](https://mergebot.odoo.com/odoo/odoo/pull/193195)', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:41:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193195.png)](https://mergebot.odoo.com/odoo/odoo/pull/193195)

"
2779859568,pull_request,closed,,[FIX] pos_online_payment_self_order: runbot error 111171,"The `test_01_online_payment_with_multi_table` fails in runbot when running in ""no-demo"" mode. This is because it's not using the correct setup for testing restaurant configs.

We ensure, in this commit, that the test uses the correct setup for testing by inheriting from the pos_restaurant's TestFrontendCommon. The total amount in the tour is adjusted because the test product from the default setup has no tax.

Runbot Error: [111171](https://runbot.odoo.com/odoo/runbot.build.error/111171)

",caburj,2025-01-10 10:39:19+00:00,[],2025-01-30 13:07:59+00:00,2025-01-16 12:58:04+00:00,https://github.com/odoo/odoo/pull/193194,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582356386, 'issue_id': 2779859568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193194.png)](https://mergebot.odoo.com/odoo/odoo/pull/193194)', 'created_at': datetime.datetime(2025, 1, 10, 10, 39, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592639777, 'issue_id': 2779859568, 'author': 'Williambraecky', 'body': '@adgu-odoo May I ask you to review this?\r\nWe are trying to go forward with the no demo data by default and this is blocking.\r\nThanks :)', 'created_at': datetime.datetime(2025, 1, 15, 12, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594782892, 'issue_id': 2779859568, 'author': 'Williambraecky', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 8, 10, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:39:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193194.png)](https://mergebot.odoo.com/odoo/odoo/pull/193194)

Williambraecky on (2025-01-15 12:16:42 UTC): @adgu-odoo May I ask you to review this?
We are trying to go forward with the no demo data by default and this is blocking.
Thanks :)

Williambraecky on (2025-01-16 08:10:43 UTC): @robodoo r+

"
2779855641,pull_request,closed,,[FW][FIX] project_timesheet_holidays: make task field translatable,"The label of the ""Task"" field in the wizard that opens when you ""Add a line"" to ""My Timesheets"" was not exportable for translation after [this commit] and thus never translated in the UI.

This commit fixes that.

<img width=""851"" alt=""image"" src=""https://github.com/user-attachments/assets/5477ab35-7f84-402e-8d62-1dd8d8edd8ca"" />

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#193108",fw-bot,2025-01-10 10:38:11+00:00,[],2025-01-27 11:46:39+00:00,2025-01-13 11:41:45+00:00,https://github.com/odoo/odoo/pull/193193,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582347309, 'issue_id': 2779855641, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193193.png)](https://mergebot.odoo.com/odoo/odoo/pull/193193)', 'created_at': datetime.datetime(2025, 1, 10, 10, 38, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582347396, 'issue_id': 2779855641, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193157\n* odoo/odoo#193145\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 38, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586045962, 'issue_id': 2779855641, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta this forward port of odoo/odoo#193108 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586595255, 'issue_id': 2779855641, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 27, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:38:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193193.png)](https://mergebot.odoo.com/odoo/odoo/pull/193193)

fw-bot (Issue Creator) on (2025-01-10 10:38:12 UTC): @dylankiss @oomsveta this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193157
* odoo/odoo#193145

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:01:23 UTC): @dylankiss @oomsveta this forward port of odoo/odoo#193108 is awaiting action (not merged or closed).

dylankiss on (2025-01-13 09:27:59 UTC): @robodoo r+

"
2779852140,pull_request,closed,,[IMP] web: update owl to 2.5.3,"Update the OWL lib.

Release notes:
https://github.com/odoo/owl/releases/tag/v2.5.3

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rfr-odoo,2025-01-10 10:37:03+00:00,['rfr-odoo'],2025-01-10 13:32:08+00:00,2025-01-10 12:49:23+00:00,https://github.com/odoo/odoo/pull/193192,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582336844, 'issue_id': 2779852140, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193192.png)](https://mergebot.odoo.com/odoo/odoo/pull/193192)', 'created_at': datetime.datetime(2025, 1, 10, 10, 37, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582368373, 'issue_id': 2779852140, 'author': 'ged-odoo', 'body': '@robodoo fw=skipci r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 40, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582373692, 'issue_id': 2779852140, 'author': 'robodoo', 'body': ""@ged-odoo draft PRs can not be approved.\n\nFor your own safety I've ignored everything in your comment."", 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582395554, 'issue_id': 2779852140, 'author': 'ged-odoo', 'body': '@robodoo fw=skipci r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 43, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582395721, 'issue_id': 2779852140, 'author': 'robodoo', 'body': 'Not waiting for CI to create followup forward-ports.', 'created_at': datetime.datetime(2025, 1, 10, 10, 43, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:37:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193192.png)](https://mergebot.odoo.com/odoo/odoo/pull/193192)

ged-odoo on (2025-01-10 10:40:34 UTC): @robodoo fw=skipci r+

robodoo on (2025-01-10 10:41:14 UTC): @ged-odoo draft PRs can not be approved.

For your own safety I've ignored everything in your comment.

ged-odoo on (2025-01-10 10:43:45 UTC): @robodoo fw=skipci r+

robodoo on (2025-01-10 10:43:48 UTC): Not waiting for CI to create followup forward-ports.

"
2779851634,pull_request,open,,[FIX] mail: refine emoji reactions for comments,"Before this PR:
- A non-logged-in user attempts to react with emojis on a comment, resulting in a traceback.
- The reaction is not positioned directly below the comment, as other users add comments, it keeps moving further down.

After this PR:
- The buttons for adding emoji reactions to comments will be hidden for non-logged-in users.
- The reaction will be positioned directly below the comment for a more streamlined UI experience.

Task-4452408
",ibo-odoo,2025-01-10 10:36:51+00:00,[],2025-02-06 15:31:38+00:00,,https://github.com/odoo/odoo/pull/193191,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582335164, 'issue_id': 2779851634, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193191.png)](https://mergebot.odoo.com/odoo/odoo/pull/193191)', 'created_at': datetime.datetime(2025, 1, 10, 10, 36, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:36:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193191.png)](https://mergebot.odoo.com/odoo/odoo/pull/193191)

"
2779847697,pull_request,closed,,[FW][FIX] l10n_in_pos: tb on receipt with customer after payment done,"Steps:
===
- Open a POS shop.
- Create an order, select a customer, and validate it.

Issue:
===
- The generated receipt did not include customer name and phone details.

Cause:
===
- Customer details were not being passed correctly to the receipt template.

Fix:
===
- Updated the function for setting customer details to correctly include
in the receipt.

Task- 4431623

Forward-Port-Of: odoo/odoo#193084
Forward-Port-Of: odoo/odoo#191972",fw-bot,2025-01-10 10:35:43+00:00,[],2025-01-27 07:43:18+00:00,2025-01-13 07:27:33+00:00,https://github.com/odoo/odoo/pull/193190,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582331741, 'issue_id': 2779847697, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193190.png)](https://mergebot.odoo.com/odoo/odoo/pull/193190)', 'created_at': datetime.datetime(2025, 1, 10, 10, 35, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582331772, 'issue_id': 2779847697, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 35, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582536037, 'issue_id': 2779847697, 'author': 'fw-bot', 'body': '@djip-odoo @caburj the next pull request (odoo/odoo#193212) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 11, 55, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046709, 'issue_id': 2779847697, 'author': 'fw-bot', 'body': '@djip-odoo @caburj this forward port of odoo/odoo#191972 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586167075, 'issue_id': 2779847697, 'author': 'fw-bot', 'body': '@djip-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 13, 4, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586242588, 'issue_id': 2779847697, 'author': 'djip-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 6, 15, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:35:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193190.png)](https://mergebot.odoo.com/odoo/odoo/pull/193190)

fw-bot (Issue Creator) on (2025-01-10 10:35:45 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 11:55:52 UTC): @djip-odoo @caburj the next pull request (odoo/odoo#193212) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:06 UTC): @djip-odoo @caburj this forward port of odoo/odoo#191972 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 04:46:10 UTC): @djip-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.

djip-odoo on (2025-01-13 06:15:22 UTC): @robodoo r+

"
2779843430,pull_request,closed,,[FW][FIX] account: prevent double currency column when multiple active currencies exist,"Description of the issue/feature this PR addresses:
This PR addresses the issue where the currency column repeats in view_move_line_payment_tree view when there are multiple active currencies. This can lead to confusion and clutter in the user interface.

Current behavior before PR:
Before this PR, when multiple active currencies are set up, the currency column is duplicated in view_move_line_payment_tree view, displaying the same information multiple times.

Desired behavior after PR is merged:
After merging this PR, the currency column will appear only once when the optional hide setting is enabled, even with multiple active currencies, resulting in a cleaner and more readable report.

[Video](https://drive.google.com/file/d/1bL8L88y81HomX6Q9MkErmOGVDWHdE4_r/view)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192784",fw-bot,2025-01-10 10:33:44+00:00,[],2025-01-28 15:37:09+00:00,2025-01-14 15:23:55+00:00,https://github.com/odoo/odoo/pull/193189,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2582327242, 'issue_id': 2779843430, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193189.png)](https://mergebot.odoo.com/odoo/odoo/pull/193189)', 'created_at': datetime.datetime(2025, 1, 10, 10, 33, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582327309, 'issue_id': 2779843430, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo cherrypicking of pull request odoo/odoo#192784 failed.\n\nstdout:\n```\nAuto-merging addons/account/views/account_move_views.xml\nCONFLICT (content): Merge conflict in addons/account/views/account_move_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 33, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582510254, 'issue_id': 2779843430, 'author': 'rov-adhoc', 'body': ""@rugo-odoo Hi! It seems I don't have the necessary permissions to resolve the conflict and push the changes. Could you please help me with this?\r\n![image](https://github.com/user-attachments/assets/e3f13e24-9827-4f6f-807f-31c0757d8d05)"", 'created_at': datetime.datetime(2025, 1, 10, 11, 40, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618599, 'issue_id': 2779843430, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589755762, 'issue_id': 2779843430, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 12, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:33:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193189.png)](https://mergebot.odoo.com/odoo/odoo/pull/193189)

fw-bot (Issue Creator) on (2025-01-10 10:33:47 UTC): @rov-adhoc @rugo-odoo cherrypicking of pull request odoo/odoo#192784 failed.

stdout:
```
Auto-merging addons/account/views/account_move_views.xml
CONFLICT (content): Merge conflict in addons/account/views/account_move_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rov-adhoc on (2025-01-10 11:40:39 UTC): @rugo-odoo Hi! It seems I don't have the necessary permissions to resolve the conflict and push the changes. Could you please help me with this?
![image](https://github.com/user-attachments/assets/e3f13e24-9827-4f6f-807f-31c0757d8d05)

fw-bot (Issue Creator) on (2025-01-14 02:01:11 UTC): @rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).

rugo-odoo on (2025-01-14 12:12:52 UTC): @robodoo r+

"
2779840817,pull_request,closed,,[FIX] account_peppol: Handle non-Peppol EDI proxy,"An error can occur when the EDI proxy is not Peppol, because the mocked request does not exist in the mocked dictionary.

Steps to reproduce:
- Install l10n_it_edi and account_peppol
- Set up production for Italian Electronic Invoicing
- Set up demo mode for Peppol
- Create a new invoice and click on Send & Print
- Check the ""Send To Tax Agency"" box

An error will occur:
```
File
""/home/odoo/src/odoo/saas-17.4/addons/account_peppol/tools/demo_utils.py"",
line 74, in _mock_make_request
    return {
KeyError: 'SdiRiceviFile'
```

This error arises because the EDI proxy is not Peppol, and thus the request should not be mocked. This fix ensures that the EDI proxy is Peppol before mocking the request.

opw-4438740
",LouisGobert,2025-01-10 10:32:51+00:00,[],2025-01-27 10:49:35+00:00,2025-01-13 10:44:13+00:00,https://github.com/odoo/odoo/pull/193188,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582323274, 'issue_id': 2779840817, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193188.png)](https://mergebot.odoo.com/odoo/odoo/pull/193188)', 'created_at': datetime.datetime(2025, 1, 10, 10, 32, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582547682, 'issue_id': 2779840817, 'author': 'clbr-odoo', 'body': 'Hello, we fixed this in 18.0 as following:\r\nhttps://github.com/odoo/odoo/pull/191375\r\nCould you backport the same solution in 17 &17.4 please ?', 'created_at': datetime.datetime(2025, 1, 10, 12, 2, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582549173, 'issue_id': 2779840817, 'author': 'clbr-odoo', 'body': '@robodoo fw up to saas-17.4', 'created_at': datetime.datetime(2025, 1, 10, 12, 3, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582549235, 'issue_id': 2779840817, 'author': 'robodoo', 'body': ""@clbr-odoo expected '=', got 'up'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 10, 12, 3, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582549761, 'issue_id': 2779840817, 'author': 'clbr-odoo', 'body': '@robodoo up to saas-17.4', 'created_at': datetime.datetime(2025, 1, 10, 12, 3, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582549849, 'issue_id': 2779840817, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 1, 10, 12, 3, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586403550, 'issue_id': 2779840817, 'author': 'clbr-odoo', 'body': 'Thank you for the fix !\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 40, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:32:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193188.png)](https://mergebot.odoo.com/odoo/odoo/pull/193188)

clbr-odoo on (2025-01-10 12:02:34 UTC): Hello, we fixed this in 18.0 as following:
https://github.com/odoo/odoo/pull/191375
Could you backport the same solution in 17 &17.4 please ?

clbr-odoo on (2025-01-10 12:03:24 UTC): @robodoo fw up to saas-17.4

robodoo on (2025-01-10 12:03:26 UTC): @clbr-odoo expected '=', got 'up'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

clbr-odoo on (2025-01-10 12:03:42 UTC): @robodoo up to saas-17.4

robodoo on (2025-01-10 12:03:45 UTC): Forward-porting to 'saas-17.4'.

clbr-odoo on (2025-01-13 07:40:22 UTC): Thank you for the fix !
@robodoo r+

"
2779834034,pull_request,open,,[IMP] point_of_sale:  manage favorite products directly from the frontend,"In this commit:
===============
Users can now mark or unmark products as favorites directly from the POS frontend. Reduces the need for user redirection from the frontend to the backend for managing favorite products.

Task-4452738

",jipr-odoo,2025-01-10 10:29:36+00:00,[],2025-01-24 08:59:07+00:00,,https://github.com/odoo/odoo/pull/193187,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582315760, 'issue_id': 2779834034, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193187.png)](https://mergebot.odoo.com/odoo/odoo/pull/193187)', 'created_at': datetime.datetime(2025, 1, 10, 10, 29, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:29:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193187.png)](https://mergebot.odoo.com/odoo/odoo/pull/193187)

"
2779832384,pull_request,open,,[FIX] l10n_in_hr_holidays: fixed duration of the sandwich leave,"Steps to Reproduce:
1. Install the Indian Timeoff module (l10n_in_hr_holidays).
2. Create a leave type classified as ""sandwich leave.""
3. Try to create leave for a non-working day using that leave type. The system will display the duration as negative, whereas it should show 0.

Cause:
The duration calculation does not account for leave taken on non-working days.

Fix:
In this method, we will ensure that leave that falls on a non-working day is not considered sandwich leave.

Task-4430044

Co-authored-by: @mepe-odoo 


",yava-odoo,2025-01-10 10:28:51+00:00,[],2025-02-07 07:28:49+00:00,,https://github.com/odoo/odoo/pull/193186,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582313914, 'issue_id': 2779832384, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193186.png)](https://mergebot.odoo.com/odoo/odoo/pull/193186)', 'created_at': datetime.datetime(2025, 1, 10, 10, 28, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:28:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193186.png)](https://mergebot.odoo.com/odoo/odoo/pull/193186)

"
2779811268,pull_request,open,,[IMP] html_editor: table reset size of columns and rows separately,"### Description of the issue/feature this PR addresses:

- The table menu only included a ""Reset Table"" , which removed both `width` styles from columns and the `height` styles from rows, resetting  entire table.

### Desired behavior after PR is merged:

- Added ""Reset row size"" and ""Reset column size"" options to the table menu.
- The row/column reset option is displayed when hovering over a row/column with applicable height/width styles.
- On clicking the column reset button:
  - If the current cell width is greater than default width, distribute the excess width proportionally to cells in the same
  row with smaller widths.
  - If the current cell width is smaller than  default width, distribute width proportionally from cells with larger widths
  in same row to current cell.
- Double-clicking the border of a column or row removes the width or height styles from elements sharing the clicked border.

task-4240783",adch-odoo,2025-01-10 10:18:15+00:00,[],2025-02-07 06:56:48+00:00,,https://github.com/odoo/odoo/pull/193185,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582292778, 'issue_id': 2779811268, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193185.png)](https://mergebot.odoo.com/odoo/odoo/pull/193185)', 'created_at': datetime.datetime(2025, 1, 10, 10, 18, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582773675, 'issue_id': 2779811268, 'author': 'deso-odoo', 'body': 'I would suggest that you keep two separate commits: one for the reset row/column size that will be accessed through the table menu and the other for the reset row/column size by double clicking the cell border.', 'created_at': datetime.datetime(2025, 1, 10, 13, 59, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 10:18:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193185.png)](https://mergebot.odoo.com/odoo/odoo/pull/193185)

deso-odoo on (2025-01-10 13:59:46 UTC): I would suggest that you keep two separate commits: one for the reset row/column size that will be accessed through the table menu and the other for the reset row/column size by double clicking the cell border.

"
2779755158,pull_request,closed,,[FW][FIX] crm: display the missing line in crm helper,"**Specifications:**
When the domain is specified, helper in crm helper should display an extra line, which explains that any email sent to alias@domain will create a lead.

**Technical reason:**
A code was added in `crm.lead` which checks for the company, but in data file company was already specified as `False`. Hence, the missing line.

**After this PR:**
If the custom email domain is set, crm helper will display an extra line.

Task-4377574

Forward-Port-Of: odoo/odoo#190936",fw-bot,2025-01-10 09:51:55+00:00,[],2025-01-24 17:14:52+00:00,2025-01-10 17:11:29+00:00,https://github.com/odoo/odoo/pull/193184,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582235000, 'issue_id': 2779755158, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193184.png)](https://mergebot.odoo.com/odoo/odoo/pull/193184)', 'created_at': datetime.datetime(2025, 1, 10, 9, 51, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582235031, 'issue_id': 2779755158, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 9, 51, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:51:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193184.png)](https://mergebot.odoo.com/odoo/odoo/pull/193184)

fw-bot (Issue Creator) on (2025-01-10 09:51:57 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779707270,pull_request,closed,,[FIX] website_hr_recruitment: website_hr_recruitment_tour_edit_form tour,"In this commit, we prefer to use selector in trigger instead of use native in run function. This is better to ensure trigger is in DOM when the run is activated. The findTrigger method in tour engine is based on MutationObserver while run function in a step definition is launched once the trigger has been found.
This is why it can cause the following error during the tour.

runbot-error-id~106439

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-10 09:32:01+00:00,[],2025-01-24 13:43:29+00:00,2025-01-10 13:35:51+00:00,https://github.com/odoo/odoo/pull/193183,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582179946, 'issue_id': 2779707270, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193183.png)](https://mergebot.odoo.com/odoo/odoo/pull/193183)', 'created_at': datetime.datetime(2025, 1, 10, 9, 32, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582516484, 'issue_id': 2779707270, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 11, 44, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:32:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193183.png)](https://mergebot.odoo.com/odoo/odoo/pull/193183)

BastienFafchamps on (2025-01-10 11:44:39 UTC): @robodoo r+

"
2779701152,pull_request,closed,,[FIX] hr_attendance : fix `get_base_url` ref,"Issue: when the website has a domain `get_base_url` return the domain if the record calling it has a company set on it

- call the function with an empty object to get the database url instead

Task: 3903743



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-10 09:29:17+00:00,[],2025-01-30 09:42:49+00:00,2025-01-16 09:33:23+00:00,https://github.com/odoo/odoo/pull/193182,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582171477, 'issue_id': 2779701152, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193182.png)](https://mergebot.odoo.com/odoo/odoo/pull/193182)', 'created_at': datetime.datetime(2025, 1, 10, 9, 29, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:29:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193182.png)](https://mergebot.odoo.com/odoo/odoo/pull/193182)

"
2779699369,pull_request,open,, [IMP] auth_signup: do not spam the user on new connection,"Purpose
=======
When a user has TOTP enabled, on its first login, he receives 2 emails
- ""New Connection"" email, sent when he enters his credentials
- ""Trusted Device Added"", if he checked ""Don't ask again on this device""

Because the user needs to login to add a device, and that he will receive the
""New Connection"" email anyway, we don't notify when adding a new device.

We merge the information (like location, etc) in the ""New Connection"" email
template, and we also make all notification emails consistent (same template, same
information).

Task-4070794",std-odoo,2025-01-10 09:28:32+00:00,[],2025-02-07 13:59:56+00:00,,https://github.com/odoo/odoo/pull/193181,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582169369, 'issue_id': 2779699369, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193181.png)](https://mergebot.odoo.com/odoo/odoo/pull/193181)', 'created_at': datetime.datetime(2025, 1, 10, 9, 28, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643016679, 'issue_id': 2779699369, 'author': 'awa-odoo', 'body': '@std-odoo \r\n\r\n> instead of waiting for the CROM to run\r\n\r\nI like CROM better, we should rename all CRONs to CROMs !', 'created_at': datetime.datetime(2025, 2, 7, 13, 57, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643023258, 'issue_id': 2779699369, 'author': 'std-odoo', 'body': '@awa-odoo Good catch 😅\r\n(language tool rale for CRON but not for CROM 😆)', 'created_at': datetime.datetime(2025, 2, 7, 13, 59, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:28:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193181.png)](https://mergebot.odoo.com/odoo/odoo/pull/193181)

awa-odoo on (2025-02-07 13:57:26 UTC): @std-odoo 


I like CROM better, we should rename all CRONs to CROMs !

std-odoo (Issue Creator) on (2025-02-07 13:59:55 UTC): @awa-odoo Good catch 😅
(language tool rale for CRON but not for CROM 😆)

"
2779697381,pull_request,open,,[FIX] hr: prevent error when loading sample data,"When the ``dep_administration(Administration)`` is deleted and the user tries
to load sample data,
a traceback will appear.

Steps to reproduce the error:
- Install ``hr_attendance`` module
- Go to Employees > Departments > Delete ``Administration``
- Go to Attendances > click on ``Load sample data``

Traceback:
```
ValueError: External ID not found in the system: hr.dep_administration

ParseError: while parsing /home/odoo/src/odoo/18.0/addons/hr/data/scenarios/hr_scenario.xml: 126 somewhere inside
<record id=""employee_mw"" model=""hr.employee"" forcecreate=""1"">
```

https://github.com/odoo/odoo/blob/7757de56b3038710f2958c71ec9b3f1fdfbc7936/addons/hr/models/hr_employee.py#L681 When the user clicks on ``Load sample data``, ``data/scenarios/hr_scenario.xml`` file will load,
but when ``dep_administration(Administration)`` is deleted,
It will lead to the above traceback because ``dep_administration`` is used
in ``data/scenarios/hr_scenario.xml`` file.

sentry-6002819667

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",reka-odoo,2025-01-10 09:27:39+00:00,[],2025-01-10 10:00:16+00:00,,https://github.com/odoo/odoo/pull/193179,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582167329, 'issue_id': 2779697381, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193179.png)](https://mergebot.odoo.com/odoo/odoo/pull/193179)', 'created_at': datetime.datetime(2025, 1, 10, 9, 27, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:27:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193179.png)](https://mergebot.odoo.com/odoo/odoo/pull/193179)

"
2779672775,pull_request,closed,,[FW][FIX] account: prevent double currency column when multiple active currencies exist,"Description of the issue/feature this PR addresses:
This PR addresses the issue where the currency column repeats in view_move_line_payment_tree view when there are multiple active currencies. This can lead to confusion and clutter in the user interface.

Current behavior before PR:
Before this PR, when multiple active currencies are set up, the currency column is duplicated in view_move_line_payment_tree view, displaying the same information multiple times.

Desired behavior after PR is merged:
After merging this PR, the currency column will appear only once when the optional hide setting is enabled, even with multiple active currencies, resulting in a cleaner and more readable report.

[Video](https://drive.google.com/file/d/1bL8L88y81HomX6Q9MkErmOGVDWHdE4_r/view)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192784",fw-bot,2025-01-10 09:15:59+00:00,[],2025-01-31 12:11:56+00:00,2025-01-17 12:06:51+00:00,https://github.com/odoo/odoo/pull/193178,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582140939, 'issue_id': 2779672775, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193178.png)](https://mergebot.odoo.com/odoo/odoo/pull/193178)', 'created_at': datetime.datetime(2025, 1, 10, 9, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582140957, 'issue_id': 2779672775, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 9, 16, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582327269, 'issue_id': 2779672775, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo the next pull request (odoo/odoo#193189) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 10, 33, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618562, 'issue_id': 2779672775, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478148, 'issue_id': 2779672775, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313013, 'issue_id': 2779672775, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597278028, 'issue_id': 2779672775, 'author': 'fw-bot', 'body': '@rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 17, 2, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597699466, 'issue_id': 2779672775, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 8, 34, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:16:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193178.png)](https://mergebot.odoo.com/odoo/odoo/pull/193178)

fw-bot (Issue Creator) on (2025-01-10 09:16:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 10:33:46 UTC): @rov-adhoc @rugo-odoo the next pull request (odoo/odoo#193189) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-14 02:01:10 UTC): @rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:22 UTC): @rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:02 UTC): @rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-17 02:00:58 UTC): @rov-adhoc @rugo-odoo this forward port of odoo/odoo#192784 is awaiting action (not merged or closed).

rugo-odoo on (2025-01-17 08:34:47 UTC): @robodoo r+

"
2779669939,pull_request,closed,,[FIX] project_todo: allow user to edit tag and users in todo on mobile,"Before this commit, when the user is on mobile and try to edit/create a new todo, the user cannot edit a tag or users because those fields are displayed in actions dropdown and that dropdown is closed each time the user clicks on one of those fields.

This commit prevents to close the dropdown in todo form view since that dropdown contains fields and not buttons to let the user to edit those fields.",xavierbol,2025-01-10 09:14:33+00:00,[],2025-01-24 20:08:41+00:00,2025-01-10 20:05:59+00:00,https://github.com/odoo/odoo/pull/193177,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582138011, 'issue_id': 2779669939, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193177.png)](https://mergebot.odoo.com/odoo/odoo/pull/193177)', 'created_at': datetime.datetime(2025, 1, 10, 9, 14, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:14:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193177.png)](https://mergebot.odoo.com/odoo/odoo/pull/193177)

"
2779666560,pull_request,closed,,[REV] website_sale: pricelist previously removed override,"Partial Revert of 2f7bc1e606809b9a65d357c08fea26b364d81941 The fix applied in 17.0 when forward porting it reintroduced a function that was previously removed.

[Mentioned diff](https://github.com/odoo/odoo/commit/b25e8e2cfefcf2af9af7a7cbe04110ac35f81f3d#diff-60accb44cf04ef4bd2a178a0dfefeb9facdf3724caf4ba080ffa63d8b08c807eR35:~:text=%2B-,def%20_get_pricelist_price_before_discount(self)%3A,-36)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",livaios,2025-01-10 09:12:57+00:00,[],2025-01-24 14:16:50+00:00,2025-01-10 14:06:07+00:00,https://github.com/odoo/odoo/pull/193176,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582134538, 'issue_id': 2779666560, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193176.png)](https://mergebot.odoo.com/odoo/odoo/pull/193176)', 'created_at': datetime.datetime(2025, 1, 10, 9, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582152717, 'issue_id': 2779666560, 'author': 'livaios', 'body': '@robodoo up to 18.0', 'created_at': datetime.datetime(2025, 1, 10, 9, 21, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582152807, 'issue_id': 2779666560, 'author': 'robodoo', 'body': ""Forward-porting to '18.0'."", 'created_at': datetime.datetime(2025, 1, 10, 9, 21, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582309843, 'issue_id': 2779666560, 'author': 'Feyensv', 'body': ""@robodoo delegate+\r\n\r\nonce it's the right method that is removed :eyes:"", 'created_at': datetime.datetime(2025, 1, 10, 10, 26, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582479772, 'issue_id': 2779666560, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 11, 23, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:13:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193176.png)](https://mergebot.odoo.com/odoo/odoo/pull/193176)

livaios (Issue Creator) on (2025-01-10 09:21:44 UTC): @robodoo up to 18.0

robodoo on (2025-01-10 09:21:47 UTC): Forward-porting to '18.0'.

Feyensv on (2025-01-10 10:26:48 UTC): @robodoo delegate+

once it's the right method that is removed :eyes:

livaios (Issue Creator) on (2025-01-10 11:23:49 UTC): @robodoo r+

"
2779661601,pull_request,closed,,[IMP] hr_holidays: Timeoff Type from view revamp,"- change the way fields are arranged to the view to eb for ux frindly

Task: 4444037



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-10 09:10:38+00:00,[],2025-01-23 15:33:46+00:00,2025-01-23 15:23:59+00:00,https://github.com/odoo/odoo/pull/193175,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2582129618, 'issue_id': 2779661601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193175.png)](https://mergebot.odoo.com/odoo/odoo/pull/193175)', 'created_at': datetime.datetime(2025, 1, 10, 9, 10, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607355632, 'issue_id': 2779661601, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 14, 11, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607470574, 'issue_id': 2779661601, 'author': 'robodoo', 'body': ""@amah-odoo @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 22, 14, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609193487, 'issue_id': 2779661601, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 8, 50, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609294179, 'issue_id': 2779661601, 'author': 'robodoo', 'body': ""@amah-odoo @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 23, 9, 24, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 09:10:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193175.png)](https://mergebot.odoo.com/odoo/odoo/pull/193175)

tivisse on (2025-01-22 14:11:59 UTC): @robodoo r+

robodoo on (2025-01-22 14:56:55 UTC): @amah-odoo @tivisse 'ci/runbot' failed on this reviewed PR.

tivisse on (2025-01-23 08:50:24 UTC): @robodoo r+

robodoo on (2025-01-23 09:24:56 UTC): @amah-odoo @tivisse 'ci/runbot' failed on this reviewed PR.

"
2779636311,pull_request,closed,,[FIX] web: use count limit on the domain field widget,"Executing a search count on a table with a large number of records can be slow, which is why a limit was added on b37d221e.

The same issue exists on the domain field widget, and so the same solution is applied here.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-10 08:58:45+00:00,[],2025-01-10 15:25:55+00:00,2025-01-10 11:01:21+00:00,https://github.com/odoo/odoo/pull/193174,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582103238, 'issue_id': 2779636311, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193174.png)](https://mergebot.odoo.com/odoo/odoo/pull/193174)', 'created_at': datetime.datetime(2025, 1, 10, 8, 58, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:58:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193174.png)](https://mergebot.odoo.com/odoo/odoo/pull/193174)

"
2779624392,pull_request,closed,,[FIX] account: fix activity date display,"After commit odoo/odoo@6e4a036, the activity date component breaks onto a new line. This fix ensures that the activity date remains on the same line and no longer wraps.

opw-4402682

**Description of the issue/feature this PR addresses:**

- In the Accounting dashboard, when an activity is set on an account journal of type `Miscellaneous`, the `date` component of the `activity` is not aligned properly.
- The date component breaks into a new line, causing a misalignment in the display.
- This fix aims to fix the display issue by ensuring the activity date remains properly aligned on the same line as the rest of the content.
- It prevents the date component from wrapping onto the next line, thereby improving the visual consistency of the dashboard.

**Current behavior before PR:**
The `activity date` falls onto the next line.
![Acc-Dashboard-before-FIX](https://github.com/user-attachments/assets/b3282744-3b11-41e7-9e03-2bd4d2a00116)

**Desired behavior after PR is merged:**
The `activity date` stays on the same line.
![Acc-Dashboard-After-FIX](https://github.com/user-attachments/assets/a574f260-f727-435e-b5c8-65eaa3b8e0be)


**Steps to reproduce activity date display issue :**

- Install the Accounting module.
- Navigate to the Accounting dashboard.
- Create a new account journal of type `Miscellaneous`
- Set an `activity` on that journal.
- Return to the dashboard.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",suma-odoo,2025-01-10 08:53:15+00:00,[],2025-01-27 11:46:47+00:00,2025-01-13 11:43:52+00:00,https://github.com/odoo/odoo/pull/193173,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582089737, 'issue_id': 2779624392, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193173.png)](https://mergebot.odoo.com/odoo/odoo/pull/193173)', 'created_at': datetime.datetime(2025, 1, 10, 8, 53, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586562934, 'issue_id': 2779624392, 'author': 'hupo-odoo', 'body': ""Thanks you for the PR. It LGTM, transfering to final reviewer (don't have r+ rights)"", 'created_at': datetime.datetime(2025, 1, 13, 9, 12, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:53:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193173.png)](https://mergebot.odoo.com/odoo/odoo/pull/193173)

hupo-odoo on (2025-01-13 09:12:56 UTC): Thanks you for the PR. It LGTM, transfering to final reviewer (don't have r+ rights)

"
2779619691,pull_request,closed,,[FW][FIX] l10n_my_*: Enable invoicing foreign customers.,"The current logic is not working when trying to invoice foreign customers. A few fields that could be useful are hidden, and we don't add the id information in the xml file which causes it to fail.

In practice, it is valid to invoice a foreign customer and use a generic TIN if they don't have a malaysian one when reporting to the tax authorities. This change will allow just that; we add the id information to the xml which allow to correctly issue a valid invoice for a foreign customer (tested on pre- production)

opw-4438259

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193091
Forward-Port-Of: odoo/odoo#193000",fw-bot,2025-01-10 08:50:43+00:00,[],2025-01-24 17:47:19+00:00,2025-01-10 17:44:48+00:00,https://github.com/odoo/odoo/pull/193172,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582085098, 'issue_id': 2779619691, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193172.png)](https://mergebot.odoo.com/odoo/odoo/pull/193172)', 'created_at': datetime.datetime(2025, 1, 10, 8, 50, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582085114, 'issue_id': 2779619691, 'author': 'fw-bot', 'body': '@vin-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193163\n* odoo/odoo#193162\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 8, 50, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582090420, 'issue_id': 2779619691, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 53, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:50:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193172.png)](https://mergebot.odoo.com/odoo/odoo/pull/193172)

fw-bot (Issue Creator) on (2025-01-10 08:50:45 UTC): @vin-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193163
* odoo/odoo#193162

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-10 08:53:34 UTC): @robodoo r+

"
2779611952,pull_request,closed,,[FIX] hr_recruitment: action_unarchive does not return recordset,"The `action_unarchive` returns None by default. Rollback the change from odoo/odoo#183691 on this file which is incorrect.

task-4453279

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-10 08:46:25+00:00,[],2025-01-16 08:05:13+00:00,2025-01-15 18:18:25+00:00,https://github.com/odoo/odoo/pull/193171,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582077409, 'issue_id': 2779611952, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193171.png)](https://mergebot.odoo.com/odoo/odoo/pull/193171)', 'created_at': datetime.datetime(2025, 1, 10, 8, 46, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582667913, 'issue_id': 2779611952, 'author': 'kmagusiak', 'body': '@omarkhair Done. Can you r+?', 'created_at': datetime.datetime(2025, 1, 10, 13, 3, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582679324, 'issue_id': 2779611952, 'author': 'omarkhair', 'body': ""It's my second week in R&D and I believe we have a couple of testing stages before r+.\r\nI'll ask my team leader to handle the merge @Bertrand2 \r\nThanks for your patience @kmagusiak :)"", 'created_at': datetime.datetime(2025, 1, 10, 13, 9, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593255587, 'issue_id': 2779611952, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 15, 38, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:46:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193171.png)](https://mergebot.odoo.com/odoo/odoo/pull/193171)

kmagusiak (Issue Creator) on (2025-01-10 13:03:50 UTC): @omarkhair Done. Can you r+?

omarkhair on (2025-01-10 13:09:36 UTC): It's my second week in R&D and I believe we have a couple of testing stages before r+.
I'll ask my team leader to handle the merge @Bertrand2 
Thanks for your patience @kmagusiak :)

ryv-odoo on (2025-01-15 15:38:53 UTC): @robodoo r+

"
2779601155,pull_request,closed,,[FW][FIX] mail: trash icon on attachments,"Portal users don't have access to delete attachments created by others. In this case, the trash icon shouldn't be displayed. This PR removes this icon from the attachment of a message when the message is not editable by the current user.

Forward-Port-Of: odoo/odoo#192310",fw-bot,2025-01-10 08:40:20+00:00,[],2025-01-10 17:40:58+00:00,2025-01-10 16:19:20+00:00,https://github.com/odoo/odoo/pull/193170,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2582066839, 'issue_id': 2779601155, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193170.png)](https://mergebot.odoo.com/odoo/odoo/pull/193170)', 'created_at': datetime.datetime(2025, 1, 10, 8, 40, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582066865, 'issue_id': 2779601155, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192555\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 8, 40, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582180457, 'issue_id': 2779601155, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 10, 9, 32, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582446384, 'issue_id': 2779601155, 'author': 'maki-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 11, 7, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:40:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193170.png)](https://mergebot.odoo.com/odoo/odoo/pull/193170)

fw-bot (Issue Creator) on (2025-01-10 08:40:21 UTC): @maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192555

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 09:32:18 UTC): @maki-odoo @alexkuhn ci/runbot failed on this forward-port PR

maki-odoo on (2025-01-10 11:07:09 UTC): @robodoo r+

"
2779579777,pull_request,closed,,[FW][FIX] crm: display the missing line in crm helper,"**Specifications:**
When the domain is specified, helper in crm helper should display an extra line, which explains that any email sent to alias@domain will create a lead.

**Technical reason:**
A code was added in `crm.lead` which checks for the company, but in data file company was already specified as `False`. Hence, the missing line.

**After this PR:**
If the custom email domain is set, crm helper will display an extra line.

Task-4377574

Forward-Port-Of: odoo/odoo#190936",fw-bot,2025-01-10 08:28:07+00:00,[],2025-01-24 20:08:39+00:00,2025-01-10 20:05:52+00:00,https://github.com/odoo/odoo/pull/193169,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2582045705, 'issue_id': 2779579777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193169.png)](https://mergebot.odoo.com/odoo/odoo/pull/193169)', 'created_at': datetime.datetime(2025, 1, 10, 8, 28, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582045719, 'issue_id': 2779579777, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 8, 28, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:28:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193169.png)](https://mergebot.odoo.com/odoo/odoo/pull/193169)

fw-bot (Issue Creator) on (2025-01-10 08:28:09 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779562601,pull_request,closed,,[FIX] portal: add modification of API keys expiration date,"Before this commit, for a portal user, the creation of an API key will always be valid for one day.

This commit adds the option of selecting a period for which the API key will be valid.

The periods proposed take into account of the user's group. Consequently, in the case of a portal user, the administrator must enter a maximum number of days for the portal group
(the `api_key_duration` field in the `res.groups` model).

opw-4414586",thle-odoo,2025-01-10 08:18:00+00:00,[],2025-02-05 14:26:51+00:00,2025-02-05 14:26:51+00:00,https://github.com/odoo/odoo/pull/193168,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2582028785, 'issue_id': 2779562601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193168.png)](https://mergebot.odoo.com/odoo/odoo/pull/193168)', 'created_at': datetime.datetime(2025, 1, 10, 8, 18, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633416745, 'issue_id': 2779562601, 'author': 'beledouxdenis', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 0, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634741208, 'issue_id': 2779562601, 'author': 'robodoo', 'body': '@thle-odoo @beledouxdenis staging failed: ci/runbot on 1e56f6fd87f32ce6ed65441261b721ea4277e9a8 (view more at https://runbot.odoo.com/runbot/build/74482033)', 'created_at': datetime.datetime(2025, 2, 4, 18, 22, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635034733, 'issue_id': 2779562601, 'author': 'beledouxdenis', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 4, 20, 44, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:18:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193168.png)](https://mergebot.odoo.com/odoo/odoo/pull/193168)

beledouxdenis on (2025-02-04 10:00:52 UTC): robodoo r+

robodoo on (2025-02-04 18:22:59 UTC): @thle-odoo @beledouxdenis staging failed: ci/runbot on 1e56f6fd87f32ce6ed65441261b721ea4277e9a8 (view more at https://runbot.odoo.com/runbot/build/74482033)

beledouxdenis on (2025-02-04 20:44:53 UTC): robodoo retry

"
2779537623,pull_request,closed,,[FIX] spreadsheet_account: auto-complete type of account group,"Currently, there's no way to know what are the valid/expected values for the ""type"" argument of ODOO.ACCOUNT.GROUP.

It makes it almost impossible to use if you are not technical and you can't go and check the code.

The valid inputs are the *technical* value of the selection field `account_type`.

I had to copy-paste and hard-code the selection field option. This is clearly not ideal (not a single source of truth), but the current auto-complete system is synchronous. I can't make a server call to fetch all the options. Besides, the UX is better if the auto-complete shows up instantly rather than having to wait for a network round-trip.

Task: 4465573

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-10 08:03:19+00:00,[],2025-01-27 10:18:02+00:00,2025-01-13 10:07:50+00:00,https://github.com/odoo/odoo/pull/193167,"[('RD', 'research & development, internal work')]","[{'comment_id': 2582004706, 'issue_id': 2779537623, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193167.png)](https://mergebot.odoo.com/odoo/odoo/pull/193167)', 'created_at': datetime.datetime(2025, 1, 10, 8, 3, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586446315, 'issue_id': 2779537623, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 9, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 08:03:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193167.png)](https://mergebot.odoo.com/odoo/odoo/pull/193167)

rrahir on (2025-01-13 08:09:31 UTC): @robodoo r+

"
2779526685,pull_request,closed,,[FW][FIX] purchase_stock: adjust button layout,"In Odoo, an issue araised where the ""Expected Arrival"" date field was overlapped when zooming in. This was due to the button ""action_purchase_vendor_delay_report"".

To adress this, the related button was encapsulated within a <div> element. This change ensure that the layout remains consistent and the elements does not overlap regardless of the zoom level.

opw-4316093

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192799
Forward-Port-Of: odoo/odoo#187179",fw-bot,2025-01-10 07:56:19+00:00,[],2025-01-24 17:47:20+00:00,2025-01-10 17:44:52+00:00,https://github.com/odoo/odoo/pull/193166,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581994755, 'issue_id': 2779526685, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193166.png)](https://mergebot.odoo.com/odoo/odoo/pull/193166)', 'created_at': datetime.datetime(2025, 1, 10, 7, 56, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581994766, 'issue_id': 2779526685, 'author': 'fw-bot', 'body': '@jaeschwa @svs-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 7, 56, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582265842, 'issue_id': 2779526685, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 5, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 07:56:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193166.png)](https://mergebot.odoo.com/odoo/odoo/pull/193166)

fw-bot (Issue Creator) on (2025-01-10 07:56:21 UTC): @jaeschwa @svs-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jaeschwa on (2025-01-10 10:05:44 UTC): @robodoo r+

"
2779524677,pull_request,open,,[IMP] website: introduces `s_countdown_inline`,"task-4367910




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Brieuc-brd,2025-01-10 07:55:01+00:00,[],2025-02-06 10:17:41+00:00,,https://github.com/odoo/odoo/pull/193165,"[('RD', 'research & development, internal work')]","[{'comment_id': 2581993070, 'issue_id': 2779524677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193165.png)](https://mergebot.odoo.com/odoo/odoo/pull/193165)', 'created_at': datetime.datetime(2025, 1, 10, 7, 55, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601674396, 'issue_id': 2779524677, 'author': 'Brieuc-brd', 'body': 'Hey @stefanorigano 👋 \r\nCould you take a look at this and tell me what you think ?\r\nThanks in advance ! 🙏', 'created_at': datetime.datetime(2025, 1, 20, 7, 59, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633295763, 'issue_id': 2779524677, 'author': 'lebl-odoo', 'body': 'Hello @Brieuc-brd , \r\n\r\nI had a quick look to this PR since it is ready for review.\r\n\r\n1/ I was wondering why we prefer to use a slider instead of number input to handle the padding?\r\n![image](https://github.com/user-attachments/assets/f550d30f-62c2-4739-a612-043eede9adaa)\r\n![image](https://github.com/user-attachments/assets/1937fe6e-2633-4b4f-9710-baeada9fcecf)\r\n\r\nI\'m curious because I would like to have pretty the same option as much as possible to ensure our tool is coherent. It will help user to say ""Oh, ok, I know this option"" instead of ""Oh, this option is the same than the other one but it is displayed in another way"".\r\n\r\n2/ Default template comes with border, but when you apply a background color, you\'ll see\r\n![image](https://github.com/user-attachments/assets/aa1f97e8-6e73-4a94-bc79-9c1445722b6a)\r\n\r\nMoreover, I\'m not sure if it\'s relevant to display border-radius with the default template.', 'created_at': datetime.datetime(2025, 2, 4, 9, 10, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636386234, 'issue_id': 2779524677, 'author': 'Brieuc-brd', 'body': ""Hello @lebl-odoo 👋 \r\nThanks for your feedbacks 👍 \r\n\r\n> 1/ I was wondering why we prefer to use a slider instead of number input to handle the padding?\r\n\r\nI've taken the same feature from `s_blockquote`, which is also an inner snippet to remain consistent, but I don't mind using a classic input 👍 .\r\n![Capture d’écran 2025-02-05 à 11 46 26](https://github.com/user-attachments/assets/973985a5-fee6-46d1-bfe7-1b0f22a49860)\r\n\r\n\r\n> 2/ Default template comes with border, but when you apply a background color, you'll see\r\n\r\nWhat I see on your screenshot is that you've changed the wrapper background instead of the countdown, which gives this rendering.\r\nAs shown in the Figma file, we give the user the option of also changing the background of the element containing the countdown to ensure that the countdown is always visible against a complex background :\r\n\r\n| Example 1 | Example 2 |\r\n|--------|--------|\r\n| ![Capture d’écran 2025-02-05 à 11 36 41](https://github.com/user-attachments/assets/db62eaa4-eb0f-46c3-9233-30f7459c095d) | ![Capture d’écran 2025-02-05 à 11 39 04](https://github.com/user-attachments/assets/79a57195-69ac-4090-87e5-ef03449ff95f) |\r\n\r\nYou can therefore change the style of the countdown and the background colour of its container: https://www.awesomescreenshot.com/video/36264365?key=c417993ddcf17cb0e9a100ab95155185\r\n\r\n> Moreover, I'm not sure if it's relevant to display border-radius with the default template.\r\n\r\nThe default template is an alert, so it makes sense to follow the same design rules. If the user wants a square alert, the rounded corners should probably be changed globally 🤔 .\r\n\r\n![Capture d’écran 2025-02-05 à 11 45 06](https://github.com/user-attachments/assets/42d7c788-65b9-4e64-b377-9c4f4c84675c)\r\n\r\ncc. @stefanorigano"", 'created_at': datetime.datetime(2025, 2, 5, 10, 49, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636525417, 'issue_id': 2779524677, 'author': 'lebl-odoo', 'body': ""1/ Good to know we already implemented this slider elsewhere, I'll take this point on my own. Most advanced users will prefer to be able to add the right px they need while the lambda users may prefer the slider input. Since we already use pixels elsewhere (border, for example), let's continue that way : prefer to user an input field instead of slider :)\r\n\r\n2/ Thx for the complete answer, you convinced me. Nothing to do here\r\n\r\nThank you for the good work :tada:"", 'created_at': datetime.datetime(2025, 2, 5, 11, 55, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638982912, 'issue_id': 2779524677, 'author': 'Brieuc-brd', 'body': ""> let's continue that way : prefer to user an input field instead of slider :)\r\n\r\nDone ✅ \r\n\r\n@stefanorigano 👋 what do you think ?"", 'created_at': datetime.datetime(2025, 2, 6, 6, 54, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639322534, 'issue_id': 2779524677, 'author': 'stefanorigano', 'body': '@lebl-odoo , I think the slider brings significant UX advantages.\r\n\r\nBeyond being more intuitive, it allows users to instantly see the effect of their changes.. just move the slider and observe the result on screen, without needing to type random values manually on a keyboard to test.\r\n\r\n>  Most advanced users will prefer to be able to add the right px they need while the lambda users may prefer the slider input.\r\n\r\nWould it be a good compromise to display the exact value within the slider, like we already do elsewhere? That way, we combine the best of both approaches. Sounds like a win-win to me 🙂\r\n\r\n(@Brieuc-brd , if confirmed just add the `data-display-range-value=""true"" data-display-range-value-unit=""px""` attributes in the controllers)\r\n\r\n| `/shop` gap | card\'s image ratio |\r\n|--------|--------|\r\n| ![image](https://github.com/user-attachments/assets/f4129279-fe76-475f-acdd-a54c4ae97937) | ![image](https://github.com/user-attachments/assets/cafaa4ed-d42f-4d31-9706-0e089134447d) |', 'created_at': datetime.datetime(2025, 2, 6, 9, 48, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639396440, 'issue_id': 2779524677, 'author': 'lebl-odoo', 'body': ""@stefanorigano I couldn't have wished for anything better! \r\n\r\nPay attention to the max value which should be high enough :)"", 'created_at': datetime.datetime(2025, 2, 6, 10, 17, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 07:55:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193165.png)](https://mergebot.odoo.com/odoo/odoo/pull/193165)

Brieuc-brd (Issue Creator) on (2025-01-20 07:59:16 UTC): Hey @stefanorigano 👋 
Could you take a look at this and tell me what you think ?
Thanks in advance ! 🙏

lebl-odoo on (2025-02-04 09:10:40 UTC): Hello @Brieuc-brd , 

I had a quick look to this PR since it is ready for review.

1/ I was wondering why we prefer to use a slider instead of number input to handle the padding?
![image](https://github.com/user-attachments/assets/f550d30f-62c2-4739-a612-043eede9adaa)
![image](https://github.com/user-attachments/assets/1937fe6e-2633-4b4f-9710-baeada9fcecf)

I'm curious because I would like to have pretty the same option as much as possible to ensure our tool is coherent. It will help user to say ""Oh, ok, I know this option"" instead of ""Oh, this option is the same than the other one but it is displayed in another way"".

2/ Default template comes with border, but when you apply a background color, you'll see
![image](https://github.com/user-attachments/assets/aa1f97e8-6e73-4a94-bc79-9c1445722b6a)

Moreover, I'm not sure if it's relevant to display border-radius with the default template.

Brieuc-brd (Issue Creator) on (2025-02-05 10:49:54 UTC): Hello @lebl-odoo 👋 
Thanks for your feedbacks 👍 


I've taken the same feature from `s_blockquote`, which is also an inner snippet to remain consistent, but I don't mind using a classic input 👍 .
![Capture d’écran 2025-02-05 à 11 46 26](https://github.com/user-attachments/assets/973985a5-fee6-46d1-bfe7-1b0f22a49860)



What I see on your screenshot is that you've changed the wrapper background instead of the countdown, which gives this rendering.
As shown in the Figma file, we give the user the option of also changing the background of the element containing the countdown to ensure that the countdown is always visible against a complex background :

| Example 1 | Example 2 |
|--------|--------|
| ![Capture d’écran 2025-02-05 à 11 36 41](https://github.com/user-attachments/assets/db62eaa4-eb0f-46c3-9233-30f7459c095d) | ![Capture d’écran 2025-02-05 à 11 39 04](https://github.com/user-attachments/assets/79a57195-69ac-4090-87e5-ef03449ff95f) |

You can therefore change the style of the countdown and the background colour of its container: https://www.awesomescreenshot.com/video/36264365?key=c417993ddcf17cb0e9a100ab95155185


The default template is an alert, so it makes sense to follow the same design rules. If the user wants a square alert, the rounded corners should probably be changed globally 🤔 .

![Capture d’écran 2025-02-05 à 11 45 06](https://github.com/user-attachments/assets/42d7c788-65b9-4e64-b377-9c4f4c84675c)

cc. @stefanorigano

lebl-odoo on (2025-02-05 11:55:47 UTC): 1/ Good to know we already implemented this slider elsewhere, I'll take this point on my own. Most advanced users will prefer to be able to add the right px they need while the lambda users may prefer the slider input. Since we already use pixels elsewhere (border, for example), let's continue that way : prefer to user an input field instead of slider :)

2/ Thx for the complete answer, you convinced me. Nothing to do here

Thank you for the good work :tada:

Brieuc-brd (Issue Creator) on (2025-02-06 06:54:12 UTC): Done ✅ 

@stefanorigano 👋 what do you think ?

stefanorigano on (2025-02-06 09:48:39 UTC): @lebl-odoo , I think the slider brings significant UX advantages.

Beyond being more intuitive, it allows users to instantly see the effect of their changes.. just move the slider and observe the result on screen, without needing to type random values manually on a keyboard to test.


Would it be a good compromise to display the exact value within the slider, like we already do elsewhere? That way, we combine the best of both approaches. Sounds like a win-win to me 🙂

(@Brieuc-brd , if confirmed just add the `data-display-range-value=""true"" data-display-range-value-unit=""px""` attributes in the controllers)

| `/shop` gap | card's image ratio |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/f4129279-fe76-475f-acdd-a54c4ae97937) | ![image](https://github.com/user-attachments/assets/cafaa4ed-d42f-4d31-9706-0e089134447d) |

lebl-odoo on (2025-02-06 10:17:39 UTC): @stefanorigano I couldn't have wished for anything better! 

Pay attention to the max value which should be high enough :)

"
2779517251,pull_request,closed,,[FIX] point_of_sale: redesign categories shown,"Currently when users have too many categories in their pos, their are not able to see the products and cannot scroll.

Steps to reproduce:
-------------------
* Add categories to the pos `> 100`
* Open pos shop
> Observation: We cannot see all categories, cannot scroll through them,
and cannot see/select products

Why the fix:
------------

This issue is the same as the one in this commit: https://github.com/odoo/odoo/commit/dd14967a037a93346123265ed489a0b4ce5f8218

But this time we expend the scope of the fix because the issue can also appear on other size screens.

The number of rows of category displayed depends of the size of the screen.

opw-4457772",sbel-odoo,2025-01-10 07:50:23+00:00,[],2025-01-30 13:08:01+00:00,2025-01-16 12:58:05+00:00,https://github.com/odoo/odoo/pull/193164,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2581986568, 'issue_id': 2779517251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193164.png)](https://mergebot.odoo.com/odoo/odoo/pull/193164)', 'created_at': datetime.datetime(2025, 1, 10, 7, 50, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594915182, 'issue_id': 2779517251, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 16, 8, 53, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 07:50:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193164.png)](https://mergebot.odoo.com/odoo/odoo/pull/193164)

caburj on (2025-01-16 08:53:44 UTC): robodoo r+

"
2779497027,pull_request,closed,,[FW][FIX] l10n_my_*: Enable invoicing foreign customers.,"The current logic is not working when trying to invoice foreign customers. A few fields that could be useful are hidden, and we don't add the id information in the xml file which causes it to fail.

In practice, it is valid to invoice a foreign customer and use a generic TIN if they don't have a malaysian one when reporting to the tax authorities. This change will allow just that; we add the id information to the xml which allow to correctly issue a valid invoice for a foreign customer (tested on pre- production)

opw-4438259

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193091
Forward-Port-Of: odoo/odoo#193000",fw-bot,2025-01-10 07:37:31+00:00,[],2025-01-24 10:44:04+00:00,2025-01-10 10:40:53+00:00,https://github.com/odoo/odoo/pull/193163,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581969562, 'issue_id': 2779497027, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193163.png)](https://mergebot.odoo.com/odoo/odoo/pull/193163)', 'created_at': datetime.datetime(2025, 1, 10, 7, 37, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581969572, 'issue_id': 2779497027, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 7, 37, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 07:37:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193163.png)](https://mergebot.odoo.com/odoo/odoo/pull/193163)

fw-bot (Issue Creator) on (2025-01-10 07:37:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779382067,pull_request,closed,,[FW][FIX] l10n_my_*: Enable invoicing foreign customers.,"The current logic is not working when trying to invoice foreign customers. A few fields that could be useful are hidden, and we don't add the id information in the xml file which causes it to fail.

In practice, it is valid to invoice a foreign customer and use a generic TIN if they don't have a malaysian one when reporting to the tax authorities. This change will allow just that; we add the id information to the xml which allow to correctly issue a valid invoice for a foreign customer (tested on pre- production)

opw-4438259

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193091
Forward-Port-Of: odoo/odoo#193000",fw-bot,2025-01-10 06:18:43+00:00,[],2025-01-24 10:43:57+00:00,2025-01-10 10:39:53+00:00,https://github.com/odoo/odoo/pull/193162,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581862881, 'issue_id': 2779382067, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193162.png)](https://mergebot.odoo.com/odoo/odoo/pull/193162)', 'created_at': datetime.datetime(2025, 1, 10, 6, 18, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581862894, 'issue_id': 2779382067, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 6, 18, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 06:18:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193162.png)](https://mergebot.odoo.com/odoo/odoo/pull/193162)

fw-bot (Issue Creator) on (2025-01-10 06:18:45 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2779381580,pull_request,closed,,[FIX] pos_loyalty: traceback for loyalty program used with fixed timeline,"Steps:
==========
- Install pos_loyalty.
- Create a loyalty program with a start date set.
- Open the register and then try to close it.

Issue:
==========
- Showing loading screen and not able to close register.

Cause:
==========
- The start date was converted to an ISO string while being stored in indexedDB.

FIX:
=========
- Removed unnecessary code which caused the issue.

task-4441753",paan-odoo,2025-01-10 06:18:20+00:00,[],2025-02-06 06:57:54+00:00,2025-01-23 06:42:22+00:00,https://github.com/odoo/odoo/pull/193161,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2581862548, 'issue_id': 2779381580, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193161.png)](https://mergebot.odoo.com/odoo/odoo/pull/193161)', 'created_at': datetime.datetime(2025, 1, 10, 6, 18, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 06:18:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193161.png)](https://mergebot.odoo.com/odoo/odoo/pull/193161)

"
2779264614,pull_request,closed,,[FW][IMP] bus add delay before showing the disconnected alert,"Before this PR, the ""real-time connection lost"" alert was displayed right after the disconnection was detected.
This PR adds a 15s delay to avoid spamming the alert on unstable connexion.

Task-4453176

Forward-Port-Of: odoo/odoo#192705",fw-bot,2025-01-10 04:37:44+00:00,[],2025-01-10 13:41:12+00:00,2025-01-10 13:29:25+00:00,https://github.com/odoo/odoo/pull/193160,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2581726225, 'issue_id': 2779264614, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193160.png)](https://mergebot.odoo.com/odoo/odoo/pull/193160)', 'created_at': datetime.datetime(2025, 1, 10, 4, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581726234, 'issue_id': 2779264614, 'author': 'fw-bot', 'body': '@phenix-factory @alexkuhn cherrypicking of pull request odoo/odoo#192705 failed.\n\n* 4f28d0454c27b4ab9f21c0fd59ee43ac2f927d36\n* ec674e8524a6c907fbb6f70699769b5d00235a2c <- on this commit\n\nstdout:\n```\nAuto-merging addons/bus/static/src/components/bus_connection_alert.js\nCONFLICT (content): Merge conflict in addons/bus/static/src/components/bus_connection_alert.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 10, 4, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582317677, 'issue_id': 2779264614, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 10, 10, 30, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582317840, 'issue_id': 2779264614, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 10, 10, 30, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-10 04:37:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193160.png)](https://mergebot.odoo.com/odoo/odoo/pull/193160)

fw-bot (Issue Creator) on (2025-01-10 04:37:45 UTC): @phenix-factory @alexkuhn cherrypicking of pull request odoo/odoo#192705 failed.

* 4f28d0454c27b4ab9f21c0fd59ee43ac2f927d36
* ec674e8524a6c907fbb6f70699769b5d00235a2c <- on this commit

stdout:
```
Auto-merging addons/bus/static/src/components/bus_connection_alert.js
CONFLICT (content): Merge conflict in addons/bus/static/src/components/bus_connection_alert.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-10 10:30:32 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-10 10:30:35 UTC): Merge method set to rebase and fast-forward.

"
2778994005,pull_request,closed,,[FW][FIX] core: inconsistent pypdf metadata in 5.1,"Even if 5.1 is not technically supported, debuntu might switch to it any moment and we don't know if / when upstream will fix it, so it's not worth the time bomb.

While technically it was always typed such, since py-pdf/pypdf#2820 it looks like `_info` is a lot more likely to be `None` as e.g. `clone_reader_document_root` now starts with unsetting `_info_obj` and never re-sets it.

Except `add_metadata` was not updated to handle this case, likely because mypy interprets `assert isinstance(self._info, DictionaryObject)` as a type narrowing and trusts the developer, thus does not report the type mismatch... and the assertion ends up blowing in the user's face at runtime with a simple

    >>> r = pypdf.PdfReader(some_pdf_document)
    >>> w = pypdf.PdfWriter()
    >>> w.clone_reader_document_root(r)
    >>> w.add_metadata({""/foo"": ""bar""})
    Traceback (most recent call last):
      File ""<stdin>"", line 1, in <module>
      File ""lib/python3.12/site-packages/pypdf/_writer.py"", line 1622, in add_metadata
        assert isinstance(self._info, DictionaryObject)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    AssertionError

This is rather inconsiderate, so monkeypatch `add_metadata` to handle the case where `_info` exists and is `None`.

Most of the credit goes to juwu for uncovering the issue.

opw-4372052
opw-4426881
Fixes #185673

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193086",fw-bot,2025-01-09 23:56:52+00:00,[],2025-01-24 09:26:40+00:00,2025-01-10 09:17:55+00:00,https://github.com/odoo/odoo/pull/193159,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581470051, 'issue_id': 2778994005, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193159.png)](https://mergebot.odoo.com/odoo/odoo/pull/193159)', 'created_at': datetime.datetime(2025, 1, 9, 23, 56, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581470081, 'issue_id': 2778994005, 'author': 'fw-bot', 'body': '@xmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193158\n* odoo/odoo#193155\n* odoo/odoo#193143\n* odoo/odoo#193129\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 23, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581530838, 'issue_id': 2778994005, 'author': 'fw-bot', 'body': '@xmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 10, 1, 0, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581901426, 'issue_id': 2778994005, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 6, 43, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581901479, 'issue_id': 2778994005, 'author': 'robodoo', 'body': '@xmo-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 10, 6, 43, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 23:56:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193159.png)](https://mergebot.odoo.com/odoo/odoo/pull/193159)

fw-bot (Issue Creator) on (2025-01-09 23:56:55 UTC): @xmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193158
* odoo/odoo#193155
* odoo/odoo#193143
* odoo/odoo#193129

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 01:00:25 UTC): @xmo-odoo ci/runbot failed on this forward-port PR

xmo-odoo on (2025-01-10 06:43:08 UTC): @robodoo r+

robodoo on (2025-01-10 06:43:10 UTC): @xmo-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2778854863,pull_request,closed,,[FW][FIX] core: inconsistent pypdf metadata in 5.1,"Even if 5.1 is not technically supported, debuntu might switch to it any moment and we don't know if / when upstream will fix it, so it's not worth the time bomb.

While technically it was always typed such, since py-pdf/pypdf#2820 it looks like `_info` is a lot more likely to be `None` as e.g. `clone_reader_document_root` now starts with unsetting `_info_obj` and never re-sets it.

Except `add_metadata` was not updated to handle this case, likely because mypy interprets `assert isinstance(self._info, DictionaryObject)` as a type narrowing and trusts the developer, thus does not report the type mismatch... and the assertion ends up blowing in the user's face at runtime with a simple

    >>> r = pypdf.PdfReader(some_pdf_document)
    >>> w = pypdf.PdfWriter()
    >>> w.clone_reader_document_root(r)
    >>> w.add_metadata({""/foo"": ""bar""})
    Traceback (most recent call last):
      File ""<stdin>"", line 1, in <module>
      File ""lib/python3.12/site-packages/pypdf/_writer.py"", line 1622, in add_metadata
        assert isinstance(self._info, DictionaryObject)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    AssertionError

This is rather inconsiderate, so monkeypatch `add_metadata` to handle the case where `_info` exists and is `None`.

Most of the credit goes to juwu for uncovering the issue.

opw-4372052
opw-4426881
Fixes #185673

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193086",fw-bot,2025-01-09 22:23:18+00:00,[],2025-01-24 09:26:41+00:00,2025-01-10 09:18:48+00:00,https://github.com/odoo/odoo/pull/193158,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581356508, 'issue_id': 2778854863, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193158.png)](https://mergebot.odoo.com/odoo/odoo/pull/193158)', 'created_at': datetime.datetime(2025, 1, 9, 22, 23, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581356530, 'issue_id': 2778854863, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 22, 23, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 22:23:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193158.png)](https://mergebot.odoo.com/odoo/odoo/pull/193158)

fw-bot (Issue Creator) on (2025-01-09 22:23:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778768973,pull_request,closed,,[FW][FIX] project_timesheet_holidays: make task field translatable,"The label of the ""Task"" field in the wizard that opens when you ""Add a line"" to ""My Timesheets"" was not exportable for translation after [this commit] and thus never translated in the UI.

This commit fixes that.

<img width=""851"" alt=""image"" src=""https://github.com/user-attachments/assets/5477ab35-7f84-402e-8d62-1dd8d8edd8ca"" />

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#193108",fw-bot,2025-01-09 21:17:57+00:00,[],2025-01-27 11:51:19+00:00,2025-01-13 11:48:19+00:00,https://github.com/odoo/odoo/pull/193157,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581263967, 'issue_id': 2778768973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193157.png)](https://mergebot.odoo.com/odoo/odoo/pull/193157)', 'created_at': datetime.datetime(2025, 1, 9, 21, 17, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581263991, 'issue_id': 2778768973, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 21, 17, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581307296, 'issue_id': 2778768973, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 21, 47, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586594343, 'issue_id': 2778768973, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 27, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 21:17:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193157.png)](https://mergebot.odoo.com/odoo/odoo/pull/193157)

fw-bot (Issue Creator) on (2025-01-09 21:17:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 21:47:56 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

dylankiss on (2025-01-13 09:27:31 UTC): @robodoo r+

"
2778741514,pull_request,closed,,[FW][FIX] l10n_es: missing lines for agricultural fiscal position,"Two lines that were missing from the ""REAGYP - Agricultura"" Fiscal Position Tax Mapping have been added.

task-4342206

Forward-Port-Of: odoo/odoo#192930
Forward-Port-Of: odoo/odoo#192359",fw-bot,2025-01-09 20:58:29+00:00,[],2025-01-27 14:57:07+00:00,2025-01-13 14:36:10+00:00,https://github.com/odoo/odoo/pull/193156,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581234696, 'issue_id': 2778741514, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193156.png)](https://mergebot.odoo.com/odoo/odoo/pull/193156)', 'created_at': datetime.datetime(2025, 1, 9, 20, 58, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581234710, 'issue_id': 2778741514, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 58, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581271910, 'issue_id': 2778741514, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 21, 22, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541768, 'issue_id': 2778741514, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046309, 'issue_id': 2778741514, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586698398, 'issue_id': 2778741514, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 13, 10, 14, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587043408, 'issue_id': 2778741514, 'author': 'aizu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 13, 0, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:58:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193156.png)](https://mergebot.odoo.com/odoo/odoo/pull/193156)

fw-bot (Issue Creator) on (2025-01-09 20:58:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 21:22:46 UTC): @aizu-odoo @jco-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-12 02:01:29 UTC): @aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:47 UTC): @aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 10:14:48 UTC): @aizu-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

aizu-odoo on (2025-01-13 13:00:17 UTC): @robodoo r+

"
2778732547,pull_request,closed,,[FW][FIX] core: inconsistent pypdf metadata in 5.1,"Even if 5.1 is not technically supported, debuntu might switch to it any moment and we don't know if / when upstream will fix it, so it's not worth the time bomb.

While technically it was always typed such, since py-pdf/pypdf#2820 it looks like `_info` is a lot more likely to be `None` as e.g. `clone_reader_document_root` now starts with unsetting `_info_obj` and never re-sets it.

Except `add_metadata` was not updated to handle this case, likely because mypy interprets `assert isinstance(self._info, DictionaryObject)` as a type narrowing and trusts the developer, thus does not report the type mismatch... and the assertion ends up blowing in the user's face at runtime with a simple

    >>> r = pypdf.PdfReader(some_pdf_document)
    >>> w = pypdf.PdfWriter()
    >>> w.clone_reader_document_root(r)
    >>> w.add_metadata({""/foo"": ""bar""})
    Traceback (most recent call last):
      File ""<stdin>"", line 1, in <module>
      File ""lib/python3.12/site-packages/pypdf/_writer.py"", line 1622, in add_metadata
        assert isinstance(self._info, DictionaryObject)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    AssertionError

This is rather inconsiderate, so monkeypatch `add_metadata` to handle the case where `_info` exists and is `None`.

Most of the credit goes to juwu for uncovering the issue.

opw-4372052
opw-4426881
Fixes #185673

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193086",fw-bot,2025-01-09 20:52:13+00:00,[],2025-01-24 10:43:59+00:00,2025-01-10 10:39:55+00:00,https://github.com/odoo/odoo/pull/193155,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581224350, 'issue_id': 2778732547, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193155.png)](https://mergebot.odoo.com/odoo/odoo/pull/193155)', 'created_at': datetime.datetime(2025, 1, 9, 20, 52, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581224367, 'issue_id': 2778732547, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581984795, 'issue_id': 2778732547, 'author': 'robodoo', 'body': '@xmo-odoo staging failed: ci/l10n on ab22d95cae7450cf15736027f0463f046a1bf148 (view more at https://runbot.odoo.com/runbot/build/73142791)', 'created_at': datetime.datetime(2025, 1, 10, 7, 49, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582141446, 'issue_id': 2778732547, 'author': 'xmo-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 10, 9, 16, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:52:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193155.png)](https://mergebot.odoo.com/odoo/odoo/pull/193155)

fw-bot (Issue Creator) on (2025-01-09 20:52:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-10 07:49:01 UTC): @xmo-odoo staging failed: ci/l10n on ab22d95cae7450cf15736027f0463f046a1bf148 (view more at https://runbot.odoo.com/runbot/build/73142791)

xmo-odoo on (2025-01-10 09:16:15 UTC): @robodoo retry

"
2778717254,pull_request,closed,,[FW][FIX] mrp: prevent re-count global lead days if not 1-step manufacture,"**Current behavior:**
The global lead days system parameter may be counted in the lead days breakdown in the replenishment report when:
A) product has manufacture route and,
B) WH manufacture steps is not 1-step

**Expected behavior:**
The parameter is counted once.

**Steps to reproduce:**
1. Create a product with a simple BoM and the manufacture route

2. Enable 2 or 3 step manufacturing in WH

3. Create an out move for the product

4. Open the replenishment report in inventory

5. Click the (i) in the orderpoint line for the product -> see the global vis. days are counted 2x

**Cause of the issue:**
Like the issue solved by 38d8e77
In some instances the `_get_lead_days()` must be called a second time to capture some additional lead time (in this case because we have > 1-step manufacturing).

**Fix:**
Use the context added in the referenced similar commit to ignore the global days in the second call.

opw-4410790

Forward-Port-Of: odoo/odoo#190808",fw-bot,2025-01-09 20:42:07+00:00,[],2025-01-24 19:58:48+00:00,2025-01-10 19:26:08+00:00,https://github.com/odoo/odoo/pull/193154,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581208981, 'issue_id': 2778717254, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193154.png)](https://mergebot.odoo.com/odoo/odoo/pull/193154)', 'created_at': datetime.datetime(2025, 1, 9, 20, 42, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581209004, 'issue_id': 2778717254, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 42, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581254398, 'issue_id': 2778717254, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 21, 11, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582822500, 'issue_id': 2778717254, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 14, 21, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583151754, 'issue_id': 2778717254, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 16, 22, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:42:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193154.png)](https://mergebot.odoo.com/odoo/odoo/pull/193154)

fw-bot (Issue Creator) on (2025-01-09 20:42:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 21:11:39 UTC): @ethanrobv @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-10 14:21:21 UTC): @ethanrobv @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

ethanrobv on (2025-01-10 16:22:05 UTC): @robodoo r+

"
2778712948,pull_request,closed,,[FW] Fix various partners / recipients issues,Forward-Port-Of: odoo/odoo#193095,fw-bot,2025-01-09 20:38:57+00:00,[],2025-01-24 01:10:32+00:00,2025-01-10 00:39:49+00:00,https://github.com/odoo/odoo/pull/193153,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581204383, 'issue_id': 2778712948, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193153.png)](https://mergebot.odoo.com/odoo/odoo/pull/193153)', 'created_at': datetime.datetime(2025, 1, 9, 20, 38, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581204409, 'issue_id': 2778712948, 'author': 'fw-bot', 'body': '@tde-banana-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581270604, 'issue_id': 2778712948, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 21, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:38:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193153.png)](https://mergebot.odoo.com/odoo/odoo/pull/193153)

fw-bot (Issue Creator) on (2025-01-09 20:39:00 UTC): @tde-banana-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-01-09 21:22:00 UTC): @robodoo r+

"
2778708036,pull_request,closed,,[FW][FIX] calendar: remove end_type ambiguity in sql query,"__Current behavior before commit:__
In [`a27afdb`][1], the field `end_type` from the model `calendar.event` became computed and therefore not stored anymore.
Databases that upgraded from an anterior version still have the column `end_type` in their table `calendar_event`.

In [`f6df418`][2], a reference to `end_type` from the table `calendar_recurrence` has been added in the SQL query. If the field `end_type` is still in the table `calendar_event` it is ambiguous which one this query should use.

Ultimately leading to this error:
```
psycopg2.errors.AmbiguousColumn: column reference ""end_type"" is ambiguous
LINE 22: ...                          WHEN cal.recurrency AND end_type =...
```

__Description of the fix:__
Remove the ambiguity by explicitly specifying `rrule`, the alias of the `calendar_recurrence` table.

opw-4406814

[1]: https://github.com/odoo/odoo/commit/a27afdb
[2]: https://github.com/odoo/odoo/commit/f6df418

Forward-Port-Of: odoo/odoo#192946",fw-bot,2025-01-09 20:35:23+00:00,[],2025-01-24 16:28:39+00:00,2025-01-10 16:19:24+00:00,https://github.com/odoo/odoo/pull/193152,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581198867, 'issue_id': 2778708036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193152.png)](https://mergebot.odoo.com/odoo/odoo/pull/193152)', 'created_at': datetime.datetime(2025, 1, 9, 20, 35, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581198882, 'issue_id': 2778708036, 'author': 'fw-bot', 'body': '@Dj0ulo @arj-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193139\n* odoo/odoo#193125\n* odoo/odoo#193109\n* odoo/odoo#193093\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 35, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582166879, 'issue_id': 2778708036, 'author': 'Dj0ulo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 9, 27, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:35:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193152.png)](https://mergebot.odoo.com/odoo/odoo/pull/193152)

fw-bot (Issue Creator) on (2025-01-09 20:35:25 UTC): @Dj0ulo @arj-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193139
* odoo/odoo#193125
* odoo/odoo#193109
* odoo/odoo#193093

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Dj0ulo on (2025-01-10 09:27:29 UTC): @robodoo r+

"
2778700916,pull_request,closed,,[FW][IMP] mrp: improved mass produce wizard,"In this commit:
====================
- The changes ensure better traceability by generating back-orders in a
  'confirmed"" state with serial numbers assigned, preventing unintended
  consumption of components. This approach enhances clarity and aligns with
  user expectations for managing partial production.

task-4280758

Forward-Port-Of: odoo/odoo#187375",fw-bot,2025-01-09 20:30:34+00:00,[],2025-01-24 11:04:21+00:00,2025-01-10 10:50:16+00:00,https://github.com/odoo/odoo/pull/193151,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581191619, 'issue_id': 2778700916, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193151.png)](https://mergebot.odoo.com/odoo/odoo/pull/193151)', 'created_at': datetime.datetime(2025, 1, 9, 20, 30, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581191648, 'issue_id': 2778700916, 'author': 'fw-bot', 'body': '@temo-odoo @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193138\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 30, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582059668, 'issue_id': 2778700916, 'author': 'Whenrow', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 36, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:30:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193151.png)](https://mergebot.odoo.com/odoo/odoo/pull/193151)

fw-bot (Issue Creator) on (2025-01-09 20:30:38 UTC): @temo-odoo @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193138

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Whenrow on (2025-01-10 08:36:06 UTC): @robodoo r+

"
2778686384,pull_request,closed,,[FW][FIX] project: allow default search in portal,"Steps to reproduce:
--------------------

 - Go my account
 - Click on tasks
 - Search

Issue:
------

The client when searching without selecting a scope cannot search. This is direct incidence of the [changes](https://github.com/odoo/odoo/commit/2a0ff2ae7bd46666) Since the default search_in was set to content that has been removed.

Fix:
---

Setting the search_in defaulting to name. (Name is the closest to what content did)

opw-4396491

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193037
Forward-Port-Of: odoo/odoo#191150",fw-bot,2025-01-09 20:20:34+00:00,[],2025-01-24 01:10:31+00:00,2025-01-10 00:39:40+00:00,https://github.com/odoo/odoo/pull/193150,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581176739, 'issue_id': 2778686384, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193150.png)](https://mergebot.odoo.com/odoo/odoo/pull/193150)', 'created_at': datetime.datetime(2025, 1, 9, 20, 20, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581176752, 'issue_id': 2778686384, 'author': 'fw-bot', 'body': '@jaeschwa @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193133\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 20, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581290787, 'issue_id': 2778686384, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 21, 35, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:20:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193150.png)](https://mergebot.odoo.com/odoo/odoo/pull/193150)

fw-bot (Issue Creator) on (2025-01-09 20:20:36 UTC): @jaeschwa @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193133

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-09 21:35:45 UTC): robodoo r+

"
2778684565,pull_request,closed,,[FW][FIX] discuss: prevents peer to peer notifications when the call is off,"Before this commit, a race condition could allow attempts to send peer notification to go through despite not having a call. This could happen if a `_busNotify()` call follows a promise that is resolved after the end of a call.

This commit fixes this issue by ensuring that notifications can only be sent when a call is active.

Forward-Port-Of: odoo/odoo#192947",fw-bot,2025-01-09 20:19:17+00:00,[],2025-01-24 04:58:11+00:00,2025-01-10 04:55:16+00:00,https://github.com/odoo/odoo/pull/193149,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581174758, 'issue_id': 2778684565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193149.png)](https://mergebot.odoo.com/odoo/odoo/pull/193149)', 'created_at': datetime.datetime(2025, 1, 9, 20, 19, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581174780, 'issue_id': 2778684565, 'author': 'fw-bot', 'body': '@thanhdodeurodoo @seb-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193137\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 19, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581672694, 'issue_id': 2778684565, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 3, 32, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:19:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193149.png)](https://mergebot.odoo.com/odoo/odoo/pull/193149)

fw-bot (Issue Creator) on (2025-01-09 20:19:19 UTC): @thanhdodeurodoo @seb-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193137

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ThanhDodeurOdoo on (2025-01-10 03:32:19 UTC): @robodoo r+

"
2778681629,pull_request,closed,,[FW][FIX] pos_self_order: ensure sending stand number to server,"Before this commit, if the order was set to be served at a table, the assigned stand number was not sent to the server because the draft order was sent to the server before opening the stand number page.

opw-4457394

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192874",fw-bot,2025-01-09 20:17:16+00:00,[],2025-01-24 21:34:34+00:00,2025-01-10 20:30:47+00:00,https://github.com/odoo/odoo/pull/193148,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581171719, 'issue_id': 2778681629, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193148.png)](https://mergebot.odoo.com/odoo/odoo/pull/193148)', 'created_at': datetime.datetime(2025, 1, 9, 20, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581171731, 'issue_id': 2778681629, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193132\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583060176, 'issue_id': 2778681629, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 16, 0, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:17:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193148.png)](https://mergebot.odoo.com/odoo/odoo/pull/193148)

fw-bot (Issue Creator) on (2025-01-09 20:17:17 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193132

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-10 16:00:23 UTC): @robodoo r+

"
2778677671,pull_request,closed,,[FW][FIX] stock_account: add model_create_multi decorator to stock.lot,"Before this commit: creating stock lot records (multi) via the xml.rpc resulted in a bug: missing argument 'vals_list'. 

After this commit: It is possible to create multiple stock lot records without this bug




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193031",fw-bot,2025-01-09 20:14:34+00:00,[],2025-01-24 11:04:20+00:00,2025-01-10 10:50:12+00:00,https://github.com/odoo/odoo/pull/193147,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581167719, 'issue_id': 2778677671, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193147.png)](https://mergebot.odoo.com/odoo/odoo/pull/193147)', 'created_at': datetime.datetime(2025, 1, 9, 20, 14, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581167731, 'issue_id': 2778677671, 'author': 'fw-bot', 'body': '@Larsq1 @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193135\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 14, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582059179, 'issue_id': 2778677671, 'author': 'Whenrow', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 35, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:14:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193147.png)](https://mergebot.odoo.com/odoo/odoo/pull/193147)

fw-bot (Issue Creator) on (2025-01-09 20:14:36 UTC): @Larsq1 @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193135

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Whenrow on (2025-01-10 08:35:49 UTC): @robodoo r+

"
2778661527,pull_request,closed,,[FW][FIX] l10n_gcc_invoice: display payment terms on invoice,"**Steps to reproduce:**
- Install account_accountant, sale_management and l10n_sa
- Switch to a Saudi Arabian company (e.g. SA Company)
- Create a payment term:
  * Description on the Invoice: [anything]
  * Display terms on invoice: [checked]
  * Terms: [add many lines]
- Create a SO:
  * Customer: [any]
  * Payment Terms: [the created payment term]
  * Order lines: [anything]
- Confirm the SO
- Create an invoice from the SO
- Confirm the invoice
- Generate the invoice

**Issue:**
The description of the payment term is displayed on the invoice but the terms are not displayed as it is the case in any other localization.

**Cause:**
""report_invoice"" is replaced by the Arabic/English invoice in l10n_gcc_invoice module.
However, the logic to display the terms has not been added in the template for Arabic/English invoice.

opw-4291232



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188456",fw-bot,2025-01-09 20:03:43+00:00,[],2025-01-24 17:47:20+00:00,2025-01-10 17:44:57+00:00,https://github.com/odoo/odoo/pull/193146,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581150864, 'issue_id': 2778661527, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193146.png)](https://mergebot.odoo.com/odoo/odoo/pull/193146)', 'created_at': datetime.datetime(2025, 1, 9, 20, 3, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581150876, 'issue_id': 2778661527, 'author': 'fw-bot', 'body': '@kitan191 @FlorianGilbert this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193131\n* odoo/odoo#193121\n* odoo/odoo#193105\n* odoo/odoo#193085\n* odoo/odoo#193064\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 3, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582005620, 'issue_id': 2778661527, 'author': 'kitan191', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582005689, 'issue_id': 2778661527, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582690191, 'issue_id': 2778661527, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 14, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:03:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193146.png)](https://mergebot.odoo.com/odoo/odoo/pull/193146)

fw-bot (Issue Creator) on (2025-01-09 20:03:45 UTC): @kitan191 @FlorianGilbert this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193131
* odoo/odoo#193121
* odoo/odoo#193105
* odoo/odoo#193085
* odoo/odoo#193064

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 08:04:01 UTC): @robodoo r-

robodoo on (2025-01-10 08:04:04 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

kitan191 on (2025-01-10 13:14:34 UTC): @robodoo r+

"
2778660938,pull_request,closed,,[FW][FIX] project_timesheet_holidays: make task field translatable,"The label of the ""Task"" field in the wizard that opens when you ""Add a line"" to ""My Timesheets"" was not exportable for translation after [this commit] and thus never translated in the UI.

This commit fixes that.

<img width=""851"" alt=""image"" src=""https://github.com/user-attachments/assets/5477ab35-7f84-402e-8d62-1dd8d8edd8ca"" />

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#193108",fw-bot,2025-01-09 20:03:18+00:00,[],2025-01-27 11:46:48+00:00,2025-01-13 11:43:54+00:00,https://github.com/odoo/odoo/pull/193145,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581150258, 'issue_id': 2778660938, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193145.png)](https://mergebot.odoo.com/odoo/odoo/pull/193145)', 'created_at': datetime.datetime(2025, 1, 9, 20, 3, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581150273, 'issue_id': 2778660938, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 20, 3, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 20:03:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193145.png)](https://mergebot.odoo.com/odoo/odoo/pull/193145)

fw-bot (Issue Creator) on (2025-01-09 20:03:20 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778625481,pull_request,closed,,[FW][FIX] web: clear changes on urgent save,"Versions
--------
- 17.0+

Steps
-----
1. Download a VoIP provider like Skype or Linphone to open tel:* urls;
2. use a browser that supports this (FireFox works for me, but Chrome doesn't);
3. with Studio, edit the Sales Order form to add the customer phone;
4. create a new Sales Order with one order line;
5. save the form;
6. add a second line;
7. click on the phone number to start the VoIP app;
8. save the Sales Order form.

Issue
-----
The 2nd line is duplicated.

Cause
-----
Starting VoIP initiates an ""urgent"" web save, saving the first time. Usually this only happens when leaving the page, so it doesn't clear the changes to be saved.

In this scenario however, we remain on the page, and the changes are saved again when clicking the save button.

Solution
--------
Clear the saved changes if the urgent save succeeded.

opw-4308954

Forward-Port-Of: odoo/odoo#192989
Forward-Port-Of: odoo/odoo#192517",fw-bot,2025-01-09 19:40:55+00:00,[],2025-01-25 01:19:37+00:00,2025-01-11 00:27:17+00:00,https://github.com/odoo/odoo/pull/193144,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2581112562, 'issue_id': 2778625481, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193144.png)](https://mergebot.odoo.com/odoo/odoo/pull/193144)', 'created_at': datetime.datetime(2025, 1, 9, 19, 40, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581112583, 'issue_id': 2778625481, 'author': 'fw-bot', 'body': '@lvsz @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193130\n* odoo/odoo#193115\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581126338, 'issue_id': 2778625481, 'author': 'fw-bot', 'body': '@lvsz @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 19, 48, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584648425, 'issue_id': 2778625481, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 22, 51, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:40:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193144.png)](https://mergebot.odoo.com/odoo/odoo/pull/193144)

fw-bot (Issue Creator) on (2025-01-09 19:40:57 UTC): @lvsz @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193130
* odoo/odoo#193115

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 19:48:49 UTC): @lvsz @aab-odoo ci/runbot failed on this forward-port PR

lvsz on (2025-01-10 22:51:12 UTC): @robodoo r+

"
2778625069,pull_request,closed,,[FW][FIX] core: inconsistent pypdf metadata in 5.1,"Even if 5.1 is not technically supported, debuntu might switch to it any moment and we don't know if / when upstream will fix it, so it's not worth the time bomb.

While technically it was always typed such, since py-pdf/pypdf#2820 it looks like `_info` is a lot more likely to be `None` as e.g. `clone_reader_document_root` now starts with unsetting `_info_obj` and never re-sets it.

Except `add_metadata` was not updated to handle this case, likely because mypy interprets `assert isinstance(self._info, DictionaryObject)` as a type narrowing and trusts the developer, thus does not report the type mismatch... and the assertion ends up blowing in the user's face at runtime with a simple

    >>> r = pypdf.PdfReader(some_pdf_document)
    >>> w = pypdf.PdfWriter()
    >>> w.clone_reader_document_root(r)
    >>> w.add_metadata({""/foo"": ""bar""})
    Traceback (most recent call last):
      File ""<stdin>"", line 1, in <module>
      File ""lib/python3.12/site-packages/pypdf/_writer.py"", line 1622, in add_metadata
        assert isinstance(self._info, DictionaryObject)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    AssertionError

This is rather inconsiderate, so monkeypatch `add_metadata` to handle the case where `_info` exists and is `None`.

Most of the credit goes to juwu for uncovering the issue.

opw-4372052
opw-4426881
Fixes #185673

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193086",fw-bot,2025-01-09 19:40:38+00:00,[],2025-01-24 09:26:40+00:00,2025-01-10 09:18:17+00:00,https://github.com/odoo/odoo/pull/193143,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581112129, 'issue_id': 2778625069, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193143.png)](https://mergebot.odoo.com/odoo/odoo/pull/193143)', 'created_at': datetime.datetime(2025, 1, 9, 19, 40, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581112155, 'issue_id': 2778625069, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 40, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:40:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193143.png)](https://mergebot.odoo.com/odoo/odoo/pull/193143)

fw-bot (Issue Creator) on (2025-01-09 19:40:40 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778620680,pull_request,closed,,[FW][FIX] l10n_es: missing lines for agricultural fiscal position,"Two lines that were missing from the ""REAGYP - Agricultura"" Fiscal Position Tax Mapping have been added.

task-4342206

Forward-Port-Of: odoo/odoo#192930
Forward-Port-Of: odoo/odoo#192359",fw-bot,2025-01-09 19:37:41+00:00,[],2025-01-29 13:26:35+00:00,2025-01-15 13:08:26+00:00,https://github.com/odoo/odoo/pull/193142,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581107582, 'issue_id': 2778620680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193142.png)](https://mergebot.odoo.com/odoo/odoo/pull/193142)', 'created_at': datetime.datetime(2025, 1, 9, 19, 37, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581107599, 'issue_id': 2778620680, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 37, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586698447, 'issue_id': 2778620680, 'author': 'fw-bot', 'body': ""@aizu-odoo @jco-odoo child PR odoo/odoo#193156 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 13, 10, 14, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588618959, 'issue_id': 2778620680, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478408, 'issue_id': 2778620680, 'author': 'fw-bot', 'body': '@aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591897310, 'issue_id': 2778620680, 'author': 'aizu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 8, 12, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:37:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193142.png)](https://mergebot.odoo.com/odoo/odoo/pull/193142)

fw-bot (Issue Creator) on (2025-01-09 19:37:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 10:14:50 UTC): @aizu-odoo @jco-odoo child PR odoo/odoo#193156 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-01-14 02:01:30 UTC): @aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:35 UTC): @aizu-odoo @jco-odoo this forward port of odoo/odoo#192359 is awaiting action (not merged or closed).

aizu-odoo on (2025-01-15 08:12:49 UTC): @robodoo r+

"
2778609558,pull_request,closed,,[FW][FIX] mrp: prevent re-count global lead days if not 1-step manufacture,"**Current behavior:**
The global lead days system parameter may be counted in the lead days breakdown in the replenishment report when:
A) product has manufacture route and,
B) WH manufacture steps is not 1-step

**Expected behavior:**
The parameter is counted once.

**Steps to reproduce:**
1. Create a product with a simple BoM and the manufacture route

2. Enable 2 or 3 step manufacturing in WH

3. Create an out move for the product

4. Open the replenishment report in inventory

5. Click the (i) in the orderpoint line for the product -> see the global vis. days are counted 2x

**Cause of the issue:**
Like the issue solved by 38d8e77
In some instances the `_get_lead_days()` must be called a second time to capture some additional lead time (in this case because we have > 1-step manufacturing).

**Fix:**
Use the context added in the referenced similar commit to ignore the global days in the second call.

opw-4410790

Forward-Port-Of: odoo/odoo#190808",fw-bot,2025-01-09 19:30:10+00:00,[],2025-01-24 12:11:16+00:00,2025-01-10 11:53:09+00:00,https://github.com/odoo/odoo/pull/193141,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581095257, 'issue_id': 2778609558, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193141.png)](https://mergebot.odoo.com/odoo/odoo/pull/193141)', 'created_at': datetime.datetime(2025, 1, 9, 19, 30, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581095288, 'issue_id': 2778609558, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 30, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582000429, 'issue_id': 2778609558, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 0, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:30:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193141.png)](https://mergebot.odoo.com/odoo/odoo/pull/193141)

fw-bot (Issue Creator) on (2025-01-09 19:30:13 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-01-10 08:00:28 UTC): @robodoo r+

"
2778602579,pull_request,closed,,[FW][FIX] pdf: don't erase existing flags,"Partly backporting 3731550474dc90819fa1667385f35f4a22ee4f11

Currently, to ensure the filled forms are set as readonly, we erase all the existing flags. Instead, we now only force the readonly flag.

Forward-Port-Of: odoo/odoo#191207",fw-bot,2025-01-09 19:25:33+00:00,[],2025-01-13 07:24:05+00:00,2025-01-13 07:24:04+00:00,https://github.com/odoo/odoo/pull/193140,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2581087749, 'issue_id': 2778602579, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193140.png)](https://mergebot.odoo.com/odoo/odoo/pull/193140)', 'created_at': datetime.datetime(2025, 1, 9, 19, 25, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581087817, 'issue_id': 2778602579, 'author': 'fw-bot', 'body': '@Demesmaeker cherrypicking of pull request odoo/odoo#191207 failed.\n\nstdout:\n```\nAuto-merging odoo/tools/pdf/__init__.py\nCONFLICT (content): Merge conflict in odoo/tools/pdf/__init__.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 25, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047079, 'issue_id': 2778602579, 'author': 'fw-bot', 'body': '@Demesmaeker this forward port of odoo/odoo#191207 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586368015, 'issue_id': 2778602579, 'author': 'Demesmaeker', 'body': 'Wrong up-to, fix already there', 'created_at': datetime.datetime(2025, 1, 13, 7, 24, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:25:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193140.png)](https://mergebot.odoo.com/odoo/odoo/pull/193140)

fw-bot (Issue Creator) on (2025-01-09 19:25:37 UTC): @Demesmaeker cherrypicking of pull request odoo/odoo#191207 failed.

stdout:
```
Auto-merging odoo/tools/pdf/__init__.py
CONFLICT (content): Merge conflict in odoo/tools/pdf/__init__.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:25 UTC): @Demesmaeker this forward port of odoo/odoo#191207 is awaiting action (not merged or closed).

Demesmaeker on (2025-01-13 07:24:04 UTC): Wrong up-to, fix already there

"
2778583642,pull_request,closed,,[FW][FIX] calendar: remove end_type ambiguity in sql query,"__Current behavior before commit:__
In [`a27afdb`][1], the field `end_type` from the model `calendar.event` became computed and therefore not stored anymore.
Databases that upgraded from an anterior version still have the column `end_type` in their table `calendar_event`.

In [`f6df418`][2], a reference to `end_type` from the table `calendar_recurrence` has been added in the SQL query. If the field `end_type` is still in the table `calendar_event` it is ambiguous which one this query should use.

Ultimately leading to this error:
```
psycopg2.errors.AmbiguousColumn: column reference ""end_type"" is ambiguous
LINE 22: ...                          WHEN cal.recurrency AND end_type =...
```

__Description of the fix:__
Remove the ambiguity by explicitly specifying `rrule`, the alias of the `calendar_recurrence` table.

opw-4406814

[1]: https://github.com/odoo/odoo/commit/a27afdb
[2]: https://github.com/odoo/odoo/commit/f6df418

Forward-Port-Of: odoo/odoo#192946",fw-bot,2025-01-09 19:15:14+00:00,[],2025-01-24 12:11:23+00:00,2025-01-10 12:01:08+00:00,https://github.com/odoo/odoo/pull/193139,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581070309, 'issue_id': 2778583642, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193139.png)](https://mergebot.odoo.com/odoo/odoo/pull/193139)', 'created_at': datetime.datetime(2025, 1, 9, 19, 15, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581070328, 'issue_id': 2778583642, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 15, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:15:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193139.png)](https://mergebot.odoo.com/odoo/odoo/pull/193139)

fw-bot (Issue Creator) on (2025-01-09 19:15:16 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778583176,pull_request,closed,,[FW][IMP] mrp: improved mass produce wizard,"In this commit:
====================
- The changes ensure better traceability by generating back-orders in a
  'confirmed"" state with serial numbers assigned, preventing unintended
  consumption of components. This approach enhances clarity and aligns with
  user expectations for managing partial production.

task-4280758

Forward-Port-Of: odoo/odoo#187375",fw-bot,2025-01-09 19:14:56+00:00,[],2025-01-24 10:44:02+00:00,2025-01-10 10:40:42+00:00,https://github.com/odoo/odoo/pull/193138,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581069841, 'issue_id': 2778583176, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193138.png)](https://mergebot.odoo.com/odoo/odoo/pull/193138)', 'created_at': datetime.datetime(2025, 1, 9, 19, 14, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581069870, 'issue_id': 2778583176, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:14:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193138.png)](https://mergebot.odoo.com/odoo/odoo/pull/193138)

fw-bot (Issue Creator) on (2025-01-09 19:15:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778566152,pull_request,closed,,[FW][FIX] discuss: prevents peer to peer notifications when the call is off,"Before this commit, a race condition could allow attempts to send peer notification to go through despite not having a call. This could happen if a `_busNotify()` call follows a promise that is resolved after the end of a call.

This commit fixes this issue by ensuring that notifications can only be sent when a call is active.

Forward-Port-Of: odoo/odoo#192947",fw-bot,2025-01-09 19:04:00+00:00,[],2025-01-24 04:58:10+00:00,2025-01-10 04:52:02+00:00,https://github.com/odoo/odoo/pull/193137,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581052520, 'issue_id': 2778566152, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193137.png)](https://mergebot.odoo.com/odoo/odoo/pull/193137)', 'created_at': datetime.datetime(2025, 1, 9, 19, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581052540, 'issue_id': 2778566152, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 4, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:04:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193137.png)](https://mergebot.odoo.com/odoo/odoo/pull/193137)

fw-bot (Issue Creator) on (2025-01-09 19:04:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778565716,pull_request,closed,,[FW][FIX] account: creating a bank statement from the transaction list view,"Step to reproduce
* open the reconcilation widget and toggle the list view
* multi edit bank statement lines and assign them a new bank statement with name 'BLABLA 1'
* click save and see how Odoo just didn't keep your name at all

The reason is that the module account_bank_statement_extract forces the recomputation of the name when the statement's date changes which happens at the creation (and triggers our bug) but also when the OCR fills that value (in which case we still want that).

So to fix that,
* the default name of the statement line now check if the statement date is falsy, to avoid having a default name as 'BNK1 Statement False', and fallback on the create_date
* when filling the OCR values, we check if the statement still has the same structure, we can assume it wasn't manually changed and we can safely replace the default name

ticket-4424021

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192759",fw-bot,2025-01-09 19:03:43+00:00,[],2025-01-27 11:51:17+00:00,2025-01-13 11:48:08+00:00,https://github.com/odoo/odoo/pull/193136,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581052030, 'issue_id': 2778565716, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193136.png)](https://mergebot.odoo.com/odoo/odoo/pull/193136)', 'created_at': datetime.datetime(2025, 1, 9, 19, 3, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581052066, 'issue_id': 2778565716, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 3, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581064630, 'issue_id': 2778565716, 'author': 'fw-bot', 'body': '@qdp-odoo @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 19, 11, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586536297, 'issue_id': 2778565716, 'author': 'robodoo', 'body': '@qdp-odoo @h4818 linked pull request(s) odoo/enterprise#76859 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 13, 9, 0, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:03:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193136.png)](https://mergebot.odoo.com/odoo/odoo/pull/193136)

fw-bot (Issue Creator) on (2025-01-09 19:03:46 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 19:11:41 UTC): @qdp-odoo @h4818 ci/runbot failed on this forward-port PR

robodoo on (2025-01-13 09:00:03 UTC): @qdp-odoo @h4818 linked pull request(s) odoo/enterprise#76859 not ready. Linked PRs are not staged until all of them are ready.

"
2778565109,pull_request,closed,,[FW][FIX] stock_account: add model_create_multi decorator to stock.lot,"Before this commit: creating stock lot records (multi) via the xml.rpc resulted in a bug: missing argument 'vals_list'. 

After this commit: It is possible to create multiple stock lot records without this bug




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193031",fw-bot,2025-01-09 19:03:18+00:00,[],2025-01-24 10:44:01+00:00,2025-01-10 10:40:37+00:00,https://github.com/odoo/odoo/pull/193135,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581051363, 'issue_id': 2778565109, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193135.png)](https://mergebot.odoo.com/odoo/odoo/pull/193135)', 'created_at': datetime.datetime(2025, 1, 9, 19, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581051382, 'issue_id': 2778565109, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 3, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:03:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193135.png)](https://mergebot.odoo.com/odoo/odoo/pull/193135)

fw-bot (Issue Creator) on (2025-01-09 19:03:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778564667,pull_request,closed,,[FW][FIX] *_livechat: chatbot select answer might not post visitor msg,"Follow-up of https://github.com/odoo/odoo/pull/192076

PR above fixes issues regarding question-answer step of chatbot: to detect which answer was picked, it was comparing item selected text content with each possible answers. This worked as long as each possible answer had mutually exclusive text content. If one proposition had X and another had no X, one option could be unreachable.

To solve the issue, PR above tracks the `select_answer_id`. When the user posts a message, the selected answer is returned in RPC response as store data. The selected answer is put in the question message of chatbot. This means the `message_post` store data contains 2 messages.

The implementation of message_post in JS is naive and assumes the data contains only 1 message. Therefore when inserting the store data, it was assuming the 1st inserted message in store was the newly posted message.

However in this particular case, the 1st inserted message was the question message of chatbot, not the user answer message.

As a result, the test `test_complete_chatbot_flow_ui` had the following non-deterministic issue because of this:

```
Failed to find 1 of "".o-mail-Message"" inside a specific target with text ""I'd like to buy the software"" (as parent). Found 0 instead.
```

This commit fixes the issue by putting the message_post message (the answer of user) before the question message of chatbot.

This is the chosen fix as this is minimal. The destruct of store.insert() in message_post is too naive and should be changed by something more robust in the future.

Note that this problem was not present in practice: the visitor message was visible but with minimal flicker. This is because the bus notification was adjusting the UI from the erroneous message_post result.

runbot-111747

Forward-Port-Of: odoo/odoo#193044",fw-bot,2025-01-09 19:03:02+00:00,[],2025-01-09 21:04:02+00:00,2025-01-09 21:03:57+00:00,https://github.com/odoo/odoo/pull/193134,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2581050938, 'issue_id': 2778564667, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193134.png)](https://mergebot.odoo.com/odoo/odoo/pull/193134)', 'created_at': datetime.datetime(2025, 1, 9, 19, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581050955, 'issue_id': 2778564667, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#193044 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/models/discuss_channel.py\nCONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581243163, 'issue_id': 2778564667, 'author': 'alexkuhn', 'body': 'This fix probably has to be put in the ongoing fw of original PR: https://github.com/odoo/odoo/pull/192971', 'created_at': datetime.datetime(2025, 1, 9, 21, 3, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:03:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193134.png)](https://mergebot.odoo.com/odoo/odoo/pull/193134)

fw-bot (Issue Creator) on (2025-01-09 19:03:04 UTC): @alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#193044 failed.

stdout:
```
Auto-merging addons/im_livechat/models/discuss_channel.py
CONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-09 21:03:57 UTC): This fix probably has to be put in the ongoing fw of original PR: https://github.com/odoo/odoo/pull/192971

"
2778564031,pull_request,closed,,[FW][FIX] project: allow default search in portal,"Steps to reproduce:
--------------------

 - Go my account
 - Click on tasks
 - Search

Issue:
------

The client when searching without selecting a scope cannot search. This is direct incidence of the [changes](https://github.com/odoo/odoo/commit/2a0ff2ae7bd46666) Since the default search_in was set to content that has been removed.

Fix:
---

Setting the search_in defaulting to name. (Name is the closest to what content did)

opw-4396491

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193037
Forward-Port-Of: odoo/odoo#191150",fw-bot,2025-01-09 19:02:36+00:00,[],2025-01-23 23:46:41+00:00,2025-01-09 23:33:53+00:00,https://github.com/odoo/odoo/pull/193133,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581050512, 'issue_id': 2778564031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193133.png)](https://mergebot.odoo.com/odoo/odoo/pull/193133)', 'created_at': datetime.datetime(2025, 1, 9, 19, 2, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581050527, 'issue_id': 2778564031, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 2, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:02:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193133.png)](https://mergebot.odoo.com/odoo/odoo/pull/193133)

fw-bot (Issue Creator) on (2025-01-09 19:02:49 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778563625,pull_request,closed,,[FW][FIX] pos_self_order: ensure sending stand number to server,"Before this commit, if the order was set to be served at a table, the assigned stand number was not sent to the server because the draft order was sent to the server before opening the stand number page.

opw-4457394

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192874",fw-bot,2025-01-09 19:02:20+00:00,[],2025-01-25 05:41:09+00:00,2025-01-11 05:17:30+00:00,https://github.com/odoo/odoo/pull/193132,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581050463, 'issue_id': 2778563625, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193132.png)](https://mergebot.odoo.com/odoo/odoo/pull/193132)', 'created_at': datetime.datetime(2025, 1, 9, 19, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581050483, 'issue_id': 2778563625, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 2, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 19:02:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193132.png)](https://mergebot.odoo.com/odoo/odoo/pull/193132)

fw-bot (Issue Creator) on (2025-01-09 19:02:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778524706,pull_request,closed,,[FW][FIX] l10n_gcc_invoice: display payment terms on invoice,"**Steps to reproduce:**
- Install account_accountant, sale_management and l10n_sa
- Switch to a Saudi Arabian company (e.g. SA Company)
- Create a payment term:
  * Description on the Invoice: [anything]
  * Display terms on invoice: [checked]
  * Terms: [add many lines]
- Create a SO:
  * Customer: [any]
  * Payment Terms: [the created payment term]
  * Order lines: [anything]
- Confirm the SO
- Create an invoice from the SO
- Confirm the invoice
- Generate the invoice

**Issue:**
The description of the payment term is displayed on the invoice but the terms are not displayed as it is the case in any other localization.

**Cause:**
""report_invoice"" is replaced by the Arabic/English invoice in l10n_gcc_invoice module.
However, the logic to display the terms has not been added in the template for Arabic/English invoice.

opw-4291232



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188456",fw-bot,2025-01-09 18:38:29+00:00,[],2025-01-24 16:39:20+00:00,2025-01-10 16:36:28+00:00,https://github.com/odoo/odoo/pull/193131,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2581009022, 'issue_id': 2778524706, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193131.png)](https://mergebot.odoo.com/odoo/odoo/pull/193131)', 'created_at': datetime.datetime(2025, 1, 9, 18, 38, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581009035, 'issue_id': 2778524706, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 38, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582005935, 'issue_id': 2778524706, 'author': 'kitan191', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006018, 'issue_id': 2778524706, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:38:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193131.png)](https://mergebot.odoo.com/odoo/odoo/pull/193131)

fw-bot (Issue Creator) on (2025-01-09 18:38:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 08:04:14 UTC): @robodoo r-

robodoo on (2025-01-10 08:04:17 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

"
2778502739,pull_request,closed,,[FW][FIX] web: clear changes on urgent save,"Versions
--------
- 17.0+

Steps
-----
1. Download a VoIP provider like Skype or Linphone to open tel:* urls;
2. use a browser that supports this (FireFox works for me, but Chrome doesn't);
3. with Studio, edit the Sales Order form to add the customer phone;
4. create a new Sales Order with one order line;
5. save the form;
6. add a second line;
7. click on the phone number to start the VoIP app;
8. save the Sales Order form.

Issue
-----
The 2nd line is duplicated.

Cause
-----
Starting VoIP initiates an ""urgent"" web save, saving the first time. Usually this only happens when leaving the page, so it doesn't clear the changes to be saved.

In this scenario however, we remain on the page, and the changes are saved again when clicking the save button.

Solution
--------
Clear the saved changes if the urgent save succeeded.

opw-4308954

Forward-Port-Of: odoo/odoo#192989
Forward-Port-Of: odoo/odoo#192517",fw-bot,2025-01-09 18:25:51+00:00,[],2025-01-25 05:41:15+00:00,2025-01-11 05:18:01+00:00,https://github.com/odoo/odoo/pull/193130,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580986798, 'issue_id': 2778502739, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193130.png)](https://mergebot.odoo.com/odoo/odoo/pull/193130)', 'created_at': datetime.datetime(2025, 1, 9, 18, 25, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580986817, 'issue_id': 2778502739, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 25, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:25:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193130.png)](https://mergebot.odoo.com/odoo/odoo/pull/193130)

fw-bot (Issue Creator) on (2025-01-09 18:25:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778484652,pull_request,closed,,[FW][FIX] core: inconsistent pypdf metadata in 5.1,"Even if 5.1 is not technically supported, debuntu might switch to it any moment and we don't know if / when upstream will fix it, so it's not worth the time bomb.

While technically it was always typed such, since py-pdf/pypdf#2820 it looks like `_info` is a lot more likely to be `None` as e.g. `clone_reader_document_root` now starts with unsetting `_info_obj` and never re-sets it.

Except `add_metadata` was not updated to handle this case, likely because mypy interprets `assert isinstance(self._info, DictionaryObject)` as a type narrowing and trusts the developer, thus does not report the type mismatch... and the assertion ends up blowing in the user's face at runtime with a simple

    >>> r = pypdf.PdfReader(some_pdf_document)
    >>> w = pypdf.PdfWriter()
    >>> w.clone_reader_document_root(r)
    >>> w.add_metadata({""/foo"": ""bar""})
    Traceback (most recent call last):
      File ""<stdin>"", line 1, in <module>
      File ""lib/python3.12/site-packages/pypdf/_writer.py"", line 1622, in add_metadata
        assert isinstance(self._info, DictionaryObject)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    AssertionError

This is rather inconsiderate, so monkeypatch `add_metadata` to handle the case where `_info` exists and is `None`.

Most of the credit goes to juwu for uncovering the issue.

opw-4372052
opw-4426881
Fixes #185673

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193086",fw-bot,2025-01-09 18:14:49+00:00,[],2025-01-24 07:59:37+00:00,2025-01-10 07:54:02+00:00,https://github.com/odoo/odoo/pull/193129,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580966580, 'issue_id': 2778484652, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193129.png)](https://mergebot.odoo.com/odoo/odoo/pull/193129)', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580966602, 'issue_id': 2778484652, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:14:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193129.png)](https://mergebot.odoo.com/odoo/odoo/pull/193129)

fw-bot (Issue Creator) on (2025-01-09 18:14:51 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778484212,pull_request,closed,,[FW][FIX] mrp: prevent re-count global lead days if not 1-step manufacture,"**Current behavior:**
The global lead days system parameter may be counted in the lead days breakdown in the replenishment report when:
A) product has manufacture route and,
B) WH manufacture steps is not 1-step

**Expected behavior:**
The parameter is counted once.

**Steps to reproduce:**
1. Create a product with a simple BoM and the manufacture route

2. Enable 2 or 3 step manufacturing in WH

3. Create an out move for the product

4. Open the replenishment report in inventory

5. Click the (i) in the orderpoint line for the product -> see the global vis. days are counted 2x

**Cause of the issue:**
Like the issue solved by 38d8e77
In some instances the `_get_lead_days()` must be called a second time to capture some additional lead time (in this case because we have > 1-step manufacturing).

**Fix:**
Use the context added in the referenced similar commit to ignore the global days in the second call.

opw-4410790

Forward-Port-Of: odoo/odoo#190808",fw-bot,2025-01-09 18:14:33+00:00,[],2025-01-24 10:43:51+00:00,2025-01-10 10:27:50+00:00,https://github.com/odoo/odoo/pull/193128,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580966144, 'issue_id': 2778484212, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193128.png)](https://mergebot.odoo.com/odoo/odoo/pull/193128)', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580966161, 'issue_id': 2778484212, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:14:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193128.png)](https://mergebot.odoo.com/odoo/odoo/pull/193128)

fw-bot (Issue Creator) on (2025-01-09 18:14:35 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778483809,pull_request,closed,,[FW][FIX] l10n_es: missing lines for agricultural fiscal position,"Two lines that were missing from the ""REAGYP - Agricultura"" Fiscal Position Tax Mapping have been added.

task-4342206

Forward-Port-Of: odoo/odoo#192930
Forward-Port-Of: odoo/odoo#192359",fw-bot,2025-01-09 18:14:17+00:00,[],2025-01-29 11:06:34+00:00,2025-01-15 10:32:33+00:00,https://github.com/odoo/odoo/pull/193127,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580965718, 'issue_id': 2778483809, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193127.png)](https://mergebot.odoo.com/odoo/odoo/pull/193127)', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580965736, 'issue_id': 2778483809, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:14:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193127.png)](https://mergebot.odoo.com/odoo/odoo/pull/193127)

fw-bot (Issue Creator) on (2025-01-09 18:14:19 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778483381,pull_request,closed,,[FW][FIX] pdf: don't erase existing flags,"Partly backporting 3731550474dc90819fa1667385f35f4a22ee4f11

Currently, to ensure the filled forms are set as readonly, we erase all the existing flags. Instead, we now only force the readonly flag.

Forward-Port-Of: odoo/odoo#191207",fw-bot,2025-01-09 18:14:00+00:00,[],2025-01-28 10:13:49+00:00,2025-01-14 09:43:07+00:00,https://github.com/odoo/odoo/pull/193126,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580965273, 'issue_id': 2778483381, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193126.png)](https://mergebot.odoo.com/odoo/odoo/pull/193126)', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580965294, 'issue_id': 2778483381, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 14, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581087772, 'issue_id': 2778483381, 'author': 'fw-bot', 'body': '@Demesmaeker the next pull request (odoo/odoo#193140) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 19, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047115, 'issue_id': 2778483381, 'author': 'fw-bot', 'body': '@Demesmaeker this forward port of odoo/odoo#191207 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586367058, 'issue_id': 2778483381, 'author': 'Demesmaeker', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 23, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586557775, 'issue_id': 2778483381, 'author': 'robodoo', 'body': '@Demesmaeker staging failed: ci/l10n on f8b3e9b0993ea9783213a7c5c32538478a5ab291 (view more at https://runbot.odoo.com/runbot/build/73263126)', 'created_at': datetime.datetime(2025, 1, 13, 9, 10, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619405, 'issue_id': 2778483381, 'author': 'fw-bot', 'body': '@Demesmaeker this forward port of odoo/odoo#191207 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589270757, 'issue_id': 2778483381, 'author': 'Demesmaeker', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 14, 8, 12, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:14:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193126.png)](https://mergebot.odoo.com/odoo/odoo/pull/193126)

fw-bot (Issue Creator) on (2025-01-09 18:14:03 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 19:25:35 UTC): @Demesmaeker the next pull request (odoo/odoo#193140) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:27 UTC): @Demesmaeker this forward port of odoo/odoo#191207 is awaiting action (not merged or closed).

Demesmaeker on (2025-01-13 07:23:18 UTC): @robodoo r+

robodoo on (2025-01-13 09:10:28 UTC): @Demesmaeker staging failed: ci/l10n on f8b3e9b0993ea9783213a7c5c32538478a5ab291 (view more at https://runbot.odoo.com/runbot/build/73263126)

fw-bot (Issue Creator) on (2025-01-14 02:01:53 UTC): @Demesmaeker this forward port of odoo/odoo#191207 is awaiting action (not merged or closed).

Demesmaeker on (2025-01-14 08:12:03 UTC): @robodoo retry

"
2778464213,pull_request,closed,,[FW][FIX] calendar: remove end_type ambiguity in sql query,"__Current behavior before commit:__
In [`a27afdb`][1], the field `end_type` from the model `calendar.event` became computed and therefore not stored anymore.
Databases that upgraded from an anterior version still have the column `end_type` in their table `calendar_event`.

In [`f6df418`][2], a reference to `end_type` from the table `calendar_recurrence` has been added in the SQL query. If the field `end_type` is still in the table `calendar_event` it is ambiguous which one this query should use.

Ultimately leading to this error:
```
psycopg2.errors.AmbiguousColumn: column reference ""end_type"" is ambiguous
LINE 22: ...                          WHEN cal.recurrency AND end_type =...
```

__Description of the fix:__
Remove the ambiguity by explicitly specifying `rrule`, the alias of the `calendar_recurrence` table.

opw-4406814

[1]: https://github.com/odoo/odoo/commit/a27afdb
[2]: https://github.com/odoo/odoo/commit/f6df418

Forward-Port-Of: odoo/odoo#192946",fw-bot,2025-01-09 18:03:34+00:00,[],2025-01-24 12:11:30+00:00,2025-01-10 12:08:05+00:00,https://github.com/odoo/odoo/pull/193125,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580945279, 'issue_id': 2778464213, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193125.png)](https://mergebot.odoo.com/odoo/odoo/pull/193125)', 'created_at': datetime.datetime(2025, 1, 9, 18, 3, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580945295, 'issue_id': 2778464213, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 18, 3, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 18:03:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193125.png)](https://mergebot.odoo.com/odoo/odoo/pull/193125)

fw-bot (Issue Creator) on (2025-01-09 18:03:36 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778426912,pull_request,closed,,[FIX] l10n_id_pos: tests: load only test product,"This fixes the indeterminate test failures where the Test Product isn't found in the product list.

Related: https://github.com/odoo/enterprise/pull/76517",caburj,2025-01-09 17:46:58+00:00,[],2025-01-24 10:43:56+00:00,2025-01-10 10:39:53+00:00,https://github.com/odoo/odoo/pull/193123,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580914634, 'issue_id': 2778426912, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193123.png)](https://mergebot.odoo.com/odoo/odoo/pull/193123)', 'created_at': datetime.datetime(2025, 1, 9, 17, 47, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581335062, 'issue_id': 2778426912, 'author': 'caburj', 'body': ""Hi @Williambraecky. In the related PR, I'm again encountering a runbot error. I'm proposing similar solution to the one we fixed recently. Can you also approve (and r+) this change? This time, it is `Test Product` that is sometimes unavailable in the view."", 'created_at': datetime.datetime(2025, 1, 9, 22, 8, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:47:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193123.png)](https://mergebot.odoo.com/odoo/odoo/pull/193123)

caburj (Issue Creator) on (2025-01-09 22:08:39 UTC): Hi @Williambraecky. In the related PR, I'm again encountering a runbot error. I'm proposing similar solution to the one we fixed recently. Can you also approve (and r+) this change? This time, it is `Test Product` that is sometimes unavailable in the view.

"
2778391438,pull_request,closed,,[IMP] website: allow to bypass the website domain redirection,"When we go to the website preview in the Odoo backend, if the current domain used (to access the backend) is not the same as the one of the previewed website, we redirect the user, and he might have to reconnect. The same is done when using the website switcher.
Note: in the first case, the user is warned. We should probably do the same for the second case (?).

This is a problem for the Odoo support team. When they connect to a customer database upon user request, the <customer_db_name>.odoo.com address is used. But as soon as they are using the website app, they are redirected to the real website domains... where they are disconnected and cannot connect themselves.
To fix this issue, we allow setting up a session info parameter to bypass those website redirections. This is not to be done by real users: this will come with bugs (for the support team). Indeed, we are normally redirecting for a reason: many flows rely on using the right domain when visiting a specific website. Depending on what users have in their page, this could also simply make the website preview iframe crash.

task-4069779
",qsm-odoo,2025-01-09 17:32:09+00:00,['qsm-odoo'],2025-01-14 17:57:33+00:00,2025-01-14 17:56:19+00:00,https://github.com/odoo/odoo/pull/193122,"[('RD', 'research & development, internal work'), ('Website', '')]","[{'comment_id': 2580887300, 'issue_id': 2778391438, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193122.png)](https://mergebot.odoo.com/odoo/odoo/pull/193122)', 'created_at': datetime.datetime(2025, 1, 9, 17, 32, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:32:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193122.png)](https://mergebot.odoo.com/odoo/odoo/pull/193122)

"
2778383411,pull_request,closed,,[FW][FIX] l10n_gcc_invoice: display payment terms on invoice,"**Steps to reproduce:**
- Install account_accountant, sale_management and l10n_sa
- Switch to a Saudi Arabian company (e.g. SA Company)
- Create a payment term:
  * Description on the Invoice: [anything]
  * Display terms on invoice: [checked]
  * Terms: [add many lines]
- Create a SO:
  * Customer: [any]
  * Payment Terms: [the created payment term]
  * Order lines: [anything]
- Confirm the SO
- Create an invoice from the SO
- Confirm the invoice
- Generate the invoice

**Issue:**
The description of the payment term is displayed on the invoice but the terms are not displayed as it is the case in any other localization.

**Cause:**
""report_invoice"" is replaced by the Arabic/English invoice in l10n_gcc_invoice module.
However, the logic to display the terms has not been added in the template for Arabic/English invoice.

opw-4291232



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188456",fw-bot,2025-01-09 17:27:47+00:00,[],2025-01-24 15:02:44+00:00,2025-01-10 15:02:31+00:00,https://github.com/odoo/odoo/pull/193121,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580878950, 'issue_id': 2778383411, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193121.png)](https://mergebot.odoo.com/odoo/odoo/pull/193121)', 'created_at': datetime.datetime(2025, 1, 9, 17, 27, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580878972, 'issue_id': 2778383411, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 27, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006233, 'issue_id': 2778383411, 'author': 'kitan191', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006314, 'issue_id': 2778383411, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:27:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193121.png)](https://mergebot.odoo.com/odoo/odoo/pull/193121)

fw-bot (Issue Creator) on (2025-01-09 17:27:49 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 08:04:26 UTC): @robodoo r-

robodoo on (2025-01-10 08:04:29 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

"
2778382276,pull_request,closed,,"[FW][FIX] hr_holidays, mail: im_status fa - plane not consistent","**Current behavior before PR:**

prior to this PR fa-plane icon does not displayed after user comes online/offline/away while on leave without any reload.

**Desired behavior after PR is merged:**

now fa-plane icon is displayed with respective color of im_status without any reload

task-4237384

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192894
Forward-Port-Of: odoo/odoo#184471",fw-bot,2025-01-09 17:27:12+00:00,[],2025-01-10 12:37:36+00:00,2025-01-10 11:53:18+00:00,https://github.com/odoo/odoo/pull/193120,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580877580, 'issue_id': 2778382276, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193120.png)](https://mergebot.odoo.com/odoo/odoo/pull/193120)', 'created_at': datetime.datetime(2025, 1, 9, 17, 27, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580877635, 'issue_id': 2778382276, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/static/src/persona_model_patch.js\nCONFLICT (add/add): Merge conflict in addons/hr_holidays/static/src/persona_model_patch.js\nAuto-merging addons/hr_holidays/static/src/thread_icon.patch.xml\nCONFLICT (content): Merge conflict in addons/hr_holidays/static/src/thread_icon.patch.xml\nAuto-merging addons/hr_holidays/static/tests/mock_server/mock_models/res_partner.js\nAuto-merging addons/mail/static/src/core/common/persona_model.js\nAuto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js\nCONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 27, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582080055, 'issue_id': 2778382276, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 48, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:27:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193120.png)](https://mergebot.odoo.com/odoo/odoo/pull/193120)

fw-bot (Issue Creator) on (2025-01-09 17:27:14 UTC): @jayp-odoo @alexkuhn cherrypicking of pull request odoo/odoo#184471 failed.

stdout:
```
Auto-merging addons/hr_holidays/static/src/persona_model_patch.js
CONFLICT (add/add): Merge conflict in addons/hr_holidays/static/src/persona_model_patch.js
Auto-merging addons/hr_holidays/static/src/thread_icon.patch.xml
CONFLICT (content): Merge conflict in addons/hr_holidays/static/src/thread_icon.patch.xml
Auto-merging addons/hr_holidays/static/tests/mock_server/mock_models/res_partner.js
Auto-merging addons/mail/static/src/core/common/persona_model.js
Auto-merging addons/mail/static/tests/mock_server/mock_models/res_partner.js
CONFLICT (content): Merge conflict in addons/mail/static/tests/mock_server/mock_models/res_partner.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jayp-odoo on (2025-01-10 08:48:01 UTC): @robodoo r+

"
2778365592,pull_request,closed,,[FW][FIX] stock_account: compute SVL vals using only current company records,"Steps to reproduce the bug:
- Log in as Company A
- Create a branch company: Branch 1.
- Create a storable product P1 with the following configuration::
    - Costing method: AVCO

- Create a receipt for 1 unit of P1:
    - Unit Price: $300.
- Confirm the receipt:
- The standard price of P1 is updated to $300.

- Log in as Branch 1
- The standard price of P1 is $0.
- Create a receipt for 1 unit of P1:
    - Unit Price: $100.
- Confirm the reception

Problem:
The standard price of P1 is incorrectly updated to $225 → ((300 + 100) / 2) instead of $100. This happens because the stock valuation layer computation values includes records from the parent company instead of only the current company:

https://github.com/odoo/odoo/blob/989a78b3fc04e7b5b79e165fda8539be5f091b8c/addons/stock_account/models/stock_move.py#L306-L307

https://github.com/odoo/odoo/blob/41a234890c91e9b0c9771a2b0fe50d4b525079f3/addons/stock_account/models/product.py#L123-L126

https://github.com/odoo/odoo/blob/989a78b3fc04e7b5b79e165fda8539be5f091b8c/addons/stock_account/models/stock_move.py#L323-L324


This issue occurs because the search considers both the current company
and its parent companies. This happens because `self` refers to the
`product.product` model which has
""_check_company_domain = models.check_company_domain_parent_of"",
On the other hand, `self.env['stock.valuation.layer']` is a model that
is limited to the current company:

https://github.com/odoo/odoo/blob/8189f053fb4bf219093279c18eebdad01c305385/addons/product/models/product_product.py#L21

opw-4417559

Forward-Port-Of: odoo/odoo#192961
Forward-Port-Of: odoo/odoo#192521",fw-bot,2025-01-09 17:18:20+00:00,[],2025-01-24 13:57:12+00:00,2025-01-10 13:54:40+00:00,https://github.com/odoo/odoo/pull/193119,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580857708, 'issue_id': 2778365592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193119.png)](https://mergebot.odoo.com/odoo/odoo/pull/193119)', 'created_at': datetime.datetime(2025, 1, 9, 17, 18, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580857735, 'issue_id': 2778365592, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 18, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582271354, 'issue_id': 2778365592, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 8, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:18:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193119.png)](https://mergebot.odoo.com/odoo/odoo/pull/193119)

fw-bot (Issue Creator) on (2025-01-09 17:18:22 UTC): @DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-01-10 10:08:24 UTC): robodoo r+

"
2778365135,pull_request,closed,,[FW][FIX] mail: volume of ptt on/off sound effects are too loud,"Before this commit, when using push-to-talk during discuss call, the sound effect from press and release of ptt was too loud.

This commit reduces the volume drastically, so this can still be heard but it's low enough to not be distracting.

Before
https://github.com/user-attachments/assets/af330e28-4351-44ab-a1df-46730b658379


After
https://github.com/user-attachments/assets/77e34eec-6099-4172-b1b5-f407122bd1ca

Forward-Port-Of: odoo/odoo#192972
Forward-Port-Of: odoo/odoo#192919",fw-bot,2025-01-09 17:18:03+00:00,[],2025-01-10 10:19:03+00:00,2025-01-09 22:53:06+00:00,https://github.com/odoo/odoo/pull/193118,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580857201, 'issue_id': 2778365135, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193118.png)](https://mergebot.odoo.com/odoo/odoo/pull/193118)', 'created_at': datetime.datetime(2025, 1, 9, 17, 18, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580857224, 'issue_id': 2778365135, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 18, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581181620, 'issue_id': 2778365135, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 20, 23, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:18:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193118.png)](https://mergebot.odoo.com/odoo/odoo/pull/193118)

fw-bot (Issue Creator) on (2025-01-09 17:18:05 UTC): @alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-09 20:23:48 UTC): @robodoo r+

"
2778364452,pull_request,closed,,[FW][FIX] sale: disabled price edition,"The new `technical_price_unit` logic was introduced to reduce/prevent unexpected price recomputations when the price is manually updated on sale order lines.

Nevertheless, if the price_unit field is made readonly (through studio or any custom view ...), the price would stop being sent to the server by the client, resulting in zero-priced amounts because the presence of the technical price discarded the price recomputation, leading to the default 0 value.

This commit makes sure that in this situation, the technical price sent by the client is dropped, ensuring that the price is correctly computed.

opw-4319211

Forward-Port-Of: odoo/odoo#192790
Forward-Port-Of: odoo/odoo#190273",fw-bot,2025-01-09 17:17:38+00:00,[],2025-01-23 23:30:13+00:00,2025-01-09 22:53:02+00:00,https://github.com/odoo/odoo/pull/193117,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580856854, 'issue_id': 2778364452, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193117.png)](https://mergebot.odoo.com/odoo/odoo/pull/193117)', 'created_at': datetime.datetime(2025, 1, 9, 17, 17, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580856872, 'issue_id': 2778364452, 'author': 'fw-bot', 'body': '@Feyensv this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 17, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580859274, 'issue_id': 2778364452, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 17, 19, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:17:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193117.png)](https://mergebot.odoo.com/odoo/odoo/pull/193117)

fw-bot (Issue Creator) on (2025-01-09 17:17:54 UTC): @Feyensv this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-09 17:19:15 UTC): @robodoo r+

"
2778349519,pull_request,closed,,[FW][FIX] project: select default stage relative to project's company,"Steps
-----
- Have two companies A and B.
- Activate Project Stages, and in the list of stages set the first one of the list as belonging to company A.
- Create a project (from 'new' button in list view to be able to set a company at creation) belonging to company B (company B needs to be in the list of selected companies).
- Save it: the project's company has changed to company A.

Cause
-----
If no stage is set on the project at creation, we default to the default stage provided by `_default_stage_id`, which is the first stage in sequence, regardless of its company.
We then change the company of the project to match the stage's company, which overrides the stage set at creation.

Change
-----
If the project has a company set a creation, use the first stage without a company or with the same company as the project.
This is done even if the user doesn't have multiple companies selected, since the `search` on `project.project.stage` can return a stage from another company than the one selected.

opw-4290711

Forward-Port-Of: odoo/odoo#192865
Forward-Port-Of: odoo/odoo#187635",fw-bot,2025-01-09 17:09:13+00:00,[],2025-01-24 01:10:31+00:00,2025-01-10 00:39:44+00:00,https://github.com/odoo/odoo/pull/193116,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580840658, 'issue_id': 2778349519, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193116.png)](https://mergebot.odoo.com/odoo/odoo/pull/193116)', 'created_at': datetime.datetime(2025, 1, 9, 17, 9, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580840677, 'issue_id': 2778349519, 'author': 'fw-bot', 'body': '@taqu-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193102\n* odoo/odoo#193075\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 9, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581309492, 'issue_id': 2778349519, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 21, 49, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:09:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193116.png)](https://mergebot.odoo.com/odoo/odoo/pull/193116)

fw-bot (Issue Creator) on (2025-01-09 17:09:15 UTC): @taqu-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193102
* odoo/odoo#193075

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-01-09 21:49:36 UTC): robodoo r+

"
2778348427,pull_request,closed,,[FW][FIX] web: clear changes on urgent save,"Versions
--------
- 17.0+

Steps
-----
1. Download a VoIP provider like Skype or Linphone to open tel:* urls;
2. use a browser that supports this (FireFox works for me, but Chrome doesn't);
3. with Studio, edit the Sales Order form to add the customer phone;
4. create a new Sales Order with one order line;
5. save the form;
6. add a second line;
7. click on the phone number to start the VoIP app;
8. save the Sales Order form.

Issue
-----
The 2nd line is duplicated.

Cause
-----
Starting VoIP initiates an ""urgent"" web save, saving the first time. Usually this only happens when leaving the page, so it doesn't clear the changes to be saved.

In this scenario however, we remain on the page, and the changes are saved again when clicking the save button.

Solution
--------
Clear the saved changes if the urgent save succeeded.

opw-4308954

Forward-Port-Of: odoo/odoo#192989
Forward-Port-Of: odoo/odoo#192517",fw-bot,2025-01-09 17:08:34+00:00,[],2025-01-25 08:46:25+00:00,2025-01-11 08:15:00+00:00,https://github.com/odoo/odoo/pull/193115,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580839288, 'issue_id': 2778348427, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193115.png)](https://mergebot.odoo.com/odoo/odoo/pull/193115)', 'created_at': datetime.datetime(2025, 1, 9, 17, 8, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580839313, 'issue_id': 2778348427, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 8, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:08:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193115.png)](https://mergebot.odoo.com/odoo/odoo/pull/193115)

fw-bot (Issue Creator) on (2025-01-09 17:08:36 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778334862,pull_request,open,,[FIX] l10n_it_edi: make test independant of the date (year),"Fixes runbot issue-111405




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qdp-odoo,2025-01-09 17:01:31+00:00,[],2025-01-09 18:00:21+00:00,,https://github.com/odoo/odoo/pull/193114,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580825466, 'issue_id': 2778334862, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193114.png)](https://mergebot.odoo.com/odoo/odoo/pull/193114)', 'created_at': datetime.datetime(2025, 1, 9, 17, 1, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:01:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193114.png)](https://mergebot.odoo.com/odoo/odoo/pull/193114)

"
2778333286,pull_request,closed,,[FW][FIX] hr_timesheet: make default measures translatable,"In the Tasks' and Tasks Analysis' chart and pivot views, some default measures were not translatable after [this commit].

We make them translatable again here so they can be localized.

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#193058",fw-bot,2025-01-09 17:00:41+00:00,[],2025-01-27 17:06:11+00:00,2025-01-13 16:48:49+00:00,https://github.com/odoo/odoo/pull/193113,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580823721, 'issue_id': 2778333286, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193113.png)](https://mergebot.odoo.com/odoo/odoo/pull/193113)', 'created_at': datetime.datetime(2025, 1, 9, 17, 0, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580823789, 'issue_id': 2778333286, 'author': 'fw-bot', 'body': '@dylankiss @MissingNoShiny cherrypicking of pull request odoo/odoo#193058 failed.\n\nstdout:\n```\nAuto-merging addons/hr_timesheet/i18n/hr_timesheet.pot\nCONFLICT (content): Merge conflict in addons/hr_timesheet/i18n/hr_timesheet.pot\nAuto-merging addons/hr_timesheet/models/project_task.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 0, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586045985, 'issue_id': 2778333286, 'author': 'fw-bot', 'body': '@dylankiss @MissingNoShiny this forward port of odoo/odoo#193058 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587284834, 'issue_id': 2778333286, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 14, 40, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 17:00:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193113.png)](https://mergebot.odoo.com/odoo/odoo/pull/193113)

fw-bot (Issue Creator) on (2025-01-09 17:00:45 UTC): @dylankiss @MissingNoShiny cherrypicking of pull request odoo/odoo#193058 failed.

stdout:
```
Auto-merging addons/hr_timesheet/i18n/hr_timesheet.pot
CONFLICT (content): Merge conflict in addons/hr_timesheet/i18n/hr_timesheet.pot
Auto-merging addons/hr_timesheet/models/project_task.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:01:24 UTC): @dylankiss @MissingNoShiny this forward port of odoo/odoo#193058 is awaiting action (not merged or closed).

dylankiss on (2025-01-13 14:40:26 UTC): @robodoo r+

"
2778329159,pull_request,closed,,[FW][FIX] mrp: search for candidate MO with similar “location_dest_id”,"Steps to Reproduce the Bug:
- Enable multi-storage location
- Create a storable product “P1” with the following BoM:
    - Component: C1
- Create two orderpoints:
    - First orderpoint: - Route: Manufacture - Product: P1 - Min: 1, Max: 1 - Location: Shelf 1
    - Second orderpoint:
        - Route: Manufacture
        - Product: P1 - Min: 1, Max: 1 - Location: Shelf 2
- Click on “Order Once” of the first orderpoint.
    - A manufacturing order (MO) is created with the destination location: Shelf 1.
    - The “To Order” field will be computed as 0.
- Click on “Order Once” of the second orderpoint.

Problem:
The same manufacturing order is updated, even though its destination location is Shelf 1 which is wrong and The “To Order” quantity for the second orderpoint remains at 1. So each time the scheduler is triggered, the MO is updated by one unit if the trigger is set to “auto”.

opw-4418632

Forward-Port-Of: odoo/odoo#192035",fw-bot,2025-01-09 16:58:31+00:00,[],2025-01-14 15:12:56+00:00,2025-01-14 15:12:56+00:00,https://github.com/odoo/odoo/pull/193112,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580819180, 'issue_id': 2778329159, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193112.png)](https://mergebot.odoo.com/odoo/odoo/pull/193112)', 'created_at': datetime.datetime(2025, 1, 9, 16, 58, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580819201, 'issue_id': 2778329159, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#192035 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/stock_rule.py\nAuto-merging addons/mrp/tests/test_procurement.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_procurement.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 16, 58, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046620, 'issue_id': 2778329159, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this forward port of odoo/odoo#192035 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619153, 'issue_id': 2778329159, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this forward port of odoo/odoo#192035 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590192620, 'issue_id': 2778329159, 'author': 'DjamelTouati', 'body': 'Since version 17.2, it is no longer possible to create a reordering rule with a child location because the destination location will always be the one set on the picking type, so this FIX is unnecessary:\r\nhttps://github.com/odoo/odoo/commit/11e69870db1c49d9a6af79ffd263e4e162b34b6b#diff-6d86bc8c3e9aa22586656b702849c5bbbb00c9b97ffd08bc0842e0e68f8948f9R162-R163', 'created_at': datetime.datetime(2025, 1, 14, 15, 12, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:58:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193112.png)](https://mergebot.odoo.com/odoo/odoo/pull/193112)

fw-bot (Issue Creator) on (2025-01-09 16:58:32 UTC): @DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#192035 failed.

stdout:
```
Auto-merging addons/mrp/models/stock_rule.py
Auto-merging addons/mrp/tests/test_procurement.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_procurement.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:02 UTC): @DjamelTouati @Whenrow this forward port of odoo/odoo#192035 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:37 UTC): @DjamelTouati @Whenrow this forward port of odoo/odoo#192035 is awaiting action (not merged or closed).

DjamelTouati on (2025-01-14 15:12:56 UTC): Since version 17.2, it is no longer possible to create a reordering rule with a child location because the destination location will always be the one set on the picking type, so this FIX is unnecessary:
https://github.com/odoo/odoo/commit/11e69870db1c49d9a6af79ffd263e4e162b34b6b#diff-6d86bc8c3e9aa22586656b702849c5bbbb00c9b97ffd08bc0842e0e68f8948f9R162-R163

"
2778317032,pull_request,closed,,[FIX] discuss: prevent use of outdated sfu channel,"Before this commit, if a discuss channel was provided a new sfu channel, users that were already in a call on that old sfu channel would stay there instead of moving to the new one.

This commit also adds an icon if a rtc session is missing an expected `audioStream` so that it becomes easier to notice if a partial connectivity issue arises.

",ThanhDodeurOdoo,2025-01-09 16:52:36+00:00,[],2025-01-10 12:37:43+00:00,2025-01-10 12:08:07+00:00,https://github.com/odoo/odoo/pull/193111,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580807364, 'issue_id': 2778317032, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193111.png)](https://mergebot.odoo.com/odoo/odoo/pull/193111)', 'created_at': datetime.datetime(2025, 1, 9, 16, 52, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:52:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193111.png)](https://mergebot.odoo.com/odoo/odoo/pull/193111)

"
2778312454,pull_request,closed,,[FW][FIX] hw_drivers: improve image update reliability,"We improve the image reliability by:

- Improving handlers cleanup (we only removed os-specific handlers but downloaded all),
- Forcing Odoo service to restart after checkout, even if an error occurred.

Task: 4433461

Forward-Port-Of: odoo/odoo#191928",fw-bot,2025-01-09 16:50:26+00:00,[],2025-01-27 11:51:23+00:00,2025-01-13 11:48:40+00:00,https://github.com/odoo/odoo/pull/193110,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580802777, 'issue_id': 2778312454, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193110.png)](https://mergebot.odoo.com/odoo/odoo/pull/193110)', 'created_at': datetime.datetime(2025, 1, 9, 16, 50, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580802854, 'issue_id': 2778312454, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#191928 failed.\n\nstdout:\n```\nAuto-merging addons/hw_drivers/tools/helpers.py\nCONFLICT (content): Merge conflict in addons/hw_drivers/tools/helpers.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 16, 50, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046745, 'issue_id': 2778312454, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this forward port of odoo/odoo#191928 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586493364, 'issue_id': 2778312454, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 36, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586496681, 'issue_id': 2778312454, 'author': 'robodoo', 'body': ""@loouis-t @Ysoroko 'ci/security' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 8, 38, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586516779, 'issue_id': 2778312454, 'author': 'loouis-t', 'body': 'Hello @odoo/rd-security, could you override this forward port please? [Here is](https://github.com/odoo/odoo/pull/191928#issuecomment-2563756316) the original message.', 'created_at': datetime.datetime(2025, 1, 13, 8, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586564157, 'issue_id': 2778312454, 'author': 'xmo-odoo', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 13, 9, 13, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:50:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193110.png)](https://mergebot.odoo.com/odoo/odoo/pull/193110)

fw-bot (Issue Creator) on (2025-01-09 16:50:30 UTC): @loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#191928 failed.

stdout:
```
Auto-merging addons/hw_drivers/tools/helpers.py
CONFLICT (content): Merge conflict in addons/hw_drivers/tools/helpers.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:08 UTC): @loouis-t @Ysoroko this forward port of odoo/odoo#191928 is awaiting action (not merged or closed).

loouis-t on (2025-01-13 08:36:53 UTC): @robodoo r+

robodoo on (2025-01-13 08:38:43 UTC): @loouis-t @Ysoroko 'ci/security' failed on this reviewed PR.

loouis-t on (2025-01-13 08:49:35 UTC): Hello @odoo/rd-security, could you override this forward port please? [Here is](https://github.com/odoo/odoo/pull/191928#issuecomment-2563756316) the original message.

xmo-odoo on (2025-01-13 09:13:31 UTC): @robodoo override=ci/security

"
2778306848,pull_request,closed,,[FW][FIX] calendar: remove end_type ambiguity in sql query,"__Current behavior before commit:__
In [`a27afdb`][1], the field `end_type` from the model `calendar.event` became computed and therefore not stored anymore.
Databases that upgraded from an anterior version still have the column `end_type` in their table `calendar_event`.

In [`f6df418`][2], a reference to `end_type` from the table `calendar_recurrence` has been added in the SQL query. If the field `end_type` is still in the table `calendar_event` it is ambiguous which one this query should use.

Ultimately leading to this error:
```
psycopg2.errors.AmbiguousColumn: column reference ""end_type"" is ambiguous
LINE 22: ...                          WHEN cal.recurrency AND end_type =...
```

__Description of the fix:__
Remove the ambiguity by explicitly specifying `rrule`, the alias of the `calendar_recurrence` table.

opw-4406814

[1]: https://github.com/odoo/odoo/commit/a27afdb
[2]: https://github.com/odoo/odoo/commit/f6df418

Forward-Port-Of: odoo/odoo#192946",fw-bot,2025-01-09 16:47:36+00:00,[],2025-01-24 12:11:20+00:00,2025-01-10 11:53:33+00:00,https://github.com/odoo/odoo/pull/193109,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580797167, 'issue_id': 2778306848, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193109.png)](https://mergebot.odoo.com/odoo/odoo/pull/193109)', 'created_at': datetime.datetime(2025, 1, 9, 16, 47, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580797191, 'issue_id': 2778306848, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 16, 47, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:47:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193109.png)](https://mergebot.odoo.com/odoo/odoo/pull/193109)

fw-bot (Issue Creator) on (2025-01-09 16:47:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778267920,pull_request,closed,,[FIX] project_timesheet_holidays: make task field translatable,"The label of the ""Task"" field in the wizard that opens when you ""Add a line"" to ""My Timesheets"" was not exportable for translation after [this commit] and thus never translated in the UI.

This commit fixes that.

<img width=""851"" alt=""image"" src=""https://github.com/user-attachments/assets/5477ab35-7f84-402e-8d62-1dd8d8edd8ca"" />

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)",dylankiss,2025-01-09 16:28:37+00:00,[],2025-01-10 09:48:30+00:00,2025-01-09 20:03:10+00:00,https://github.com/odoo/odoo/pull/193108,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580739289, 'issue_id': 2778267920, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193108.png)](https://mergebot.odoo.com/odoo/odoo/pull/193108)', 'created_at': datetime.datetime(2025, 1, 9, 16, 28, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:28:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193108.png)](https://mergebot.odoo.com/odoo/odoo/pull/193108)

"
2778251559,pull_request,open,,Master payment paymob liew,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",livaios,2025-01-09 16:20:25+00:00,[],2025-01-24 16:03:08+00:00,,https://github.com/odoo/odoo/pull/193107,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580713383, 'issue_id': 2778251559, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193107.png)](https://mergebot.odoo.com/odoo/odoo/pull/193107)', 'created_at': datetime.datetime(2025, 1, 9, 16, 20, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:20:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193107.png)](https://mergebot.odoo.com/odoo/odoo/pull/193107)

"
2778240377,pull_request,open,,[imp] account: unambiguous cross-report aggregations,"Before this commit, when using cross_report subformula it would search for a report that has an line with this code.
We had to ensure there was no duplicate codes and so it was difficult to maintain.

Now, when we use a cross_report subformula, we need to explicitly target the report from where the code is from.

task-4457667",lost-odoo,2025-01-09 16:14:39+00:00,[],2025-02-06 12:33:31+00:00,,https://github.com/odoo/odoo/pull/193106,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580695433, 'issue_id': 2778240377, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193106.png)](https://mergebot.odoo.com/odoo/odoo/pull/193106)', 'created_at': datetime.datetime(2025, 1, 9, 16, 14, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:14:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193106.png)](https://mergebot.odoo.com/odoo/odoo/pull/193106)

"
2778237599,pull_request,closed,,[FW][FIX] l10n_gcc_invoice: display payment terms on invoice,"**Steps to reproduce:**
- Install account_accountant, sale_management and l10n_sa
- Switch to a Saudi Arabian company (e.g. SA Company)
- Create a payment term:
  * Description on the Invoice: [anything]
  * Display terms on invoice: [checked]
  * Terms: [add many lines]
- Create a SO:
  * Customer: [any]
  * Payment Terms: [the created payment term]
  * Order lines: [anything]
- Confirm the SO
- Create an invoice from the SO
- Confirm the invoice
- Generate the invoice

**Issue:**
The description of the payment term is displayed on the invoice but the terms are not displayed as it is the case in any other localization.

**Cause:**
""report_invoice"" is replaced by the Arabic/English invoice in l10n_gcc_invoice module.
However, the logic to display the terms has not been added in the template for Arabic/English invoice.

opw-4291232



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188456",fw-bot,2025-01-09 16:13:14+00:00,[],2025-01-24 15:33:21+00:00,2025-01-10 15:29:31+00:00,https://github.com/odoo/odoo/pull/193105,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580690737, 'issue_id': 2778237599, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193105.png)](https://mergebot.odoo.com/odoo/odoo/pull/193105)', 'created_at': datetime.datetime(2025, 1, 9, 16, 13, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580690775, 'issue_id': 2778237599, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 16, 13, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006486, 'issue_id': 2778237599, 'author': 'kitan191', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006572, 'issue_id': 2778237599, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:13:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193105.png)](https://mergebot.odoo.com/odoo/odoo/pull/193105)

fw-bot (Issue Creator) on (2025-01-09 16:13:16 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 08:04:36 UTC): @robodoo r-

robodoo on (2025-01-10 08:04:39 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

"
2778224485,pull_request,open,,[16.0][FIX] hr_holidays: Auto-confirm allocation if allowed to be created by employees,"Auto-confirm allocation if allowed to be created by employees

Example use case:
- Create a Time Off Type with the option Employee Requests: Extra Days Requests Allowed + Approval: Approved by Time Off Officer.
- Go to the Time off dashboard.
- Click on the Allocation request button.
- Create an allocation linked to the previously created Time Off Type.

Expected behavior: The allocation must be auto-confirmed.

If the allocation is created by an employee with “basic” permissions, wait for the allocation to auto-confirm, otherwise the employee will have to go to the allocation list to confirm it, generating confusion (the employee will think that the allocation created from the modal does not need anything else).

Related to https://github.com/odoo/odoo/pull/106306

@Tecnativa TTTT52597

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",victoralmau,2025-01-09 16:06:42+00:00,[],2025-01-28 15:29:07+00:00,,https://github.com/odoo/odoo/pull/193104,"[('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2580670555, 'issue_id': 2778224485, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193104.png)](https://mergebot.odoo.com/odoo/odoo/pull/193104)', 'created_at': datetime.datetime(2025, 1, 9, 16, 6, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 16:06:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193104.png)](https://mergebot.odoo.com/odoo/odoo/pull/193104)

"
2778203607,pull_request,open,,[IMP] base: add new province for Indonesia,"Official Document, [link](https://peraturan.bpk.go.id/Details/232726/uu-no-29-tahun-2022)
Wikipedia in English, [link](https://en.wikipedia.org/wiki/Southwest_Papua)

![immagine](https://github.com/user-attachments/assets/a3070fec-6c1b-4a8f-87a0-0c4f42457b9d)  ",repodevs,2025-01-09 15:57:45+00:00,[],2025-02-04 12:27:57+00:00,,https://github.com/odoo/odoo/pull/193103,[],"[{'comment_id': 2580639568, 'issue_id': 2778203607, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193103.png)](https://mergebot.odoo.com/odoo/odoo/pull/193103)', 'created_at': datetime.datetime(2025, 1, 9, 15, 57, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580642134, 'issue_id': 2778203607, 'author': 'repodevs', 'body': 'could you review this @JKE-be ?', 'created_at': datetime.datetime(2025, 1, 9, 15, 58, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602787772, 'issue_id': 2778203607, 'author': 'repodevs', 'body': 'sorry to ping you @mart-e @JKE-be', 'created_at': datetime.datetime(2025, 1, 20, 16, 2, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:57:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193103.png)](https://mergebot.odoo.com/odoo/odoo/pull/193103)

repodevs (Issue Creator) on (2025-01-09 15:58:51 UTC): could you review this @JKE-be ?

repodevs (Issue Creator) on (2025-01-20 16:02:43 UTC): sorry to ping you @mart-e @JKE-be

"
2778173876,pull_request,closed,,[FW][FIX] project: select default stage relative to project's company,"Steps
-----
- Have two companies A and B.
- Activate Project Stages, and in the list of stages set the first one of the list as belonging to company A.
- Create a project (from 'new' button in list view to be able to set a company at creation) belonging to company B (company B needs to be in the list of selected companies).
- Save it: the project's company has changed to company A.

Cause
-----
If no stage is set on the project at creation, we default to the default stage provided by `_default_stage_id`, which is the first stage in sequence, regardless of its company.
We then change the company of the project to match the stage's company, which overrides the stage set at creation.

Change
-----
If the project has a company set a creation, use the first stage without a company or with the same company as the project.
This is done even if the user doesn't have multiple companies selected, since the `search` on `project.project.stage` can return a stage from another company than the one selected.

opw-4290711

Forward-Port-Of: odoo/odoo#192865
Forward-Port-Of: odoo/odoo#187635",fw-bot,2025-01-09 15:45:54+00:00,[],2025-01-24 02:35:46+00:00,2025-01-10 01:35:21+00:00,https://github.com/odoo/odoo/pull/193102,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580611820, 'issue_id': 2778173876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193102.png)](https://mergebot.odoo.com/odoo/odoo/pull/193102)', 'created_at': datetime.datetime(2025, 1, 9, 15, 45, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580611842, 'issue_id': 2778173876, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 45, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:45:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193102.png)](https://mergebot.odoo.com/odoo/odoo/pull/193102)

fw-bot (Issue Creator) on (2025-01-09 15:45:55 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778172524,pull_request,closed,,[FW][FIX] hr_timesheet: make overtime filter translatable,"In the Tasks Analysis, the field `overtime` can be used as a measure in the graph and pivot views. However, the field name was set as not translatable and thus always showing in English after [this commit].

We make it translatable again here so it can be localized.

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#193058",fw-bot,2025-01-09 15:45:18+00:00,[],2025-01-27 11:46:51+00:00,2025-01-13 11:43:54+00:00,https://github.com/odoo/odoo/pull/193101,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580610459, 'issue_id': 2778172524, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193101.png)](https://mergebot.odoo.com/odoo/odoo/pull/193101)', 'created_at': datetime.datetime(2025, 1, 9, 15, 45, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580610487, 'issue_id': 2778172524, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580823738, 'issue_id': 2778172524, 'author': 'fw-bot', 'body': '@dylankiss @MissingNoShiny the next pull request (odoo/odoo#193113) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 17, 0, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046009, 'issue_id': 2778172524, 'author': 'fw-bot', 'body': '@dylankiss @MissingNoShiny this forward port of odoo/odoo#193058 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586633262, 'issue_id': 2778172524, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 46, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:45:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193101.png)](https://mergebot.odoo.com/odoo/odoo/pull/193101)

fw-bot (Issue Creator) on (2025-01-09 15:45:20 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 17:00:43 UTC): @dylankiss @MissingNoShiny the next pull request (odoo/odoo#193113) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:01:26 UTC): @dylankiss @MissingNoShiny this forward port of odoo/odoo#193058 is awaiting action (not merged or closed).

dylankiss on (2025-01-13 09:46:35 UTC): @robodoo r+

"
2778170329,pull_request,closed,,[FIX] stock_picking_batch: forbid picking free sml wave transfer,"### Steps to reproduce:
- In the settings enable: 1) Multi-Steps Routes 2) ""Batch, Wave and cluster Transfers""
- Inventory > Operations > Jobs > Wave transfer
- Click on ""Prepare Wave"".
> A read group of the stock.move.line model is performed for you to compose your wave transfer.

### Issue:

Move lines without picking are also displayed. Hence if selected raise a traceback during the `_add_to_wave` call.

### Note:

The `action_prepare_wave` and `action_prepare_wave_for_picking_type` actions performing the read groups were added to the 18.0 versions by commit 71eeeae5c7212a709c0b18181d195975b5ca6a99 so that there is no issue prior to that version.

opw-4464695
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-09 15:44:16+00:00,[],2025-01-24 13:43:29+00:00,2025-01-10 13:35:51+00:00,https://github.com/odoo/odoo/pull/193100,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580608036, 'issue_id': 2778170329, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193100.png)](https://mergebot.odoo.com/odoo/odoo/pull/193100)', 'created_at': datetime.datetime(2025, 1, 9, 15, 44, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582053768, 'issue_id': 2778170329, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 32, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582159301, 'issue_id': 2778170329, 'author': 'robodoo', 'body': '@lase-odoo @Whenrow staging failed: ci/l10n on abdfb977c84f2ab0e51246124cb3032e5e7a7e3f (view more at https://runbot.odoo.com/runbot/build/73145236)', 'created_at': datetime.datetime(2025, 1, 10, 9, 24, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582527960, 'issue_id': 2778170329, 'author': 'lase-odoo', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 10, 11, 51, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:44:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193100.png)](https://mergebot.odoo.com/odoo/odoo/pull/193100)

Whenrow on (2025-01-10 08:32:32 UTC): robodoo r+

robodoo on (2025-01-10 09:24:21 UTC): @lase-odoo @Whenrow staging failed: ci/l10n on abdfb977c84f2ab0e51246124cb3032e5e7a7e3f (view more at https://runbot.odoo.com/runbot/build/73145236)

lase-odoo (Issue Creator) on (2025-01-10 11:51:20 UTC): robodoo retry

"
2778168151,pull_request,closed,,[FW][FIX] account: make account uninstall possible,"Currently, an error is generated when the user tries to uninstall ``account`` module after installing ``account_inter_company_rules`` module.

Steps to reproduce:
---
- Install ``account_inter_company_rules`` module
- Uninstall ``account`` module

Traceback:
---
``KeyError: 'res.company.intercompany_purchase_journal_id'``

When we uninstall the account module, we set all associated fields related to 'account' (e.g., chart_template) to 'False'.

Change:
---
Force a recomputation by flushing the records.


sentry-6054886854

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191154",fw-bot,2025-01-09 15:43:32+00:00,[],2025-01-24 07:59:38+00:00,2025-01-10 07:58:41+00:00,https://github.com/odoo/odoo/pull/193099,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580605173, 'issue_id': 2778168151, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193099.png)](https://mergebot.odoo.com/odoo/odoo/pull/193099)', 'created_at': datetime.datetime(2025, 1, 9, 15, 43, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580605223, 'issue_id': 2778168151, 'author': 'fw-bot', 'body': '@aamo-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193074\n* odoo/odoo#193055\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 43, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581805677, 'issue_id': 2778168151, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 5, 24, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:43:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193099.png)](https://mergebot.odoo.com/odoo/odoo/pull/193099)

fw-bot (Issue Creator) on (2025-01-09 15:43:34 UTC): @aamo-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193074
* odoo/odoo#193055

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-01-10 05:24:45 UTC): @robodoo r+

"
2778164589,pull_request,closed,,[FW][FIX] point_of_sale: product card not updated according to order,"Steps to reproduce:
1. Create a new free order and add 2 quantities of any product.
2. Create another free order and add 2 quantities of any product different from 1st order.
3. Switch to orders 1 and 2, and you'll see the same product and quantity loading in both orders.

Issue:
- Both free orders show same product card if quantity is same.

Fix:
- UseEffect was set to update on order rather than quantity.

task-4438675

Forward-Port-Of: odoo/odoo#193034
Forward-Port-Of: odoo/odoo#192170",fw-bot,2025-01-09 15:42:06+00:00,[],2025-01-24 06:31:16+00:00,2025-01-10 06:18:09+00:00,https://github.com/odoo/odoo/pull/193098,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580600955, 'issue_id': 2778164589, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193098.png)](https://mergebot.odoo.com/odoo/odoo/pull/193098)', 'created_at': datetime.datetime(2025, 1, 9, 15, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580600981, 'issue_id': 2778164589, 'author': 'fw-bot', 'body': '@shag-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581726607, 'issue_id': 2778164589, 'author': 'shag-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 4, 38, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:42:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193098.png)](https://mergebot.odoo.com/odoo/odoo/pull/193098)

fw-bot (Issue Creator) on (2025-01-09 15:42:08 UTC): @shag-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

shag-odoo on (2025-01-10 04:38:09 UTC): @robodoo r+

"
2778163823,pull_request,closed,,[FW][FIX] *: wait modal is show before continue the tour,"In this commit, we wait the modal is shown (managed by jQuery) before to continue the tour. In these modals, if we don't wait for the modal is shown, as the tour engine can be too much fast, element in modal can be not focusable when we try to target it.
This fix add classes to ensure modal is shown before continuing the tour.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192685
Forward-Port-Of: odoo/odoo#192541",fw-bot,2025-01-09 15:41:49+00:00,[],2025-01-24 09:26:38+00:00,2025-01-10 09:17:45+00:00,https://github.com/odoo/odoo/pull/193097,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580600305, 'issue_id': 2778163823, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193097.png)](https://mergebot.odoo.com/odoo/odoo/pull/193097)', 'created_at': datetime.datetime(2025, 1, 9, 15, 41, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580600339, 'issue_id': 2778163823, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 41, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581864053, 'issue_id': 2778163823, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 6, 19, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:41:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193097.png)](https://mergebot.odoo.com/odoo/odoo/pull/193097)

fw-bot (Issue Creator) on (2025-01-09 15:41:51 UTC): @pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-10 06:19:45 UTC): @robodoo r+

"
2778160753,pull_request,closed,,[FIX] point_of_sale: correctly sort products alphabetically,"Before this commit, products were sorted based on display_name, which included the internal reference, resulting in products being sorted by their internal references. This fix ensures that products are sorted alphabetically by their names.

opw-4456699

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-09 15:40:36+00:00,[],2025-02-06 13:26:42+00:00,2025-01-23 13:15:02+00:00,https://github.com/odoo/odoo/pull/193096,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580597682, 'issue_id': 2778160753, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193096.png)](https://mergebot.odoo.com/odoo/odoo/pull/193096)', 'created_at': datetime.datetime(2025, 1, 9, 15, 40, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581965223, 'issue_id': 2778160753, 'author': 'pedrambiria', 'body': ""@davidmonnom It's green now"", 'created_at': datetime.datetime(2025, 1, 10, 7, 34, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:40:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193096.png)](https://mergebot.odoo.com/odoo/odoo/pull/193096)

pedrambiria (Issue Creator) on (2025-01-10 07:34:34 UTC): @davidmonnom It's green now

"
2778151781,pull_request,closed,,Fix various partners / recipients issues,,tde-banana-odoo,2025-01-09 15:36:19+00:00,[],2025-01-23 21:07:37+00:00,2025-01-09 20:38:44+00:00,https://github.com/odoo/odoo/pull/193095,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580587680, 'issue_id': 2778151781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193095.png)](https://mergebot.odoo.com/odoo/odoo/pull/193095)', 'created_at': datetime.datetime(2025, 1, 9, 15, 36, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580981642, 'issue_id': 2778151781, 'author': 'tde-banana-odoo', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 9, 18, 22, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580981733, 'issue_id': 2778151781, 'author': 'robodoo', 'body': '@tde-banana-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 9, 18, 22, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580981778, 'issue_id': 2778151781, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 9, 18, 22, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:36:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193095.png)](https://mergebot.odoo.com/odoo/odoo/pull/193095)

tde-banana-odoo (Issue Creator) on (2025-01-09 18:22:55 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-09 18:22:57 UTC): @tde-banana-odoo you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-01-09 18:22:59 UTC): Merge method set to rebase and fast-forward.

"
2778148439,pull_request,closed,,[FIX] account: fix account opening from CoA with archived branches,"**Steps to reproduce:**
- Install Accounting
- Create a branch
- Archive the branch
- Go to ""Accounting / Configuration / Accounting / Chart of Accounts""
- Click on the ""View"" button of any account

**Issue:**
An AccessError is raised:
""Access to unauthorized or invalid companies.""

**Cause:**
The ""account.code.mapping"" records are fetched for all the companies of the current user, even the archived ones.
{'active_test': False} is added in the context in the read method of the One2many class in fields.py

opw-4450588




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-09 15:34:42+00:00,[],2025-01-24 12:11:31+00:00,2025-01-10 12:08:06+00:00,https://github.com/odoo/odoo/pull/193094,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580583595, 'issue_id': 2778148439, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193094.png)](https://mergebot.odoo.com/odoo/odoo/pull/193094)', 'created_at': datetime.datetime(2025, 1, 9, 15, 34, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:34:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193094.png)](https://mergebot.odoo.com/odoo/odoo/pull/193094)

"
2778138815,pull_request,closed,,[FW][FIX] calendar: remove end_type ambiguity in sql query,"__Current behavior before commit:__
In [`a27afdb`][1], the field `end_type` from the model `calendar.event` became computed and therefore not stored anymore.
Databases that upgraded from an anterior version still have the column `end_type` in their table `calendar_event`.

In [`f6df418`][2], a reference to `end_type` from the table `calendar_recurrence` has been added in the SQL query. If the field `end_type` is still in the table `calendar_event` it is ambiguous which one this query should use.

Ultimately leading to this error:
```
psycopg2.errors.AmbiguousColumn: column reference ""end_type"" is ambiguous
LINE 22: ...                          WHEN cal.recurrency AND end_type =...
```

__Description of the fix:__
Remove the ambiguity by explicitly specifying `rrule`, the alias of the `calendar_recurrence` table.

opw-4406814

[1]: https://github.com/odoo/odoo/commit/a27afdb
[2]: https://github.com/odoo/odoo/commit/f6df418

Forward-Port-Of: odoo/odoo#192946",fw-bot,2025-01-09 15:30:50+00:00,[],2025-01-24 12:11:14+00:00,2025-01-10 11:49:46+00:00,https://github.com/odoo/odoo/pull/193093,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580571951, 'issue_id': 2778138815, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193093.png)](https://mergebot.odoo.com/odoo/odoo/pull/193093)', 'created_at': datetime.datetime(2025, 1, 9, 15, 30, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580571973, 'issue_id': 2778138815, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 30, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:30:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193093.png)](https://mergebot.odoo.com/odoo/odoo/pull/193093)

fw-bot (Issue Creator) on (2025-01-09 15:30:52 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2778137636,pull_request,closed,,[FW][FIX] sale: take line discount in global discount calculation,"If discount was appplied to sale order line and user applied global discount, it would have been calculated based on unsdicounted amount resulting in too high global discount as global discount should be calculated based on price after line discount.

opw-4349320

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191211",fw-bot,2025-01-09 15:30:34+00:00,[],2025-01-27 10:34:01+00:00,2025-01-13 10:30:47+00:00,https://github.com/odoo/odoo/pull/193092,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580570954, 'issue_id': 2778137636, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193092.png)](https://mergebot.odoo.com/odoo/odoo/pull/193092)', 'created_at': datetime.datetime(2025, 1, 9, 15, 30, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580570969, 'issue_id': 2778137636, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 30, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580654382, 'issue_id': 2778137636, 'author': 'fw-bot', 'body': '@anko-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 16, 2, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:30:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193092.png)](https://mergebot.odoo.com/odoo/odoo/pull/193092)

fw-bot (Issue Creator) on (2025-01-09 15:30:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 16:02:47 UTC): @anko-odoo ci/runbot failed on this forward-port PR

"
2778129414,pull_request,closed,,[FW][FIX] l10n_my_*: Enable invoicing foreign customers.,"The current logic is not working when trying to invoice foreign customers. A few fields that could be useful are hidden, and we don't add the id information in the xml file which causes it to fail.

In practice, it is valid to invoice a foreign customer and use a generic TIN if they don't have a malaysian one when reporting to the tax authorities. This change will allow just that; we add the id information to the xml which allow to correctly issue a valid invoice for a foreign customer (tested on pre- production)

opw-4438259

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193000",fw-bot,2025-01-09 15:27:14+00:00,[],2025-01-24 06:31:18+00:00,2025-01-10 06:18:31+00:00,https://github.com/odoo/odoo/pull/193091,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580562946, 'issue_id': 2778129414, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193091.png)](https://mergebot.odoo.com/odoo/odoo/pull/193091)', 'created_at': datetime.datetime(2025, 1, 9, 15, 27, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580563038, 'issue_id': 2778129414, 'author': 'fw-bot', 'body': '@vin-odoo @antoine162 cherrypicking of pull request odoo/odoo#193000 failed.\n\n* 13acd2320ab6784366eacad7e95b432ee2df638a\n* 4a6b7e7b75c81672b7d244500b86db9d025e8a05 <- on this commit\n\nstdout:\n```\nAuto-merging addons/l10n_my_edi/data/my_ubl_templates.xml\nCONFLICT (content): Merge conflict in addons/l10n_my_edi/data/my_ubl_templates.xml\nAuto-merging addons/l10n_my_edi/models/account_edi_xml_ubl_my.py\nAuto-merging addons/l10n_my_edi/tests/test_file_generation.py\nCONFLICT (content): Merge conflict in addons/l10n_my_edi/tests/test_file_generation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 27, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581690736, 'issue_id': 2778129414, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 3, 54, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581747272, 'issue_id': 2778129414, 'author': 'robodoo', 'body': '@vin-odoo @antoine162 staging failed: ci/runbot on 7136236821a1def9c43031a34fffd709e7cd3f91 (view more at https://runbot.odoo.com/runbot/build/73139505)', 'created_at': datetime.datetime(2025, 1, 10, 4, 52, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581752244, 'issue_id': 2778129414, 'author': 'vin-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 10, 4, 54, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:27:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193091.png)](https://mergebot.odoo.com/odoo/odoo/pull/193091)

fw-bot (Issue Creator) on (2025-01-09 15:27:18 UTC): @vin-odoo @antoine162 cherrypicking of pull request odoo/odoo#193000 failed.

* 13acd2320ab6784366eacad7e95b432ee2df638a
* 4a6b7e7b75c81672b7d244500b86db9d025e8a05 <- on this commit

stdout:
```
Auto-merging addons/l10n_my_edi/data/my_ubl_templates.xml
CONFLICT (content): Merge conflict in addons/l10n_my_edi/data/my_ubl_templates.xml
Auto-merging addons/l10n_my_edi/models/account_edi_xml_ubl_my.py
Auto-merging addons/l10n_my_edi/tests/test_file_generation.py
CONFLICT (content): Merge conflict in addons/l10n_my_edi/tests/test_file_generation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-10 03:54:33 UTC): @robodoo r+

robodoo on (2025-01-10 04:52:17 UTC): @vin-odoo @antoine162 staging failed: ci/runbot on 7136236821a1def9c43031a34fffd709e7cd3f91 (view more at https://runbot.odoo.com/runbot/build/73139505)

vin-odoo on (2025-01-10 04:54:59 UTC): @robodoo retry

"
2778128826,pull_request,closed,,[FW][FIX] website_sale_loyalty: validate rewards before payment,"Versions
--------
- 16.0+

Steps
-----
1. Have a payment provider like Demo published;
2. create a discount program that expired yesterday;
3. change time of PC to yesterday;
4. go to eCommerce, add product to cart, go to checkout;
5. follow steps until you get to the ""Pay Now"" button;
6. change time of PC to today;
7. finalize payment.

Issue
-----
The payment transaction proceeds, but doesn't cover the entire amount, as the promotion was removed afterwards.

Cause
-----
When initiating payment, there's check on whether the applied rewards are still valid.

Solution
--------
Add an override for `_validate_transaction_for_order`, which compares the order amount before and after updating programs & rewards.

If they don't match, raise a `ValidationError`, forcing the user reload the order without expired programs & rewards.

opw-4304241

Forward-Port-Of: odoo/odoo#191256",fw-bot,2025-01-09 15:26:58+00:00,[],2025-01-27 14:16:51+00:00,2025-01-13 13:29:41+00:00,https://github.com/odoo/odoo/pull/193090,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580562337, 'issue_id': 2778128826, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193090.png)](https://mergebot.odoo.com/odoo/odoo/pull/193090)', 'created_at': datetime.datetime(2025, 1, 9, 15, 26, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580562372, 'issue_id': 2778128826, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#191256 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale_loyalty/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py\nAuto-merging addons/website_sale_loyalty/i18n/website_sale_loyalty.pot\nAuto-merging addons/website_sale_loyalty/tests/__init__.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/tests/__init__.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046976, 'issue_id': 2778128826, 'author': 'fw-bot', 'body': '@lvsz this forward port of odoo/odoo#191256 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586398185, 'issue_id': 2778128826, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 36, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:26:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193090.png)](https://mergebot.odoo.com/odoo/odoo/pull/193090)

fw-bot (Issue Creator) on (2025-01-09 15:27:00 UTC): @lvsz cherrypicking of pull request odoo/odoo#191256 failed.

stdout:
```
Auto-merging addons/website_sale_loyalty/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py
Auto-merging addons/website_sale_loyalty/i18n/website_sale_loyalty.pot
Auto-merging addons/website_sale_loyalty/tests/__init__.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/tests/__init__.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:20 UTC): @lvsz this forward port of odoo/odoo#191256 is awaiting action (not merged or closed).

lvsz on (2025-01-13 07:36:21 UTC): robodoo r+

"
2778128272,pull_request,closed,,[FW][FIX] hw_drivers: improve image update reliability,"We improve the image reliability by:

- Improving handlers cleanup (we only removed os-specific handlers but downloaded all),
- Forcing Odoo service to restart after checkout, even if an error occurred.

Task: 4433461

Forward-Port-Of: odoo/odoo#191928",fw-bot,2025-01-09 15:26:42+00:00,[],2025-01-23 21:52:18+00:00,2025-01-09 21:39:05+00:00,https://github.com/odoo/odoo/pull/193089,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580561744, 'issue_id': 2778128272, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193089.png)](https://mergebot.odoo.com/odoo/odoo/pull/193089)', 'created_at': datetime.datetime(2025, 1, 9, 15, 26, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580561763, 'issue_id': 2778128272, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 26, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580627390, 'issue_id': 2778128272, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 15, 52, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580802806, 'issue_id': 2778128272, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko the next pull request (odoo/odoo#193110) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 16, 50, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580895525, 'issue_id': 2778128272, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 17, 36, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:26:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193089.png)](https://mergebot.odoo.com/odoo/odoo/pull/193089)

fw-bot (Issue Creator) on (2025-01-09 15:26:44 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 15:52:38 UTC): @loouis-t @Ysoroko ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-09 16:50:28 UTC): @loouis-t @Ysoroko the next pull request (odoo/odoo#193110) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-09 17:36:22 UTC): @robodoo r+

"
2778118487,pull_request,closed,,[FIX] l10n_be_pos_restaurant: fix install restaurant scenario,"Fix issue when trying to install ""Restaurant"" scenario in a belgian company. Now we put the dedicated belgian takeaway fiscal position inside take away presets (instead of old fields `takeaway` and `takeaway_fp_id`).

task-id: 4463785

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-01-09 15:22:42+00:00,[],2025-01-27 11:51:21+00:00,2025-01-13 11:48:26+00:00,https://github.com/odoo/odoo/pull/193088,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580552440, 'issue_id': 2778118487, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193088.png)](https://mergebot.odoo.com/odoo/odoo/pull/193088)', 'created_at': datetime.datetime(2025, 1, 9, 15, 22, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580957412, 'issue_id': 2778118487, 'author': 'caburj', 'body': ""what's the issue with the previous version? Does setting the fiscal position directly in the config result to an error?"", 'created_at': datetime.datetime(2025, 1, 9, 18, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582008059, 'issue_id': 2778118487, 'author': 'manv-afk', 'body': ""@caburj the fields `takeaway` and `takeaway_fp_id` doesn't exist anymore in `pos_config` (since prefix implementation). So now I'm writing this Belgian fiscal position directly inside the takeaway preset."", 'created_at': datetime.datetime(2025, 1, 10, 8, 5, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586608879, 'issue_id': 2778118487, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 34, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:22:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193088.png)](https://mergebot.odoo.com/odoo/odoo/pull/193088)

caburj on (2025-01-09 18:10:11 UTC): what's the issue with the previous version? Does setting the fiscal position directly in the config result to an error?

manv-afk (Issue Creator) on (2025-01-10 08:05:37 UTC): @caburj the fields `takeaway` and `takeaway_fp_id` doesn't exist anymore in `pos_config` (since prefix implementation). So now I'm writing this Belgian fiscal position directly inside the takeaway preset.

caburj on (2025-01-13 09:34:42 UTC): robodoo r+

"
2778115402,pull_request,closed,,[FW][FIX] stock_account: branch accounts configuration ignored,"User of a branch company may change accounts configuration product categories,
but currently this settings is ignored, as accounts are fetched from the main
company instead

Steps to reproduce:
- Create a branch company
- Open a product category [CATEG] (i.e. Office Furniture) and set
  - 'Inventory valuation': 'Automated'
  - 'Stock Input Account': [Account]
- Assign product category [CATEG] to a product [PROD]
- Create a Vendor bill with [PROD] and Save
- Check Journal items tab

Issue: Product line account is not [Account] but it is taken from the
main company settings
This occurs due to a fix [1] done to have `stock_account` in sync with the
base method in `account`. However, the forced company in base method was changed
in a refactor [2]

[1] https://github.com/odoo/odoo/commit/0b07210fe1f1c451eb648deff74c3ab37c8c09bd
[2] https://github.com/odoo/odoo/commit/d8d47f9ff8554f4b39487fd2f13c153c7d6f958d

opw-4297203

Forward-Port-Of: odoo/odoo#191349",fw-bot,2025-01-09 15:21:27+00:00,[],2025-01-24 12:11:36+00:00,2025-01-10 12:08:08+00:00,https://github.com/odoo/odoo/pull/193087,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580549387, 'issue_id': 2778115402, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193087.png)](https://mergebot.odoo.com/odoo/odoo/pull/193087)', 'created_at': datetime.datetime(2025, 1, 9, 15, 21, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580549404, 'issue_id': 2778115402, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 21, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580715010, 'issue_id': 2778115402, 'author': 'fw-bot', 'body': '@agr-odoo @oco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 16, 20, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582068086, 'issue_id': 2778115402, 'author': 'fw-bot', 'body': '@agr-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 8, 41, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582327754, 'issue_id': 2778115402, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:21:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193087.png)](https://mergebot.odoo.com/odoo/odoo/pull/193087)

fw-bot (Issue Creator) on (2025-01-09 15:21:28 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 16:20:57 UTC): @agr-odoo @oco-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-10 08:41:07 UTC): @agr-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

agr-odoo on (2025-01-10 10:34:00 UTC): @robodoo r+

"
2778108651,pull_request,closed,,[FIX] core: inconsistent pypdf metadata in 5.1,"Even if 5.1 is not technically supported, debuntu might switch to it any moment and we don't know if / when upstream will fix it, so it's not worth the time bomb.

While technically it was always typed such, since py-pdf/pypdf#2820 it looks like `_info` is a lot more likely to be `None` as e.g. `clone_reader_document_root` now starts with unsetting `_info_obj` and never re-sets it.

Except `add_metadata` was not updated to handle this case, likely because mypy interprets `assert isinstance(self._info, DictionaryObject)` as a type narrowing and trusts the developer, thus does not report the type mismatch... and the assertion ends up blowing in the user's face at runtime with a simple

    >>> r = pypdf.PdfReader(some_pdf_document)
    >>> w = pypdf.PdfWriter()
    >>> w.clone_reader_document_root(r)
    >>> w.add_metadata({""/foo"": ""bar""})
    Traceback (most recent call last):
      File ""<stdin>"", line 1, in <module>
      File ""lib/python3.12/site-packages/pypdf/_writer.py"", line 1622, in add_metadata
        assert isinstance(self._info, DictionaryObject)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    AssertionError

This is rather inconsiderate, so monkeypatch `add_metadata` to handle the case where `_info` exists and is `None`.

Most of the credit goes to juwu for uncovering the issue.

opw-4372052
opw-4426881
Fixes #185673

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xmo-odoo,2025-01-09 15:18:30+00:00,[],2025-01-23 18:23:54+00:00,2025-01-09 18:14:01+00:00,https://github.com/odoo/odoo/pull/193086,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580542563, 'issue_id': 2778108651, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193086.png)](https://mergebot.odoo.com/odoo/odoo/pull/193086)', 'created_at': datetime.datetime(2025, 1, 9, 15, 18, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580544613, 'issue_id': 2778108651, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 19, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 15:18:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193086.png)](https://mergebot.odoo.com/odoo/odoo/pull/193086)

xmo-odoo (Issue Creator) on (2025-01-09 15:19:29 UTC): @robodoo r+

"
2778064330,pull_request,closed,,[FW][FIX] l10n_gcc_invoice: display payment terms on invoice,"**Steps to reproduce:**
- Install account_accountant, sale_management and l10n_sa
- Switch to a Saudi Arabian company (e.g. SA Company)
- Create a payment term:
  * Description on the Invoice: [anything]
  * Display terms on invoice: [checked]
  * Terms: [add many lines]
- Create a SO:
  * Customer: [any]
  * Payment Terms: [the created payment term]
  * Order lines: [anything]
- Confirm the SO
- Create an invoice from the SO
- Confirm the invoice
- Generate the invoice

**Issue:**
The description of the payment term is displayed on the invoice but the terms are not displayed as it is the case in any other localization.

**Cause:**
""report_invoice"" is replaced by the Arabic/English invoice in l10n_gcc_invoice module.
However, the logic to display the terms has not been added in the template for Arabic/English invoice.

opw-4291232



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188456",fw-bot,2025-01-09 14:59:22+00:00,[],2025-01-24 15:02:39+00:00,2025-01-10 14:33:44+00:00,https://github.com/odoo/odoo/pull/193085,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580494566, 'issue_id': 2778064330, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193085.png)](https://mergebot.odoo.com/odoo/odoo/pull/193085)', 'created_at': datetime.datetime(2025, 1, 9, 14, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580494606, 'issue_id': 2778064330, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 59, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006742, 'issue_id': 2778064330, 'author': 'kitan191', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006832, 'issue_id': 2778064330, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582624035, 'issue_id': 2778064330, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 12, 41, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:59:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193085.png)](https://mergebot.odoo.com/odoo/odoo/pull/193085)

fw-bot (Issue Creator) on (2025-01-09 14:59:25 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 08:04:46 UTC): @robodoo r-

robodoo on (2025-01-10 08:04:49 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

kitan191 on (2025-01-10 12:41:27 UTC): @robodoo r+

"
2778060585,pull_request,closed,,[FW][FIX] l10n_in_pos: tb on receipt with customer after payment done,"Steps:
===
- Open a POS shop.
- Create an order, select a customer, and validate it.

Issue:
===
- The generated receipt did not include customer name and phone details.

Cause:
===
- Customer details were not being passed correctly to the receipt template.

Fix:
===
- Updated the function for setting customer details to correctly include
in the receipt.

Task- 4431623

Forward-Port-Of: odoo/odoo#193032
Forward-Port-Of: odoo/odoo#191972",fw-bot,2025-01-09 14:57:50+00:00,[],2025-01-24 10:43:55+00:00,2025-01-10 10:35:31+00:00,https://github.com/odoo/odoo/pull/193084,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580490681, 'issue_id': 2778060585, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193084.png)](https://mergebot.odoo.com/odoo/odoo/pull/193084)', 'created_at': datetime.datetime(2025, 1, 9, 14, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580490723, 'issue_id': 2778060585, 'author': 'fw-bot', 'body': '@djip-odoo @caburj cherrypicking of pull request odoo/odoo#191972 failed.\n\n* d0e716e5028098aeeb723bf413e9d121da912641 <- on this commit\n* 5198328853830fe66826eed832270f56ee595558\n\nstdout:\n```\nAuto-merging addons/pos_viva_wallet/i18n/pos_viva_wallet.pot\nCONFLICT (content): Merge conflict in addons/pos_viva_wallet/i18n/pos_viva_wallet.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 57, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581963931, 'issue_id': 2778060585, 'author': 'djip-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 7, 33, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:57:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193084.png)](https://mergebot.odoo.com/odoo/odoo/pull/193084)

fw-bot (Issue Creator) on (2025-01-09 14:57:52 UTC): @djip-odoo @caburj cherrypicking of pull request odoo/odoo#191972 failed.

* d0e716e5028098aeeb723bf413e9d121da912641 <- on this commit
* 5198328853830fe66826eed832270f56ee595558

stdout:
```
Auto-merging addons/pos_viva_wallet/i18n/pos_viva_wallet.pot
CONFLICT (content): Merge conflict in addons/pos_viva_wallet/i18n/pos_viva_wallet.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

djip-odoo on (2025-01-10 07:33:37 UTC): robodoo r+

"
2778059295,pull_request,closed,,[FW][FIX] resource_mail: added wrench icon for many2one_avatar_resource,"Steps to reproduce:

- Open planning app and click on New.
- A form is opened and searched for a material resource in the Resource field ex. Crane
- An empty photo icon is displayed in the selection bar.

Issue:

- An empty photo icon is being displayed instead of a wrench.

Cause:

- Many2XAutocomplete which adds an image in the many2one selection field is not modified to display
- the wrench icon in the many2one_avatar_resource_field.

Solution:

- A similar modification is done in many2many_avatar_resource_field through class which extends Many2XAutocomplete which can be imported and added into components of many2one_avatar_resource_field.

fix the alignment between of icon and text in many2many_avatar_resource.

task-3801551

Forward-Port-Of: odoo/odoo#157968",fw-bot,2025-01-09 14:57:17+00:00,[],2025-01-27 14:16:56+00:00,2025-01-13 13:43:02+00:00,https://github.com/odoo/odoo/pull/193083,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580489396, 'issue_id': 2778059295, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193083.png)](https://mergebot.odoo.com/odoo/odoo/pull/193083)', 'created_at': datetime.datetime(2025, 1, 9, 14, 57, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580489469, 'issue_id': 2778059295, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 57, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580593222, 'issue_id': 2778059295, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 15, 38, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582527380, 'issue_id': 2778059295, 'author': 'xavierbol', 'body': 'Hello @kthe-odoo \r\n\r\nIt seems some tests failed due to the changes you made here or in your enterprise PR, can you check? \r\n\r\nThanks in advance!', 'created_at': datetime.datetime(2025, 1, 10, 11, 50, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047859, 'issue_id': 2778059295, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this forward port of odoo/odoo#157968 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586241895, 'issue_id': 2778059295, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 13, 6, 14, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586468024, 'issue_id': 2778059295, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 22, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586662630, 'issue_id': 2778059295, 'author': 'robodoo', 'body': '@kthe-odoo @xavierbol linked pull request(s) odoo/enterprise#76835 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 13, 10, 0, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:57:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193083.png)](https://mergebot.odoo.com/odoo/odoo/pull/193083)

fw-bot (Issue Creator) on (2025-01-09 14:57:22 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 15:38:46 UTC): @kthe-odoo @xavierbol ci/runbot failed on this forward-port PR

xavierbol on (2025-01-10 11:50:57 UTC): Hello @kthe-odoo 

It seems some tests failed due to the changes you made here or in your enterprise PR, can you check? 

Thanks in advance!

fw-bot (Issue Creator) on (2025-01-13 02:03:04 UTC): @kthe-odoo @xavierbol this forward port of odoo/odoo#157968 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 06:14:42 UTC): @kthe-odoo @xavierbol this PR was modified / updated and has become a normal PR. It must be merged directly.

xavierbol on (2025-01-13 08:22:40 UTC): robodoo r+

robodoo on (2025-01-13 10:00:02 UTC): @kthe-odoo @xavierbol linked pull request(s) odoo/enterprise#76835 not ready. Linked PRs are not staged until all of them are ready.

"
2778058067,pull_request,closed,,[IMP] hw_drivers: better check for server url,"Lots of methods need to know the associated database url. It is sometimes checked in the caller method, and sometimes inside of the called method itself.

We now use a decorator that checks it for us.

Task: 4391509",loouis-t,2025-01-09 14:56:46+00:00,[],2025-01-30 19:33:24+00:00,2025-01-16 19:29:36+00:00,https://github.com/odoo/odoo/pull/193082,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580488170, 'issue_id': 2778058067, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193082.png)](https://mergebot.odoo.com/odoo/odoo/pull/193082)', 'created_at': datetime.datetime(2025, 1, 9, 14, 56, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580763495, 'issue_id': 2778058067, 'author': 'loouis-t', 'body': 'Hello @odoo/rd-security, could you have a look a this PR please, you already overrode it before as it is a retarget from [this PR](https://github.com/odoo/odoo/pull/190083#issuecomment-2528183758)?', 'created_at': datetime.datetime(2025, 1, 9, 16, 36, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596294719, 'issue_id': 2778058067, 'author': 'Ysoroko', 'body': 'Tested\r\n[x] send_all_devices\r\n[x] printing by websocket\r\n[x] get_server_url\r\n\r\nEverything works as expected.\r\nThe methods are ignored when no db is connected and used with a connected database', 'created_at': datetime.datetime(2025, 1, 16, 17, 21, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:56:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193082.png)](https://mergebot.odoo.com/odoo/odoo/pull/193082)

loouis-t (Issue Creator) on (2025-01-09 16:36:19 UTC): Hello @odoo/rd-security, could you have a look a this PR please, you already overrode it before as it is a retarget from [this PR](https://github.com/odoo/odoo/pull/190083#issuecomment-2528183758)?

Ysoroko on (2025-01-16 17:21:36 UTC): Tested
[x] send_all_devices
[x] printing by websocket
[x] get_server_url

Everything works as expected.
The methods are ignored when no db is connected and used with a connected database

"
2778057567,pull_request,closed,,[FIX] google_address_autocomplete: field should become dirty when typ…,"…ing in it

Before this commit, when typing in the field, the change did not make the record dirty.

After this commit it does.

opw-4464355

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kebeclibre,2025-01-09 14:56:33+00:00,[],2025-01-25 04:06:53+00:00,2025-01-11 03:56:38+00:00,https://github.com/odoo/odoo/pull/193081,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580487567, 'issue_id': 2778057567, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193081.png)](https://mergebot.odoo.com/odoo/odoo/pull/193081)', 'created_at': datetime.datetime(2025, 1, 9, 14, 56, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582675966, 'issue_id': 2778057567, 'author': 'kebeclibre', 'body': '@aab-odoo changes done, decided to not stopping extend char field', 'created_at': datetime.datetime(2025, 1, 10, 13, 8, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:56:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193081.png)](https://mergebot.odoo.com/odoo/odoo/pull/193081)

kebeclibre (Issue Creator) on (2025-01-10 13:08:01 UTC): @aab-odoo changes done, decided to not stopping extend char field

"
2778054918,pull_request,closed,,Fix notification permission on IOS,"- Revert the commit that prevented the permission notification from being granted on iOS.
- The permission status is now correctly queried.

See commits for more details",hubvd,2025-01-09 14:55:23+00:00,[],2025-01-13 10:28:38+00:00,2025-01-13 09:12:16+00:00,https://github.com/odoo/odoo/pull/193080,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580484585, 'issue_id': 2778054918, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193080.png)](https://mergebot.odoo.com/odoo/odoo/pull/193080)', 'created_at': datetime.datetime(2025, 1, 9, 14, 55, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586561551, 'issue_id': 2778054918, 'author': 'hubvd', 'body': 'Handled in https://github.com/odoo/odoo/pull/193257', 'created_at': datetime.datetime(2025, 1, 13, 9, 12, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:55:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193080.png)](https://mergebot.odoo.com/odoo/odoo/pull/193080)

hubvd (Issue Creator) on (2025-01-13 09:12:16 UTC): Handled in https://github.com/odoo/odoo/pull/193257

"
2778018513,pull_request,open,,"[IMP] sale_{project,timesheet}: add an SO creation button from the SOL field","Purpose:
-------------------
In v17, we introduced the possibility of creating SOLs on the fly from tasks or tickets (see https://github.com/odoo/odoo/pull/121263). This feature has been a great source of bugs that are difficult to fix, only to break again later. We are also limited in the tests we can have to ensure this feature remains stable. Therefore, we are replacing it with a button to create an SO instead.

Details:
-------------------
* We replace the creation of SOL on the fly by an SO creation button at multiple places:
    - Project form view
    - Task form view
    - Employee mapping list view
    - Ticket form view

* This new button is placed at the right of the SOL field and takes the shape of the ""fa-plus"" icon.
* It's only visible when no SOL has been defined and if the user has ""sales > user: own documents"" access rights.
* Clicking on the button opens the SO form view and fills in some information (company, partner, etc) from the context from which it's opened.
* Saving the SO from that form creates a new confirmed SO and links the SOL containing a service product with the lowest sequence to the project/task/ticket. If no service product was mentioned in the SO, an error is raised.
* No projects/tasks are generated in the process (if some products were configured to generate some).
* We added a custom widget 'so_line_create_button' allowing to introduce the SO creation button but in a list view (to be used in the employee mapping list view). This button is only visible if the current record (employee mapping in this case) has not sale order item already defined.
* We removed tests and tours dedicated to the ""SOL on the fly"" functionality, and added new tests for the new button and the widget.

task-4461919

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deneuvillem,2025-01-09 14:40:20+00:00,[],2025-02-07 14:02:04+00:00,,https://github.com/odoo/odoo/pull/193079,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580423783, 'issue_id': 2778018513, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193079.png)](https://mergebot.odoo.com/odoo/odoo/pull/193079)', 'created_at': datetime.datetime(2025, 1, 9, 14, 40, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643027520, 'issue_id': 2778018513, 'author': 'damrOdoo', 'body': 'lgtm. thanks for your comments', 'created_at': datetime.datetime(2025, 2, 7, 14, 2, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:40:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193079.png)](https://mergebot.odoo.com/odoo/odoo/pull/193079)

damrOdoo on (2025-02-07 14:02:03 UTC): lgtm. thanks for your comments

"
2778006718,pull_request,closed,,[IMP] hw_drivers: add devtools to disable features,"While developing, we often disable features like the db checkout and the IoT handlers download to save some time.

Now, instead of going in the code and comment the lines we want to remove, we can just type:

- `devtools disable general`: to disable general features (checkout, handlers download),
- `devtools disable actions <optional action name>`: to disable a device action (printing for example).

**Note:** by default, if you don't specify `<action name>`, it will disable all actions.

Task: 4291487
",loouis-t,2025-01-09 14:35:17+00:00,[],2025-01-29 16:28:29+00:00,2025-01-15 16:28:02+00:00,https://github.com/odoo/odoo/pull/193078,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580403378, 'issue_id': 2778006718, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193078.png)](https://mergebot.odoo.com/odoo/odoo/pull/193078)', 'created_at': datetime.datetime(2025, 1, 9, 14, 35, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582907779, 'issue_id': 2778006718, 'author': 'Ysoroko', 'body': 'Based on an image built on this branch, the command devtools changes the ownership of `odoo.conf` which leads to our odoo service not being able to use it\r\n![image](https://github.com/user-attachments/assets/0f878fc9-2d48-468b-be4f-1e855958a78c)', 'created_at': datetime.datetime(2025, 1, 10, 15, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592810118, 'issue_id': 2778006718, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 13, 5, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:35:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193078.png)](https://mergebot.odoo.com/odoo/odoo/pull/193078)

Ysoroko on (2025-01-10 15:02:00 UTC): Based on an image built on this branch, the command devtools changes the ownership of `odoo.conf` which leads to our odoo service not being able to use it
![image](https://github.com/user-attachments/assets/0f878fc9-2d48-468b-be4f-1e855958a78c)

Ysoroko on (2025-01-15 13:05:56 UTC): @robodoo r+

"
2777993955,pull_request,closed,,"[FW][FIX] account,l10n_cz,l10n_hu_edi: fix currency rate computations","In modules l10n_cz and l10n_hu_edi the currency rate computation on
the invoice lines was changed. Instead of using the standard date
(i.e. Invoice Date) for the currency conversion we use the
Taxable Supply Date (for l10n_cz / CZ) or Delivery Date
(for l10n_hu_edi / HU).

The way this was done conflicts with a change in 17.3:
Since then we store and display the currency rate on invoices
(See commit bedffa80beb61c134e8f476ef2ca71f2bd66f554 for more details).
The rate for each line should then just be taken from the rate stored on the move.
Currently the rate on the invoice is still computed with the standard date (invoice date)
in any case.

So e.g. with l10n_cz installed it can happen happen that the lines of a CZ invoice
- compute the currency rate individually ""themselves"" instead of taking it from the invoice
  (which is one of the things the change in 17.3 wanted to prevent)
- use a different different date for the currency rate conversion than the invoice
  (in case the Taxable Supply Date is set)
I.e. the rate stored and displayed on the invoice may have nothing to do with the rate
that was actually used for the conversion.

Example that goes wrong currently for l10n_cz on runbot
  1. Install l10n_cz
  2. Select CZ Company
  3. Ensure the USD currency is as follows:
     - Starting on 2024-12-01 there is 10 units per CZK rate
     - There is no other currency rate defined
  4. Create an invoice
     - in USD
     - with invoice date 2024-11-01
     - Taxable Supply Date 2024-12-01
     - a single invoice line with price 100 and no taxes
  5. The invoice displays:
     - ""1 CZK = 1.000000 USD"" (Since we ignore the Taxable Supply Date)
     - total: 100 USD
  6. The ""Journal Items"" tab displays only 10 CZK total.
     (Since we use the Taxable Supply Date for the actual conversion)

Related commits: The currency rate computations for move lines were overridden
in commits e3bac6461500d34425697eed5a263c605f6f9de5 (l10n_cz) and
b1e07d27da27aad86049c8eae42e1803cf24bd3f (l10n_hu_edi) respectively.

This commit fixes the currency rate computation for these localizations:
We revert the changes to the currency rate computation on the lines and
adapt the date used for the currency rate computation on the invoice.
The invoice then displays the correct rate and the lines just take the (correct)
rate from the invoice.

Further for l10n_cz the taxable supply date is hidden on non-invoices and
ignored for currency computations on non-invoices.

task-4367605


related upgrade PR: https://github.com/odoo/upgrade/pull/6853

Forward-Port-Of: odoo/odoo#189023",fw-bot,2025-01-09 14:29:37+00:00,[],2025-01-24 10:44:03+00:00,2025-01-10 10:40:48+00:00,https://github.com/odoo/odoo/pull/193077,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580380043, 'issue_id': 2777993955, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193077.png)](https://mergebot.odoo.com/odoo/odoo/pull/193077)', 'created_at': datetime.datetime(2025, 1, 9, 14, 29, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580380238, 'issue_id': 2777993955, 'author': 'fw-bot', 'body': '@svfu-odoo @epictete cherrypicking of pull request odoo/odoo#189023 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move.py\nAuto-merging addons/account/models/account_move_line.py\nAuto-merging addons/l10n_hu_edi/models/account_move.py\nCONFLICT (content): Merge conflict in addons/l10n_hu_edi/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 29, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582070220, 'issue_id': 2777993955, 'author': 'svfu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 42, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:29:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193077.png)](https://mergebot.odoo.com/odoo/odoo/pull/193077)

fw-bot (Issue Creator) on (2025-01-09 14:29:41 UTC): @svfu-odoo @epictete cherrypicking of pull request odoo/odoo#189023 failed.

stdout:
```
Auto-merging addons/account/models/account_move.py
Auto-merging addons/account/models/account_move_line.py
Auto-merging addons/l10n_hu_edi/models/account_move.py
CONFLICT (content): Merge conflict in addons/l10n_hu_edi/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

svfu-odoo on (2025-01-10 08:42:19 UTC): @robodoo r+

"
2777980077,pull_request,closed,,"[FIX] repair,sale_stock,stock_account: repair with auto FIFO component","When using an auto fifo product as part of the repair, the COGS
won't be based on the used product

To reproduce the issue:
1. Setup auto fifo product
2. Receive 1@10 and 1@20
3. Process a RO:
   - Invoice method: After repair
   - Parts:
     - Add 1 x fifo product
4. Create and post the invoice
5. Open its journal items

Error: Cogs are $20 instead of $10

When posting the invoice, we generate the COGS:
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L47-L48
We therefore compute the ""anglo saxon unit price"":
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L133
However, there isn't any override to handle the RO case, so it leads
to the default mechanism, i.e. the standard price of the product:
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L294-L295
https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L294-L295
https://github.com/odoo/odoo/blob/7cd7563f6708331bb6baf0e06d07a9f9ee329e38/addons/stock_account/models/product.py#L753-L757

And, since the first product is out, its standard price is now based
on the next candidate: $20

About the `sudo`: an accountman has not any access to `repair`, so
posting such an invoice would raise an error. Since this diff is
specific to Odoo 16, the idea is not to impact any security rules
and rather minimize the changes.

Note: Indeed, `repair` does not depend on `stock_account`, so this
commit could lead to a traceback if the bridge is removed. I delegate
this issue to the error of dependencies. Anyway, removing the bridge
would lead to other bugs. Hopefully, this has been fixed on master [1].

[1] https://github.com/odoo/odoo/commit/f7dbdec11b74f8c7d969763d8c5cf09542a47f86

OPW-4166570",adwid,2025-01-09 14:24:11+00:00,[],2025-01-28 15:05:08+00:00,2025-01-14 14:58:17+00:00,https://github.com/odoo/odoo/pull/193076,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580357791, 'issue_id': 2777980077, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193076.png)](https://mergebot.odoo.com/odoo/odoo/pull/193076)', 'created_at': datetime.datetime(2025, 1, 9, 14, 24, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580363273, 'issue_id': 2777980077, 'author': 'adwid', 'body': 'Bug is not present on >Odoo 16\r\nModule has been refactored in the meantime (cf https://github.com/odoo/odoo/commit/eaa6e1a08c3d2cdcb558689523e5bd332978f5e4)\r\nStill, keep fw up to master for the test', 'created_at': datetime.datetime(2025, 1, 9, 14, 25, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589918366, 'issue_id': 2777980077, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 13, 31, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:24:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193076.png)](https://mergebot.odoo.com/odoo/odoo/pull/193076)

adwid (Issue Creator) on (2025-01-09 14:25:33 UTC): Bug is not present on >Odoo 16
Module has been refactored in the meantime (cf https://github.com/odoo/odoo/commit/eaa6e1a08c3d2cdcb558689523e5bd332978f5e4)
Still, keep fw up to master for the test

Whenrow on (2025-01-14 13:31:32 UTC): robodoo r+

"
2777979950,pull_request,closed,,[FW][FIX] project: select default stage relative to project's company,"Steps
-----
- Have two companies A and B.
- Activate Project Stages, and in the list of stages set the first one of the list as belonging to company A.
- Create a project (from 'new' button in list view to be able to set a company at creation) belonging to company B (company B needs to be in the list of selected companies).
- Save it: the project's company has changed to company A.

Cause
-----
If no stage is set on the project at creation, we default to the default stage provided by `_default_stage_id`, which is the first stage in sequence, regardless of its company.
We then change the company of the project to match the stage's company, which overrides the stage set at creation.

Change
-----
If the project has a company set a creation, use the first stage without a company or with the same company as the project.
This is done even if the user doesn't have multiple companies selected, since the `search` on `project.project.stage` can return a stage from another company than the one selected.

opw-4290711

Forward-Port-Of: odoo/odoo#192865
Forward-Port-Of: odoo/odoo#187635",fw-bot,2025-01-09 14:24:08+00:00,[],2025-01-24 13:43:31+00:00,2025-01-10 13:35:52+00:00,https://github.com/odoo/odoo/pull/193075,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580357369, 'issue_id': 2777979950, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193075.png)](https://mergebot.odoo.com/odoo/odoo/pull/193075)', 'created_at': datetime.datetime(2025, 1, 9, 14, 24, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580357430, 'issue_id': 2777979950, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 24, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581662888, 'issue_id': 2777979950, 'author': 'robodoo', 'body': '@taqu-odoo @xavierbol staging failed: ci/l10n on 6d9010ac787184659dae3fb4a468e494fe456358 (view more at https://runbot.odoo.com/runbot/build/73138536)', 'created_at': datetime.datetime(2025, 1, 10, 3, 19, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582537552, 'issue_id': 2777979950, 'author': 'xavierbol', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 10, 11, 56, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:24:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193075.png)](https://mergebot.odoo.com/odoo/odoo/pull/193075)

fw-bot (Issue Creator) on (2025-01-09 14:24:10 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-10 03:19:51 UTC): @taqu-odoo @xavierbol staging failed: ci/l10n on 6d9010ac787184659dae3fb4a468e494fe456358 (view more at https://runbot.odoo.com/runbot/build/73138536)

xavierbol on (2025-01-10 11:56:43 UTC): robodoo retry

"
2777976781,pull_request,closed,,[FW][FIX] account: make account uninstall possible,"Currently, an error is generated when the user tries to uninstall ``account`` module after installing ``account_inter_company_rules`` module.

Steps to reproduce:
---
- Install ``account_inter_company_rules`` module
- Uninstall ``account`` module

Traceback:
---
``KeyError: 'res.company.intercompany_purchase_journal_id'``

When we uninstall the account module, we set all associated fields related to 'account' (e.g., chart_template) to 'False'.

Change:
---
Force a recomputation by flushing the records.


sentry-6054886854

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191154",fw-bot,2025-01-09 14:23:00+00:00,[],2025-01-24 06:50:18+00:00,2025-01-10 06:37:24+00:00,https://github.com/odoo/odoo/pull/193074,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580353155, 'issue_id': 2777976781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193074.png)](https://mergebot.odoo.com/odoo/odoo/pull/193074)', 'created_at': datetime.datetime(2025, 1, 9, 14, 23, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580353184, 'issue_id': 2777976781, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 23, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:23:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193074.png)](https://mergebot.odoo.com/odoo/odoo/pull/193074)

fw-bot (Issue Creator) on (2025-01-09 14:23:03 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777968171,pull_request,closed,,[IMP] mail: show call participants after stopping screen share,"With this commit after stopping screen share the focus will not be on the card of the user that was precedently sharing the screen.

task-4448823",Atovange,2025-01-09 14:19:39+00:00,[],2025-01-13 15:09:59+00:00,2025-01-13 15:09:54+00:00,https://github.com/odoo/odoo/pull/193073,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580340425, 'issue_id': 2777968171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193073.png)](https://mergebot.odoo.com/odoo/odoo/pull/193073)', 'created_at': datetime.datetime(2025, 1, 9, 14, 19, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587368016, 'issue_id': 2777968171, 'author': 'alexkuhn', 'body': 'Backport 18.1: https://github.com/odoo/odoo/pull/193442', 'created_at': datetime.datetime(2025, 1, 13, 15, 9, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:19:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193073.png)](https://mergebot.odoo.com/odoo/odoo/pull/193073)

alexkuhn on (2025-01-13 15:09:54 UTC): Backport 18.1: https://github.com/odoo/odoo/pull/193442

"
2777967459,pull_request,closed,,[FW][IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76511](https://github.com/odoo/enterprise/pull/76511)
Task: 4432584

Forward-Port-Of: odoo/odoo#192999
Forward-Port-Of: odoo/odoo#192449",fw-bot,2025-01-09 14:19:21+00:00,[],2025-01-23 23:30:12+00:00,2025-01-09 22:52:50+00:00,https://github.com/odoo/odoo/pull/193072,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2580339237, 'issue_id': 2777967459, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193072.png)](https://mergebot.odoo.com/odoo/odoo/pull/193072)', 'created_at': datetime.datetime(2025, 1, 9, 14, 19, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580339319, 'issue_id': 2777967459, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#192449 failed.\n\nstdout:\n```\nAuto-merging addons/iot_box_image/configuration/checkout.sh\nAuto-merging addons/iot_box_image/overwrite_before_init/etc/init_image.sh\nCONFLICT (content): Merge conflict in addons/iot_box_image/overwrite_before_init/etc/init_image.sh\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 19, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580498884, 'issue_id': 2777967459, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 1, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:19:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193072.png)](https://mergebot.odoo.com/odoo/odoo/pull/193072)

fw-bot (Issue Creator) on (2025-01-09 14:19:25 UTC): @loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#192449 failed.

stdout:
```
Auto-merging addons/iot_box_image/configuration/checkout.sh
Auto-merging addons/iot_box_image/overwrite_before_init/etc/init_image.sh
CONFLICT (content): Merge conflict in addons/iot_box_image/overwrite_before_init/etc/init_image.sh

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-09 15:01:05 UTC): @robodoo r+

"
2777966061,pull_request,closed,,"[FW][FIX] website_sale, delivery: add missing terms in `location_selector`","There are some terms that are defined in `delivery` module but are not translated when you see them on the website. This happens because these strings are defined in the `delivery` module, which is not a frontend module. This commit redefines those strings in the `website_sale` module, which is a frontend module.

Task-4328208
OPW-4403072
OPW-4326840

Forward-Port-Of: odoo/odoo#192905
Forward-Port-Of: odoo/odoo#192102",fw-bot,2025-01-09 14:18:43+00:00,[],2025-01-10 09:23:46+00:00,2025-01-09 22:52:46+00:00,https://github.com/odoo/odoo/pull/193071,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580336967, 'issue_id': 2777966061, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193071.png)](https://mergebot.odoo.com/odoo/odoo/pull/193071)', 'created_at': datetime.datetime(2025, 1, 9, 14, 18, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580336996, 'issue_id': 2777966061, 'author': 'fw-bot', 'body': '@MohammedBasioni @chevalierv this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 18, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580529542, 'issue_id': 2777966061, 'author': 'MohammedBasioni', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 13, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:18:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193071.png)](https://mergebot.odoo.com/odoo/odoo/pull/193071)

fw-bot (Issue Creator) on (2025-01-09 14:18:46 UTC): @MohammedBasioni @chevalierv this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

MohammedBasioni on (2025-01-09 15:13:06 UTC): robodoo r+

"
2777947425,pull_request,closed,,[FW][FIX] website: snippet_translation tour,"In this commit, we fix the tour snippet_translation_changing_lang. The problem is that we don't wait for the DOM to be re-rendered before clicking on the dropdown to open the editing dropdown. So, if we click before the DOM is re-rendered, it also re-renders the dropdown menu and it disappears.
So depending on the execution speed of the tour, it may fail. This commit fixes this behavior.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193019",fw-bot,2025-01-09 14:10:29+00:00,[],2025-01-23 23:30:10+00:00,2025-01-09 22:52:39+00:00,https://github.com/odoo/odoo/pull/193070,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580306857, 'issue_id': 2777947425, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193070.png)](https://mergebot.odoo.com/odoo/odoo/pull/193070)', 'created_at': datetime.datetime(2025, 1, 9, 14, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580306912, 'issue_id': 2777947425, 'author': 'fw-bot', 'body': '@pipu-odoo @iucapad this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193053\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 10, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580578640, 'issue_id': 2777947425, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 32, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:10:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193070.png)](https://mergebot.odoo.com/odoo/odoo/pull/193070)

fw-bot (Issue Creator) on (2025-01-09 14:10:32 UTC): @pipu-odoo @iucapad this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193053

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-09 15:32:52 UTC): @robodoo r+

"
2777943212,pull_request,closed,,[FW][FIX] l10n_my_*: Enable invoicing foreign customers.,"The current logic is not working when trying to invoice foreign customers. A few fields that could be useful are hidden, and we don't add the id information in the xml file which causes it to fail.

In practice, it is valid to invoice a foreign customer and use a generic TIN if they don't have a malaysian one when reporting to the tax authorities. This change will allow just that; we add the id information to the xml which allow to correctly issue a valid invoice for a foreign customer (tested on pre- production)

opw-4438259

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193000",fw-bot,2025-01-09 14:08:40+00:00,[],2025-01-24 02:35:47+00:00,2025-01-10 02:16:53+00:00,https://github.com/odoo/odoo/pull/193069,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580300270, 'issue_id': 2777943212, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193069.png)](https://mergebot.odoo.com/odoo/odoo/pull/193069)', 'created_at': datetime.datetime(2025, 1, 9, 14, 8, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580300311, 'issue_id': 2777943212, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 8, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580562972, 'issue_id': 2777943212, 'author': 'fw-bot', 'body': '@vin-odoo @antoine162 the next pull request (odoo/odoo#193091) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 15, 27, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581520206, 'issue_id': 2777943212, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 0, 48, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:08:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193069.png)](https://mergebot.odoo.com/odoo/odoo/pull/193069)

fw-bot (Issue Creator) on (2025-01-09 14:08:43 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 15:27:16 UTC): @vin-odoo @antoine162 the next pull request (odoo/odoo#193091) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-01-10 00:48:55 UTC): @robodoo r+

"
2777935024,pull_request,closed,,[FW][FIX] hw_drivers: improve image update reliability,"We improve the image reliability by:

- Improving handlers cleanup (we only removed os-specific handlers but downloaded all),
- Forcing Odoo service to restart after checkout, even if an error occurred.

Task: 4433461

Forward-Port-Of: odoo/odoo#191928",fw-bot,2025-01-09 14:05:04+00:00,[],2025-01-23 20:06:33+00:00,2025-01-09 20:03:05+00:00,https://github.com/odoo/odoo/pull/193068,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580287054, 'issue_id': 2777935024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193068.png)](https://mergebot.odoo.com/odoo/odoo/pull/193068)', 'created_at': datetime.datetime(2025, 1, 9, 14, 5, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580287093, 'issue_id': 2777935024, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 5, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 14:05:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193068.png)](https://mergebot.odoo.com/odoo/odoo/pull/193068)

fw-bot (Issue Creator) on (2025-01-09 14:05:07 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777907836,pull_request,closed,,[FW][FIX] stock_account: branch accounts configuration ignored,"User of a branch company may change accounts configuration product categories,
but currently this settings is ignored, as accounts are fetched from the main
company instead

Steps to reproduce:
- Create a branch company
- Open a product category [CATEG] (i.e. Office Furniture) and set
  - 'Inventory valuation': 'Automated'
  - 'Stock Input Account': [Account]
- Assign product category [CATEG] to a product [PROD]
- Create a Vendor bill with [PROD] and Save
- Check Journal items tab

Issue: Product line account is not [Account] but it is taken from the
main company settings
This occurs due to a fix [1] done to have `stock_account` in sync with the
base method in `account`. However, the forced company in base method was changed
in a refactor [2]

[1] https://github.com/odoo/odoo/commit/0b07210fe1f1c451eb648deff74c3ab37c8c09bd
[2] https://github.com/odoo/odoo/commit/d8d47f9ff8554f4b39487fd2f13c153c7d6f958d

opw-4297203

Forward-Port-Of: odoo/odoo#191349",fw-bot,2025-01-09 13:53:38+00:00,[],2025-01-24 12:11:19+00:00,2025-01-10 11:53:22+00:00,https://github.com/odoo/odoo/pull/193067,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580244650, 'issue_id': 2777907836, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193067.png)](https://mergebot.odoo.com/odoo/odoo/pull/193067)', 'created_at': datetime.datetime(2025, 1, 9, 13, 53, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580244682, 'issue_id': 2777907836, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 13, 53, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582068127, 'issue_id': 2777907836, 'author': 'fw-bot', 'body': ""@agr-odoo @oco-odoo child PR odoo/odoo#193087 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 10, 8, 41, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582088161, 'issue_id': 2777907836, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 8, 52, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:53:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193067.png)](https://mergebot.odoo.com/odoo/odoo/pull/193067)

fw-bot (Issue Creator) on (2025-01-09 13:53:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 08:41:09 UTC): @agr-odoo @oco-odoo child PR odoo/odoo#193087 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

agr-odoo on (2025-01-10 08:52:23 UTC): @robodoo r+

"
2777898722,pull_request,closed,,[FIX] project_todo: avoid clicking in step of project_task_activities_split tour,"Before this commit, the test running the `project_task_activities_split` tour could failed because a step clicks on a task displayed in the activity view instead of just checking if the task expected is present on the view.

This commit removes the click event on that step to just check if we found the node with the trigger defined in that step to be sure the task is on the activity view. By doing that, the next step checking if another task is also there in the activity.

Closes #192995
",xavierbol,2025-01-09 13:49:39+00:00,[],2025-01-24 10:43:59+00:00,2025-01-10 10:39:54+00:00,https://github.com/odoo/odoo/pull/193066,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580230240, 'issue_id': 2777898722, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193066.png)](https://mergebot.odoo.com/odoo/odoo/pull/193066)', 'created_at': datetime.datetime(2025, 1, 9, 13, 49, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582120186, 'issue_id': 2777898722, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 9, 7, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:49:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193066.png)](https://mergebot.odoo.com/odoo/odoo/pull/193066)

xavierbol (Issue Creator) on (2025-01-10 09:07:08 UTC): robodoo r+

"
2777863925,pull_request,closed,,[REF] web_tour: remove saveAs attribute,"In this commit, in order to simplify the tours API, we remove the saveAs
attribute from the tour object definition. This attribute does not bring
anything in the sense that it just allows not to create in the registry
a tour that could already exist and to save it under another name
to have access to it from tour_service.
To avoid the error of creating a key that already exists in the
registry, simply remove it before adding it again.
This is only used in the website module for the homepage tour.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-09 13:36:04+00:00,[],2025-01-27 11:46:48+00:00,2025-01-13 11:43:53+00:00,https://github.com/odoo/odoo/pull/193065,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580177996, 'issue_id': 2777863925, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193065.png)](https://mergebot.odoo.com/odoo/odoo/pull/193065)', 'created_at': datetime.datetime(2025, 1, 9, 13, 36, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586578265, 'issue_id': 2777863925, 'author': 'BastienFafchamps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 20, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:36:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193065.png)](https://mergebot.odoo.com/odoo/odoo/pull/193065)

BastienFafchamps on (2025-01-13 09:20:23 UTC): @robodoo r+

"
2777840650,pull_request,closed,,[FW][FIX] l10n_gcc_invoice: display payment terms on invoice,"**Steps to reproduce:**
- Install account_accountant, sale_management and l10n_sa
- Switch to a Saudi Arabian company (e.g. SA Company)
- Create a payment term:
  * Description on the Invoice: [anything]
  * Display terms on invoice: [checked]
  * Terms: [add many lines]
- Create a SO:
  * Customer: [any]
  * Payment Terms: [the created payment term]
  * Order lines: [anything]
- Confirm the SO
- Create an invoice from the SO
- Confirm the invoice
- Generate the invoice

**Issue:**
The description of the payment term is displayed on the invoice but the terms are not displayed as it is the case in any other localization.

**Cause:**
""report_invoice"" is replaced by the Arabic/English invoice in l10n_gcc_invoice module.
However, the logic to display the terms has not been added in the template for Arabic/English invoice.

opw-4291232



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188456",fw-bot,2025-01-09 13:25:48+00:00,[],2025-01-24 15:20:33+00:00,2025-01-10 15:16:34+00:00,https://github.com/odoo/odoo/pull/193064,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580150234, 'issue_id': 2777840650, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193064.png)](https://mergebot.odoo.com/odoo/odoo/pull/193064)', 'created_at': datetime.datetime(2025, 1, 9, 13, 25, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580150266, 'issue_id': 2777840650, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 13, 25, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582006978, 'issue_id': 2777840650, 'author': 'kitan191', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 10, 8, 4, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582438328, 'issue_id': 2777840650, 'author': 'fw-bot', 'body': '@kitan191 @FlorianGilbert this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 11, 3, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582624134, 'issue_id': 2777840650, 'author': 'robodoo', 'body': '@kitan191 you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 10, 12, 41, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:25:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193064.png)](https://mergebot.odoo.com/odoo/odoo/pull/193064)

fw-bot (Issue Creator) on (2025-01-09 13:25:50 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-10 08:04:55 UTC): @robodoo r-

fw-bot (Issue Creator) on (2025-01-10 11:03:28 UTC): @kitan191 @FlorianGilbert this PR was modified / updated and has become a normal PR. It must be merged directly.

robodoo on (2025-01-10 12:41:30 UTC): @kitan191 you may want to rebuild or fix this PR as it has failed CI.

"
2777806491,pull_request,closed,,[FIX] im_livechat: livechat button loader template,"The livechat button loader template adds `websocket_worker_version` to the Odoo session. However, when the loader is called through `chatbot_test_script_page`, it does not receive the `websocket_worker_version`. In the standard Odoo environment, this value is already available in the session

This fix ensures the `websocket_worker_version` is properly handled in scenarios involving `chatbot_test_script_page`.

Task-4462067

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rapr-odoo,2025-01-09 13:11:52+00:00,[],2025-01-24 14:59:14+00:00,2025-01-24 14:16:47+00:00,https://github.com/odoo/odoo/pull/193063,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580121897, 'issue_id': 2777806491, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193063.png)](https://mergebot.odoo.com/odoo/odoo/pull/193063)', 'created_at': datetime.datetime(2025, 1, 9, 13, 11, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:11:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193063.png)](https://mergebot.odoo.com/odoo/odoo/pull/193063)

"
2777792385,pull_request,open,,Update product_screen.js,"fix the problem of searching products by word while a category selected


Current behavior before PR: when you search products in point of sale while you are selecting a category he ignore it and search in all categories

Desired behavior after PR is merged: now its searching in the current category only




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",tchisama,2025-01-09 13:06:12+00:00,[],2025-01-09 14:00:17+00:00,,https://github.com/odoo/odoo/pull/193062,"[('Point of Sale', '')]","[{'comment_id': 2580111047, 'issue_id': 2777792385, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193062.png)](https://mergebot.odoo.com/odoo/odoo/pull/193062)', 'created_at': datetime.datetime(2025, 1, 9, 13, 6, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:06:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193062.png)](https://mergebot.odoo.com/odoo/odoo/pull/193062)

"
2777786346,pull_request,open,,[IMP] pos_razorpay: add tests,"Before this commit:
===
- No test cases existed for Razorpay order, cancel, and refund processes.

After this commit:
===
- Test cases were added for Razorpay order, cancel, and refund processes.


Task- 4457700",djip-odoo,2025-01-09 13:03:49+00:00,[],2025-01-24 07:26:34+00:00,,https://github.com/odoo/odoo/pull/193061,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580105101, 'issue_id': 2777786346, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193061.png)](https://mergebot.odoo.com/odoo/odoo/pull/193061)', 'created_at': datetime.datetime(2025, 1, 9, 13, 3, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:03:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193061.png)](https://mergebot.odoo.com/odoo/odoo/pull/193061)

"
2777785440,pull_request,closed,,[FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997
",yagp-odoo,2025-01-09 13:03:26+00:00,[],2025-02-03 16:18:06+00:00,2025-02-03 16:18:05+00:00,https://github.com/odoo/odoo/pull/193060,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580104167, 'issue_id': 2777785440, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193060.png)](https://mergebot.odoo.com/odoo/odoo/pull/193060)', 'created_at': datetime.datetime(2025, 1, 9, 13, 3, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631146660, 'issue_id': 2777785440, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 23, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:03:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193060.png)](https://mergebot.odoo.com/odoo/odoo/pull/193060)

tde-banana-odoo on (2025-02-03 14:23:47 UTC): @robodoo r+

"
2777781440,pull_request,open,,[FIX] account: prevent value error when company is archived,"Currently below error occurs when user archive the company
and run the cron job, 'Account:Post draft entries with auto_post
enabled and accounting date up to today'.

Error: `ValueError('max() iterable argument is empty')
 while evaluating 'model._autopost_draft_entries()'`

### Steps to reproduce the error:-
- Install 'Accounting' App.
- Create a new company, add its address and switch to that company.
- Now create an invoice, add a product, change 'Auto-post' to 'At Date', fill the previous dates and hit 'Save'.
- Archive the company that user created and run the cron job, Account:Post draft entries with auto_post enabled and accounting date up to today
- The error appears in the log.

This commit solves the above issue by  adding `.with_context(active_test=False)` to consider the archived company.
sentry-6187450960",ayve-odoo,2025-01-09 13:01:44+00:00,[],2025-01-10 08:45:07+00:00,,https://github.com/odoo/odoo/pull/193059,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580100570, 'issue_id': 2777781440, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193059.png)](https://mergebot.odoo.com/odoo/odoo/pull/193059)', 'created_at': datetime.datetime(2025, 1, 9, 13, 1, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 13:01:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193059.png)](https://mergebot.odoo.com/odoo/odoo/pull/193059)

"
2777770853,pull_request,closed,,[FIX] hr_timesheet: make overtime filter translatable,"In the Tasks Analysis, the field `overtime` can be used as a measure in the graph and pivot views. However, the field name was set as not translatable and thus always showing in English after [this commit].

We make it translatable again here so it can be localized.

[this commit]: https://github.com/odoo/odoo/commit/e82567f9d5842bd95fe01ba3b9f54a65437e313f

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)",dylankiss,2025-01-09 12:57:17+00:00,[],2025-01-23 15:51:19+00:00,2025-01-09 15:45:04+00:00,https://github.com/odoo/odoo/pull/193058,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2580091451, 'issue_id': 2777770853, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193058.png)](https://mergebot.odoo.com/odoo/odoo/pull/193058)', 'created_at': datetime.datetime(2025, 1, 9, 12, 57, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580099298, 'issue_id': 2777770853, 'author': 'MissingNoShiny', 'body': 'Thanks for the fix! :slightly_smiling_face: \r\nrobodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 1, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:57:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193058.png)](https://mergebot.odoo.com/odoo/odoo/pull/193058)

MissingNoShiny on (2025-01-09 13:01:15 UTC): Thanks for the fix! :slightly_smiling_face: 
robodoo r+

"
2777770706,pull_request,closed,,"[FIX] l10n_ar_pos,l10n_es_pos,l10n_pe_pos: Fix limited partner override","Adapt the `get_limited_partners_loading` method to the new API.
",davidmonnom,2025-01-09 12:57:13+00:00,[],2025-01-24 12:11:27+00:00,2025-01-10 12:01:32+00:00,https://github.com/odoo/odoo/pull/193057,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580091382, 'issue_id': 2777770706, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193057.png)](https://mergebot.odoo.com/odoo/odoo/pull/193057)', 'created_at': datetime.datetime(2025, 1, 9, 12, 57, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580107675, 'issue_id': 2777770706, 'author': 'davidmonnom', 'body': '@fw-bot up to saas-18.1', 'created_at': datetime.datetime(2025, 1, 9, 13, 4, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582283579, 'issue_id': 2777770706, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 14, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:57:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193057.png)](https://mergebot.odoo.com/odoo/odoo/pull/193057)

davidmonnom (Issue Creator) on (2025-01-09 13:04:41 UTC): @fw-bot up to saas-18.1

adgu-odoo on (2025-01-10 10:14:22 UTC): robodoo r+

"
2777766467,pull_request,closed,,"[FW][FIX] account,l10n_cz,l10n_hu_edi: fix currency rate computations","In modules l10n_cz and l10n_hu_edi the currency rate computation on
the invoice lines was changed. Instead of using the standard date
(i.e. Invoice Date) for the currency conversion we use the
Taxable Supply Date (for l10n_cz / CZ) or Delivery Date
(for l10n_hu_edi / HU).

The way this was done conflicts with a change in 17.3:
Since then we store and display the currency rate on invoices
(See commit bedffa80beb61c134e8f476ef2ca71f2bd66f554 for more details).
The rate for each line should then just be taken from the rate stored on the move.
Currently the rate on the invoice is still computed with the standard date (invoice date)
in any case.

So e.g. with l10n_cz installed it can happen happen that the lines of a CZ invoice
- compute the currency rate individually ""themselves"" instead of taking it from the invoice
  (which is one of the things the change in 17.3 wanted to prevent)
- use a different different date for the currency rate conversion than the invoice
  (in case the Taxable Supply Date is set)
I.e. the rate stored and displayed on the invoice may have nothing to do with the rate
that was actually used for the conversion.

Example that goes wrong currently for l10n_cz on runbot
  1. Install l10n_cz
  2. Select CZ Company
  3. Ensure the USD currency is as follows:
     - Starting on 2024-12-01 there is 10 units per CZK rate
     - There is no other currency rate defined
  4. Create an invoice
     - in USD
     - with invoice date 2024-11-01
     - Taxable Supply Date 2024-12-01
     - a single invoice line with price 100 and no taxes
  5. The invoice displays:
     - ""1 CZK = 1.000000 USD"" (Since we ignore the Taxable Supply Date)
     - total: 100 USD
  6. The ""Journal Items"" tab displays only 10 CZK total.
     (Since we use the Taxable Supply Date for the actual conversion)

Related commits: The currency rate computations for move lines were overridden
in commits e3bac6461500d34425697eed5a263c605f6f9de5 (l10n_cz) and
b1e07d27da27aad86049c8eae42e1803cf24bd3f (l10n_hu_edi) respectively.

This commit fixes the currency rate computation for these localizations:
We revert the changes to the currency rate computation on the lines and
adapt the date used for the currency rate computation on the invoice.
The invoice then displays the correct rate and the lines just take the (correct)
rate from the invoice.

Further for l10n_cz the taxable supply date is hidden on non-invoices and
ignored for currency computations on non-invoices.

task-4367605


related upgrade PR: https://github.com/odoo/upgrade/pull/6853

Forward-Port-Of: odoo/odoo#189023",fw-bot,2025-01-09 12:55:29+00:00,[],2025-01-23 19:10:12+00:00,2025-01-09 19:01:36+00:00,https://github.com/odoo/odoo/pull/193056,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580087791, 'issue_id': 2777766467, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193056.png)](https://mergebot.odoo.com/odoo/odoo/pull/193056)', 'created_at': datetime.datetime(2025, 1, 9, 12, 55, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580087820, 'issue_id': 2777766467, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 55, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580380095, 'issue_id': 2777766467, 'author': 'fw-bot', 'body': '@svfu-odoo @epictete the next pull request (odoo/odoo#193077) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 14, 29, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580633942, 'issue_id': 2777766467, 'author': 'svfu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 55, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:55:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193056.png)](https://mergebot.odoo.com/odoo/odoo/pull/193056)

fw-bot (Issue Creator) on (2025-01-09 12:55:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 14:29:39 UTC): @svfu-odoo @epictete the next pull request (odoo/odoo#193077) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

svfu-odoo on (2025-01-09 15:55:24 UTC): @robodoo r+

"
2777765785,pull_request,closed,,[FW][FIX] account: make account uninstall possible,"Currently, an error is generated when the user tries to uninstall ``account`` module after installing ``account_inter_company_rules`` module.

Steps to reproduce:
---
- Install ``account_inter_company_rules`` module
- Uninstall ``account`` module

Traceback:
---
``KeyError: 'res.company.intercompany_purchase_journal_id'``

When we uninstall the account module, we set all associated fields related to 'account' (e.g., chart_template) to 'False'.

Change:
---
Force a recomputation by flushing the records.


sentry-6054886854

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191154",fw-bot,2025-01-09 12:55:13+00:00,[],2025-01-24 06:50:18+00:00,2025-01-10 06:49:49+00:00,https://github.com/odoo/odoo/pull/193055,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580087301, 'issue_id': 2777765785, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193055.png)](https://mergebot.odoo.com/odoo/odoo/pull/193055)', 'created_at': datetime.datetime(2025, 1, 9, 12, 55, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580087326, 'issue_id': 2777765785, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 55, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:55:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193055.png)](https://mergebot.odoo.com/odoo/odoo/pull/193055)

fw-bot (Issue Creator) on (2025-01-09 12:55:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777764947,pull_request,closed,,"[FW][FIX] tools,spreadsheet_dashboard_*: export all spreadsheet translations","Currently, the extractor looking for terms to translate in spreadsheet files was specifically looking for files ending in ""_spreadsheet.json"". However, since this version there were new spreadsheets added that ended in ""_spreadsheet.osheet.json"". The translation extractor couldn't find these and the terms were never extracted, resulting in missing translations.

This commit searches for both filename patterns to export the terms.

We also make sure that file references are only extracted once per term per file.

Related to https://github.com/odoo/enterprise/pull/75605

Forward-Port-Of: odoo/odoo#191274
Forward-Port-Of: odoo/odoo#190598",fw-bot,2025-01-09 12:54:53+00:00,[],2025-01-27 13:20:40+00:00,2025-01-13 13:10:05+00:00,https://github.com/odoo/odoo/pull/193054,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2580086648, 'issue_id': 2777764947, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193054.png)](https://mergebot.odoo.com/odoo/odoo/pull/193054)', 'created_at': datetime.datetime(2025, 1, 9, 12, 54, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580086693, 'issue_id': 2777764947, 'author': 'fw-bot', 'body': '@dylankiss @rrahir cherrypicking of pull request odoo/odoo#190598 failed.\n\nstdout:\n```\nAuto-merging odoo/tools/translate.py\nCONFLICT (content): Merge conflict in odoo/tools/translate.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 54, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586578523, 'issue_id': 2777764947, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 9, 20, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586626939, 'issue_id': 2777764947, 'author': 'robodoo', 'body': ""@dylankiss @rrahir 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 9, 43, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:54:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193054.png)](https://mergebot.odoo.com/odoo/odoo/pull/193054)

fw-bot (Issue Creator) on (2025-01-09 12:54:57 UTC): @dylankiss @rrahir cherrypicking of pull request odoo/odoo#190598 failed.

stdout:
```
Auto-merging odoo/tools/translate.py
CONFLICT (content): Merge conflict in odoo/tools/translate.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-13 09:20:31 UTC): @robodoo r+

robodoo on (2025-01-13 09:43:32 UTC): @dylankiss @rrahir 'ci/runbot' failed on this reviewed PR.

"
2777753426,pull_request,closed,,[FW][FIX] website: snippet_translation tour,"In this commit, we fix the tour snippet_translation_changing_lang. The problem is that we don't wait for the DOM to be re-rendered before clicking on the dropdown to open the editing dropdown. So, if we click before the DOM is re-rendered, it also re-renders the dropdown menu and it disappears.
So depending on the execution speed of the tour, it may fail. This commit fixes this behavior.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193019",fw-bot,2025-01-09 12:50:22+00:00,[],2025-01-23 17:23:45+00:00,2025-01-09 17:17:29+00:00,https://github.com/odoo/odoo/pull/193053,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580077986, 'issue_id': 2777753426, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193053.png)](https://mergebot.odoo.com/odoo/odoo/pull/193053)', 'created_at': datetime.datetime(2025, 1, 9, 12, 50, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580078000, 'issue_id': 2777753426, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 50, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580411200, 'issue_id': 2777753426, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 14, 37, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:50:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193053.png)](https://mergebot.odoo.com/odoo/odoo/pull/193053)

fw-bot (Issue Creator) on (2025-01-09 12:50:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-09 14:37:17 UTC): @robodoo r+

"
2777752059,pull_request,closed,,[FIX] base: fixup of a4a87c20e,"The rule introduced shared the same xmlid as the one above, overriding the value.
",mart-e,2025-01-09 12:49:48+00:00,[],2025-01-25 04:06:54+00:00,2025-01-11 03:56:43+00:00,https://github.com/odoo/odoo/pull/193052,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580076982, 'issue_id': 2777752059, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193052.png)](https://mergebot.odoo.com/odoo/odoo/pull/193052)', 'created_at': datetime.datetime(2025, 1, 9, 12, 49, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582850462, 'issue_id': 2777752059, 'author': 'mart-e', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 14, 35, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:49:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193052.png)](https://mergebot.odoo.com/odoo/odoo/pull/193052)

mart-e (Issue Creator) on (2025-01-10 14:35:11 UTC): @robodoo r+

"
2777750642,pull_request,closed,,[FW][FIX] account: Fix group by internal group on journal items,"In journal items, when grouping by 'Internal Group', a traceback appears due to referencing a non-existent table `account_account` as it has been joined with `account_move_line`.

This commit ensures the referenced table is correctly updated in the case of joins.

opw-4405281

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192994
Forward-Port-Of: odoo/odoo#192489",fw-bot,2025-01-09 12:49:16+00:00,[],2025-01-23 19:10:05+00:00,2025-01-09 18:57:29+00:00,https://github.com/odoo/odoo/pull/193051,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580076090, 'issue_id': 2777750642, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193051.png)](https://mergebot.odoo.com/odoo/odoo/pull/193051)', 'created_at': datetime.datetime(2025, 1, 9, 12, 49, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580076109, 'issue_id': 2777750642, 'author': 'fw-bot', 'body': '@seifgneedy @william-andre this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 49, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580077520, 'issue_id': 2777750642, 'author': 'seifgneedy', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 12, 50, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:49:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193051.png)](https://mergebot.odoo.com/odoo/odoo/pull/193051)

fw-bot (Issue Creator) on (2025-01-09 12:49:25 UTC): @seifgneedy @william-andre this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

seifgneedy on (2025-01-09 12:50:09 UTC): @robodoo r+

"
2777737985,pull_request,closed,,[FIX] mail: chat/channel action menu position,"Purpose of this Commit:
This commit resolves the issue of the action menu popover and the notification settings popover overflowing off the screen. Previously, before this PR, the popovers could flip to all four directions, but now they are restricted to only two directions. However, in some cases, the correct position is not among these two directions. This commit addresses and fixes this behavior.

task-4454161
",maad-odoo,2025-01-09 12:44:09+00:00,[],2025-02-07 06:08:01+00:00,2025-02-06 17:09:58+00:00,https://github.com/odoo/odoo/pull/193050,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580065870, 'issue_id': 2777737985, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193050.png)](https://mergebot.odoo.com/odoo/odoo/pull/193050)', 'created_at': datetime.datetime(2025, 1, 9, 12, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634268188, 'issue_id': 2777737985, 'author': 'seb-odoo', 'body': ""Hello, I'm not sure to understand, why can't the popover no longer select the best possible direction?\r\nShouldn't we fix that instead?"", 'created_at': datetime.datetime(2025, 2, 4, 15, 11, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635682145, 'issue_id': 2777737985, 'author': 'maad-odoo', 'body': ""@seb-odoo Hii,\r\nPreviously, when the direction was set to right, the `DIRECTION_FLIP_ORDER` sequence for the usePosition hook was `rtbl` was used to determine the best position by considering right, left, top, and bottom, preventing overflow issues.\r\n\r\nHowever, the new implementation (https://github.com/odoo/odoo/pull/178376/files) only uses `rl` for the right direction. This becomes problematic in mobile view when the target element is wide. In such cases, the popper overflows in both directions because `rl` doesn't account for top or bottom positioning. For instance, if the direction is right and the target is large, the popper often gets positioned at right-start, causing overflow.\r\n\r\nAfter consulting this issue with @brboi , I got a suggestion to update the position based on the UI."", 'created_at': datetime.datetime(2025, 2, 5, 4, 34, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:44:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193050.png)](https://mergebot.odoo.com/odoo/odoo/pull/193050)

seb-odoo on (2025-02-04 15:11:15 UTC): Hello, I'm not sure to understand, why can't the popover no longer select the best possible direction?
Shouldn't we fix that instead?

maad-odoo (Issue Creator) on (2025-02-05 04:34:50 UTC): @seb-odoo Hii,
Previously, when the direction was set to right, the `DIRECTION_FLIP_ORDER` sequence for the usePosition hook was `rtbl` was used to determine the best position by considering right, left, top, and bottom, preventing overflow issues.

However, the new implementation (https://github.com/odoo/odoo/pull/178376/files) only uses `rl` for the right direction. This becomes problematic in mobile view when the target element is wide. In such cases, the popper overflows in both directions because `rl` doesn't account for top or bottom positioning. For instance, if the direction is right and the target is large, the popper often gets positioned at right-start, causing overflow.

After consulting this issue with @brboi , I got a suggestion to update the position based on the UI.

"
2777737891,pull_request,closed,,[FW][FIX] event: can't go back to event when in registration desk,"* STEP TO REPRODUCE: install event (only CE code), go to Registration
Desk then hit button < to go back -> The system warning there are no
gantt view
* Solution: using existing action `action_event_view` with
`clearBreacrumbs` which will help display the menu correctly

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191376
Forward-Port-Of: odoo/odoo#191295",fw-bot,2025-01-09 12:44:07+00:00,[],2025-01-23 23:30:09+00:00,2025-01-09 22:52:34+00:00,https://github.com/odoo/odoo/pull/193049,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580065713, 'issue_id': 2777737891, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193049.png)](https://mergebot.odoo.com/odoo/odoo/pull/193049)', 'created_at': datetime.datetime(2025, 1, 9, 12, 44, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580065739, 'issue_id': 2777737891, 'author': 'fw-bot', 'body': '@duong77476-viindoo @jeh-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193035\n* odoo/odoo#193025\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 44, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580577962, 'issue_id': 2777737891, 'author': 'jeh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 32, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:44:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193049.png)](https://mergebot.odoo.com/odoo/odoo/pull/193049)

fw-bot (Issue Creator) on (2025-01-09 12:44:08 UTC): @duong77476-viindoo @jeh-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193035
* odoo/odoo#193025

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jeh-odoo on (2025-01-09 15:32:38 UTC): @robodoo r+

"
2777725546,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed unit tests dependencies,"The unit tests were having a dependency from account_reports module which is not a dependency of the l10n_jo_edi module nor even a community module. This commit removes this dependency.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192964
Forward-Port-Of: odoo/odoo#192893",fw-bot,2025-01-09 12:39:08+00:00,[],2025-01-23 23:30:09+00:00,2025-01-09 22:52:30+00:00,https://github.com/odoo/odoo/pull/193048,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2580056646, 'issue_id': 2777725546, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193048.png)](https://mergebot.odoo.com/odoo/odoo/pull/193048)', 'created_at': datetime.datetime(2025, 1, 9, 12, 39, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580056657, 'issue_id': 2777725546, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#193033\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 39, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580201208, 'issue_id': 2777725546, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 13, 42, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580555560, 'issue_id': 2777725546, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 15, 24, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:39:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193048.png)](https://mergebot.odoo.com/odoo/odoo/pull/193048)

fw-bot (Issue Creator) on (2025-01-09 12:39:10 UTC): @hsal-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#193033

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 13:42:13 UTC): @hsal-odoo @jco-odoo ci/runbot failed on this forward-port PR

hsal-odoo on (2025-01-09 15:24:05 UTC): @robodoo r+

"
2777722164,pull_request,closed,,[FIX] odoo/tools: error processing Factur-X XML,"Description of the issue/feature this PR addresses:
This PR is to fix an issue encountered when copying information from an editor for a product for example, and pasting it on the product label. On Odoo the label was appearing fine but when the invoice was confirmed and sent, the XML file content is created with hidden characters.This produced the web service to return an error when trying to validate the electronic invoice. 

Current behavior before PR:
Special or hidden characters appear on the XML file of an electronic invoice.

Steps to reproduce:
1. Install Uruguay - Electronic Invoice module
2. Create EDI invoice, add special character to the description of the product you are using. Example used for testing (copy-paste it): ‭219179120011‬
3. Validate the invoice
4. Print and send it
5. Check ""DscItem"" field on the XML file created.

Here is a one minute [video](https://drive.google.com/file/d/18JcnKCbaq7cH_NVyPol4CWXHdqZAxAdo/view) reproducing the error on runbot.

Desired behavior after PR is merged:
These characters are cleaned up at the xml level on cleanup_xml_node method to avoid them to appear and prevent errors when validating the XML on localizations web services.

Related PR on v16 regarding the same issue in another context: https://github.com/odoo/odoo/pull/154509

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jue-adhoc,2025-01-09 12:37:46+00:00,[],2025-02-07 13:48:27+00:00,2025-02-05 08:23:59+00:00,https://github.com/odoo/odoo/pull/193047,[],"[{'comment_id': 2580054294, 'issue_id': 2777722164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193047.png)](https://mergebot.odoo.com/odoo/odoo/pull/193047)', 'created_at': datetime.datetime(2025, 1, 9, 12, 37, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581375553, 'issue_id': 2777722164, 'author': 'fvz-odoo', 'body': 'Hello @jue-adhoc \r\n\r\nThanks for the PR, I went ahead to test it in a regular runbot, but I did not get that error, can you try again and check? If you still get it we can maybe meet for 10-15 min tomorrow so you can show me how to reproduce it. I did check your video and did exactly the same. Not sure if I missed something. Let me know!\r\n\r\n\r\nCheers!\r\n\r\nFernando\r\n\r\n@zaoral', 'created_at': datetime.datetime(2025, 1, 9, 22, 36, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582840977, 'issue_id': 2777722164, 'author': 'jue-adhoc', 'body': '@fvz-odoo Hi Fer! Thank you for reviewing this so quickly. \r\nI tried again on [this](https://73150945-17-0-all.runbot200.odoo.com/web#id=531&cids=12&menu_id=407&action=592&model=account.move&view_type=form) runbot and I could replicate it. I leave here a [new video](https://drive.google.com/file/d/1j_PdCgjE-7ognhSfKdG_35qtH2Tx6w64/view) with the testing, but feel free to set up a meeting today so we can review it together.', 'created_at': datetime.datetime(2025, 1, 10, 14, 30, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589911716, 'issue_id': 2777722164, 'author': 'flvr-odoo', 'body': 'robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 14, 13, 28, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593537885, 'issue_id': 2777722164, 'author': 'jue-adhoc', 'body': 'HI @flvr-odoo, thank you for overriding the security check, I just fixed the style one. Thanks!', 'created_at': datetime.datetime(2025, 1, 15, 17, 27, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602493808, 'issue_id': 2777722164, 'author': 'flvr-odoo', 'body': ""Hey @fvz-odoo, \r\n\r\nIt's not really my scope, I was here only to review because of the security flag, \r\nIf you feel that this is a good addition, feel free to r+ !"", 'created_at': datetime.datetime(2025, 1, 20, 13, 56, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604760569, 'issue_id': 2777722164, 'author': 'fvz-odoo', 'body': ""Hello @flvr-odoo \r\n\r\nThanks! The only thing is that I don't have merging rights, hehe. I'll pass this small change to @odoo/rd-accounting-las, this LGTM (another customer reported this already).\r\n\r\nCheers!\r\n\r\nFernando\r\n\r\n@jue-adhoc @zaoral @pmax-x"", 'created_at': datetime.datetime(2025, 1, 21, 13, 37, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609882860, 'issue_id': 2777722164, 'author': 'robodoo', 'body': '@jue-adhoc @smetl linked pull request(s) odoo/enterprise#76972 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 23, 14, 0, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612461569, 'issue_id': 2777722164, 'author': 'jue-adhoc', 'body': 'Hello @smetl \r\nThanks for your reviewing of this PR. \r\nI have a linked pull request that needs to be reviewed in order to merge this one two. Can you please take a look at it as well? \r\nThank you in advance!', 'created_at': datetime.datetime(2025, 1, 24, 12, 52, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634338290, 'issue_id': 2777722164, 'author': 'zaoral', 'body': 'Hi @smetl \r\nThank you for the review!\r\n\r\nThe merge did not go through, because there is a linked PR that needs to be approved\r\nhttps://github.com/odoo/enterprise/pull/76972\r\nPlease could you check it?\r\n\r\nIt is the only thing pending to make this merge possible.\r\nBest Regards', 'created_at': datetime.datetime(2025, 2, 4, 15, 36, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:37:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193047.png)](https://mergebot.odoo.com/odoo/odoo/pull/193047)

fvz-odoo on (2025-01-09 22:36:44 UTC): Hello @jue-adhoc 

Thanks for the PR, I went ahead to test it in a regular runbot, but I did not get that error, can you try again and check? If you still get it we can maybe meet for 10-15 min tomorrow so you can show me how to reproduce it. I did check your video and did exactly the same. Not sure if I missed something. Let me know!


Cheers!

Fernando

@zaoral

jue-adhoc (Issue Creator) on (2025-01-10 14:30:26 UTC): @fvz-odoo Hi Fer! Thank you for reviewing this so quickly. 
I tried again on [this](https://73150945-17-0-all.runbot200.odoo.com/web#id=531&cids=12&menu_id=407&action=592&model=account.move&view_type=form) runbot and I could replicate it. I leave here a [new video](https://drive.google.com/file/d/1j_PdCgjE-7ognhSfKdG_35qtH2Tx6w64/view) with the testing, but feel free to set up a meeting today so we can review it together.

flvr-odoo on (2025-01-14 13:28:24 UTC): robodoo override=ci/security

jue-adhoc (Issue Creator) on (2025-01-15 17:27:32 UTC): HI @flvr-odoo, thank you for overriding the security check, I just fixed the style one. Thanks!

flvr-odoo on (2025-01-20 13:56:47 UTC): Hey @fvz-odoo, 

It's not really my scope, I was here only to review because of the security flag, 
If you feel that this is a good addition, feel free to r+ !

fvz-odoo on (2025-01-21 13:37:04 UTC): Hello @flvr-odoo 

Thanks! The only thing is that I don't have merging rights, hehe. I'll pass this small change to @odoo/rd-accounting-las, this LGTM (another customer reported this already).

Cheers!

Fernando

@jue-adhoc @zaoral @pmax-x

robodoo on (2025-01-23 14:00:02 UTC): @jue-adhoc @smetl linked pull request(s) odoo/enterprise#76972 not ready. Linked PRs are not staged until all of them are ready.

jue-adhoc (Issue Creator) on (2025-01-24 12:52:11 UTC): Hello @smetl 
Thanks for your reviewing of this PR. 
I have a linked pull request that needs to be reviewed in order to merge this one two. Can you please take a look at it as well? 
Thank you in advance!

zaoral on (2025-02-04 15:36:28 UTC): Hi @smetl 
Thank you for the review!

The merge did not go through, because there is a linked PR that needs to be approved
https://github.com/odoo/enterprise/pull/76972
Please could you check it?

It is the only thing pending to make this merge possible.
Best Regards

"
2777707184,pull_request,closed,,[FW][FIX] stock_account: branch accounts configuration ignored,"User of a branch company may change accounts configuration product categories,
but currently this settings is ignored, as accounts are fetched from the main
company instead

Steps to reproduce:
- Create a branch company
- Open a product category [CATEG] (i.e. Office Furniture) and set
  - 'Inventory valuation': 'Automated'
  - 'Stock Input Account': [Account]
- Assign product category [CATEG] to a product [PROD]
- Create a Vendor bill with [PROD] and Save
- Check Journal items tab

Issue: Product line account is not [Account] but it is taken from the
main company settings
This occurs due to a fix [1] done to have `stock_account` in sync with the
base method in `account`. However, the forced company in base method was changed
in a refactor [2]

[1] https://github.com/odoo/odoo/commit/0b07210fe1f1c451eb648deff74c3ab37c8c09bd
[2] https://github.com/odoo/odoo/commit/d8d47f9ff8554f4b39487fd2f13c153c7d6f958d

opw-4297203

Forward-Port-Of: odoo/odoo#191349",fw-bot,2025-01-09 12:31:48+00:00,[],2025-01-24 10:43:53+00:00,2025-01-10 10:27:59+00:00,https://github.com/odoo/odoo/pull/193046,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580043009, 'issue_id': 2777707184, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193046.png)](https://mergebot.odoo.com/odoo/odoo/pull/193046)', 'created_at': datetime.datetime(2025, 1, 9, 12, 31, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580043040, 'issue_id': 2777707184, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 31, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:31:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193046.png)](https://mergebot.odoo.com/odoo/odoo/pull/193046)

fw-bot (Issue Creator) on (2025-01-09 12:31:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777706554,pull_request,closed,,[FW][FIX] hw_drivers: improve image update reliability,"We improve the image reliability by:

- Improving handlers cleanup (we only removed os-specific handlers but downloaded all),
- Forcing Odoo service to restart after checkout, even if an error occurred.

Task: 4433461

Forward-Port-Of: odoo/odoo#191928",fw-bot,2025-01-09 12:31:32+00:00,[],2025-01-23 21:52:19+00:00,2025-01-09 21:50:35+00:00,https://github.com/odoo/odoo/pull/193045,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2580042501, 'issue_id': 2777706554, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193045.png)](https://mergebot.odoo.com/odoo/odoo/pull/193045)', 'created_at': datetime.datetime(2025, 1, 9, 12, 31, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580042526, 'issue_id': 2777706554, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 12, 31, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581100088, 'issue_id': 2777706554, 'author': 'robodoo', 'body': '@loouis-t @Ysoroko staging failed: ci/runbot on 8e3760b813ab28e3faf38930afa126f0973ec5a3 (view more at https://runbot.odoo.com/runbot/build/73108626)', 'created_at': datetime.datetime(2025, 1, 9, 19, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581182649, 'issue_id': 2777706554, 'author': 'loouis-t', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 9, 20, 24, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:31:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193045.png)](https://mergebot.odoo.com/odoo/odoo/pull/193045)

fw-bot (Issue Creator) on (2025-01-09 12:31:34 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-09 19:33:07 UTC): @loouis-t @Ysoroko staging failed: ci/runbot on 8e3760b813ab28e3faf38930afa126f0973ec5a3 (view more at https://runbot.odoo.com/runbot/build/73108626)

loouis-t on (2025-01-09 20:24:31 UTC): @robodoo retry

"
2777700202,pull_request,closed,,[FIX] *_livechat: chatbot select answer might not post visitor msg,"Follow-up of https://github.com/odoo/odoo/pull/192076

PR above fixes issues regarding question-answer step of chatbot: to detect which answer was picked, it was comparing item selected text content with each possible answers. This worked as long as each possible answer had mutually exclusive text content. If one proposition had X and another had no X, one option could be unreachable.

To solve the issue, PR above tracks the `select_answer_id`. When the user posts a message, the selected answer is returned in RPC response as store data. The selected answer is put in the question message of chatbot. This means the `message_post` store data contains 2 messages.

The implementation of message_post in JS is naive and assumes the data contains only 1 message. Therefore when inserting the store data, it was assuming the 1st inserted message in store was the newly posted message.

However in this particular case, the 1st inserted message was the question message of chatbot, not the user answer message.

As a result, the test `test_complete_chatbot_flow_ui` had the following non-deterministic issue because of this:

```
Failed to find 1 of "".o-mail-Message"" inside a specific target with text ""I'd like to buy the software"" (as parent). Found 0 instead.
```

This commit fixes the issue by putting the message_post message (the answer of user) before the question message of chatbot.

This is the chosen fix as this is minimal. The destruct of store.insert() in message_post is too naive and should be changed by something more robust in the future.

Note that this problem was not present in practice: the visitor message was visible but with minimal flicker. This is because the bus notification was adjusting the UI from the erroneous message_post result.

runbot-111747",alexkuhn,2025-01-09 12:28:57+00:00,[],2025-01-09 21:03:02+00:00,2025-01-09 19:01:36+00:00,https://github.com/odoo/odoo/pull/193044,"[('RD', 'research & development, internal work')]","[{'comment_id': 2580037810, 'issue_id': 2777700202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193044.png)](https://mergebot.odoo.com/odoo/odoo/pull/193044)', 'created_at': datetime.datetime(2025, 1, 9, 12, 29, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:29:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193044.png)](https://mergebot.odoo.com/odoo/odoo/pull/193044)

"
2777664321,pull_request,closed,,[IMP] *: add t-autoprefix for assets bundle,"This commit allows to only enable when needed the ""autoprefixing"" feature of CSS rules used for compatibility with (very) old browsers. To do so, it introduces the boolean t-autoprefix attribute on <t t-call-assets=""...""/> in QWeb's templates.

As those prefixes (e.g. -webkit-, -moz-...) are basically only required for wkhtmltopdf compatibility nowadays, only the reports' bundles stil use it.

Also disabling it for the other bundles (backend, frontend...) result into a slight gain in the bundles' size (+/- 20ko uncompressed on a database ""all"").",pparidans,2025-01-09 12:13:57+00:00,['pparidans'],2025-01-27 12:38:56+00:00,2025-01-16 00:46:35+00:00,https://github.com/odoo/odoo/pull/193043,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2580009811, 'issue_id': 2777664321, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193043.png)](https://mergebot.odoo.com/odoo/odoo/pull/193043)', 'created_at': datetime.datetime(2025, 1, 9, 12, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592440594, 'issue_id': 2777664321, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 15, 11, 23, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 12:14:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193043.png)](https://mergebot.odoo.com/odoo/odoo/pull/193043)

robodoo on (2025-01-15 11:23:23 UTC): Merge method set to rebase and fast-forward.

"
2777620226,pull_request,open,,"[15.0][FIX] crm, web_event_sale: delete outdated assets declaration file","Description of the issue/feature this PR addresses: from commit https://github.com/odoo/odoo/commit/0364161 removed the assets declarations in xml, but there are still some declarations left behind. so this commit to clean that up

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xaviedoanhduy,2025-01-09 11:55:58+00:00,[],2025-01-09 12:00:11+00:00,,https://github.com/odoo/odoo/pull/193042,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2579973910, 'issue_id': 2777620226, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193042.png)](https://mergebot.odoo.com/odoo/odoo/pull/193042)', 'created_at': datetime.datetime(2025, 1, 9, 11, 56, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:56:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193042.png)](https://mergebot.odoo.com/odoo/odoo/pull/193042)

"
2777581358,pull_request,closed,,[FIX] point_of_sale: handle custom one2many fields,"Before this commit, if there was a custom one2many field with the same related field as an existing one, it would cause issues in PoS when capturing an order. For example, if there was a custom field in pos.order with a related field of order_id, adding products to the order would not show them in the order summary.

opw-4462991

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-09 11:37:18+00:00,[],2025-01-28 15:37:08+00:00,2025-01-14 15:23:51+00:00,https://github.com/odoo/odoo/pull/193041,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579935723, 'issue_id': 2777581358, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193041.png)](https://mergebot.odoo.com/odoo/odoo/pull/193041)', 'created_at': datetime.datetime(2025, 1, 9, 11, 37, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581965013, 'issue_id': 2777581358, 'author': 'pedrambiria', 'body': ""@davidmonnom It's green now"", 'created_at': datetime.datetime(2025, 1, 10, 7, 34, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589346180, 'issue_id': 2777581358, 'author': 'pedrambiria', 'body': '@davidmonnom Could you please review this? I modified the code.', 'created_at': datetime.datetime(2025, 1, 14, 8, 51, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:37:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193041.png)](https://mergebot.odoo.com/odoo/odoo/pull/193041)

pedrambiria (Issue Creator) on (2025-01-10 07:34:24 UTC): @davidmonnom It's green now

pedrambiria (Issue Creator) on (2025-01-14 08:51:37 UTC): @davidmonnom Could you please review this? I modified the code.

"
2777576235,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: complete record synchronization","Changes to the synchronization system to ensure full synchronization every time a PoS writes to a record.

This synchronization will not unlink local records in other PoS.

Forward-Port-Of: odoo/odoo#192584
Forward-Port-Of: odoo/odoo#191904",fw-bot,2025-01-09 11:34:49+00:00,[],2025-02-07 11:08:45+00:00,2025-01-24 11:08:41+00:00,https://github.com/odoo/odoo/pull/193040,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2579929922, 'issue_id': 2777576235, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193040.png)](https://mergebot.odoo.com/odoo/odoo/pull/193040)', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579929992, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#191904 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/models/pos_session.py\nAuto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.xml\nAuto-merging addons/point_of_sale/static/src/app/components/popups/closing_popup/closing_popup.js\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\nAuto-merging addons/pos_loyalty/static/src/app/models/pos_order.js\nAuto-merging addons/pos_restaurant/models/pos_restaurant.py\nAuto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.js\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587355, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000352, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541815, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046770, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478579, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606784533, 'issue_id': 2777576235, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 9, 58, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606789256, 'issue_id': 2777576235, 'author': 'robodoo', 'body': '@davidmonnom @caburj linked pull request(s) odoo/upgrade#7072 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 1, 22, 10, 0, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609637353, 'issue_id': 2777576235, 'author': 'robodoo', 'body': '@davidmonnom @caburj unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 23, 12, 3, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610541038, 'issue_id': 2777576235, 'author': 'davidmonnom', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 23, 17, 39, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610541134, 'issue_id': 2777576235, 'author': 'robodoo', 'body': '@davidmonnom retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 1, 23, 17, 39, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610542424, 'issue_id': 2777576235, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 17, 40, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611385845, 'issue_id': 2777576235, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 24, 2, 1, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:34:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193040.png)](https://mergebot.odoo.com/odoo/odoo/pull/193040)

fw-bot (Issue Creator) on (2025-01-09 11:34:53 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#191904 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/models/pos_session.py
Auto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.xml
Auto-merging addons/point_of_sale/static/src/app/components/popups/closing_popup/closing_popup.js
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/point_of_sale/tests/test_frontend.py
Auto-merging addons/pos_loyalty/static/src/app/models/pos_order.js
Auto-merging addons/pos_restaurant/models/pos_restaurant.py
Auto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.js
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 02:01:37 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:20 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:43 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:09 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:43 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

davidmonnom on (2025-01-22 09:58:17 UTC): @robodoo r+

robodoo on (2025-01-22 10:00:17 UTC): @davidmonnom @caburj linked pull request(s) odoo/upgrade#7072 not ready. Linked PRs are not staged until all of them are ready.

robodoo on (2025-01-23 12:03:52 UTC): @davidmonnom @caburj unable to stage: merge conflict

davidmonnom on (2025-01-23 17:39:26 UTC): @robodoo retry

robodoo on (2025-01-23 17:39:29 UTC): @davidmonnom retry makes no sense when the PR is not in error.

davidmonnom on (2025-01-23 17:40:07 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-24 02:01:22 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

"
2777575474,pull_request,closed,,[FW][FIX] discuss: ensures that volume settings are used,"Since https://github.com/odoo/odoo/pull/169691, the user volumes were not correctly searched from the settings, this commit fixes this issue.

Forward-Port-Of: odoo/odoo#192909
Forward-Port-Of: odoo/odoo#192456",fw-bot,2025-01-09 11:34:26+00:00,[],2025-01-23 15:05:48+00:00,2025-01-09 14:53:15+00:00,https://github.com/odoo/odoo/pull/193039,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2579929319, 'issue_id': 2777575474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193039.png)](https://mergebot.odoo.com/odoo/odoo/pull/193039)', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579929374, 'issue_id': 2777575474, 'author': 'fw-bot', 'body': '@thanhdodeurodoo @phenix-factory this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579973346, 'issue_id': 2777575474, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 11, 55, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:34:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193039.png)](https://mergebot.odoo.com/odoo/odoo/pull/193039)

fw-bot (Issue Creator) on (2025-01-09 11:34:41 UTC): @thanhdodeurodoo @phenix-factory this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ThanhDodeurOdoo on (2025-01-09 11:55:42 UTC): @robodoo r+

"
2777574901,pull_request,closed,,[FW][FIX] point_of_sale: don't translate /pos/ticket,"In the template, /pos/ticket is concatenated to the base_url. But because /pos/ticket is a normal string inside the template, it is translated.

ticket-4447566

Forward-Port-Of: odoo/odoo#192842
Forward-Port-Of: odoo/odoo#192308",fw-bot,2025-01-09 11:34:08+00:00,[],2025-01-24 19:16:55+00:00,2025-01-10 19:06:57+00:00,https://github.com/odoo/odoo/pull/193038,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2579929062, 'issue_id': 2777574901, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193038.png)](https://mergebot.odoo.com/odoo/odoo/pull/193038)', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579929110, 'issue_id': 2777574901, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 34, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579965064, 'issue_id': 2777574901, 'author': 'pedrobaeza', 'body': 'Isn\'t it easier to put t-translate=""off"" (I\'m not sure about the exact syntax though)?', 'created_at': datetime.datetime(2025, 1, 9, 11, 51, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579970464, 'issue_id': 2777574901, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 11, 54, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580429394, 'issue_id': 2777574901, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 9, 14, 41, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587160, 'issue_id': 2777574901, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582767556, 'issue_id': 2777574901, 'author': 'caburj', 'body': '> Isn\'t it easier to put t-translate=""off"" (I\'m not sure about the exact syntax though)?\r\n\r\nThat should also be correct but we can continue with this current version.\r\n\r\nrobodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 13, 56, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:34:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193038.png)](https://mergebot.odoo.com/odoo/odoo/pull/193038)

fw-bot (Issue Creator) on (2025-01-09 11:34:36 UTC): @AH-Yussef @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrobaeza on (2025-01-09 11:51:59 UTC): Isn't it easier to put t-translate=""off"" (I'm not sure about the exact syntax though)?

fw-bot (Issue Creator) on (2025-01-09 11:54:33 UTC): @AH-Yussef @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-09 14:41:45 UTC): @AH-Yussef @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-10 02:01:32 UTC): @AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).

caburj on (2025-01-10 13:56:33 UTC): That should also be correct but we can continue with this current version.

robodoo r+

"
2777569879,pull_request,closed,,[FW][FIX] project: allow default search in portal,"Steps to reproduce:
--------------------

 - Go my account
 - Click on tasks
 - Search

Issue:
------

The client when searching without selecting a scope cannot search. This is direct incidence of the [changes](https://github.com/odoo/odoo/commit/2a0ff2ae7bd46666) Since the default search_in was set to content that has been removed.

Fix:
---

Setting the search_in defaulting to name. (Name is the closest to what content did)

opw-4396491

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191150",fw-bot,2025-01-09 11:31:27+00:00,[],2025-01-23 19:10:10+00:00,2025-01-09 19:01:34+00:00,https://github.com/odoo/odoo/pull/193037,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2579918381, 'issue_id': 2777569879, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193037.png)](https://mergebot.odoo.com/odoo/odoo/pull/193037)', 'created_at': datetime.datetime(2025, 1, 9, 11, 31, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579918417, 'issue_id': 2777569879, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 31, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579980787, 'issue_id': 2777569879, 'author': 'fw-bot', 'body': '@jaeschwa @xavierbol ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 11, 59, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580270673, 'issue_id': 2777569879, 'author': 'fw-bot', 'body': '@jaeschwa @xavierbol this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 9, 14, 0, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580271612, 'issue_id': 2777569879, 'author': 'xavierbol', 'body': 'I just rebase your branch\r\n\r\nrobodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 14, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:31:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193037.png)](https://mergebot.odoo.com/odoo/odoo/pull/193037)

fw-bot (Issue Creator) on (2025-01-09 11:31:29 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 11:59:33 UTC): @jaeschwa @xavierbol ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-09 14:00:47 UTC): @jaeschwa @xavierbol this PR was modified / updated and has become a normal PR. It must be merged directly.

xavierbol on (2025-01-09 14:01:00 UTC): I just rebase your branch

robodoo r+

"
2777563138,pull_request,closed,,"[FW][FIX] sale, sale_expense: prevent creation of tax line","Steps to reproduce:
[l10n_dk]
- create and confirm a sale order
- create an expense for a new employee and use a product set with reinvoice at cost and a tax with multiple repartition lines
- confirm and process the expense
- post journal entries

Issue:
Missing required fields on accountable sale order line.

Cause:
We want to reinvoice the tax line that no product on it

opw-4378714

Forward-Port-Of: odoo/odoo#191163",fw-bot,2025-01-09 11:28:36+00:00,[],2025-01-29 18:06:43+00:00,2025-01-15 17:46:54+00:00,https://github.com/odoo/odoo/pull/193036,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2579912538, 'issue_id': 2777563138, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193036.png)](https://mergebot.odoo.com/odoo/odoo/pull/193036)', 'created_at': datetime.datetime(2025, 1, 9, 11, 28, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579912569, 'issue_id': 2777563138, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 28, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579969742, 'issue_id': 2777563138, 'author': 'fw-bot', 'body': '@yosa-odoo @oco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 9, 11, 54, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047175, 'issue_id': 2777563138, 'author': 'fw-bot', 'body': '@yosa-odoo @oco-odoo this forward port of odoo/odoo#191163 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588619472, 'issue_id': 2777563138, 'author': 'fw-bot', 'body': '@yosa-odoo @oco-odoo this forward port of odoo/odoo#191163 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591478813, 'issue_id': 2777563138, 'author': 'fw-bot', 'body': '@yosa-odoo @oco-odoo this forward port of odoo/odoo#191163 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592115301, 'issue_id': 2777563138, 'author': 'fw-bot', 'body': '@yosa-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 15, 9, 30, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592116698, 'issue_id': 2777563138, 'author': 'oco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 9, 31, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:28:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193036.png)](https://mergebot.odoo.com/odoo/odoo/pull/193036)

fw-bot (Issue Creator) on (2025-01-09 11:28:39 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-09 11:54:10 UTC): @yosa-odoo @oco-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-13 02:02:30 UTC): @yosa-odoo @oco-odoo this forward port of odoo/odoo#191163 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:01:57 UTC): @yosa-odoo @oco-odoo this forward port of odoo/odoo#191163 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:01:55 UTC): @yosa-odoo @oco-odoo this forward port of odoo/odoo#191163 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 09:30:56 UTC): @yosa-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

oco-odoo on (2025-01-15 09:31:31 UTC): @robodoo r+

"
2777558275,pull_request,closed,,[FW][FIX] event: can't go back to event when in registration desk,"* STEP TO REPRODUCE: install event (only CE code), go to Registration
Desk then hit button < to go back -> The system warning there are no
gantt view
* Solution: using existing action `action_event_view` with
`clearBreacrumbs` which will help display the menu correctly

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191376
Forward-Port-Of: odoo/odoo#191295",fw-bot,2025-01-09 11:26:08+00:00,[],2025-01-23 17:23:50+00:00,2025-01-09 17:17:52+00:00,https://github.com/odoo/odoo/pull/193035,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2579907834, 'issue_id': 2777558275, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193035.png)](https://mergebot.odoo.com/odoo/odoo/pull/193035)', 'created_at': datetime.datetime(2025, 1, 9, 11, 26, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579907861, 'issue_id': 2777558275, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 26, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:26:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193035.png)](https://mergebot.odoo.com/odoo/odoo/pull/193035)

fw-bot (Issue Creator) on (2025-01-09 11:26:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777556533,pull_request,closed,,[FW][FIX] point_of_sale: product card not updated according to order,"Steps to reproduce:
1. Create a new free order and add 2 quantities of any product.
2. Create another free order and add 2 quantities of any product different from 1st order.
3. Switch to orders 1 and 2, and you'll see the same product and quantity loading in both orders.

Issue:
- Both free orders show same product card if quantity is same.

Fix:
- UseEffect was set to update on order rather than quantity.

task-4438675

Forward-Port-Of: odoo/odoo#192170",fw-bot,2025-01-09 11:25:14+00:00,[],2025-01-23 15:42:23+00:00,2025-01-09 15:41:34+00:00,https://github.com/odoo/odoo/pull/193034,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579906111, 'issue_id': 2777556533, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193034.png)](https://mergebot.odoo.com/odoo/odoo/pull/193034)', 'created_at': datetime.datetime(2025, 1, 9, 11, 25, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579906179, 'issue_id': 2777556533, 'author': 'fw-bot', 'body': '@shag-odoo @caburj cherrypicking of pull request odoo/odoo#192170 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/components/list_container/list_container.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/list_container/list_container.js\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/product_screen_tour.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/utils/product_screen_util.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 25, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580119582, 'issue_id': 2777556533, 'author': 'shag-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 10, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:25:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193034.png)](https://mergebot.odoo.com/odoo/odoo/pull/193034)

fw-bot (Issue Creator) on (2025-01-09 11:25:18 UTC): @shag-odoo @caburj cherrypicking of pull request odoo/odoo#192170 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/components/list_container/list_container.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/list_container/list_container.js
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/product_screen_tour.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/utils/product_screen_util.js
Auto-merging addons/point_of_sale/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

shag-odoo on (2025-01-09 13:10:44 UTC): @robodoo r+

"
2777555913,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed unit tests dependencies,"The unit tests were having a dependency from account_reports module which is not a dependency of the l10n_jo_edi module nor even a community module. This commit removes this dependency.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192964
Forward-Port-Of: odoo/odoo#192893",fw-bot,2025-01-09 11:24:53+00:00,[],2025-01-23 17:23:49+00:00,2025-01-09 17:17:43+00:00,https://github.com/odoo/odoo/pull/193033,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2579905517, 'issue_id': 2777555913, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193033.png)](https://mergebot.odoo.com/odoo/odoo/pull/193033)', 'created_at': datetime.datetime(2025, 1, 9, 11, 25, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579905557, 'issue_id': 2777555913, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 25, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:25:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193033.png)](https://mergebot.odoo.com/odoo/odoo/pull/193033)

fw-bot (Issue Creator) on (2025-01-09 11:25:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2777530893,pull_request,closed,,[FW][FIX] l10n_in_pos: tb on receipt with customer after payment done,"Steps:
===
- Open a POS shop.
- Create an order, select a customer, and validate it.

Issue:
===
- The generated receipt did not include customer name and phone details.

Cause:
===
- Customer details were not being passed correctly to the receipt template.

Fix:
===
- Updated the function for setting customer details to correctly include
in the receipt.

Task- 4431623

Forward-Port-Of: odoo/odoo#191972",fw-bot,2025-01-09 11:13:14+00:00,[],2025-01-23 15:05:52+00:00,2025-01-09 14:56:49+00:00,https://github.com/odoo/odoo/pull/193032,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579874369, 'issue_id': 2777530893, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193032.png)](https://mergebot.odoo.com/odoo/odoo/pull/193032)', 'created_at': datetime.datetime(2025, 1, 9, 11, 13, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579874389, 'issue_id': 2777530893, 'author': 'fw-bot', 'body': '@djip-odoo @caburj cherrypicking of pull request odoo/odoo#191972 failed.\n\n* 2caf4062956be510361d730895e5fd5f66337aba <- on this commit\n* 7c36d339f95b1f748134eee5f2d80b2196ac28fc\n\nstdout:\n```\nAuto-merging addons/l10n_in_pos/static/src/overrides/models/order.js\nCONFLICT (content): Merge conflict in addons/l10n_in_pos/static/src/overrides/models/order.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 11, 13, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580157983, 'issue_id': 2777530893, 'author': 'djip-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 13, 29, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 11:13:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193032.png)](https://mergebot.odoo.com/odoo/odoo/pull/193032)

fw-bot (Issue Creator) on (2025-01-09 11:13:16 UTC): @djip-odoo @caburj cherrypicking of pull request odoo/odoo#191972 failed.

* 2caf4062956be510361d730895e5fd5f66337aba <- on this commit
* 7c36d339f95b1f748134eee5f2d80b2196ac28fc

stdout:
```
Auto-merging addons/l10n_in_pos/static/src/overrides/models/order.js
CONFLICT (content): Merge conflict in addons/l10n_in_pos/static/src/overrides/models/order.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

djip-odoo on (2025-01-09 13:29:24 UTC): robodoo r+

"
2777448548,pull_request,closed,,[FIX] stock_account: add model_create_multi decorator to stock.lot,"Before this commit: creating stock lot records (multi) via the xml.rpc resulted in a bug: missing argument 'vals_list'. 

After this commit: It is possible to create multiple stock lot records without this bug




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Larsq1,2025-01-09 10:36:59+00:00,[],2025-01-09 19:01:37+00:00,2025-01-09 19:01:37+00:00,https://github.com/odoo/odoo/pull/193031,"[('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2579778695, 'issue_id': 2777448548, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193031.png)](https://mergebot.odoo.com/odoo/odoo/pull/193031)', 'created_at': datetime.datetime(2025, 1, 9, 10, 37, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580713036, 'issue_id': 2777448548, 'author': 'Whenrow', 'body': 'robodoo r+\r\nthank you', 'created_at': datetime.datetime(2025, 1, 9, 16, 20, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:37:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193031.png)](https://mergebot.odoo.com/odoo/odoo/pull/193031)

Whenrow on (2025-01-09 16:20:21 UTC): robodoo r+
thank you

"
2777423061,pull_request,open,,[IMP] l10n_tr_nilvera_einvoice: unit codes legal requirement,"In the xml we sent, we have to specify the unit code, there is mapping for that on the documentation: https://developer.nilvera.com/en/code-lists#birim-kodlari

This commit will extend what has been done in the base edi module with the UOM_TO_UNECE_CODE dictionary. We added some new unit of measure and each unit of measure will be linked to a code.
The default value is C62.

task-4457115




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-09 10:25:33+00:00,[],2025-02-04 13:27:22+00:00,,https://github.com/odoo/odoo/pull/193030,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579735722, 'issue_id': 2777423061, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193030.png)](https://mergebot.odoo.com/odoo/odoo/pull/193030)', 'created_at': datetime.datetime(2025, 1, 9, 10, 25, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579785036, 'issue_id': 2777423061, 'author': 'malb-odoo', 'body': ""Once it's good for po's, i will need a test and pot/po"", 'created_at': datetime.datetime(2025, 1, 9, 10, 38, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:25:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193030.png)](https://mergebot.odoo.com/odoo/odoo/pull/193030)

malb-odoo (Issue Creator) on (2025-01-09 10:38:44 UTC): Once it's good for po's, i will need a test and pot/po

"
2777414972,pull_request,closed,,[FIX] pos_mercado_pago: fix callback,"Add a check on MP callback when paying. Verify if the pending payment line exist before processing the callback.

Same as:
- https://github.com/odoo/odoo/pull/186580
- https://github.com/odoo/odoo/pull/190735

opw-4349957

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lse-odoo,2025-01-09 10:21:55+00:00,[],2025-01-24 15:33:24+00:00,2025-01-10 15:29:47+00:00,https://github.com/odoo/odoo/pull/193029,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2579722179, 'issue_id': 2777414972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193029.png)](https://mergebot.odoo.com/odoo/odoo/pull/193029)', 'created_at': datetime.datetime(2025, 1, 9, 10, 21, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:21:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193029.png)](https://mergebot.odoo.com/odoo/odoo/pull/193029)

"
2777403545,pull_request,closed,,[FIX] hw_drivers: force using wifi.reconnect instead of simple connect,"Using `reconnect` will first try to re up the connection if the network is already known (much lighter) and ensure to restart access point if password is wrong.
",loouis-t,2025-01-09 10:16:31+00:00,[],2025-01-09 13:51:07+00:00,2025-01-09 13:51:07+00:00,https://github.com/odoo/odoo/pull/193028,"[('RD', 'research & development, internal work')]","[{'comment_id': 2579702502, 'issue_id': 2777403545, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193028.png)](https://mergebot.odoo.com/odoo/odoo/pull/193028)', 'created_at': datetime.datetime(2025, 1, 9, 10, 16, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580235389, 'issue_id': 2777403545, 'author': 'loouis-t', 'body': 'merged with (mawh) pr [here](https://github.com/odoo/odoo/pull/192883)', 'created_at': datetime.datetime(2025, 1, 9, 13, 51, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:16:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193028.png)](https://mergebot.odoo.com/odoo/odoo/pull/193028)

loouis-t (Issue Creator) on (2025-01-09 13:51:07 UTC): merged with (mawh) pr [here](https://github.com/odoo/odoo/pull/192883)

"
2777372023,pull_request,closed,,[FW][FIX] core: missing POSIX options on Windows,"Start Odoo on Windows, KeyError config as no ""workers"" entry.

A few options (workers, limit_memory, limit_time) are only meant for POSIX systems. In 18.0 and previous version, there was a mechanism to set those options None on othre system[^1]. This mechanism was wrongly removed during ConfigCleanup[^2]. This PR re-introduces it.

[^1]: https://github.com/odoo/odoo/blob/0e5961b2e3861a73144c860038c3c32b87decfd4/odoo/tools/config.py#L512-L515
[^2]: https://github.com/odoo/odoo/pull/126099

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192849",fw-bot,2025-01-09 10:01:58+00:00,[],2025-01-23 15:05:45+00:00,2025-01-09 14:52:50+00:00,https://github.com/odoo/odoo/pull/193027,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2579653031, 'issue_id': 2777372023, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193027.png)](https://mergebot.odoo.com/odoo/odoo/pull/193027)', 'created_at': datetime.datetime(2025, 1, 9, 10, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579653052, 'issue_id': 2777372023, 'author': 'fw-bot', 'body': '@Julien00859 @d-fence this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 10, 1, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579665516, 'issue_id': 2777372023, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 10, 6, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:01:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193027.png)](https://mergebot.odoo.com/odoo/odoo/pull/193027)

fw-bot (Issue Creator) on (2025-01-09 10:01:59 UTC): @Julien00859 @d-fence this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

d-fence on (2025-01-09 10:06:54 UTC): robodoo r+

"
2777370592,pull_request,closed,,[FW][FIX] pos_loyalty: correctly save loyalty.card in IndexedDB,"Before this commit, the condition to check the loyalty card to be saved in IndexedDB only kept the loyalty cards related to the finalized orders that were synced. It should keep the items that are not synced or finalized.

opw-4257389

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188968",fw-bot,2025-01-09 10:01:23+00:00,[],2025-01-28 12:07:47+00:00,2025-01-14 12:01:06+00:00,https://github.com/odoo/odoo/pull/193026,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2579651805, 'issue_id': 2777370592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193026.png)](https://mergebot.odoo.com/odoo/odoo/pull/193026)', 'created_at': datetime.datetime(2025, 1, 9, 10, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579651828, 'issue_id': 2777370592, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#188968 failed.\n\nstdout:\n```\nAuto-merging addons/pos_loyalty/static/src/overrides/models/data_service_options.js\nCONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/models/data_service_options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 9, 10, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047558, 'issue_id': 2777370592, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#188968 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588620241, 'issue_id': 2777370592, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this forward port of odoo/odoo#188968 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589423637, 'issue_id': 2777370592, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 9, 29, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-09 10:01:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/193026.png)](https://mergebot.odoo.com/odoo/odoo/pull/193026)

fw-bot (Issue Creator) on (2025-01-09 10:01:25 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#188968 failed.

stdout:
```
Auto-merging addons/pos_loyalty/static/src/overrides/models/data_service_options.js
CONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/models/data_service_options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 02:02:47 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#188968 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:06 UTC): @pedrambiria @adgu-odoo this forward port of odoo/odoo#188968 is awaiting action (not merged or closed).

pedrambiria on (2025-01-14 09:29:27 UTC): @robodoo r+

"
