id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2821410965,pull_request,closed,,[FW][FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.

Forward-Port-Of: odoo/odoo#195793
Forward-Port-Of: odoo/odoo#195637",fw-bot,2025-01-30 17:28:19+00:00,[],2025-01-31 21:53:19+00:00,2025-01-31 21:53:19+00:00,https://github.com/odoo/odoo/pull/195873,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625127067, 'issue_id': 2821410965, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195873.png)](https://mergebot.odoo.com/odoo/odoo/pull/195873)', 'created_at': datetime.datetime(2025, 1, 30, 17, 28, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625127096, 'issue_id': 2821410965, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 28, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625239336, 'issue_id': 2821410965, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 18, 16, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:28:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195873.png)](https://mergebot.odoo.com/odoo/odoo/pull/195873)

fw-bot (Issue Creator) on (2025-01-30 17:28:22 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 18:16:12 UTC): @lvsz @Demesmaeker ci/runbot failed on this forward-port PR

"
2821383439,pull_request,closed,,[FW][FIX] mail: display user avatar in push notifications instead of odooBot,"**Current behavior before PR:**

Push notifications displayed the Odoo Bot icon regardless of the actual message author.

**Desired behavior after PR is merged:**

The push notifications now correctly display the avatar of the message author.

Task-[4510479](https://www.odoo.com/odoo/project/1519/tasks/4510479)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195688
Forward-Port-Of: odoo/odoo#195219",fw-bot,2025-01-30 17:14:17+00:00,[],2025-01-31 14:00:14+00:00,2025-01-31 13:50:24+00:00,https://github.com/odoo/odoo/pull/195872,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625094776, 'issue_id': 2821383439, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195872.png)](https://mergebot.odoo.com/odoo/odoo/pull/195872)', 'created_at': datetime.datetime(2025, 1, 30, 17, 14, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625094852, 'issue_id': 2821383439, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn cherrypicking of pull request odoo/odoo#195219 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/out_of_focus_service.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/out_of_focus_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 14, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:14:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195872.png)](https://mergebot.odoo.com/odoo/odoo/pull/195872)

fw-bot (Issue Creator) on (2025-01-30 17:14:20 UTC): @ramh-odoo @alexkuhn cherrypicking of pull request odoo/odoo#195219 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/out_of_focus_service.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/out_of_focus_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821371674,pull_request,closed,,[FW][FIX] web: don't aggregate grouped by fields,"This commit fixes an issue where if the user applies a group by on an aggregatable field (an integer like color_index for example), this field is also registered as an aggregator in the webReadGroup call and this leads to nonsensical results by the orm. After this commit, the group by field is automatically excluded from aggregators so the issue cannot happen.

task-4491839

Forward-Port-Of: odoo/odoo#195733
Forward-Port-Of: odoo/odoo#195623",fw-bot,2025-01-30 17:08:22+00:00,[],2025-01-31 19:07:39+00:00,2025-01-31 19:07:39+00:00,https://github.com/odoo/odoo/pull/195871,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625081708, 'issue_id': 2821371674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195871.png)](https://mergebot.odoo.com/odoo/odoo/pull/195871)', 'created_at': datetime.datetime(2025, 1, 30, 17, 8, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625081733, 'issue_id': 2821371674, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 8, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625153790, 'issue_id': 2821371674, 'author': 'fw-bot', 'body': '@juliusc2066 @jum-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 17, 39, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627545458, 'issue_id': 2821371674, 'author': 'fw-bot', 'body': '@juliusc2066 @jum-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 14, 55, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627545790, 'issue_id': 2821371674, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 55, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:08:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195871.png)](https://mergebot.odoo.com/odoo/odoo/pull/195871)

fw-bot (Issue Creator) on (2025-01-30 17:08:24 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 17:39:09 UTC): @juliusc2066 @jum-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 14:55:48 UTC): @juliusc2066 @jum-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

juliusc2066 on (2025-01-31 14:55:57 UTC): @robodoo r+

"
2821369078,pull_request,closed,,[FW][FIX] account: Show partner limit currency,"The credit limit in the partner form view was missing a currency symbol, leading to ambiguity about whether the limit was in the customer's currency or the company's currency.

Displayed the partner limit in the company currency to avoid confusion.

task-4507336


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195477
Forward-Port-Of: odoo/odoo#194807",fw-bot,2025-01-30 17:07:14+00:00,[],2025-01-31 15:13:33+00:00,2025-01-31 15:13:33+00:00,https://github.com/odoo/odoo/pull/195870,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625078890, 'issue_id': 2821369078, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195870.png)](https://mergebot.odoo.com/odoo/odoo/pull/195870)', 'created_at': datetime.datetime(2025, 1, 30, 17, 7, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625078940, 'issue_id': 2821369078, 'author': 'fw-bot', 'body': '@seifgneedy @hupo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195844\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 7, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135498, 'issue_id': 2821369078, 'author': 'fw-bot', 'body': '@seifgneedy @hupo-odoo this forward port of odoo/odoo#194807 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627209293, 'issue_id': 2821369078, 'author': 'seifgneedy', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 44, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:07:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195870.png)](https://mergebot.odoo.com/odoo/odoo/pull/195870)

fw-bot (Issue Creator) on (2025-01-30 17:07:18 UTC): @seifgneedy @hupo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195844

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:41 UTC): @seifgneedy @hupo-odoo this forward port of odoo/odoo#194807 is awaiting action (not merged or closed).

seifgneedy on (2025-01-31 12:44:04 UTC): @robodoo r+

"
2821368182,pull_request,closed,,[FW][FIX] website: correct carousel controllers options handling,"Since [1], a method was introduced to prevent the ""controllers"" options from being centered when arrows and indicators are displayed. However, it was implemented in the wrong overridden method (computeWidgetState), which cannot update the DOM. Additionally, it failed to account for the preview mode.

This commit resolves these issues.

Steps to reproduce:

- Website - Edit mode
- Drag and drop a ""carousel intro"" snippet onto the page.
- Select the option ""Controllers > Arrows > Hidden.""
- Then select the option ""Controllers > Centered.""
- The controllers are now displayed as centered.
- Hover over the ""Controllers > Arrows"" options and preview a value other than ""Hidden.""
- The preview does not update correctly.

[1]: https://github.com/odoo/odoo/commit/454d743ed631c068b7b0bc72e4fd81b225a5ac52

Related to:
task-4094405

Forward-Port-Of: odoo/odoo#189858",fw-bot,2025-01-30 17:06:56+00:00,[],2025-01-31 08:07:17+00:00,2025-01-31 08:07:17+00:00,https://github.com/odoo/odoo/pull/195869,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625077856, 'issue_id': 2821368182, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195869.png)](https://mergebot.odoo.com/odoo/odoo/pull/195869)', 'created_at': datetime.datetime(2025, 1, 30, 17, 6, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625077880, 'issue_id': 2821368182, 'author': 'fw-bot', 'body': '@SergeBayet @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195841\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 6, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626411021, 'issue_id': 2821368182, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 6, 32, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:06:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195869.png)](https://mergebot.odoo.com/odoo/odoo/pull/195869)

fw-bot (Issue Creator) on (2025-01-30 17:06:58 UTC): @SergeBayet @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195841

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-31 06:32:20 UTC): @robodoo r+

"
2821364171,pull_request,closed,,[FW][FIX] pos_self_order: prevent missing payment step with slow internet,"Before this commit, with a slow internet connection, if a user added an item to the order and pressed the pay button very quickly (before completing the price loading), it would bypass the payment step and directly give the receipt.

opw-4305214

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#186960",fw-bot,2025-01-30 17:05:08+00:00,[],2025-01-31 16:01:19+00:00,2025-01-31 16:01:19+00:00,https://github.com/odoo/odoo/pull/195868,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625073649, 'issue_id': 2821364171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195868.png)](https://mergebot.odoo.com/odoo/odoo/pull/195868)', 'created_at': datetime.datetime(2025, 1, 30, 17, 5, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625073755, 'issue_id': 2821364171, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo cherrypicking of pull request odoo/odoo#186960 failed.\n\nstdout:\n```\nAuto-merging addons/pos_self_order/static/src/app/pages/cart_page/cart_page.js\nCONFLICT (modify/delete): addons/pos_self_order/static/src/app/self_order_service.js deleted in faf5d2470397964d9050fafe7bfe3320a4c29ab2 and modified in c38746c06fa41690054e387c08a944a91affb611.  Version c38746c06fa41690054e387c08a944a91affb611 of addons/pos_self_order/static/src/app/self_order_service.js left in tree.\nAuto-merging addons/pos_self_order/static/tests/tours/self_order_mobile_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 5, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627689933, 'issue_id': 2821364171, 'author': 'pedrambiria', 'body': 'implementation is different', 'created_at': datetime.datetime(2025, 1, 31, 16, 1, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:05:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195868.png)](https://mergebot.odoo.com/odoo/odoo/pull/195868)

fw-bot (Issue Creator) on (2025-01-30 17:05:12 UTC): @pedrambiria @vlst-odoo cherrypicking of pull request odoo/odoo#186960 failed.

stdout:
```
Auto-merging addons/pos_self_order/static/src/app/pages/cart_page/cart_page.js
CONFLICT (modify/delete): addons/pos_self_order/static/src/app/self_order_service.js deleted in faf5d2470397964d9050fafe7bfe3320a4c29ab2 and modified in c38746c06fa41690054e387c08a944a91affb611.  Version c38746c06fa41690054e387c08a944a91affb611 of addons/pos_self_order/static/src/app/self_order_service.js left in tree.
Auto-merging addons/pos_self_order/static/tests/tours/self_order_mobile_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-31 16:01:19 UTC): implementation is different

"
2821360656,pull_request,closed,,[FW][FIX] hr_holidays: restore cancelled in domain,"In https://github.com/odoo/odoo/pull/127877, the active field was removed and replaced with state: cancel. This domain was modified but removed the check for the cancelled state.

opw-4420347

Forward-Port-Of: odoo/odoo#195078
Forward-Port-Of: odoo/odoo#194600",fw-bot,2025-01-30 17:03:40+00:00,[],2025-01-31 13:50:11+00:00,2025-01-31 13:50:11+00:00,https://github.com/odoo/odoo/pull/195867,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625069815, 'issue_id': 2821360656, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195867.png)](https://mergebot.odoo.com/odoo/odoo/pull/195867)', 'created_at': datetime.datetime(2025, 1, 30, 17, 3, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625069849, 'issue_id': 2821360656, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 3, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:03:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195867.png)](https://mergebot.odoo.com/odoo/odoo/pull/195867)

fw-bot (Issue Creator) on (2025-01-30 17:03:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821356760,pull_request,open,,[FW][FIX] website: allow publishing without relying on Restricted Editor,"Before this commit all systray items of website were hidden for users that did not have the Restricted Editor right.

This commit limits only some of the items to users having the Restricted Editor right:
- Published: unrelated
- Mobile preview: unrelated
- Website switcher: unrelated
- + New: Restricted Editor only
- Edit in backend: unrelated
- Translate: Restricted Editor only
- Edit: Restricted Editor only

It therefore now shows the Published button only based on the result of the `_compute_can_publish` method of the `website.published.mixin`. The default implementation now checks whether the user has write access to the `website_published` field on the record.

Steps to reproduce:
- Install `website_crm_partner_assign`.
- Connect as a user without any Website role, and in Sales, the ""User: Own Documents Only"" role.
- Go to a partner in the `/partners` page. => ""Published"" button did not appear.

And on the contrary:
- Connect as a Restricted Editor user without Sales rights.
- Go to a partner in the `/partners` page.
- Click on ""Published"". => An access right error notification did appear.

task-3175890

Forward-Port-Of: odoo/odoo#112421",fw-bot,2025-01-30 17:01:53+00:00,[],2025-02-05 12:51:03+00:00,,https://github.com/odoo/odoo/pull/195866,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625065672, 'issue_id': 2821356760, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195866.png)](https://mergebot.odoo.com/odoo/odoo/pull/195866)', 'created_at': datetime.datetime(2025, 1, 30, 17, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625065700, 'issue_id': 2821356760, 'author': 'fw-bot', 'body': '@bso-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#112421 failed.\n\n* 7630b422deba57fcdd2dae03d4b5ffd079c9c733 <- on this commit\n* 8f599802bdeb06427ea8cc06c268616b6cff15a1\n* 2dccaae4e21cf7f207d8218dce25048530c1c4bc\n\nstdout:\n```\nAuto-merging addons/website/models/mixins.py\nAuto-merging addons/website/models/website_page.py\nAuto-merging addons/website/static/src/components/navbar/navbar.js\nCONFLICT (content): Merge conflict in addons/website/static/src/components/navbar/navbar.js\nAuto-merging addons/website/static/src/systray_items/edit_website.js\nAuto-merging addons/website/static/src/systray_items/mobile_preview.js\nAuto-merging addons/website/static/src/systray_items/new_content.js\nAuto-merging addons/website/static/src/systray_items/translate_website.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 1, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625071690, 'issue_id': 2821356760, 'author': 'qsm-odoo', 'body': '@bso-odoo Should I let you adapt ?', 'created_at': datetime.datetime(2025, 1, 30, 17, 4, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629731177, 'issue_id': 2821356760, 'author': 'fw-bot', 'body': '@bso-odoo @qsm-odoo this forward port of odoo/odoo#112421 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:01:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195866.png)](https://mergebot.odoo.com/odoo/odoo/pull/195866)

fw-bot (Issue Creator) on (2025-01-30 17:01:55 UTC): @bso-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#112421 failed.

* 7630b422deba57fcdd2dae03d4b5ffd079c9c733 <- on this commit
* 8f599802bdeb06427ea8cc06c268616b6cff15a1
* 2dccaae4e21cf7f207d8218dce25048530c1c4bc

stdout:
```
Auto-merging addons/website/models/mixins.py
Auto-merging addons/website/models/website_page.py
Auto-merging addons/website/static/src/components/navbar/navbar.js
CONFLICT (content): Merge conflict in addons/website/static/src/components/navbar/navbar.js
Auto-merging addons/website/static/src/systray_items/edit_website.js
Auto-merging addons/website/static/src/systray_items/mobile_preview.js
Auto-merging addons/website/static/src/systray_items/new_content.js
Auto-merging addons/website/static/src/systray_items/translate_website.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qsm-odoo on (2025-01-30 17:04:22 UTC): @bso-odoo Should I let you adapt ?

fw-bot (Issue Creator) on (2025-02-03 02:03:27 UTC): @bso-odoo @qsm-odoo this forward port of odoo/odoo#112421 is awaiting action (not merged or closed).

"
2821353539,pull_request,closed,,[FW][FIX] website_google_map: map zoom issue on locationless partners,"The World Map view when you are on the ""/partners"" page doesn't zoom.
This happens when any of the partners that are getting rendered doesn't
have a location (longitude and latitude).

Geocoder is then used to locate those addresses on the map.
We use Promises, and when there is an error, we're not catching it
where we are calling it from. The failed Geocode triggers the reject,
which is not caught, and we're stuck in the await Promise. The zoom-in
line never gets called.

Steps to Reproduce on Runbot:

Integrate the Google Place Map key via
Settings -> Geolocation -> Google Place Map.
Go to ""/partners.""
Toggle on the world map view for the page via the editor.
Ensure one partner on the page lacks a location.
Go to the ""map"" view, and the map will not zoom in.

opw-4319619

Forward-Port-Of: odoo/odoo#189518",fw-bot,2025-01-30 17:00:22+00:00,[],2025-01-31 08:07:52+00:00,2025-01-31 05:39:21+00:00,https://github.com/odoo/odoo/pull/195865,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625062269, 'issue_id': 2821353539, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195865.png)](https://mergebot.odoo.com/odoo/odoo/pull/195865)', 'created_at': datetime.datetime(2025, 1, 30, 17, 0, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625062290, 'issue_id': 2821353539, 'author': 'fw-bot', 'body': '@bikh-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195845\n* odoo/odoo#195809\n* odoo/odoo#195774\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 0, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:00:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195865.png)](https://mergebot.odoo.com/odoo/odoo/pull/195865)

fw-bot (Issue Creator) on (2025-01-30 17:00:24 UTC): @bikh-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195845
* odoo/odoo#195809
* odoo/odoo#195774

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821335927,pull_request,open,,[IMP] l10n_es: add Canary Island's CoA,"This commit adds Canary Island CoA from OCA's l10n_es_igic module.

The initial migration was done using the script from: `https://github.com/william-andre/transform_coa`

Along that, we also applied few more things:

- use the english translations in `name` and moved the spanish names in `name@es`
- added auto-apply on canary's fiscal position based on zip codes
- adapt `-100` taxes on some of the taxes in canary
- refactored the template flow

From now on, the flow of the template dependencies will be like the following:

```
  es_canary_common       es_common_mainland
        |                   |
(canary-assoc/full/pymes)  (assec/full/pymes/coop_pymes)
```

task-id: 3354514

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jco-odoo,2025-01-30 16:52:07+00:00,[],2025-02-05 17:05:35+00:00,,https://github.com/odoo/odoo/pull/195864,"[('RD', 'research & development, internal work')]","[{'comment_id': 2625042923, 'issue_id': 2821335927, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195864.png)](https://mergebot.odoo.com/odoo/odoo/pull/195864)', 'created_at': datetime.datetime(2025, 1, 30, 16, 52, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637521194, 'issue_id': 2821335927, 'author': 'pedrobaeza', 'body': '@jco-odoo From https://github.com/OCA/l10n-spain/pull/3993, we are wondering if you are going to continue with this for 18.0, or should we still have these extra modules and wait for 19.0.', 'created_at': datetime.datetime(2025, 2, 5, 17, 5, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:52:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195864.png)](https://mergebot.odoo.com/odoo/odoo/pull/195864)

pedrobaeza on (2025-02-05 17:05:33 UTC): @jco-odoo From https://github.com/OCA/l10n-spain/pull/3993, we are wondering if you are going to continue with this for 18.0, or should we still have these extra modules and wait for 19.0.

"
2821326200,pull_request,closed,,[FW][FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195587
Forward-Port-Of: odoo/odoo#195539",fw-bot,2025-01-30 16:47:40+00:00,[],2025-01-31 11:14:27+00:00,2025-01-31 11:14:27+00:00,https://github.com/odoo/odoo/pull/195863,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625032376, 'issue_id': 2821326200, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195863.png)](https://mergebot.odoo.com/odoo/odoo/pull/195863)', 'created_at': datetime.datetime(2025, 1, 30, 16, 47, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625032404, 'issue_id': 2821326200, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 16, 47, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626013907, 'issue_id': 2821326200, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: ci/runbot on 721f8459b0192d86d3b9ded614c25ee0ebfd7814 (view more at https://runbot.odoo.com/runbot/build/74258091)', 'created_at': datetime.datetime(2025, 1, 31, 0, 28, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626589247, 'issue_id': 2821326200, 'author': 'walidsahli', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 31, 8, 16, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:47:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195863.png)](https://mergebot.odoo.com/odoo/odoo/pull/195863)

fw-bot (Issue Creator) on (2025-01-30 16:47:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-31 00:28:25 UTC): @walidsahli @dmo-odoo staging failed: ci/runbot on 721f8459b0192d86d3b9ded614c25ee0ebfd7814 (view more at https://runbot.odoo.com/runbot/build/74258091)

walidsahli on (2025-01-31 08:16:08 UTC): @robodoo retry

"
2821322320,pull_request,open,,[FIX] mail: no crash from discuss sidebar when ongoing call,"When people were in a discuss call, the following crash may happen when discuss app is open:

```
Cannot read properties of undefined (reading 'persona')
```

This comes from template reading `channel_member.persona`, which can be undefined. Indeed, some flow may return channel member data without persona data, thus the persona is unknown (= undefined) in JS.

This commit fixes the issue by taking into account persona of member that could be missing in the discuss sidebar call participant component.

Task-4533395
",alexkuhn,2025-01-30 16:45:50+00:00,[],2025-02-04 13:03:57+00:00,,https://github.com/odoo/odoo/pull/195862,"[('RD', 'research & development, internal work')]","[{'comment_id': 2625027930, 'issue_id': 2821322320, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195862.png)](https://mergebot.odoo.com/odoo/odoo/pull/195862)', 'created_at': datetime.datetime(2025, 1, 30, 16, 45, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626841198, 'issue_id': 2821322320, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 15, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626919370, 'issue_id': 2821322320, 'author': 'robodoo', 'body': ""@alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 10, 53, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633845974, 'issue_id': 2821322320, 'author': 'robodoo', 'body': '@seb-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 4, 13, 3, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:45:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195862.png)](https://mergebot.odoo.com/odoo/odoo/pull/195862)

tsm-odoo on (2025-01-31 10:15:06 UTC): @robodoo r+

robodoo on (2025-01-31 10:53:38 UTC): @alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-04 13:03:56 UTC): @seb-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2821321749,pull_request,closed,,[FW][FIX] website_sale: resolve product reorder issue in shop editor,"**Steps to Reproduce:**
- Navigate to /shop .
- Open editor mode and select a product.
- Use the reorder widget from the editor panel to change the product's position.
- Notice the product jumps 2 positions instead of 1 when reordered.

**Issue:**
- Two products, 'Warranty' and 'Chair Floor Protection', have the same website_sequence. This causes the reorder logic to malfunction, making products jump 2 positions when one is placed in front or behind these two.

**Fix:**
- Updated the website_sequence of conflicting products to ensure all products have unique values.

**Affected Versions:** 16.0~master
opw-4150099

Forward-Port-Of: odoo/odoo#191297",fw-bot,2025-01-30 16:45:35+00:00,[],2025-01-31 12:04:13+00:00,2025-01-31 12:04:13+00:00,https://github.com/odoo/odoo/pull/195861,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625027146, 'issue_id': 2821321749, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195861.png)](https://mergebot.odoo.com/odoo/odoo/pull/195861)', 'created_at': datetime.datetime(2025, 1, 30, 16, 45, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625027162, 'issue_id': 2821321749, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 16, 45, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625186979, 'issue_id': 2821321749, 'author': 'fw-bot', 'body': '@mash-odoo @Feyensv the next pull request (odoo/odoo#195880) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 52, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626822806, 'issue_id': 2821321749, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 6, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:45:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195861.png)](https://mergebot.odoo.com/odoo/odoo/pull/195861)

fw-bot (Issue Creator) on (2025-01-30 16:45:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 17:52:14 UTC): @mash-odoo @Feyensv the next pull request (odoo/odoo#195880) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-31 10:06:16 UTC): @robodoo r+

"
2821272684,pull_request,closed,,[FIX] hr_skills: fix non-derministic error in skills tour,"Before this commit, `hr_skills_tour` used to randomly break in the runbot. The main issue is that it doesn't wait for the new skill to be added before trying to save the form.

This commit adds an extra trigger to make sure the skill is added before attempting to save.

Runbot Error: https://runbot.odoo.com/odoo/action-573/64575



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",khah-odoo,2025-01-30 16:26:42+00:00,[],2025-02-07 10:51:00+00:00,2025-02-07 10:51:00+00:00,https://github.com/odoo/odoo/pull/195860,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624969432, 'issue_id': 2821272684, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195860.png)](https://mergebot.odoo.com/odoo/odoo/pull/195860)', 'created_at': datetime.datetime(2025, 1, 30, 16, 26, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:26:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195860.png)](https://mergebot.odoo.com/odoo/odoo/pull/195860)

"
2821267279,pull_request,closed,,[FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)",bvr-odoo,2025-01-30 16:24:18+00:00,[],2025-02-03 09:45:28+00:00,2025-01-31 17:01:15+00:00,https://github.com/odoo/odoo/pull/195859,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624963169, 'issue_id': 2821267279, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195859.png)](https://mergebot.odoo.com/odoo/odoo/pull/195859)', 'created_at': datetime.datetime(2025, 1, 30, 16, 24, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:24:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195859.png)](https://mergebot.odoo.com/odoo/odoo/pull/195859)

"
2821258849,pull_request,closed,,[FW][FIX] base: prevent branding on wrapped nodes identified by xpath($0),"The $0 placeholder in templates is highly useful, but it is not considered when saving a view. For instance, the search icon in the shop search bar has an incorrect xpath:
`/data/xpath[3]/form/t[1]/div[1]/button[1]/i[1]`, where the inner `t[1]` actually points to another view through a `<t>$0</t>` containing the inherited view.

The method responsible for handling this replacement fails when the element is editable, causing a crash.

This commit ensures that when an xpath jumps to another template, it disallows the branding.

task-3609835

Forward-Port-Of: odoo/odoo#187760",fw-bot,2025-01-30 16:20:33+00:00,[],2025-01-31 08:44:03+00:00,2025-01-31 08:44:03+00:00,https://github.com/odoo/odoo/pull/195858,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624953487, 'issue_id': 2821258849, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195858.png)](https://mergebot.odoo.com/odoo/odoo/pull/195858)', 'created_at': datetime.datetime(2025, 1, 30, 16, 20, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624953505, 'issue_id': 2821258849, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 16, 20, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626461698, 'issue_id': 2821258849, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/runbot on c8f9f25d241d5304d35718f4c73d1a9154273165 (view more at https://runbot.odoo.com/runbot/build/74262052)', 'created_at': datetime.datetime(2025, 1, 31, 7, 14, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626473464, 'issue_id': 2821258849, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 1, 31, 7, 24, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:20:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195858.png)](https://mergebot.odoo.com/odoo/odoo/pull/195858)

fw-bot (Issue Creator) on (2025-01-30 16:20:36 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-31 07:14:50 UTC): @SergeBayet @qsm-odoo staging failed: ci/runbot on c8f9f25d241d5304d35718f4c73d1a9154273165 (view more at https://runbot.odoo.com/runbot/build/74262052)

d-fence on (2025-01-31 07:24:30 UTC): robodoo retry
(failing test deactivated)

"
2821241666,pull_request,open,,[FIX] website_sale: use correct limit when filtering newest products,"Versions
--------
- saas-17.4+

Steps
-----
1. Create a new product with a lot of variants;
2. publish it to the website;
3. edit the website home page to add a product carousel;
4. set it to display newest products & hide variants.

Issue
-----
Fewer than 16 products are displayed in the carousel.

Cause
-----
Unlike the other product filters handled in https://github.com/odoo/odoo/pull/189040, the ""Newest Products"" filter is defined in `data/data.xml`, and stored as a record.

This means it doesn't use the `_get_products` method to perform the search, instead using the `_prepare_values` method from the `website` module.

For obvious reasons, the method defined in `website` doesn't take the `hide_variants` parameter into account to get the correct amount of search results: https://github.com/odoo/odoo/blob/0f64298c871ffea088a4fe6255d19852c8348159/addons/website/models/website_snippet_filter.py#L102-L108
Instead it passes 16 `product.product` records to the `_filter_records_to_values` override in `website_sale`, where duplicate templates are filtered out, resulting in fewer than 16 product templates: https://github.com/odoo/odoo/blob/0f64298c871ffea088a4fe6255d19852c8348159/addons/website_sale/models/website_snippet_filter.py#L73-L76

Solution
--------
When calling `super()._prepare_values` for stored `product.product` filters, temporarily square the usual limit for the search, and filter reduce to size later.

This may still be inadequate when working with products with dozens of variants, but should cover most normal use cases without requiring drastic changes to filter templates or search domain in stable.

On master, we could add a new filter specifically for `product.template`.

opw-4302856",lvsz,2025-01-30 16:12:42+00:00,[],2025-02-07 19:10:49+00:00,,https://github.com/odoo/odoo/pull/195857,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624933811, 'issue_id': 2821241666, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195857.png)](https://mergebot.odoo.com/odoo/odoo/pull/195857)', 'created_at': datetime.datetime(2025, 1, 30, 16, 12, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:12:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195857.png)](https://mergebot.odoo.com/odoo/odoo/pull/195857)

"
2821241386,pull_request,closed,,[FIX] website_event_track: Ignore colorless tags on the proposal form,"Colorless tags are always hidden in the frontend interface, this allows
to manage them in backend without showing them.

Since there's no filter on the `websiteEventTrackProposalFormTags` widget,
those tags were still selectable from the website, resulting in the
following issues:
- Adding useless noise in the selection.
- Letting users select tags that are not intended to be selected.
- Users could also wrongly select a tag instead of the intended one.",arbaes,2025-01-30 16:12:34+00:00,[],2025-01-31 19:07:37+00:00,2025-01-31 19:07:37+00:00,https://github.com/odoo/odoo/pull/195856,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624933510, 'issue_id': 2821241386, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195856.png)](https://mergebot.odoo.com/odoo/odoo/pull/195856)', 'created_at': datetime.datetime(2025, 1, 30, 16, 12, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626764489, 'issue_id': 2821241386, 'author': 'reth-odoo', 'body': 'Or actually maybe you can add a short explanation in the commit message instead of ""FP Request"". Even though it\'s a universal master-key justification, I know.', 'created_at': datetime.datetime(2025, 1, 31, 9, 38, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626985615, 'issue_id': 2821241386, 'author': 'arbaes', 'body': 'I updated my commit message, hopefully it make things a bit clearer :crossed_fingers:', 'created_at': datetime.datetime(2025, 1, 31, 11, 29, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627001595, 'issue_id': 2821241386, 'author': 'reth-odoo', 'body': ""Sure, let's go with that\r\n\r\n@jeh-odoo ?\r\nRemoving invisible, unfilterable tags from talk proposal selection in the website\r\n#fprequest but it also just seems to make sense ^^"", 'created_at': datetime.datetime(2025, 1, 31, 11, 38, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627473135, 'issue_id': 2821241386, 'author': 'jeh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 22, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 16:12:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195856.png)](https://mergebot.odoo.com/odoo/odoo/pull/195856)

reth-odoo on (2025-01-31 09:38:21 UTC): Or actually maybe you can add a short explanation in the commit message instead of ""FP Request"". Even though it's a universal master-key justification, I know.

arbaes (Issue Creator) on (2025-01-31 11:29:16 UTC): I updated my commit message, hopefully it make things a bit clearer :crossed_fingers:

reth-odoo on (2025-01-31 11:38:41 UTC): Sure, let's go with that

@jeh-odoo ?
Removing invisible, unfilterable tags from talk proposal selection in the website
#fprequest but it also just seems to make sense ^^

jeh-odoo on (2025-01-31 14:22:09 UTC): @robodoo r+

"
2821199137,pull_request,closed,,[FW][FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506

Forward-Port-Of: odoo/odoo#195743",fw-bot,2025-01-30 15:54:40+00:00,[],2025-01-31 08:32:31+00:00,2025-01-31 08:32:31+00:00,https://github.com/odoo/odoo/pull/195855,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624885446, 'issue_id': 2821199137, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195855.png)](https://mergebot.odoo.com/odoo/odoo/pull/195855)', 'created_at': datetime.datetime(2025, 1, 30, 15, 54, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624885470, 'issue_id': 2821199137, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#195743 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/snippets.editor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 54, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626403053, 'issue_id': 2821199137, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 6, 25, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626455141, 'issue_id': 2821199137, 'author': 'robodoo', 'body': '@SergeBayet @bvr-odoo staging failed: ci/runbot on 0f2c9cd97866984d0565b003c967a0bf9525cde2 (view more at https://runbot.odoo.com/runbot/build/74261939)', 'created_at': datetime.datetime(2025, 1, 31, 7, 9, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626472658, 'issue_id': 2821199137, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 1, 31, 7, 23, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:54:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195855.png)](https://mergebot.odoo.com/odoo/odoo/pull/195855)

fw-bot (Issue Creator) on (2025-01-30 15:54:41 UTC): @SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#195743 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/snippets.editor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-31 06:25:24 UTC): @robodoo r+

robodoo on (2025-01-31 07:09:06 UTC): @SergeBayet @bvr-odoo staging failed: ci/runbot on 0f2c9cd97866984d0565b003c967a0bf9525cde2 (view more at https://runbot.odoo.com/runbot/build/74261939)

d-fence on (2025-01-31 07:23:56 UTC): robodoo retry
(failing test deactivated)

"
2821198352,pull_request,closed,,[FW] 16.0 fix cannot drop search block in dutch bvr,"Since the class `s_searchbar_input` was translated into Dutch by a
translator on Transifex.
<sub>See screenshot of the Website `nl.po` file </sub>↓
<kbd>![image](https://github.com/user-attachments/assets/053f084b-30cf-42d3-9c13-7387b777b88f)</kbd>

It is no longer possible to drop the searchbar
block onto a webpage when Odoo's language is set to Dutch.

In this PR, we add `t-translation=""off""` in the xpath that adds
this class to the list of droppable element selectors, so it won't be
translated anymore. We also do the same for other xpath-ed classes that
don’t have `t-translation=""off""`, to prevent the same issue elsewhere.

Since the class is already translated in the existing databases, in
stable versions, we add the class a second time to the list of droppable
element selectors. This second class won't be translated, which will fix
the issue for Dutch users.

[opw-4461785](https://www.odoo.com/web#id=4461785&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

-----------
Note: This PR also fix 2 minor bugs:
- The text on the button to install a block overflows when translated into certain languages that make it longer.
<kbd>![image](https://github.com/user-attachments/assets/0532c186-c081-4e95-a853-1873e50005ff)</kbd>
- The `Embed code` block ""Click on Edit..."" message is not visible on dark background.
<kbd>![image](https://github.com/user-attachments/assets/16510ffb-7a2e-4eaa-b5f7-40f0e9d9a943)</kbd>

Forward-Port-Of: odoo/odoo#193819",fw-bot,2025-01-30 15:54:21+00:00,[],2025-01-31 16:56:46+00:00,2025-01-31 16:56:46+00:00,https://github.com/odoo/odoo/pull/195854,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624884639, 'issue_id': 2821198352, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195854.png)](https://mergebot.odoo.com/odoo/odoo/pull/195854)', 'created_at': datetime.datetime(2025, 1, 30, 15, 54, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624884663, 'issue_id': 2821198352, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.\n\n* 372a02cbb7f19fe6936b2045423f3a9f20ef6a23\n* 591ef770f1189726e3846d2a34f04a7aa91d9df7\n* 9f11dc2de53fa88166a85cc3c7cf84f2b369704b <- on this commit\n\nstdout:\n```\nAuto-merging addons/website/i18n/nl.po\nCONFLICT (content): Merge conflict in addons/website/i18n/nl.po\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/views/snippets/s_website_form.xml\nAuto-merging addons/website_mass_mailing/views/snippets_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 54, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627133986, 'issue_id': 2821198352, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 30, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:54:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195854.png)](https://mergebot.odoo.com/odoo/odoo/pull/195854)

fw-bot (Issue Creator) on (2025-01-30 15:54:23 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.

* 372a02cbb7f19fe6936b2045423f3a9f20ef6a23
* 591ef770f1189726e3846d2a34f04a7aa91d9df7
* 9f11dc2de53fa88166a85cc3c7cf84f2b369704b <- on this commit

stdout:
```
Auto-merging addons/website/i18n/nl.po
CONFLICT (content): Merge conflict in addons/website/i18n/nl.po
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/views/snippets/s_website_form.xml
Auto-merging addons/website_mass_mailing/views/snippets_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-01-31 12:30:02 UTC): @robodoo r+

"
2821197270,pull_request,closed,,[FW][FIX] website: facebook snippet visibility on mobile,"Revert changes from [commit] due to `m.facebook.com` using 'X-Frame-Options' header set to 'deny', which prevented iframe embedding across domains. META has now fixed this issue, so this PR restores the snippet's visibility on mobile devices.

[commit]: https://github.com/odoo/odoo/commit/588f910da03d6284a57c2fab8fd042ef3169666f

task-4507102

Forward-Port-Of: odoo/odoo#194843",fw-bot,2025-01-30 15:54:01+00:00,[],2025-02-01 11:06:40+00:00,2025-02-01 11:06:40+00:00,https://github.com/odoo/odoo/pull/195853,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624883612, 'issue_id': 2821197270, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195853.png)](https://mergebot.odoo.com/odoo/odoo/pull/195853)', 'created_at': datetime.datetime(2025, 1, 30, 15, 54, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624883733, 'issue_id': 2821197270, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194843 failed.\n\nstdout:\n```\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/scss/website.scss\nCONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss\nAuto-merging addons/website/static/src/snippets/s_facebook_page/options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 54, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628884620, 'issue_id': 2821197270, 'author': 'shsa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 9, 59, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:54:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195853.png)](https://mergebot.odoo.com/odoo/odoo/pull/195853)

fw-bot (Issue Creator) on (2025-01-30 15:54:04 UTC): @shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194843 failed.

stdout:
```
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/scss/website.scss
CONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss
Auto-merging addons/website/static/src/snippets/s_facebook_page/options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

shsa-odoo on (2025-02-01 09:59:28 UTC): @robodoo r+

"
2821196417,pull_request,closed,,[FW][FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292

Forward-Port-Of: odoo/odoo#195645",fw-bot,2025-01-30 15:53:38+00:00,[],2025-02-03 19:02:51+00:00,2025-02-03 19:02:51+00:00,https://github.com/odoo/odoo/pull/195852,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624882667, 'issue_id': 2821196417, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195852.png)](https://mergebot.odoo.com/odoo/odoo/pull/195852)', 'created_at': datetime.datetime(2025, 1, 30, 15, 53, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624882704, 'issue_id': 2821196417, 'author': 'fw-bot', 'body': '@agr-odoo cherrypicking of pull request odoo/odoo#195645 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/account_move.py\nCONFLICT (content): Merge conflict in addons/sale/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 53, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728903, 'issue_id': 2821196417, 'author': 'fw-bot', 'body': '@agr-odoo this forward port of odoo/odoo#195645 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631623797, 'issue_id': 2821196417, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 17, 26, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:53:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195852.png)](https://mergebot.odoo.com/odoo/odoo/pull/195852)

fw-bot (Issue Creator) on (2025-01-30 15:53:41 UTC): @agr-odoo cherrypicking of pull request odoo/odoo#195645 failed.

stdout:
```
Auto-merging addons/sale/models/account_move.py
CONFLICT (content): Merge conflict in addons/sale/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:17 UTC): @agr-odoo this forward port of odoo/odoo#195645 is awaiting action (not merged or closed).

agr-odoo on (2025-02-03 17:26:06 UTC): @robodoo r+

"
2821188269,pull_request,closed,,[FW][FIX] account: report builder line sequences,"Issue:
 When using the enterprise version, and configuring an accounting report with the report
 builder, issues might arise when changing the sequence of lines (using the drag and drop feature).
 Combined with the enterprise PR, this commit solves the issue by returning the lines ordered by sequence.

 Enterprise PR: https://github.com/odoo/odoo/pull/187907#pullrequestreview-2581564549

task-4328098
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187907",fw-bot,2025-01-30 15:50:14+00:00,[],2025-01-31 19:07:38+00:00,2025-01-31 19:07:38+00:00,https://github.com/odoo/odoo/pull/195851,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624873390, 'issue_id': 2821188269, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195851.png)](https://mergebot.odoo.com/odoo/odoo/pull/195851)', 'created_at': datetime.datetime(2025, 1, 30, 15, 50, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624873456, 'issue_id': 2821188269, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78218) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 50, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627675508, 'issue_id': 2821188269, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 54, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:50:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195851.png)](https://mergebot.odoo.com/odoo/odoo/pull/195851)

fw-bot (Issue Creator) on (2025-01-30 15:50:18 UTC): @hupo-odoo @oco-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78218) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hupo-odoo on (2025-01-31 15:54:24 UTC): @robodoo r+

"
2821187049,pull_request,closed,,"[FW][FIX] point_of_sale, pos_settle_due: prevent creation of empty orders","Before this commit, depositing money for a customer with a zero balance could result in the creation of an empty order upon refreshing the browser. This issue arose because empty orders without payments were being synchronized, leading to unintended empty orders in the system.

This commit addresses the problem by ensuring that empty orders without payments are not synchronized and prevents the creation of such empty orders during the deposit process.

opw-4483049

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195468",fw-bot,2025-01-30 15:49:44+00:00,[],2025-02-03 16:10:32+00:00,2025-02-03 16:10:32+00:00,https://github.com/odoo/odoo/pull/195850,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624871972, 'issue_id': 2821187049, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195850.png)](https://mergebot.odoo.com/odoo/odoo/pull/195850)', 'created_at': datetime.datetime(2025, 1, 30, 15, 49, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624872023, 'issue_id': 2821187049, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#195468 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/store/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 49, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729150, 'issue_id': 2821187049, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#195468 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631097867, 'issue_id': 2821187049, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 5, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:49:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195850.png)](https://mergebot.odoo.com/odoo/odoo/pull/195850)

fw-bot (Issue Creator) on (2025-01-30 15:49:48 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#195468 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/store/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:29 UTC): @pedrambiria @caburj this forward port of odoo/odoo#195468 is awaiting action (not merged or closed).

pedrambiria on (2025-02-03 14:05:02 UTC): robodoo r+

"
2821185926,pull_request,closed,,[FW][FIX] mail: display user avatar in push notifications instead of odooBot,"**Current behavior before PR:**

Push notifications displayed the Odoo Bot icon regardless of the actual message author.

**Desired behavior after PR is merged:**

The push notifications now correctly display the avatar of the message author.

Task-[4510479](https://www.odoo.com/odoo/project/1519/tasks/4510479)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195688
Forward-Port-Of: odoo/odoo#195219",fw-bot,2025-01-30 15:49:15+00:00,[],2025-02-04 08:00:41+00:00,2025-02-04 07:07:13+00:00,https://github.com/odoo/odoo/pull/195849,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624870594, 'issue_id': 2821185926, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195849.png)](https://mergebot.odoo.com/odoo/odoo/pull/195849)', 'created_at': datetime.datetime(2025, 1, 30, 15, 49, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624870637, 'issue_id': 2821185926, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 49, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624965156, 'issue_id': 2821185926, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 16, 25, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625094802, 'issue_id': 2821185926, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn the next pull request (odoo/odoo#195872) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 14, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201355, 'issue_id': 2821185926, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729425, 'issue_id': 2821185926, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632931579, 'issue_id': 2821185926, 'author': 'ramh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 5, 44, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:49:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195849.png)](https://mergebot.odoo.com/odoo/odoo/pull/195849)

fw-bot (Issue Creator) on (2025-01-30 15:49:17 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:25:08 UTC): @ramh-odoo @alexkuhn ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 17:14:19 UTC): @ramh-odoo @alexkuhn the next pull request (odoo/odoo#195872) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:00:55 UTC): @ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:41 UTC): @ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).

ramh-odoo on (2025-02-04 05:44:40 UTC): @robodoo r+

"
2821185166,pull_request,closed,,[FW][FIX] website: prevent font from reverting after custom font upload,"Steps to reproduce:

1. Go to Website -> Edit -> Theme section.
2. Choose a predefined font family for the paragraph, such as ""Arvo"".
4. Return to the font family dropdown and click on ""Add a Custom Font"".
Notice that the selected font reverts to the ""default/system"" font.

Issue:
The issue occurs because when a predefined ""we-button"" is selected from the dropdown menu(we-button with value i.e. data attributes defined), its value is passed to widgetValue. However, when the ""Add a Custom Font"" button is clicked(which does not have value i.e. data attributes are not defined), the ""we-button"" value changes to an empty string, which is then passed into widgetValue. As a result, it triggers refreshBundle with the empty string and resets to the default value.

Solution:
This PR ensures that `_refreshBundles` is not triggered until the widgetValue has a valid (non-empty) value. This prevents the font from being reverted to the default.

task-4373983

Forward-Port-Of: odoo/odoo#190329",fw-bot,2025-01-30 15:48:56+00:00,[],2025-02-03 09:48:37+00:00,2025-01-31 17:45:38+00:00,https://github.com/odoo/odoo/pull/195848,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624869691, 'issue_id': 2821185166, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195848.png)](https://mergebot.odoo.com/odoo/odoo/pull/195848)', 'created_at': datetime.datetime(2025, 1, 30, 15, 48, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624869716, 'issue_id': 2821185166, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 48, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624935750, 'issue_id': 2821185166, 'author': 'fw-bot', 'body': '@paru-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 16, 13, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624992133, 'issue_id': 2821185166, 'author': 'qsm-odoo', 'body': '@paru-odoo Tour adaptation needed here', 'created_at': datetime.datetime(2025, 1, 30, 16, 35, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626346717, 'issue_id': 2821185166, 'author': 'fw-bot', 'body': '@paru-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 5, 37, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626619513, 'issue_id': 2821185166, 'author': 'paru-odoo', 'body': 'Hello @qsm-odoo I have adapted the changes in tour.', 'created_at': datetime.datetime(2025, 1, 31, 8, 23, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:48:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195848.png)](https://mergebot.odoo.com/odoo/odoo/pull/195848)

fw-bot (Issue Creator) on (2025-01-30 15:48:58 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:13:32 UTC): @paru-odoo @qsm-odoo ci/runbot failed on this forward-port PR

qsm-odoo on (2025-01-30 16:35:48 UTC): @paru-odoo Tour adaptation needed here

fw-bot (Issue Creator) on (2025-01-31 05:37:12 UTC): @paru-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

paru-odoo on (2025-01-31 08:23:41 UTC): Hello @qsm-odoo I have adapted the changes in tour.

"
2821183832,pull_request,open,,[IMP] account - account move view,"Does not show sections and notes in journal items tab.

task-4517560

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rugo-odoo,2025-01-30 15:48:22+00:00,[],2025-02-07 09:47:26+00:00,,https://github.com/odoo/odoo/pull/195847,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624869413, 'issue_id': 2821183832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195847.png)](https://mergebot.odoo.com/odoo/odoo/pull/195847)', 'created_at': datetime.datetime(2025, 1, 30, 15, 48, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:48:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195847.png)](https://mergebot.odoo.com/odoo/odoo/pull/195847)

"
2821183727,pull_request,closed,,[FW][FIX] hr_holidays: restore cancelled in domain,"In https://github.com/odoo/odoo/pull/127877, the active field was removed and replaced with state: cancel. This domain was modified but removed the check for the cancelled state.

opw-4420347

Forward-Port-Of: odoo/odoo#195078
Forward-Port-Of: odoo/odoo#194600",fw-bot,2025-01-30 15:48:19+00:00,[],2025-01-31 17:45:39+00:00,2025-01-31 17:45:39+00:00,https://github.com/odoo/odoo/pull/195846,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624869342, 'issue_id': 2821183727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195846.png)](https://mergebot.odoo.com/odoo/odoo/pull/195846)', 'created_at': datetime.datetime(2025, 1, 30, 15, 48, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624869369, 'issue_id': 2821183727, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 48, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:48:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195846.png)](https://mergebot.odoo.com/odoo/odoo/pull/195846)

fw-bot (Issue Creator) on (2025-01-30 15:48:50 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821178435,pull_request,closed,,[FW][FIX] website_google_map: map zoom issue on locationless partners,"The World Map view when you are on the ""/partners"" page doesn't zoom.
This happens when any of the partners that are getting rendered doesn't
have a location (longitude and latitude).

Geocoder is then used to locate those addresses on the map.
We use Promises, and when there is an error, we're not catching it
where we are calling it from. The failed Geocode triggers the reject,
which is not caught, and we're stuck in the await Promise. The zoom-in
line never gets called.

Steps to Reproduce on Runbot:

Integrate the Google Place Map key via
Settings -> Geolocation -> Google Place Map.
Go to ""/partners.""
Toggle on the world map view for the page via the editor.
Ensure one partner on the page lacks a location.
Go to the ""map"" view, and the map will not zoom in.

opw-4319619

Forward-Port-Of: odoo/odoo#189518",fw-bot,2025-01-30 15:46:06+00:00,[],2025-01-30 19:02:06+00:00,2025-01-30 19:02:06+00:00,https://github.com/odoo/odoo/pull/195845,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624861479, 'issue_id': 2821178435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195845.png)](https://mergebot.odoo.com/odoo/odoo/pull/195845)', 'created_at': datetime.datetime(2025, 1, 30, 15, 46, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624861504, 'issue_id': 2821178435, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 46, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:46:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195845.png)](https://mergebot.odoo.com/odoo/odoo/pull/195845)

fw-bot (Issue Creator) on (2025-01-30 15:46:08 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821177241,pull_request,closed,,[FW][FIX] account: Show partner limit currency,"The credit limit in the partner form view was missing a currency symbol, leading to ambiguity about whether the limit was in the customer's currency or the company's currency.

Displayed the partner limit in the company currency to avoid confusion.

task-4507336


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195477
Forward-Port-Of: odoo/odoo#194807",fw-bot,2025-01-30 15:45:36+00:00,[],2025-01-31 15:10:52+00:00,2025-01-31 15:10:52+00:00,https://github.com/odoo/odoo/pull/195844,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624860054, 'issue_id': 2821177241, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195844.png)](https://mergebot.odoo.com/odoo/odoo/pull/195844)', 'created_at': datetime.datetime(2025, 1, 30, 15, 45, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624860087, 'issue_id': 2821177241, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 45, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:45:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195844.png)](https://mergebot.odoo.com/odoo/odoo/pull/195844)

fw-bot (Issue Creator) on (2025-01-30 15:45:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821177079,pull_request,open,,[FIX] pos_restaurant: transfer preparation change,"When trasnsfering/merging order with some preparation changes, the preparation changes are not correctly transferred to the new order.

Steps to reproduce:
-------------------
* Setup a restaurant with a kitchen printer
* Open PoS restaurant
* Open table 1 add any product and send it to kitchen
* Open table 2 add the same product and send it to kitchen
* Merge table 1 and table 2
> Observation: The preparation change are printed again

Why the fix:
------------
The issue is that the preparation change were not transferred to the new order. This was causing the preparation change to be printed again. I identified 6 use cases to test :
- Transfer sent product on table with same product sent
- Transfer sent product on table with same product not sent
- Transfer sent product on table without the same product
- Transfer not sent product on table with same product not sent
- Transfer not sent product on table with same product sent
- Transfer not sent product on table without the same product

https://github.com/odoo/odoo/blob/948c36a7d8706126dce3f43e9f074d16c10d3395/addons/point_of_sale/static/src/app/models/utils/order_change.js#L16-L18
We need to make sure to ignore changes that have exactly 0 quantity

https://github.com/odoo-dev/odoo/blob/948c36a7d8706126dce3f43e9f074d16c10d3395/addons/pos_restaurant/static/src/overrides/models/pos_store.js#L335

Here we need to make sure that the order are synchronised. This is not really needed for real use, but in the tour it was not working because it was going too fast
opw-4462713",robinengels,2025-01-30 15:45:32+00:00,[],2025-01-30 16:00:24+00:00,,https://github.com/odoo/odoo/pull/195843,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624859933, 'issue_id': 2821177079, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195843.png)](https://mergebot.odoo.com/odoo/odoo/pull/195843)', 'created_at': datetime.datetime(2025, 1, 30, 15, 45, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:45:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195843.png)](https://mergebot.odoo.com/odoo/odoo/pull/195843)

"
2821176487,pull_request,closed,,[FW][FIX] account: error when downloading pdf of a draft invoice,"Steps to reproduce the error:
- Create a new invoice. Don't confirm it.
- Go to list view of invoices.
- Select that invoice > Download > PDF

Traceback: ""AttributeError: 'bool' object has no attribute 'replace'""

`_get_move_display_name` can be used instead as it already handles draft invoices.

sentry-6191644587

Forward-Port-Of: odoo/odoo#194866",fw-bot,2025-01-30 15:45:17+00:00,[],2025-01-31 19:53:48+00:00,2025-01-31 19:53:48+00:00,https://github.com/odoo/odoo/pull/195842,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624859170, 'issue_id': 2821176487, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195842.png)](https://mergebot.odoo.com/odoo/odoo/pull/195842)', 'created_at': datetime.datetime(2025, 1, 30, 15, 45, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624859212, 'issue_id': 2821176487, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 45, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624961227, 'issue_id': 2821176487, 'author': 'fw-bot', 'body': '@alialfie @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 16, 23, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:45:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195842.png)](https://mergebot.odoo.com/odoo/odoo/pull/195842)

fw-bot (Issue Creator) on (2025-01-30 15:45:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:23:35 UTC): @alialfie @smetl ci/runbot failed on this forward-port PR

"
2821175645,pull_request,closed,,[FW][FIX] website: correct carousel controllers options handling,"Since [1], a method was introduced to prevent the ""controllers"" options from being centered when arrows and indicators are displayed. However, it was implemented in the wrong overridden method (computeWidgetState), which cannot update the DOM. Additionally, it failed to account for the preview mode.

This commit resolves these issues.

Steps to reproduce:

- Website - Edit mode
- Drag and drop a ""carousel intro"" snippet onto the page.
- Select the option ""Controllers > Arrows > Hidden.""
- Then select the option ""Controllers > Centered.""
- The controllers are now displayed as centered.
- Hover over the ""Controllers > Arrows"" options and preview a value other than ""Hidden.""
- The preview does not update correctly.

[1]: https://github.com/odoo/odoo/commit/454d743ed631c068b7b0bc72e4fd81b225a5ac52

Related to:
task-4094405

Forward-Port-Of: odoo/odoo#189858",fw-bot,2025-01-30 15:44:55+00:00,[],2025-01-31 09:22:44+00:00,2025-01-31 09:22:44+00:00,https://github.com/odoo/odoo/pull/195841,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624858162, 'issue_id': 2821175645, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195841.png)](https://mergebot.odoo.com/odoo/odoo/pull/195841)', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624858193, 'issue_id': 2821175645, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:44:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195841.png)](https://mergebot.odoo.com/odoo/odoo/pull/195841)

fw-bot (Issue Creator) on (2025-01-30 15:44:57 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821174958,pull_request,closed,,[FW][FIX] stock: clean context before scrap validation,"Steps to reproduce the bug:
- Create a storable product “P1”:
    - UoM: g
- Go to inventory > operation > Scrap:
    - Create a new one: - product: P1 - UoM: KG - Quantity: 1

- Validate the scrap
- A wizard is triggered indicating insufficient stock quantity.
- validate it

Problem:
The quantity in the scrap is updated to 1000 kg, and the related move is created with a quantity of 1000 kg.

opw-4485849

Forward-Port-Of: odoo/odoo#195748
Forward-Port-Of: odoo/odoo#194012",fw-bot,2025-01-30 15:44:37+00:00,[],2025-01-31 16:22:37+00:00,2025-01-31 16:22:37+00:00,https://github.com/odoo/odoo/pull/195840,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624857313, 'issue_id': 2821174958, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195840.png)](https://mergebot.odoo.com/odoo/odoo/pull/195840)', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624857338, 'issue_id': 2821174958, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624977693, 'issue_id': 2821174958, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 16, 29, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627261583, 'issue_id': 2821174958, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 12, 57, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627517653, 'issue_id': 2821174958, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 43, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:44:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195840.png)](https://mergebot.odoo.com/odoo/odoo/pull/195840)

fw-bot (Issue Creator) on (2025-01-30 15:44:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:29:56 UTC): @DjamelTouati @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 12:57:56 UTC): @DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-01-31 14:43:06 UTC): robodoo r+

"
2821174246,pull_request,closed,,[FW][FIX] stock: cancel move upstream,"Currently the different documents are responsible on the move's cancelation. E.g. cancel a SO will delete all the pickings with the same procurement group. Cancel a PO will cancel the receipt an all the moves destination.

But in inter company transaction or inter warehouse. The source document is a stock.move directly (or a rr but it's already unlink) Some users delete the receipt from another warehouse but the delivery on the other still exists. So it let pickings that are never cancel in other companies/warehouses.

This commit and an option to allow the cancel propagate upstream. It's hidden under the `stock.cancel_moves_origin` system parameter in order to avoid a huge behavior modification for other users.

opw-3274939

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195575
Forward-Port-Of: odoo/odoo#186730",fw-bot,2025-01-30 15:44:18+00:00,[],2025-02-05 20:37:26+00:00,2025-02-05 20:37:26+00:00,https://github.com/odoo/odoo/pull/195839,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624856470, 'issue_id': 2821174246, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195839.png)](https://mergebot.odoo.com/odoo/odoo/pull/195839)', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624856494, 'issue_id': 2821174246, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624945916, 'issue_id': 2821174246, 'author': 'fw-bot', 'body': '@amoyaux @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 16, 17, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:44:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195839.png)](https://mergebot.odoo.com/odoo/odoo/pull/195839)

fw-bot (Issue Creator) on (2025-01-30 15:44:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:17:35 UTC): @amoyaux @Whenrow ci/runbot failed on this forward-port PR

"
2821172677,pull_request,closed,,[FW][FIX] mrp: compute correctly bom cost in MO overview,"Steps to reproduce the bug:
- Create a workcenter “WC1”:
    - Cost by hour: 60
    - Setup time: 10 min
    - Cleanup time: 10 min
    - Time Efficiency: 85

- Create a storable product “P1” with the following BoM:
    - Operation: OP1 -> 60 min in WC1

- Create a MO to produce one unit of P1:
    - Confirm the MO
    - Go to the MO overview

Problem:
Time Efficiency, setup, and cleanup times are not taken into account in
the BoM Cost calculation.
The calculation should be the same as in the BoM overview. The purpose
of the BoM cost in the MO overview is to provide information for
comparison with the real cost, in case the user has modified certain
parameters during production.

Attention: There may be a slight difference in the calculation of
""mo_cost"" and ""bom_cost"" because the expected duration is rounded to
two digits in the work order. This affects the mo_cost calculation
since it relies directly on this field,


opw-4478070

Forward-Port-Of: odoo/odoo#195493",fw-bot,2025-01-30 15:43:37+00:00,[],2025-01-31 16:22:42+00:00,2025-01-31 16:22:42+00:00,https://github.com/odoo/odoo/pull/195838,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624856054, 'issue_id': 2821172677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195838.png)](https://mergebot.odoo.com/odoo/odoo/pull/195838)', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624856081, 'issue_id': 2821172677, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624936166, 'issue_id': 2821172677, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 16, 13, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627279946, 'issue_id': 2821172677, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627517927, 'issue_id': 2821172677, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 43, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:44:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195838.png)](https://mergebot.odoo.com/odoo/odoo/pull/195838)

fw-bot (Issue Creator) on (2025-01-30 15:44:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:13:42 UTC): @DjamelTouati @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 13:03:32 UTC): @DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-01-31 14:43:14 UTC): robodoo r+

"
2821172207,pull_request,closed,,[FIX] account: fix propagation of tax tags,"**Steps to reproduce:**
- Install Accounting
- Create a tax with the following configuration:
  * Tax Type: Purchases (also reproducible with Sales)
  * Included in Price: [any]
  * Affect Base of Subsequent Taxes (include_base_amount): [checked]
  * Base Affected by Previous Taxes (is_base_affected): [checked]
  * Distribution:
      |  %   | Based On |  Account  |   Tax Grids |
      | ------ | ------------- | ------------ | -------------- |
      |      |   Base   |           | +Tag_1  +Tag_2 |
     | 100.00 |  of tax  | Account X | +Tag_3 |
     | -100.00 |  of tax  | Account Y | -Tag_4 |

(Or FR localization and ""20% EU G"" purchase tax can be used)
- Create a bill
- Add a line with the created tax
- Check journal items

**Issue:**
The tax tags of the base line are also added to first tax line.

**Cause:**
When a tax is ""include_base_amount"", the tags of its base line is propagated to the tax lines of the following taxes. However in this case, as there are several tax lines for the same tax, the system propagate the tags to the second one as if it was coming from another tax.

**Solution:**
Check if the tags are coming from another tax before adding them.


opw-4510882




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-30 15:43:25+00:00,[],2025-02-06 17:59:21+00:00,2025-02-06 17:59:21+00:00,https://github.com/odoo/odoo/pull/195837,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624855977, 'issue_id': 2821172207, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195837.png)](https://mergebot.odoo.com/odoo/odoo/pull/195837)', 'created_at': datetime.datetime(2025, 1, 30, 15, 44, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633106164, 'issue_id': 2821172207, 'author': 'kitan191', 'body': ""@smetl Thanks for the review.\r\n\r\nI've updated the fix with the suggestions."", 'created_at': datetime.datetime(2025, 2, 4, 7, 37, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:44:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195837.png)](https://mergebot.odoo.com/odoo/odoo/pull/195837)

kitan191 (Issue Creator) on (2025-02-04 07:37:37 UTC): @smetl Thanks for the review.

I've updated the fix with the suggestions.

"
2821147403,pull_request,closed,,[FW][FIX] l10n_sa_edi_pos: prevent error when validating zero total orders,"Before this commit, attempting to validate an order with a zero total (such as when fully paid using an eWallet) would result in an error.

opw-4487591

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195264",fw-bot,2025-01-30 15:34:09+00:00,[],2025-01-31 12:12:23+00:00,2025-01-31 12:12:23+00:00,https://github.com/odoo/odoo/pull/195836,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624828219, 'issue_id': 2821147403, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195836.png)](https://mergebot.odoo.com/odoo/odoo/pull/195836)', 'created_at': datetime.datetime(2025, 1, 30, 15, 34, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624828257, 'issue_id': 2821147403, 'author': 'fw-bot', 'body': '@pedrambiria @hupo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195797\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 34, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626789651, 'issue_id': 2821147403, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 50, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:34:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195836.png)](https://mergebot.odoo.com/odoo/odoo/pull/195836)

fw-bot (Issue Creator) on (2025-01-30 15:34:11 UTC): @pedrambiria @hupo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195797

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-31 09:50:08 UTC): @robodoo r+

"
2821143336,pull_request,closed,,[FW][FIX] auth_ldap: add email on new res.partner,"Before this commit, when a new res.user is created after signing in with auth_ldap, there was no email on the linked res.partner, which may cause issues in modules such as helpdesk, where partner email is used to find related tickets.

res.users created through the form view will trigger the onchange which sets the 'email' = 'login', which does not happen when creating a user directly through the ORM.

This commit adds 'email' as a key which is returned by the method _map_ldap_attributes, which is used to create new partners with the correct email associated with the res.user login.

opw-4378487



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193835
Forward-Port-Of: odoo/odoo#193495",fw-bot,2025-01-30 15:32:50+00:00,[],2025-02-06 15:17:50+00:00,2025-02-06 15:17:50+00:00,https://github.com/odoo/odoo/pull/195835,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624825692, 'issue_id': 2821143336, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195835.png)](https://mergebot.odoo.com/odoo/odoo/pull/195835)', 'created_at': datetime.datetime(2025, 1, 30, 15, 33, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624825723, 'issue_id': 2821143336, 'author': 'fw-bot', 'body': '@jelu-odoo @flvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195804\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 33, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639324804, 'issue_id': 2821143336, 'author': 'flvr-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 49, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:33:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195835.png)](https://mergebot.odoo.com/odoo/odoo/pull/195835)

fw-bot (Issue Creator) on (2025-01-30 15:33:17 UTC): @jelu-odoo @flvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195804

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

flvr-odoo on (2025-02-06 09:49:26 UTC): robodoo r+

"
2821138658,pull_request,closed,,[FW][FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195587
Forward-Port-Of: odoo/odoo#195539",fw-bot,2025-01-30 15:31:00+00:00,[],2025-01-31 15:33:59+00:00,2025-01-31 15:33:59+00:00,https://github.com/odoo/odoo/pull/195834,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624819499, 'issue_id': 2821138658, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195834.png)](https://mergebot.odoo.com/odoo/odoo/pull/195834)', 'created_at': datetime.datetime(2025, 1, 30, 15, 31, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624819535, 'issue_id': 2821138658, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 31, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625726751, 'issue_id': 2821138658, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: ci/runbot on 7c74906ca59e286c9014c39218ba45e271021254 (view more at https://runbot.odoo.com/runbot/build/74256747)', 'created_at': datetime.datetime(2025, 1, 30, 22, 26, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626588421, 'issue_id': 2821138658, 'author': 'walidsahli', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 31, 8, 15, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:31:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195834.png)](https://mergebot.odoo.com/odoo/odoo/pull/195834)

fw-bot (Issue Creator) on (2025-01-30 15:31:02 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-30 22:26:37 UTC): @walidsahli @dmo-odoo staging failed: ci/runbot on 7c74906ca59e286c9014c39218ba45e271021254 (view more at https://runbot.odoo.com/runbot/build/74256747)

walidsahli on (2025-01-31 08:15:54 UTC): @robodoo retry

"
2821133949,pull_request,closed,,[FW][FIX] web_hierarchy: fix the view icon rendering,"This PR aims to fix an issue about the icon related to the hierarchy view not being rotated anymore.

| 18.0 and above | This PR |
|--------|--------|
| <img width=""529"" alt=""image"" src=""https://github.com/user-attachments/assets/11289aa4-948d-4725-b8d5-e91bf5d601fc"" /> | <img width=""531"" alt=""image"" src=""https://github.com/user-attachments/assets/bc74ef4e-6e74-47d1-ac06-6bde1d6ed933"" /> | 

To render the icon of the hierarchy view, we use a little trick by rotating the `fa-share-alt` icon so that it looks like a tree diagram one.

Unfortunately, this does not work anymore in `18.0` and above. It seems the CSS won't be loaded until you entered the module, which leads to the icon being rendered to `fa-share-alt` by default and then rotated correctly once you click on it.

To fix this issue, we actually make use of available utility classes `fa-rotate-90`to handle the icon rotation and `align-text-top` to handle the vertical alignment when the icon is rendered within a node.

task-4501317


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194663",fw-bot,2025-01-30 15:29:06+00:00,[],2025-01-31 05:39:17+00:00,2025-01-31 05:39:17+00:00,https://github.com/odoo/odoo/pull/195833,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624814581, 'issue_id': 2821133949, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195833.png)](https://mergebot.odoo.com/odoo/odoo/pull/195833)', 'created_at': datetime.datetime(2025, 1, 30, 15, 29, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624814624, 'issue_id': 2821133949, 'author': 'fw-bot', 'body': '@chgo-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195799\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624828018, 'issue_id': 2821133949, 'author': 'chgo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 34, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:29:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195833.png)](https://mergebot.odoo.com/odoo/odoo/pull/195833)

fw-bot (Issue Creator) on (2025-01-30 15:29:09 UTC): @chgo-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195799

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

chgo-odoo on (2025-01-30 15:34:07 UTC): @robodoo r+

"
2821127537,pull_request,closed,,[FW][FIX] survey: disable embedded components in survey editor,"**Problem**:
Embedded components do not render when the `html` field content is displayed outside the editor, as their mechanism relies on the editor plugin.

**Solution**:
Disable embedded components for the survey.

**Steps to Reproduce**:
1. In a survey, add a section.
2. Add a ""View"" button. (Debug mode ON)
3. Use the `/` command box and add the ""Video link"" option.
4. Save and test the survey.
5. The video does not display.

opw-4487027

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194657",fw-bot,2025-01-30 15:26:39+00:00,[],2025-01-31 10:54:29+00:00,2025-01-31 10:54:29+00:00,https://github.com/odoo/odoo/pull/195832,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624807891, 'issue_id': 2821127537, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195832.png)](https://mergebot.odoo.com/odoo/odoo/pull/195832)', 'created_at': datetime.datetime(2025, 1, 30, 15, 26, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624807919, 'issue_id': 2821127537, 'author': 'fw-bot', 'body': '@walidsahli @abd-msyukyu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195798\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 26, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626590709, 'issue_id': 2821127537, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 16, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:26:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195832.png)](https://mergebot.odoo.com/odoo/odoo/pull/195832)

fw-bot (Issue Creator) on (2025-01-30 15:26:41 UTC): @walidsahli @abd-msyukyu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195798

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-31 08:16:32 UTC): @robodoo r+

"
2821123399,pull_request,closed,,[FW][FIX] hr_attendance: correctly declare props,"## Description of the issue/feature this PR addresses
Unable to reach Kiosk mode while in debug mode due to props validation
```
Error: Invalid props for component 'kioskAttendanceApp': unknown key 'token', unknown key 'companyId', unknown key 'companyName', unknown key 'employees', unknown key 'departments', unknown key 'kioskMode', unknown key 'barcodeSource'
```

### Steps to reproduce 
- Install `hr_attendance`
- Open Kiosk Mode
- Enable debug mode
=> Blank screen


## Current behavior before PR
Before this commit, when we were in debug mode, we couldn't access Kiosk mode (white screen with message in console). This was because the props were not fully declared, and, in debug mode, we validated the props here : https://github.com/odoo/odoo/blob/c3e7ee585a58fc07c11d07677d1d64dbd357d6b7/addons/web/static/lib/owl/owl.js#L5715-L5717 As the components are only used in one place each, I've updated the props declaration to match the usage.

Forward-Port-Of: odoo/odoo#189412",fw-bot,2025-01-30 15:24:58+00:00,[],2025-02-07 16:14:44+00:00,2025-02-07 16:14:43+00:00,https://github.com/odoo/odoo/pull/195831,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624803244, 'issue_id': 2821123399, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195831.png)](https://mergebot.odoo.com/odoo/odoo/pull/195831)', 'created_at': datetime.datetime(2025, 1, 30, 15, 24, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624803292, 'issue_id': 2821123399, 'author': 'fw-bot', 'body': '@thcl-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#189412 failed.\n\nstdout:\n```\nAuto-merging addons/hr_attendance/static/src/components/manual_selection/manual_selection.js\nCONFLICT (content): Merge conflict in addons/hr_attendance/static/src/components/manual_selection/manual_selection.js\nAuto-merging addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js\nCONFLICT (content): Merge conflict in addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625059809, 'issue_id': 2821123399, 'author': 'thcl-odoo', 'body': 'Hello @Bertrand2 , sorry I don\'t have the right on `odoo-dev` :( so here is the fixed version : \r\n\r\n- In `addons/hr_attendance/static/src/components/manual_selection/manual_selection.js`\r\n\r\nAdds `onClickBack : {type : Function},` line 17\r\n\r\n```diff\r\n    static template = ""hr_attendance.public_kiosk_manual_selection"";\r\n    static components = {\r\n        Dropdown,\r\n        DropdownItem,\r\n    };\r\n    static props = {\r\n        employees: { type: Array },\r\n        displayBackButton: { type: Boolean },\r\n        departments: { type: Array },\r\n        onSelectEmployee: { type: Function },\r\n+       onClickBack : {type : Function},\r\n    };\r\n\r\n    setup() {\r\n```\r\n\r\n- In `addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js` line 19\r\n\r\nDeclares the props \r\n\r\n```js\r\n    static props = {\r\n        token: {type : String},\r\n        companyId: {type : Number},\r\n        companyName: {type : String},\r\n        employees: {type : Array},\r\n        departments: {type : Array},\r\n        kioskMode: {type : String},\r\n        barcodeSource: {type : String}\r\n    };\r\n```\r\n\r\n```diff\r\n\tstatic template = ""hr_attendance.public_kiosk_app"";\r\n-\tstatic props = [];\r\n+   static props = {\r\n+       token: {type : String},\r\n+       companyId: {type : Number},\r\n+       companyName: {type : String},\r\n+       employees: {type : Array},\r\n+       departments: {type : Array},\r\n+       kioskMode: {type : String},\r\n+       barcodeSource: {type : String}\r\n+   };\r\n    static components = {\r\n        KioskBarcodeScanner,\r\n        CardLayout,\r\n        KioskManualSelection,\r\n        KioskGreetings,\r\n        KioskPinCode,\r\n        MainComponentsContainer,\r\n    };\r\n```\r\n\r\n\r\nSorry you have to handle that but at the same time thanks for your help :)', 'created_at': datetime.datetime(2025, 1, 30, 16, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730917, 'issue_id': 2821123399, 'author': 'fw-bot', 'body': '@thcl-odoo @Bertrand2 this forward port of odoo/odoo#189412 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642778055, 'issue_id': 2821123399, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 12, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642972648, 'issue_id': 2821123399, 'author': 'robodoo', 'body': '@thcl-odoo @Bertrand2 staging failed: ci/runbot on 00aeeea27a05c9c2af1227d900535d55a5447f13 (view more at https://runbot.odoo.com/runbot/build/74669663)', 'created_at': datetime.datetime(2025, 2, 7, 13, 37, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643109628, 'issue_id': 2821123399, 'author': 'Bertrand2', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 7, 14, 33, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:24:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195831.png)](https://mergebot.odoo.com/odoo/odoo/pull/195831)

fw-bot (Issue Creator) on (2025-01-30 15:25:00 UTC): @thcl-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#189412 failed.

stdout:
```
Auto-merging addons/hr_attendance/static/src/components/manual_selection/manual_selection.js
CONFLICT (content): Merge conflict in addons/hr_attendance/static/src/components/manual_selection/manual_selection.js
Auto-merging addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js
CONFLICT (content): Merge conflict in addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

thcl-odoo on (2025-01-30 16:59:24 UTC): Hello @Bertrand2 , sorry I don't have the right on `odoo-dev` :( so here is the fixed version : 

- In `addons/hr_attendance/static/src/components/manual_selection/manual_selection.js`

Adds `onClickBack : {type : Function},` line 17

```diff
    static template = ""hr_attendance.public_kiosk_manual_selection"";
    static components = {
        Dropdown,
        DropdownItem,
    };
    static props = {
        employees: { type: Array },
        displayBackButton: { type: Boolean },
        departments: { type: Array },
        onSelectEmployee: { type: Function },
+       onClickBack : {type : Function},
    };

    setup() {
```

- In `addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js` line 19

Declares the props 

```js
    static props = {
        token: {type : String},
        companyId: {type : Number},
        companyName: {type : String},
        employees: {type : Array},
        departments: {type : Array},
        kioskMode: {type : String},
        barcodeSource: {type : String}
    };
```

```diff
	static template = ""hr_attendance.public_kiosk_app"";
-	static props = [];
+   static props = {
+       token: {type : String},
+       companyId: {type : Number},
+       companyName: {type : String},
+       employees: {type : Array},
+       departments: {type : Array},
+       kioskMode: {type : String},
+       barcodeSource: {type : String}
+   };
    static components = {
        KioskBarcodeScanner,
        CardLayout,
        KioskManualSelection,
        KioskGreetings,
        KioskPinCode,
        MainComponentsContainer,
    };
```


Sorry you have to handle that but at the same time thanks for your help :)

fw-bot (Issue Creator) on (2025-02-03 02:03:09 UTC): @thcl-odoo @Bertrand2 this forward port of odoo/odoo#189412 is awaiting action (not merged or closed).

Bertrand2 on (2025-02-07 12:22:00 UTC): robodoo r+

robodoo on (2025-02-07 13:37:43 UTC): @thcl-odoo @Bertrand2 staging failed: ci/runbot on 00aeeea27a05c9c2af1227d900535d55a5447f13 (view more at https://runbot.odoo.com/runbot/build/74669663)

Bertrand2 on (2025-02-07 14:33:11 UTC): robodoo retry

"
2821122566,pull_request,closed,,[FW][IMP] hr_attendance: remove kiosk modal,"**Specifications:**
- remove modal when user click on kiosk mode and directly open kiosk view.
- add an install button in kiosk view

**After this PR:**
Modal will be removed while opening kiosk mode in hr_attendance.

Task-4161336

Forward-Port-Of: odoo/odoo#182308",fw-bot,2025-01-30 15:24:38+00:00,[],2025-01-31 12:12:35+00:00,2025-01-31 12:12:35+00:00,https://github.com/odoo/odoo/pull/195830,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624802273, 'issue_id': 2821122566, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195830.png)](https://mergebot.odoo.com/odoo/odoo/pull/195830)', 'created_at': datetime.datetime(2025, 1, 30, 15, 24, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624802309, 'issue_id': 2821122566, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195803\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 24, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626358015, 'issue_id': 2821122566, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 5, 46, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626856263, 'issue_id': 2821122566, 'author': 'nihp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 22, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:24:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195830.png)](https://mergebot.odoo.com/odoo/odoo/pull/195830)

fw-bot (Issue Creator) on (2025-01-30 15:24:40 UTC): @nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195803

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 05:46:35 UTC): @nihp-odoo @tde-banana-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

nihp-odoo on (2025-01-31 10:22:26 UTC): @robodoo r+

"
2821120788,pull_request,closed,,[FIX] marketing_card: make page titles and template name translatable,"Both the page titles in the view as well as the template names were not translatable. We make them translatable here.

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)",dylankiss,2025-01-30 15:23:54+00:00,[],2025-01-31 16:30:00+00:00,2025-01-31 16:30:00+00:00,https://github.com/odoo/odoo/pull/195829,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('18.2', None)]","[{'comment_id': 2624800390, 'issue_id': 2821120788, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195829.png)](https://mergebot.odoo.com/odoo/odoo/pull/195829)', 'created_at': datetime.datetime(2025, 1, 30, 15, 23, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624825857, 'issue_id': 2821120788, 'author': 'tde-banana-odoo', 'body': 'This globally makes no sense. Cards are generated once. You should probably consider having multiple cards depending on language, like mass mailings.', 'created_at': datetime.datetime(2025, 1, 30, 15, 33, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624953061, 'issue_id': 2821120788, 'author': 'dylankiss', 'body': ""@tde-banana-odoo Thanks for your feedback. I honestly didn't look into the details of how these cards and campaigns are created.\r\nSo as it is now, the cards and campaigns are not localizable. I can image it would be possible to render the cards in the language of the recipient if it is a `res.partner`, but probably not so much for the other models.\r\n\r\nI guess only making the `card.template`'s `name` field translatable then would make sense?"", 'created_at': datetime.datetime(2025, 1, 30, 16, 20, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624985862, 'issue_id': 2821120788, 'author': 'reth-odoo', 'body': ""Didn't see this was a two-parter for the same module :eyes: \r\nYes there's no sane way to translate these in a useful manner as it stands, nor is it useful enough to warrant implementing right now.\r\n\r\nTemplate names and tag names maybe, yes"", 'created_at': datetime.datetime(2025, 1, 30, 16, 33, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625029232, 'issue_id': 2821120788, 'author': 'dylankiss', 'body': ""@reth-odoo Thanks for the confirmation! I updated the PR to only make the template name translatable. I guess the tags do not make much sense, since there isn't a dedicated view to edit them 🤔"", 'created_at': datetime.datetime(2025, 1, 30, 16, 46, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627443465, 'issue_id': 2821120788, 'author': 'tde-banana-odoo', 'body': ""Even for partner, we could argue that the partner language is not necessarily the one you want to display. E.g. for an event, you don't want speakers to have cards based on their own language, but on the event language for example.\r\n\r\nSo as it is mainly a marketing tool, we consider it is better to keep it simple. If you have several languages (e.g. french and english), better prepare two templates. A bit like mailings, you plan them according to your audience, and you can create several mailings depending on the target language.\r\n\r\nCheers !"", 'created_at': datetime.datetime(2025, 1, 31, 14, 9, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627445964, 'issue_id': 2821120788, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 10, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:23:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195829.png)](https://mergebot.odoo.com/odoo/odoo/pull/195829)

tde-banana-odoo on (2025-01-30 15:33:20 UTC): This globally makes no sense. Cards are generated once. You should probably consider having multiple cards depending on language, like mass mailings.

dylankiss (Issue Creator) on (2025-01-30 16:20:24 UTC): @tde-banana-odoo Thanks for your feedback. I honestly didn't look into the details of how these cards and campaigns are created.
So as it is now, the cards and campaigns are not localizable. I can image it would be possible to render the cards in the language of the recipient if it is a `res.partner`, but probably not so much for the other models.

I guess only making the `card.template`'s `name` field translatable then would make sense?

reth-odoo on (2025-01-30 16:33:16 UTC): Didn't see this was a two-parter for the same module :eyes: 
Yes there's no sane way to translate these in a useful manner as it stands, nor is it useful enough to warrant implementing right now.

Template names and tag names maybe, yes

dylankiss (Issue Creator) on (2025-01-30 16:46:25 UTC): @reth-odoo Thanks for the confirmation! I updated the PR to only make the template name translatable. I guess the tags do not make much sense, since there isn't a dedicated view to edit them 🤔

tde-banana-odoo on (2025-01-31 14:09:14 UTC): Even for partner, we could argue that the partner language is not necessarily the one you want to display. E.g. for an event, you don't want speakers to have cards based on their own language, but on the event language for example.

So as it is mainly a marketing tool, we consider it is better to keep it simple. If you have several languages (e.g. french and english), better prepare two templates. A bit like mailings, you plan them according to your audience, and you can create several mailings depending on the target language.

Cheers !

tde-banana-odoo on (2025-01-31 14:10:21 UTC): @robodoo r+

"
2821114833,pull_request,closed,,[FIX] mail: crash when navigating empty emoji picker,"Before this PR, pressing the right arrow key when the emoji picker was empty led to a crash.

Steps to reproduce:
- Open the picker
- Type a search that matches no emojis (""ezaeazeza"")
- Press the right arrow

This PR fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",tsm-odoo,2025-01-30 15:21:29+00:00,[],2025-01-31 10:10:06+00:00,2025-01-31 04:42:19+00:00,https://github.com/odoo/odoo/pull/195828,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624793920, 'issue_id': 2821114833, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195828.png)](https://mergebot.odoo.com/odoo/odoo/pull/195828)', 'created_at': datetime.datetime(2025, 1, 30, 15, 21, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:21:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195828.png)](https://mergebot.odoo.com/odoo/odoo/pull/195828)

"
2821113884,pull_request,closed,,[FW][FIX] website: fix the old image gallery crash after upgrading,"Steps to reproduce:

- In V17.0 drag and drop an ""Image Gallery"" block into the page.
- Upgrade to 18.0
- Click on the last ""Image Gallery"" indicator and then quickly on the first one.
- Traceback: ""TypeError: Cannot read properties of null (reading 'classList') at Carousel._setActiveIndicatorElement ...""

This issue is caused by the front-end code of the image gallery, which updates the active indicator during a slide event. When the crash happens, it cannot find the active slide in the DOM.

After investigation, everything already works with Bootstrap, and the purpose of this code remains unclear. However, in the stable version, we are not taking any risks and will not modify it.

In this commit, we simply added a return; in case the active slide is not found.

opw-4519455

Forward-Port-Of: odoo/odoo#195606",fw-bot,2025-01-30 15:21:06+00:00,[],2025-02-03 16:10:33+00:00,2025-02-03 16:10:33+00:00,https://github.com/odoo/odoo/pull/195827,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624792769, 'issue_id': 2821113884, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195827.png)](https://mergebot.odoo.com/odoo/odoo/pull/195827)', 'created_at': datetime.datetime(2025, 1, 30, 15, 21, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624792805, 'issue_id': 2821113884, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 21, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624894331, 'issue_id': 2821113884, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 15, 58, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625020707, 'issue_id': 2821113884, 'author': 'bvr-odoo', 'body': ""@SergeBayet I've rebuilt .. let's see what happens"", 'created_at': datetime.datetime(2025, 1, 30, 16, 43, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627406323, 'issue_id': 2821113884, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 13, 52, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627406389, 'issue_id': 2821113884, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 31, 13, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627733152, 'issue_id': 2821113884, 'author': 'robodoo', 'body': '@bvr-odoo @SergeBayet staging failed: ci/runbot on 422613dd3b76113fb67461f250ed7422d6bf0ae8 (view more at https://runbot.odoo.com/runbot/build/74284692)', 'created_at': datetime.datetime(2025, 1, 31, 16, 21, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728995, 'issue_id': 2821113884, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this forward port of odoo/odoo#195606 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630403394, 'issue_id': 2821113884, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 9, 28, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631119028, 'issue_id': 2821113884, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 13, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:21:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195827.png)](https://mergebot.odoo.com/odoo/odoo/pull/195827)

fw-bot (Issue Creator) on (2025-01-30 15:21:08 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 15:58:06 UTC): @bvr-odoo @SergeBayet ci/runbot failed on this forward-port PR

bvr-odoo on (2025-01-30 16:43:45 UTC): @SergeBayet I've rebuilt .. let's see what happens

bvr-odoo on (2025-01-31 13:52:12 UTC): @robodoo r+

robodoo on (2025-01-31 13:52:15 UTC): This PR is already reviewed, reviewing it again is useless.

robodoo on (2025-01-31 16:21:32 UTC): @bvr-odoo @SergeBayet staging failed: ci/runbot on 422613dd3b76113fb67461f250ed7422d6bf0ae8 (view more at https://runbot.odoo.com/runbot/build/74284692)

fw-bot (Issue Creator) on (2025-02-03 02:01:21 UTC): @bvr-odoo @SergeBayet this forward port of odoo/odoo#195606 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 09:28:11 UTC): @bvr-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.

bvr-odoo on (2025-02-03 14:13:16 UTC): @robodoo r+

"
2821111793,pull_request,closed,,[FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445",hubvd,2025-01-30 15:20:15+00:00,[],2025-02-03 20:55:55+00:00,2025-02-03 20:55:55+00:00,https://github.com/odoo/odoo/pull/195826,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624790690, 'issue_id': 2821111793, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195826.png)](https://mergebot.odoo.com/odoo/odoo/pull/195826)', 'created_at': datetime.datetime(2025, 1, 30, 15, 20, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:20:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195826.png)](https://mergebot.odoo.com/odoo/odoo/pull/195826)

"
2821106008,pull_request,closed,,[FIX] mail: increase max-height of message edit,"Edit of message was limited to 100px of height, which is too narrow especially when editing a message in chatter.

This 100px made sense when chat windows were small, but now there's no point to restrict as much.

This commit increases to up to 4 times the height, so 400px, giving much more room to edit long messages.

Before
<img width=""2557"" alt=""Screenshot 2025-01-30 at 16 17 23"" src=""https://github.com/user-attachments/assets/eee3e2a9-e8db-4c3a-a7b0-02999d9f4c0b"" />

After
<img width=""2558"" alt=""Screenshot 2025-01-30 at 16 17 00"" src=""https://github.com/user-attachments/assets/52a32b90-f8ce-4c51-9842-62a0d61307ef"" />
",alexkuhn,2025-01-30 15:17:56+00:00,[],2025-01-30 22:50:14+00:00,2025-01-30 19:02:01+00:00,https://github.com/odoo/odoo/pull/195825,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624784503, 'issue_id': 2821106008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195825.png)](https://mergebot.odoo.com/odoo/odoo/pull/195825)', 'created_at': datetime.datetime(2025, 1, 30, 15, 17, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624860815, 'issue_id': 2821106008, 'author': 'robodoo', 'body': ""@alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 15, 45, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:17:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195825.png)](https://mergebot.odoo.com/odoo/odoo/pull/195825)

robodoo on (2025-01-30 15:45:54 UTC): @alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR.

"
2821088333,pull_request,closed,,[FIX] ressource: move @mail dependency in ressource_mail module,"Before this commit:
 1. Install `ressource` module
 2. In debug, open ""Run unit tests"" debug menu
 3. Error pop-up: 
```js
Global Error: stack trace available in the console
Missing dependencies: @mail/../tests/mail_test_helpers
```

After this commit:
 No error and units tests can proceed

Related runbot task: https://runbot.odoo.com/odoo/runbot.build.error/72187",lse-odoo,2025-01-30 15:10:53+00:00,[],2025-02-04 17:44:46+00:00,2025-02-04 17:44:46+00:00,https://github.com/odoo/odoo/pull/195824,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624765004, 'issue_id': 2821088333, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195824.png)](https://mergebot.odoo.com/odoo/odoo/pull/195824)', 'created_at': datetime.datetime(2025, 1, 30, 15, 10, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624851387, 'issue_id': 2821088333, 'author': 'lse-odoo', 'body': 'To check with R&D team:\r\nTechnically, it is possible to move the entire helper from `ressource` to `ressource_mail` as it looks to only be use in `ressource_mail`.\r\nHowever the logic make sense to stay in `ressource` as the mocked ressources are defined in this module and in case we want to add another `ressource_XXX` module it might be handy to reuse the helper or if we want to add some test to `ressource` module in the future.', 'created_at': datetime.datetime(2025, 1, 30, 15, 42, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624854644, 'issue_id': 2821088333, 'author': 'lse-odoo', 'body': 'hey @seb-odoo thanks for the review :) would you mind giving your opinion on the point/message just above please ?\r\nhttps://github.com/odoo/odoo/pull/195824#issuecomment-2624851387', 'created_at': datetime.datetime(2025, 1, 30, 15, 43, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624959411, 'issue_id': 2821088333, 'author': 'seb-odoo', 'body': 'Data from a module must be defined on the module which defines it... Otherwise you run into other dependency issues (somebody requiring `resource` stuff but not having `resource_mail`). This is not done in terms of usage but in terms of definition.', 'created_at': datetime.datetime(2025, 1, 30, 16, 22, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626551531, 'issue_id': 2821088333, 'author': 'lse-odoo', 'body': '@seb-odoo \nSo, to my understanding I did it the right way, am I correct?\nWhat should I do to make this PR move on please?', 'created_at': datetime.datetime(2025, 1, 31, 8, 5, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634238064, 'issue_id': 2821088333, 'author': 'robodoo', 'body': '@seb-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 4, 14, 59, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634238835, 'issue_id': 2821088333, 'author': 'seb-odoo', 'body': '@robodoo delegate+', 'created_at': datetime.datetime(2025, 2, 4, 15, 0, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:10:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195824.png)](https://mergebot.odoo.com/odoo/odoo/pull/195824)

lse-odoo (Issue Creator) on (2025-01-30 15:42:24 UTC): To check with R&D team:
Technically, it is possible to move the entire helper from `ressource` to `ressource_mail` as it looks to only be use in `ressource_mail`.
However the logic make sense to stay in `ressource` as the mocked ressources are defined in this module and in case we want to add another `ressource_XXX` module it might be handy to reuse the helper or if we want to add some test to `ressource` module in the future.

lse-odoo (Issue Creator) on (2025-01-30 15:43:40 UTC): hey @seb-odoo thanks for the review :) would you mind giving your opinion on the point/message just above please ?
https://github.com/odoo/odoo/pull/195824#issuecomment-2624851387

seb-odoo on (2025-01-30 16:22:54 UTC): Data from a module must be defined on the module which defines it... Otherwise you run into other dependency issues (somebody requiring `resource` stuff but not having `resource_mail`). This is not done in terms of usage but in terms of definition.

lse-odoo (Issue Creator) on (2025-01-31 08:05:43 UTC): @seb-odoo 
So, to my understanding I did it the right way, am I correct?
What should I do to make this PR move on please?

robodoo on (2025-02-04 14:59:57 UTC): @seb-odoo you may want to rebuild or fix this PR as it has failed CI.

seb-odoo on (2025-02-04 15:00:15 UTC): @robodoo delegate+

"
2821076720,pull_request,closed,,[FW][FIX] base: prevent branding on wrapped nodes identified by xpath($0),"The $0 placeholder in templates is highly useful, but it is not considered when saving a view. For instance, the search icon in the shop search bar has an incorrect xpath:
`/data/xpath[3]/form/t[1]/div[1]/button[1]/i[1]`, where the inner `t[1]` actually points to another view through a `<t>$0</t>` containing the inherited view.

The method responsible for handling this replacement fails when the element is editable, causing a crash.

This commit ensures that when an xpath jumps to another template, it disallows the branding.

task-3609835

Forward-Port-Of: odoo/odoo#187760",fw-bot,2025-01-30 15:06:49+00:00,[],2025-01-31 08:31:45+00:00,2025-01-31 08:31:45+00:00,https://github.com/odoo/odoo/pull/195823,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624753585, 'issue_id': 2821076720, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195823.png)](https://mergebot.odoo.com/odoo/odoo/pull/195823)', 'created_at': datetime.datetime(2025, 1, 30, 15, 6, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624753620, 'issue_id': 2821076720, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 15, 6, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:06:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195823.png)](https://mergebot.odoo.com/odoo/odoo/pull/195823)

fw-bot (Issue Creator) on (2025-01-30 15:06:51 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821064726,pull_request,open,,[IMP] tools: add new QueryBuilder,Simplify the creation of SQL queries by using the information known by the ORM.,william-andre,2025-01-30 15:03:26+00:00,[],2025-01-31 18:30:18+00:00,,https://github.com/odoo/odoo/pull/195822,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624743720, 'issue_id': 2821064726, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195822.png)](https://mergebot.odoo.com/odoo/odoo/pull/195822)', 'created_at': datetime.datetime(2025, 1, 30, 15, 3, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624786611, 'issue_id': 2821064726, 'author': 'jco-odoo', 'body': '@rco-odoo 30 lines of code which can save us 1000s and avoid much time wasted doing .left_join (or even writing LEFT JOIN)', 'created_at': datetime.datetime(2025, 1, 30, 15, 18, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:03:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195822.png)](https://mergebot.odoo.com/odoo/odoo/pull/195822)

jco-odoo on (2025-01-30 15:18:45 UTC): @rco-odoo 30 lines of code which can save us 1000s and avoid much time wasted doing .left_join (or even writing LEFT JOIN)

"
2821063863,pull_request,open,,16.0 inherits mixin chs,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rco-odoo,2025-01-30 15:03:13+00:00,[],2025-02-03 13:17:35+00:00,,https://github.com/odoo/odoo/pull/195821,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624743134, 'issue_id': 2821063863, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195821.png)](https://mergebot.odoo.com/odoo/odoo/pull/195821)', 'created_at': datetime.datetime(2025, 1, 30, 15, 3, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630976085, 'issue_id': 2821063863, 'author': 'rco-odoo', 'body': 'In the case of `_inherit`, the issue is introduced by <https://github.com/odoo/odoo/blob/16.0/odoo/models.py#L2792-L2796>: it is the case where the field is defined on another model (`fields_[0].model_name != cls._name`).  In that case, the new field should have as modules the ones that define the field **and** the module that introduces `_inherit` for `fields_[0].model_name`.', 'created_at': datetime.datetime(2025, 2, 3, 13, 14, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:03:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195821.png)](https://mergebot.odoo.com/odoo/odoo/pull/195821)

rco-odoo (Issue Creator) on (2025-02-03 13:14:07 UTC): In the case of `_inherit`, the issue is introduced by <https://github.com/odoo/odoo/blob/16.0/odoo/models.py#L2792-L2796>: it is the case where the field is defined on another model (`fields_[0].model_name != cls._name`).  In that case, the new field should have as modules the ones that define the field **and** the module that introduces `_inherit` for `fields_[0].model_name`.

"
2821059219,pull_request,open,,[IMP] l10n_ec: Tax for Dividends in withholdings,"Add tax for dividends in withholdings.

related: https://github.com/odoo/enterprise/pull/78149",kenluzuriaga0,2025-01-30 15:01:48+00:00,[],2025-01-30 16:01:09+00:00,,https://github.com/odoo/odoo/pull/195820,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2624739079, 'issue_id': 2821059219, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195820.png)](https://mergebot.odoo.com/odoo/odoo/pull/195820)', 'created_at': datetime.datetime(2025, 1, 30, 15, 1, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 15:01:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195820.png)](https://mergebot.odoo.com/odoo/odoo/pull/195820)

"
2821031411,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: the number sent in vendor bills should be the…,"… ref, not the name

For Bizkaia, when we send the invoices, the numfactura and seriefactura should be the name of the vendor and the one of the customer.

In order to make it possible to correct it and to cancel an invoice with the previous way of doing, we check in the original XML what the dates sent were.

opw-4498833

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195113",fw-bot,2025-01-30 14:53:54+00:00,[],2025-01-30 18:17:50+00:00,2025-01-30 18:17:50+00:00,https://github.com/odoo/odoo/pull/195819,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624717203, 'issue_id': 2821031411, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195819.png)](https://mergebot.odoo.com/odoo/odoo/pull/195819)', 'created_at': datetime.datetime(2025, 1, 30, 14, 53, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624717240, 'issue_id': 2821031411, 'author': 'fw-bot', 'body': '@jco-odoo @rugo-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#195783\n* odoo/odoo#195753\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 53, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624796448, 'issue_id': 2821031411, 'author': 'fw-bot', 'body': '@jco-odoo @rugo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 15, 22, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624931372, 'issue_id': 2821031411, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 16, 11, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624931488, 'issue_id': 2821031411, 'author': 'robodoo', 'body': '@jco-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 30, 16, 11, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:53:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195819.png)](https://mergebot.odoo.com/odoo/odoo/pull/195819)

fw-bot (Issue Creator) on (2025-01-30 14:53:56 UTC): @jco-odoo @rugo-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#195783
* odoo/odoo#195753

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 15:22:29 UTC): @jco-odoo @rugo-odoo ci/runbot failed on this forward-port PR

jco-odoo on (2025-01-30 16:11:49 UTC): @robodoo r+

robodoo on (2025-01-30 16:11:51 UTC): @jco-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2821029129,pull_request,closed,,[FW][FIX] website: make labels in sidebar translatable,"Some labels in the website editor's sidebar were not translatable, while all the others were.

In this commit we make the following parts translatable:
- The header of the ""Field"" options
- The ""Custom Text"" new field name
- The ""Existing field"" header in the selection list of existing field
- ""Option"", ""Radio"", ""Checkbox"", and ""List"" for list-type fields

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#194014",fw-bot,2025-01-30 14:53:08+00:00,[],2025-01-31 08:32:35+00:00,2025-01-31 08:32:35+00:00,https://github.com/odoo/odoo/pull/195818,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624715164, 'issue_id': 2821029129, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195818.png)](https://mergebot.odoo.com/odoo/odoo/pull/195818)', 'created_at': datetime.datetime(2025, 1, 30, 14, 53, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624715187, 'issue_id': 2821029129, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/snippets/s_website_form/options.js\nCONFLICT (content): Merge conflict in addons/website/static/src/snippets/s_website_form/options.js\nAuto-merging addons/website/static/src/xml/website_form_editor.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 53, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625684935, 'issue_id': 2821029129, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 21, 59, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626025419, 'issue_id': 2821029129, 'author': 'robodoo', 'body': '@dylankiss @qsm-odoo staging failed: ci/runbot on 0680d7810182f3c92fcab39ad3831b23717d76c8 (view more at https://runbot.odoo.com/runbot/build/74258157)', 'created_at': datetime.datetime(2025, 1, 31, 0, 38, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626472794, 'issue_id': 2821029129, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 1, 31, 7, 24, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:53:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195818.png)](https://mergebot.odoo.com/odoo/odoo/pull/195818)

fw-bot (Issue Creator) on (2025-01-30 14:53:10 UTC): @dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/snippets/s_website_form/options.js
CONFLICT (content): Merge conflict in addons/website/static/src/snippets/s_website_form/options.js
Auto-merging addons/website/static/src/xml/website_form_editor.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-30 21:59:15 UTC): @robodoo r+

robodoo on (2025-01-31 00:38:37 UTC): @dylankiss @qsm-odoo staging failed: ci/runbot on 0680d7810182f3c92fcab39ad3831b23717d76c8 (view more at https://runbot.odoo.com/runbot/build/74258157)

d-fence on (2025-01-31 07:24:02 UTC): robodoo retry
(failing test deactivated)

"
2821028092,pull_request,closed,,[FW][FIX] website_sale: resolve product reorder issue in shop editor,"**Steps to Reproduce:**
- Navigate to /shop .
- Open editor mode and select a product.
- Use the reorder widget from the editor panel to change the product's position.
- Notice the product jumps 2 positions instead of 1 when reordered.

**Issue:**
- Two products, 'Warranty' and 'Chair Floor Protection', have the same website_sequence. This causes the reorder logic to malfunction, making products jump 2 positions when one is placed in front or behind these two.

**Fix:**
- Updated the website_sequence of conflicting products to ensure all products have unique values.

**Affected Versions:** 16.0~master
opw-4150099

Forward-Port-Of: odoo/odoo#191297",fw-bot,2025-01-30 14:52:48+00:00,[],2025-01-31 11:44:40+00:00,2025-01-31 11:44:40+00:00,https://github.com/odoo/odoo/pull/195817,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624714283, 'issue_id': 2821028092, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195817.png)](https://mergebot.odoo.com/odoo/odoo/pull/195817)', 'created_at': datetime.datetime(2025, 1, 30, 14, 52, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624714308, 'issue_id': 2821028092, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 52, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624887551, 'issue_id': 2821028092, 'author': 'fw-bot', 'body': '@mash-odoo @Feyensv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 15, 55, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:52:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195817.png)](https://mergebot.odoo.com/odoo/odoo/pull/195817)

fw-bot (Issue Creator) on (2025-01-30 14:52:50 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 15:55:30 UTC): @mash-odoo @Feyensv ci/runbot failed on this forward-port PR

"
2821013909,pull_request,open,,[IMP] hr : revamp bank form,"-  add bank details ona page in the account form
- add employee field that refreance the partner employee if found

Task: 4531266


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-30 14:49:22+00:00,[],2025-01-30 15:00:14+00:00,,https://github.com/odoo/odoo/pull/195816,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624705344, 'issue_id': 2821013909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195816.png)](https://mergebot.odoo.com/odoo/odoo/pull/195816)', 'created_at': datetime.datetime(2025, 1, 30, 14, 49, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:49:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195816.png)](https://mergebot.odoo.com/odoo/odoo/pull/195816)

"
2821010999,pull_request,open,,[IMP] account - add vat to base document layout view,"[IMP] account - base document layout view

When users try to ""send and print"" their very first invoice without
having set their company first, the wizard will tell them to go fill
some of that information first. That behaviour can be annoying (the
back and forth before being able to ""send and print"").

We improve that behaviour by leveraging the fact that before the users
can ""send and print"" their first invoice, there is already the base
document layout wizard that asked them to fill up some information. We
simply add the company information that we need to be filled there
(`vat` and `account_number`). That way if the users correctly filled
what is suggested they avoid the back and forth.

In practice, we want to change this on the base document layout:
- Add the vat field
- Remove the invisible from account_number if qr_code is not selected

task-4486167

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rugo-odoo,2025-01-30 14:48:26+00:00,[],2025-02-06 14:42:26+00:00,,https://github.com/odoo/odoo/pull/195815,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624703498, 'issue_id': 2821010999, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195815.png)](https://mergebot.odoo.com/odoo/odoo/pull/195815)', 'created_at': datetime.datetime(2025, 1, 30, 14, 48, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639997207, 'issue_id': 2821010999, 'author': 'epictete', 'body': 'Thanks for the quick update :+1: \r\nJust one tiny detail (sorry I forgot to mention it previously), but could you please make sure to follow the [guidelines](https://www.odoo.com/documentation/master/contributing/development/git_guidelines.html#commit-message-structure) for your commit title? :nerd_face:', 'created_at': datetime.datetime(2025, 2, 6, 14, 33, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:48:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195815.png)](https://mergebot.odoo.com/odoo/odoo/pull/195815)

epictete on (2025-02-06 14:33:32 UTC): Thanks for the quick update :+1: 
Just one tiny detail (sorry I forgot to mention it previously), but could you please make sure to follow the [guidelines](https://www.odoo.com/documentation/master/contributing/development/git_guidelines.html#commit-message-structure) for your commit title? :nerd_face:

"
2821004859,pull_request,closed,,[FIX] account: Add context key to prevent exchange diff but not recur…,"…sively

The 'no_exchange_difference' is used to prevent exchange diff in the whole reconciliation. However, the reconciliation is recursive when dealing with CABA entries. From the bank reconciliation widget, we want to prevent the exchange diff only for the top reconciliation but not recursively. Otherwise, the CABA entry ends up with a residual amount but considered as fully reconciled.

Instead, this commit introduces a new context key: 'no_exchange_difference_no_recursive'.

task-id: 4531511

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",smetl,2025-01-30 14:44:20+00:00,[],2025-01-31 18:53:00+00:00,2025-01-31 18:53:00+00:00,https://github.com/odoo/odoo/pull/195814,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624696292, 'issue_id': 2821004859, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195814.png)](https://mergebot.odoo.com/odoo/odoo/pull/195814)', 'created_at': datetime.datetime(2025, 1, 30, 14, 44, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:44:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195814.png)](https://mergebot.odoo.com/odoo/odoo/pull/195814)

"
2820994818,pull_request,closed,,[FW][FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195316",fw-bot,2025-01-30 14:35:52+00:00,[],2025-01-31 19:07:38+00:00,2025-01-31 19:07:38+00:00,https://github.com/odoo/odoo/pull/195813,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624680884, 'issue_id': 2820994818, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195813.png)](https://mergebot.odoo.com/odoo/odoo/pull/195813)', 'created_at': datetime.datetime(2025, 1, 30, 14, 35, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624681030, 'issue_id': 2820994818, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 36, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624774678, 'issue_id': 2820994818, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 15, 14, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624940743, 'issue_id': 2820994818, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet WARNING: the update of odoo/odoo#195779 to f3820e3831750003b0177697e8cc6c8682aa79e9 has caused a conflict in this pull request, data may have been lost.\n\nstdout:\n```\nAuto-merging addons/website/static/src/scss/website.scss\nCONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss\nAuto-merging addons/website/views/website_templates.xml\n```', 'created_at': datetime.datetime(2025, 1, 30, 16, 15, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627539491, 'issue_id': 2820994818, 'author': 'anso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 52, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:35:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195813.png)](https://mergebot.odoo.com/odoo/odoo/pull/195813)

fw-bot (Issue Creator) on (2025-01-30 14:36:02 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 15:14:27 UTC): @anso-odoo @SergeBayet ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 16:15:34 UTC): @anso-odoo @SergeBayet WARNING: the update of odoo/odoo#195779 to f3820e3831750003b0177697e8cc6c8682aa79e9 has caused a conflict in this pull request, data may have been lost.

stdout:
```
Auto-merging addons/website/static/src/scss/website.scss
CONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss
Auto-merging addons/website/views/website_templates.xml
```

anso-odoo on (2025-01-31 14:52:55 UTC): @robodoo r+

"
2820993526,pull_request,closed,,[FW][FIX] pos_razorpay: traceback when terminal payment done on floor screen,"Steps to Reproduce:
=========
- Install the modules: pos_razorpay, l10n_in, and pos_restaurant.
- Create a payment method for the Razorpay terminal.
- Open a restaurant register linked to an Indian company with the added Razorpay terminal payment method.
- Create an order, add a Razorpay payment line, and navigate to the floor screen.

Issue:
==========
- A traceback occurs when completing a payment.

Cause:
=========
- Polling for the Razorpay terminal continues even after leaving the payment screen and navigating to the floor screen.

Fix:
=========
- Stop the polling process when the user leaves the payment screen.
- Resume polling only when the user returns to the payment screen.

task-4414016

Forward-Port-Of: odoo/odoo#195697
Forward-Port-Of: odoo/odoo#192072",fw-bot,2025-01-30 14:35:01+00:00,[],2025-01-31 06:50:26+00:00,2025-01-31 06:50:26+00:00,https://github.com/odoo/odoo/pull/195812,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624679349, 'issue_id': 2820993526, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195812.png)](https://mergebot.odoo.com/odoo/odoo/pull/195812)', 'created_at': datetime.datetime(2025, 1, 30, 14, 35, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624679480, 'issue_id': 2820993526, 'author': 'fw-bot', 'body': '@paan-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 35, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624793954, 'issue_id': 2820993526, 'author': 'fw-bot', 'body': '@paan-odoo @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 15, 21, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626300622, 'issue_id': 2820993526, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 4, 56, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:35:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195812.png)](https://mergebot.odoo.com/odoo/odoo/pull/195812)

fw-bot (Issue Creator) on (2025-01-30 14:35:12 UTC): @paan-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 15:21:35 UTC): @paan-odoo @caburj ci/runbot failed on this forward-port PR

paan-odoo on (2025-01-31 04:56:07 UTC): @robodoo r+

"
2820989054,pull_request,closed,,[FW][FIX] l10n_in: backporting of fiscal position commits,"This PR is backporting of these commits:

[1] Commit https://github.com/odoo/odoo/commit/a1b7d8aba255ec477a030d44897b8ea73d1f37e7
[2] Commit https://github.com/odoo/odoo/commit/3653131d32997392b2170ce542bfc544fd96bef2

These commits introduce the computation of fiscal positions for sales and
purchase documents based on the place of supply. While these changes are
already merged into version 18.1, they are now required in version 17.0.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195703
Forward-Port-Of: odoo/odoo#195399",fw-bot,2025-01-30 14:31:24+00:00,[],2025-01-31 05:23:49+00:00,2025-01-31 05:23:49+00:00,https://github.com/odoo/odoo/pull/195811,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624672129, 'issue_id': 2820989054, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195811.png)](https://mergebot.odoo.com/odoo/odoo/pull/195811)', 'created_at': datetime.datetime(2025, 1, 30, 14, 31, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624672295, 'issue_id': 2820989054, 'author': 'fw-bot', 'body': '@masm-odoo @jco-odoo this PR targets 18.0 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 31, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626255845, 'issue_id': 2820989054, 'author': 'masm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 4, 10, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:31:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195811.png)](https://mergebot.odoo.com/odoo/odoo/pull/195811)

fw-bot (Issue Creator) on (2025-01-30 14:31:35 UTC): @masm-odoo @jco-odoo this PR targets 18.0 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

masm-odoo on (2025-01-31 04:10:39 UTC): @robodoo r+

"
2820986225,pull_request,open,,[FIX] website_sale: sales team not updated on partner change,"Recent commit 27bf2e55810b200563ed6b93b1e22dfda65cf4ea modified the salesperson assignation on ecommerce orders, to avoid assigning any salesperson until the order confirmation.

Nevertheless, this commit also disabled the salesteam recomputation on salesman change for ecommerce orders.

In some cases (subscription orders), the salesperson might be manually changed on the order and we still want the right salesteam to be assigned on the order, even if it came from the ecommerce.

This commit adds a hook to allow subscription orders to keep the salesteam recomputation on salesman change for ecommerce orders.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Feyensv,2025-01-30 14:29:40+00:00,[],2025-01-30 15:00:20+00:00,,https://github.com/odoo/odoo/pull/195810,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624668245, 'issue_id': 2820986225, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195810.png)](https://mergebot.odoo.com/odoo/odoo/pull/195810)', 'created_at': datetime.datetime(2025, 1, 30, 14, 29, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:29:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195810.png)](https://mergebot.odoo.com/odoo/odoo/pull/195810)

"
2820984179,pull_request,closed,,[FW][FIX] website_google_map: map zoom issue on locationless partners,"The World Map view when you are on the ""/partners"" page doesn't zoom.
This happens when any of the partners that are getting rendered doesn't
have a location (longitude and latitude).

Geocoder is then used to locate those addresses on the map.
We use Promises, and when there is an error, we're not catching it
where we are calling it from. The failed Geocode triggers the reject,
which is not caught, and we're stuck in the await Promise. The zoom-in
line never gets called.

Steps to Reproduce on Runbot:

Integrate the Google Place Map key via
Settings -> Geolocation -> Google Place Map.
Go to ""/partners.""
Toggle on the world map view for the page via the editor.
Ensure one partner on the page lacks a location.
Go to the ""map"" view, and the map will not zoom in.

opw-4319619

Forward-Port-Of: odoo/odoo#189518",fw-bot,2025-01-30 14:28:21+00:00,[],2025-01-30 20:32:41+00:00,2025-01-30 20:32:41+00:00,https://github.com/odoo/odoo/pull/195809,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624665396, 'issue_id': 2820984179, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195809.png)](https://mergebot.odoo.com/odoo/odoo/pull/195809)', 'created_at': datetime.datetime(2025, 1, 30, 14, 28, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624665600, 'issue_id': 2820984179, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 28, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:28:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195809.png)](https://mergebot.odoo.com/odoo/odoo/pull/195809)

fw-bot (Issue Creator) on (2025-01-30 14:28:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820981433,pull_request,closed,,[FW][FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390

Forward-Port-Of: odoo/odoo#195555",fw-bot,2025-01-30 14:26:58+00:00,[],2025-02-03 14:44:31+00:00,2025-02-03 14:44:31+00:00,https://github.com/odoo/odoo/pull/195808,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624662281, 'issue_id': 2820981433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195808.png)](https://mergebot.odoo.com/odoo/odoo/pull/195808)', 'created_at': datetime.datetime(2025, 1, 30, 14, 27, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624662478, 'issue_id': 2820981433, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 27, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624727784, 'issue_id': 2820981433, 'author': 'fw-bot', 'body': '@alsh-odoo @ethanrobv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 57, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729021, 'issue_id': 2820981433, 'author': 'fw-bot', 'body': '@alsh-odoo @ethanrobv this forward port of odoo/odoo#195555 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630389833, 'issue_id': 2820981433, 'author': 'fw-bot', 'body': '@alsh-odoo @ethanrobv this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 9, 22, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630686436, 'issue_id': 2820981433, 'author': 'alsh-odoo', 'body': 'Just Rebased and pushed\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 11, 30, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:27:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195808.png)](https://mergebot.odoo.com/odoo/odoo/pull/195808)

fw-bot (Issue Creator) on (2025-01-30 14:27:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 14:57:54 UTC): @alsh-odoo @ethanrobv ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 02:01:23 UTC): @alsh-odoo @ethanrobv this forward port of odoo/odoo#195555 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 09:22:24 UTC): @alsh-odoo @ethanrobv this PR was modified / updated and has become a normal PR. It must be merged directly.

alsh-odoo on (2025-02-03 11:30:49 UTC): Just Rebased and pushed

@robodoo r+

"
2820956803,pull_request,closed,,[IMP] base: cron run at least 10 seconds,"When using the progress API, run for at least 10 seconds if there are rows to be processed. This is a simple alternative to solution described in task-4433571.

task-4433571

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-30 14:15:48+00:00,[],2025-01-31 12:46:47+00:00,2025-01-31 12:29:38+00:00,https://github.com/odoo/odoo/pull/195807,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624635153, 'issue_id': 2820956803, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195807.png)](https://mergebot.odoo.com/odoo/odoo/pull/195807)', 'created_at': datetime.datetime(2025, 1, 30, 14, 15, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624731801, 'issue_id': 2820956803, 'author': 'kmagusiak', 'body': '@robodoo up to saas-18.1\r\nmaster handled in #193740', 'created_at': datetime.datetime(2025, 1, 30, 14, 59, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624731902, 'issue_id': 2820956803, 'author': 'robodoo', 'body': 'Forward-port disabled (via limit).', 'created_at': datetime.datetime(2025, 1, 30, 14, 59, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626615246, 'issue_id': 2820956803, 'author': 'robodoo', 'body': '@nim-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 31, 8, 22, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:15:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195807.png)](https://mergebot.odoo.com/odoo/odoo/pull/195807)

kmagusiak (Issue Creator) on (2025-01-30 14:59:19 UTC): @robodoo up to saas-18.1
master handled in #193740

robodoo on (2025-01-30 14:59:21 UTC): Forward-port disabled (via limit).

robodoo on (2025-01-31 08:22:38 UTC): @nim-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2820952680,pull_request,open,,[IMP] mail: removed padding around participant card,"This commit removes the padding around the participant card when it is not minimized (screen share and video).
This is commit also makes the call controls floating in the chat window, in order to save more space.

| Before  | After |
| ------------- | ------------- |
| ![Pasted image 20250130144215](https://github.com/user-attachments/assets/14d728b3-9838-42ec-994c-4d71c0dc5444) | ![image](https://github.com/user-attachments/assets/1ab5b33c-941a-416e-809d-a6f514f5ef06)  |

task-4448832
",Atovange,2025-01-30 14:14:17+00:00,[],2025-02-04 10:38:14+00:00,,https://github.com/odoo/odoo/pull/195806,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624631296, 'issue_id': 2820952680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195806.png)](https://mergebot.odoo.com/odoo/odoo/pull/195806)', 'created_at': datetime.datetime(2025, 1, 30, 14, 14, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:14:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195806.png)](https://mergebot.odoo.com/odoo/odoo/pull/195806)

"
2820943531,pull_request,closed,,[FW][FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195587
Forward-Port-Of: odoo/odoo#195539",fw-bot,2025-01-30 14:10:39+00:00,[],2025-01-31 08:44:07+00:00,2025-01-31 08:44:07+00:00,https://github.com/odoo/odoo/pull/195805,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624622277, 'issue_id': 2820943531, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195805.png)](https://mergebot.odoo.com/odoo/odoo/pull/195805)', 'created_at': datetime.datetime(2025, 1, 30, 14, 10, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624622294, 'issue_id': 2820943531, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 10, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624672521, 'issue_id': 2820943531, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 31, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626008491, 'issue_id': 2820943531, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74257918)', 'created_at': datetime.datetime(2025, 1, 31, 0, 23, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626473614, 'issue_id': 2820943531, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 1, 31, 7, 24, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:10:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195805.png)](https://mergebot.odoo.com/odoo/odoo/pull/195805)

fw-bot (Issue Creator) on (2025-01-30 14:10:41 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 14:31:41 UTC): @walidsahli @dmo-odoo ci/template failed on this forward-port PR

robodoo on (2025-01-31 00:23:39 UTC): @walidsahli @dmo-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74257918)

d-fence on (2025-01-31 07:24:37 UTC): robodoo retry
(failing test deactivated)

"
2820942731,pull_request,closed,,[FW][FIX] auth_ldap: add email on new res.partner,"Before this commit, when a new res.user is created after signing in with auth_ldap, there was no email on the linked res.partner, which may cause issues in modules such as helpdesk, where partner email is used to find related tickets.

res.users created through the form view will trigger the onchange which sets the 'email' = 'login', which does not happen when creating a user directly through the ORM.

This commit adds 'email' as a key which is returned by the method _map_ldap_attributes, which is used to create new partners with the correct email associated with the res.user login.

opw-4378487



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193835
Forward-Port-Of: odoo/odoo#193495",fw-bot,2025-01-30 14:10:20+00:00,[],2025-02-06 12:37:57+00:00,2025-02-06 12:37:57+00:00,https://github.com/odoo/odoo/pull/195804,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624621562, 'issue_id': 2820942731, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195804.png)](https://mergebot.odoo.com/odoo/odoo/pull/195804)', 'created_at': datetime.datetime(2025, 1, 30, 14, 10, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624621597, 'issue_id': 2820942731, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 10, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:10:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195804.png)](https://mergebot.odoo.com/odoo/odoo/pull/195804)

fw-bot (Issue Creator) on (2025-01-30 14:10:22 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820941439,pull_request,closed,,[FW][IMP] hr_attendance: remove kiosk modal,"**Specifications:**
- remove modal when user click on kiosk mode and directly open kiosk view.
- add an install button in kiosk view

**After this PR:**
Modal will be removed while opening kiosk mode in hr_attendance.

Task-4161336

Forward-Port-Of: odoo/odoo#182308",fw-bot,2025-01-30 14:09:49+00:00,[],2025-01-31 13:50:31+00:00,2025-01-31 13:50:31+00:00,https://github.com/odoo/odoo/pull/195803,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624620261, 'issue_id': 2820941439, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195803.png)](https://mergebot.odoo.com/odoo/odoo/pull/195803)', 'created_at': datetime.datetime(2025, 1, 30, 14, 9, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624620299, 'issue_id': 2820941439, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 9, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626358033, 'issue_id': 2820941439, 'author': 'fw-bot', 'body': ""@nihp-odoo @tde-banana-odoo child PR odoo/odoo#195830 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 31, 5, 46, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626857521, 'issue_id': 2820941439, 'author': 'nihp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 23, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:09:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195803.png)](https://mergebot.odoo.com/odoo/odoo/pull/195803)

fw-bot (Issue Creator) on (2025-01-30 14:09:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 05:46:37 UTC): @nihp-odoo @tde-banana-odoo child PR odoo/odoo#195830 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

nihp-odoo on (2025-01-31 10:23:04 UTC): @robodoo r+

"
2820940136,pull_request,closed,,[FW][IMP] event: remove kiosk modal,"**Specifications:**
- remove modal when user click on registration desk and directly open desk view.
- Add an Install button in desk view

**After this PR:**
Modal will be removed while opening kiosk mode in event.

Task-4161336

Forward-Port-Of: odoo/odoo#182299",fw-bot,2025-01-30 14:09:15+00:00,[],2025-01-31 11:14:34+00:00,2025-01-31 11:14:34+00:00,https://github.com/odoo/odoo/pull/195802,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624618969, 'issue_id': 2820940136, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195802.png)](https://mergebot.odoo.com/odoo/odoo/pull/195802)', 'created_at': datetime.datetime(2025, 1, 30, 14, 9, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624618993, 'issue_id': 2820940136, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#182299 failed.\n\nstdout:\n```\nAuto-merging addons/event/i18n/event.pot\nCONFLICT (content): Merge conflict in addons/event/i18n/event.pot\nAuto-merging addons/event/static/src/client_action/event_barcode.js\nAuto-merging addons/event/views/event_event_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 9, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626463203, 'issue_id': 2820940136, 'author': 'nihp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 16, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:09:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195802.png)](https://mergebot.odoo.com/odoo/odoo/pull/195802)

fw-bot (Issue Creator) on (2025-01-30 14:09:17 UTC): @nihp-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#182299 failed.

stdout:
```
Auto-merging addons/event/i18n/event.pot
CONFLICT (content): Merge conflict in addons/event/i18n/event.pot
Auto-merging addons/event/static/src/client_action/event_barcode.js
Auto-merging addons/event/views/event_event_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nihp-odoo on (2025-01-31 07:16:09 UTC): @robodoo r+

"
2820939345,pull_request,closed,,"[FW][FIX] product, website_sale: fall back on geoip country for pricelists","Versions
--------
- 17.0+

Steps
-----
1. Ensure `geoip` works (or patch the `_get_geoip_country_code` method);
2. create two pricelists for the website;
3. first should be restricted to EU countries & use EUR;
4. second one shouldn't be restricted to any country & use USD;
5. log in as a Portal user without address details from a EU IP;
6. open the shop.

Issue
-----
The prices are displayed in USD.

Cause
-----
The geoip country is taken into account for public users, but not for partners. Instead it relies on the partner's country_id, which could be empty.

Solution
--------
When computing the `property_product_pricelist`, add the geoip country to the context. Use this value in the fallback for partners without specific pricelist property set, and without a `country_id`.

opw-4398543

Forward-Port-Of: odoo/odoo#195723
Forward-Port-Of: odoo/odoo#194885",fw-bot,2025-01-30 14:08:56+00:00,[],2025-01-31 16:22:55+00:00,2025-01-31 16:22:55+00:00,https://github.com/odoo/odoo/pull/195801,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624618124, 'issue_id': 2820939345, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195801.png)](https://mergebot.odoo.com/odoo/odoo/pull/195801)', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624618149, 'issue_id': 2820939345, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#194885 failed.\n\nstdout:\n```\nAuto-merging addons/product/models/product_pricelist.py\nCONFLICT (content): Merge conflict in addons/product/models/product_pricelist.py\nAuto-merging addons/product/models/res_partner.py\nAuto-merging addons/website_sale/models/website.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625084900, 'issue_id': 2820939345, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 17, 9, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625194056, 'issue_id': 2820939345, 'author': 'robodoo', 'body': ""@lvsz 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 17, 55, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:08:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195801.png)](https://mergebot.odoo.com/odoo/odoo/pull/195801)

fw-bot (Issue Creator) on (2025-01-30 14:08:57 UTC): @lvsz cherrypicking of pull request odoo/odoo#194885 failed.

stdout:
```
Auto-merging addons/product/models/product_pricelist.py
CONFLICT (content): Merge conflict in addons/product/models/product_pricelist.py
Auto-merging addons/product/models/res_partner.py
Auto-merging addons/website_sale/models/website.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-30 17:09:52 UTC): robodoo r+

robodoo on (2025-01-30 17:55:38 UTC): @lvsz 'ci/runbot' failed on this reviewed PR.

"
2820938561,pull_request,closed,,[FW][FIX] stock_account: avoid traceback when processing valuation lot,"Steps to reproduce the bug:
- Create a storable product “P1”:
    - Product category: “AVCO”
    - BoM:
        - Type: Kit
        - Components:
            - C1: Tracked by lot and valuated by lot
            - C2
- Create a purchase order:
    - 1 unit of P1 → Price: $10
- Confirm the PO

- Go to the reception:
    - Set a new lot (Lot_1) for C1
    - Validate the reception

Problem:
A traceback is triggered:
```
new_std_price = move_cost[lot]
~~~~~~~~~^^^^^ KeyError: stock.lot(19,)""
```

When validating the picking, the moves will first be validated, and then
the product price will be updated before the move is marked as done:
https://github.com/odoo/odoo/blob/168f4d75ef724ee99ffaf7884730facd8ed936bb/addons/stock_account/models/stock_move.py#L387-L388

The move cost is retrieved using the _get_price_unit function:
https://github.com/odoo/odoo/commit/2d933b83613ad52d76ab457201adecac6fcf184b#diff-ad6229e976ce0bd1592e805b88e9813ac4e3f6fb989d3dfb8dfb8b70af03cd58R403

However, since move.product_id is different from move.purchase_line,
the parent product will be treated as a kit, and the unit price of the
kit product will be used instead: https://github.com/odoo/odoo/blob/17.0/addons/purchase_mrp/models/stock_move.py#L19
Based on this, the unit price for each component is calculated using
the cost_share and the bom_lines quantities. This is then stored in a
dictionary with an empty record of the ```”stock.lot”``` model:

When attempting to access the dictionary using the lot key from the move,
no result is returned, leading to an error.
https://github.com/odoo/odoo/blob/2d933b83613ad52d76ab457201adecac6fcf184b/addons/stock_account/models/stock_move.py#L425

Solution:
The process should account for the fact that the move product is a
component of a kit. Therefore, the price should be directly retrieved
from the dictionary without requiring a key.

opw-4434390

Forward-Port-Of: odoo/odoo#195303",fw-bot,2025-01-30 14:08:36+00:00,[],2025-01-31 12:29:43+00:00,2025-01-31 12:29:43+00:00,https://github.com/odoo/odoo/pull/195800,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624617275, 'issue_id': 2820938561, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195800.png)](https://mergebot.odoo.com/odoo/odoo/pull/195800)', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624617304, 'issue_id': 2820938561, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624740720, 'issue_id': 2820938561, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 15, 2, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624775109, 'issue_id': 2820938561, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 30, 15, 14, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626643111, 'issue_id': 2820938561, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 32, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626644209, 'issue_id': 2820938561, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 33, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626644279, 'issue_id': 2820938561, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 31, 8, 33, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:08:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195800.png)](https://mergebot.odoo.com/odoo/odoo/pull/195800)

fw-bot (Issue Creator) on (2025-01-30 14:08:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 15:02:24 UTC): @DjamelTouati @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 15:14:37 UTC): @DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-01-31 08:32:47 UTC): robodoo r+

DjamelTouati on (2025-01-31 08:33:20 UTC): robodoo r+

robodoo on (2025-01-31 08:33:22 UTC): This PR is already reviewed, reviewing it again is useless.

"
2820937801,pull_request,closed,,[FW][FIX] web_hierarchy: fix the view icon rendering,"This PR aims to fix an issue about the icon related to the hierarchy view not being rotated anymore.

| 18.0 and above | This PR |
|--------|--------|
| <img width=""529"" alt=""image"" src=""https://github.com/user-attachments/assets/11289aa4-948d-4725-b8d5-e91bf5d601fc"" /> | <img width=""531"" alt=""image"" src=""https://github.com/user-attachments/assets/bc74ef4e-6e74-47d1-ac06-6bde1d6ed933"" /> | 

To render the icon of the hierarchy view, we use a little trick by rotating the `fa-share-alt` icon so that it looks like a tree diagram one.

Unfortunately, this does not work anymore in `18.0` and above. It seems the CSS won't be loaded until you entered the module, which leads to the icon being rendered to `fa-share-alt` by default and then rotated correctly once you click on it.

To fix this issue, we actually make use of available utility classes `fa-rotate-90`to handle the icon rotation and `align-text-top` to handle the vertical alignment when the icon is rendered within a node.

task-4501317


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194663",fw-bot,2025-01-30 14:08:17+00:00,[],2025-01-30 19:01:43+00:00,2025-01-30 19:01:43+00:00,https://github.com/odoo/odoo/pull/195799,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624616510, 'issue_id': 2820937801, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195799.png)](https://mergebot.odoo.com/odoo/odoo/pull/195799)', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624616540, 'issue_id': 2820937801, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:08:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195799.png)](https://mergebot.odoo.com/odoo/odoo/pull/195799)

fw-bot (Issue Creator) on (2025-01-30 14:08:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820937047,pull_request,closed,,[FW][FIX] survey: disable embedded components in survey editor,"**Problem**:
Embedded components do not render when the `html` field content is displayed outside the editor, as their mechanism relies on the editor plugin.

**Solution**:
Disable embedded components for the survey.

**Steps to Reproduce**:
1. In a survey, add a section.
2. Add a ""View"" button. (Debug mode ON)
3. Use the `/` command box and add the ""Video link"" option.
4. Save and test the survey.
5. The video does not display.

opw-4487027

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194657",fw-bot,2025-01-30 14:07:58+00:00,[],2025-01-31 11:14:39+00:00,2025-01-31 11:14:39+00:00,https://github.com/odoo/odoo/pull/195798,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624615741, 'issue_id': 2820937047, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195798.png)](https://mergebot.odoo.com/odoo/odoo/pull/195798)', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624615763, 'issue_id': 2820937047, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:07:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195798.png)](https://mergebot.odoo.com/odoo/odoo/pull/195798)

fw-bot (Issue Creator) on (2025-01-30 14:08:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820936358,pull_request,closed,,[FW][FIX] l10n_sa_edi_pos: prevent error when validating zero total orders,"Before this commit, attempting to validate an order with a zero total (such as when fully paid using an eWallet) would result in an error.

opw-4487591

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195264",fw-bot,2025-01-30 14:07:39+00:00,[],2025-01-31 13:50:15+00:00,2025-01-31 13:50:15+00:00,https://github.com/odoo/odoo/pull/195797,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624614994, 'issue_id': 2820936358, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195797.png)](https://mergebot.odoo.com/odoo/odoo/pull/195797)', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624615029, 'issue_id': 2820936358, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:07:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195797.png)](https://mergebot.odoo.com/odoo/odoo/pull/195797)

fw-bot (Issue Creator) on (2025-01-30 14:07:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820935523,pull_request,closed,,[FW][FIX] account: fix traceback when registering payment with no invoice date,"Currently, a traceback occurs when there is no invoice date and tries to register a payment
from actions.

To reproduce this issue:

1) Install accounting
2) Create a customer invoice with payment term having an early discount 
3) Make sure the invoice date to be empty
4) Add a line and from actions click pay

Error:-
```
TypeError: unsupported operand type(s) for +: 'bool' and 'relativedelta'
```

In account move, `invoice_date` is not required. So when the user tries to 
register a payment with payment term having an early discount and no invoice date, 
It leads to the above traceback from below line.

https://github.com/odoo/odoo/blob/ee48df7f33a3aeb1798bf5852be8c6d26a7db7fd/addons/account/models/account_payment_term.py#L256-L258

Indeed, a date is required to get an early discount date. 
so without date, we should not execute the `_get_last_discount_date` method.

In some other locations, it was managed in a similar manner as indicated in the below line.

https://github.com/odoo/odoo/blob/ee48df7f33a3aeb1798bf5852be8c6d26a7db7fd/addons/account/models/account_payment_term.py#L262-L264

We can resolve this issue by adding an additional check of invoice_date, 
Which makes the code more robust.

sentry-6149404219

Forward-Port-Of: odoo/odoo#190801",fw-bot,2025-01-30 14:07:20+00:00,[],2025-01-31 13:50:59+00:00,2025-01-31 13:50:59+00:00,https://github.com/odoo/odoo/pull/195796,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624614317, 'issue_id': 2820935523, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195796.png)](https://mergebot.odoo.com/odoo/odoo/pull/195796)', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624614360, 'issue_id': 2820935523, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624717968, 'issue_id': 2820935523, 'author': 'fw-bot', 'body': '@alsh-odoo @rugo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 54, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:07:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195796.png)](https://mergebot.odoo.com/odoo/odoo/pull/195796)

fw-bot (Issue Creator) on (2025-01-30 14:07:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 14:54:12 UTC): @alsh-odoo @rugo-odoo ci/runbot failed on this forward-port PR

"
2820934729,pull_request,closed,,[FW][FIX] web: add a fallback if there is no previous controller,"- open a record with an URL: `/{model}/{id}`;
- delete or archive the record;

Before this commit, an empty form view was displayed, with an incorrect URL: `/{model}/new`. This form view was inconsistent, and would throw an error in some applications (such as accounting). Even if no error was thrown, an error would be thrown if the user clicked on the 'back' button.

This is not the correct behaviour, when deleting or archiving a record, the correct behaviour is :
- if a pager exists, display the next record;
- if not, return to the previous controller (the previous action, usually the multi-record view);

The issue here is that we don't have a previous action or a multi-record view.

Now, in this particular case, we will fallback to the default application.

opw-4354129

Forward-Port-Of: odoo/odoo#195670
Forward-Port-Of: odoo/odoo#195393",fw-bot,2025-01-30 14:07:00+00:00,[],2025-01-30 19:01:48+00:00,2025-01-30 19:01:48+00:00,https://github.com/odoo/odoo/pull/195795,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624614231, 'issue_id': 2820934729, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195795.png)](https://mergebot.odoo.com/odoo/odoo/pull/195795)', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624614258, 'issue_id': 2820934729, 'author': 'fw-bot', 'body': '@jpp-odoo @aab-odoo cherrypicking of pull request odoo/odoo#195393 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/webclient/actions/action_service.js\nAuto-merging addons/web/static/tests/views/form/form_view.test.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/views/form/form_view.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624632946, 'issue_id': 2820934729, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 15, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:07:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195795.png)](https://mergebot.odoo.com/odoo/odoo/pull/195795)

fw-bot (Issue Creator) on (2025-01-30 14:07:22 UTC): @jpp-odoo @aab-odoo cherrypicking of pull request odoo/odoo#195393 failed.

stdout:
```
Auto-merging addons/web/static/src/webclient/actions/action_service.js
Auto-merging addons/web/static/tests/views/form/form_view.test.js
CONFLICT (content): Merge conflict in addons/web/static/tests/views/form/form_view.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jpp-odoo on (2025-01-30 14:15:01 UTC): @robodoo r+

"
2820933973,pull_request,closed,,"[FW][FIX] web_editor, website_blog: new update translation controller","In the current implementation, updating translations for a `blog.post`
via the route
`/web/dataset/call_kw/blog.post/web_update_field_translations`
fails to apply changes when the post has already been translated once.
This issue is caused by how the system fetches `website.default_lang_id`
from the request.

__Current behavior before commit:__
When editing a previously translated field for `blog.post` or
`product.template`, the system retrieves the website from the request to
determine the `source_lang`. This is used to search for the original
term in the source language and update its translation. However, due to
the `website=True` parameter not being set for the controller,the system
defaults to English (`source_lang = 'en_US'`). As a result:

1. The system searches for the original word in English, even if it
exists in another language.
2. The translation update fails because the original word cannot be
found in English.

__Description of the fix:__
A new controller was introduced to specifically handle translation
updates, ensuring the correct language is fetched and the translation
logic is applied correctly.

__Steps to reproduce the issue:__
1. Add 2 or more languages to the website.
2. Set the default language to any language other than English (US).
3. Create a blog post and write text in the default language.
4. Switch to another language, translate the text and save.
5. Edit the translated text again.
The last edits are not saved.

- bug introduced in: [#06346b0][1]
- opw-4239512

[1]: https://github.com/odoo/odoo/commit/06346b049a3a13a9a8b63a4f60151ec24fabb59e

Forward-Port-Of: odoo/odoo#195352
Forward-Port-Of: odoo/odoo#184415",fw-bot,2025-01-30 14:06:41+00:00,[],2025-02-06 14:06:53+00:00,2025-02-06 14:06:53+00:00,https://github.com/odoo/odoo/pull/195794,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624614157, 'issue_id': 2820933973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195794.png)](https://mergebot.odoo.com/odoo/odoo/pull/195794)', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624614184, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624627696, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624627876, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 12, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624635347, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 15, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626138280, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685595, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202171, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629249637, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 2, 5, 23, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629731078, 'issue_id': 2820933973, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639680686, 'issue_id': 2820933973, 'author': 'HydrionBurst', 'body': '@vega-odoo Could you continue forwardporting this PR?', 'created_at': datetime.datetime(2025, 2, 6, 12, 22, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639699871, 'issue_id': 2820933973, 'author': 'vega-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 31, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:07:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195794.png)](https://mergebot.odoo.com/odoo/odoo/pull/195794)

fw-bot (Issue Creator) on (2025-01-30 14:07:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 14:12:53 UTC): @vega-odoo @HydrionBurst ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 14:12:56 UTC): @vega-odoo @HydrionBurst ci/template failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 14:15:55 UTC): @vega-odoo @HydrionBurst ci/upgrade_enterprise failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 02:02:19 UTC): @vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:50 UTC): @vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:14 UTC): @vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 05:23:36 UTC): @vega-odoo @HydrionBurst this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-02-03 02:03:21 UTC): @vega-odoo @HydrionBurst this forward port of odoo/odoo#184415 is awaiting action (not merged or closed).

HydrionBurst on (2025-02-06 12:22:44 UTC): @vega-odoo Could you continue forwardporting this PR?

vega-odoo on (2025-02-06 12:31:24 UTC): @robodoo r+

"
2820933144,pull_request,closed,,[FW][FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.

Forward-Port-Of: odoo/odoo#195679
Forward-Port-Of: odoo/odoo#195637",fw-bot,2025-01-30 14:06:22+00:00,[],2025-01-30 17:28:03+00:00,2025-01-30 17:28:02+00:00,https://github.com/odoo/odoo/pull/195793,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624614073, 'issue_id': 2820933144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195793.png)](https://mergebot.odoo.com/odoo/odoo/pull/195793)', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624614109, 'issue_id': 2820933144, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker cherrypicking of pull request odoo/odoo#195637 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale_loyalty/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 7, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624635290, 'issue_id': 2820933144, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 15, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:07:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195793.png)](https://mergebot.odoo.com/odoo/odoo/pull/195793)

fw-bot (Issue Creator) on (2025-01-30 14:07:18 UTC): @lvsz @Demesmaeker cherrypicking of pull request odoo/odoo#195637 failed.

stdout:
```
Auto-merging addons/website_sale_loyalty/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-30 14:15:53 UTC): robodoo r+

"
2820930827,pull_request,closed,,[FW][FIX] l10n_br_website_sale: b2b fields error,"The b2b fields are still required in the portal form
even if the ""Show b2b fields"" is deactivated

Steps:

- From the website editor, on the checkout form,
  unselect the ""Show b2b fields"" setting
- Log out and go to ecommerce
- Add a product to card and checkout
- Fill the address form with a Brazilian address
-> Error: ""Some required fields are empty.""

With this commit, we add the field `vat` to the mandatory fields only if
the option ""Show b2b"" fields is activated.

opw-4403161

Forward-Port-Of: odoo/odoo#194110",fw-bot,2025-01-30 14:05:25+00:00,[],2025-01-30 18:17:54+00:00,2025-01-30 18:17:54+00:00,https://github.com/odoo/odoo/pull/195792,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624609286, 'issue_id': 2820930827, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195792.png)](https://mergebot.odoo.com/odoo/odoo/pull/195792)', 'created_at': datetime.datetime(2025, 1, 30, 14, 5, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624609368, 'issue_id': 2820930827, 'author': 'fw-bot', 'body': '@guva-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#194110 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_br_website_sale/controllers/main.py\nCONFLICT (content): Merge conflict in addons/l10n_br_website_sale/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 5, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624848696, 'issue_id': 2820930827, 'author': 'guva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 41, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 14:05:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195792.png)](https://mergebot.odoo.com/odoo/odoo/pull/195792)

fw-bot (Issue Creator) on (2025-01-30 14:05:29 UTC): @guva-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#194110 failed.

stdout:
```
Auto-merging addons/l10n_br_website_sale/controllers/main.py
CONFLICT (content): Merge conflict in addons/l10n_br_website_sale/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

guva-odoo on (2025-01-30 15:41:25 UTC): @robodoo r+

"
2820913576,pull_request,closed,,[FIX] spreadsheet: don't reload with global filter,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-30 13:58:22+00:00,[],2025-01-31 10:37:21+00:00,2025-01-31 10:37:21+00:00,https://github.com/odoo/odoo/pull/195791,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624591980, 'issue_id': 2820913576, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195791.png)](https://mergebot.odoo.com/odoo/odoo/pull/195791)', 'created_at': datetime.datetime(2025, 1, 30, 13, 58, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626402550, 'issue_id': 2820913576, 'author': 'robodoo', 'body': '@pro-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 31, 6, 25, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:58:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195791.png)](https://mergebot.odoo.com/odoo/odoo/pull/195791)

robodoo on (2025-01-31 06:25:01 UTC): @pro-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2820909920,pull_request,closed,,[FW][FIX] website: fix the old image gallery crash after upgrading,"Steps to reproduce:

- In V17.0 drag and drop an ""Image Gallery"" block into the page.
- Upgrade to 18.0
- Click on the last ""Image Gallery"" indicator and then quickly on the first one.
- Traceback: ""TypeError: Cannot read properties of null (reading 'classList') at Carousel._setActiveIndicatorElement ...""

This issue is caused by the front-end code of the image gallery, which updates the active indicator during a slide event. When the crash happens, it cannot find the active slide in the DOM.

After investigation, everything already works with Bootstrap, and the purpose of this code remains unclear. However, in the stable version, we are not taking any risks and will not modify it.

In this commit, we simply added a return; in case the active slide is not found.

opw-4519455

Forward-Port-Of: odoo/odoo#195606",fw-bot,2025-01-30 13:56:56+00:00,[],2025-01-31 13:04:41+00:00,2025-01-31 13:04:41+00:00,https://github.com/odoo/odoo/pull/195790,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624588345, 'issue_id': 2820909920, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195790.png)](https://mergebot.odoo.com/odoo/odoo/pull/195790)', 'created_at': datetime.datetime(2025, 1, 30, 13, 56, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624588364, 'issue_id': 2820909920, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 56, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:56:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195790.png)](https://mergebot.odoo.com/odoo/odoo/pull/195790)

fw-bot (Issue Creator) on (2025-01-30 13:56:58 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820887088,pull_request,closed,,[FW][FIX] websites_slides: allow pdf zoom in and out on phone,"Upon zooming in on the elearning slides view from the mobile by
finger pinch, the whole page zooms in and not just the content,
which causes the content quality to be still blurry.

To Reproduce on Runbot:
1.Go to eLearning module.
2.Go to ""Edit"" on any of the courses.
3.Add a pdf content.
4.From the phone, go to the website elearning for the same course.
4.Click on the pdf content we uploaded.
5.Try finger pinch zooming in, the document gets still blurry.
6.The issue seems to be that there's no finger pinch zoom in and out,
  and when you try doing that the whole page zooms in and out, not
  changing the quality of the document.

So, the solution was to make zoom in and out icon available on small
screen devices as well.

opw-3893275

Forward-Port-Of: odoo/odoo#178655",fw-bot,2025-01-30 13:47:38+00:00,[],2025-01-31 17:45:39+00:00,2025-01-31 17:45:39+00:00,https://github.com/odoo/odoo/pull/195789,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624565367, 'issue_id': 2820887088, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195789.png)](https://mergebot.odoo.com/odoo/odoo/pull/195789)', 'created_at': datetime.datetime(2025, 1, 30, 13, 47, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624565387, 'issue_id': 2820887088, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 47, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624666949, 'issue_id': 2820887088, 'author': 'fw-bot', 'body': '@bikh-odoo @flch-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 14, 29, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:47:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195789.png)](https://mergebot.odoo.com/odoo/odoo/pull/195789)

fw-bot (Issue Creator) on (2025-01-30 13:47:40 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 14:29:09 UTC): @bikh-odoo @flch-odoo ci/runbot failed on this forward-port PR

"
2820883385,pull_request,closed,,[FW][FIX] base: prevent branding on wrapped nodes identified by xpath($0),"The $0 placeholder in templates is highly useful, but it is not considered when saving a view. For instance, the search icon in the shop search bar has an incorrect xpath:
`/data/xpath[3]/form/t[1]/div[1]/button[1]/i[1]`, where the inner `t[1]` actually points to another view through a `<t>$0</t>` containing the inherited view.

The method responsible for handling this replacement fails when the element is editable, causing a crash.

This commit ensures that when an xpath jumps to another template, it disallows the branding.

task-3609835

Forward-Port-Of: odoo/odoo#187760",fw-bot,2025-01-30 13:46:08+00:00,[],2025-01-31 08:32:22+00:00,2025-01-31 08:32:22+00:00,https://github.com/odoo/odoo/pull/195788,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624561716, 'issue_id': 2820883385, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195788.png)](https://mergebot.odoo.com/odoo/odoo/pull/195788)', 'created_at': datetime.datetime(2025, 1, 30, 13, 46, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624561745, 'issue_id': 2820883385, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 46, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:46:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195788.png)](https://mergebot.odoo.com/odoo/odoo/pull/195788)

fw-bot (Issue Creator) on (2025-01-30 13:46:09 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820883295,pull_request,closed,,[FIX] web: fix export for inherited properties,"Try to export one selected product.product generate a traceback due to the `_get_property_fields` that doesn't manage inherited properties.


opw-4438752",ryv-odoo,2025-01-30 13:46:05+00:00,[],2025-02-03 13:08:40+00:00,2025-02-03 13:08:40+00:00,https://github.com/odoo/odoo/pull/195787,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624561770, 'issue_id': 2820883295, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195787.png)](https://mergebot.odoo.com/odoo/odoo/pull/195787)', 'created_at': datetime.datetime(2025, 1, 30, 13, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630395793, 'issue_id': 2820883295, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 24, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630395879, 'issue_id': 2820883295, 'author': 'robodoo', 'body': '@ryv-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 9, 24, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:46:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195787.png)](https://mergebot.odoo.com/odoo/odoo/pull/195787)

ryv-odoo (Issue Creator) on (2025-02-03 09:24:52 UTC): @robodoo r+

robodoo on (2025-02-03 09:24:55 UTC): @ryv-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2820877665,pull_request,closed,,[FIX] marketing_card: make page titles translatable,[opw-4421055](https://www.odoo.com/odoo/project.task/4504454),dylankiss,2025-01-30 13:43:40+00:00,[],2025-01-30 21:50:38+00:00,2025-01-30 21:50:38+00:00,https://github.com/odoo/odoo/pull/195786,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624556130, 'issue_id': 2820877665, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195786.png)](https://mergebot.odoo.com/odoo/odoo/pull/195786)', 'created_at': datetime.datetime(2025, 1, 30, 13, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624801420, 'issue_id': 2820877665, 'author': 'dylankiss', 'body': '@robodoo up to saas-18.1\r\nIn master we want to make a lot more fields translatable: https://github.com/odoo/odoo/pull/195829', 'created_at': datetime.datetime(2025, 1, 30, 15, 24, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624801530, 'issue_id': 2820877665, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 1, 30, 15, 24, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:43:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195786.png)](https://mergebot.odoo.com/odoo/odoo/pull/195786)

dylankiss (Issue Creator) on (2025-01-30 15:24:21 UTC): @robodoo up to saas-18.1
In master we want to make a lot more fields translatable: https://github.com/odoo/odoo/pull/195829

robodoo on (2025-01-30 15:24:23 UTC): Forward-porting to 'saas-18.1'.

"
2820873697,pull_request,closed,,[IMP] mail: quick reaction opens full picker on char keypress,"""Add reaction"" message action shows the quick reaction menu, which shows a nice listing of the most frequently used emoji.

Sometimes the desired emoji is not there, and it's clunky to click on ""+"" and then search.

This commit intercepts keydown that are not used for naviation in the quick reaction menu, so that it automatically opens the full emoji picker. That way, we can quickly search for the desired emoji for the message reaction

![Jan-30-2025 15-35-36](https://github.com/user-attachments/assets/ab92868e-5e89-4b65-ad98-0c5ee1a1c1eb)
",alexkuhn,2025-01-30 13:41:55+00:00,[],2025-01-31 11:27:31+00:00,2025-01-31 11:14:43+00:00,https://github.com/odoo/odoo/pull/195785,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624551758, 'issue_id': 2820873697, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195785.png)](https://mergebot.odoo.com/odoo/odoo/pull/195785)', 'created_at': datetime.datetime(2025, 1, 30, 13, 41, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624777271, 'issue_id': 2820873697, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 15, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624881652, 'issue_id': 2820873697, 'author': 'robodoo', 'body': ""@alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 15, 53, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626571705, 'issue_id': 2820873697, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 11, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:41:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195785.png)](https://mergebot.odoo.com/odoo/odoo/pull/195785)

tsm-odoo on (2025-01-30 15:15:25 UTC): @robodoo r+

robodoo on (2025-01-30 15:53:16 UTC): @alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR.

tsm-odoo on (2025-01-31 08:11:14 UTC): @robodoo r+

"
2820865961,pull_request,closed,,[FIX] point_of_sale: not use SEPA CT on outgoing pos payments,"Currently, when closing the session, you would encounter an issue if the a refund payment was done using bank payment method and on the journal, the SEPA Credit Transfer is positionned first in the sequence.

Steps to reproduce:
-------------------
* Install `l10n_fr`, `point_of_sale`, and `account_sepa`
* Switch to the `FR Company`
* In the **Invoicing** app, select **Configuration** > **Journals**
* Select the `Bank` journal
* Set proper IBAN account
* In **Outgoing Payments**, move `SEPA Credit Transfer` to the top
* In **Point of sale**, open pos shop
* Select any product, change the price or qty to be negative (or make a refund for an order with no customer)
* Select `Bank` payment method
* Validate
* Try closing session
> Observation: Closing session error: An error has occurred when trying to
close the sesion. You will be redirected to the back-end to manually close the session.
* In the backend, try to close the session
> Observation: To record payments with False, the recipient bank account
must be manually validated. You should go on the partner bank account in order to validate it.

Why the fix:
------------
The first payment_method_line will be used among the available payment method lines:
https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L461-L465 https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L470-L475

In the context of the point of sale, using SEPA CT in the context of refunds does not make too much sense. Indeed, in the pos a refund can be done on an order which is not related to a client. By definition, when using SEPA your are supposed to know the client and it bank account number.

We exclude the possibility of using SEPA CT when creating refund account payments coming from the Pos.

opw-4310781",sbel-odoo,2025-01-30 13:38:35+00:00,[],2025-02-03 16:38:37+00:00,2025-02-03 16:38:36+00:00,https://github.com/odoo/odoo/pull/195784,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624543479, 'issue_id': 2820865961, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195784.png)](https://mergebot.odoo.com/odoo/odoo/pull/195784)', 'created_at': datetime.datetime(2025, 1, 30, 13, 38, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:38:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195784.png)](https://mergebot.odoo.com/odoo/odoo/pull/195784)

"
2820859092,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: the number sent in vendor bills should be the…,"… ref, not the name

For Bizkaia, when we send the invoices, the numfactura and seriefactura should be the name of the vendor and the one of the customer.

In order to make it possible to correct it and to cancel an invoice with the previous way of doing, we check in the original XML what the dates sent were.

opw-4498833

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195113",fw-bot,2025-01-30 13:35:41+00:00,[],2025-01-30 17:27:58+00:00,2025-01-30 17:27:58+00:00,https://github.com/odoo/odoo/pull/195783,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624536266, 'issue_id': 2820859092, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195783.png)](https://mergebot.odoo.com/odoo/odoo/pull/195783)', 'created_at': datetime.datetime(2025, 1, 30, 13, 35, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624536287, 'issue_id': 2820859092, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 35, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624803799, 'issue_id': 2820859092, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 25, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:35:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195783.png)](https://mergebot.odoo.com/odoo/odoo/pull/195783)

fw-bot (Issue Creator) on (2025-01-30 13:35:43 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jco-odoo on (2025-01-30 15:25:11 UTC): @robodoo r+

"
2820852564,pull_request,open,,[FIX] calendar_sms: calendar reminder event matching,"[FIX] calendar_sms: calendar reminder event matching

The Issue
SMS reminders are sent to customers for calendar events regardless of whether they are scheduled for 1 hour before or 24 hours before; both reminders are sent.

Steps to Reproduce

1. Create two SMS reminders with different timings: one for 1 hour before the event and another for 24 hours before.
2. Create an attendee (since the calendar event administrator will not receive the SMS). Assign the attendee a phone number and an email.
3. Configure your SMS account to receive free credits (for local: create a SaaS and use its IAP token and UUID to link the IAP service).
4. Create two calendar events:
   - One that starts in 1 hour. (event_1h)
   - One that starts in 24 hours. (event_24h)
5. Add both reminders (1-hour and 24-hour reminders that we will call reminder_1h and reminder_24h) to each event and include the attendee you created. Accept the event invitation on behalf of the attendee.
6. Run the scheduled action that triggers event reminders.

Actual Behavior
For both events, both reminders are triggered.
for event_1h, reminder_1h and reminder_24h are sent.
for event_24h, reminder_1h and reminder_24h are sent.

Expected behavior:
For event_1h, reminder_1h is sent.
For event_24h, reminder_24h is sent.

Why Does This Happen?

After the SQL query, the result is a dictionary:

{""reminder_1h"": ""event_1h"", ""reminder_24h"": ""event_24h""}
(In reality, these should be IDs, but they are represented as strings for clarity.)

The code in the calendar_sms module retrieves all events from the dictionary, so we have a list with [event_1h, event_24h].
It also fetches the reminders that are in the keys of the dictionary (reminder_1h, reminder_24h).
Then it iterates through the events and for each event, checks if the reminders we have exist in the event.
If it exists, it sends an SMS.
(e.g., event_24h has both reminder_1h and reminder_24h linked to it, so it will send both reminders even if one states it starts in one hour, whereas it really starts in 24h).

OPW-4473553
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Yas-Elak,2025-01-30 13:32:50+00:00,[],2025-01-30 14:00:21+00:00,,https://github.com/odoo/odoo/pull/195782,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624529660, 'issue_id': 2820852564, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195782.png)](https://mergebot.odoo.com/odoo/odoo/pull/195782)', 'created_at': datetime.datetime(2025, 1, 30, 13, 32, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:32:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195782.png)](https://mergebot.odoo.com/odoo/odoo/pull/195782)

"
2820849842,pull_request,open,,[IMP] web_editor: enhance sub-options design within the editor,"This PR aims to enhance the sub-options within the editor, fixing an issue about sub-options being overemphasized.

task-4492278

----------

Prior to this PR, both options and sub-options were using the same color, making it a bit hard for the user to distinguish whether he was applying changes on an (sub)option or not.

There were also different issue like options that could be triggered by clicking on their label but without providing any visual feedback, nested sub-options in collapse not showing the user the all the options he unfolded in order to reach the one he's applying changes with.

This PR introduces different improvement to solve these issues by :

#### 1) Setting options to white, while sub-options will remain gray;

| Options and sub-options color - Master | This PR |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/8822d99e-0ca0-45f6-b4cb-5fd0b08da190) | ![image](https://github.com/user-attachments/assets/baf774cd-f219-4744-b4a0-5e97b327fed9) | 


#### 2) Settings the unfold icon to white when hovering 
| Visual feedback when hovering a foldable option - Master| This PR |
|--------|--------|
| <img width=""109"" alt=""image"" src=""https://github.com/user-attachments/assets/0d2ee7ec-31e3-4295-a111-49df4bc46f8e"" /> | <img width=""109"" alt=""image"" src=""https://github.com/user-attachments/assets/d6dd51b6-1b95-4b78-8101-5b8c9bd83ef8"" /> | 

#### 3) Setting a white color to the fold icon when unfolding nested options collapse, highlighting the path user is currently in.
| Options hierarchy visual feedback | This PR |
|--------|--------|
| <img width=""290"" alt=""image"" src=""https://github.com/user-attachments/assets/67ee66db-8d5e-4ce5-bd95-ed919dd0b7d7"" /> | <img width=""289"" alt=""image"" src=""https://github.com/user-attachments/assets/a463fae7-64ac-433a-ae9e-0ae9bce548aa"" /> | 

#### 4) Reviewing the spacing between sub-options, reinforcing the visual
group of each option.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",chgo-odoo,2025-01-30 13:31:34+00:00,[],2025-02-07 15:25:17+00:00,,https://github.com/odoo/odoo/pull/195781,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624526614, 'issue_id': 2820849842, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195781.png)](https://mergebot.odoo.com/odoo/odoo/pull/195781)', 'created_at': datetime.datetime(2025, 1, 30, 13, 31, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627497419, 'issue_id': 2820849842, 'author': 'chgo-odoo', 'body': ""Hello @stefanorigano 👋 \r\n\r\nI added some extra changes to this, but everything we initially planned is there ! I also added a screenshot for each change so you can grasp the overall modifications but it's way more visible on Runbot.\r\n\r\nLet me know what you think 👍"", 'created_at': datetime.datetime(2025, 1, 31, 14, 33, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642550153, 'issue_id': 2820849842, 'author': 'chgo-odoo', 'body': ""Hello @stefanorigano 👋 \r\n\r\nI adapted this according to your suggestions. About your last point and the sub-option icon, I gave it a try yesterday but it was heavy (~40 lines and it was not even handling all the cases). I do agree the current implementation is not perfect but I'd keep it as is, if we compare it to the required CSS to achieve something else."", 'created_at': datetime.datetime(2025, 2, 7, 10, 37, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643169896, 'issue_id': 2820849842, 'author': 'lebl-odoo', 'body': ""I love what it looks now, it is easier to read.\r\n\r\nHowever, I'm not sure how the spacing between elements are computed, here it seems there is higher gap between Quality & Parallax than the others.\r\n![image](https://github.com/user-attachments/assets/2715a3fb-5c5a-4826-9fb2-a58763399cb9)\r\n\r\nOn :hover, the caret change direction while it shouldn't. I had a look in master, it's not the case.\r\n![image](https://github.com/user-attachments/assets/c3baca65-d281-42c0-934a-443fbda4b456)\r\n\r\nMoreover, I'm wondering if the refactoring team should be aware of such a UI change, @sobo-odoo ?"", 'created_at': datetime.datetime(2025, 2, 7, 14, 55, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643241237, 'issue_id': 2820849842, 'author': 'chgo-odoo', 'body': 'Thanks @lebl-odoo, should be fixed now 👍', 'created_at': datetime.datetime(2025, 2, 7, 15, 25, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:31:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195781.png)](https://mergebot.odoo.com/odoo/odoo/pull/195781)

chgo-odoo (Issue Creator) on (2025-01-31 14:33:32 UTC): Hello @stefanorigano 👋 

I added some extra changes to this, but everything we initially planned is there ! I also added a screenshot for each change so you can grasp the overall modifications but it's way more visible on Runbot.

Let me know what you think 👍

chgo-odoo (Issue Creator) on (2025-02-07 10:37:28 UTC): Hello @stefanorigano 👋 

I adapted this according to your suggestions. About your last point and the sub-option icon, I gave it a try yesterday but it was heavy (~40 lines and it was not even handling all the cases). I do agree the current implementation is not perfect but I'd keep it as is, if we compare it to the required CSS to achieve something else.

lebl-odoo on (2025-02-07 14:55:25 UTC): I love what it looks now, it is easier to read.

However, I'm not sure how the spacing between elements are computed, here it seems there is higher gap between Quality & Parallax than the others.
![image](https://github.com/user-attachments/assets/2715a3fb-5c5a-4826-9fb2-a58763399cb9)

On :hover, the caret change direction while it shouldn't. I had a look in master, it's not the case.
![image](https://github.com/user-attachments/assets/c3baca65-d281-42c0-934a-443fbda4b456)

Moreover, I'm wondering if the refactoring team should be aware of such a UI change, @sobo-odoo ?

chgo-odoo (Issue Creator) on (2025-02-07 15:25:13 UTC): Thanks @lebl-odoo, should be fixed now 👍

"
2820833258,pull_request,closed,,[FW][FIX] web_editor: position buttons under cropper,"**Problem**:
The cropper buttons are positioned at the end of the page instead of directly under the image being cropped.

**Solution**:
Remove `position: fixed` from the buttons container, allowing it to be positioned just below the image being cropped/edited.

**Steps to Reproduce**:
1. Navigate to Email Marketing > Start from scratch.
2. Add ""Blocks"" > ""Body"" > ""Columns"".
3. Open the cropping tool on the first image.
4. Observe that the cropping buttons appear at the end of the page, requiring scrolling to access them.

opw-4461565

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194730
Forward-Port-Of: odoo/odoo#193016",fw-bot,2025-01-30 13:24:21+00:00,[],2025-01-31 05:39:57+00:00,2025-01-31 05:39:57+00:00,https://github.com/odoo/odoo/pull/195780,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624509617, 'issue_id': 2820833258, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195780.png)](https://mergebot.odoo.com/odoo/odoo/pull/195780)', 'created_at': datetime.datetime(2025, 1, 30, 13, 24, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624509638, 'issue_id': 2820833258, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195667\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 24, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625671987, 'issue_id': 2820833258, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 21, 51, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:24:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195780.png)](https://mergebot.odoo.com/odoo/odoo/pull/195780)

fw-bot (Issue Creator) on (2025-01-30 13:24:23 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195667

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-30 21:51:13 UTC): @robodoo r+

"
2820824568,pull_request,closed,,[FW][FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195316",fw-bot,2025-01-30 13:20:35+00:00,[],2025-01-31 21:53:24+00:00,2025-01-31 21:53:24+00:00,https://github.com/odoo/odoo/pull/195779,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624500866, 'issue_id': 2820824568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195779.png)](https://mergebot.odoo.com/odoo/odoo/pull/195779)', 'created_at': datetime.datetime(2025, 1, 30, 13, 20, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624500894, 'issue_id': 2820824568, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 20, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624939925, 'issue_id': 2820824568, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet WARNING: the update of odoo/odoo#195758 to aa7c551c0c843f78f790b840f78bb2cb50703a78 has caused a conflict in this pull request, data may have been lost.\n\nstdout:\n```\nAuto-merging addons/website/static/src/scss/website.scss\nCONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss\nAuto-merging addons/website/views/website_templates.xml\n```', 'created_at': datetime.datetime(2025, 1, 30, 16, 15, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624940652, 'issue_id': 2820824568, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet WARNING: the latest change (f3820e3831750003b0177697e8cc6c8682aa79e9) triggered a conflict when updating the next forward-port (odoo/odoo#195813), and has been ignored.\n\nYou will need to update this pull request differently, or fix the issue by hand on odoo/odoo#195813.', 'created_at': datetime.datetime(2025, 1, 30, 16, 15, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627538156, 'issue_id': 2820824568, 'author': 'anso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 52, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:20:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195779.png)](https://mergebot.odoo.com/odoo/odoo/pull/195779)

fw-bot (Issue Creator) on (2025-01-30 13:20:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:15:15 UTC): @anso-odoo @SergeBayet WARNING: the update of odoo/odoo#195758 to aa7c551c0c843f78f790b840f78bb2cb50703a78 has caused a conflict in this pull request, data may have been lost.

stdout:
```
Auto-merging addons/website/static/src/scss/website.scss
CONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss
Auto-merging addons/website/views/website_templates.xml
```

fw-bot (Issue Creator) on (2025-01-30 16:15:33 UTC): @anso-odoo @SergeBayet WARNING: the latest change (f3820e3831750003b0177697e8cc6c8682aa79e9) triggered a conflict when updating the next forward-port (odoo/odoo#195813), and has been ignored.

You will need to update this pull request differently, or fix the issue by hand on odoo/odoo#195813.

anso-odoo on (2025-01-31 14:52:19 UTC): @robodoo r+

"
2820812874,pull_request,closed,,[FW][FIX] analytic: do no re-create plan,"If Projects plan is removed we cannot let it be recreated in a module upgrade. If we allow so the new plan will create an unnecessary column in `account_analytic_line`. This would repeat each time the user upgrades the module in case the plan is removed before the upgrade. In principle this is not an issue, unless account_budget is also installed. In such case the new column for `budget_line` won't be created and that would cause errors.

Steps to reproduce
1. Install `account_budget`
2. Create a new Plan
3. Set the config parameter to the id of the new plan
4. Remove Projects plan
5. Upgrade analytic module
6. Try to create a new analytic account.

There is an error in the frontend
```
OwlError: The following error occurred in onWillStart: """"budget.line"".""x_plan3_id"" field is undefined.""
```

The problem is that since the new plan was created via an upgrade the post init hook of `account_budget` didn't run. Therefore the new column in `budget_line` was not created.

Notes:
* In step 4 above the column `x_plan2_id` in analytic line is left unused. This is not a problem per-se besides extra data dangling in the DB.
* We may argue that we should ensure that the column plan is created in a register_hook in `account_budget` but conceptually the relevant setting is the config parameter, recreating a plan that has no reason to exist could cause more issues down the line.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195710",fw-bot,2025-01-30 13:15:23+00:00,[],2025-01-31 13:03:05+00:00,2025-01-31 13:03:05+00:00,https://github.com/odoo/odoo/pull/195778,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624488760, 'issue_id': 2820812874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195778.png)](https://mergebot.odoo.com/odoo/odoo/pull/195778)', 'created_at': datetime.datetime(2025, 1, 30, 13, 15, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624488790, 'issue_id': 2820812874, 'author': 'fw-bot', 'body': '@aj-fuentes @william-andre cherrypicking of pull request odoo/odoo#195710 failed.\n\nstdout:\n```\nAuto-merging addons/analytic/data/analytic_data.xml\nCONFLICT (content): Merge conflict in addons/analytic/data/analytic_data.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 15, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626515975, 'issue_id': 2820812874, 'author': 'aj-fuentes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:15:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195778.png)](https://mergebot.odoo.com/odoo/odoo/pull/195778)

fw-bot (Issue Creator) on (2025-01-30 13:15:25 UTC): @aj-fuentes @william-andre cherrypicking of pull request odoo/odoo#195710 failed.

stdout:
```
Auto-merging addons/analytic/data/analytic_data.xml
CONFLICT (content): Merge conflict in addons/analytic/data/analytic_data.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aj-fuentes on (2025-01-31 07:55:00 UTC): @robodoo r+

"
2820810887,pull_request,closed,,[FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357
",SergeBayet,2025-01-30 13:14:31+00:00,[],2025-02-03 15:15:04+00:00,2025-02-03 15:15:04+00:00,https://github.com/odoo/odoo/pull/195777,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624486766, 'issue_id': 2820810887, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195777.png)](https://mergebot.odoo.com/odoo/odoo/pull/195777)', 'created_at': datetime.datetime(2025, 1, 30, 13, 14, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626432718, 'issue_id': 2820810887, 'author': 'bso-odoo', 'body': '@robodoo delegate=bvr-odoo', 'created_at': datetime.datetime(2025, 1, 31, 6, 50, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630968455, 'issue_id': 2820810887, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:14:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195777.png)](https://mergebot.odoo.com/odoo/odoo/pull/195777)

bso-odoo on (2025-01-31 06:50:39 UTC): @robodoo delegate=bvr-odoo

bvr-odoo on (2025-02-03 13:10:43 UTC): @robodoo r+

"
2820808264,pull_request,open,,[FIX] website_sale: hide Contact Us button if sale is possible,"Versions
--------
- 18.0+

Steps
-----
1. Enable Prevent Sale of Zero Priced Product;
2. have a product with attributes;
3. set its list price to 0;
4. add a price extra to one of its attributes;
5. go to its eCommerce page;
6. select the price extra attribute.

Issue
-----
Both the ""Add to cart"" and ""Contact Us"" buttons are shown.

Cause
-----
- Commit 8f4c8ada7e9fe refactored the `website_sale.product` template, moving the ""Contact Us"" button outside of the `div.js_product` element.
- This element gets passed as `$parent` to the `_onChangeCombination` method, which ought to handle these changes.
- Because the `#contact_us_wrapper` is no longer in `$parent`, it fails to find it and change its classes accordingly.

Solution
--------
Instead of querying for the `#contact_us_wrapper` element directly in `$parent`, look for the `#product_details` element first, then query it.

opw-4423323",lvsz,2025-01-30 13:13:22+00:00,[],2025-01-31 12:27:00+00:00,,https://github.com/odoo/odoo/pull/195776,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624484121, 'issue_id': 2820808264, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195776.png)](https://mergebot.odoo.com/odoo/odoo/pull/195776)', 'created_at': datetime.datetime(2025, 1, 30, 13, 13, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:13:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195776.png)](https://mergebot.odoo.com/odoo/odoo/pull/195776)

"
2820796970,pull_request,open,,[FW][FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390

Forward-Port-Of: odoo/odoo#195555",fw-bot,2025-01-30 13:08:35+00:00,[],2025-02-03 09:22:26+00:00,,https://github.com/odoo/odoo/pull/195775,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624472397, 'issue_id': 2820796970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195775.png)](https://mergebot.odoo.com/odoo/odoo/pull/195775)', 'created_at': datetime.datetime(2025, 1, 30, 13, 8, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624472447, 'issue_id': 2820796970, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 8, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630389887, 'issue_id': 2820796970, 'author': 'fw-bot', 'body': ""@alsh-odoo @ethanrobv child PR odoo/odoo#195808 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 3, 9, 22, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:08:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195775.png)](https://mergebot.odoo.com/odoo/odoo/pull/195775)

fw-bot (Issue Creator) on (2025-01-30 13:08:37 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 09:22:25 UTC): @alsh-odoo @ethanrobv child PR odoo/odoo#195808 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2820796186,pull_request,closed,,[FW][FIX] website_google_map: map zoom issue on locationless partners,"The World Map view when you are on the ""/partners"" page doesn't zoom.
This happens when any of the partners that are getting rendered doesn't
have a location (longitude and latitude).

Geocoder is then used to locate those addresses on the map.
We use Promises, and when there is an error, we're not catching it
where we are calling it from. The failed Geocode triggers the reject,
which is not caught, and we're stuck in the await Promise. The zoom-in
line never gets called.

Steps to Reproduce on Runbot:

Integrate the Google Place Map key via
Settings -> Geolocation -> Google Place Map.
Go to ""/partners.""
Toggle on the world map view for the page via the editor.
Ensure one partner on the page lacks a location.
Go to the ""map"" view, and the map will not zoom in.

opw-4319619

Forward-Port-Of: odoo/odoo#189518",fw-bot,2025-01-30 13:08:15+00:00,[],2025-01-30 18:17:59+00:00,2025-01-30 18:17:59+00:00,https://github.com/odoo/odoo/pull/195774,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624471616, 'issue_id': 2820796186, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195774.png)](https://mergebot.odoo.com/odoo/odoo/pull/195774)', 'created_at': datetime.datetime(2025, 1, 30, 13, 8, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624471649, 'issue_id': 2820796186, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 13, 8, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 13:08:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195774.png)](https://mergebot.odoo.com/odoo/odoo/pull/195774)

fw-bot (Issue Creator) on (2025-01-30 13:08:18 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820763835,pull_request,closed,,[FW][FIX] account: Traceback when downloading Original bills,"Users currently cannot retrieve original bills attached to
newly created draft moves, because an error is blocking the action

Steps to reproduce:
- Go to Accounting > Vendor > Bills
- Upload a pdf
- Back in list view, select the created bill, Download > Original Bills

Issue: Traceback will raise
`AttributeError: 'bool' object has no attribute 'decode'`

This occurs because, after https://github.com/odoo/odoo/commit/ce73ed61bcf293953bc0c821ceaef3ddb9a47e3c,
draft moves are not named '/' anymore, the name field will be just `False`.
However reportlab expects a string and it crashes

opw-4502791

Forward-Port-Of: odoo/odoo#195677
Forward-Port-Of: odoo/odoo#195483",fw-bot,2025-01-30 12:54:00+00:00,[],2025-01-31 09:25:11+00:00,2025-01-31 09:25:11+00:00,https://github.com/odoo/odoo/pull/195773,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624439455, 'issue_id': 2820763835, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195773.png)](https://mergebot.odoo.com/odoo/odoo/pull/195773)', 'created_at': datetime.datetime(2025, 1, 30, 12, 54, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624439482, 'issue_id': 2820763835, 'author': 'fw-bot', 'body': '@agr-odoo @FlorianGilbert this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 12, 54, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:54:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195773.png)](https://mergebot.odoo.com/odoo/odoo/pull/195773)

fw-bot (Issue Creator) on (2025-01-30 12:54:14 UTC): @agr-odoo @FlorianGilbert this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820739370,pull_request,closed,,[FW][FIX] l10n_br_website_sale: b2b fields error,"The b2b fields are still required in the portal form
even if the ""Show b2b fields"" is deactivated

Steps:

- From the website editor, on the checkout form,
  unselect the ""Show b2b fields"" setting
- Log out and go to ecommerce
- Add a product to card and checkout
- Fill the address form with a Brazilian address
-> Error: ""Some required fields are empty.""

With this commit, we add the field `vat` to the mandatory fields only if
the option ""Show b2b"" fields is activated.

opw-4403161

Forward-Port-Of: odoo/odoo#194110",fw-bot,2025-01-30 12:44:19+00:00,[],2025-01-30 17:28:07+00:00,2025-01-30 17:28:07+00:00,https://github.com/odoo/odoo/pull/195771,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624409283, 'issue_id': 2820739370, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195771.png)](https://mergebot.odoo.com/odoo/odoo/pull/195771)', 'created_at': datetime.datetime(2025, 1, 30, 12, 44, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624409307, 'issue_id': 2820739370, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 12, 44, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624609309, 'issue_id': 2820739370, 'author': 'fw-bot', 'body': '@guva-odoo @clbr-odoo the next pull request (odoo/odoo#195792) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 14, 5, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624814360, 'issue_id': 2820739370, 'author': 'guva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 29, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:44:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195771.png)](https://mergebot.odoo.com/odoo/odoo/pull/195771)

fw-bot (Issue Creator) on (2025-01-30 12:44:21 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 14:05:27 UTC): @guva-odoo @clbr-odoo the next pull request (odoo/odoo#195792) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

guva-odoo on (2025-01-30 15:29:02 UTC): @robodoo r+

"
2820738677,pull_request,closed,,[FW][FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195587
Forward-Port-Of: odoo/odoo#195539",fw-bot,2025-01-30 12:44:00+00:00,[],2025-01-30 23:16:00+00:00,2025-01-30 23:16:00+00:00,https://github.com/odoo/odoo/pull/195770,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624408557, 'issue_id': 2820738677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195770.png)](https://mergebot.odoo.com/odoo/odoo/pull/195770)', 'created_at': datetime.datetime(2025, 1, 30, 12, 44, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624408579, 'issue_id': 2820738677, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 12, 44, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:44:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195770.png)](https://mergebot.odoo.com/odoo/odoo/pull/195770)

fw-bot (Issue Creator) on (2025-01-30 12:44:02 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820738050,pull_request,closed,,[FW][FIX] website: fix the old image gallery crash after upgrading,"Steps to reproduce:

- In V17.0 drag and drop an ""Image Gallery"" block into the page.
- Upgrade to 18.0
- Click on the last ""Image Gallery"" indicator and then quickly on the first one.
- Traceback: ""TypeError: Cannot read properties of null (reading 'classList') at Carousel._setActiveIndicatorElement ...""

This issue is caused by the front-end code of the image gallery, which updates the active indicator during a slide event. When the crash happens, it cannot find the active slide in the DOM.

After investigation, everything already works with Bootstrap, and the purpose of this code remains unclear. However, in the stable version, we are not taking any risks and will not modify it.

In this commit, we simply added a return; in case the active slide is not found.

opw-4519455

Forward-Port-Of: odoo/odoo#195606",fw-bot,2025-01-30 12:43:41+00:00,[],2025-01-31 09:45:47+00:00,2025-01-31 09:45:47+00:00,https://github.com/odoo/odoo/pull/195769,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624407856, 'issue_id': 2820738050, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195769.png)](https://mergebot.odoo.com/odoo/odoo/pull/195769)', 'created_at': datetime.datetime(2025, 1, 30, 12, 43, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624407878, 'issue_id': 2820738050, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 12, 43, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:43:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195769.png)](https://mergebot.odoo.com/odoo/odoo/pull/195769)

fw-bot (Issue Creator) on (2025-01-30 12:43:43 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820734025,pull_request,closed,,[FW][FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945

Forward-Port-Of: odoo/odoo#195554",fw-bot,2025-01-30 12:41:47+00:00,[],2025-01-31 11:44:51+00:00,2025-01-31 11:44:51+00:00,https://github.com/odoo/odoo/pull/195768,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624403629, 'issue_id': 2820734025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195768.png)](https://mergebot.odoo.com/odoo/odoo/pull/195768)', 'created_at': datetime.datetime(2025, 1, 30, 12, 41, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624403662, 'issue_id': 2820734025, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#195554 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/tests/tours/snippets_all_drag_and_drop.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/snippets_all_drag_and_drop.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 12, 41, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626860464, 'issue_id': 2820734025, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 24, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:41:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195768.png)](https://mergebot.odoo.com/odoo/odoo/pull/195768)

fw-bot (Issue Creator) on (2025-01-30 12:41:53 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#195554 failed.

stdout:
```
Auto-merging addons/website/static/tests/tours/snippets_all_drag_and_drop.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/snippets_all_drag_and_drop.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-01-31 10:24:33 UTC): @robodoo r+

"
2820697981,pull_request,closed,,[FW][FIX] websites_slides: allow pdf zoom in and out on phone,"Upon zooming in on the elearning slides view from the mobile by
finger pinch, the whole page zooms in and not just the content,
which causes the content quality to be still blurry.

To Reproduce on Runbot:
1.Go to eLearning module.
2.Go to ""Edit"" on any of the courses.
3.Add a pdf content.
4.From the phone, go to the website elearning for the same course.
4.Click on the pdf content we uploaded.
5.Try finger pinch zooming in, the document gets still blurry.
6.The issue seems to be that there's no finger pinch zoom in and out,
  and when you try doing that the whole page zooms in and out, not
  changing the quality of the document.

So, the solution was to make zoom in and out icon available on small
screen devices as well.

opw-3893275

Forward-Port-Of: odoo/odoo#178655",fw-bot,2025-01-30 12:25:19+00:00,[],2025-01-31 15:53:10+00:00,2025-01-31 15:53:10+00:00,https://github.com/odoo/odoo/pull/195767,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624368293, 'issue_id': 2820697981, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195767.png)](https://mergebot.odoo.com/odoo/odoo/pull/195767)', 'created_at': datetime.datetime(2025, 1, 30, 12, 25, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624368310, 'issue_id': 2820697981, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 12, 25, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:25:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195767.png)](https://mergebot.odoo.com/odoo/odoo/pull/195767)

fw-bot (Issue Creator) on (2025-01-30 12:25:21 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820691870,pull_request,closed,,[FIX] web: Prevent users from using json field in the field_selector,"Steps:
    - Install `purchase` or any other model with analytic_mixin
    - Install `analytic`
    - Install `web_studio`
    - Enable analytic in configuration
    - Add a new approval on 'button_confirm' in `purchase.order`
    - Set a domain with analytic_distribution e.g
    -   - e.g. (""order_line.analytic_distribution"", ""="", ""Administrative"")
    - Click on Refresh button
    - The refresh button preview shows x records
    - Create a new purchase.order
    - Add analytic on optional column
    - Add a new product with analytic_distribution Administrative
    - Try to use `button_confirm`
    - Approval is not working while the refresh shows record is available

The json fields, in particular the `analytic_distribution` fields, are not designed to be searched via a `filtered_domain` (which is what studio approval uses to check whether or not a button can be used by the current user), this is currently a technical limitation.

To avoid any future problems, this commit prevents users from using a json field to search on them, since this is not supported.

opw-4416646",abz-odoo,2025-01-30 12:22:22+00:00,[],2025-01-30 23:48:58+00:00,2025-01-30 23:48:58+00:00,https://github.com/odoo/odoo/pull/195765,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624362397, 'issue_id': 2820691870, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195765.png)](https://mergebot.odoo.com/odoo/odoo/pull/195765)', 'created_at': datetime.datetime(2025, 1, 30, 12, 22, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624803152, 'issue_id': 2820691870, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 15, 24, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:22:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195765.png)](https://mergebot.odoo.com/odoo/odoo/pull/195765)

Polymorphe57 on (2025-01-30 15:24:58 UTC): @robodoo r+

"
2820677772,pull_request,open,,"[REF] portal,*: convert public widgets to interactions",Convert portal public widgets to interactions,bso-odoo,2025-01-30 12:16:22+00:00,[],2025-02-06 16:10:20+00:00,,https://github.com/odoo/odoo/pull/195764,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624348834, 'issue_id': 2820677772, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195764.png)](https://mergebot.odoo.com/odoo/odoo/pull/195764)', 'created_at': datetime.datetime(2025, 1, 30, 12, 16, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640221076, 'issue_id': 2820677772, 'author': 'ged-odoo', 'body': 'looks good to me after a quick review', 'created_at': datetime.datetime(2025, 2, 6, 15, 54, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:16:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195764.png)](https://mergebot.odoo.com/odoo/odoo/pull/195764)

ged-odoo on (2025-02-06 15:54:58 UTC): looks good to me after a quick review

"
2820675385,pull_request,open,,[FIX] mail: empty push notification when tracking record changes,"**Current behavior before PR:**

Push notifications were empty when a user tracked record changes (e.g., stage changes in a task). This happened because `trackingValues` were not included in the notification message.

**Desired behavior after PR is merged:**

`trackingValues` are now correctly added to the notification message, ensuring that push notifications display the relevant record change details.

Task-[4510508](https://www.odoo.com/odoo/project/1519/tasks/4510508)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ramh-odoo,2025-01-30 12:15:15+00:00,[],2025-01-30 13:00:20+00:00,,https://github.com/odoo/odoo/pull/195763,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624346371, 'issue_id': 2820675385, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195763.png)](https://mergebot.odoo.com/odoo/odoo/pull/195763)', 'created_at': datetime.datetime(2025, 1, 30, 12, 15, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:15:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195763.png)](https://mergebot.odoo.com/odoo/odoo/pull/195763)

"
2820675317,pull_request,open,,[FIX] iap: handle errors while calling JSON-RPC endpoint,"Currently, an error occurs in the log when a ValidationError or InFailedSqlTransaction error occurs when calling the JSON-RPC endpoint in IAP.

error: `ConnectionError: null`

This is because [1] added logger.exception that logs every error in the log when it appears.

This commit will use the logger warning to print a warning in the terminal instead of the exception when a ValidationError or InFailedSqlTransaction error occurs.

[1] - https://github.com/odoo/odoo/commit/a1477d1d00adb928b149f8e019f65c00f75ef129

sentry-6059323528






",maan-odoo,2025-01-30 12:15:13+00:00,[],2025-02-07 14:37:40+00:00,,https://github.com/odoo/odoo/pull/195762,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624346276, 'issue_id': 2820675317, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195762.png)](https://mergebot.odoo.com/odoo/odoo/pull/195762)', 'created_at': datetime.datetime(2025, 1, 30, 12, 15, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636156958, 'issue_id': 2820675317, 'author': 'maan-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\nPlease review this PR.\r\nThanks :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 5, 9, 13, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:15:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195762.png)](https://mergebot.odoo.com/odoo/odoo/pull/195762)

maan-odoo (Issue Creator) on (2025-02-05 09:13:57 UTC): Hello @odoo/sentry_reviewers 
Please review this PR.
Thanks :slightly_smiling_face:

"
2820674277,pull_request,open,,Master ref website links code editor romo,,romo-odoo,2025-01-30 12:14:50+00:00,[],2025-02-05 14:52:57+00:00,,https://github.com/odoo/odoo/pull/195761,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624345261, 'issue_id': 2820674277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195761.png)](https://mergebot.odoo.com/odoo/odoo/pull/195761)', 'created_at': datetime.datetime(2025, 1, 30, 12, 14, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:14:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195761.png)](https://mergebot.odoo.com/odoo/odoo/pull/195761)

"
2820671570,pull_request,open,,"[IMP] project, project_*: add demo data for the top bar","Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",damrOdoo,2025-01-30 12:13:45+00:00,[],2025-01-30 13:00:23+00:00,,https://github.com/odoo/odoo/pull/195760,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624342574, 'issue_id': 2820671570, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195760.png)](https://mergebot.odoo.com/odoo/odoo/pull/195760)', 'created_at': datetime.datetime(2025, 1, 30, 12, 13, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:13:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195760.png)](https://mergebot.odoo.com/odoo/odoo/pull/195760)

"
2820662964,pull_request,closed,,[ADD] base: Add country states for Nigeria,"Description of the issue/feature this PR addresses:
Add Nigerian States

Current behavior before PR:
No State is available by default for Nigeria

Desired behavior after PR is merged:
Nigeria's 36 States and FCT are imported by default for Nigerians

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Ewetoye,2025-01-30 12:09:41+00:00,[],2025-02-03 10:39:53+00:00,2025-02-03 10:00:58+00:00,https://github.com/odoo/odoo/pull/195759,"[('CLA', 'Contributor License Agreement'), ('18.2', None)]","[{'comment_id': 2624333731, 'issue_id': 2820662964, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195759.png)](https://mergebot.odoo.com/odoo/odoo/pull/195759)', 'created_at': datetime.datetime(2025, 1, 30, 12, 9, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624336129, 'issue_id': 2820662964, 'author': 'Ewetoye', 'body': 'With respect to #194838', 'created_at': datetime.datetime(2025, 1, 30, 12, 10, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630248956, 'issue_id': 2820662964, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 3, 8, 16, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 12:09:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195759.png)](https://mergebot.odoo.com/odoo/odoo/pull/195759)

Ewetoye (Issue Creator) on (2025-01-30 12:10:48 UTC): With respect to #194838

robodoo on (2025-02-03 08:16:58 UTC): Merge method set to rebase and fast-forward.

"
2820637759,pull_request,closed,,[FW][FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195316",fw-bot,2025-01-30 11:57:51+00:00,[],2025-01-31 16:14:21+00:00,2025-01-31 16:14:21+00:00,https://github.com/odoo/odoo/pull/195758,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624296407, 'issue_id': 2820637759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195758.png)](https://mergebot.odoo.com/odoo/odoo/pull/195758)', 'created_at': datetime.datetime(2025, 1, 30, 11, 57, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624296441, 'issue_id': 2820637759, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 11, 57, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624939116, 'issue_id': 2820637759, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet WARNING: the update of odoo/odoo#195735 to 0d6aa9c57e9ef4e6546e83b35c74dd0e799bab5c has caused a conflict in this pull request, data may have been lost.\n\nstdout:\n```\nAuto-merging addons/website/static/src/scss/website.scss\nCONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss\nAuto-merging addons/website/views/website_templates.xml\n```', 'created_at': datetime.datetime(2025, 1, 30, 16, 14, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624939860, 'issue_id': 2820637759, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet WARNING: the latest change (aa7c551c0c843f78f790b840f78bb2cb50703a78) triggered a conflict when updating the next forward-port (odoo/odoo#195779), and has been ignored.\n\nYou will need to update this pull request differently, or fix the issue by hand on odoo/odoo#195779.', 'created_at': datetime.datetime(2025, 1, 30, 16, 15, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626652152, 'issue_id': 2820637759, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 8, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627533938, 'issue_id': 2820637759, 'author': 'anso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 50, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:57:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195758.png)](https://mergebot.odoo.com/odoo/odoo/pull/195758)

fw-bot (Issue Creator) on (2025-01-30 11:57:53 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:14:56 UTC): @anso-odoo @SergeBayet WARNING: the update of odoo/odoo#195735 to 0d6aa9c57e9ef4e6546e83b35c74dd0e799bab5c has caused a conflict in this pull request, data may have been lost.

stdout:
```
Auto-merging addons/website/static/src/scss/website.scss
CONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss
Auto-merging addons/website/views/website_templates.xml
```

fw-bot (Issue Creator) on (2025-01-30 16:15:14 UTC): @anso-odoo @SergeBayet WARNING: the latest change (aa7c551c0c843f78f790b840f78bb2cb50703a78) triggered a conflict when updating the next forward-port (odoo/odoo#195779), and has been ignored.

You will need to update this pull request differently, or fix the issue by hand on odoo/odoo#195779.

fw-bot (Issue Creator) on (2025-01-31 08:37:45 UTC): @anso-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.

anso-odoo on (2025-01-31 14:50:31 UTC): @robodoo r+

"
2820631082,pull_request,open,,[FIX] stock_picking_batch: Detached pickings were logged as being done,"The message ""Transferred by <Wave Nb>"" was posted on pickings that are detached before the wave is validated.

![image](https://github.com/user-attachments/assets/b8199bb9-6971-4360-b109-4e843153bea6)

How to reproduce:
- Create Product P, storable, with 2 unit on hand
- Create 2 delivery transfer for 1 unit of P each
- Add both transfer to new wave
- Set Picked to True on 1 of the move, and not on the other.
- Validate the wave transfer => 1 transfer only is validated (OK), but both have a message saying that the transfer was ""Transferred by <Wave Nb>""

OPW-4503809

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",DavidFesquet,2025-01-30 11:54:59+00:00,[],2025-01-30 12:00:13+00:00,,https://github.com/odoo/odoo/pull/195757,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624287935, 'issue_id': 2820631082, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195757.png)](https://mergebot.odoo.com/odoo/odoo/pull/195757)', 'created_at': datetime.datetime(2025, 1, 30, 11, 55, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:55:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195757.png)](https://mergebot.odoo.com/odoo/odoo/pull/195757)

"
2820622371,pull_request,open,,[FW][FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390

Forward-Port-Of: odoo/odoo#195555",fw-bot,2025-01-30 11:51:20+00:00,[],2025-01-30 12:00:14+00:00,,https://github.com/odoo/odoo/pull/195756,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624280208, 'issue_id': 2820622371, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195756.png)](https://mergebot.odoo.com/odoo/odoo/pull/195756)', 'created_at': datetime.datetime(2025, 1, 30, 11, 51, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624280232, 'issue_id': 2820622371, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 11, 51, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:51:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195756.png)](https://mergebot.odoo.com/odoo/odoo/pull/195756)

fw-bot (Issue Creator) on (2025-01-30 11:51:22 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820611952,pull_request,open,,[BUG] Highlight error for onchange/compute in abstract models,"Testing if https://github.com/odoo/odoo/pull/46578 still happens. Not sure if it's expected or an error.

Not tested in transient models, but could also be a nice addition.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",MiquelRForgeFlow,2025-01-30 11:46:22+00:00,[],2025-01-30 12:39:23+00:00,,https://github.com/odoo/odoo/pull/195755,[],"[{'comment_id': 2624269947, 'issue_id': 2820611952, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195755.png)](https://mergebot.odoo.com/odoo/odoo/pull/195755)', 'created_at': datetime.datetime(2025, 1, 30, 11, 46, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:46:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195755.png)](https://mergebot.odoo.com/odoo/odoo/pull/195755)

"
2820604384,pull_request,open,,[FIX] website_sale: fix alternative products not showing,"Steps:
- Create a product and add another product to it's alternate products
- Go to product page of first product

Issue:
- Alternate product snippet not visible

Cause:
- `getRpcParameters()` was changed in publicwidget to interaction PR

Fix:
- reverted the function

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",dere-odoo,2025-01-30 11:42:40+00:00,[],2025-02-07 09:44:36+00:00,,https://github.com/odoo/odoo/pull/195754,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624262219, 'issue_id': 2820604384, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195754.png)](https://mergebot.odoo.com/odoo/odoo/pull/195754)', 'created_at': datetime.datetime(2025, 1, 30, 11, 42, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:42:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195754.png)](https://mergebot.odoo.com/odoo/odoo/pull/195754)

"
2820602653,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: the number sent in vendor bills should be the…,"… ref, not the name

For Bizkaia, when we send the invoices, the numfactura and seriefactura should be the name of the vendor and the one of the customer.

In order to make it possible to correct it and to cancel an invoice with the previous way of doing, we check in the original XML what the dates sent were.

opw-4498833

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195113",fw-bot,2025-01-30 11:41:48+00:00,[],2025-01-30 23:49:02+00:00,2025-01-30 23:49:02+00:00,https://github.com/odoo/odoo/pull/195753,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624260464, 'issue_id': 2820602653, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195753.png)](https://mergebot.odoo.com/odoo/odoo/pull/195753)', 'created_at': datetime.datetime(2025, 1, 30, 11, 41, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624260480, 'issue_id': 2820602653, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 11, 41, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624401940, 'issue_id': 2820602653, 'author': 'fw-bot', 'body': '@jco-odoo @rugo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 12, 41, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:41:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195753.png)](https://mergebot.odoo.com/odoo/odoo/pull/195753)

fw-bot (Issue Creator) on (2025-01-30 11:41:50 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 12:41:05 UTC): @jco-odoo @rugo-odoo ci/runbot failed on this forward-port PR

"
2820589139,pull_request,closed,,[IMP] core: log xmlrpc/jsonrpc model and method,"decided to log *after* the method was executed, so the log line appears the closest to werkzeug's one

success log:
```
2025-01-30 11:32:17,819 23543 INFO odoo-dispatch-rpc-log odoo.service.model: called test_http.galaxy render 
2025-01-30 11:32:17,819 23543 INFO odoo-dispatch-rpc-log werkzeug: 127.0.0.1 - - [30/Jan/2025 11:32:17] ""POST /jsonrpc HTTP/1.0"" 200 - 4 0.001 0.020
```
success log with `--log-handle odoo.service.model:DEBUG`
```

2025-01-30 11:37:16,538 24288 DEBUG odoo-dispatch-rpc-log odoo.service.model: called test_http.galaxy render with args (1,) kwargs {}
2025-01-30 11:37:16,538 24288 INFO odoo-dispatch-rpc-log werkzeug: 127.0.0.1 - - [30/Jan/2025 11:37:16] ""POST /jsonrpc HTTP/1.0"" 200 - 22 0.008 0.629
```


error log:
```
2025-01-30 11:33:20,382 23707 INFO odoo-dispatch-rpc-log odoo.service.model: called test_http.galaxy render
2025-01-30 11:33:20,384 23707 ERROR odoo-dispatch-rpc-log odoo.http: Exception during request handling. 
Traceback (most recent call last):
  File ""/home/julien/Odoo/community/odoo/http.py"", line 2066, in __call__
    response = request._serve_db()
  File ""/home/julien/Odoo/community/odoo/http.py"", line 1653, in _serve_db
    return service_model.retrying(self._serve_ir_http, self.env)
  File ""/home/julien/Odoo/community/odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""/home/julien/Odoo/community/odoo/http.py"", line 1681, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""/home/julien/Odoo/community/odoo/http.py"", line 1885, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""/home/julien/Odoo/community/odoo/addons/base/models/ir_http.py"", line 154, in _dispatch
    result = endpoint(**request.params)
  File ""/home/julien/Odoo/community/odoo/http.py"", line 734, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""/home/julien/Odoo/community/odoo/addons/base/controllers/rpc.py"", line 163, in jsonrpc
    return dispatch_rpc(service, method, args)
  File ""/home/julien/Odoo/community/odoo/http.py"", line 369, in dispatch_rpc
    return dispatch(method, params)
  File ""/home/julien/Odoo/community/odoo/service/model.py"", line 35, in dispatch
    res = execute(db, uid, *params[3:])
  File ""/home/julien/Odoo/community/odoo/service/model.py"", line 69, in execute
    res = execute_cr(cr, uid, obj, method, *args, **kw)
  File ""/home/julien/Odoo/community/odoo/service/model.py"", line 51, in execute_cr
    0/0
ZeroDivisionError: division by zero
2025-01-30 11:33:20,384 23707 INFO odoo-dispatch-rpc-log werkzeug: 127.0.0.1 - - [30/Jan/2025 11:33:20] ""POST /jsonrpc HTTP/1.0"" 200 - 16 0.004 0.610
```",Julien00859,2025-01-30 11:34:58+00:00,[],2025-01-30 14:39:31+00:00,2025-01-30 14:39:30+00:00,https://github.com/odoo/odoo/pull/195752,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624247259, 'issue_id': 2820589139, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195752.png)](https://mergebot.odoo.com/odoo/odoo/pull/195752)', 'created_at': datetime.datetime(2025, 1, 30, 11, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:35:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195752.png)](https://mergebot.odoo.com/odoo/odoo/pull/195752)

"
2820558249,pull_request,open,,[BUG] Highlight main error for multicompany,"Testing if https://github.com/odoo/odoo/pull/46590 still happens.

![Selection_4276](https://github.com/user-attachments/assets/6aaafc96-054f-4b0e-8169-e839222f3a26)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",MiquelRForgeFlow,2025-01-30 11:20:21+00:00,[],2025-02-04 19:27:54+00:00,,https://github.com/odoo/odoo/pull/195751,[],"[{'comment_id': 2624215041, 'issue_id': 2820558249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195751.png)](https://mergebot.odoo.com/odoo/odoo/pull/195751)', 'created_at': datetime.datetime(2025, 1, 30, 11, 20, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624392544, 'issue_id': 2820558249, 'author': 'MiquelRForgeFlow', 'body': 'Hello @kmagusiak\r\nWhen you or someone from your team have a bit of free time, could you look into this?', 'created_at': datetime.datetime(2025, 1, 30, 12, 36, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:20:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195751.png)](https://mergebot.odoo.com/odoo/odoo/pull/195751)

MiquelRForgeFlow (Issue Creator) on (2025-01-30 12:36:43 UTC): Hello @kmagusiak
When you or someone from your team have a bit of free time, could you look into this?

"
2820537377,pull_request,closed,,[FIX] im_livechat: avoid traceback when deleting a livechat channel,"Task-4504442
",phenix-factory,2025-01-30 11:10:09+00:00,[],2025-01-30 17:37:14+00:00,2025-01-30 17:37:14+00:00,https://github.com/odoo/odoo/pull/195750,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624192801, 'issue_id': 2820537377, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195750.png)](https://mergebot.odoo.com/odoo/odoo/pull/195750)', 'created_at': datetime.datetime(2025, 1, 30, 11, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624244657, 'issue_id': 2820537377, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 11, 33, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624480993, 'issue_id': 2820537377, 'author': 'rapr-odoo', 'body': ""@phenix-factory \r\nIt still breaks.\r\n```\r\nUncaughtClientError > TypeError\r\n\r\nUncaught Javascript Error > Cannot read properties of undefined (reading '_raw')\r\n\r\nOccured on 74208254-saas-18-1-all.runbot233.odoo.com on 2025-01-30 13:11:13 GMT\r\n\r\nTypeError: Cannot read properties of undefined (reading '_raw')\r\n    at https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14200:305\r\n    at Array.map (<anonymous>)\r\n    at recordListAssign (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14200:268)\r\n    at Store.MAKE_UPDATE (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14257:43)\r\n    at RecordListInternal.assign (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14200:84)\r\n    at StoreInternal.updateRelationMany (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14306:741)\r\n    at StoreInternal.updateRelation (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14305:115)\r\n    at StoreInternal.updateFields (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14304:213)\r\n    at StoreInternal.compute (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14174:173)\r\n    at StoreInternal.requestCompute (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14170:198)\r\n    ```"", 'created_at': datetime.datetime(2025, 1, 30, 13, 12, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624526877, 'issue_id': 2820537377, 'author': 'phenix-factory', 'body': ""@rapr-odoo I can't reproduce your traceback, can you please provide the way you got it? Thank you!"", 'created_at': datetime.datetime(2025, 1, 30, 13, 31, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624533742, 'issue_id': 2820537377, 'author': 'rapr-odoo', 'body': '@phenix-factory \r\nhttps://drive.google.com/file/d/1fvPvJMdP8yGUbOWyg49wimtG3j9CJ-t-/view?usp=drivesdk', 'created_at': datetime.datetime(2025, 1, 30, 13, 34, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:10:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195750.png)](https://mergebot.odoo.com/odoo/odoo/pull/195750)

phenix-factory (Issue Creator) on (2025-01-30 11:33:36 UTC): @robodoo r+

rapr-odoo on (2025-01-30 13:12:02 UTC): @phenix-factory 
It still breaks.
```
UncaughtClientError > TypeError

Uncaught Javascript Error > Cannot read properties of undefined (reading '_raw')

Occured on 74208254-saas-18-1-all.runbot233.odoo.com on 2025-01-30 13:11:13 GMT

TypeError: Cannot read properties of undefined (reading '_raw')
    at https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14200:305
    at Array.map (<anonymous>)
    at recordListAssign (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14200:268)
    at Store.MAKE_UPDATE (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14257:43)
    at RecordListInternal.assign (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14200:84)
    at StoreInternal.updateRelationMany (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14306:741)
    at StoreInternal.updateRelation (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14305:115)
    at StoreInternal.updateFields (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14304:213)
    at StoreInternal.compute (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14174:173)
    at StoreInternal.requestCompute (https://74208254-saas-18-1-all.runbot233.odoo.com/web/assets/366e7f3/web.assets_web.min.js:14170:198)
    ```

phenix-factory (Issue Creator) on (2025-01-30 13:31:44 UTC): @rapr-odoo I can't reproduce your traceback, can you please provide the way you got it? Thank you!

rapr-odoo on (2025-01-30 13:34:39 UTC): @phenix-factory 
https://drive.google.com/file/d/1fvPvJMdP8yGUbOWyg49wimtG3j9CJ-t-/view?usp=drivesdk

"
2820527712,pull_request,open,,[IMP] pos*: configure receipt layout,"Now users can configure their receipt format for each POS configuration. 
Configuration options are accessible through the `pos_receipt_layout` wizard.

The following options are editable with this wizard:
- **Receipt Layout:** Users can choose the overall look of the receipt. Available options are: ""Light"" (default), ""Boxed"", ""Lined""
- **Receipt Logo:** A logo is displayed at the top of the receipt.
- **Receipt Font:** Allows changing the overall font of the receipt.
- **Background Image:** Enables custom backgrounds for the receipt.
- **Header and Footer:** Personalize the receipt with custom header & footer content


Task - 4411861

Related- odoo/upgrade#7140",parp-odoo,2025-01-30 11:05:40+00:00,[],2025-02-07 12:41:47+00:00,,https://github.com/odoo/odoo/pull/195749,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624182846, 'issue_id': 2820527712, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195749.png)](https://mergebot.odoo.com/odoo/odoo/pull/195749)', 'created_at': datetime.datetime(2025, 1, 30, 11, 5, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:05:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195749.png)](https://mergebot.odoo.com/odoo/odoo/pull/195749)

"
2820524741,pull_request,closed,,[FW][FIX] stock: clean context before scrap validation,"Steps to reproduce the bug:
- Create a storable product “P1”:
    - UoM: g
- Go to inventory > operation > Scrap:
    - Create a new one: - product: P1 - UoM: KG - Quantity: 1

- Validate the scrap
- A wizard is triggered indicating insufficient stock quantity.
- validate it

Problem:
The quantity in the scrap is updated to 1000 kg, and the related move is created with a quantity of 1000 kg.

opw-4485849

Forward-Port-Of: odoo/odoo#194012",fw-bot,2025-01-30 11:04:14+00:00,[],2025-01-30 15:43:08+00:00,2025-01-30 15:43:08+00:00,https://github.com/odoo/odoo/pull/195748,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624179350, 'issue_id': 2820524741, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195748.png)](https://mergebot.odoo.com/odoo/odoo/pull/195748)', 'created_at': datetime.datetime(2025, 1, 30, 11, 4, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624179379, 'issue_id': 2820524741, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 11, 4, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624309533, 'issue_id': 2820524741, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 12, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624331310, 'issue_id': 2820524741, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 30, 12, 8, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624506972, 'issue_id': 2820524741, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 23, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:04:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195748.png)](https://mergebot.odoo.com/odoo/odoo/pull/195748)

fw-bot (Issue Creator) on (2025-01-30 11:04:16 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 12:01:11 UTC): @DjamelTouati @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 12:08:37 UTC): @DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-01-30 13:23:16 UTC): robodoo r+

"
2820519315,pull_request,closed,,[FIX] web: make the db name visible in dark mode,"Previously after activating debug mode and then dark mode, the letters 
of database name are not visible clearly. It is happening because in new 
bootstrap version we are having a color attribute in mark tag which was 
previously not there.

After this commit the database name will be clearly visible in dark mode.

Task-4389154

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sauc-odoo,2025-01-30 11:01:43+00:00,[],2025-02-03 12:05:18+00:00,2025-02-03 10:53:30+00:00,https://github.com/odoo/odoo/pull/195747,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624173506, 'issue_id': 2820519315, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195747.png)](https://mergebot.odoo.com/odoo/odoo/pull/195747)', 'created_at': datetime.datetime(2025, 1, 30, 11, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630603507, 'issue_id': 2820519315, 'author': 'sauc-odoo', 'body': ""Hello @res-odoo \r\nAs the changes will be now in `bootstrap_overridden.dark.scss` which belong to enterprise. \r\nI've created a seperate PR - https://github.com/odoo/enterprise/pull/78364 for it targetting `saas-17.4` version, you can have a look into it. \r\nAlso I have taken suggestion from @chgo-odoo regarding the appropriate color for mark tag in dark mode.\r\n\r\nThanks!!\r\n\r\nSo i am closing this PR."", 'created_at': datetime.datetime(2025, 2, 3, 10, 53, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:01:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195747.png)](https://mergebot.odoo.com/odoo/odoo/pull/195747)

sauc-odoo (Issue Creator) on (2025-02-03 10:53:30 UTC): Hello @res-odoo 
As the changes will be now in `bootstrap_overridden.dark.scss` which belong to enterprise. 
I've created a seperate PR - https://github.com/odoo/enterprise/pull/78364 for it targetting `saas-17.4` version, you can have a look into it. 
Also I have taken suggestion from @chgo-odoo regarding the appropriate color for mark tag in dark mode.

Thanks!!

So i am closing this PR.

"
2820518489,pull_request,closed,,[FW][IMP] base: improve test_uncommented_invisible_field error message,"### Description of the issue/feature this PR addresses:
Since this PR #162009, all uncommented invisible fields raise an error.
This commit improves the error message from the method `test_uncommented_invisible_field` by showing which line of the view should be removed/commented.

The error message before this commit :
```
Addons: 'module_name'   Views: ['view_name1', 'view_name2']
```

After:
```
Addon: 'module_name'
   View: view_name1
      Fields:
         <field name=""field1"" invisible=""1"">
         <field name=""field2"" invisible=""1"">
   View: view_name2
      Fields:
         <field name=""field1"" invisible=""1"">
```

The main benefit of this change is to display in a single test all uncommented fields that need to be fixed.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195605
Forward-Port-Of: odoo/odoo#195166",fw-bot,2025-01-30 11:01:20+00:00,[],2025-01-30 19:01:28+00:00,2025-01-30 19:01:28+00:00,https://github.com/odoo/odoo/pull/195746,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624172587, 'issue_id': 2820518489, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195746.png)](https://mergebot.odoo.com/odoo/odoo/pull/195746)', 'created_at': datetime.datetime(2025, 1, 30, 11, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624172626, 'issue_id': 2820518489, 'author': 'fw-bot', 'body': '@cro-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#195166 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/tests/test_views.py\nCONFLICT (content): Merge conflict in odoo/addons/base/tests/test_views.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 11, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624642874, 'issue_id': 2820518489, 'author': 'cro-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 18, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 11:01:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195746.png)](https://mergebot.odoo.com/odoo/odoo/pull/195746)

fw-bot (Issue Creator) on (2025-01-30 11:01:22 UTC): @cro-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#195166 failed.

stdout:
```
Auto-merging odoo/addons/base/tests/test_views.py
CONFLICT (content): Merge conflict in odoo/addons/base/tests/test_views.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cro-odoo on (2025-01-30 14:18:45 UTC): @robodoo r+

"
2820515211,pull_request,closed,,[FIX] mail: ease click on call participant collapse button,"The click was on the icon rather than button, and since icon is very small this is quite hard to click.

This commit moves click handler to button, and also increase the click area of button without affecting it's position.

<img width=""292"" alt=""Screenshot 2025-01-30 at 11 57 29"" src=""https://github.com/user-attachments/assets/c8c5a8cd-f463-4440-a9ec-66b42a878aaa"" />

Before / After (click area)
<img width=""293"" alt=""Screenshot 2025-01-30 at 11 58 12"" src=""https://github.com/user-attachments/assets/4e9acb87-e9f8-406d-aa57-48039daa5db7"" /> <img width=""290"" alt=""Screenshot 2025-01-30 at 11 58 57 (2)"" src=""https://github.com/user-attachments/assets/9b00e5f4-eb02-435b-93ca-b503412727ec"" />",alexkuhn,2025-01-30 10:59:50+00:00,[],2025-01-30 18:33:03+00:00,2025-01-30 17:36:50+00:00,https://github.com/odoo/odoo/pull/195745,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624169160, 'issue_id': 2820515211, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195745.png)](https://mergebot.odoo.com/odoo/odoo/pull/195745)', 'created_at': datetime.datetime(2025, 1, 30, 10, 59, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624204744, 'issue_id': 2820515211, 'author': 'alexkuhn', 'body': '> Good catch.\r\n\r\nProps to @phenix-factory', 'created_at': datetime.datetime(2025, 1, 30, 11, 15, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:59:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195745.png)](https://mergebot.odoo.com/odoo/odoo/pull/195745)

alexkuhn (Issue Creator) on (2025-01-30 11:15:36 UTC): Props to @phenix-factory

"
2820506994,pull_request,closed,,[FW][FIX] websites_slides: allow pdf zoom in and out on phone,"Upon zooming in on the elearning slides view from the mobile by
finger pinch, the whole page zooms in and not just the content,
which causes the content quality to be still blurry.

To Reproduce on Runbot:
1.Go to eLearning module.
2.Go to ""Edit"" on any of the courses.
3.Add a pdf content.
4.From the phone, go to the website elearning for the same course.
4.Click on the pdf content we uploaded.
5.Try finger pinch zooming in, the document gets still blurry.
6.The issue seems to be that there's no finger pinch zoom in and out,
  and when you try doing that the whole page zooms in and out, not
  changing the quality of the document.

So, the solution was to make zoom in and out icon available on small
screen devices as well.

opw-3893275

Forward-Port-Of: odoo/odoo#178655",fw-bot,2025-01-30 10:56:12+00:00,[],2025-01-31 10:52:50+00:00,2025-01-31 10:52:50+00:00,https://github.com/odoo/odoo/pull/195744,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624160955, 'issue_id': 2820506994, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195744.png)](https://mergebot.odoo.com/odoo/odoo/pull/195744)', 'created_at': datetime.datetime(2025, 1, 30, 10, 56, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624160991, 'issue_id': 2820506994, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 10, 56, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:56:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195744.png)](https://mergebot.odoo.com/odoo/odoo/pull/195744)

fw-bot (Issue Creator) on (2025-01-30 10:56:14 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820503921,pull_request,closed,,[FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506
",SergeBayet,2025-01-30 10:54:47+00:00,[],2025-01-30 15:53:36+00:00,2025-01-30 15:53:36+00:00,https://github.com/odoo/odoo/pull/195743,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624157604, 'issue_id': 2820503921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195743.png)](https://mergebot.odoo.com/odoo/odoo/pull/195743)', 'created_at': datetime.datetime(2025, 1, 30, 10, 54, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624601705, 'issue_id': 2820503921, 'author': 'bso-odoo', 'body': '@robodoo delegate=bvr-odoo', 'created_at': datetime.datetime(2025, 1, 30, 14, 2, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624698212, 'issue_id': 2820503921, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 45, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:54:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195743.png)](https://mergebot.odoo.com/odoo/odoo/pull/195743)

bso-odoo on (2025-01-30 14:02:22 UTC): @robodoo delegate=bvr-odoo

bvr-odoo on (2025-01-30 14:45:31 UTC): @robodoo r+

"
2820483300,pull_request,closed,,"[FIX] mrp{,_subcontracting{,_purchase}}: handle mo date start write","**Current behavior:**
After commit https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44 all writes on `date_start` would silently
alter the written date value (totally unintuiative for a user &
undesired behavior regardless).

**Expected behavior:**
Only when handling indirect writes on `date_start` from a
linked-via-subcontract purchase order should we modify
`date_start` to account for the manufacture delay.

opw-4489485",ethanrobv,2025-01-30 10:45:25+00:00,[],2025-02-05 15:34:28+00:00,2025-02-05 15:34:28+00:00,https://github.com/odoo/odoo/pull/195742,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624135875, 'issue_id': 2820483300, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195742.png)](https://mergebot.odoo.com/odoo/odoo/pull/195742)', 'created_at': datetime.datetime(2025, 1, 30, 10, 45, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636925350, 'issue_id': 2820483300, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 57, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:45:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195742.png)](https://mergebot.odoo.com/odoo/odoo/pull/195742)

Whenrow on (2025-02-05 13:57:27 UTC): robodoo r+

"
2820482683,pull_request,closed,,[FIX] web: properly rethrow errors in Interaction waitFor,"The waitFor helper wrap an inner promise in a new promise that is only resolved if the interaction has not been destroyed in the meantime.

The problem is that if some code tries to do a try/catch around the waitFor, like this:

try {
  await this.waitFor(...);
} catch (e) {
 ...
}
Then the error from the inner promise would not be propagated to the outer promise, so the catch operation does not actually work.

This commit fixes the issue by rejecting the outer promise if the inner promise fails.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ged-odoo,2025-01-30 10:45:10+00:00,[],2025-01-30 15:33:05+00:00,2025-01-30 15:33:05+00:00,https://github.com/odoo/odoo/pull/195741,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2624135223, 'issue_id': 2820482683, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195741.png)](https://mergebot.odoo.com/odoo/odoo/pull/195741)', 'created_at': datetime.datetime(2025, 1, 30, 10, 45, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624302421, 'issue_id': 2820482683, 'author': 'bso-odoo', 'body': '@robodoo delegate=robinlej', 'created_at': datetime.datetime(2025, 1, 30, 11, 59, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624315510, 'issue_id': 2820482683, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 2, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:45:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195741.png)](https://mergebot.odoo.com/odoo/odoo/pull/195741)

bso-odoo on (2025-01-30 11:59:25 UTC): @robodoo delegate=robinlej

robinlej on (2025-01-30 12:02:32 UTC): @robodoo r+

"
2820455719,pull_request,closed,,[FIX] l10n_fr_account: exclude custom bics from getting xmlid,"The upgrade script is supposed to create xmlids for french banks that were already created from csv, if it matches custom records that have unusual bic, it is better to skip the whole record. Standard BIC format is a capital alphanumeric only. Replacing the spaces or unsupported characters in the xmlid will result in custom records looking like they come from standard module.

alternate fix for https://github.com/odoo/odoo/pull/191970



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jjmaksoud,2025-01-30 10:32:40+00:00,[],2025-02-06 19:17:25+00:00,2025-02-06 19:17:25+00:00,https://github.com/odoo/odoo/pull/195740,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624106747, 'issue_id': 2820455719, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195740.png)](https://mergebot.odoo.com/odoo/odoo/pull/195740)', 'created_at': datetime.datetime(2025, 1, 30, 10, 32, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:32:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195740.png)](https://mergebot.odoo.com/odoo/odoo/pull/195740)

"
2820453423,pull_request,open,,[FIX] fix untranslatable terms in XML templates,"In XML templates, only text nodes and a few static attributes (title, placeholder, etc.) are translated. This commit redefines some strings that couldn't be translated before in a different way, so that they become translatable.",oomsveta,2025-01-30 10:31:43+00:00,[],2025-02-06 07:51:33+00:00,,https://github.com/odoo/odoo/pull/195739,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624104547, 'issue_id': 2820453423, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195739.png)](https://mergebot.odoo.com/odoo/odoo/pull/195739)', 'created_at': datetime.datetime(2025, 1, 30, 10, 31, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630452230, 'issue_id': 2820453423, 'author': 'oomsveta', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 49, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632890946, 'issue_id': 2820453423, 'author': 'robodoo', 'body': '@oomsveta staging failed: ci/l10n on 2d2d11588e4458019622f5034096b2d2e8b25b07 (view more at https://runbot.odoo.com/runbot/build/74447812)', 'created_at': datetime.datetime(2025, 2, 4, 5, 8, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633005512, 'issue_id': 2820453423, 'author': 'd-fence', 'body': 'The [l10n standalone build](https://runbot.odoo.com/runbot/build/74390773) is red. Please fix it before retrying to merge', 'created_at': datetime.datetime(2025, 2, 4, 6, 36, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:31:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195739.png)](https://mergebot.odoo.com/odoo/odoo/pull/195739)

oomsveta (Issue Creator) on (2025-02-03 09:49:21 UTC): robodoo r+

robodoo on (2025-02-04 05:08:02 UTC): @oomsveta staging failed: ci/l10n on 2d2d11588e4458019622f5034096b2d2e8b25b07 (view more at https://runbot.odoo.com/runbot/build/74447812)

d-fence on (2025-02-04 06:36:55 UTC): The [l10n standalone build](https://runbot.odoo.com/runbot/build/74390773) is red. Please fix it before retrying to merge

"
2820450402,pull_request,closed,,[FW][FIX] website_hr_recruitment: fix plural,"Forward-Port-Of: odoo/odoo#195005
Forward-Port-Of: odoo/odoo#193276",fw-bot,2025-01-30 10:30:18+00:00,[],2025-01-30 15:32:30+00:00,2025-01-30 15:32:30+00:00,https://github.com/odoo/odoo/pull/195738,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624101042, 'issue_id': 2820450402, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195738.png)](https://mergebot.odoo.com/odoo/odoo/pull/195738)', 'created_at': datetime.datetime(2025, 1, 30, 10, 30, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624101067, 'issue_id': 2820450402, 'author': 'fw-bot', 'body': '@Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195498\n* odoo/odoo#195485\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 10, 30, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624313787, 'issue_id': 2820450402, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 2, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:30:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195738.png)](https://mergebot.odoo.com/odoo/odoo/pull/195738)

fw-bot (Issue Creator) on (2025-01-30 10:30:20 UTC): @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195498
* odoo/odoo#195485

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Bertrand2 on (2025-01-30 12:02:08 UTC): robodoo r+

"
2820445574,pull_request,closed,,[FW][FIX] website: clean keywords in SEO dialog,"Steps to reproduce:

- Edit a page
- open ""Optimize SEO"" dialog
- Add a tag with a parenthesis. eg. ""Webinar Tools (OBS, YouTube)""
- Save
- Reload the page
- Reopen the ""Optimize SEO"" dialog
- ... crash

Since [1], the application crashes because keywords are dynamically used in a regular expression, and special characters (e.g., parentheses) are not properly escaped.

We address the keywords issues by escaping control characters before using them in the regular expression to prevent crashes.

[1]: https://github.com/odoo/odoo/commit/ac55f2bb113ecf7c774fe6e96d28e716184a97d1#diff-b51336c1ad97255bfb3646f013327eca1904ca194078f4ce671e517096233c58

task-4420262

Forward-Port-Of: odoo/odoo#194976",fw-bot,2025-01-30 10:28:05+00:00,[],2025-01-31 08:32:26+00:00,2025-01-31 08:32:26+00:00,https://github.com/odoo/odoo/pull/195737,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624095850, 'issue_id': 2820445574, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195737.png)](https://mergebot.odoo.com/odoo/odoo/pull/195737)', 'created_at': datetime.datetime(2025, 1, 30, 10, 28, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624095871, 'issue_id': 2820445574, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#194976 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/components/dialog/seo.js\nCONFLICT (content): Merge conflict in addons/website/static/src/components/dialog/seo.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 10, 28, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626416490, 'issue_id': 2820445574, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 6, 37, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:28:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195737.png)](https://mergebot.odoo.com/odoo/odoo/pull/195737)

fw-bot (Issue Creator) on (2025-01-30 10:28:07 UTC): @SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#194976 failed.

stdout:
```
Auto-merging addons/website/static/src/components/dialog/seo.js
CONFLICT (content): Merge conflict in addons/website/static/src/components/dialog/seo.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-31 06:37:02 UTC): @robodoo r+

"
2820444879,pull_request,open,,[FW][FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390

Forward-Port-Of: odoo/odoo#195555",fw-bot,2025-01-30 10:27:46+00:00,[],2025-01-30 11:00:20+00:00,,https://github.com/odoo/odoo/pull/195736,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624095147, 'issue_id': 2820444879, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195736.png)](https://mergebot.odoo.com/odoo/odoo/pull/195736)', 'created_at': datetime.datetime(2025, 1, 30, 10, 27, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624095185, 'issue_id': 2820444879, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 10, 27, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624156676, 'issue_id': 2820444879, 'author': 'fw-bot', 'body': '@alsh-odoo @ethanrobv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 10, 54, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:27:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195736.png)](https://mergebot.odoo.com/odoo/odoo/pull/195736)

fw-bot (Issue Creator) on (2025-01-30 10:27:48 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 10:54:26 UTC): @alsh-odoo @ethanrobv ci/runbot failed on this forward-port PR

"
2820444244,pull_request,closed,,[FW][FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195316",fw-bot,2025-01-30 10:27:28+00:00,[],2025-01-31 16:57:04+00:00,2025-01-31 16:57:04+00:00,https://github.com/odoo/odoo/pull/195735,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2624094455, 'issue_id': 2820444244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195735.png)](https://mergebot.odoo.com/odoo/odoo/pull/195735)', 'created_at': datetime.datetime(2025, 1, 30, 10, 27, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624094481, 'issue_id': 2820444244, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 10, 27, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624937784, 'issue_id': 2820444244, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 30, 16, 14, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624939037, 'issue_id': 2820444244, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet WARNING: the latest change (0d6aa9c57e9ef4e6546e83b35c74dd0e799bab5c) triggered a conflict when updating the next forward-port (odoo/odoo#195758), and has been ignored.\n\nYou will need to update this pull request differently, or fix the issue by hand on odoo/odoo#195758.', 'created_at': datetime.datetime(2025, 1, 30, 16, 14, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626652210, 'issue_id': 2820444244, 'author': 'fw-bot', 'body': ""@anso-odoo @SergeBayet child PR odoo/odoo#195758 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 31, 8, 37, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627527129, 'issue_id': 2820444244, 'author': 'anso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 47, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:27:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195735.png)](https://mergebot.odoo.com/odoo/odoo/pull/195735)

fw-bot (Issue Creator) on (2025-01-30 10:27:29 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 16:14:23 UTC): @anso-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-30 16:14:54 UTC): @anso-odoo @SergeBayet WARNING: the latest change (0d6aa9c57e9ef4e6546e83b35c74dd0e799bab5c) triggered a conflict when updating the next forward-port (odoo/odoo#195758), and has been ignored.

You will need to update this pull request differently, or fix the issue by hand on odoo/odoo#195758.

fw-bot (Issue Creator) on (2025-01-31 08:37:46 UTC): @anso-odoo @SergeBayet child PR odoo/odoo#195758 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

anso-odoo on (2025-01-31 14:47:32 UTC): @robodoo r+

"
2820442240,pull_request,closed,,[FIX] mail: keep composer when livechat has ended for operator,"When a livechat has ended, it replaces the composer by ""This livechat conversation has ended"" for both visitor and operators.

This is good for visitor to make it very clear the conversation has ended, and they cannot post message again to the operator unless they initiate another livechat session.

Operators however sometimes need to do extra things after the conversation has ended, such as `/lead`. Because of the removal of composer, this was no longer possible.

This commit fixes the issue by keep showing the composer for livechat operators even when the conversation has ended.

Part of Task-4528331

Before / After
<img width=""383"" alt=""Screenshot 2025-01-30 at 11 25 49"" src=""https://github.com/user-attachments/assets/67ca2f71-180a-4545-9f41-2b3927884a66"" /> <img width=""384"" alt=""Screenshot 2025-01-30 at 11 25 37"" src=""https://github.com/user-attachments/assets/c3e93086-b3fc-4604-9dce-0931178eaeb7"" />
",alexkuhn,2025-01-30 10:26:33+00:00,[],2025-01-30 18:33:09+00:00,2025-01-30 17:37:01+00:00,https://github.com/odoo/odoo/pull/195734,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624093205, 'issue_id': 2820442240, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195734.png)](https://mergebot.odoo.com/odoo/odoo/pull/195734)', 'created_at': datetime.datetime(2025, 1, 30, 10, 26, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624233699, 'issue_id': 2820442240, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 11, 28, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:26:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195734.png)](https://mergebot.odoo.com/odoo/odoo/pull/195734)

alexkuhn (Issue Creator) on (2025-01-30 11:28:26 UTC): @robodoo r+

"
2820436364,pull_request,closed,,[FW][FIX] web: don't aggregate grouped by fields,"This commit fixes an issue where if the user applies a group by on an aggregatable field (an integer like color_index for example), this field is also registered as an aggregator in the webReadGroup call and this leads to nonsensical results by the orm. After this commit, the group by field is automatically excluded from aggregators so the issue cannot happen.

task-4491839

Forward-Port-Of: odoo/odoo#195623",fw-bot,2025-01-30 10:24:01+00:00,[],2025-01-30 17:08:06+00:00,2025-01-30 17:08:06+00:00,https://github.com/odoo/odoo/pull/195733,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2624086088, 'issue_id': 2820436364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195733.png)](https://mergebot.odoo.com/odoo/odoo/pull/195733)', 'created_at': datetime.datetime(2025, 1, 30, 10, 24, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624086115, 'issue_id': 2820436364, 'author': 'fw-bot', 'body': '@juliusc2066 @jum-odoo cherrypicking of pull request odoo/odoo#195623 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/model/relational_model/relational_model.js\nCONFLICT (content): Merge conflict in addons/web/static/src/model/relational_model/relational_model.js\nCONFLICT (modify/delete): addons/web/static/tests/legacy/views/kanban/kanban_view_tests.js deleted in 8fdff737c76f7510eff6e48604ccb85692bcdaac and modified in c49f95a4c61acaa605128e233a8a5788e83988ef.  Version c49f95a4c61acaa605128e233a8a5788e83988ef of addons/web/static/tests/legacy/views/kanban/kanban_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 10, 24, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624598127, 'issue_id': 2820436364, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 0, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:24:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195733.png)](https://mergebot.odoo.com/odoo/odoo/pull/195733)

fw-bot (Issue Creator) on (2025-01-30 10:24:06 UTC): @juliusc2066 @jum-odoo cherrypicking of pull request odoo/odoo#195623 failed.

stdout:
```
Auto-merging addons/web/static/src/model/relational_model/relational_model.js
CONFLICT (content): Merge conflict in addons/web/static/src/model/relational_model/relational_model.js
CONFLICT (modify/delete): addons/web/static/tests/legacy/views/kanban/kanban_view_tests.js deleted in 8fdff737c76f7510eff6e48604ccb85692bcdaac and modified in c49f95a4c61acaa605128e233a8a5788e83988ef.  Version c49f95a4c61acaa605128e233a8a5788e83988ef of addons/web/static/tests/legacy/views/kanban/kanban_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

juliusc2066 on (2025-01-30 14:00:56 UTC): @robodoo r+

"
2820428409,pull_request,open,,[IMP] product: refactor sales pricelist,"Affected version: master
Task-3830130",mash-odoo,2025-01-30 10:20:25+00:00,[],2025-01-31 10:39:25+00:00,,https://github.com/odoo/odoo/pull/195732,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624077704, 'issue_id': 2820428409, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195732.png)](https://mergebot.odoo.com/odoo/odoo/pull/195732)', 'created_at': datetime.datetime(2025, 1, 30, 10, 20, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:20:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195732.png)](https://mergebot.odoo.com/odoo/odoo/pull/195732)

"
2820410784,pull_request,closed,,[FIX] 55281: fix access error in SO creation on validating task,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",riccardo-metrum,2025-01-30 10:12:20+00:00,[],2025-01-30 10:13:02+00:00,2025-01-30 10:13:02+00:00,https://github.com/odoo/odoo/pull/195731,[],"[{'comment_id': 2624059244, 'issue_id': 2820410784, 'author': 'robodoo', 'body': 'This PR targets the disabled branch odoo/odoo:13.0, it needs to be retargeted before it can be merged.', 'created_at': datetime.datetime(2025, 1, 30, 10, 12, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624059308, 'issue_id': 2820410784, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195731.png)](https://mergebot.odoo.com/odoo/odoo/pull/195731)', 'created_at': datetime.datetime(2025, 1, 30, 10, 12, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:12:23 UTC): This PR targets the disabled branch odoo/odoo:13.0, it needs to be retargeted before it can be merged.

robodoo on (2025-01-30 10:12:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195731.png)](https://mergebot.odoo.com/odoo/odoo/pull/195731)

"
2820398447,pull_request,closed,,[FIX] stock: account for context in product.template quantities calculation,"Currently, the available and forecasted product quantities are not always calculated correctly across multiple warehouses.

### Steps to reproduce

1. Install the `stock` and `point_of_sale` modules.
2. Ensure that a product exists in multiple warehouses, with different quantities in each warehouse.
3. Make sure the product is available in the POS.
4. Start the POS.
5. Find the product and click the ""i"" button in the top-right corner to view more details.

Expected Behavior: The system should display the correct available and forecasted quantities for each warehouse. Actual Behavior: All warehouses incorrectly show the same available and forecasted quantities.

### Cause

The system retrieves product quantities by reading the `qty_available` and `virtual_available` fields on the product template record, applying a `warehouse_id` context key for each warehouse (see [here](https://github.com/odoo/odoo/blob/afac1319a2bf230ec0702a7822fca405638fc38b/addons/point_of_sale/models/product_template.py#L215-L221)). However, these fields are computed and do not depend on the context, meaning only the quantities for the first warehouse are computed correctly. For all other warehouses, the values are retrieved from the cache, resulting in all warehouses displaying the same quantities.

opw-4421070",ushyme,2025-01-30 10:06:46+00:00,[],2025-01-31 19:53:52+00:00,2025-01-31 19:53:52+00:00,https://github.com/odoo/odoo/pull/195730,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624046018, 'issue_id': 2820398447, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195730.png)](https://mergebot.odoo.com/odoo/odoo/pull/195730)', 'created_at': datetime.datetime(2025, 1, 30, 10, 6, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624641130, 'issue_id': 2820398447, 'author': 'DjamelTouati', 'body': 'cc @Whenrow', 'created_at': datetime.datetime(2025, 1, 30, 14, 18, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627702909, 'issue_id': 2820398447, 'author': 'Whenrow', 'body': 'robodoo r+\r\nthank you', 'created_at': datetime.datetime(2025, 1, 31, 16, 7, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:06:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195730.png)](https://mergebot.odoo.com/odoo/odoo/pull/195730)

DjamelTouati on (2025-01-30 14:18:06 UTC): cc @Whenrow

Whenrow on (2025-01-31 16:07:07 UTC): robodoo r+
thank you

"
2820391087,pull_request,closed,,[FIX] mail: improve regex finding unfollow nodes,"Notification layout contain a somehow-fake node holding a generic
unfollow link. It is dynamically replaced at sending time to make
it recipient-specific.

In a lot of cases we don't need that unfollow URL and the node should
be removed. This is done using a regex to avoid parshing HTML. Current
regex can be improved, notably to avoid backtracking. When having
bodies with lot of span, timing become quite bad.

Our use cases are simple, either old <span id=""mail_unfollow"">..</span>
either new <span t-if=""show_unfollow"" id=""mail_unfollow"">..</span>
layouts. Regex can be therefore be simplified.

Note that we support ""two"" kind of nodes mainly to maintain support
of custom / copied / frozen notification layouts.

Followup of https://github.com/odoo/odoo/pull/189741

Task-4529263",tde-banana-odoo,2025-01-30 10:03:30+00:00,[],2025-01-31 16:22:24+00:00,2025-01-31 16:22:24+00:00,https://github.com/odoo/odoo/pull/195729,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624038206, 'issue_id': 2820391087, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195729.png)](https://mergebot.odoo.com/odoo/odoo/pull/195729)', 'created_at': datetime.datetime(2025, 1, 30, 10, 3, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627228416, 'issue_id': 2820391087, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 31, 12, 48, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627320688, 'issue_id': 2820391087, 'author': 'robodoo', 'body': ""@tde-banana-odoo @odony 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 13, 17, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 10:03:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195729.png)](https://mergebot.odoo.com/odoo/odoo/pull/195729)

robodoo on (2025-01-31 12:48:50 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-01-31 13:17:29 UTC): @tde-banana-odoo @odony 'ci/runbot' failed on this reviewed PR.

"
2820379808,pull_request,closed,,[FW][FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307

Forward-Port-Of: odoo/odoo#195306",fw-bot,2025-01-30 09:58:16+00:00,[],2025-01-30 15:32:23+00:00,2025-01-30 15:32:21+00:00,https://github.com/odoo/odoo/pull/195728,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2624025843, 'issue_id': 2820379808, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195728.png)](https://mergebot.odoo.com/odoo/odoo/pull/195728)', 'created_at': datetime.datetime(2025, 1, 30, 9, 58, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624025868, 'issue_id': 2820379808, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195713\n* odoo/odoo#195687\n* odoo/odoo#195671\n* odoo/odoo#195652\n* odoo/odoo#195576\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 9, 58, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624164007, 'issue_id': 2820379808, 'author': 'qle-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 10, 57, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:58:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195728.png)](https://mergebot.odoo.com/odoo/odoo/pull/195728)

fw-bot (Issue Creator) on (2025-01-30 09:58:17 UTC): @Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195713
* odoo/odoo#195687
* odoo/odoo#195671
* odoo/odoo#195652
* odoo/odoo#195576

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qle-odoo on (2025-01-30 10:57:36 UTC): @robodoo r+

"
2820371378,pull_request,closed,,"[FIX] uom,*: fix UoM refactor issues","This PR is a follow-up for odoo/odoo#184131 and fixes some of the issues introduced by that change.

Enterprise PR: odoo/enterprise#78169

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mohammadhossam,2025-01-30 09:54:21+00:00,[],2025-02-03 08:26:29+00:00,2025-02-03 08:26:29+00:00,https://github.com/odoo/odoo/pull/195727,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624017284, 'issue_id': 2820371378, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195727.png)](https://mergebot.odoo.com/odoo/odoo/pull/195727)', 'created_at': datetime.datetime(2025, 1, 30, 9, 54, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627878350, 'issue_id': 2820371378, 'author': 'pedrobaeza', 'body': 'Some off-topic: just an idea for UX for you to consider: create a widget like the one merging product selection and description for having in the same column the quantity and the UoM, to save horizontal space.', 'created_at': datetime.datetime(2025, 1, 31, 17, 36, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627953835, 'issue_id': 2820371378, 'author': 'amoyaux', 'body': '> Some off-topic: just an idea for UX for you to consider: create a widget like the one merging product selection and description for having in the same column the quantity and the UoM, to save horizontal space.\r\n\r\nI sent the suggestion to POs', 'created_at': datetime.datetime(2025, 1, 31, 17, 52, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629365901, 'issue_id': 2820371378, 'author': 'amoyaux', 'body': 'robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 2, 2, 12, 0, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629365924, 'issue_id': 2820371378, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 2, 12, 0, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629381894, 'issue_id': 2820371378, 'author': 'robodoo', 'body': ""@mohammadhossam @amoyaux 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 2, 12, 44, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629382534, 'issue_id': 2820371378, 'author': 'robodoo', 'body': ""@mohammadhossam @amoyaux 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 2, 12, 46, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629442929, 'issue_id': 2820371378, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 15, 33, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629443237, 'issue_id': 2820371378, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 15, 34, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629452289, 'issue_id': 2820371378, 'author': 'robodoo', 'body': ""@mohammadhossam @amoyaux 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 2, 16, 0, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629575081, 'issue_id': 2820371378, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 21, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629601053, 'issue_id': 2820371378, 'author': 'robodoo', 'body': '@mohammadhossam @amoyaux staging failed: ci/l10n on c85f1cebc2905afcd2114b3e7a52355611ce9c1a (view more at https://runbot.odoo.com/runbot/build/74379103)', 'created_at': datetime.datetime(2025, 2, 2, 22, 58, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630134525, 'issue_id': 2820371378, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 7, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:54:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195727.png)](https://mergebot.odoo.com/odoo/odoo/pull/195727)

pedrobaeza on (2025-01-31 17:36:11 UTC): Some off-topic: just an idea for UX for you to consider: create a widget like the one merging product selection and description for having in the same column the quantity and the UoM, to save horizontal space.

amoyaux on (2025-01-31 17:52:04 UTC): I sent the suggestion to POs

amoyaux on (2025-02-02 12:00:21 UTC): robodoo r+ rebase-ff

robodoo on (2025-02-02 12:00:24 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-02-02 12:44:59 UTC): @mohammadhossam @amoyaux 'ci/template' failed on this reviewed PR.

robodoo on (2025-02-02 12:46:44 UTC): @mohammadhossam @amoyaux 'ci/runbot' failed on this reviewed PR.

amoyaux on (2025-02-02 15:33:58 UTC): robodoo r+

amoyaux on (2025-02-02 15:34:55 UTC): robodoo r+

robodoo on (2025-02-02 16:00:48 UTC): @mohammadhossam @amoyaux 'ci/runbot' failed on this reviewed PR.

amoyaux on (2025-02-02 21:59:20 UTC): robodoo r+

robodoo on (2025-02-02 22:58:58 UTC): @mohammadhossam @amoyaux staging failed: ci/l10n on c85f1cebc2905afcd2114b3e7a52355611ce9c1a (view more at https://runbot.odoo.com/runbot/build/74379103)

robodoo on (2025-02-03 07:07:19 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2820370254,pull_request,open,,"[FIX] {purchase_,sale_,}mrp: handle inter_company kit delivery/reception","Currently there are two bugs:
1) Selling a kit product to another internal company
(inter_company) and validating the delivery will not update the
`qty_delivered` field on the corresponding `SaleOrderLine`
* Currently the filters to capture moves which informs the
delivered quantity of the line do not account for moves with
`location_dest_id` pointing to the inter-company transit
location (which should count towards the delivered value)

2) Receiving a kit product via inter_company which has a
`comp:final` ratio >1 will result in an inaccurate update on the
`qty_received` field on the corresponding `PurchaseOrderLine`
* The BoM of the sold kit-product belongs to the selling
company, and in the purchase_mrp override of
`_compute_qty_received` they fail to get marked as kit lines
because the `bom_line_id` is hidden due to a company-precise
domain constraint

**Steps to reproduce:**
*Having `sale_purchase_stock_inter_company_rules` and enabled
synchronization of sale & purchase orders for both companies*
1. Create a kit product

2. Deliver it to another internal company

3. After validating the delivery, check the the sale order line
and observe that the delivered qty is 0

**Cause of the issue:**
When computing `qty_delivered`, we have the following filters to
capture in/out move qty:
https://github.com/odoo/odoo/blob/ef1be75601e7ce346d8e6b9367505cbf39b05101/addons/sale_mrp/models/sale_order_line.py#L69-L70
which don't account for moves to inter-company transit.

When computing `qty_received`, we aggregate purchase lines:
https://github.com/odoo/odoo/blob/b13e46f06c1d3166fd64fc72cacd8af1f3673ae6/addons/purchase_mrp/models/purchase.py#L56
however using the line's `company_id` means the BoM belonging to
the delivering company isn't revealed. Then the `qty_received`
is computed as though the line was an ordinary product, leading
to the mismatch between product and qty.

**Fix:**
*Bug # 1*
Add a condition to the existing move filter to check if the
source location is the inter_company transit, in which case it
should be considered an incoming move

*Bug # 2*
A) Modify the move filter like in above fix (except for destination
location instead of source)

B) Add a dynamic bom line filter which can be overridden in
enterprise to capture inter_company kit moves

C) Use the product's `company_id` instead of purchase line's to
aggregate lines in `purchase_mrp` `_compute_qty_received()` so
that another company's BoM is not hidden from the receiving
company

opw-4267210",ethanrobv,2025-01-30 09:53:47+00:00,[],2025-02-05 10:02:54+00:00,,https://github.com/odoo/odoo/pull/195726,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2624016061, 'issue_id': 2820370254, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195726.png)](https://mergebot.odoo.com/odoo/odoo/pull/195726)', 'created_at': datetime.datetime(2025, 1, 30, 9, 53, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:53:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195726.png)](https://mergebot.odoo.com/odoo/odoo/pull/195726)

"
2820368388,pull_request,open,,[FIX] website_hr_recruitment: handle removed description field,"Issue:
1. Open the website editor.
2. Drop the ""Contact & Forms"" snippet.
3. Select the first form.
4. Click on any input field.
5. In snippet options (Form), change the action from ""Send an e-mail"" to ""Apply for a job"".
6. Save the form.

Upon saving, it logs the error due to the inability to whitelist the `description` field.

Root Cause:
The `description` field was removed in commit [[1](https://github.com/odoo/odoo/commit/e0f281433eec3f34d6f720656ead51e417679cd1)] instead replaced by the `applicant_notes`, causing error log when attempting to save the form.

Fix:
This commit resolves the issue by handling the removal of the `description` from `formbuilder_whitelist` while adapting the
`applicant_notes` field.
- To ensure functionality, the field in the website form for job applicants relevant information in the `applicant_notes`field.

task-4364668

[1] : https://github.com/odoo/odoo/commit/e0f281433eec3f34d6f720656ead51e417679cd1
",panv-odoo,2025-01-30 09:52:58+00:00,[],2025-01-31 10:09:17+00:00,,https://github.com/odoo/odoo/pull/195725,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624013997, 'issue_id': 2820368388, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195725.png)](https://mergebot.odoo.com/odoo/odoo/pull/195725)', 'created_at': datetime.datetime(2025, 1, 30, 9, 53, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:53:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195725.png)](https://mergebot.odoo.com/odoo/odoo/pull/195725)

"
2820365031,pull_request,closed,,[FIX] web: fix favorite management undeterminism,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kebeclibre,2025-01-30 09:51:25+00:00,[],2025-01-31 15:10:47+00:00,2025-01-31 15:10:47+00:00,https://github.com/odoo/odoo/pull/195724,"[('RD', 'research & development, internal work')]","[{'comment_id': 2624010366, 'issue_id': 2820365031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195724.png)](https://mergebot.odoo.com/odoo/odoo/pull/195724)', 'created_at': datetime.datetime(2025, 1, 30, 9, 51, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627061521, 'issue_id': 2820365031, 'author': 'kebeclibre', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 10, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627061626, 'issue_id': 2820365031, 'author': 'robodoo', 'body': ""@kebeclibre you can't review+."", 'created_at': datetime.datetime(2025, 1, 31, 12, 11, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627160200, 'issue_id': 2820365031, 'author': 'aab-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 34, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:51:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195724.png)](https://mergebot.odoo.com/odoo/odoo/pull/195724)

kebeclibre (Issue Creator) on (2025-01-31 12:10:59 UTC): robodoo r+

robodoo on (2025-01-31 12:11:02 UTC): @kebeclibre you can't review+.

aab-odoo on (2025-01-31 12:34:15 UTC): robodoo r+

"
2820347052,pull_request,closed,,"[FW][FIX] product, website_sale: fall back on geoip country for pricelists","Versions
--------
- 17.0+

Steps
-----
1. Ensure `geoip` works (or patch the `_get_geoip_country_code` method);
2. create two pricelists for the website;
3. first should be restricted to EU countries & use EUR;
4. second one shouldn't be restricted to any country & use USD;
5. log in as a Portal user without address details from a EU IP;
6. open the shop.

Issue
-----
The prices are displayed in USD.

Cause
-----
The geoip country is taken into account for public users, but not for partners. Instead it relies on the partner's country_id, which could be empty.

Solution
--------
When computing the `property_product_pricelist`, add the geoip country to the context. Use this value in the fallback for partners without specific pricelist property set, and without a `country_id`.

opw-4398543

Forward-Port-Of: odoo/odoo#195656
Forward-Port-Of: odoo/odoo#194885",fw-bot,2025-01-30 09:43:05+00:00,[],2025-01-30 14:06:15+00:00,2025-01-30 14:06:15+00:00,https://github.com/odoo/odoo/pull/195723,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2623990980, 'issue_id': 2820347052, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195723.png)](https://mergebot.odoo.com/odoo/odoo/pull/195723)', 'created_at': datetime.datetime(2025, 1, 30, 9, 43, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623991010, 'issue_id': 2820347052, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#194885 failed.\n\nstdout:\n```\nAuto-merging addons/product/models/product_pricelist.py\nAuto-merging addons/product/models/res_partner.py\nCONFLICT (content): Merge conflict in addons/product/models/res_partner.py\nAuto-merging addons/website_sale/models/website.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 9, 43, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624018815, 'issue_id': 2820347052, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 55, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:43:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195723.png)](https://mergebot.odoo.com/odoo/odoo/pull/195723)

fw-bot (Issue Creator) on (2025-01-30 09:43:07 UTC): @lvsz cherrypicking of pull request odoo/odoo#194885 failed.

stdout:
```
Auto-merging addons/product/models/product_pricelist.py
Auto-merging addons/product/models/res_partner.py
CONFLICT (content): Merge conflict in addons/product/models/res_partner.py
Auto-merging addons/website_sale/models/website.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-30 09:55:09 UTC): robodoo r+

"
2820336589,pull_request,closed,,[FIX] account_check_printing: allow printing with non-reconcilable account,"**Steps to reproduce:**
- Install Accounting
- Go to ""Accounting / Configuration / Accounting / Journals""
- Open ""Bank"" Journal
- Go to ""Outgoing Payments"" tab
- Set a check layout
- For ""Checks"" line, set ""101401 Bank"" (i.e. an account that doesn't allow reconciliation) as outstanding payments account
- Create a vendor bill and confirm it
- Pay the bill with ""Checks"" as payment method
=> The bill is directly marked as ""PAID"" and not ""IN PAYMENT"" because the ""Bank"" account doesn't allow reconciliation
- Go the the check payment

**Issue:**
It is not possible to print it.
The same configuration allows to print the check in previous versions.

**Cause:**
As the check payment is using an account that doesn't allow reconciliation, the payment is set in ""Paid"" state directly, but the printing is disabled for checks in that state.

**Solution:**
As it should be harmless to allow to print the check even if it is already paid, we will allow to print it to keep a consistent behavior with previous versions.
Only printing the check will be allowed.
Voiding or rejecting will still be impossible.

opw-4498446




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-30 09:38:03+00:00,[],2025-02-06 04:11:37+00:00,2025-02-06 04:11:37+00:00,https://github.com/odoo/odoo/pull/195722,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2623979892, 'issue_id': 2820336589, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195722.png)](https://mergebot.odoo.com/odoo/odoo/pull/195722)', 'created_at': datetime.datetime(2025, 1, 30, 9, 38, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:38:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195722.png)](https://mergebot.odoo.com/odoo/odoo/pull/195722)

"
2820332475,pull_request,open,,[FIX] website_sale: don't show discount when not available for sale,"Versions
--------
- 16.0+

Steps
-----
1. Go to Settings / Website;
2. enable the following options:
    - Comparison Price;
    - Pricelists: Advanced price rules;
    - Prevent Sale of Zero Priced Product;
3. create a pricelist setting all prices to 0;
4. make pricelist selectable;
5. set pricelist's Discount Policy to Show public price & discount to customer;
6. go to `/shop`;
7. query the search bar.

Issue
-----
A strikethrough price is added, despite the item not being available for sale.

Cause
-----
The `_search_render_results_prices` method still checks for `has_discounted_price` and `compare_list_price` after it already knows the product isn't available for sale.

Solution
--------
If `prevent_zero_price_sale` is given for the product, do an early return, disregarding the `has_discounted_price` and `compare_list_price` options.

opw-4263554",lvsz,2025-01-30 09:36:08+00:00,[],2025-02-07 09:11:39+00:00,,https://github.com/odoo/odoo/pull/195721,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2623975936, 'issue_id': 2820332475, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195721.png)](https://mergebot.odoo.com/odoo/odoo/pull/195721)', 'created_at': datetime.datetime(2025, 1, 30, 9, 36, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:36:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195721.png)](https://mergebot.odoo.com/odoo/odoo/pull/195721)

"
2820325910,pull_request,closed,,[IMP]  point_of_sale: allow editing of preset settings during an active session,"This commit enables editing of preset settings while a session is active that was previously not allowed.

task-4526151
",stva-odoo,2025-01-30 09:33:02+00:00,[],2025-02-04 22:01:44+00:00,2025-02-04 22:01:44+00:00,https://github.com/odoo/odoo/pull/195720,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2623969131, 'issue_id': 2820325910, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195720.png)](https://mergebot.odoo.com/odoo/odoo/pull/195720)', 'created_at': datetime.datetime(2025, 1, 30, 9, 33, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:33:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195720.png)](https://mergebot.odoo.com/odoo/odoo/pull/195720)

"
2820303769,pull_request,closed,,[FW][FIX] websites_slides: allow pdf zoom in and out on phone,"Upon zooming in on the elearning slides view from the mobile by
finger pinch, the whole page zooms in and not just the content,
which causes the content quality to be still blurry.

To Reproduce on Runbot:
1.Go to eLearning module.
2.Go to ""Edit"" on any of the courses.
3.Add a pdf content.
4.From the phone, go to the website elearning for the same course.
4.Click on the pdf content we uploaded.
5.Try finger pinch zooming in, the document gets still blurry.
6.The issue seems to be that there's no finger pinch zoom in and out,
  and when you try doing that the whole page zooms in and out, not
  changing the quality of the document.

So, the solution was to make zoom in and out icon available on small
screen devices as well.

opw-3893275

Forward-Port-Of: odoo/odoo#178655",fw-bot,2025-01-30 09:22:32+00:00,[],2025-01-31 11:44:27+00:00,2025-01-31 11:44:27+00:00,https://github.com/odoo/odoo/pull/195719,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2623945750, 'issue_id': 2820303769, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195719.png)](https://mergebot.odoo.com/odoo/odoo/pull/195719)', 'created_at': datetime.datetime(2025, 1, 30, 9, 22, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623945772, 'issue_id': 2820303769, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 9, 22, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:22:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195719.png)](https://mergebot.odoo.com/odoo/odoo/pull/195719)

fw-bot (Issue Creator) on (2025-01-30 09:22:33 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820287137,pull_request,open,,[FIX] hr_maintenance: display equipment owner on mobile,"Issue:
-----
This issue happens in mobile view only. When a user without any HR access rights
tries to assign an Employee to a piece of equipment, they don't see the list of
employees as expected. Instead, they get a ""No records found!"" message.

Steps to reproduce:
-----
- Install Employees & Maintenance apps
- Create a new user and set the following acces rights
    - Employees -> None
- Switch to that user
- Go to Maintenance -> Equipment and select an equipment
- Ensure the page is in mobile display mode (refresh if not already in mode)
- Select an equipment & try to assign an Employee

-> The widget displays a ""No records found!"" message

Other issue discovered:
-----
There is also a problem for the department field, where the user has access to
the field when in desktop mode but gets an ""Access error"" in mobile mode.

Cause:
-----
The equipment model stores the owner by referencing a hr.employee. Depending on
the display type, the user will get a simple dropdown list in desktop mode or a
kanban view in mobile mode.

When the kanban view is loaded in mobile mode, since the user does not have read
access to the hr.employee model, the ORM tries to load from the cache. Since it
doesn't find the content of a field (avatar_128 here) in the cache, it clears
the whole record, leading to the ""No records found!"" message. The hr team has a
workaround for this issue in the form of a custom many2one widget for employee
avatars.

Ticket:
opw-4309746
",vandroogenbd,2025-01-30 09:14:29+00:00,[],2025-02-05 10:37:08+00:00,,https://github.com/odoo/odoo/pull/195718,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2623927892, 'issue_id': 2820287137, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195718.png)](https://mergebot.odoo.com/odoo/odoo/pull/195718)', 'created_at': datetime.datetime(2025, 1, 30, 9, 14, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633119423, 'issue_id': 2820287137, 'author': 'vandroogenbd', 'body': 'I have no idea whether this change would be stable as using hr.employee.public _might be too risky_.\r\nBut at the same time, hr.employee.public should be a shoe-in replacement for regular hr.employee.', 'created_at': datetime.datetime(2025, 2, 4, 7, 43, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633729683, 'issue_id': 2820287137, 'author': 'taqu-odoo', 'body': ""I'm not sure about this change in stable, I think you could use the `many2one_avatar_employee`\r\n widget which avoids the access rights issues https://github.com/odoo/odoo/blob/a11eaf3c2f996d2c1af5f3d2852c8c2f881f523f/addons/hr_maintenance/views/maintenance_views.xml#L103"", 'created_at': datetime.datetime(2025, 2, 4, 12, 15, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:14:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195718.png)](https://mergebot.odoo.com/odoo/odoo/pull/195718)

vandroogenbd (Issue Creator) on (2025-02-04 07:43:05 UTC): I have no idea whether this change would be stable as using hr.employee.public _might be too risky_.
But at the same time, hr.employee.public should be a shoe-in replacement for regular hr.employee.

taqu-odoo on (2025-02-04 12:15:01 UTC): I'm not sure about this change in stable, I think you could use the `many2one_avatar_employee`
 widget which avoids the access rights issues https://github.com/odoo/odoo/blob/a11eaf3c2f996d2c1af5f3d2852c8c2f881f523f/addons/hr_maintenance/views/maintenance_views.xml#L103

"
2820277217,pull_request,closed,,[FIX] point_of_sale: prevent parseerror when Clothes is clicked,"Currently a `Parseerror` appears when the user clicks 'Clothes' in POS.

### Error:
```
ParseError
while parsing /home/odoo/src/odoo/18.0/addons/point_of_sale/data/scenarios/clothes_data.xml:337
A combo choice can't contain duplicate products.

View error context:
'-no context-'
```

### Steps to reproduce above error :-
- Install 'Point of Sale'  (without demo data).
- Open POS and click 'Clothes', then delete 'Clothes Shop'.
- Click again 'Clothes'.
- The error appears in the log.

This commit resolves the issue by using `Command.clear()`, to clear the link before creating the combo products.

sentry-6191520798",ayve-odoo,2025-01-30 09:09:59+00:00,[],2025-01-31 09:19:50+00:00,2025-01-31 09:19:45+00:00,https://github.com/odoo/odoo/pull/195717,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623916978, 'issue_id': 2820277217, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195717.png)](https://mergebot.odoo.com/odoo/odoo/pull/195717)', 'created_at': datetime.datetime(2025, 1, 30, 9, 10, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624342575, 'issue_id': 2820277217, 'author': 'maan-odoo', 'body': 'We will fix this issue here https://github.com/odoo/odoo/pull/190713', 'created_at': datetime.datetime(2025, 1, 30, 12, 13, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:10:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195717.png)](https://mergebot.odoo.com/odoo/odoo/pull/195717)

maan-odoo on (2025-01-30 12:13:48 UTC): We will fix this issue here https://github.com/odoo/odoo/pull/190713

"
2820256958,pull_request,open,,[FIX] stock: fix traceback when creating a new stock movle line,"Currently, a traceback is occurring when the user tries to create a new stock move line.

To reproduce this issue:
1) Install stock
2) Open/Create a draft/Ready deliveries stock picking record 
3) Click on the `Moves` stat button from the Picking 
4) Create a new Move line record and remove the `pick From` 
5) Add a `product` and `pick From` values

Error:- 
```
ValueError: Expected singleton: stock.move()
```

This error occurred because of the recent changes in the commit below.

https://github.com/odoo/odoo/pull/190467/commits/c8afad87a3e51ba4c0051e44d46080f3b00f61c7

When the user adds the `quant_id` value, we get the move_id as an empty record, 
leading to the above traceback from the below line. 

Because of the `ensure_one()` in the `_visible_quantity()` method.

https://github.com/odoo/odoo/blob/963af3819c27f28c07443b80e7a1fc746afd4607/addons/stock/models/stock_move_line.py#L152

We can resolve this issue by skipping the further computation when there is no move_id.

sentry-6256719588

",alsh-odoo,2025-01-30 09:00:05+00:00,[],2025-02-03 04:42:24+00:00,,https://github.com/odoo/odoo/pull/195716,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623894895, 'issue_id': 2820256958, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195716.png)](https://mergebot.odoo.com/odoo/odoo/pull/195716)', 'created_at': datetime.datetime(2025, 1, 30, 9, 0, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624359731, 'issue_id': 2820256958, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease look at this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 1, 30, 12, 21, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 09:00:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195716.png)](https://mergebot.odoo.com/odoo/odoo/pull/195716)

alsh-odoo (Issue Creator) on (2025-01-30 12:21:11 UTC): Ola @odoo/sentry_reviewers :wave: 

Please look at this PR

Thank You :slightly_smiling_face:

"
2820235758,pull_request,open,,[FIX] web: prevent ribbon overlap on image and status bar,"Before this commit:
In the form view, the ribbon was appearing behind the image due to changes introduced in  https://github.com/odoo/odoo/pull/190381 Additionally, when scrolling down, the ribbon overlapped with the status bar.

After this commit:
The ribbon now correctly appears above the image and no longer overlaps with the status bar when scrolling in the form view.

task-4504282

| Before | After |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/ee2087e7-c345-4c07-84b8-5659182da0fe) | ![image](https://github.com/user-attachments/assets/61118211-5699-4e31-ae11-fc4351149ccf) |
| ![image](https://github.com/user-attachments/assets/aa412fee-de7d-4f61-85d7-629890832f79) | ![image](https://github.com/user-attachments/assets/fb11ca43-9a85-48b1-9fd9-2ceb317b7e5c) | 
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omra-odoo,2025-01-30 08:49:50+00:00,[],2025-02-03 07:34:52+00:00,,https://github.com/odoo/odoo/pull/195715,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623873530, 'issue_id': 2820235758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195715.png)](https://mergebot.odoo.com/odoo/odoo/pull/195715)', 'created_at': datetime.datetime(2025, 1, 30, 8, 49, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:49:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195715.png)](https://mergebot.odoo.com/odoo/odoo/pull/195715)

"
2820232754,pull_request,open,,[FIX] hr_attendance: new user can load demo data,"Currently, an error occurs when a new user tries to load demo data in the ``Attendance`` module.

Steps to reproduce:
---
- Install ``hr_attendance`` module (without demo data)
- Create NEW user > Login with new user
- Open ``Attendance`` and Click ``Load Demo Data``

Traceback:
---
```
AccessError
You are not allowed to create 'Resource Working Time' (resource.calendar) records.

This operation is allowed for the following groups:
	- Administration/Settings

Contact your administrator to request access if necessary.

ParseError
while parsing /home/odoo/src/odoo/saas-18.1/addons/hr_attendance/data/scenarios/hr_attendance_scenario.xml:5, somewhere inside <record id=""resource_calendar_std_38h"" model=""resource.calendar"" forcecreate=""1"">
            <field name=""name"">Standard 32 hours/week (4 work days, friday free)</field>
            <field name=""company_id"" eval=""False""/>
            <field name=""hours_per_day"">8</field>
            <field name=""attendance_ids"" eval=""[(5, 0, 0),                     (0, 0, {'name': 'Monday Morning', 'dayofweek': '0', 'hour_from': 8, 'hour_to': 12, 'day_period': 'morning'}),                     (0, 0, {'name': 'Monday Lunch', 'dayofweek': '0', 'hour_from': 12, 'hour_to': 13, 'day_period': 'lunch'}),                     (0, 0, {'name': 'Monday Afternoon', 'dayofweek': '0', 'hour_from': 13, 'hour_to': 17, 'day_period': 'afternoon'}),                     (0, 0, {'name': 'Tuesday Morning', 'dayofweek': '1', 'hour_from': 8, 'hour_to': 12, 'day_period': 'morning'}),                     (0, 0, {'name': 'Tu...

ValueError
ParseError('while parsing /home/odoo/src/odoo/saas-18.1/addons/hr_attendance/data/scenarios/hr_attendance_scenario.xml:5, somewhere inside\n<record id=""resource_calendar_std_38h"" model=""resource.calendar"" forcecreate=""1"">\n            <field name=""name"">Standard 32 hours/week (4 work days, friday free)</field>\n            <field name=""company_id"" eval=""False""/>\n            <field name=""hours_per_day"">8</field>\n            <field name=""attendance_ids"" eval=""[(5, 0, 0),                     (0, 0, {\'name\': \'Monday Morning\', \'dayofweek\': \'0\', \'hour_from\': 8, \'hour_to\': 12, \'day_period\': \'morning\'}),                     (0, 0, {\'name\': \'Monday Lunch\', \'dayofweek\': \'0\', \'hour_from\': 12, \'hour_to\': 13, \'day_period\': \'lunch\'}),                     (0, 0, {\'name\': \'Monday Afternoon\', \'dayofweek\': \'0\', \'hour_from\': 13, \'hour_to\': 17, \'day_period\': \'afternoon\'}),                     (0, 0, {\'name\': \'Tuesday Morning\', \'dayofweek\': \'1\', \'hour_from\': 8, \'hour...
```

This error occurs because the new user has not been granted administrative rights.

This commit resolves the issue by granting the user superuser rights.

sentry-6110523247

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-01-30 08:48:06+00:00,[],2025-01-30 11:26:16+00:00,,https://github.com/odoo/odoo/pull/195714,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623870353, 'issue_id': 2820232754, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195714.png)](https://mergebot.odoo.com/odoo/odoo/pull/195714)', 'created_at': datetime.datetime(2025, 1, 30, 8, 48, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624229147, 'issue_id': 2820232754, 'author': 'aamo-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\n\r\nPlease review this PR.\r\n\r\nThanks! :)', 'created_at': datetime.datetime(2025, 1, 30, 11, 26, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:48:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195714.png)](https://mergebot.odoo.com/odoo/odoo/pull/195714)

aamo-odoo (Issue Creator) on (2025-01-30 11:26:14 UTC): Hello @odoo/sentry_reviewers

Please review this PR.

Thanks! :)

"
2820224286,pull_request,closed,,[FW][FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307

Forward-Port-Of: odoo/odoo#195306",fw-bot,2025-01-30 08:43:21+00:00,[],2025-01-30 17:36:23+00:00,2025-01-30 17:36:23+00:00,https://github.com/odoo/odoo/pull/195713,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2623861598, 'issue_id': 2820224286, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195713.png)](https://mergebot.odoo.com/odoo/odoo/pull/195713)', 'created_at': datetime.datetime(2025, 1, 30, 8, 43, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623861623, 'issue_id': 2820224286, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 8, 43, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:43:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195713.png)](https://mergebot.odoo.com/odoo/odoo/pull/195713)

fw-bot (Issue Creator) on (2025-01-30 08:43:22 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820215830,pull_request,open,,[FIX] point_of_sale: fix customer display auto scroll,"Steps to reproduce:
- Install pos_restaurant
- In restaurant's configs, set 'Customer Display' to 'Another device'
- Open the customer display in another tab, and start adding products from the main display -> The list of products on the customer display doesn't auto scroll when the products overlow the view.

Explanation:
The last `OrderLine` is supposed to be pass a `selected` prop, so it can be targeted from JavaScript and scrolled into the view [1]. However, this prop was removed in 1bc90a18807c43206c4620d7faad2579a3a61fc9. Now we add it back.

[1]: https://github.com/odoo/odoo/blob/18.0/addons/point_of_sale/static/src/app/generic_components/order_widget/order_widget.js#L28-L30

opw-4458215
",hadielyakhni,2025-01-30 08:38:32+00:00,[],2025-01-30 09:00:16+00:00,,https://github.com/odoo/odoo/pull/195712,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2623852809, 'issue_id': 2820215830, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195712.png)](https://mergebot.odoo.com/odoo/odoo/pull/195712)', 'created_at': datetime.datetime(2025, 1, 30, 8, 38, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:38:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195712.png)](https://mergebot.odoo.com/odoo/odoo/pull/195712)

"
2820202277,pull_request,closed,,[IMP] event: add group by properties filter in attendees list,"Specifications :
- We have `registration_properties` field but it was not used in group by search, add filter group by 'Properties'.
- Rename the default filter from 'Taken' to 'Attending' for more clarity

Task-3989993
",yagp-odoo,2025-01-30 08:30:35+00:00,[],2025-01-30 09:46:10+00:00,2025-01-30 09:46:09+00:00,https://github.com/odoo/odoo/pull/195711,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623838361, 'issue_id': 2820202277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195711.png)](https://mergebot.odoo.com/odoo/odoo/pull/195711)', 'created_at': datetime.datetime(2025, 1, 30, 8, 30, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:30:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195711.png)](https://mergebot.odoo.com/odoo/odoo/pull/195711)

"
2820199352,pull_request,closed,,[FIX] analytic: do no re-create plan,"If Projects plan is removed we cannot let it be recreated in a module upgrade. If we allow so the new plan will create an unnecessary column in `account_analytic_line`. This would repeat each time the user upgrades the module in case the plan is removed before the upgrade. In principle this is not an issue, unless account_budget is also installed. In such case the new column for `budget_line` won't be created and that would cause errors.

Steps to reproduce
1. Install `account_budget`
2. Create a new Plan
3. Set the config parameter to the id of the new plan
4. Remove Projects plan
5. Upgrade analytic module
6. Try to create a new analytic account.

There is an error in the frontend
```
OwlError: The following error occurred in onWillStart: """"budget.line"".""x_plan3_id"" field is undefined.""
```

The problem is that since the new plan was created via an upgrade the post init hook of `account_budget` didn't run. Therefore the new column in `budget_line` was not created.

Notes:
* In step 4 above the column `x_plan2_id` in analytic line is left unused. This is not a problem per-se besides extra data dangling in the DB.
* We may argue that we should ensure that the column plan is created in a register_hook in `account_budget` but conceptually the relevant setting is the config parameter, recreating a plan that has no reason to exist could cause more issues down the line.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aj-fuentes,2025-01-30 08:28:51+00:00,[],2025-01-30 13:15:07+00:00,2025-01-30 13:15:07+00:00,https://github.com/odoo/odoo/pull/195710,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623835386, 'issue_id': 2820199352, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195710.png)](https://mergebot.odoo.com/odoo/odoo/pull/195710)', 'created_at': datetime.datetime(2025, 1, 30, 8, 28, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623846832, 'issue_id': 2820199352, 'author': 'robodoo', 'body': ""@aj-fuentes @william-andre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 8, 35, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:28:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195710.png)](https://mergebot.odoo.com/odoo/odoo/pull/195710)

robodoo on (2025-01-30 08:35:21 UTC): @aj-fuentes @william-andre 'ci/runbot' failed on this reviewed PR.

"
2820183946,pull_request,closed,,[FW][IMP] google_recaptcha: hide reCAPTCHA toggle once enabled,"The reCAPTCHA feature is currently controlled by the ""Module
Installation"" setting: `module_google_recaptcha`, which, due to
dependencies, caused the removal of many other modules when disabled.

The goal of this commit is to simply hide this option in stable to
prevent this misleading behaviour.

A user can still disable the reCAPTCHA checks by removing API keys
(Which was already mentioned on the setting block)

The feature behaviour will be updated in master to allow disabling
reCAPTCHA without uninstalling the modules.

task-3380702

Forward-Port-Of: odoo/odoo#194907",fw-bot,2025-01-30 08:20:11+00:00,[],2025-02-03 09:52:41+00:00,2025-01-30 20:54:54+00:00,https://github.com/odoo/odoo/pull/195709,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2623818581, 'issue_id': 2820183946, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195709.png)](https://mergebot.odoo.com/odoo/odoo/pull/195709)', 'created_at': datetime.datetime(2025, 1, 30, 8, 20, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623818610, 'issue_id': 2820183946, 'author': 'fw-bot', 'body': '@xO-Tx @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195678\n* odoo/odoo#195665\n* odoo/odoo#195648\n* odoo/odoo#195620\n* odoo/odoo#195588\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 8, 20, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624250705, 'issue_id': 2820183946, 'author': 'fw-bot', 'body': '@xO-Tx @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 11, 36, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624548064, 'issue_id': 2820183946, 'author': 'xO-Tx', 'body': '@qsm-odoo Little [adjustment](https://github.com/odoo/odoo/compare/3178a914b54a927ab2bd98261317c4adcbcd0a22..740808f97210098f8ab37ff4d628214bd70c2409#diff-bca7911c253e090d9e0f4860da29e86dde246808da48fb96f13433044a612be2L9-R9) here on the CSS rule for `+17.0` :+1:\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 40, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:20:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195709.png)](https://mergebot.odoo.com/odoo/odoo/pull/195709)

fw-bot (Issue Creator) on (2025-01-30 08:20:13 UTC): @xO-Tx @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195678
* odoo/odoo#195665
* odoo/odoo#195648
* odoo/odoo#195620
* odoo/odoo#195588

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 11:36:46 UTC): @xO-Tx @qsm-odoo ci/runbot failed on this forward-port PR

xO-Tx on (2025-01-30 13:40:27 UTC): @qsm-odoo Little [adjustment](https://github.com/odoo/odoo/compare/3178a914b54a927ab2bd98261317c4adcbcd0a22..740808f97210098f8ab37ff4d628214bd70c2409#diff-bca7911c253e090d9e0f4860da29e86dde246808da48fb96f13433044a612be2L9-R9) here on the CSS rule for `+17.0` :+1:

@robodoo r+

"
2820180639,pull_request,closed,,[FW][FIX] test_lint: fix list comprehension issue when assigned,"This commit add support for comprenhension expression on assign node

Forward-Port-Of: odoo/odoo#195486
Forward-Port-Of: odoo/odoo#194878",fw-bot,2025-01-30 08:18:08+00:00,[],2025-01-30 09:12:15+00:00,2025-01-30 09:12:14+00:00,https://github.com/odoo/odoo/pull/195708,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2623815220, 'issue_id': 2820180639, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195708.png)](https://mergebot.odoo.com/odoo/odoo/pull/195708)', 'created_at': datetime.datetime(2025, 1, 30, 8, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623815266, 'issue_id': 2820180639, 'author': 'fw-bot', 'body': '@flvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195638\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 8, 18, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:18:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195708.png)](https://mergebot.odoo.com/odoo/odoo/pull/195708)

fw-bot (Issue Creator) on (2025-01-30 08:18:12 UTC): @flvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195638

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2820179460,pull_request,closed,,[FIX] core: adapt python form view to new object 'companies',"See https://github.com/odoo/odoo/pull/190218 for the definition of the new object.

The `companies` object contains:
- multi_company: A boolean indicating whether the user has access to multiple companies.
- allowed_ids : The list of company IDs the user is allowed to connect to.
- active_ids: The list of company IDs the user is connected to (selected in the company switcher dropdown).
- active_id: The ID of the main company selected (the one highlighted in the company switcher dropdown and displayed in the navbar of the webclient).
- has(id|ids, 'property', value) : returns a boolean indicating whether there's a company with id in `ids` for which `field` matches the given `value`.

Example:

- A DB has 50 intalled companies;
- Michel has the right to connect to 4 companies (A, B, C, D) => user.allowedCompanies/companies.allowed_ids
- Michel in his interface he sees 4 companies (A, B, C, E, D) (he sees E (even if he can't connect) because it is the parent company of D) => user.allowedCompaniesWithAncestors
- Michel selects, in the dropdown, two companies D and A, with D as the main company => user.activeCompanies/companies.active_ids (contains the list [D,A]) and user.activeCompany/companies.active_id (contains D)

(NB: I write also the 'user' object but it's not defied in this pr)",Gorash,2025-01-30 08:17:22+00:00,[],2025-02-04 16:43:07+00:00,2025-02-04 16:43:07+00:00,https://github.com/odoo/odoo/pull/195707,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2623814063, 'issue_id': 2820179460, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195707.png)](https://mergebot.odoo.com/odoo/odoo/pull/195707)', 'created_at': datetime.datetime(2025, 1, 30, 8, 17, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623958657, 'issue_id': 2820179460, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 28, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623958749, 'issue_id': 2820179460, 'author': 'robodoo', 'body': '@jpp-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 30, 9, 28, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:17:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195707.png)](https://mergebot.odoo.com/odoo/odoo/pull/195707)

jpp-odoo on (2025-01-30 09:28:19 UTC): @robodoo r+

robodoo on (2025-01-30 09:28:22 UTC): @jpp-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2820168856,pull_request,closed,,[FW][FIX] survey: fix final leaderboard screen,"[FIX] survey: fix final leaderboard layout

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)

The stats only occupies a small portion of the width and the button are very close to the title.

We solve the problem by enlarging the stats like the previous result screens to get a layout similar as in v16.0.

[FIX] documents: fix close buttons

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)
- Click on the ""Close"" button

Nothing happens while it should close the session and get back to the survey form.

Actually, the code was closing the session but failed to get back to the survey as it was using ""window.history.back()"" and the button ""create session"" launches the session in a new tab that has no history as all the survey happens on the same URL. We solve the problem by reloading the page instead. As the session is closed, the page then displays ""Thank you"".

We change slightly the tour as it expects that at the end, the close button leads to the survey back-end form (as it checks the presence of the button ""Create Session"" which is the action ""action_start_session""). But as the session is started in a new tab, we have decided that it is better to display the final ""Thank you"" screen rather than returning to the back-end survey form as this is meant to be displayed in public.

[FIX] documents: fix infinite line when max score is 0

How to reproduce:
- Create a live survey
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the wrong answer to the question

At the end of the survey, the score bar size is very big (multiple time of the screen width).

We solve the problem by avoiding dividing by 0.

Task-4381603

Forward-Port-Of: odoo/odoo#190442",fw-bot,2025-01-30 08:10:54+00:00,[],2025-01-31 15:53:15+00:00,2025-01-31 15:53:15+00:00,https://github.com/odoo/odoo/pull/195706,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2623803148, 'issue_id': 2820168856, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195706.png)](https://mergebot.odoo.com/odoo/odoo/pull/195706)', 'created_at': datetime.datetime(2025, 1, 30, 8, 10, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623803237, 'issue_id': 2820168856, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo cherrypicking of pull request odoo/odoo#190442 failed.\n\n* 02a7f3708428030167a08aad3a583d6639dedfb7\n* c73a73d0e3d41a58a2d90b87954052d170d718f4 <- on this commit\n* 9341147034f22a50e4118e9d70a789a44a6bf3c3\n\nstdout:\n```\nAuto-merging addons/survey/static/src/js/survey_session_manage.js\nAuto-merging addons/survey/static/tests/tours/survey_tour_session_manage.js\nCONFLICT (content): Merge conflict in addons/survey/static/tests/tours/survey_tour_session_manage.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 8, 10, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626828534, 'issue_id': 2820168856, 'author': 'flch-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 8, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 08:10:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195706.png)](https://mergebot.odoo.com/odoo/odoo/pull/195706)

fw-bot (Issue Creator) on (2025-01-30 08:10:58 UTC): @pyduf @flch-odoo cherrypicking of pull request odoo/odoo#190442 failed.

* 02a7f3708428030167a08aad3a583d6639dedfb7
* c73a73d0e3d41a58a2d90b87954052d170d718f4 <- on this commit
* 9341147034f22a50e4118e9d70a789a44a6bf3c3

stdout:
```
Auto-merging addons/survey/static/src/js/survey_session_manage.js
Auto-merging addons/survey/static/tests/tours/survey_tour_session_manage.js
CONFLICT (content): Merge conflict in addons/survey/static/tests/tours/survey_tour_session_manage.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

flch-odoo on (2025-01-31 10:08:52 UTC): @robodoo r+

"
2820147978,pull_request,closed,,[FIX] point_of_sale: assume refund if all lines are negative,"Assuming that an order is a refund with the presence of some negative lines is
not compatible with the current implementation of pos_loyalty rewards.

In this PR, we make an assumption that is valid in most cases than previous,
such that an order is a refund if all of its lines are negative.",caburj,2025-01-30 07:57:39+00:00,[],2025-01-30 18:09:10+00:00,2025-01-30 18:09:10+00:00,https://github.com/odoo/odoo/pull/195705,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623781556, 'issue_id': 2820147978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195705.png)](https://mergebot.odoo.com/odoo/odoo/pull/195705)', 'created_at': datetime.datetime(2025, 1, 30, 7, 57, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 07:57:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195705.png)](https://mergebot.odoo.com/odoo/odoo/pull/195705)

"
2820125936,pull_request,open,,[FIX] web_editor: allow browser behavior on navigation if last char is ZWS,"**Problem**:
When navigating through text, movement stops incorrectly if a zero-width space (ZWS) is last character in some cases.

Example:
`<p>[]/ZWS/<a>/ZWS/abc</a></p>`
Pressing right arrow should move past `""a""`, but it gets stuck before it due to `preventDefault` handling of ZWS.

**Solution**:
Allow the browser's default behavior if the last character is ZWS. This ensures navigation moves to the next visible character correctly.

**Steps to Reproduce**:
1. Add a Form snippet.
2. Focus on the ""Submit"" button.
3. Press the ""Home"" button to move the cursor to the beginning of the text.
4. Press the right arrow key twice.
   - Expected: Cursor moves after the first visible character.
   - Issue: Cursor stops prematurely before the character.

opw-4505962

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-30 07:42:30+00:00,[],2025-01-30 08:00:12+00:00,,https://github.com/odoo/odoo/pull/195704,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2623759772, 'issue_id': 2820125936, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195704.png)](https://mergebot.odoo.com/odoo/odoo/pull/195704)', 'created_at': datetime.datetime(2025, 1, 30, 7, 42, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 07:42:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195704.png)](https://mergebot.odoo.com/odoo/odoo/pull/195704)

"
2820120956,pull_request,closed,,[FW][FIX] l10n_in: backporting of fiscal position commits,"This PR is backporting of these commits:

[1] Commit https://github.com/odoo/odoo/commit/a1b7d8aba255ec477a030d44897b8ea73d1f37e7
[2] Commit https://github.com/odoo/odoo/commit/3653131d32997392b2170ce542bfc544fd96bef2

These commits introduce the computation of fiscal positions for sales and
purchase documents based on the place of supply. While these changes are
already merged into version 18.1, they are now required in version 17.0.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195633
Forward-Port-Of: odoo/odoo#195399",fw-bot,2025-01-30 07:39:03+00:00,['masm-odoo'],2025-01-30 14:31:06+00:00,2025-01-30 14:31:06+00:00,https://github.com/odoo/odoo/pull/195703,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2623754833, 'issue_id': 2820120956, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195703.png)](https://mergebot.odoo.com/odoo/odoo/pull/195703)', 'created_at': datetime.datetime(2025, 1, 30, 7, 39, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623754851, 'issue_id': 2820120956, 'author': 'fw-bot', 'body': '@masm-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195399 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_in/tests/test_l10n_in_fiscal_position.py\nCONFLICT (content): Merge conflict in addons/l10n_in/tests/test_l10n_in_fiscal_position.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 7, 39, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624003590, 'issue_id': 2820120956, 'author': 'masm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 48, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 07:39:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195703.png)](https://mergebot.odoo.com/odoo/odoo/pull/195703)

fw-bot (Issue Creator) on (2025-01-30 07:39:05 UTC): @masm-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195399 failed.

stdout:
```
Auto-merging addons/l10n_in/tests/test_l10n_in_fiscal_position.py
CONFLICT (content): Merge conflict in addons/l10n_in/tests/test_l10n_in_fiscal_position.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

masm-odoo (Assginee) on (2025-01-30 09:48:32 UTC): @robodoo r+

"
2820118307,pull_request,closed,,[FW][FIX] web_editor: prevent adding empty `p` when deleting an image,"**Problem**:
When an image inside a `<p>` tag (e.g., `<p><img></p>`) is deleted using the toolbar delete button, the selection is not properly restored, leaving an empty `<p>` in the DOM and the selection in the editor root.

**Solution**:
Restore the selection to the correct position after deleting the image to avoid leaving an empty `<p>`.

**Steps to Reproduce**:
1. Open an empty editor and add an image.
2. Delete the image using the toolbar delete button.
3. Inspect the DOM:
   - An empty `<p>` remains, and the selection is in the editor root.

opw-4472173

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194996
Forward-Port-Of: odoo/odoo#193396",fw-bot,2025-01-30 07:37:11+00:00,[],2025-01-30 10:26:43+00:00,2025-01-30 10:26:43+00:00,https://github.com/odoo/odoo/pull/195702,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2623752312, 'issue_id': 2820118307, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195702.png)](https://mergebot.odoo.com/odoo/odoo/pull/195702)', 'created_at': datetime.datetime(2025, 1, 30, 7, 37, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623752332, 'issue_id': 2820118307, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195601\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 7, 37, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623798897, 'issue_id': 2820118307, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 8, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 07:37:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195702.png)](https://mergebot.odoo.com/odoo/odoo/pull/195702)

fw-bot (Issue Creator) on (2025-01-30 07:37:15 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195601

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-30 08:08:19 UTC): @robodoo r+

"
2820074005,pull_request,closed,,[IMP] l10n_in_ewaybill: restrict deletion of attachments,"In this commit:
We restrict the deletion of government related attachments for Ewaybill.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hamo-odoo,2025-01-30 07:11:08+00:00,[],2025-01-30 19:01:11+00:00,2025-01-30 19:01:11+00:00,https://github.com/odoo/odoo/pull/195701,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623681139, 'issue_id': 2820074005, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195701.png)](https://mergebot.odoo.com/odoo/odoo/pull/195701)', 'created_at': datetime.datetime(2025, 1, 30, 7, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623692617, 'issue_id': 2820074005, 'author': 'hamo-odoo', 'body': ""I wonder can't we add  a field something like `is_government_document` in `ir.attachment` in `account` (in master)? if it's really needed for `account_edi`, `in_ewaybill`, `ec_edi_stock`, `in_reports_gstr` and will be needed in `in_edi` too once we remove `account_edi` dependency\r\n\r\nIt will take less number of loops to check if it's a government attachment :)"", 'created_at': datetime.datetime(2025, 1, 30, 7, 16, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624386952, 'issue_id': 2820074005, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 34, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 07:11:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195701.png)](https://mergebot.odoo.com/odoo/odoo/pull/195701)

hamo-odoo (Issue Creator) on (2025-01-30 07:16:33 UTC): I wonder can't we add  a field something like `is_government_document` in `ir.attachment` in `account` (in master)? if it's really needed for `account_edi`, `in_ewaybill`, `ec_edi_stock`, `in_reports_gstr` and will be needed in `in_edi` too once we remove `account_edi` dependency

It will take less number of loops to check if it's a government attachment :)

jco-odoo on (2025-01-30 12:34:02 UTC): @robodoo r+

"
2820001539,pull_request,open,,[FIX] mrp: prevent an error when start date is not available,"The issue occurs when the system tries to convert different types of date or date objects into proper python datetime.datetime object but 'date_start' is False in vals at [1]. It might be write when `_plan_workorders` is executed and mrp workorder has not 'leave_id' [2].

The issue occurs when the system attempts to convert various date or date-related objects into a valid Python datetime.datetime object. However, at [1], 'date_start' in 'vals' is False [1]. This may be write when the '_plan_workorders' method is executed and the mrp workorder does not have a 'leave_id' [2].

Link [1]: https://github.com/odoo/odoo/blob/a848c3854c94b5c2b752edddbcf49337acf9d6ea/addons/mrp/models/mrp_production.py#L875

Link [2]: https://github.com/odoo/odoo/blob/a848c3854c94b5c2b752edddbcf49337acf9d6ea/addons/mrp/models/mrp_production.py#L1533-L1536

To resolve this, provide a default date as today if start date is not available

Sentry-6255515427



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mega-odoo,2025-01-30 06:18:19+00:00,[],2025-01-30 07:00:12+00:00,,https://github.com/odoo/odoo/pull/195700,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623610733, 'issue_id': 2820001539, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195700.png)](https://mergebot.odoo.com/odoo/odoo/pull/195700)', 'created_at': datetime.datetime(2025, 1, 30, 6, 18, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 06:18:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195700.png)](https://mergebot.odoo.com/odoo/odoo/pull/195700)

"
2819991758,pull_request,open,,"[IMP] pos{_restaurant, _self_order}: enhance KOT and ticket labels","In this commit:
================
- Added ""Prest Date Time"" to KOT and ticket for future orders.
- Removed extra padding in the ticket for better readability.
- Fixed an issue where the Takeout and Delivery Info popup was not triggering in Kiosk mode, preventing errors caused by missing name and address.

Task-4507272

",jipr-odoo,2025-01-30 06:11:20+00:00,[],2025-01-30 07:00:13+00:00,,https://github.com/odoo/odoo/pull/195699,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623601148, 'issue_id': 2819991758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195699.png)](https://mergebot.odoo.com/odoo/odoo/pull/195699)', 'created_at': datetime.datetime(2025, 1, 30, 6, 11, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 06:11:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195699.png)](https://mergebot.odoo.com/odoo/odoo/pull/195699)

"
2819982744,pull_request,open,,[FIX] im_livechat: clear answers when changing step type from question to other,"**Current behavior before PR**:

Answers remained even after changing the step type from question selection to others.

**Desired behavior after PR is merged**:

Answers are now cleared from both the frontend and backend when the step type is changed from question selection to any other type.


**task-id**:[4510555](https://odoo.com/odoo/all-tasks/4510555)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",akap-odoo,2025-01-30 06:06:43+00:00,[],2025-02-07 12:08:11+00:00,,https://github.com/odoo/odoo/pull/195698,"[('RD', 'research & development, internal work')]","[{'comment_id': 2623594772, 'issue_id': 2819982744, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195698.png)](https://mergebot.odoo.com/odoo/odoo/pull/195698)', 'created_at': datetime.datetime(2025, 1, 30, 6, 6, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 06:06:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195698.png)](https://mergebot.odoo.com/odoo/odoo/pull/195698)

"
2819918640,pull_request,closed,,[FW][FIX] pos_razorpay: traceback when terminal payment done on floor screen,"Steps to Reproduce:
=========
- Install the modules: pos_razorpay, l10n_in, and pos_restaurant.
- Create a payment method for the Razorpay terminal.
- Open a restaurant register linked to an Indian company with the added Razorpay terminal payment method.
- Create an order, add a Razorpay payment line, and navigate to the floor screen.

Issue:
==========
- A traceback occurs when completing a payment.

Cause:
=========
- Polling for the Razorpay terminal continues even after leaving the payment screen and navigating to the floor screen.

Fix:
=========
- Stop the polling process when the user leaves the payment screen.
- Resume polling only when the user returns to the payment screen.

task-4414016

Forward-Port-Of: odoo/odoo#192072",fw-bot,2025-01-30 05:12:05+00:00,[],2025-01-30 14:34:41+00:00,2025-01-30 14:34:41+00:00,https://github.com/odoo/odoo/pull/195697,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2623534287, 'issue_id': 2819918640, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195697.png)](https://mergebot.odoo.com/odoo/odoo/pull/195697)', 'created_at': datetime.datetime(2025, 1, 30, 5, 12, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623534324, 'issue_id': 2819918640, 'author': 'fw-bot', 'body': '@paan-odoo @caburj cherrypicking of pull request odoo/odoo#192072 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/pos_razorpay/static/src/app/payment_razorpay.js deleted in dcbf8c1bf64e57a5edfd4583666f00cf73dcce73 and modified in 53af6ce73d50fb946208a0cd14bc29261f04c388.  Version 53af6ce73d50fb946208a0cd14bc29261f04c388 of addons/pos_razorpay/static/src/app/payment_razorpay.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 5, 12, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623860386, 'issue_id': 2819918640, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 42, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 05:12:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195697.png)](https://mergebot.odoo.com/odoo/odoo/pull/195697)

fw-bot (Issue Creator) on (2025-01-30 05:12:09 UTC): @paan-odoo @caburj cherrypicking of pull request odoo/odoo#192072 failed.

stdout:
```
CONFLICT (modify/delete): addons/pos_razorpay/static/src/app/payment_razorpay.js deleted in dcbf8c1bf64e57a5edfd4583666f00cf73dcce73 and modified in 53af6ce73d50fb946208a0cd14bc29261f04c388.  Version 53af6ce73d50fb946208a0cd14bc29261f04c388 of addons/pos_razorpay/static/src/app/payment_razorpay.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paan-odoo on (2025-01-30 08:42:46 UTC): @robodoo r+

"
2819917426,pull_request,closed,,[FW][FIX] website: do not observe mutations making s_popup visible,"Description of the issue this PR addresses:

Pressing enter in the `s_popup` snippet after making it visible via the right panel would hide the popup. This occurred because the mutation observer detected changes which shows the modal and rolled them back during the `insertLineBreak` operation. This commit ensures that those mutations are not observed.

task-4255083

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195016
Forward-Port-Of: odoo/odoo#191810",fw-bot,2025-01-30 05:11:10+00:00,[],2025-01-30 07:54:14+00:00,2025-01-30 07:54:14+00:00,https://github.com/odoo/odoo/pull/195696,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2623533414, 'issue_id': 2819917426, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195696.png)](https://mergebot.odoo.com/odoo/odoo/pull/195696)', 'created_at': datetime.datetime(2025, 1, 30, 5, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623533421, 'issue_id': 2819917426, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195603\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 5, 11, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623542139, 'issue_id': 2819917426, 'author': 'deso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 5, 19, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623639515, 'issue_id': 2819917426, 'author': 'robodoo', 'body': '@deso-odoo @dmo-odoo staging failed: ci/runbot on 451dff13189fa1c638825e212686cc86807dd6be (view more at https://runbot.odoo.com/runbot/build/74195290)', 'created_at': datetime.datetime(2025, 1, 30, 6, 39, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623641360, 'issue_id': 2819917426, 'author': 'deso-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 30, 6, 41, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 05:11:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195696.png)](https://mergebot.odoo.com/odoo/odoo/pull/195696)

fw-bot (Issue Creator) on (2025-01-30 05:11:12 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195603

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

deso-odoo on (2025-01-30 05:19:09 UTC): @robodoo r+

robodoo on (2025-01-30 06:39:54 UTC): @deso-odoo @dmo-odoo staging failed: ci/runbot on 451dff13189fa1c638825e212686cc86807dd6be (view more at https://runbot.odoo.com/runbot/build/74195290)

deso-odoo on (2025-01-30 06:41:16 UTC): @robodoo retry

"
2819880220,pull_request,closed,,[FW][FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)

Forward-Port-Of: odoo/odoo#195647
Forward-Port-Of: odoo/odoo#195541",fw-bot,2025-01-30 04:35:31+00:00,[],2025-01-30 14:04:58+00:00,2025-01-30 14:04:58+00:00,https://github.com/odoo/odoo/pull/195695,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2623500102, 'issue_id': 2819880220, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195695.png)](https://mergebot.odoo.com/odoo/odoo/pull/195695)', 'created_at': datetime.datetime(2025, 1, 30, 4, 35, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623500120, 'issue_id': 2819880220, 'author': 'fw-bot', 'body': '@dylankiss @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195694\n* odoo/odoo#195693\n* odoo/odoo#195692\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 4, 35, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623552554, 'issue_id': 2819880220, 'author': 'fw-bot', 'body': '@dylankiss @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 5, 29, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623906712, 'issue_id': 2819880220, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 5, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623906798, 'issue_id': 2819880220, 'author': 'robodoo', 'body': '@william-andre you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 30, 9, 5, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 04:35:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195695.png)](https://mergebot.odoo.com/odoo/odoo/pull/195695)

fw-bot (Issue Creator) on (2025-01-30 04:35:33 UTC): @dylankiss @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195694
* odoo/odoo#195693
* odoo/odoo#195692

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 05:29:21 UTC): @dylankiss @william-andre ci/runbot failed on this forward-port PR

william-andre on (2025-01-30 09:05:30 UTC): @robodoo r+

robodoo on (2025-01-30 09:05:33 UTC): @william-andre you may want to rebuild or fix this PR as it has failed CI.

"
2819823745,pull_request,closed,,[FW][FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)

Forward-Port-Of: odoo/odoo#195647
Forward-Port-Of: odoo/odoo#195541",fw-bot,2025-01-30 03:34:22+00:00,[],2025-01-30 12:53:49+00:00,2025-01-30 12:53:49+00:00,https://github.com/odoo/odoo/pull/195694,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2623443430, 'issue_id': 2819823745, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195694.png)](https://mergebot.odoo.com/odoo/odoo/pull/195694)', 'created_at': datetime.datetime(2025, 1, 30, 3, 34, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623443435, 'issue_id': 2819823745, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 3, 34, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 03:34:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195694.png)](https://mergebot.odoo.com/odoo/odoo/pull/195694)

fw-bot (Issue Creator) on (2025-01-30 03:34:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2819747510,pull_request,closed,,[FW][FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)

Forward-Port-Of: odoo/odoo#195647
Forward-Port-Of: odoo/odoo#195541",fw-bot,2025-01-30 02:19:29+00:00,[],2025-01-30 14:06:09+00:00,2025-01-30 14:06:08+00:00,https://github.com/odoo/odoo/pull/195693,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2623370986, 'issue_id': 2819747510, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195693.png)](https://mergebot.odoo.com/odoo/odoo/pull/195693)', 'created_at': datetime.datetime(2025, 1, 30, 2, 19, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623370994, 'issue_id': 2819747510, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 2, 19, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 02:19:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195693.png)](https://mergebot.odoo.com/odoo/odoo/pull/195693)

fw-bot (Issue Creator) on (2025-01-30 02:19:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2819664820,pull_request,closed,,[FW][FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)

Forward-Port-Of: odoo/odoo#195647
Forward-Port-Of: odoo/odoo#195541",fw-bot,2025-01-30 01:00:27+00:00,[],2025-01-30 11:04:08+00:00,2025-01-30 11:04:08+00:00,https://github.com/odoo/odoo/pull/195692,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2623288199, 'issue_id': 2819664820, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195692.png)](https://mergebot.odoo.com/odoo/odoo/pull/195692)', 'created_at': datetime.datetime(2025, 1, 30, 1, 0, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623288215, 'issue_id': 2819664820, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 1, 0, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 01:00:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195692.png)](https://mergebot.odoo.com/odoo/odoo/pull/195692)

fw-bot (Issue Creator) on (2025-01-30 01:00:29 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2819561478,pull_request,closed,,[FW][IMP] account: account analytic plans,"This commit allows the user to put multiple accounts prefix on a single analytic plan line.

So, if the user want to add the accounts 51000, 61000 and 71000, he can now add this: 51, 61, 71 in the same line.

task-4294662

Forward-Port-Of: odoo/odoo#194355",fw-bot,2025-01-29 23:32:11+00:00,[],2025-01-30 09:03:38+00:00,2025-01-30 09:03:38+00:00,https://github.com/odoo/odoo/pull/195691,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2623167061, 'issue_id': 2819561478, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195691.png)](https://mergebot.odoo.com/odoo/odoo/pull/195691)', 'created_at': datetime.datetime(2025, 1, 29, 23, 32, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623167087, 'issue_id': 2819561478, 'author': 'fw-bot', 'body': '@igbe-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195676\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 23, 32, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623695451, 'issue_id': 2819561478, 'author': 'igbe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 7, 17, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 23:32:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195691.png)](https://mergebot.odoo.com/odoo/odoo/pull/195691)

fw-bot (Issue Creator) on (2025-01-29 23:32:13 UTC): @igbe-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195676

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

igbe-odoo on (2025-01-30 07:17:59 UTC): @robodoo r+

"
2819552439,pull_request,open,,[IMP] account: simplify get_name function,"Description of the issue/feature this PR addresses:  
The function `get_name` was refactored to improve readability and efficiency by removing unnecessary checks.  

Current behavior before PR:  
- The function manually checked if `line.partner_id.lang` existed before applying the language context.  
- It used a list to append values and then joined them with `'\n'.join()`.  

Desired behavior after PR is merged:  
- The function always applies the language context directly to product_id. If no language is set, it automatically defaults to English, maintaining the same logic as the previous if/elif structure.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",armm-odoo,2025-01-29 23:25:27+00:00,[],2025-01-30 13:33:35+00:00,,https://github.com/odoo/odoo/pull/195690,"[('Accounting', '')]","[{'comment_id': 2623151074, 'issue_id': 2819552439, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195690.png)](https://mergebot.odoo.com/odoo/odoo/pull/195690)', 'created_at': datetime.datetime(2025, 1, 29, 23, 25, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 23:25:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195690.png)](https://mergebot.odoo.com/odoo/odoo/pull/195690)

"
2819498419,pull_request,closed,,[IMP] l10n_ec: Tax for Dividends in withholdings,"Add tax for dividends in withholdings.


related: https://github.com/odoo/enterprise/pull/78149",kenluzuriaga0,2025-01-29 22:46:43+00:00,[],2025-01-30 17:36:04+00:00,2025-01-30 17:36:00+00:00,https://github.com/odoo/odoo/pull/195689,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2623047747, 'issue_id': 2819498419, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195689.png)](https://mergebot.odoo.com/odoo/odoo/pull/195689)', 'created_at': datetime.datetime(2025, 1, 29, 22, 46, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624081291, 'issue_id': 2819498419, 'author': 'antoine162', 'body': ""hi @kenluzuriaga0 feel free to let me know when this is ready to review :smile: \r\nJust had a quick look and I saw that the odoo and enterprise PRs are not synced on runbot because the branch names are different :smile: \r\nI think there isn't any other way of solving this than changing one of the branch names and creating a new PR from that branch :smile:"", 'created_at': datetime.datetime(2025, 1, 30, 10, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625145461, 'issue_id': 2819498419, 'author': 'kenluzuriaga0', 'body': 'Thanks @antoine162 \r\nI did a new PR as you mentioned 😄 \r\nI will close this one', 'created_at': datetime.datetime(2025, 1, 30, 17, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 22:46:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195689.png)](https://mergebot.odoo.com/odoo/odoo/pull/195689)

antoine162 on (2025-01-30 10:22:00 UTC): hi @kenluzuriaga0 feel free to let me know when this is ready to review :smile: 
Just had a quick look and I saw that the odoo and enterprise PRs are not synced on runbot because the branch names are different :smile: 
I think there isn't any other way of solving this than changing one of the branch names and creating a new PR from that branch :smile:

kenluzuriaga0 (Issue Creator) on (2025-01-30 17:36:00 UTC): Thanks @antoine162 
I did a new PR as you mentioned 😄 
I will close this one

"
2819389786,pull_request,closed,,[FW][FIX] mail: display user avatar in push notifications instead of odooBot,"**Current behavior before PR:**

Push notifications displayed the Odoo Bot icon regardless of the actual message author.

**Desired behavior after PR is merged:**

The push notifications now correctly display the avatar of the message author.

Task-[4510479](https://www.odoo.com/odoo/project/1519/tasks/4510479)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195219",fw-bot,2025-01-29 21:41:29+00:00,[],2025-01-30 17:03:17+00:00,2025-01-30 15:48:24+00:00,https://github.com/odoo/odoo/pull/195688,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622918873, 'issue_id': 2819389786, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195688.png)](https://mergebot.odoo.com/odoo/odoo/pull/195688)', 'created_at': datetime.datetime(2025, 1, 29, 21, 41, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622918939, 'issue_id': 2819389786, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn cherrypicking of pull request odoo/odoo#195219 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/out_of_focus_service.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/out_of_focus_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 21, 41, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 21:41:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195688.png)](https://mergebot.odoo.com/odoo/odoo/pull/195688)

fw-bot (Issue Creator) on (2025-01-29 21:41:33 UTC): @ramh-odoo @alexkuhn cherrypicking of pull request odoo/odoo#195219 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/out_of_focus_service.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/out_of_focus_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2819369884,pull_request,closed,,[FW][FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307

Forward-Port-Of: odoo/odoo#195306",fw-bot,2025-01-29 21:31:03+00:00,[],2025-01-30 14:06:14+00:00,2025-01-30 14:06:14+00:00,https://github.com/odoo/odoo/pull/195687,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622897058, 'issue_id': 2819369884, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195687.png)](https://mergebot.odoo.com/odoo/odoo/pull/195687)', 'created_at': datetime.datetime(2025, 1, 29, 21, 31, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622897080, 'issue_id': 2819369884, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 21, 31, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622963734, 'issue_id': 2819369884, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 22, 4, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 21:31:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195687.png)](https://mergebot.odoo.com/odoo/odoo/pull/195687)

fw-bot (Issue Creator) on (2025-01-29 21:31:05 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 22:04:38 UTC): @Ysoroko @qle-odoo ci/runbot failed on this forward-port PR

"
2819356343,pull_request,open,,[IMP] phone_validation: guess phone country,"Add some logic to check the partner fields of models when formatting numbers based on a specific record.

This is useful when we would otherwise have to fallback on the current company for formatting as it's generally a much better guess.

task-4199766",reth-odoo,2025-01-29 21:22:42+00:00,[],2025-02-07 08:20:03+00:00,,https://github.com/odoo/odoo/pull/195686,"[('RD', 'research & development, internal work')]","[{'comment_id': 2622881807, 'issue_id': 2819356343, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195686.png)](https://mergebot.odoo.com/odoo/odoo/pull/195686)', 'created_at': datetime.datetime(2025, 1, 29, 21, 22, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639904882, 'issue_id': 2819356343, 'author': 'reth-odoo', 'body': '@tde-banana-odoo zblip\r\nSwitched to the *classic* subTest pattern for the test too', 'created_at': datetime.datetime(2025, 2, 6, 13, 58, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 21:22:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195686.png)](https://mergebot.odoo.com/odoo/odoo/pull/195686)

reth-odoo (Issue Creator) on (2025-02-06 13:58:12 UTC): @tde-banana-odoo zblip
Switched to the *classic* subTest pattern for the test too

"
2819245323,pull_request,closed,,[FW][FIX] web: fix duplicate key error in user switch template,"**Description of the issue/feature this PR addresses:**
The user switch component fails in debug mode with the following error in the console log

> Error message:
> OwlError: Got duplicate key in t-foreach: [object Object]
>     at UserSwitch.template

This error happens because we are using the user object as a key ([object Object]), instead we should use the user_index 

**Current behavior before PR:**
1. Open a runbot
2. Log in and log out with admin account
3. Log in and log out with demo account
4. The user switch component appears on the login page
5. Adding ?debug=1 to the URL causes:
   - User switch component disappears
   - Console shows duplicate key error

**Desired behavior after PR is merged:**
- Having possibility to use switch user component in debug mode

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194149",fw-bot,2025-01-29 20:37:46+00:00,[],2025-01-30 09:03:43+00:00,2025-01-30 09:03:43+00:00,https://github.com/odoo/odoo/pull/195685,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2622792515, 'issue_id': 2819245323, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195685.png)](https://mergebot.odoo.com/odoo/odoo/pull/195685)', 'created_at': datetime.datetime(2025, 1, 29, 20, 37, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622792548, 'issue_id': 2819245323, 'author': 'fw-bot', 'body': '@cro-odoo @BastienFafchamps this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195640\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 20, 37, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623760779, 'issue_id': 2819245323, 'author': 'cro-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 7, 43, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 20:37:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195685.png)](https://mergebot.odoo.com/odoo/odoo/pull/195685)

fw-bot (Issue Creator) on (2025-01-29 20:37:47 UTC): @cro-odoo @BastienFafchamps this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195640

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cro-odoo on (2025-01-30 07:43:15 UTC): @robodoo r+

"
2819244442,pull_request,open,,[IMP] point_of_sale: add raise to notify user about errors,"Description of the issue/feature this PR addresses:

Prior to this change, if there was an error related to the order not being fully processed when paying the order and updating the data in the back end, the user was not aware of this error and this caused inconsistencies in orders appearing as paid in the PoS but in the back end appeared in Draft status

Current behavior before PR:

No error is displayed when entering the exception where the log error Could not fully process the POS Order is logged

Desired behavior after PR is merged:

A notification should be displayed to warn the user about the error


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",emtz10,2025-01-29 20:37:23+00:00,[],2025-02-03 13:27:38+00:00,,https://github.com/odoo/odoo/pull/195684,"[('Point of Sale', '')]","[{'comment_id': 2622791830, 'issue_id': 2819244442, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195684.png)](https://mergebot.odoo.com/odoo/odoo/pull/195684)', 'created_at': datetime.datetime(2025, 1, 29, 20, 37, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 20:37:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195684.png)](https://mergebot.odoo.com/odoo/odoo/pull/195684)

"
2819215039,pull_request,closed,,[FW][FIX] mail: display user avatar in push notifications instead of odooBot,"**Current behavior before PR:**

Push notifications displayed the Odoo Bot icon regardless of the actual message author.

**Desired behavior after PR is merged:**

The push notifications now correctly display the avatar of the message author.

Task-[4510479](https://www.odoo.com/odoo/project/1519/tasks/4510479)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195219",fw-bot,2025-01-29 20:26:58+00:00,[],2025-01-30 14:48:58+00:00,2025-01-30 14:41:41+00:00,https://github.com/odoo/odoo/pull/195683,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622771243, 'issue_id': 2819215039, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195683.png)](https://mergebot.odoo.com/odoo/odoo/pull/195683)', 'created_at': datetime.datetime(2025, 1, 29, 20, 26, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622771260, 'issue_id': 2819215039, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 20, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622918890, 'issue_id': 2819215039, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn the next pull request (odoo/odoo#195688) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 21, 41, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624464835, 'issue_id': 2819215039, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 5, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 20:26:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195683.png)](https://mergebot.odoo.com/odoo/odoo/pull/195683)

fw-bot (Issue Creator) on (2025-01-29 20:27:00 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 21:41:31 UTC): @ramh-odoo @alexkuhn the next pull request (odoo/odoo#195688) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-30 13:05:20 UTC): @robodoo r+

"
2819214280,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when loading product suppliers,"Previously, opening the product info popup would fail if a product had multiple sellers with the same name but different prices and delays.

opw-4472861

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195617",fw-bot,2025-01-29 20:26:40+00:00,[],2025-01-31 17:20:05+00:00,2025-01-31 17:20:05+00:00,https://github.com/odoo/odoo/pull/195682,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622770655, 'issue_id': 2819214280, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195682.png)](https://mergebot.odoo.com/odoo/odoo/pull/195682)', 'created_at': datetime.datetime(2025, 1, 29, 20, 26, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622770675, 'issue_id': 2819214280, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo cherrypicking of pull request odoo/odoo#195617 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/product.py\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 20, 26, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627604312, 'issue_id': 2819214280, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 20:26:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195682.png)](https://mergebot.odoo.com/odoo/odoo/pull/195682)

fw-bot (Issue Creator) on (2025-01-29 20:26:41 UTC): @pedrambiria @vlst-odoo cherrypicking of pull request odoo/odoo#195617 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/product.py
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-31 15:22:00 UTC): robodoo r+

"
2819030897,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed problems in exported XML precision,"There were problems reported on some invoices caused by rounding errors.
This PR solves these problems, and adds more test cases to the precision unit tests.

Moreover, handling special tax amount across different tax groups was not done correctly before this commit.

Finally, this commit removes the method _aggregate_totals, and relies on accurate subtotals to always calculate the totals.
Along with other refactoring and comments added to the code, this commit makes the code more clear and sound.

task-4464702
task-4509607

X-original-commit: https://github.com/odoo-dev/odoo/commit/88f0254f8db263c75d972520226fa17fdef1c96b


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194813",fw-bot,2025-01-29 19:10:03+00:00,[],2025-02-03 14:44:29+00:00,2025-02-03 14:44:29+00:00,https://github.com/odoo/odoo/pull/195681,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622606358, 'issue_id': 2819030897, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195681.png)](https://mergebot.odoo.com/odoo/odoo/pull/195681)', 'created_at': datetime.datetime(2025, 1, 29, 19, 10, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622606448, 'issue_id': 2819030897, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo cherrypicking of pull request odoo/odoo#194813 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_jo_edi/models/account_edi_xml_ubl_21_jo.py\nCONFLICT (content): Merge conflict in addons/l10n_jo_edi/models/account_edi_xml_ubl_21_jo.py\nAuto-merging addons/l10n_jo_edi/tests/jo_edi_common.py\nCONFLICT (content): Merge conflict in addons/l10n_jo_edi/tests/jo_edi_common.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 19, 10, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627827190, 'issue_id': 2819030897, 'author': 'jco-odoo', 'body': 'For the moment the fixed taxes in Jordan are supposed to come before the percentage ones and they change the percentage.', 'created_at': datetime.datetime(2025, 1, 31, 17, 7, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627827378, 'issue_id': 2819030897, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 17, 7, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628681158, 'issue_id': 2819030897, 'author': 'robodoo', 'body': '@hsal-odoo @jco-odoo staging failed: ci/runbot on ec5a18f49a3a019d61f7756a2b25fd9318c088ea (view more at https://runbot.odoo.com/runbot/build/74321176)', 'created_at': datetime.datetime(2025, 2, 1, 1, 55, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628818010, 'issue_id': 2819030897, 'author': 'hsal-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 1, 6, 59, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628830858, 'issue_id': 2819030897, 'author': 'robodoo', 'body': '@hsal-odoo @jco-odoo staging failed: ci/runbot on 303a346a607bd2bf40b549306d90af0efa427b87 (view more at https://runbot.odoo.com/runbot/build/74323543)', 'created_at': datetime.datetime(2025, 2, 1, 7, 35, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628852901, 'issue_id': 2819030897, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 8, 28, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628869054, 'issue_id': 2819030897, 'author': 'robodoo', 'body': ""@hsal-odoo @jco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 1, 9, 12, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201684, 'issue_id': 2819030897, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo this forward port of odoo/odoo#194813 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730077, 'issue_id': 2819030897, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo this forward port of odoo/odoo#194813 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630611135, 'issue_id': 2819030897, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 56, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 19:10:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195681.png)](https://mergebot.odoo.com/odoo/odoo/pull/195681)

fw-bot (Issue Creator) on (2025-01-29 19:10:07 UTC): @hsal-odoo @jco-odoo cherrypicking of pull request odoo/odoo#194813 failed.

stdout:
```
Auto-merging addons/l10n_jo_edi/models/account_edi_xml_ubl_21_jo.py
CONFLICT (content): Merge conflict in addons/l10n_jo_edi/models/account_edi_xml_ubl_21_jo.py
Auto-merging addons/l10n_jo_edi/tests/jo_edi_common.py
CONFLICT (content): Merge conflict in addons/l10n_jo_edi/tests/jo_edi_common.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jco-odoo on (2025-01-31 17:07:11 UTC): For the moment the fixed taxes in Jordan are supposed to come before the percentage ones and they change the percentage.

jco-odoo on (2025-01-31 17:07:17 UTC): @robodoo r+

robodoo on (2025-02-01 01:55:36 UTC): @hsal-odoo @jco-odoo staging failed: ci/runbot on ec5a18f49a3a019d61f7756a2b25fd9318c088ea (view more at https://runbot.odoo.com/runbot/build/74321176)

hsal-odoo on (2025-02-01 06:59:58 UTC): @robodoo retry

robodoo on (2025-02-01 07:35:10 UTC): @hsal-odoo @jco-odoo staging failed: ci/runbot on 303a346a607bd2bf40b549306d90af0efa427b87 (view more at https://runbot.odoo.com/runbot/build/74323543)

hsal-odoo on (2025-02-01 08:28:25 UTC): @robodoo r+

robodoo on (2025-02-01 09:12:31 UTC): @hsal-odoo @jco-odoo 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-02-02 02:01:21 UTC): @hsal-odoo @jco-odoo this forward port of odoo/odoo#194813 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:15 UTC): @hsal-odoo @jco-odoo this forward port of odoo/odoo#194813 is awaiting action (not merged or closed).

hsal-odoo on (2025-02-03 10:56:56 UTC): @robodoo r+

"
2819026311,pull_request,closed,,[FW][FIX] survey: fix final leaderboard screen,"[FIX] survey: fix final leaderboard layout

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)

The stats only occupies a small portion of the width and the button are very close to the title.

We solve the problem by enlarging the stats like the previous result screens to get a layout similar as in v16.0.

[FIX] documents: fix close buttons

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)
- Click on the ""Close"" button

Nothing happens while it should close the session and get back to the survey form.

Actually, the code was closing the session but failed to get back to the survey as it was using ""window.history.back()"" and the button ""create session"" launches the session in a new tab that has no history as all the survey happens on the same URL. We solve the problem by reloading the page instead. As the session is closed, the page then displays ""Thank you"".

We change slightly the tour as it expects that at the end, the close button leads to the survey back-end form (as it checks the presence of the button ""Create Session"" which is the action ""action_start_session""). But as the session is started in a new tab, we have decided that it is better to display the final ""Thank you"" screen rather than returning to the back-end survey form as this is meant to be displayed in public.

[FIX] documents: fix infinite line when max score is 0

How to reproduce:
- Create a live survey
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the wrong answer to the question

At the end of the survey, the score bar size is very big (multiple time of the screen width).

We solve the problem by avoiding dividing by 0.

Task-4381603

Forward-Port-Of: odoo/odoo#190442",fw-bot,2025-01-29 19:08:10+00:00,[],2025-01-31 12:04:18+00:00,2025-01-31 12:04:18+00:00,https://github.com/odoo/odoo/pull/195680,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622601984, 'issue_id': 2819026311, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195680.png)](https://mergebot.odoo.com/odoo/odoo/pull/195680)', 'created_at': datetime.datetime(2025, 1, 29, 19, 8, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622602020, 'issue_id': 2819026311, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 19, 8, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622656448, 'issue_id': 2819026311, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 19, 31, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623803175, 'issue_id': 2819026311, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo the next pull request (odoo/odoo#195706) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 8, 10, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626826816, 'issue_id': 2819026311, 'author': 'flch-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 8, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 19:08:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195680.png)](https://mergebot.odoo.com/odoo/odoo/pull/195680)

fw-bot (Issue Creator) on (2025-01-29 19:08:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 19:31:13 UTC): @pyduf @flch-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 08:10:57 UTC): @pyduf @flch-odoo the next pull request (odoo/odoo#195706) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

flch-odoo on (2025-01-31 10:08:05 UTC): @robodoo r+

"
2818936953,pull_request,closed,,[FW][FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.

Forward-Port-Of: odoo/odoo#195637",fw-bot,2025-01-29 18:29:46+00:00,[],2025-01-30 14:06:13+00:00,2025-01-30 14:06:13+00:00,https://github.com/odoo/odoo/pull/195679,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622518221, 'issue_id': 2818936953, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195679.png)](https://mergebot.odoo.com/odoo/odoo/pull/195679)', 'created_at': datetime.datetime(2025, 1, 29, 18, 29, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622518257, 'issue_id': 2818936953, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker cherrypicking of pull request odoo/odoo#195637 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale_loyalty/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 18, 29, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623770618, 'issue_id': 2818936953, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 7, 50, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 18:29:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195679.png)](https://mergebot.odoo.com/odoo/odoo/pull/195679)

fw-bot (Issue Creator) on (2025-01-29 18:29:48 UTC): @lvsz @Demesmaeker cherrypicking of pull request odoo/odoo#195637 failed.

stdout:
```
Auto-merging addons/website_sale_loyalty/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale_loyalty/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-30 07:50:06 UTC): robodoo r+

"
2818930432,pull_request,closed,,[FW][IMP] google_recaptcha: hide reCAPTCHA toggle once enabled,"The reCAPTCHA feature is currently controlled by the ""Module
Installation"" setting: `module_google_recaptcha`, which, due to
dependencies, caused the removal of many other modules when disabled.

The goal of this commit is to simply hide this option in stable to
prevent this misleading behaviour.

A user can still disable the reCAPTCHA checks by removing API keys
(Which was already mentioned on the setting block)

The feature behaviour will be updated in master to allow disabling
reCAPTCHA without uninstalling the modules.

task-3380702

Forward-Port-Of: odoo/odoo#194907",fw-bot,2025-01-29 18:26:13+00:00,[],2025-01-30 19:01:16+00:00,2025-01-30 19:01:16+00:00,https://github.com/odoo/odoo/pull/195678,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622511417, 'issue_id': 2818930432, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195678.png)](https://mergebot.odoo.com/odoo/odoo/pull/195678)', 'created_at': datetime.datetime(2025, 1, 29, 18, 26, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622511444, 'issue_id': 2818930432, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 18, 26, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622564615, 'issue_id': 2818930432, 'author': 'fw-bot', 'body': '@xO-Tx @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 18, 51, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 18:26:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195678.png)](https://mergebot.odoo.com/odoo/odoo/pull/195678)

fw-bot (Issue Creator) on (2025-01-29 18:26:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 18:51:21 UTC): @xO-Tx @qsm-odoo ci/runbot failed on this forward-port PR

"
2818924277,pull_request,closed,,[FW][FIX] account: Traceback when downloading Original bills,"Users currently cannot retrieve original bills attached to
newly created draft moves, because an error is blocking the action

Steps to reproduce:
- Go to Accounting > Vendor > Bills
- Upload a pdf
- Back in list view, select the created bill, Download > Original Bills

Issue: Traceback will raise
`AttributeError: 'bool' object has no attribute 'decode'`

This occurs because, after https://github.com/odoo/odoo/commit/ce73ed61bcf293953bc0c821ceaef3ddb9a47e3c,
draft moves are not named '/' anymore, the name field will be just `False`.
However reportlab expects a string and it crashes

opw-4502791

Forward-Port-Of: odoo/odoo#195483",fw-bot,2025-01-29 18:22:49+00:00,[],2025-01-30 12:53:54+00:00,2025-01-30 12:53:54+00:00,https://github.com/odoo/odoo/pull/195677,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622504638, 'issue_id': 2818924277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195677.png)](https://mergebot.odoo.com/odoo/odoo/pull/195677)', 'created_at': datetime.datetime(2025, 1, 29, 18, 22, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622504662, 'issue_id': 2818924277, 'author': 'fw-bot', 'body': '@agr-odoo @FlorianGilbert cherrypicking of pull request odoo/odoo#195483 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/ir_actions_report.py\nCONFLICT (content): Merge conflict in addons/account/models/ir_actions_report.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 18, 22, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623930827, 'issue_id': 2818924277, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 15, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 18:22:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195677.png)](https://mergebot.odoo.com/odoo/odoo/pull/195677)

fw-bot (Issue Creator) on (2025-01-29 18:22:51 UTC): @agr-odoo @FlorianGilbert cherrypicking of pull request odoo/odoo#195483 failed.

stdout:
```
Auto-merging addons/account/models/ir_actions_report.py
CONFLICT (content): Merge conflict in addons/account/models/ir_actions_report.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-30 09:15:55 UTC): @robodoo r+

"
2818923709,pull_request,closed,,[FW][IMP] account: account analytic plans,"This commit allows the user to put multiple accounts prefix on a single analytic plan line.

So, if the user want to add the accounts 51000, 61000 and 71000, he can now add this: 51, 61, 71 in the same line.

task-4294662

Forward-Port-Of: odoo/odoo#194355",fw-bot,2025-01-29 18:22:31+00:00,[],2025-01-30 10:01:01+00:00,2025-01-30 10:01:01+00:00,https://github.com/odoo/odoo/pull/195676,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622504065, 'issue_id': 2818923709, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195676.png)](https://mergebot.odoo.com/odoo/odoo/pull/195676)', 'created_at': datetime.datetime(2025, 1, 29, 18, 22, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622504084, 'issue_id': 2818923709, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 18, 22, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622567621, 'issue_id': 2818923709, 'author': 'fw-bot', 'body': '@igbe-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 18, 52, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 18:22:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195676.png)](https://mergebot.odoo.com/odoo/odoo/pull/195676)

fw-bot (Issue Creator) on (2025-01-29 18:22:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 18:52:33 UTC): @igbe-odoo @william-andre ci/runbot failed on this forward-port PR

"
2818923070,pull_request,closed,,"[FW][IMP] core, web: improve usability of hierarchy operators clientwise","First commit introduces the allow_hierachy_operators description on relational fields while second commit allows to use the hierarchical operators (child_of/parent_of) on these fields inside the domain selector while also allowing multiselection with these operators.

task-4492974

Forward-Port-Of: odoo/odoo#194909",fw-bot,2025-01-29 18:22:12+00:00,[],2025-02-05 01:09:22+00:00,2025-02-05 01:09:22+00:00,https://github.com/odoo/odoo/pull/195675,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622503717, 'issue_id': 2818923070, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195675.png)](https://mergebot.odoo.com/odoo/odoo/pull/195675)', 'created_at': datetime.datetime(2025, 1, 29, 18, 22, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622503743, 'issue_id': 2818923070, 'author': 'fw-bot', 'body': '@ryv-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#194909 failed.\n\n* 1c3ca8e068bb419ebef7cd45236511acc3f5103a <- on this commit\n* c6fbb099faf3ea10bf10848ee2a21a16c990ba3e\n\nstdout:\n```\nCONFLICT (modify/delete): odoo/fields.py deleted in 726057229adf8084f219fcf410e319941682953f and modified in 1c3ca8e068bb419ebef7cd45236511acc3f5103a.  Version 1c3ca8e068bb419ebef7cd45236511acc3f5103a of odoo/fields.py left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 18, 22, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201608, 'issue_id': 2818923070, 'author': 'fw-bot', 'body': '@ryv-odoo @polymorphe57 this forward port of odoo/odoo#194909 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729925, 'issue_id': 2818923070, 'author': 'fw-bot', 'body': '@ryv-odoo @polymorphe57 this forward port of odoo/odoo#194909 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634092918, 'issue_id': 2818923070, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 14, 14, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 18:22:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195675.png)](https://mergebot.odoo.com/odoo/odoo/pull/195675)

fw-bot (Issue Creator) on (2025-01-29 18:22:21 UTC): @ryv-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#194909 failed.

* 1c3ca8e068bb419ebef7cd45236511acc3f5103a <- on this commit
* c6fbb099faf3ea10bf10848ee2a21a16c990ba3e

stdout:
```
CONFLICT (modify/delete): odoo/fields.py deleted in 726057229adf8084f219fcf410e319941682953f and modified in 1c3ca8e068bb419ebef7cd45236511acc3f5103a.  Version 1c3ca8e068bb419ebef7cd45236511acc3f5103a of odoo/fields.py left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:01:15 UTC): @ryv-odoo @polymorphe57 this forward port of odoo/odoo#194909 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:06 UTC): @ryv-odoo @polymorphe57 this forward port of odoo/odoo#194909 is awaiting action (not merged or closed).

juliusc2066 on (2025-02-04 14:14:03 UTC): @robodoo r+

"
2818888695,pull_request,closed,,[FW][FIX] pos_loyalty: show correct coupon expiration date in receipt,"### Steps to reproduce:
- Install **pos_loyalty** module
- Go to **Point of Sale** app > **Products** > **Discount & Loyalty**
- Create a **New** program with: 
    - **Program Type**: Next Order Coupons 
    - **Validity**: Today's date for example 
    - Conditional rule with a **Minimum Purchase** of 0.00
- Start a new POS session. Add a product and click **Payment**.
- **Validate** the order.
- In the receipt shown, notice how the text show **_'Valid until: no expiration'_** although a Validity date is defined!

### Investigation:
- In `confirm_coupon_programs`, `coupon_create_vals` lacks `expiration_date` https://github.com/odoo/odoo/blob/03856863a644fbc588edb6e63168a6c4e15d5d92/addons/pos_loyalty/models/pos_order.py#L72-L78
- To add the `expiration_date`, `date_to` has to be in `coupon_data` but it's not included.
- `coupon_data` comes from https://github.com/odoo/odoo/blob/03856863a644fbc588edb6e63168a6c4e15d5d92/addons/pos_loyalty/static/src/js/PaymentScreen.js#L78

opw-3838427

Forward-Port-Of: odoo/odoo#183044
Forward-Port-Of: odoo/odoo#160633",fw-bot,2025-01-29 18:03:19+00:00,[],2025-01-30 15:32:22+00:00,2025-01-30 15:32:07+00:00,https://github.com/odoo/odoo/pull/195674,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2622466426, 'issue_id': 2818888695, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195674.png)](https://mergebot.odoo.com/odoo/odoo/pull/195674)', 'created_at': datetime.datetime(2025, 1, 29, 18, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622466444, 'issue_id': 2818888695, 'author': 'fw-bot', 'body': '@AH-Yussef @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195662\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 18, 3, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624112707, 'issue_id': 2818888695, 'author': 'AH-Yussef', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 10, 35, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 18:03:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195674.png)](https://mergebot.odoo.com/odoo/odoo/pull/195674)

fw-bot (Issue Creator) on (2025-01-29 18:03:21 UTC): @AH-Yussef @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195662

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

AH-Yussef on (2025-01-30 10:35:23 UTC): @robodoo r+

"
2818875159,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed problems in exported XML precision,"There were problems reported on some invoices caused by rounding errors.
This PR solves these problems, and adds more test cases to the precision unit tests.

task-4464702
task-4509607




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194813",fw-bot,2025-01-29 17:55:53+00:00,[],2025-01-31 21:53:28+00:00,2025-01-31 21:53:28+00:00,https://github.com/odoo/odoo/pull/195673,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622451233, 'issue_id': 2818875159, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195673.png)](https://mergebot.odoo.com/odoo/odoo/pull/195673)', 'created_at': datetime.datetime(2025, 1, 29, 17, 55, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622451257, 'issue_id': 2818875159, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 55, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622606393, 'issue_id': 2818875159, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo the next pull request (odoo/odoo#195681) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 19, 10, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627586954, 'issue_id': 2818875159, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 14, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:55:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195673.png)](https://mergebot.odoo.com/odoo/odoo/pull/195673)

fw-bot (Issue Creator) on (2025-01-29 17:55:55 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 19:10:05 UTC): @hsal-odoo @jco-odoo the next pull request (odoo/odoo#195681) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hsal-odoo on (2025-01-31 15:14:18 UTC): @robodoo r+

"
2818868387,pull_request,closed,,[FW][FIX] pos_razorpay: traceback when terminal payment done on floor screen,"Steps to Reproduce:
=========
- Install the modules: pos_razorpay, l10n_in, and pos_restaurant.
- Create a payment method for the Razorpay terminal.
- Open a restaurant register linked to an Indian company with the added Razorpay terminal payment method.
- Create an order, add a Razorpay payment line, and navigate to the floor screen.

Issue:
==========
- A traceback occurs when completing a payment.

Cause:
=========
- Polling for the Razorpay terminal continues even after leaving the payment screen and navigating to the floor screen.

Fix:
=========
- Stop the polling process when the user leaves the payment screen.
- Resume polling only when the user returns to the payment screen.

task-4414016

Forward-Port-Of: odoo/odoo#192072",fw-bot,2025-01-29 17:52:09+00:00,[],2025-01-30 06:37:08+00:00,2025-01-30 06:37:07+00:00,https://github.com/odoo/odoo/pull/195672,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622443860, 'issue_id': 2818868387, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195672.png)](https://mergebot.odoo.com/odoo/odoo/pull/195672)', 'created_at': datetime.datetime(2025, 1, 29, 17, 52, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622443881, 'issue_id': 2818868387, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 52, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622509427, 'issue_id': 2818868387, 'author': 'fw-bot', 'body': '@paan-odoo @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 18, 25, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623534304, 'issue_id': 2818868387, 'author': 'fw-bot', 'body': '@paan-odoo @caburj the next pull request (odoo/odoo#195697) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 5, 12, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623550467, 'issue_id': 2818868387, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 5, 27, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:52:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195672.png)](https://mergebot.odoo.com/odoo/odoo/pull/195672)

fw-bot (Issue Creator) on (2025-01-29 17:52:11 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 18:25:17 UTC): @paan-odoo @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 05:12:07 UTC): @paan-odoo @caburj the next pull request (odoo/odoo#195697) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paan-odoo on (2025-01-30 05:27:17 UTC): @robodoo r+

"
2818862223,pull_request,closed,,[FW][FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307

Forward-Port-Of: odoo/odoo#195306",fw-bot,2025-01-29 17:49:02+00:00,[],2025-01-30 14:31:10+00:00,2025-01-30 14:31:10+00:00,https://github.com/odoo/odoo/pull/195671,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622436445, 'issue_id': 2818862223, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195671.png)](https://mergebot.odoo.com/odoo/odoo/pull/195671)', 'created_at': datetime.datetime(2025, 1, 29, 17, 49, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622436471, 'issue_id': 2818862223, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 49, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622512239, 'issue_id': 2818862223, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 18, 26, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:49:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195671.png)](https://mergebot.odoo.com/odoo/odoo/pull/195671)

fw-bot (Issue Creator) on (2025-01-29 17:49:04 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 18:26:38 UTC): @Ysoroko @qle-odoo ci/runbot failed on this forward-port PR

"
2818851276,pull_request,closed,,[FW][FIX] web: add a fallback if there is no previous controller,"- open a record with an URL: `/{model}/{id}`;
- delete or archive the record;

Before this commit, an empty form view was displayed, with an incorrect URL: `/{model}/new`. This form view was inconsistent, and would throw an error in some applications (such as accounting). Even if no error was thrown, an error would be thrown if the user clicked on the 'back' button.

This is not the correct behaviour, when deleting or archiving a record, the correct behaviour is :
- if a pager exists, display the next record;
- if not, return to the previous controller (the previous action, usually the multi-record view);

The issue here is that we don't have a previous action or a multi-record view.

Now, in this particular case, we will fallback to the default application.

opw-4354129

Forward-Port-Of: odoo/odoo#195622
Forward-Port-Of: odoo/odoo#195393",fw-bot,2025-01-29 17:43:06+00:00,[],2025-01-30 14:07:54+00:00,2025-01-30 14:06:10+00:00,https://github.com/odoo/odoo/pull/195670,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622424659, 'issue_id': 2818851276, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195670.png)](https://mergebot.odoo.com/odoo/odoo/pull/195670)', 'created_at': datetime.datetime(2025, 1, 29, 17, 43, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622424681, 'issue_id': 2818851276, 'author': 'fw-bot', 'body': '@jpp-odoo @aab-odoo cherrypicking of pull request odoo/odoo#195393 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/webclient/actions/action_service.js\nCONFLICT (content): Merge conflict in addons/web/static/src/webclient/actions/action_service.js\nAuto-merging addons/web/static/src/webclient/webclient.js\nAuto-merging addons/web/static/tests/views/form/form_view.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 43, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623799519, 'issue_id': 2818851276, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 8, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623848865, 'issue_id': 2818851276, 'author': 'robodoo', 'body': ""@jpp-odoo @aab-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 30, 8, 36, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:43:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195670.png)](https://mergebot.odoo.com/odoo/odoo/pull/195670)

fw-bot (Issue Creator) on (2025-01-29 17:43:08 UTC): @jpp-odoo @aab-odoo cherrypicking of pull request odoo/odoo#195393 failed.

stdout:
```
Auto-merging addons/web/static/src/webclient/actions/action_service.js
CONFLICT (content): Merge conflict in addons/web/static/src/webclient/actions/action_service.js
Auto-merging addons/web/static/src/webclient/webclient.js
Auto-merging addons/web/static/tests/views/form/form_view.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jpp-odoo on (2025-01-30 08:08:42 UTC): @robodoo r+

robodoo on (2025-01-30 08:36:23 UTC): @jpp-odoo @aab-odoo 'ci/runbot' failed on this reviewed PR.

"
2818850719,pull_request,closed,,[FW][FIX] web: close form dialog with escape without bluring,"Have a form view opened in a dialog and edit the value of an input field (with onchange='1'), without bluring the input (i.e. such that the ""change"" event isn't fired yet). Press ""Escape"".

Before this commit, it crashed with error ""Component is destroyed"". The reason is that when the dialog closes itself, the ui service focusses the previously active element (an element that was behind the dialog), which in turn blurs the current active element (the input that we edited), which fires the ""change"" event. However, at that point, the form controller is already destroyed, hence the error.

In that flow, we don't want to perform the onchange as we're discarding the form. Actually, we don't want the field to listen to the ""change"" event anymore. We delay for a micro-tick the activation of the previously active element, to wait for owl to have called destroy on the whole component hierarchy, and thus for the ""change"" handler to be removed (in input_field_hook).

The issue could be reproduced in Studio:
 - click on Edit menu
 - open a menu to edit it
 - change its name but to not blur/click out
 - press Esc

This is a backport of odoo/odoo#195238, where we add a test (hoot). The faulty scenario could not be reproduced in the QUnit suite because we do not precisely enough mock events that occur when focusing/bluring elements.

opw-4490577

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195430
Forward-Port-Of: odoo/odoo#195242",fw-bot,2025-01-29 17:42:47+00:00,[],2025-01-30 09:45:17+00:00,2025-01-30 09:44:49+00:00,https://github.com/odoo/odoo/pull/195669,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622424015, 'issue_id': 2818850719, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195669.png)](https://mergebot.odoo.com/odoo/odoo/pull/195669)', 'created_at': datetime.datetime(2025, 1, 29, 17, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622424045, 'issue_id': 2818850719, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195242 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit ed9f9cf91b6b54409ad0db25b37426b477c1c6ae.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623995954, 'issue_id': 2818850719, 'author': 'aab-odoo', 'body': 'Already fixed by https://github.com/odoo/odoo/pull/195238', 'created_at': datetime.datetime(2025, 1, 30, 9, 45, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:42:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195669.png)](https://mergebot.odoo.com/odoo/odoo/pull/195669)

fw-bot (Issue Creator) on (2025-01-29 17:42:49 UTC): @aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195242 failed.

stdout:
```
You are currently cherry-picking commit ed9f9cf91b6b54409ad0db25b37426b477c1c6ae.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-30 09:45:15 UTC): Already fixed by https://github.com/odoo/odoo/pull/195238

"
2818827549,pull_request,closed,,[FIX] mail: show discuss time in 24 or 12 based on browser locale,"Exact time are shown in discuss since version 18.0. Format was always 24-hour, which is ok for some users but not for others.

This commit uses time format of luxon browser based on user locale, so that this is the expected format as the user is used to see in all browser apps.

Note that we don't choose DB date format, because discuss app are used by many other users and the custom format on whole DB might make some users happy but others not. In particular, the default en_US language time format in Odoo uses 24-hour when lots of english americans are used and prefer 12-hour format. Using the locale format of browser, which tend to rely on OS settings, makes (almost) everyone happy.

Also the extra AM/PM could lead to size issue on small squashed messages, this commit also fixes it.

opw-4482727

Before / After
![Screenshot 2025-01-31 at 14 16 57](https://github.com/user-attachments/assets/c065c958-51aa-4845-b84f-e09b118ecbe0) ![Screenshot 2025-01-31 at 14 17 26](https://github.com/user-attachments/assets/042f1b11-61f8-4922-b606-f0c08b6d1d43)

",alexkuhn,2025-01-29 17:30:45+00:00,[],2025-02-03 10:18:04+00:00,2025-02-03 10:18:04+00:00,https://github.com/odoo/odoo/pull/195668,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2622398276, 'issue_id': 2818827549, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195668.png)](https://mergebot.odoo.com/odoo/odoo/pull/195668)', 'created_at': datetime.datetime(2025, 1, 29, 17, 30, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627646373, 'issue_id': 2818827549, 'author': 'robodoo', 'body': ""@alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 15, 40, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628424135, 'issue_id': 2818827549, 'author': 'robodoo', 'body': '@alexkuhn @tsm-odoo staging failed: ci/runbot on 78544565cd439ed77c719e04d19f5133f84ea650 (view more at https://runbot.odoo.com/runbot/build/74317687)', 'created_at': datetime.datetime(2025, 1, 31, 21, 24, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629012283, 'issue_id': 2818827549, 'author': 'alexkuhn', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 1, 16, 15, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629028677, 'issue_id': 2818827549, 'author': 'robodoo', 'body': '@alexkuhn @tsm-odoo staging failed: ci/runbot on f1d9f3d7900803f8fd5130b123ac13caf79ffdbd (view more at https://runbot.odoo.com/runbot/build/74324529)', 'created_at': datetime.datetime(2025, 2, 1, 17, 2, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629040754, 'issue_id': 2818827549, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 17, 36, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629048909, 'issue_id': 2818827549, 'author': 'robodoo', 'body': ""@alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 1, 18, 0, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629190985, 'issue_id': 2818827549, 'author': 'robodoo', 'body': '@alexkuhn staging failed: ci/runbot on 98502eb11d52ec4e5d4e605169560d61a13d0898 (view more at https://runbot.odoo.com/runbot/build/74351379)', 'created_at': datetime.datetime(2025, 2, 2, 1, 21, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630130083, 'issue_id': 2818827549, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 2, 3, 7, 4, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:30:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195668.png)](https://mergebot.odoo.com/odoo/odoo/pull/195668)

robodoo on (2025-01-31 15:40:48 UTC): @alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-01-31 21:24:41 UTC): @alexkuhn @tsm-odoo staging failed: ci/runbot on 78544565cd439ed77c719e04d19f5133f84ea650 (view more at https://runbot.odoo.com/runbot/build/74317687)

alexkuhn (Issue Creator) on (2025-02-01 16:15:09 UTC): @robodoo retry

robodoo on (2025-02-01 17:02:50 UTC): @alexkuhn @tsm-odoo staging failed: ci/runbot on f1d9f3d7900803f8fd5130b123ac13caf79ffdbd (view more at https://runbot.odoo.com/runbot/build/74324529)

alexkuhn (Issue Creator) on (2025-02-01 17:36:28 UTC): @robodoo r+

robodoo on (2025-02-01 18:00:09 UTC): @alexkuhn 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-02 01:21:30 UTC): @alexkuhn staging failed: ci/runbot on 98502eb11d52ec4e5d4e605169560d61a13d0898 (view more at https://runbot.odoo.com/runbot/build/74351379)

d-fence on (2025-02-03 07:04:12 UTC): robodoo retry
(failing test deactivated)

"
2818817719,pull_request,closed,,[FW][FIX] web_editor: position buttons under cropper,"**Problem**:
The cropper buttons are positioned at the end of the page instead of directly under the image being cropped.

**Solution**:
Remove `position: fixed` from the buttons container, allowing it to be positioned just below the image being cropped/edited.

**Steps to Reproduce**:
1. Navigate to Email Marketing > Start from scratch.
2. Add ""Blocks"" > ""Body"" > ""Columns"".
3. Open the cropping tool on the first image.
4. Observe that the cropping buttons appear at the end of the page, requiring scrolling to access them.

opw-4461565

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194730
Forward-Port-Of: odoo/odoo#193016",fw-bot,2025-01-29 17:26:10+00:00,[],2025-01-30 19:01:07+00:00,2025-01-30 19:01:07+00:00,https://github.com/odoo/odoo/pull/195667,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622358062, 'issue_id': 2818817719, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195667.png)](https://mergebot.odoo.com/odoo/odoo/pull/195667)', 'created_at': datetime.datetime(2025, 1, 29, 17, 26, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622358163, 'issue_id': 2818817719, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 26, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622451777, 'issue_id': 2818817719, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 17, 56, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354339, 'issue_id': 2818817719, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#193016 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624427694, 'issue_id': 2818817719, 'author': 'walidsahli', 'body': '@robodoo R+', 'created_at': datetime.datetime(2025, 1, 30, 12, 49, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624427889, 'issue_id': 2818817719, 'author': 'robodoo', 'body': ""@walidsahli unknown command 'R'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`close`|closes this forward-port|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 30, 12, 49, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624428588, 'issue_id': 2818817719, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624428809, 'issue_id': 2818817719, 'author': 'robodoo', 'body': '@walidsahli you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 30, 12, 50, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:26:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195667.png)](https://mergebot.odoo.com/odoo/odoo/pull/195667)

fw-bot (Issue Creator) on (2025-01-29 17:26:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 17:56:11 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 02:02:01 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#193016 is awaiting action (not merged or closed).

walidsahli on (2025-01-30 12:49:47 UTC): @robodoo R+

robodoo on (2025-01-30 12:49:50 UTC): @walidsahli unknown command 'R'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`close`|closes this forward-port|

Note: this help text is dynamic and will change with the state of the PR.

walidsahli on (2025-01-30 12:50:00 UTC): @robodoo r+

robodoo on (2025-01-30 12:50:03 UTC): @walidsahli you may want to rebuild or fix this PR as it has failed CI.

"
2818814311,pull_request,closed,,[FW][FIX] website_payment: public user tokenize donation feedback,"After commit ddda5d4a2623d03699d5cb6860d5c984807b6e3d public users were allowed to tokenize their payments with the exception of donation the tokenize field was forced to be False.
However Stripe threw an error when the received intent was different than the one on the frontend.

Fix:
Hide option to tokenize for unlogged in users for donations.

opw-4389881



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195001",fw-bot,2025-01-29 17:24:26+00:00,[],2025-02-03 14:32:13+00:00,2025-02-03 14:32:12+00:00,https://github.com/odoo/odoo/pull/195666,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622342627, 'issue_id': 2818814311, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195666.png)](https://mergebot.odoo.com/odoo/odoo/pull/195666)', 'created_at': datetime.datetime(2025, 1, 29, 17, 24, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622342998, 'issue_id': 2818814311, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 24, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622474947, 'issue_id': 2818814311, 'author': 'fw-bot', 'body': '@livaios ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 18, 7, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201498, 'issue_id': 2818814311, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#195001 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729724, 'issue_id': 2818814311, 'author': 'fw-bot', 'body': '@livaios this forward port of odoo/odoo#195001 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:24:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195666.png)](https://mergebot.odoo.com/odoo/odoo/pull/195666)

fw-bot (Issue Creator) on (2025-01-29 17:24:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 18:07:36 UTC): @livaios ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 02:01:07 UTC): @livaios this forward port of odoo/odoo#195001 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:55 UTC): @livaios this forward port of odoo/odoo#195001 is awaiting action (not merged or closed).

"
2818809675,pull_request,closed,,[FW][IMP] google_recaptcha: hide reCAPTCHA toggle once enabled,"The reCAPTCHA feature is currently controlled by the ""Module
Installation"" setting: `module_google_recaptcha`, which, due to
dependencies, caused the removal of many other modules when disabled.

The goal of this commit is to simply hide this option in stable to
prevent this misleading behaviour.

A user can still disable the reCAPTCHA checks by removing API keys
(Which was already mentioned on the setting block)

The feature behaviour will be updated in master to allow disabling
reCAPTCHA without uninstalling the modules.

task-3380702

Forward-Port-Of: odoo/odoo#194907",fw-bot,2025-01-29 17:22:03+00:00,[],2025-01-30 15:43:10+00:00,2025-01-30 15:43:10+00:00,https://github.com/odoo/odoo/pull/195665,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622322385, 'issue_id': 2818809675, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195665.png)](https://mergebot.odoo.com/odoo/odoo/pull/195665)', 'created_at': datetime.datetime(2025, 1, 29, 17, 22, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622322495, 'issue_id': 2818809675, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 22, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:22:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195665.png)](https://mergebot.odoo.com/odoo/odoo/pull/195665)

fw-bot (Issue Creator) on (2025-01-29 17:22:05 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818794268,pull_request,closed,,[IMP] PEP420 native namespace,"Native namespaces are modules that do not have an `__init__.py` file.
Python will make a union of all folders in its PYTHONPATH (sys.path) and
combine the modules found in these locations. Currenly, `odoo` uses
legacy namespace packages and implements this in an imperative way.

Using native namespaces allows for easier and more standard packaging
without conflicting libraries. It also allows tools that do static
analysis to find the files.

We move the code in the `odoo/__init__.py` file to its own package
`odoo.init` that is imported when the framework is starting. That
package should be imported first inside the framework to make sure all
monkeypatches are applied.

https://peps.python.org/pep-0420/

Task [link](https://www.odoo.com/odoo/project/967/tasks/4035335)
task-4035335
odoo/documentation#11914



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-29 17:14:38+00:00,[],2025-02-07 12:24:33+00:00,2025-02-07 12:20:31+00:00,https://github.com/odoo/odoo/pull/195664,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2622267646, 'issue_id': 2818794268, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195664.png)](https://mergebot.odoo.com/odoo/odoo/pull/195664)', 'created_at': datetime.datetime(2025, 1, 29, 17, 14, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642356408, 'issue_id': 2818794268, 'author': 'rco-odoo', 'body': '@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 10, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642356509, 'issue_id': 2818794268, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 7, 9, 10, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:14:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195664.png)](https://mergebot.odoo.com/odoo/odoo/pull/195664)

rco-odoo on (2025-02-07 09:10:14 UTC): @robodoo rebase-ff r+

robodoo on (2025-02-07 09:10:17 UTC): Merge method set to rebase and fast-forward.

"
2818786193,pull_request,closed,,[FW][FIX] tools: support for easy local ro testing,"A regression introduced by #193728 removes the support for local read-only testing without a real replica.

Before this change, it was possible to test a readonly like behavior by providing a `--db_replica_host=` to the command line. The empty replica will still use a socket connection to the main server, but would work as if a replica host was given. The distinction between an empty string and False was used to make it work

Since b1f7be518e2075c546bcedc0f4ba6dd62dff3c8f the default is not False but an empty string, leading to the readonly behavior even without a replica.

This pr proposes to introduce a new dev mode flag to enable the replica mode, without False vs empty string check avoiding some confusion.

Forward-Port-Of: odoo/odoo#195280",fw-bot,2025-01-29 17:11:11+00:00,[],2025-02-04 09:04:35+00:00,2025-02-04 09:04:35+00:00,https://github.com/odoo/odoo/pull/195663,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2622244159, 'issue_id': 2818786193, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195663.png)](https://mergebot.odoo.com/odoo/odoo/pull/195663)', 'created_at': datetime.datetime(2025, 1, 29, 17, 11, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622244299, 'issue_id': 2818786193, 'author': 'fw-bot', 'body': '@Xavier-Do cherrypicking of pull request odoo/odoo#195280 failed.\n\nstdout:\n```\nAuto-merging odoo/cli/server.py\nAuto-merging odoo/orm/registry.py\nCONFLICT (content): Merge conflict in odoo/orm/registry.py\nAuto-merging odoo/tools/config.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 17, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201311, 'issue_id': 2818786193, 'author': 'fw-bot', 'body': '@Xavier-Do this forward port of odoo/odoo#195280 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729303, 'issue_id': 2818786193, 'author': 'fw-bot', 'body': '@Xavier-Do this forward port of odoo/odoo#195280 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631368126, 'issue_id': 2818786193, 'author': 'Xavier-Do', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 15, 42, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 17:11:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195663.png)](https://mergebot.odoo.com/odoo/odoo/pull/195663)

fw-bot (Issue Creator) on (2025-01-29 17:11:14 UTC): @Xavier-Do cherrypicking of pull request odoo/odoo#195280 failed.

stdout:
```
Auto-merging odoo/cli/server.py
Auto-merging odoo/orm/registry.py
CONFLICT (content): Merge conflict in odoo/orm/registry.py
Auto-merging odoo/tools/config.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:00:50 UTC): @Xavier-Do this forward port of odoo/odoo#195280 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:37 UTC): @Xavier-Do this forward port of odoo/odoo#195280 is awaiting action (not merged or closed).

Xavier-Do on (2025-02-03 15:42:41 UTC): @robodoo r+

"
2818751325,pull_request,closed,,[FW][FIX] pos_loyalty: show correct coupon expiration date in receipt,"### Steps to reproduce:
- Install **pos_loyalty** module
- Go to **Point of Sale** app > **Products** > **Discount & Loyalty**
- Create a **New** program with: 
    - **Program Type**: Next Order Coupons 
    - **Validity**: Today's date for example 
    - Conditional rule with a **Minimum Purchase** of 0.00
- Start a new POS session. Add a product and click **Payment**.
- **Validate** the order.
- In the receipt shown, notice how the text show **_'Valid until: no expiration'_** although a Validity date is defined!

### Investigation:
- In `confirm_coupon_programs`, `coupon_create_vals` lacks `expiration_date` https://github.com/odoo/odoo/blob/03856863a644fbc588edb6e63168a6c4e15d5d92/addons/pos_loyalty/models/pos_order.py#L72-L78
- To add the `expiration_date`, `date_to` has to be in `coupon_data` but it's not included.
- `coupon_data` comes from https://github.com/odoo/odoo/blob/03856863a644fbc588edb6e63168a6c4e15d5d92/addons/pos_loyalty/static/src/js/PaymentScreen.js#L78

opw-3838427

Forward-Port-Of: odoo/odoo#183044
Forward-Port-Of: odoo/odoo#160633",fw-bot,2025-01-29 16:56:07+00:00,[],2025-01-30 17:36:19+00:00,2025-01-30 17:36:19+00:00,https://github.com/odoo/odoo/pull/195662,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622195714, 'issue_id': 2818751325, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195662.png)](https://mergebot.odoo.com/odoo/odoo/pull/195662)', 'created_at': datetime.datetime(2025, 1, 29, 16, 56, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622195739, 'issue_id': 2818751325, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 56, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:56:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195662.png)](https://mergebot.odoo.com/odoo/odoo/pull/195662)

fw-bot (Issue Creator) on (2025-01-29 16:56:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818738257,pull_request,closed,,[FW][FIX] base: fix warning message for company check,"Description of the issue/feature this PR addresses:
In the company check warning message, self.model_name was used instead of self._name. 

Current behavior before PR:
model_name is not an attribute of the class BaseModel, which causes an AttributeError when the warning message is triggered.

Desired behavior after PR is merged:
Warning message correctly logged without having an error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193918",fw-bot,2025-01-29 16:50:13+00:00,[],2025-01-30 09:03:47+00:00,2025-01-30 09:03:47+00:00,https://github.com/odoo/odoo/pull/195661,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2622181323, 'issue_id': 2818738257, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195661.png)](https://mergebot.odoo.com/odoo/odoo/pull/195661)', 'created_at': datetime.datetime(2025, 1, 29, 16, 50, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622181353, 'issue_id': 2818738257, 'author': 'fw-bot', 'body': '@cro-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195641\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 50, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623762441, 'issue_id': 2818738257, 'author': 'cro-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 7, 44, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:50:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195661.png)](https://mergebot.odoo.com/odoo/odoo/pull/195661)

fw-bot (Issue Creator) on (2025-01-29 16:50:15 UTC): @cro-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195641

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cro-odoo on (2025-01-30 07:44:25 UTC): @robodoo r+

"
2818724781,pull_request,closed,,[FW][FIX] website: fix required fields conditionally hidden,"Steps to Reproduce:

- Go to the website editor.
- Add a form to the page.
- Select the form and change the default action from ""Send an email"" to ""Create an opportunity.""
- Select the ""Subject"" field.
- Set the visibility condition of the ""Subject"" field to ""visible only if the phone number is set.""
- Since this is a mandatory field, define a default value for the ""Subject"" field.
- Save the changes.
- Fill out the form but leave the phone number field empty so that the ""Subject"" field does not appear.
- Attempt to submit the form.
- Bug: the form is not sent and there is an error message.

The error occurs preventing the record from being created because all required fields are not present, we should use the default value as it has been provided.

This commit prevents adding the ""disabled"" attribute to inputs that are required for models.

opw-4447039

Forward-Port-Of: odoo/odoo#195331
Forward-Port-Of: odoo/odoo#194902",fw-bot,2025-01-29 16:44:07+00:00,[],2025-01-31 08:31:56+00:00,2025-01-31 08:31:56+00:00,https://github.com/odoo/odoo/pull/195660,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622166887, 'issue_id': 2818724781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195660.png)](https://mergebot.odoo.com/odoo/odoo/pull/195660)', 'created_at': datetime.datetime(2025, 1, 29, 16, 44, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622166914, 'issue_id': 2818724781, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#194902 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/snippets/s_website_form/000.js\nAuto-merging addons/website/static/tests/tours/website_form_editor.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/website_form_editor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 44, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135353, 'issue_id': 2818724781, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626395420, 'issue_id': 2818724781, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 6, 18, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626445764, 'issue_id': 2818724781, 'author': 'robodoo', 'body': '@bvr-odoo @SergeBayet staging failed: ci/runbot on dae3cce81f7bd1bbf894f82068ff695b0bf55da1 (view more at https://runbot.odoo.com/runbot/build/74261838)', 'created_at': datetime.datetime(2025, 1, 31, 7, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626472961, 'issue_id': 2818724781, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 1, 31, 7, 24, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:44:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195660.png)](https://mergebot.odoo.com/odoo/odoo/pull/195660)

fw-bot (Issue Creator) on (2025-01-29 16:44:09 UTC): @bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#194902 failed.

stdout:
```
Auto-merging addons/website/static/src/snippets/s_website_form/000.js
Auto-merging addons/website/static/tests/tours/website_form_editor.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/website_form_editor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:38 UTC): @bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).

SergeBayet on (2025-01-31 06:18:48 UTC): @robodoo r+

robodoo on (2025-01-31 07:01:25 UTC): @bvr-odoo @SergeBayet staging failed: ci/runbot on dae3cce81f7bd1bbf894f82068ff695b0bf55da1 (view more at https://runbot.odoo.com/runbot/build/74261838)

d-fence on (2025-01-31 07:24:10 UTC): robodoo retry
(failing test deactivated)

"
2818724117,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed problems in exported XML precision,"There were problems reported on some invoices caused by rounding errors.
This PR solves these problems, and adds more test cases to the precision unit tests.

task-4464702
task-4509607




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194813",fw-bot,2025-01-29 16:43:48+00:00,[],2025-01-31 17:20:01+00:00,2025-01-31 17:20:01+00:00,https://github.com/odoo/odoo/pull/195659,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622166045, 'issue_id': 2818724117, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195659.png)](https://mergebot.odoo.com/odoo/odoo/pull/195659)', 'created_at': datetime.datetime(2025, 1, 29, 16, 43, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622166072, 'issue_id': 2818724117, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 43, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627586513, 'issue_id': 2818724117, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 14, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:43:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195659.png)](https://mergebot.odoo.com/odoo/odoo/pull/195659)

fw-bot (Issue Creator) on (2025-01-29 16:43:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hsal-odoo on (2025-01-31 15:14:05 UTC): @robodoo r+

"
2818722273,pull_request,closed,,[FW][FIX] web: scroll in AutoComplete when option is not visible,"When the list of sources is longer than the `<AutoComplete>` height, navigating with the arrow keys did not scroll the menu. This commit makes sure the active option is always in focus and visible.

task-3758859

Forward-Port-Of: odoo/odoo#184250",fw-bot,2025-01-29 16:42:55+00:00,[],2025-01-29 21:35:37+00:00,2025-01-29 21:35:36+00:00,https://github.com/odoo/odoo/pull/195658,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2622163994, 'issue_id': 2818722273, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195658.png)](https://mergebot.odoo.com/odoo/odoo/pull/195658)', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622164025, 'issue_id': 2818722273, 'author': 'fw-bot', 'body': '@robinlej @mcm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195635\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622167312, 'issue_id': 2818722273, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 16, 44, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:42:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195658.png)](https://mergebot.odoo.com/odoo/odoo/pull/195658)

fw-bot (Issue Creator) on (2025-01-29 16:42:57 UTC): @robinlej @mcm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195635

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-29 16:44:20 UTC): @robodoo r+

"
2818721640,pull_request,closed,,"[FW][FIX] {,sale_purchase_}stock: update replenishment quantities","**Current behavior:**
Changing the `delay` field on a `product.supplierinfo` then
looking at the replenishment report will not have updated the
qty fields of the orderpoint which were affected by the increase
in delay (delivery lead time in the 'Purchase' tab on Product
form).

**Expected behavior:**
The `qty_forecast` and `qty_to_order` fields update to reflect
moves which should be captured according to JiT forecasting.

**Steps to reproduce:**
1. Create some productA with a vendor that has some lead time

2. Create a sale order for that product, edit the sale order
`commitment_date` field
(Sale Order -> Other Info -> Delivery Date)
to some future date such that the delay would not necessitate
any replenishment at the current date
(i.e., today + delay + 1 day)

3. Create an orderpoint for the productA, see that the
`qty_to_order` is 0 -> this makes sense

4. Increase the delay for the vendor on productA enough that a
purchase order would be required to fulfill the sale order on
time

5. Go back to the replenishment report -> qty to order still 0

**Cause of the issue:**
`qty_to_order` is stored and computed, in this sequence none of
its dependencies are modified and so it remains 0 after `delay`
on the supplier info record is changed.

**Fix:**
Add `product_id.seller_ids.delay` to the dependency list of
`_compute_qty` and `_compute_qty_to_order`.

opw-4333016

Forward-Port-Of: odoo/odoo#189427",fw-bot,2025-01-29 16:42:37+00:00,[],2025-02-06 19:37:25+00:00,2025-02-06 19:37:25+00:00,https://github.com/odoo/odoo/pull/195657,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622163231, 'issue_id': 2818721640, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195657.png)](https://mergebot.odoo.com/odoo/odoo/pull/195657)', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622163262, 'issue_id': 2818721640, 'author': 'fw-bot', 'body': '@ethanrobv @ticodoo cherrypicking of pull request odoo/odoo#189427 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase_stock/tests/__init__.py\nCONFLICT (content): Merge conflict in addons/sale_purchase_stock/tests/__init__.py\nAuto-merging addons/sale_purchase_stock/tests/test_lead_time.py\nAuto-merging addons/stock/models/stock_orderpoint.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202093, 'issue_id': 2818721640, 'author': 'fw-bot', 'body': '@ethanrobv @ticodoo this forward port of odoo/odoo#189427 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730899, 'issue_id': 2818721640, 'author': 'fw-bot', 'body': '@ethanrobv @ticodoo this forward port of odoo/odoo#189427 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639855933, 'issue_id': 2818721640, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 37, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:42:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195657.png)](https://mergebot.odoo.com/odoo/odoo/pull/195657)

fw-bot (Issue Creator) on (2025-01-29 16:42:39 UTC): @ethanrobv @ticodoo cherrypicking of pull request odoo/odoo#189427 failed.

stdout:
```
Auto-merging addons/sale_purchase_stock/tests/__init__.py
CONFLICT (content): Merge conflict in addons/sale_purchase_stock/tests/__init__.py
Auto-merging addons/sale_purchase_stock/tests/test_lead_time.py
Auto-merging addons/stock/models/stock_orderpoint.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:02:06 UTC): @ethanrobv @ticodoo this forward port of odoo/odoo#189427 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:08 UTC): @ethanrobv @ticodoo this forward port of odoo/odoo#189427 is awaiting action (not merged or closed).

ethanrobv on (2025-02-06 13:37:58 UTC): @robodoo r+

"
2818720962,pull_request,closed,,"[FW][FIX] product, website_sale: fall back on geoip country for pricelists","Versions
--------
- 17.0+

Steps
-----
1. Ensure `geoip` works (or patch the `_get_geoip_country_code` method);
2. create two pricelists for the website;
3. first should be restricted to EU countries & use EUR;
4. second one shouldn't be restricted to any country & use USD;
5. log in as a Portal user without address details from a EU IP;
6. open the shop.

Issue
-----
The prices are displayed in USD.

Cause
-----
The geoip country is taken into account for public users, but not for partners. Instead it relies on the partner's country_id, which could be empty.

Solution
--------
When computing the `property_product_pricelist`, add the geoip country to the context. Use this value in the fallback for partners without specific pricelist property set, and without a `country_id`.

opw-4398543

Forward-Port-Of: odoo/odoo#194885",fw-bot,2025-01-29 16:42:17+00:00,[],2025-01-30 09:42:51+00:00,2025-01-30 09:42:51+00:00,https://github.com/odoo/odoo/pull/195656,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622162385, 'issue_id': 2818720962, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195656.png)](https://mergebot.odoo.com/odoo/odoo/pull/195656)', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622162473, 'issue_id': 2818720962, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#194885 failed.\n\nstdout:\n```\nAuto-merging addons/product/models/product_pricelist.py\nAuto-merging addons/website_sale/models/website.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\nCONFLICT (content): Merge conflict in addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622202574, 'issue_id': 2818720962, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 16, 59, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622559112, 'issue_id': 2818720962, 'author': 'robodoo', 'body': '@lvsz staging failed: ci/runbot on 89d87cb365b5b555168aa86701e851d549fc7994 (view more at https://runbot.odoo.com/runbot/build/74163021)', 'created_at': datetime.datetime(2025, 1, 29, 18, 48, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623767926, 'issue_id': 2818720962, 'author': 'lvsz', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 30, 7, 48, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:42:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195656.png)](https://mergebot.odoo.com/odoo/odoo/pull/195656)

fw-bot (Issue Creator) on (2025-01-29 16:42:21 UTC): @lvsz cherrypicking of pull request odoo/odoo#194885 failed.

stdout:
```
Auto-merging addons/product/models/product_pricelist.py
Auto-merging addons/website_sale/models/website.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py
CONFLICT (content): Merge conflict in addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-29 16:59:18 UTC): robodoo r+

robodoo on (2025-01-29 18:48:54 UTC): @lvsz staging failed: ci/runbot on 89d87cb365b5b555168aa86701e851d549fc7994 (view more at https://runbot.odoo.com/runbot/build/74163021)

lvsz on (2025-01-30 07:48:09 UTC): robodoo retry

"
2818716557,pull_request,closed,,[FW][FIX] account: avoid too much repetition in line name,"### Steps to reproduce:
- Go to Accounting > Reports > Aged Receivable
- Unfold any customer shown, click on the three dots next to an invoice, and select ""View Journal Entry""
- On the Journal Entry, add the invoice sequence to Customer Reference and Payment Reference
- Go back to the report, you should see the invoice name is now shown 4 times

### Cause:
The bug appeared in this commit (https://github.com/odoo/odoo/commit/eb872c09897eb9edd5b6e5b9e8171fa6764be3dc). When computing the line `display_name`, if there is a name, a reference and `line_name`. The variable line_name already include the reference: 
`name = f'{line.move_id.ref} - {line.move_id.payment_reference}'` (https://github.com/odoo/odoo/commit/a6cbb7c2d3538d57dc8498f0dacf4566ea1492e7) 

So `line_name` is different from `move_name` and the result is: 
`line.move_id.name (line.move_id.ref) line.move_id.ref - line.move_id.payment_reference`

### Solution:
Check if the move_ref and the payment ref are the same, in that case only put one of the two as line_name. Then when computing the display_name, line_name will equal to move_name so line_name will not be included.

opw-4492298

Forward-Port-Of: odoo/odoo#195449",fw-bot,2025-01-29 16:40:11+00:00,[],2025-01-30 15:32:56+00:00,2025-01-30 15:32:56+00:00,https://github.com/odoo/odoo/pull/195655,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2622157280, 'issue_id': 2818716557, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195655.png)](https://mergebot.odoo.com/odoo/odoo/pull/195655)', 'created_at': datetime.datetime(2025, 1, 29, 16, 40, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622157388, 'issue_id': 2818716557, 'author': 'fw-bot', 'body': '@mathcoutant @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195636\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 40, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624415339, 'issue_id': 2818716557, 'author': 'mathcoutant', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 46, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:40:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195655.png)](https://mergebot.odoo.com/odoo/odoo/pull/195655)

fw-bot (Issue Creator) on (2025-01-29 16:40:15 UTC): @mathcoutant @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195636

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mathcoutant on (2025-01-30 12:46:39 UTC): @robodoo r+

"
2818715890,pull_request,closed,,[FW] 18.0 form dialog escape fix aab,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195238",fw-bot,2025-01-29 16:39:51+00:00,[],2025-01-30 14:05:03+00:00,2025-01-30 14:05:03+00:00,https://github.com/odoo/odoo/pull/195654,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2622156521, 'issue_id': 2818715890, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195654.png)](https://mergebot.odoo.com/odoo/odoo/pull/195654)', 'created_at': datetime.datetime(2025, 1, 29, 16, 39, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622156644, 'issue_id': 2818715890, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195639\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 39, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623993500, 'issue_id': 2818715890, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 44, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:39:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195654.png)](https://mergebot.odoo.com/odoo/odoo/pull/195654)

fw-bot (Issue Creator) on (2025-01-29 16:39:57 UTC): @aab-odoo @kebeclibre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195639

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-30 09:44:11 UTC): @robodoo r+

"
2818712356,pull_request,closed,,[FW][FIX] pos_razorpay: traceback when terminal payment done on floor screen,"Steps to Reproduce:
=========
- Install the modules: pos_razorpay, l10n_in, and pos_restaurant.
- Create a payment method for the Razorpay terminal.
- Open a restaurant register linked to an Indian company with the added Razorpay terminal payment method.
- Create an order, add a Razorpay payment line, and navigate to the floor screen.

Issue:
==========
- A traceback occurs when completing a payment.

Cause:
=========
- Polling for the Razorpay terminal continues even after leaving the payment screen and navigating to the floor screen.

Fix:
=========
- Stop the polling process when the user leaves the payment screen.
- Resume polling only when the user returns to the payment screen.

task-4414016

Forward-Port-Of: odoo/odoo#192072",fw-bot,2025-01-29 16:38:15+00:00,[],2025-01-30 06:43:38+00:00,2025-01-30 06:43:38+00:00,https://github.com/odoo/odoo/pull/195653,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622152174, 'issue_id': 2818712356, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195653.png)](https://mergebot.odoo.com/odoo/odoo/pull/195653)', 'created_at': datetime.datetime(2025, 1, 29, 16, 38, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622152190, 'issue_id': 2818712356, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 38, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:38:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195653.png)](https://mergebot.odoo.com/odoo/odoo/pull/195653)

fw-bot (Issue Creator) on (2025-01-29 16:38:17 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818703493,pull_request,closed,,[FW][FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307

Forward-Port-Of: odoo/odoo#195306",fw-bot,2025-01-29 16:34:32+00:00,[],2025-01-30 13:08:09+00:00,2025-01-30 13:08:09+00:00,https://github.com/odoo/odoo/pull/195652,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622141379, 'issue_id': 2818703493, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195652.png)](https://mergebot.odoo.com/odoo/odoo/pull/195652)', 'created_at': datetime.datetime(2025, 1, 29, 16, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622141409, 'issue_id': 2818703493, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 34, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:34:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195652.png)](https://mergebot.odoo.com/odoo/odoo/pull/195652)

fw-bot (Issue Creator) on (2025-01-29 16:34:34 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818699306,pull_request,closed,,[FW][FIX] pos_self_order: prevent missing payment step with slow internet,"Before this commit, with a slow internet connection, if a user added an item to the order and pressed the pay button very quickly (before completing the price loading), it would bypass the payment step and directly give the receipt.

opw-4305214

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#186960",fw-bot,2025-01-29 16:32:36+00:00,[],2025-01-31 13:03:06+00:00,2025-01-31 13:03:06+00:00,https://github.com/odoo/odoo/pull/195651,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622136677, 'issue_id': 2818699306, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195651.png)](https://mergebot.odoo.com/odoo/odoo/pull/195651)', 'created_at': datetime.datetime(2025, 1, 29, 16, 32, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622136704, 'issue_id': 2818699306, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 32, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622229590, 'issue_id': 2818699306, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 17, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625073692, 'issue_id': 2818699306, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo the next pull request (odoo/odoo#195868) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 5, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626547720, 'issue_id': 2818699306, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 4, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:32:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195651.png)](https://mergebot.odoo.com/odoo/odoo/pull/195651)

fw-bot (Issue Creator) on (2025-01-29 16:32:38 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 17:09:01 UTC): @pedrambiria @vlst-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 17:05:10 UTC): @pedrambiria @vlst-odoo the next pull request (odoo/odoo#195868) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-31 08:04:42 UTC): @robodoo r+

"
2818657794,pull_request,closed,,[FW][FIX] website_payment: public user tokenize donation feedback,"After commit ddda5d4a2623d03699d5cb6860d5c984807b6e3d public users were allowed to tokenize their payments with the exception of donation the tokenize field was forced to be False.
However Stripe threw an error when the received intent was different than the one on the frontend.

Fix:
Hide option to tokenize for unlogged in users for donations.

opw-4389881



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195001",fw-bot,2025-01-29 16:15:08+00:00,[],2025-02-03 14:44:33+00:00,2025-02-03 14:44:33+00:00,https://github.com/odoo/odoo/pull/195650,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622089603, 'issue_id': 2818657794, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195650.png)](https://mergebot.odoo.com/odoo/odoo/pull/195650)', 'created_at': datetime.datetime(2025, 1, 29, 16, 15, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622089724, 'issue_id': 2818657794, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 15, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:15:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195650.png)](https://mergebot.odoo.com/odoo/odoo/pull/195650)

fw-bot (Issue Creator) on (2025-01-29 16:15:13 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818638429,pull_request,open,,[FIX] sale_project : Use the product name in task title at any case,"### Steps to reproduce:
	- create a new quotation with configured quotation template
	- the descriptions are added by default (thanks to the template)
	- confirm the SO
	- the task is created, but it shows the description in the title (instead of the name of the product) and the description tab is empty

### Cause:
In 'Quotation Templates' the description of each line is being stored under the name of 'name' so when using this quotation template in an SO the SO line name will be the template line name not the product name + the description and so when creating the task we use the name of the SO line which in that case will be the description.

### Fix:
We are checking if we have a quotation template or not and if we don't we use the name of the SO line to get the name and the description of the task if we have a quotation template we use the product name for the name of the task and the name of the template line as a description.

opw-4482867",yoba-odoo,2025-01-29 16:07:09+00:00,[],2025-02-03 11:11:48+00:00,,https://github.com/odoo/odoo/pull/195649,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2622068671, 'issue_id': 2818638429, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195649.png)](https://mergebot.odoo.com/odoo/odoo/pull/195649)', 'created_at': datetime.datetime(2025, 1, 29, 16, 7, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:07:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195649.png)](https://mergebot.odoo.com/odoo/odoo/pull/195649)

"
2818637216,pull_request,closed,,[FW][IMP] google_recaptcha: hide reCAPTCHA toggle once enabled,"The reCAPTCHA feature is currently controlled by the ""Module
Installation"" setting: `module_google_recaptcha`, which, due to
dependencies, caused the removal of many other modules when disabled.

The goal of this commit is to simply hide this option in stable to
prevent this misleading behaviour.

A user can still disable the reCAPTCHA checks by removing API keys
(Which was already mentioned on the setting block)

The feature behaviour will be updated in master to allow disabling
reCAPTCHA without uninstalling the modules.

task-3380702

Forward-Port-Of: odoo/odoo#194907",fw-bot,2025-01-29 16:06:37+00:00,[],2025-01-30 15:48:43+00:00,2025-01-30 15:48:43+00:00,https://github.com/odoo/odoo/pull/195648,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622067161, 'issue_id': 2818637216, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195648.png)](https://mergebot.odoo.com/odoo/odoo/pull/195648)', 'created_at': datetime.datetime(2025, 1, 29, 16, 6, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622067203, 'issue_id': 2818637216, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 6, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:06:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195648.png)](https://mergebot.odoo.com/odoo/odoo/pull/195648)

fw-bot (Issue Creator) on (2025-01-29 16:06:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818627245,pull_request,closed,,[FW][FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)

Forward-Port-Of: odoo/odoo#195541",fw-bot,2025-01-29 16:02:16+00:00,[],2025-01-30 01:00:15+00:00,2025-01-30 01:00:15+00:00,https://github.com/odoo/odoo/pull/195647,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622056176, 'issue_id': 2818627245, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195647.png)](https://mergebot.odoo.com/odoo/odoo/pull/195647)', 'created_at': datetime.datetime(2025, 1, 29, 16, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622056292, 'issue_id': 2818627245, 'author': 'fw-bot', 'body': '@dylankiss @william-andre cherrypicking of pull request odoo/odoo#195541 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622978989, 'issue_id': 2818627245, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 22, 13, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:02:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195647.png)](https://mergebot.odoo.com/odoo/odoo/pull/195647)

fw-bot (Issue Creator) on (2025-01-29 16:02:20 UTC): @dylankiss @william-andre cherrypicking of pull request odoo/odoo#195541 failed.

stdout:
```
Auto-merging addons/account/models/account_move.py
CONFLICT (content): Merge conflict in addons/account/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-29 22:13:48 UTC): @robodoo r+

"
2818625906,pull_request,closed,,[FW][FIX] web: respect X2many field context when order is present,"Issue:
If we have a X2many that allows to have inactive records (with `context={'active_test': False}` on the field definition) and we specify a specific order for this X2many in this view, web_read won't respect the context of the field and will filter out inactive records.

This is because to apply a specific order in the web_read, we use search(), which will filter out inactive records from the `corecords` recordset.

Fix:
We fix this by forcing active_test=False before calling search and reapplying the previous context immediately after.

Closes #194311

Forward-Port-Of: odoo/odoo#195297
Forward-Port-Of: odoo/odoo#194379",fw-bot,2025-01-29 16:01:42+00:00,[],2025-01-31 12:29:47+00:00,2025-01-31 12:29:47+00:00,https://github.com/odoo/odoo/pull/195646,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2622054667, 'issue_id': 2818625906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195646.png)](https://mergebot.odoo.com/odoo/odoo/pull/195646)', 'created_at': datetime.datetime(2025, 1, 29, 16, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622054698, 'issue_id': 2818625906, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622176642, 'issue_id': 2818625906, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 16, 48, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136717, 'issue_id': 2818625906, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626546945, 'issue_id': 2818625906, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 8, 4, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626705981, 'issue_id': 2818625906, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 7, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:01:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195646.png)](https://mergebot.odoo.com/odoo/odoo/pull/195646)

fw-bot (Issue Creator) on (2025-01-29 16:01:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 16:48:15 UTC): @aab-odoo @ryv-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 02:01:50 UTC): @aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 08:04:30 UTC): @aab-odoo @ryv-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

ryv-odoo on (2025-01-31 09:07:22 UTC): @robodoo r+

"
2818623629,pull_request,closed,,[FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292",agr-odoo,2025-01-29 16:00:58+00:00,[],2025-01-30 15:53:23+00:00,2025-01-30 15:53:23+00:00,https://github.com/odoo/odoo/pull/195645,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2622052867, 'issue_id': 2818623629, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195645.png)](https://mergebot.odoo.com/odoo/odoo/pull/195645)', 'created_at': datetime.datetime(2025, 1, 29, 16, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624576738, 'issue_id': 2818623629, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 52, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 16:01:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195645.png)](https://mergebot.odoo.com/odoo/odoo/pull/195645)

agr-odoo (Issue Creator) on (2025-01-30 13:52:23 UTC): @robodoo r+

"
2818579993,pull_request,open,,[FIX] mail: fix mail_template_dynamic_placeholder_tour,"mail_template_dynamic_placeholder_tour is failing, as the
delay between two steps is too small and dom is rendering
right after clicking the dropdown. this pr fixes the issue.

[failing runbot builds](https://runbot.odoo.com/odoo/action-573/111986)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",angv-odoo,2025-01-29 15:43:34+00:00,[],2025-02-04 10:13:50+00:00,,https://github.com/odoo/odoo/pull/195644,"[('RD', 'research & development, internal work')]","[{'comment_id': 2622008198, 'issue_id': 2818579993, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195644.png)](https://mergebot.odoo.com/odoo/odoo/pull/195644)', 'created_at': datetime.datetime(2025, 1, 29, 15, 43, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:43:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195644.png)](https://mergebot.odoo.com/odoo/odoo/pull/195644)

"
2818578175,pull_request,closed,,[FW][FIX] mass_mailing: avoid automatic unsubscribe from mail,"Email clients have begun implementing security measures to protect
users from phishing by analyzing email links, and interacting with
them (see task-3972953).

This has the side effect of automatically unsubscribing email
recipients from mailing lists by clicking the link in the footer of
the emails.

This commit adds an intermediate step to the process, by requiring
users to click on a button before they are unsubscribed.

--

The current unsubscription destination page for emails makes it unclear
for the user whether they've been unsubscribed or not.

This is because the ""unsubscription confirmed"" box is placed below the
""manage subscription settings"" box on the confirmation page.

To avoid confusion, while ensuring current Studio customizations to
stable instances are not impacted, the unsubscription confirmation page
will clarify that the user is unsubscribed and offer the option
to manage unsubscriptions by reaching the destination page.Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

task-4364446

Forward-Port-Of: odoo/odoo#189561",fw-bot,2025-01-29 15:42:48+00:00,[],2025-01-30 19:33:36+00:00,2025-01-30 19:33:35+00:00,https://github.com/odoo/odoo/pull/195643,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2622006125, 'issue_id': 2818578175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195643.png)](https://mergebot.odoo.com/odoo/odoo/pull/195643)', 'created_at': datetime.datetime(2025, 1, 29, 15, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622006159, 'issue_id': 2818578175, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo cherrypicking of pull request odoo/odoo#189561 failed.\n\nstdout:\n```\nAuto-merging addons/mass_mailing/controllers/main.py\nCONFLICT (content): Merge conflict in addons/mass_mailing/controllers/main.py\nAuto-merging addons/mass_mailing/i18n/mass_mailing.pot\nAuto-merging addons/mass_mailing/models/mailing.py\nCONFLICT (content): Merge conflict in addons/mass_mailing/models/mailing.py\nAuto-merging addons/test_mail_full/tests/test_mass_mailing.py\nCONFLICT (content): Merge conflict in addons/test_mail_full/tests/test_mass_mailing.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 42, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623669938, 'issue_id': 2818578175, 'author': 'std-odoo', 'body': '@creaturemusings Hi :)\r\n\r\nCan you force push your commits here, so we continue the review ? :)', 'created_at': datetime.datetime(2025, 1, 30, 7, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623675825, 'issue_id': 2818578175, 'author': 'creaturemusings', 'body': '@std-odoo They\'ve already been force-pushed :)\r\n\r\n I\'m not sure why the forward bot didnt send its usual message ""this is now a normal PR"", I assume it may be due to the cherrypicking failure message?', 'created_at': datetime.datetime(2025, 1, 30, 7, 7, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623799527, 'issue_id': 2818578175, 'author': 'std-odoo', 'body': '@creaturemusings Can you squash the commits ?', 'created_at': datetime.datetime(2025, 1, 30, 8, 8, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623872061, 'issue_id': 2818578175, 'author': 'creaturemusings', 'body': ""@std-odoo commits squashed! I'm going to try and write a better commit message, as this PR from 17 onwards fixes two things."", 'created_at': datetime.datetime(2025, 1, 30, 8, 49, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623921222, 'issue_id': 2818578175, 'author': 'creaturemusings', 'body': '@std-odoo Pushed the changes!', 'created_at': datetime.datetime(2025, 1, 30, 9, 11, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624022111, 'issue_id': 2818578175, 'author': 'creaturemusings', 'body': '@std-odoo Tested again just to make sure, the flow still works. I pushed the changes!', 'created_at': datetime.datetime(2025, 1, 30, 9, 56, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624026372, 'issue_id': 2818578175, 'author': 'std-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 58, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624332894, 'issue_id': 2818578175, 'author': 'creaturemusings', 'body': '@robodoo check status', 'created_at': datetime.datetime(2025, 1, 30, 12, 9, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624332974, 'issue_id': 2818578175, 'author': 'robodoo', 'body': ""@creaturemusings unknown command 'status'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|\n|`close`|closes this forward-port|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 30, 12, 9, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:42:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195643.png)](https://mergebot.odoo.com/odoo/odoo/pull/195643)

fw-bot (Issue Creator) on (2025-01-29 15:42:50 UTC): @creaturemusings @std-odoo cherrypicking of pull request odoo/odoo#189561 failed.

stdout:
```
Auto-merging addons/mass_mailing/controllers/main.py
CONFLICT (content): Merge conflict in addons/mass_mailing/controllers/main.py
Auto-merging addons/mass_mailing/i18n/mass_mailing.pot
Auto-merging addons/mass_mailing/models/mailing.py
CONFLICT (content): Merge conflict in addons/mass_mailing/models/mailing.py
Auto-merging addons/test_mail_full/tests/test_mass_mailing.py
CONFLICT (content): Merge conflict in addons/test_mail_full/tests/test_mass_mailing.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

std-odoo on (2025-01-30 07:02:59 UTC): @creaturemusings Hi :)

Can you force push your commits here, so we continue the review ? :)

creaturemusings on (2025-01-30 07:07:18 UTC): @std-odoo They've already been force-pushed :)

 I'm not sure why the forward bot didnt send its usual message ""this is now a normal PR"", I assume it may be due to the cherrypicking failure message?

std-odoo on (2025-01-30 08:08:42 UTC): @creaturemusings Can you squash the commits ?

creaturemusings on (2025-01-30 08:49:04 UTC): @std-odoo commits squashed! I'm going to try and write a better commit message, as this PR from 17 onwards fixes two things.

creaturemusings on (2025-01-30 09:11:40 UTC): @std-odoo Pushed the changes!

creaturemusings on (2025-01-30 09:56:35 UTC): @std-odoo Tested again just to make sure, the flow still works. I pushed the changes!

std-odoo on (2025-01-30 09:58:30 UTC): @robodoo r+

creaturemusings on (2025-01-30 12:09:20 UTC): @robodoo check status

robodoo on (2025-01-30 12:09:22 UTC): @creaturemusings unknown command 'status'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|
|`close`|closes this forward-port|

Note: this help text is dynamic and will change with the state of the PR.

"
2818544848,pull_request,closed,,[FW][FIX] web_tour: restore tour_automatic unit tests,"In [1], we commented out the tour_automatic unit test file in the
manifest to merge this PR as soon as possible. In this commit,
we uncomment this file.
The solution is to not patch browser.console because it can cause big
problems in the Hoot unit test engine.

Forward-Port-Of: odoo/odoo#194359",fw-bot,2025-01-29 15:29:15+00:00,[],2025-01-30 19:01:23+00:00,2025-01-30 19:01:23+00:00,https://github.com/odoo/odoo/pull/195642,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621972718, 'issue_id': 2818544848, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195642.png)](https://mergebot.odoo.com/odoo/odoo/pull/195642)', 'created_at': datetime.datetime(2025, 1, 29, 15, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621972753, 'issue_id': 2818544848, 'author': 'fw-bot', 'body': '@pipu-odoo @jum-odoo cherrypicking of pull request odoo/odoo#194359 failed.\n\nstdout:\n```\nAuto-merging addons/web_tour/__manifest__.py\nCONFLICT (content): Merge conflict in addons/web_tour/__manifest__.py\nAuto-merging addons/web_tour/static/src/tour_service/tour_automatic.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624625323, 'issue_id': 2818544848, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 11, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:29:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195642.png)](https://mergebot.odoo.com/odoo/odoo/pull/195642)

fw-bot (Issue Creator) on (2025-01-29 15:29:17 UTC): @pipu-odoo @jum-odoo cherrypicking of pull request odoo/odoo#194359 failed.

stdout:
```
Auto-merging addons/web_tour/__manifest__.py
CONFLICT (content): Merge conflict in addons/web_tour/__manifest__.py
Auto-merging addons/web_tour/static/src/tour_service/tour_automatic.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-30 14:11:58 UTC): @robodoo r+

"
2818543737,pull_request,closed,,[FW][FIX] base: fix warning message for company check,"Description of the issue/feature this PR addresses:
In the company check warning message, self.model_name was used instead of self._name. 

Current behavior before PR:
model_name is not an attribute of the class BaseModel, which causes an AttributeError when the warning message is triggered.

Desired behavior after PR is merged:
Warning message correctly logged without having an error.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193918",fw-bot,2025-01-29 15:28:55+00:00,[],2025-01-30 14:34:48+00:00,2025-01-30 14:34:48+00:00,https://github.com/odoo/odoo/pull/195641,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621971890, 'issue_id': 2818543737, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195641.png)](https://mergebot.odoo.com/odoo/odoo/pull/195641)', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621971913, 'issue_id': 2818543737, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:28:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195641.png)](https://mergebot.odoo.com/odoo/odoo/pull/195641)

fw-bot (Issue Creator) on (2025-01-29 15:28:57 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818542923,pull_request,closed,,[FW][FIX] web: fix duplicate key error in user switch template,"**Description of the issue/feature this PR addresses:**
The user switch component fails in debug mode with the following error in the console log

> Error message:
> OwlError: Got duplicate key in t-foreach: [object Object]
>     at UserSwitch.template

This error happens because we are using the user object as a key ([object Object]), instead we should use the user_index 

**Current behavior before PR:**
1. Open a runbot
2. Log in and log out with admin account
3. Log in and log out with demo account
4. The user switch component appears on the login page
5. Adding ?debug=1 to the URL causes:
   - User switch component disappears
   - Console shows duplicate key error

**Desired behavior after PR is merged:**
- Having possibility to use switch user component in debug mode

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194149",fw-bot,2025-01-29 15:28:36+00:00,[],2025-01-30 16:09:48+00:00,2025-01-30 16:09:48+00:00,https://github.com/odoo/odoo/pull/195640,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621971111, 'issue_id': 2818542923, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195640.png)](https://mergebot.odoo.com/odoo/odoo/pull/195640)', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621971133, 'issue_id': 2818542923, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622067862, 'issue_id': 2818542923, 'author': 'fw-bot', 'body': '@cro-odoo @BastienFafchamps ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 16, 6, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622774158, 'issue_id': 2818542923, 'author': 'fw-bot', 'body': '@cro-odoo @BastienFafchamps ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 20, 28, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623890630, 'issue_id': 2818542923, 'author': 'cro-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 58, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623890715, 'issue_id': 2818542923, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 30, 8, 58, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:28:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195640.png)](https://mergebot.odoo.com/odoo/odoo/pull/195640)

fw-bot (Issue Creator) on (2025-01-29 15:28:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 16:06:54 UTC): @cro-odoo @BastienFafchamps ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-29 20:28:30 UTC): @cro-odoo @BastienFafchamps ci/runbot failed on this forward-port PR

cro-odoo on (2025-01-30 08:58:07 UTC): @robodoo r+

robodoo on (2025-01-30 08:58:09 UTC): This PR is already reviewed, reviewing it again is useless.

"
2818541841,pull_request,closed,,[FW] 18.0 form dialog escape fix aab,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195238",fw-bot,2025-01-29 15:28:18+00:00,[],2025-01-30 12:53:58+00:00,2025-01-30 12:53:58+00:00,https://github.com/odoo/odoo/pull/195639,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621970334, 'issue_id': 2818541841, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195639.png)](https://mergebot.odoo.com/odoo/odoo/pull/195639)', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621970351, 'issue_id': 2818541841, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:28:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195639.png)](https://mergebot.odoo.com/odoo/odoo/pull/195639)

fw-bot (Issue Creator) on (2025-01-29 15:28:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818539944,pull_request,closed,,[FW][FIX] test_lint: fix list comprehension issue when assigned,"This commit add support for comprenhension expression on assign node

Forward-Port-Of: odoo/odoo#195486
Forward-Port-Of: odoo/odoo#194878",fw-bot,2025-01-29 15:27:46+00:00,[],2025-01-30 17:36:32+00:00,2025-01-30 17:36:32+00:00,https://github.com/odoo/odoo/pull/195638,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621969021, 'issue_id': 2818539944, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195638.png)](https://mergebot.odoo.com/odoo/odoo/pull/195638)', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621969080, 'issue_id': 2818539944, 'author': 'fw-bot', 'body': '@flvr-odoo this PR targets saas-18.1 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354005, 'issue_id': 2818539944, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623814543, 'issue_id': 2818539944, 'author': 'robodoo', 'body': ""Forward-porting odoo/odoo#195486 to 'master', resuming forward-port stopped at odoo/odoo#195638."", 'created_at': datetime.datetime(2025, 1, 30, 8, 17, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623920915, 'issue_id': 2818539944, 'author': 'fw-bot', 'body': '@flvr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 30, 9, 11, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624319563, 'issue_id': 2818539944, 'author': 'flvr-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 3, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:27:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195638.png)](https://mergebot.odoo.com/odoo/odoo/pull/195638)

fw-bot (Issue Creator) on (2025-01-29 15:27:50 UTC): @flvr-odoo this PR targets saas-18.1 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 02:01:44 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

robodoo on (2025-01-30 08:17:46 UTC): Forward-porting odoo/odoo#195486 to 'master', resuming forward-port stopped at odoo/odoo#195638.

fw-bot (Issue Creator) on (2025-01-30 09:11:35 UTC): @flvr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

flvr-odoo on (2025-01-30 12:03:33 UTC): robodoo r+

"
2818539581,pull_request,closed,,[FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.
",lvsz,2025-01-29 15:27:38+00:00,[],2025-01-29 18:29:31+00:00,2025-01-29 18:29:31+00:00,https://github.com/odoo/odoo/pull/195637,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621968702, 'issue_id': 2818539581, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195637.png)](https://mergebot.odoo.com/odoo/odoo/pull/195637)', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621969277, 'issue_id': 2818539581, 'author': 'lvsz', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621969362, 'issue_id': 2818539581, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622151497, 'issue_id': 2818539581, 'author': 'robodoo', 'body': 'Waiting for CI to create followup forward-ports.', 'created_at': datetime.datetime(2025, 1, 29, 16, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:27:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195637.png)](https://mergebot.odoo.com/odoo/odoo/pull/195637)

lvsz (Issue Creator) on (2025-01-29 15:27:54 UTC): robodoo fw=no

robodoo on (2025-01-29 15:27:56 UTC): Disabled forward-porting.

robodoo on (2025-01-29 16:38:00 UTC): Waiting for CI to create followup forward-ports.

"
2818538510,pull_request,closed,,[FW][FIX] account: avoid too much repetition in line name,"### Steps to reproduce:
- Go to Accounting > Reports > Aged Receivable
- Unfold any customer shown, click on the three dots next to an invoice, and select ""View Journal Entry""
- On the Journal Entry, add the invoice sequence to Customer Reference and Payment Reference
- Go back to the report, you should see the invoice name is now shown 4 times

### Cause:
The bug appeared in this commit (https://github.com/odoo/odoo/commit/eb872c09897eb9edd5b6e5b9e8171fa6764be3dc). When computing the line `display_name`, if there is a name, a reference and `line_name`. The variable line_name already include the reference: 
`name = f'{line.move_id.ref} - {line.move_id.payment_reference}'` (https://github.com/odoo/odoo/commit/a6cbb7c2d3538d57dc8498f0dacf4566ea1492e7) 

So `line_name` is different from `move_name` and the result is: 
`line.move_id.name (line.move_id.ref) line.move_id.ref - line.move_id.payment_reference`

### Solution:
Check if the move_ref and the payment ref are the same, in that case only put one of the two as line_name. Then when computing the display_name, line_name will equal to move_name so line_name will not be included.

opw-4492298

Forward-Port-Of: odoo/odoo#195449",fw-bot,2025-01-29 15:27:18+00:00,[],2025-01-30 17:37:10+00:00,2025-01-30 17:37:10+00:00,https://github.com/odoo/odoo/pull/195636,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621967727, 'issue_id': 2818538510, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195636.png)](https://mergebot.odoo.com/odoo/odoo/pull/195636)', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621967751, 'issue_id': 2818538510, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 27, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:27:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195636.png)](https://mergebot.odoo.com/odoo/odoo/pull/195636)

fw-bot (Issue Creator) on (2025-01-29 15:27:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818536966,pull_request,closed,,[FW][FIX] web: scroll in AutoComplete when option is not visible,"When the list of sources is longer than the `<AutoComplete>` height, navigating with the arrow keys did not scroll the menu. This commit makes sure the active option is always in focus and visible.

task-3758859

Forward-Port-Of: odoo/odoo#184250",fw-bot,2025-01-29 15:26:43+00:00,[],2025-01-29 21:58:26+00:00,2025-01-29 21:58:26+00:00,https://github.com/odoo/odoo/pull/195635,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621966340, 'issue_id': 2818536966, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195635.png)](https://mergebot.odoo.com/odoo/odoo/pull/195635)', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621966363, 'issue_id': 2818536966, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:26:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195635.png)](https://mergebot.odoo.com/odoo/odoo/pull/195635)

fw-bot (Issue Creator) on (2025-01-29 15:26:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818536202,pull_request,closed,,[FW][FIX] hr_holidays : Calculate duration of leave when flexible hours,"### Steps to reproduce:
	- Create a working schedule that is flexible
	- Assign this working schedule to an Employee
	- Create a time off type and set the request unit to be 'half day'
	- Create an allocation for the created time off type for the employee with the flexible working schedule
	- Create a leave for the mentioned employee with the created time off type for 1 day
	- Notice the duration of the leave is 2 days not 1

### Cause:
When creating a working schedule we compute the duration of the periods and since 'attendance.calendar_id.hours_per_day' won't have a value each period will be 1 day. https://github.com/odoo/odoo/blob/18.0/addons/resource/models/resource_calendar_attendance.py#L82

So, when getting the duration of the leave where its request_unit is not 'day' the duration will be the summation of the periods' duration of the working schedule for the employee which in this case will be 1 for each period -each day has 2 periods with the value of 1-

### Fix:
Check if the employee if on flexible hours we calcualte the duration as the difference between the date_to and date_from rounded up in days

opw-4309551

Forward-Port-Of: odoo/odoo#195223",fw-bot,2025-01-29 15:26:24+00:00,[],2025-02-03 11:38:44+00:00,2025-02-03 11:38:44+00:00,https://github.com/odoo/odoo/pull/195634,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621966285, 'issue_id': 2818536202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195634.png)](https://mergebot.odoo.com/odoo/odoo/pull/195634)', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621966314, 'issue_id': 2818536202, 'author': 'fw-bot', 'body': '@yoba-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#195223 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/models/hr_leave.py\nAuto-merging addons/hr_holidays/tests/test_leave_requests.py\nCONFLICT (content): Merge conflict in addons/hr_holidays/tests/test_leave_requests.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201343, 'issue_id': 2818536202, 'author': 'fw-bot', 'body': '@yoba-odoo @Bertrand2 this forward port of odoo/odoo#195223 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729387, 'issue_id': 2818536202, 'author': 'fw-bot', 'body': '@yoba-odoo @Bertrand2 this forward port of odoo/odoo#195223 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630297948, 'issue_id': 2818536202, 'author': 'yoba-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 41, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:26:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195634.png)](https://mergebot.odoo.com/odoo/odoo/pull/195634)

fw-bot (Issue Creator) on (2025-01-29 15:26:46 UTC): @yoba-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#195223 failed.

stdout:
```
Auto-merging addons/hr_holidays/models/hr_leave.py
Auto-merging addons/hr_holidays/tests/test_leave_requests.py
CONFLICT (content): Merge conflict in addons/hr_holidays/tests/test_leave_requests.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:00:53 UTC): @yoba-odoo @Bertrand2 this forward port of odoo/odoo#195223 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:40 UTC): @yoba-odoo @Bertrand2 this forward port of odoo/odoo#195223 is awaiting action (not merged or closed).

yoba-odoo on (2025-02-03 08:41:43 UTC): @robodoo r+

"
2818535348,pull_request,closed,,[FW][FIX] l10n_in: backporting of fiscal position commits,"This PR is backporting of these commits:

[1] Commit https://github.com/odoo/odoo/commit/a1b7d8aba255ec477a030d44897b8ea73d1f37e7
[2] Commit https://github.com/odoo/odoo/commit/3653131d32997392b2170ce542bfc544fd96bef2

These commits introduce the computation of fiscal positions for sales and
purchase documents based on the place of supply. While these changes are
already merged into version 18.1, they are now required in version 17.0.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195399",fw-bot,2025-01-29 15:26:04+00:00,['masm-odoo'],2025-01-30 07:38:48+00:00,2025-01-30 07:38:48+00:00,https://github.com/odoo/odoo/pull/195633,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621966214, 'issue_id': 2818535348, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195633.png)](https://mergebot.odoo.com/odoo/odoo/pull/195633)', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621966237, 'issue_id': 2818535348, 'author': 'fw-bot', 'body': '@masm-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195399 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_in/models/account_invoice.py\nCONFLICT (content): Merge conflict in addons/l10n_in/models/account_invoice.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623530711, 'issue_id': 2818535348, 'author': 'masm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 5, 8, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:26:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195633.png)](https://mergebot.odoo.com/odoo/odoo/pull/195633)

fw-bot (Issue Creator) on (2025-01-29 15:26:44 UTC): @masm-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195399 failed.

stdout:
```
Auto-merging addons/l10n_in/models/account_invoice.py
CONFLICT (content): Merge conflict in addons/l10n_in/models/account_invoice.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

masm-odoo (Assginee) on (2025-01-30 05:08:20 UTC): @robodoo r+

"
2818534134,pull_request,closed,,"[FW][FIX] product, website_sale: fall back on geoip country for pricelists","Versions
--------
- 17.0+

Steps
-----
1. Ensure `geoip` works (or patch the `_get_geoip_country_code` method);
2. create two pricelists for the website;
3. first should be restricted to EU countries & use EUR;
4. second one shouldn't be restricted to any country & use USD;
5. log in as a Portal user without address details from a EU IP;
6. open the shop.

Issue
-----
The prices are displayed in USD.

Cause
-----
The geoip country is taken into account for public users, but not for partners. Instead it relies on the partner's country_id, which could be empty.

Solution
--------
When computing the `property_product_pricelist`, add the geoip country to the context. Use this value in the fallback for partners without specific pricelist property set, and without a `country_id`.

opw-4398543

Forward-Port-Of: odoo/odoo#194885",fw-bot,2025-01-29 15:25:34+00:00,[],2025-01-29 18:46:25+00:00,2025-01-29 18:46:25+00:00,https://github.com/odoo/odoo/pull/195632,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621963171, 'issue_id': 2818534134, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195632.png)](https://mergebot.odoo.com/odoo/odoo/pull/195632)', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621963197, 'issue_id': 2818534134, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622162408, 'issue_id': 2818534134, 'author': 'fw-bot', 'body': '@lvsz the next pull request (odoo/odoo#195656) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622186341, 'issue_id': 2818534134, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 16, 52, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:25:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195632.png)](https://mergebot.odoo.com/odoo/odoo/pull/195632)

fw-bot (Issue Creator) on (2025-01-29 15:25:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 16:42:19 UTC): @lvsz the next pull request (odoo/odoo#195656) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-29 16:52:24 UTC): @robodoo r+

"
2818532841,pull_request,closed,,[FW][FIX] pos_razorpay: traceback when terminal payment done on floor screen,"Steps to Reproduce:
=========
- Install the modules: pos_razorpay, l10n_in, and pos_restaurant.
- Create a payment method for the Razorpay terminal.
- Open a restaurant register linked to an Indian company with the added Razorpay terminal payment method.
- Create an order, add a Razorpay payment line, and navigate to the floor screen.

Issue:
==========
- A traceback occurs when completing a payment.

Cause:
=========
- Polling for the Razorpay terminal continues even after leaving the payment screen and navigating to the floor screen.

Fix:
=========
- Stop the polling process when the user leaves the payment screen.
- Resume polling only when the user returns to the payment screen.

task-4414016

Forward-Port-Of: odoo/odoo#192072",fw-bot,2025-01-29 15:25:03+00:00,[],2025-01-30 06:39:13+00:00,2025-01-30 06:39:13+00:00,https://github.com/odoo/odoo/pull/195631,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621961889, 'issue_id': 2818532841, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195631.png)](https://mergebot.odoo.com/odoo/odoo/pull/195631)', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621961915, 'issue_id': 2818532841, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:25:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195631.png)](https://mergebot.odoo.com/odoo/odoo/pull/195631)

fw-bot (Issue Creator) on (2025-01-29 15:25:06 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818530156,pull_request,closed,,[FIX] web: put default_group_by facet in front of others,"This commit simply shifts the default_group_by facet's position to the front so that users won't accidentally remove it using backspace (after a typo for example).

task-4523387
",juliusc2066,2025-01-29 15:23:59+00:00,[],2025-01-30 19:01:32+00:00,2025-01-30 19:01:32+00:00,https://github.com/odoo/odoo/pull/195630,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621959309, 'issue_id': 2818530156, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195630.png)](https://mergebot.odoo.com/odoo/odoo/pull/195630)', 'created_at': datetime.datetime(2025, 1, 29, 15, 24, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624659687, 'issue_id': 2818530156, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 14, 25, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:24:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195630.png)](https://mergebot.odoo.com/odoo/odoo/pull/195630)

Polymorphe57 on (2025-01-30 14:25:54 UTC): @robodoo r+

"
2818494052,pull_request,closed,,[FW][FIX] pos_self_order: prevent missing payment step with slow internet,"Before this commit, with a slow internet connection, if a user added an item to the order and pressed the pay button very quickly (before completing the price loading), it would bypass the payment step and directly give the receipt.

opw-4305214

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#186960",fw-bot,2025-01-29 15:09:37+00:00,[],2025-01-31 10:49:32+00:00,2025-01-31 10:49:32+00:00,https://github.com/odoo/odoo/pull/195629,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621923534, 'issue_id': 2818494052, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195629.png)](https://mergebot.odoo.com/odoo/odoo/pull/195629)', 'created_at': datetime.datetime(2025, 1, 29, 15, 9, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621923561, 'issue_id': 2818494052, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 9, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:09:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195629.png)](https://mergebot.odoo.com/odoo/odoo/pull/195629)

fw-bot (Issue Creator) on (2025-01-29 15:09:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818487316,pull_request,closed,,[FW][FIX] website_forum: fix spam search with multiple nodes,"Since render.qweb was replaced by renderToElement, the spam input search crashes if more than one post meets the search. This commit renders a fragment instead of an element to bypass this limitation.

Steps to reproduce:
- Connect as Admin
- Flag 2 posts on the forum (""..."" at the bottom of a post > Flag)
- Go to the flagged posts in the moderation tools (left bar)
- Click on ""Filter Tool""
- Select the ""Text"" tab
- Type ""e"" (to select both posts) => Traceback.

(No linked task)

Forward-Port-Of: odoo/odoo#195502
Forward-Port-Of: odoo/odoo#191389",fw-bot,2025-01-29 15:07:03+00:00,[],2025-01-30 07:59:54+00:00,2025-01-29 16:49:03+00:00,https://github.com/odoo/odoo/pull/195628,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621916782, 'issue_id': 2818487316, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195628.png)](https://mergebot.odoo.com/odoo/odoo/pull/195628)', 'created_at': datetime.datetime(2025, 1, 29, 15, 7, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621916884, 'issue_id': 2818487316, 'author': 'fw-bot', 'body': '@robinlej @qsm-odoo cherrypicking of pull request odoo/odoo#191389 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/website_forum/static/src/js/website_forum.js deleted in 7eba79a93c31f46ca3acf69d080de533f676ed2f and modified in 1230cd76bb0f938efdf2b683b2f10a93da1930e8.  Version 1230cd76bb0f938efdf2b683b2f10a93da1930e8 of addons/website_forum/static/src/js/website_forum.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 7, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622178614, 'issue_id': 2818487316, 'author': 'robinlej', 'body': 'This was already refactored in `addons/website_forum/static/src/interactions/website_forum_spam.js`, closing this forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 49, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:07:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195628.png)](https://mergebot.odoo.com/odoo/odoo/pull/195628)

fw-bot (Issue Creator) on (2025-01-29 15:07:07 UTC): @robinlej @qsm-odoo cherrypicking of pull request odoo/odoo#191389 failed.

stdout:
```
CONFLICT (modify/delete): addons/website_forum/static/src/js/website_forum.js deleted in 7eba79a93c31f46ca3acf69d080de533f676ed2f and modified in 1230cd76bb0f938efdf2b683b2f10a93da1930e8.  Version 1230cd76bb0f938efdf2b683b2f10a93da1930e8 of addons/website_forum/static/src/js/website_forum.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-29 16:49:03 UTC): This was already refactored in `addons/website_forum/static/src/interactions/website_forum_spam.js`, closing this forward-port

"
2818483301,pull_request,closed,,[FW][FIX] l10n_it: do not allow xml as main attachment by default,"**Issue:**
When ""l10n_it"" is installed, an override of ""_message_set_main_attachment_id"" method is changing the default value of ""filter_xml"" param from True to False, which is impacting the general behavior when the module is installed. As a consequence, xml files can be set as main attachment of a bill, which generates unreadable PDF files when using ""Print > Original Bills"" action on a bill.

opw-4439034


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195317",fw-bot,2025-01-29 15:05:57+00:00,[],2025-01-29 18:07:12+00:00,2025-01-29 18:07:12+00:00,https://github.com/odoo/odoo/pull/195627,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621912715, 'issue_id': 2818483301, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195627.png)](https://mergebot.odoo.com/odoo/odoo/pull/195627)', 'created_at': datetime.datetime(2025, 1, 29, 15, 5, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621912750, 'issue_id': 2818483301, 'author': 'fw-bot', 'body': '@kitan191 @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195598\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 5, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621954475, 'issue_id': 2818483301, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 15, 22, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:05:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195627.png)](https://mergebot.odoo.com/odoo/odoo/pull/195627)

fw-bot (Issue Creator) on (2025-01-29 15:05:59 UTC): @kitan191 @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195598

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-29 15:22:03 UTC): @robodoo r+

"
2818477677,pull_request,open,,[IMP] account: detach files on resetting to draft,"Resetting a move to draft should detach the current attachments generated by the send and print and allow regenerating them after the user is done with the edits.

task-4498564

Enterprise PR: https://github.com/odoo/enterprise/pull/78429
",alialfie,2025-01-29 15:03:51+00:00,[],2025-02-06 13:07:29+00:00,,https://github.com/odoo/odoo/pull/195626,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621907150, 'issue_id': 2818477677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195626.png)](https://mergebot.odoo.com/odoo/odoo/pull/195626)', 'created_at': datetime.datetime(2025, 1, 29, 15, 3, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:03:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195626.png)](https://mergebot.odoo.com/odoo/odoo/pull/195626)

"
2818476766,pull_request,closed,,"[FW][FIX] sale,website_sale: fix visibility of the select quantity button","version: 18.0
Issue :
When the ""Select Quantity"" button is hidden on the product page via the editor,
it remains visible on the product configuration page.

Fix:
Added a condition for showQuantity to ensure the visibility of the
""Select Quantity"" button is consistently managed on both the
product page and the product configuration page.

With this fix, the visibility of the ""Select Quantity"" button can now be
properly controlled for the product configuration page as well,
aligning with the editor's settings.

opw-4316784

Forward-Port-Of: odoo/odoo#187556",fw-bot,2025-01-29 15:03:29+00:00,[],2025-02-03 10:00:35+00:00,2025-02-03 10:00:35+00:00,https://github.com/odoo/odoo/pull/195625,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2621906167, 'issue_id': 2818476766, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195625.png)](https://mergebot.odoo.com/odoo/odoo/pull/195625)', 'created_at': datetime.datetime(2025, 1, 29, 15, 3, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621906274, 'issue_id': 2818476766, 'author': 'fw-bot', 'body': '@rupa-odoo @ltinel cherrypicking of pull request odoo/odoo#187556 failed.\n\nstdout:\n```\nAuto-merging addons/sale/static/src/js/combo_configurator_dialog/combo_configurator_dialog.js\nAuto-merging addons/sale/static/src/js/product/product.xml\nCONFLICT (content): Merge conflict in addons/sale/static/src/js/product/product.xml\nAuto-merging addons/sale/static/src/js/product_list/product_list.xml\nCONFLICT (content): Merge conflict in addons/sale/static/src/js/product_list/product_list.xml\nCONFLICT (modify/delete): addons/website_sale/static/src/js/website_sale_configurators.js deleted in 7eba79a93c31f46ca3acf69d080de533f676ed2f and modified in 2c9a83ace91f2b5f88abbc8c218fb5dc6fb45d82.  Version 2c9a83ace91f2b5f88abbc8c218fb5dc6fb45d82 of addons/website_sale/static/src/js/website_sale_configurators.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 3, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624395625, 'issue_id': 2818476766, 'author': 'ltinel', 'body': '@kcv-odoo I can handle the conflict, unless you already started working on it?', 'created_at': datetime.datetime(2025, 1, 30, 12, 38, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626427766, 'issue_id': 2818476766, 'author': 'kcv-odoo', 'body': 'Hi @ltinel Should be fine now! (I was on leave yesterday :see_no_evil: )', 'created_at': datetime.datetime(2025, 1, 31, 6, 46, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202129, 'issue_id': 2818476766, 'author': 'fw-bot', 'body': '@rupa-odoo @ltinel this forward port of odoo/odoo#187556 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730972, 'issue_id': 2818476766, 'author': 'fw-bot', 'body': '@rupa-odoo @ltinel this forward port of odoo/odoo#187556 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630159235, 'issue_id': 2818476766, 'author': 'ltinel', 'body': 'Good job! :)\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 23, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:03:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195625.png)](https://mergebot.odoo.com/odoo/odoo/pull/195625)

fw-bot (Issue Creator) on (2025-01-29 15:03:32 UTC): @rupa-odoo @ltinel cherrypicking of pull request odoo/odoo#187556 failed.

stdout:
```
Auto-merging addons/sale/static/src/js/combo_configurator_dialog/combo_configurator_dialog.js
Auto-merging addons/sale/static/src/js/product/product.xml
CONFLICT (content): Merge conflict in addons/sale/static/src/js/product/product.xml
Auto-merging addons/sale/static/src/js/product_list/product_list.xml
CONFLICT (content): Merge conflict in addons/sale/static/src/js/product_list/product_list.xml
CONFLICT (modify/delete): addons/website_sale/static/src/js/website_sale_configurators.js deleted in 7eba79a93c31f46ca3acf69d080de533f676ed2f and modified in 2c9a83ace91f2b5f88abbc8c218fb5dc6fb45d82.  Version 2c9a83ace91f2b5f88abbc8c218fb5dc6fb45d82 of addons/website_sale/static/src/js/website_sale_configurators.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ltinel on (2025-01-30 12:38:07 UTC): @kcv-odoo I can handle the conflict, unless you already started working on it?

kcv-odoo on (2025-01-31 06:46:28 UTC): Hi @ltinel Should be fine now! (I was on leave yesterday :see_no_evil: )

fw-bot (Issue Creator) on (2025-02-02 02:02:09 UTC): @rupa-odoo @ltinel this forward port of odoo/odoo#187556 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:14 UTC): @rupa-odoo @ltinel this forward port of odoo/odoo#187556 is awaiting action (not merged or closed).

ltinel on (2025-02-03 07:23:36 UTC): Good job! :)

@robodoo r+

"
2818473383,pull_request,closed,,[FW][FIX] point_of_sale: fix error using .trim() on undefined,"The error was caused by calling .trim() on a variable that could be undefined.

This commit adds a check to ensure the variable is defined before calling .trim()

Forward-Port-Of: odoo/odoo#195421",fw-bot,2025-01-29 15:02:11+00:00,[],2025-01-31 12:12:05+00:00,2025-01-31 12:12:01+00:00,https://github.com/odoo/odoo/pull/195624,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621902752, 'issue_id': 2818473383, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195624.png)](https://mergebot.odoo.com/odoo/odoo/pull/195624)', 'created_at': datetime.datetime(2025, 1, 29, 15, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621902791, 'issue_id': 2818473383, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195600\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626750687, 'issue_id': 2818473383, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 31, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:02:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195624.png)](https://mergebot.odoo.com/odoo/odoo/pull/195624)

fw-bot (Issue Creator) on (2025-01-29 15:02:13 UTC): @davidmonnom @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195600

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-31 09:31:13 UTC): @robodoo r+

"
2818472572,pull_request,closed,,[FIX] web: don't aggregate grouped by fields,"This commit fixes an issue where if the user applies a group by on an aggregatable field (an integer like color_index for example), this field is also registered as an aggregator in the webReadGroup call and this leads to nonsensical results by the orm. After this commit, the group by field is automatically excluded from aggregators so the issue cannot happen.

task-4491839
",juliusc2066,2025-01-29 15:01:54+00:00,[],2025-01-30 10:24:04+00:00,2025-01-30 10:24:04+00:00,https://github.com/odoo/odoo/pull/195623,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621902089, 'issue_id': 2818472572, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195623.png)](https://mergebot.odoo.com/odoo/odoo/pull/195623)', 'created_at': datetime.datetime(2025, 1, 29, 15, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623906423, 'issue_id': 2818472572, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 30, 9, 5, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:01:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195623.png)](https://mergebot.odoo.com/odoo/odoo/pull/195623)

robodoo on (2025-01-30 09:05:22 UTC): Merge method set to rebase and fast-forward.

"
2818472311,pull_request,closed,,[FW][FIX] web: add a fallback if there is no previous controller,"- open a record with an URL: `/{model}/{id}`;
- delete or archive the record;

Before this commit, an empty form view was displayed, with an incorrect URL: `/{model}/new`. This form view was inconsistent, and would throw an error in some applications (such as accounting). Even if no error was thrown, an error would be thrown if the user clicked on the 'back' button.

This is not the correct behaviour, when deleting or archiving a record, the correct behaviour is :
- if a pager exists, display the next record;
- if not, return to the previous controller (the previous action, usually the multi-record view);

The issue here is that we don't have a previous action or a multi-record view.

Now, in this particular case, we will fallback to the default application.

opw-4354129

Forward-Port-Of: odoo/odoo#195393",fw-bot,2025-01-29 15:01:48+00:00,[],2025-01-30 08:01:36+00:00,2025-01-29 17:42:40+00:00,https://github.com/odoo/odoo/pull/195622,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621901733, 'issue_id': 2818472311, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195622.png)](https://mergebot.odoo.com/odoo/odoo/pull/195622)', 'created_at': datetime.datetime(2025, 1, 29, 15, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621901771, 'issue_id': 2818472311, 'author': 'fw-bot', 'body': '@jpp-odoo @aab-odoo cherrypicking of pull request odoo/odoo#195393 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/webclient/actions/action_service.js\nCONFLICT (modify/delete): addons/web/static/tests/legacy/views/form/form_view_tests.js deleted in 86deadedf3ccf1d85fd42c9c80c3c2d778432a4a and modified in 47da9dd6089a6dbfa501f374921db6dc85144eb1.  Version 47da9dd6089a6dbfa501f374921db6dc85144eb1 of addons/web/static/tests/legacy/views/form/form_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621941090, 'issue_id': 2818472311, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 15, 16, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 15:01:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195622.png)](https://mergebot.odoo.com/odoo/odoo/pull/195622)

fw-bot (Issue Creator) on (2025-01-29 15:01:50 UTC): @jpp-odoo @aab-odoo cherrypicking of pull request odoo/odoo#195393 failed.

stdout:
```
Auto-merging addons/web/static/src/webclient/actions/action_service.js
CONFLICT (modify/delete): addons/web/static/tests/legacy/views/form/form_view_tests.js deleted in 86deadedf3ccf1d85fd42c9c80c3c2d778432a4a and modified in 47da9dd6089a6dbfa501f374921db6dc85144eb1.  Version 47da9dd6089a6dbfa501f374921db6dc85144eb1 of addons/web/static/tests/legacy/views/form/form_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jpp-odoo on (2025-01-29 15:16:41 UTC): @robodoo r+

"
2818458066,pull_request,closed,,m,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",davidmonnom,2025-01-29 14:57:04+00:00,[],2025-01-29 14:57:07+00:00,2025-01-29 14:57:07+00:00,https://github.com/odoo/odoo/pull/195621,[],"[{'comment_id': 2621887077, 'issue_id': 2818458066, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195621.png)](https://mergebot.odoo.com/odoo/odoo/pull/195621)', 'created_at': datetime.datetime(2025, 1, 29, 14, 57, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:57:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195621.png)](https://mergebot.odoo.com/odoo/odoo/pull/195621)

"
2818454329,pull_request,closed,,[FW][IMP] google_recaptcha: hide reCAPTCHA toggle once enabled,"The reCAPTCHA feature is currently controlled by the ""Module
Installation"" setting: `module_google_recaptcha`, which, due to
dependencies, caused the removal of many other modules when disabled.

The goal of this commit is to simply hide this option in stable to
prevent this misleading behaviour.

A user can still disable the reCAPTCHA checks by removing API keys
(Which was already mentioned on the setting block)

The feature behaviour will be updated in master to allow disabling
reCAPTCHA without uninstalling the modules.

task-3380702

Forward-Port-Of: odoo/odoo#194907",fw-bot,2025-01-29 14:55:33+00:00,[],2025-01-30 16:04:24+00:00,2025-01-30 16:04:24+00:00,https://github.com/odoo/odoo/pull/195620,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621882792, 'issue_id': 2818454329, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195620.png)](https://mergebot.odoo.com/odoo/odoo/pull/195620)', 'created_at': datetime.datetime(2025, 1, 29, 14, 55, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621882929, 'issue_id': 2818454329, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 55, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:55:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195620.png)](https://mergebot.odoo.com/odoo/odoo/pull/195620)

fw-bot (Issue Creator) on (2025-01-29 14:55:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818448983,pull_request,closed,,[FW][FIX] website_payment: public user tokenize donation feedback,"After commit ddda5d4a2623d03699d5cb6860d5c984807b6e3d public users were allowed to tokenize their payments with the exception of donation the tokenize field was forced to be False.
However Stripe threw an error when the received intent was different than the one on the frontend.

Fix:
Hide option to tokenize for unlogged in users for donations.

opw-4389881



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195001",fw-bot,2025-01-29 14:53:22+00:00,[],2025-02-03 16:01:43+00:00,2025-02-03 16:01:42+00:00,https://github.com/odoo/odoo/pull/195619,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621877099, 'issue_id': 2818448983, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195619.png)](https://mergebot.odoo.com/odoo/odoo/pull/195619)', 'created_at': datetime.datetime(2025, 1, 29, 14, 53, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621877131, 'issue_id': 2818448983, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 53, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:53:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195619.png)](https://mergebot.odoo.com/odoo/odoo/pull/195619)

fw-bot (Issue Creator) on (2025-01-29 14:53:24 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818435406,pull_request,closed,,[IMP] point_of_sale : Improve message clarity for users,"Clarify error message

Users may think that clicking on ""cancel orders"" will cancel
the orders planned for the future

Bring more clarity to user on what will happen
when they will click on ""cancel orders""",mobt-odoo,2025-01-29 14:48:50+00:00,[],2025-02-04 06:26:56+00:00,2025-02-04 06:26:56+00:00,https://github.com/odoo/odoo/pull/195618,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2621863939, 'issue_id': 2818435406, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195618.png)](https://mergebot.odoo.com/odoo/odoo/pull/195618)', 'created_at': datetime.datetime(2025, 1, 29, 14, 48, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:48:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195618.png)](https://mergebot.odoo.com/odoo/odoo/pull/195618)

"
2818430595,pull_request,closed,,[FIX] point_of_sale: prevent error when loading product suppliers,"Previously, opening the product info popup would fail if a product had multiple sellers with the same name but different prices and delays.

opw-4472861

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-29 14:46:53+00:00,[],2025-01-29 20:26:21+00:00,2025-01-29 20:26:21+00:00,https://github.com/odoo/odoo/pull/195617,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621859124, 'issue_id': 2818430595, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195617.png)](https://mergebot.odoo.com/odoo/odoo/pull/195617)', 'created_at': datetime.datetime(2025, 1, 29, 14, 46, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:46:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195617.png)](https://mergebot.odoo.com/odoo/odoo/pull/195617)

"
2818394445,pull_request,closed,,[FW][FIX] website: fix website form editor tour submit,"Since the ""website_form_editor"" tour was modified by this commit [1], the ""Website Form Editor Tour"" has been failing. This is due to the ""Subject"" field being hidden, while the ""Website Form Editor Tour"" expected it to be visible.

[1]: https://github.com/odoo/odoo/commit/243a4c1eb6523ba5d458f8cf8df5d696e40ccc8e

runbot-113783

Forward-Port-Of: odoo/odoo#195466",fw-bot,2025-01-29 14:32:29+00:00,[],2025-01-29 14:36:16+00:00,2025-01-29 14:36:15+00:00,https://github.com/odoo/odoo/pull/195616,"[('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621821561, 'issue_id': 2818394445, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195616.png)](https://mergebot.odoo.com/odoo/odoo/pull/195616)', 'created_at': datetime.datetime(2025, 1, 29, 14, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621821582, 'issue_id': 2818394445, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 32, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:32:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195616.png)](https://mergebot.odoo.com/odoo/odoo/pull/195616)

fw-bot (Issue Creator) on (2025-01-29 14:32:31 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818393656,pull_request,closed,,[FW][FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)

Forward-Port-Of: odoo/odoo#195541",fw-bot,2025-01-29 14:32:11+00:00,[],2025-01-29 23:04:11+00:00,2025-01-29 23:04:11+00:00,https://github.com/odoo/odoo/pull/195615,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621820673, 'issue_id': 2818393656, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195615.png)](https://mergebot.odoo.com/odoo/odoo/pull/195615)', 'created_at': datetime.datetime(2025, 1, 29, 14, 32, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621820707, 'issue_id': 2818393656, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 32, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622056215, 'issue_id': 2818393656, 'author': 'fw-bot', 'body': '@dylankiss @william-andre the next pull request (odoo/odoo#195647) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 16, 2, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622915549, 'issue_id': 2818393656, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 21, 39, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:32:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195615.png)](https://mergebot.odoo.com/odoo/odoo/pull/195615)

fw-bot (Issue Creator) on (2025-01-29 14:32:13 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 16:02:18 UTC): @dylankiss @william-andre the next pull request (odoo/odoo#195647) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-01-29 21:39:50 UTC): @robodoo r+

"
2818378172,pull_request,closed,,[FW][FIX] website_sale: show order ref on all checkout states,"Versions
--------
- 17.0+

Steps
-----
1. Enable Wire Transfer as a payment provider;
2. in eCommerce, add an item to cart;
3. go to checkout;
4. pay via wire transfer.

Issue
-----
The order reference isn't shown below the ""Thank you for your order"" message because the payment transaction hasn't been approved yet.

Solution
--------
Show the order reference regardless of transaction status.

opw-3844583

Forward-Port-Of: odoo/odoo#195228",fw-bot,2025-01-29 14:26:03+00:00,[],2025-01-29 18:06:58+00:00,2025-01-29 18:06:58+00:00,https://github.com/odoo/odoo/pull/195614,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621804597, 'issue_id': 2818378172, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195614.png)](https://mergebot.odoo.com/odoo/odoo/pull/195614)', 'created_at': datetime.datetime(2025, 1, 29, 14, 26, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621804635, 'issue_id': 2818378172, 'author': 'fw-bot', 'body': '@lvsz @AntoineVDV this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195583\n* odoo/odoo#195474\n* odoo/odoo#195455\n* odoo/odoo#195443\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 26, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621837802, 'issue_id': 2818378172, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 14, 38, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621838305, 'issue_id': 2818378172, 'author': 'lvsz', 'body': '@robodoo r-\r\n\r\nWhoops, almost forgot to deduplicate the template code on master', 'created_at': datetime.datetime(2025, 1, 29, 14, 38, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621838421, 'issue_id': 2818378172, 'author': 'robodoo', 'body': 'Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.', 'created_at': datetime.datetime(2025, 1, 29, 14, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621844450, 'issue_id': 2818378172, 'author': 'fw-bot', 'body': '@lvsz @AntoineVDV this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 29, 14, 41, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621849903, 'issue_id': 2818378172, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 14, 43, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:26:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195614.png)](https://mergebot.odoo.com/odoo/odoo/pull/195614)

fw-bot (Issue Creator) on (2025-01-29 14:26:06 UTC): @lvsz @AntoineVDV this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195583
* odoo/odoo#195474
* odoo/odoo#195455
* odoo/odoo#195443

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-29 14:38:45 UTC): @robodoo r+

lvsz on (2025-01-29 14:38:58 UTC): @robodoo r-

Whoops, almost forgot to deduplicate the template code on master

robodoo on (2025-01-29 14:39:00 UTC): Note that only this forward-port has been unapproved, sibling forward ports may have to be unapproved individually.

fw-bot (Issue Creator) on (2025-01-29 14:41:25 UTC): @lvsz @AntoineVDV this PR was modified / updated and has become a normal PR. It must be merged directly.

lvsz on (2025-01-29 14:43:25 UTC): robodoo r+

"
2818340832,pull_request,open,,"[FIX] web: report min-width for less background image cropping
","Scenario:

- set the report background to demo logo (621x196 pixels)
- print a report with short content (eg. quotation without lines)

Result: the logo is cropped at the bottom

Why:

Before 18.0, the background image was stretched over all the
report, so needed to be ok esthetically if stretched.

From 18.0 with https://github.com/odoo/odoo/commit/87258f05c7398173d3df6ec39869f52031502ede, the image is
only intended to be shown one time on the first page without stretching
over the whole document.

There is two issues:

- the ""background-size"" value ""contains"" is a typo of ""contain""

- if we fixed the typo we would break case where the image has a portait
  aspect ratio, the image would be zoomed to fit vertically (possibly
  over several page, which is itself an issue that the commit was
  trying to fix), but since we have the value ""background-position: auto
   300px"" the contain is computed over the whole element area, and we
  will have 300px cropped of the bottom of the image

Fix:

This is not simple to fix, we could have used something like:

background-size: auto calc(min(100% - 300px, 800px));

but both min and calc do not seem supported by wkhtmltopdf.

So it seems that the only way to make this work better would be:

- have a min-width, so people can know that if they can use an image of
  eg. 300px (for a min-width of 600px) of height without bottom cropped

- we could fix the background-size: contain, but then we would possibly
  bring more issue for vertical image (that will be zoomed up or down
  all of a sudden) that are not solvable because of background-position.

This fix just set the min-height to 600px.

opw-4364722",nle-odoo,2025-01-29 14:13:18+00:00,[],2025-01-29 15:00:18+00:00,,https://github.com/odoo/odoo/pull/195613,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621767675, 'issue_id': 2818340832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195613.png)](https://mergebot.odoo.com/odoo/odoo/pull/195613)', 'created_at': datetime.datetime(2025, 1, 29, 14, 13, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:13:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195613.png)](https://mergebot.odoo.com/odoo/odoo/pull/195613)

"
2818334460,pull_request,closed,,[FW][FIX] mail: avatar stack counter hidden by previous avatar,"The avatar stack displays several avatar on top of each other. When there are too many avatars to display, a counter is shown. However, this counter is hidden by the previous avatar. In order for the stack to work, each item should have an higher z index than the previous one. It's correctly done for avatars but not for the counter. This pr fixes the issue.

| Before | After |
| ------------- | ------------- |
| ![image](https://github.com/user-attachments/assets/665e160b-7105-447c-97e5-62032d45544b)  | ![image](https://github.com/user-attachments/assets/a6c4a7ac-c8db-4a82-bd46-3454d0a0a51e)  |

Forward-Port-Of: odoo/odoo#195542",fw-bot,2025-01-29 14:10:43+00:00,[],2025-01-29 18:06:53+00:00,2025-01-29 18:06:53+00:00,https://github.com/odoo/odoo/pull/195612,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621761359, 'issue_id': 2818334460, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195612.png)](https://mergebot.odoo.com/odoo/odoo/pull/195612)', 'created_at': datetime.datetime(2025, 1, 29, 14, 10, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621761385, 'issue_id': 2818334460, 'author': 'fw-bot', 'body': '@tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 10, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621786200, 'issue_id': 2818334460, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 14, 19, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:10:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195612.png)](https://mergebot.odoo.com/odoo/odoo/pull/195612)

fw-bot (Issue Creator) on (2025-01-29 14:10:45 UTC): @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tsm-odoo on (2025-01-29 14:19:08 UTC): @robodoo r+

"
2818326611,pull_request,open,,Master website event library questions alan,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",alan-odoo,2025-01-29 14:07:44+00:00,[],2025-01-31 12:30:15+00:00,,https://github.com/odoo/odoo/pull/195611,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621753885, 'issue_id': 2818326611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195611.png)](https://mergebot.odoo.com/odoo/odoo/pull/195611)', 'created_at': datetime.datetime(2025, 1, 29, 14, 7, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:07:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195611.png)](https://mergebot.odoo.com/odoo/odoo/pull/195611)

"
2818324735,pull_request,open,,[FW][FIX] website: fix placholder disappearing for char/text fields,"Before this PR:
Placeholder for empty char/text fields were disappearing in editor.
<br>

Steps to reproduce:
1. Open any appointment page with an operator assigned.
2. Go into edit mode.
3. The field with the placeholder ""Add a function here..."" will disappear.
> Similar issue can be seen for any char/text field types.
<br>

The issue occurs after the https://github.com/odoo/odoo/pull/165197 update, which uses the fillEmpty utility function to add:
- \<br> in empty **block** fields (char/text)
- and Zero Width Space (ZWS) in empty **inline** fields (char/text)

Since placeholders for fields are added via SCSS targeting empty fields, the char/text fields are no longer considered empty due to the \<br> tag and ZWS. As a result, placeholders are not displayed.
<br>

This fix ensures that the SCSS now applies the same styling to fields if they are empty, contain only a \<br> tag, or contain only ZWS.

Additionally, the value for `data-oe-zws-empty-inline` attribute is now updated dynamically, enabling CSS to target fields with only ZWS content, as ZWS cannot be selected directly from CSS.
<br>

task-4297507

Forward-Port-Of: odoo/odoo#187892",fw-bot,2025-01-29 14:06:58+00:00,[],2025-02-03 02:03:14+00:00,,https://github.com/odoo/odoo/pull/195610,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621751968, 'issue_id': 2818324735, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195610.png)](https://mergebot.odoo.com/odoo/odoo/pull/195610)', 'created_at': datetime.datetime(2025, 1, 29, 14, 6, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621751991, 'issue_id': 2818324735, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 14, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621831582, 'issue_id': 2818324735, 'author': 'fw-bot', 'body': '@aans-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 14, 36, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202112, 'issue_id': 2818324735, 'author': 'fw-bot', 'body': '@aans-odoo @dmo-odoo this forward port of odoo/odoo#187892 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730958, 'issue_id': 2818324735, 'author': 'fw-bot', 'body': '@aans-odoo @dmo-odoo this forward port of odoo/odoo#187892 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:06:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195610.png)](https://mergebot.odoo.com/odoo/odoo/pull/195610)

fw-bot (Issue Creator) on (2025-01-29 14:07:00 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 14:36:16 UTC): @aans-odoo @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 02:02:08 UTC): @aans-odoo @dmo-odoo this forward port of odoo/odoo#187892 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:12 UTC): @aans-odoo @dmo-odoo this forward port of odoo/odoo#187892 is awaiting action (not merged or closed).

"
2818311485,pull_request,open,,[IMP] hr_holidays: allocation import of accrual plans,"Problem
----------
It is impossible to import batch of data with allocation_type set to 'accrual'

Objective
----------
- DO NOT make it possible by removing the readonly attribute on the allocation_type field
- Allow the user to set directly an accrual plan and the allocation_type will be set automatically accordingly

Solution
----------
On creation of allocation :
-> if the accrual plan exists, it will update the value of allocation_type to ""accrual"" 
-> if the accrual plan is empty (==False) it will not update the allocation_type => ""regular""

task-4521658
",lebm-odoo,2025-01-29 14:01:31+00:00,[],2025-02-06 12:25:56+00:00,,https://github.com/odoo/odoo/pull/195609,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621738531, 'issue_id': 2818311485, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195609.png)](https://mergebot.odoo.com/odoo/odoo/pull/195609)', 'created_at': datetime.datetime(2025, 1, 29, 14, 1, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 14:01:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195609.png)](https://mergebot.odoo.com/odoo/odoo/pull/195609)

"
2818303039,pull_request,open,,[PERF] stock: store orderpoint.rule_ids,"Currently opening the Replenishment View is quite heavy. It's split into 3 time-consuming requests `run` + `search_panel_select_range` + `web_search_read`. The last one has been somewhat alleviated by 5ccae3c023aec132c53621db8230663e8fa39a32 but reintroducing the filter leads to a similar slowness.

For each of these requests, a large part of the execution time is taken by the computation of the orderpoints `rule_ids`. This is a computed non-stored fields that is needed to compute the lead days. An attempt to improve the speed of this computation was done in e63722d06102e7baee33e2d98b41852dd2d770ab but it's still not enough to be responsive.

The purpose of this commit is to store the rule_ids field in order to greatly speedup searches on orderpoints using the `qty_to_order` field in their leaves. Because a lot of things can impact the rule_ids we added a few `add_to_compute` in different models to recompute the `rule_ids` on writes/creates. However, given that most of these configuration shouldn't change too frequently we don't expect this to be an issue. Customers open the Replenishment View way more often than they change the sequence of some routes.

This does slow down creating new orderpoints, which is done in the first request `run` of the Replenishment View opening. However there's a search on orderpoints in the same request to unlink negative `qty_to_order` orderpoints. So the full request takes the same amount of time before and after this fix. No regression because of the slowness when creating orderpoints.

The test had to be changed because now flushing when creating a savepoint in the `with assertRaises` contextmanager triggers a recompute of the orderpoints, because of the added `self.env.add_to_compute`. This leads to the UserError being raised when ""building"" the contextmanager, not when executing code inside of it. To circumvent that, the new rules are created inside a function which is called in the contextmanager. That way the flushing does not recompute anything and the `assertRaises` works as expected.

#### speedup
In a database with 1760 orderpoints and 42 stock.rules, locally upgraded from 18.0 to this branch, timing for the three requests
  - `run`: 15s -> 15s (no changes because of the computation at create)
  - `search_panel_select_range`: 23s -> 50ms
  - `web_search_read` (with To Reorder filter): 15s -> 800ms

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Aurelienvd,2025-01-29 13:58:10+00:00,[],2025-02-05 13:17:43+00:00,,https://github.com/odoo/odoo/pull/195608,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621730151, 'issue_id': 2818303039, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195608.png)](https://mergebot.odoo.com/odoo/odoo/pull/195608)', 'created_at': datetime.datetime(2025, 1, 29, 13, 58, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621736396, 'issue_id': 2818303039, 'author': 'Aurelienvd', 'body': ""@Whenrow heya :wave: When you have time, could you give me your opinion on this PR (at least the idea of it) ? It's about storing the `rule_ids` field of orderpoints as we discussed :slightly_smiling_face:"", 'created_at': datetime.datetime(2025, 1, 29, 14, 0, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:58:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195608.png)](https://mergebot.odoo.com/odoo/odoo/pull/195608)

Aurelienvd (Issue Creator) on (2025-01-29 14:00:41 UTC): @Whenrow heya :wave: When you have time, could you give me your opinion on this PR (at least the idea of it) ? It's about storing the `rule_ids` field of orderpoints as we discussed :slightly_smiling_face:

"
2818298876,pull_request,open,,[I18N] l10n_nl: update translations,[task-4421055](https://www.odoo.com/odoo/project.task/4421055),dylankiss,2025-01-29 13:56:24+00:00,[],2025-01-29 14:00:11+00:00,,https://github.com/odoo/odoo/pull/195607,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621726075, 'issue_id': 2818298876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195607.png)](https://mergebot.odoo.com/odoo/odoo/pull/195607)', 'created_at': datetime.datetime(2025, 1, 29, 13, 56, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:56:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195607.png)](https://mergebot.odoo.com/odoo/odoo/pull/195607)

"
2818296683,pull_request,closed,,[FIX] website: fix the old image gallery crash after upgrading,"Steps to reproduce:

- In V17.0 drag and drop an ""Image Gallery"" block into the page.
- Upgrade to 18.0
- Click on the last ""Image Gallery"" indicator and then quickly on the first one.
- Traceback: ""TypeError: Cannot read properties of null (reading 'classList') at Carousel._setActiveIndicatorElement ...""

This issue is caused by the front-end code of the image gallery, which updates the active indicator during a slide event. When the crash happens, it cannot find the active slide in the DOM.

After investigation, everything already works with Bootstrap, and the purpose of this code remains unclear. However, in the stable version, we are not taking any risks and will not modify it.

In this commit, we simply added a return; in case the active slide is not found.

opw-4519455",bvr-odoo,2025-01-29 13:55:30+00:00,[],2025-01-30 12:43:26+00:00,2025-01-30 12:43:26+00:00,https://github.com/odoo/odoo/pull/195606,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621723942, 'issue_id': 2818296683, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195606.png)](https://mergebot.odoo.com/odoo/odoo/pull/195606)', 'created_at': datetime.datetime(2025, 1, 29, 13, 55, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621811169, 'issue_id': 2818296683, 'author': 'sobo-odoo', 'body': '@robodoo delegate=SergeBayet', 'created_at': datetime.datetime(2025, 1, 29, 14, 28, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623979864, 'issue_id': 2818296683, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 38, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:55:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195606.png)](https://mergebot.odoo.com/odoo/odoo/pull/195606)

sobo-odoo on (2025-01-29 14:28:34 UTC): @robodoo delegate=SergeBayet

SergeBayet on (2025-01-30 09:38:04 UTC): @robodoo r+

"
2818277723,pull_request,closed,,[FW][IMP] base: improve test_uncommented_invisible_field error message,"### Description of the issue/feature this PR addresses:
Since this PR #162009, all uncommented invisible fields raise an error.
This commit improves the error message from the method `test_uncommented_invisible_field` by showing which line of the view should be removed/commented.

The error message before this commit :
```
Addons: 'module_name'   Views: ['view_name1', 'view_name2']
```

After:
```
Addon: 'module_name'
   View: view_name1
      Fields:
         <field name=""field1"" invisible=""1"">
         <field name=""field2"" invisible=""1"">
   View: view_name2
      Fields:
         <field name=""field1"" invisible=""1"">
```

The main benefit of this change is to display in a single test all uncommented fields that need to be fixed.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195166",fw-bot,2025-01-29 13:48:30+00:00,[],2025-01-30 11:00:59+00:00,2025-01-30 11:00:59+00:00,https://github.com/odoo/odoo/pull/195605,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621703570, 'issue_id': 2818277723, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195605.png)](https://mergebot.odoo.com/odoo/odoo/pull/195605)', 'created_at': datetime.datetime(2025, 1, 29, 13, 48, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621703625, 'issue_id': 2818277723, 'author': 'fw-bot', 'body': '@cro-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#195166 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/tests/test_views.py\nCONFLICT (content): Merge conflict in odoo/addons/base/tests/test_views.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 48, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623758731, 'issue_id': 2818277723, 'author': 'cro-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 7, 41, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:48:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195605.png)](https://mergebot.odoo.com/odoo/odoo/pull/195605)

fw-bot (Issue Creator) on (2025-01-29 13:48:38 UTC): @cro-odoo @ryv-odoo cherrypicking of pull request odoo/odoo#195166 failed.

stdout:
```
Auto-merging odoo/addons/base/tests/test_views.py
CONFLICT (content): Merge conflict in odoo/addons/base/tests/test_views.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cro-odoo on (2025-01-30 07:41:47 UTC): @robodoo r+

"
2818270174,pull_request,closed,,[FW][FIX] website_forum: fix spam search with multiple nodes,"Since render.qweb was replaced by renderToElement, the spam input search crashes if more than one post meets the search. This commit renders a fragment instead of an element to bypass this limitation.

Steps to reproduce:
- Connect as Admin
- Flag 2 posts on the forum (""..."" at the bottom of a post > Flag)
- Go to the flagged posts in the moderation tools (left bar)
- Click on ""Filter Tool""
- Select the ""Text"" tab
- Type ""e"" (to select both posts) => Traceback.

(No linked task)

Forward-Port-Of: odoo/odoo#195502
Forward-Port-Of: odoo/odoo#191389",fw-bot,2025-01-29 13:46:08+00:00,[],2025-01-29 21:58:22+00:00,2025-01-29 21:58:22+00:00,https://github.com/odoo/odoo/pull/195604,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621695451, 'issue_id': 2818270174, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195604.png)](https://mergebot.odoo.com/odoo/odoo/pull/195604)', 'created_at': datetime.datetime(2025, 1, 29, 13, 46, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621695480, 'issue_id': 2818270174, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621916820, 'issue_id': 2818270174, 'author': 'fw-bot', 'body': '@robinlej @qsm-odoo the next pull request (odoo/odoo#195628) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 7, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622166310, 'issue_id': 2818270174, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 16, 43, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:46:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195604.png)](https://mergebot.odoo.com/odoo/odoo/pull/195604)

fw-bot (Issue Creator) on (2025-01-29 13:46:10 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 15:07:05 UTC): @robinlej @qsm-odoo the next pull request (odoo/odoo#195628) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-29 16:43:55 UTC): @robodoo r+

"
2818269145,pull_request,closed,,[FW][FIX] website: do not observe mutations making s_popup visible,"Description of the issue this PR addresses:

Pressing enter in the `s_popup` snippet after making it visible via the right panel would hide the popup. This occurred because the mutation observer detected changes which shows the modal and rolled them back during the `insertLineBreak` operation. This commit ensures that those mutations are not observed.

task-4255083

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195016
Forward-Port-Of: odoo/odoo#191810",fw-bot,2025-01-29 13:45:50+00:00,[],2025-01-30 06:26:35+00:00,2025-01-30 06:26:35+00:00,https://github.com/odoo/odoo/pull/195603,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621694652, 'issue_id': 2818269145, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195603.png)](https://mergebot.odoo.com/odoo/odoo/pull/195603)', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621694682, 'issue_id': 2818269145, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621786810, 'issue_id': 2818269145, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 14, 19, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:45:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195603.png)](https://mergebot.odoo.com/odoo/odoo/pull/195603)

fw-bot (Issue Creator) on (2025-01-29 13:45:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 14:19:21 UTC): @deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR

"
2818268109,pull_request,closed,,[FW][FIX] web_editor: prevent adding empty `p` when deleting an image,"**Problem**:
When an image inside a `<p>` tag (e.g., `<p><img></p>`) is deleted using the toolbar delete button, the selection is not properly restored, leaving an empty `<p>` in the DOM and the selection in the editor root.

**Solution**:
Restore the selection to the correct position after deleting the image to avoid leaving an empty `<p>`.

**Steps to Reproduce**:
1. Open an empty editor and add an image.
2. Delete the image using the toolbar delete button.
3. Inspect the DOM:
   - An empty `<p>` remains, and the selection is in the editor root.

opw-4472173

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194996
Forward-Port-Of: odoo/odoo#193396",fw-bot,2025-01-29 13:45:31+00:00,[],2025-01-30 16:09:52+00:00,2025-01-30 16:09:52+00:00,https://github.com/odoo/odoo/pull/195601,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621693903, 'issue_id': 2818268109, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195601.png)](https://mergebot.odoo.com/odoo/odoo/pull/195601)', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621693918, 'issue_id': 2818268109, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621820359, 'issue_id': 2818268109, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 14, 32, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354312, 'issue_id': 2818268109, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#193396 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:45:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195601.png)](https://mergebot.odoo.com/odoo/odoo/pull/195601)

fw-bot (Issue Creator) on (2025-01-29 13:45:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 14:32:05 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 02:01:59 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#193396 is awaiting action (not merged or closed).

"
2818267393,pull_request,closed,,[FW][FIX] point_of_sale: fix error using .trim() on undefined,"The error was caused by calling .trim() on a variable that could be undefined.

This commit adds a check to ensure the variable is defined before calling .trim()

Forward-Port-Of: odoo/odoo#195421",fw-bot,2025-01-29 13:45:12+00:00,[],2025-01-29 18:07:54+00:00,2025-01-29 18:07:53+00:00,https://github.com/odoo/odoo/pull/195600,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621693206, 'issue_id': 2818267393, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195600.png)](https://mergebot.odoo.com/odoo/odoo/pull/195600)', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621693240, 'issue_id': 2818267393, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621939540, 'issue_id': 2818267393, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 15, 16, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:45:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195600.png)](https://mergebot.odoo.com/odoo/odoo/pull/195600)

fw-bot (Issue Creator) on (2025-01-29 13:45:14 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-29 15:16:04 UTC): @robodoo r+

"
2818266278,pull_request,closed,,[FW][FIX] point_of_sale: debounce product stock fetch,"Before this commit, multiple requests were sent when the user changed options in the product configuration.

Additionally, the on-hand quantity was displayed incorrectly when opening the product configuration. When opening the configuration popup, the product was initially set. However, once the configuration was mounted, the selected attributes could result in a different product variant. We call `computeProductProduct` to update the product. The issue occurred because, while the first request was still in progress, a second request was triggered to fetch the correct product information. Since the first request was not yet finished, the second request was ignored, causing the configuration to display an incorrect on-hand quantity for the selected product variant.

opw-4385171

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190469",fw-bot,2025-01-29 13:44:52+00:00,[],2025-02-07 01:45:48+00:00,2025-02-07 01:45:48+00:00,https://github.com/odoo/odoo/pull/195599,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621692362, 'issue_id': 2818266278, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195599.png)](https://mergebot.odoo.com/odoo/odoo/pull/195599)', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621692388, 'issue_id': 2818266278, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#190469 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201978, 'issue_id': 2818266278, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#190469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730782, 'issue_id': 2818266278, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this forward port of odoo/odoo#190469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631096656, 'issue_id': 2818266278, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 4, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632699083, 'issue_id': 2818266278, 'author': 'robodoo', 'body': '@pedrambiria @caburj staging failed: ci/runbot on 663e804e2ac66670a6a644aa0f52b127f4f5e3ff (view more at https://runbot.odoo.com/runbot/build/74446354)', 'created_at': datetime.datetime(2025, 2, 4, 2, 49, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633913242, 'issue_id': 2818266278, 'author': 'pedrambiria', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 4, 13, 24, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635721748, 'issue_id': 2818266278, 'author': 'robodoo', 'body': '@pedrambiria @caburj staging failed: ci/runbot on 07f6d95b0e6ef6d25c22184b44d1d4c4603f6897 (view more at https://runbot.odoo.com/runbot/build/74515648)', 'created_at': datetime.datetime(2025, 2, 5, 5, 14, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641265247, 'issue_id': 2818266278, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 22, 27, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:44:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195599.png)](https://mergebot.odoo.com/odoo/odoo/pull/195599)

fw-bot (Issue Creator) on (2025-01-29 13:44:54 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#190469 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/product_info_banner/product_info_banner.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:01:54 UTC): @pedrambiria @caburj this forward port of odoo/odoo#190469 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:59 UTC): @pedrambiria @caburj this forward port of odoo/odoo#190469 is awaiting action (not merged or closed).

pedrambiria on (2025-02-03 14:04:32 UTC): robodoo r+

robodoo on (2025-02-04 02:49:56 UTC): @pedrambiria @caburj staging failed: ci/runbot on 663e804e2ac66670a6a644aa0f52b127f4f5e3ff (view more at https://runbot.odoo.com/runbot/build/74446354)

pedrambiria on (2025-02-04 13:24:57 UTC): robodoo retry

robodoo on (2025-02-05 05:14:16 UTC): @pedrambiria @caburj staging failed: ci/runbot on 07f6d95b0e6ef6d25c22184b44d1d4c4603f6897 (view more at https://runbot.odoo.com/runbot/build/74515648)

pedrambiria on (2025-02-06 22:27:47 UTC): robodoo r+

"
2818265493,pull_request,closed,,[FW][FIX] l10n_it: do not allow xml as main attachment by default,"**Issue:**
When ""l10n_it"" is installed, an override of ""_message_set_main_attachment_id"" method is changing the default value of ""filter_xml"" param from True to False, which is impacting the general behavior when the module is installed. As a consequence, xml files can be set as main attachment of a bill, which generates unreadable PDF files when using ""Print > Original Bills"" action on a bill.

opw-4439034


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195317",fw-bot,2025-01-29 13:44:32+00:00,[],2025-01-29 20:06:40+00:00,2025-01-29 20:06:40+00:00,https://github.com/odoo/odoo/pull/195598,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621691890, 'issue_id': 2818265493, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195598.png)](https://mergebot.odoo.com/odoo/odoo/pull/195598)', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621691913, 'issue_id': 2818265493, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:44:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195598.png)](https://mergebot.odoo.com/odoo/odoo/pull/195598)

fw-bot (Issue Creator) on (2025-01-29 13:44:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818264476,pull_request,closed,,"[FW][FIX] sale,website_sale: fix visibility of the select quantity button","version: 18.0
Issue :
When the ""Select Quantity"" button is hidden on the product page via the editor,
it remains visible on the product configuration page.

Fix:
Added a condition for showQuantity to ensure the visibility of the
""Select Quantity"" button is consistently managed on both the
product page and the product configuration page.

With this fix, the visibility of the ""Select Quantity"" button can now be
properly controlled for the product configuration page as well,
aligning with the editor's settings.

opw-4316784

Forward-Port-Of: odoo/odoo#187556",fw-bot,2025-01-29 13:44:12+00:00,[],2025-01-30 12:54:06+00:00,2025-01-30 12:54:05+00:00,https://github.com/odoo/odoo/pull/195597,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621691824, 'issue_id': 2818264476, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195597.png)](https://mergebot.odoo.com/odoo/odoo/pull/195597)', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621691850, 'issue_id': 2818264476, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621906196, 'issue_id': 2818264476, 'author': 'fw-bot', 'body': '@rupa-odoo @ltinel the next pull request (odoo/odoo#195625) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 15, 3, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623923870, 'issue_id': 2818264476, 'author': 'ltinel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 12, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:44:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195597.png)](https://mergebot.odoo.com/odoo/odoo/pull/195597)

fw-bot (Issue Creator) on (2025-01-29 13:44:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 15:03:31 UTC): @rupa-odoo @ltinel the next pull request (odoo/odoo#195625) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ltinel on (2025-01-30 09:12:49 UTC): @robodoo r+

"
2818263378,pull_request,closed,,[FW][FIX] sale: round discount floats display,"## Versions:
17.0+
No fix needed in 16.0 as the discount was not displayed this way.

## Issue:
Discount descriptions contain long string floats while it should be truncated for human reading.

## Steps to reproduce:
- Activate `Discounts` through settings;
- Create a new sale order for any client with at least 1 product;
- Click the `Discount` button on the form;
- Apply a 7% `Global Discount`;
- Read the `Discount` product's description.

## Cause:
Some numbers cannot be represented correctly in Python (including 7, 3.3 etc.).

opw-4485316

Forward-Port-Of: odoo/odoo#195497
Forward-Port-Of: odoo/odoo#195328",fw-bot,2025-01-29 13:43:53+00:00,[],2025-02-03 11:39:00+00:00,2025-02-03 11:39:00+00:00,https://github.com/odoo/odoo/pull/195596,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621691776, 'issue_id': 2818263378, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195596.png)](https://mergebot.odoo.com/odoo/odoo/pull/195596)', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621691789, 'issue_id': 2818263378, 'author': 'fw-bot', 'body': '@barracudapps cherrypicking of pull request odoo/odoo#195328 failed.\n\nstdout:\n```\nAuto-merging addons/sale/wizard/sale_order_discount.py\nCONFLICT (content): Merge conflict in addons/sale/wizard/sale_order_discount.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 44, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684528, 'issue_id': 2818263378, 'author': 'fw-bot', 'body': '@barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201292, 'issue_id': 2818263378, 'author': 'fw-bot', 'body': '@barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729238, 'issue_id': 2818263378, 'author': 'fw-bot', 'body': '@barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630345326, 'issue_id': 2818263378, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 3, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:44:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195596.png)](https://mergebot.odoo.com/odoo/odoo/pull/195596)

fw-bot (Issue Creator) on (2025-01-29 13:44:39 UTC): @barracudapps cherrypicking of pull request odoo/odoo#195328 failed.

stdout:
```
Auto-merging addons/sale/wizard/sale_order_discount.py
CONFLICT (content): Merge conflict in addons/sale/wizard/sale_order_discount.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:00:51 UTC): @barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:00:49 UTC): @barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:34 UTC): @barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).

barracudapps on (2025-02-03 09:03:44 UTC): @robodoo r+

"
2818260715,pull_request,open,,"[IMP] l10n_latam_check, account: tree and search view ux improvements","Description of the issue/feature this PR addresses:
This PR aims to add better visibility to own checks. Made voided and debited checks appear gray on tree view in order to make handed checks more eye-catching. 
I also refactor the labels on search views for own and third party checks to make them consistent with ""Issue state"" field.
Lastly, I refactored account.payment tree view to make decoration-muted work well when ""state"" is ""Canceled"".

Current behavior before PR:
- l10n_latam_check 
Debited checks records appear black on tree view, and ""Issue state"" tag on green. 
Voided checks records appear gray on tree view as well as ""Issue state"" tag.
![image](https://github.com/user-attachments/assets/2c8aa165-e544-448e-a1b5-7fb257c717c6)
- account
""Canceled"" payments records appear black on tree view.

Desired behavior after PR is merged:
- l10n_latam_check 
Voided or debited checks records will appear with gray color on tree view, as well as ""Issue state"" tag. 
Handed checks records will appear blue on tree view, as well as ""Issue state"" tag. 
![image](https://github.com/user-attachments/assets/7da1eb9b-9d5d-462b-a744-04072bea0a1b)
- account
""Canceled"" payments records appear gray on tree view.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jue-adhoc,2025-01-29 13:42:47+00:00,[],2025-02-07 16:09:21+00:00,,https://github.com/odoo/odoo/pull/195595,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2621687590, 'issue_id': 2818260715, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195595.png)](https://mergebot.odoo.com/odoo/odoo/pull/195595)', 'created_at': datetime.datetime(2025, 1, 29, 13, 42, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643351694, 'issue_id': 2818260715, 'author': 'vbe-odoo', 'body': ""@jue-adhoc thanks for the improvements added, I agree, it looks better with this improvement.\r\n@clbr-odoo @alialfie I've tested, and this LGTM,  it is ready for your technical review.\r\n\r\nThanks!"", 'created_at': datetime.datetime(2025, 2, 7, 16, 9, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:42:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195595.png)](https://mergebot.odoo.com/odoo/odoo/pull/195595)

vbe-odoo on (2025-02-07 16:09:13 UTC): @jue-adhoc thanks for the improvements added, I agree, it looks better with this improvement.
@clbr-odoo @alialfie I've tested, and this LGTM,  it is ready for your technical review.

Thanks!

"
2818257784,pull_request,closed,,[FW][IMP] web: hide default_group_by facet in kanban,"Since https://github.com/odoo/odoo/pull/179887, the default_group_by is displayed inside the facets of the search bar. This feature has been deemed useless in the case of the kanban view since removing groupbys in this view doesn't make much sense functionally.

task-4489226

Forward-Port-Of: odoo/odoo#195545",fw-bot,2025-01-29 13:41:34+00:00,[],2025-01-29 18:06:50+00:00,2025-01-29 18:06:48+00:00,https://github.com/odoo/odoo/pull/195594,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621684727, 'issue_id': 2818257784, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195594.png)](https://mergebot.odoo.com/odoo/odoo/pull/195594)', 'created_at': datetime.datetime(2025, 1, 29, 13, 41, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621684752, 'issue_id': 2818257784, 'author': 'fw-bot', 'body': '@juliusc2066 @polymorphe57 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 41, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621965427, 'issue_id': 2818257784, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 15, 26, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:41:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195594.png)](https://mergebot.odoo.com/odoo/odoo/pull/195594)

fw-bot (Issue Creator) on (2025-01-29 13:41:35 UTC): @juliusc2066 @polymorphe57 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

juliusc2066 on (2025-01-29 15:26:25 UTC): @robodoo r+

"
2818256706,pull_request,closed,,"[FW][FIX] pos_self_order: issues in mobile-menu product image, cart & description","Steps to Reproduce:
===
- Open the restaurant's mobile menu in a browser where you are not logged in.
- Interact with the product info (`i` button) and cart features.

Issues:
===
1. Product images were not displayed correctly, showing a default image instead.
2. Clicking the info (`i`) button displayed ""false"" or unformatted description if the product had no public description.
3. Adding more than one quantity of a product through the info popup only added a single item to the cart.

Fixed:
===
1. Resolved the image issue by ensuring images are accessible even when not logged in.
2. Corrected the display of public descriptions to show properly formatted text, else blank.
3. Fixed the cart issue to allow adding multiple quantities of a product correctly.

Task: 4463971

Forward-Port-Of: odoo/odoo#194651",fw-bot,2025-01-29 13:41:05+00:00,[],2025-02-03 08:26:44+00:00,2025-02-03 08:26:38+00:00,https://github.com/odoo/odoo/pull/195593,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621684289, 'issue_id': 2818256706, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195593.png)](https://mergebot.odoo.com/odoo/odoo/pull/195593)', 'created_at': datetime.datetime(2025, 1, 29, 13, 41, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621684309, 'issue_id': 2818256706, 'author': 'fw-bot', 'body': '@djip-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 41, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621750091, 'issue_id': 2818256706, 'author': 'fw-bot', 'body': '@djip-odoo @vlst-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 14, 6, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201718, 'issue_id': 2818256706, 'author': 'fw-bot', 'body': '@djip-odoo @vlst-odoo this forward port of odoo/odoo#194651 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730123, 'issue_id': 2818256706, 'author': 'fw-bot', 'body': '@djip-odoo @vlst-odoo this forward port of odoo/odoo#194651 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629887565, 'issue_id': 2818256706, 'author': 'djip-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 4, 26, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:41:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195593.png)](https://mergebot.odoo.com/odoo/odoo/pull/195593)

fw-bot (Issue Creator) on (2025-01-29 13:41:23 UTC): @djip-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 14:06:17 UTC): @djip-odoo @vlst-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 02:01:26 UTC): @djip-odoo @vlst-odoo this forward port of odoo/odoo#194651 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:18 UTC): @djip-odoo @vlst-odoo this forward port of odoo/odoo#194651 is awaiting action (not merged or closed).

djip-odoo on (2025-02-03 04:26:15 UTC): @robodoo r+

"
2818255947,pull_request,closed,,"[FW][IMP] im_livechat, web: proper focus when using hotkeys on CloseConfirmation","Before this commit, the Enter hotkey did not work to confirm the CloseConfirmation in livechat. This happened because:
- The `keydown` event is currently captured by the chat window not the CloseConfirmation component because the focused element is not properly detected.
- `useAutofocus` doesn't detect the focus target element because it checks only for the main tree DOM root, not the shadow root.

This PR changes the `useAutofocus` to handle the shadow roots and puts the focus on the chat window composer on cancel so it's more effective in case the user needs to type or use Esc to reopen close confirmation.

Forward-Port-Of: odoo/odoo#194180",fw-bot,2025-01-29 13:40:46+00:00,[],2025-01-29 18:38:09+00:00,2025-01-29 16:49:09+00:00,https://github.com/odoo/odoo/pull/195592,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621684223, 'issue_id': 2818255947, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195592.png)](https://mergebot.odoo.com/odoo/odoo/pull/195592)', 'created_at': datetime.datetime(2025, 1, 29, 13, 41, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621684259, 'issue_id': 2818255947, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 41, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621731690, 'issue_id': 2818255947, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 13, 58, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621826321, 'issue_id': 2818255947, 'author': 'robodoo', 'body': ""@maki-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 14, 34, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:41:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195592.png)](https://mergebot.odoo.com/odoo/odoo/pull/195592)

fw-bot (Issue Creator) on (2025-01-29 13:41:21 UTC): @maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 13:58:52 UTC): @robodoo r+

robodoo on (2025-01-29 14:34:15 UTC): @maki-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2818247832,pull_request,closed,,[FW][FIX] website_payment: public user tokenize donation feedback,"After commit ddda5d4a2623d03699d5cb6860d5c984807b6e3d public users were allowed to tokenize their payments with the exception of donation the tokenize field was forced to be False.
However Stripe threw an error when the received intent was different than the one on the frontend.

Fix:
Hide option to tokenize for unlogged in users for donations.

opw-4389881



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195001",fw-bot,2025-01-29 13:37:17+00:00,[],2025-02-03 15:05:28+00:00,2025-02-03 15:05:28+00:00,https://github.com/odoo/odoo/pull/195591,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621676338, 'issue_id': 2818247832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195591.png)](https://mergebot.odoo.com/odoo/odoo/pull/195591)', 'created_at': datetime.datetime(2025, 1, 29, 13, 37, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621676360, 'issue_id': 2818247832, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 37, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:37:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195591.png)](https://mergebot.odoo.com/odoo/odoo/pull/195591)

fw-bot (Issue Creator) on (2025-01-29 13:37:48 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818247071,pull_request,closed,,[FW][FIX] pos_self_order: prevent missing payment step with slow internet,"Before this commit, with a slow internet connection, if a user added an item to the order and pressed the pay button very quickly (before completing the price loading), it would bypass the payment step and directly give the receipt.

opw-4305214

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#186960",fw-bot,2025-01-29 13:36:58+00:00,[],2025-01-31 09:45:41+00:00,2025-01-31 09:45:41+00:00,https://github.com/odoo/odoo/pull/195590,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621676277, 'issue_id': 2818247071, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195590.png)](https://mergebot.odoo.com/odoo/odoo/pull/195590)', 'created_at': datetime.datetime(2025, 1, 29, 13, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621676306, 'issue_id': 2818247071, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 37, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:37:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195590.png)](https://mergebot.odoo.com/odoo/odoo/pull/195590)

fw-bot (Issue Creator) on (2025-01-29 13:37:46 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2818229147,pull_request,closed,,[FIX] l10n_eg_edi_eta: correct net/total with multiple taxes,"Currently, when multiple taxes type are applied to the same invoice line, the netAmount and totalAmount fields in the ETA file are incorrectly calculated.

Steps to reproduce:
1.	Install the module l10n_eg_edi_eta.
2.	Create a new invoice with multiple tax types applied to the same product.
3.	Generate the ETA JSON file.

Issue:
The resulting file contains incorrect values for netAmount and totalAmount because these amounts were calculated by summing the base_amount from values_per_grouping_key. However, since grouping is done by tax type, the base_amount is duplicated (once per tax type), leading to incorrect totals.

This fix ensure that base_amount is not counted multiple times.

See official documentation for more details:
https://sdk.invoicing.eta.gov.eg/document-validation-rules/#validation-on-level-of-invoice

opw-4457780",LouisGobert,2025-01-29 13:29:13+00:00,[],2025-02-06 10:43:49+00:00,2025-02-06 10:43:49+00:00,https://github.com/odoo/odoo/pull/195589,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621657788, 'issue_id': 2818229147, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195589.png)](https://mergebot.odoo.com/odoo/odoo/pull/195589)', 'created_at': datetime.datetime(2025, 1, 29, 13, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624717540, 'issue_id': 2818229147, 'author': 'hupo-odoo', 'body': ""Thank you for the fix! Your solution works well in most cases; however, in more complex scenarios where certain taxes precede others, it may not always produce the correct results.\r\n\r\nA more robust approach would be to recompute values_per_grouping_key using a different aggregator function that simply returns True (but only for netAmount and totalAmount).\r\n\r\n```python\r\n\r\ndef grouping_function_total_amount(base_line, tax_data):\r\n    return True\r\n\r\nbase_lines_aggregated_values_total_amount = AccountTax._aggregate_base_lines_tax_details(base_lines, grouping_function_total_amount)\r\nvalues_per_grouping_key_total_amount = AccountTax._aggregate_base_lines_aggregated_values(base_lines_aggregated_values_total_amount)\r\n```\r\n\r\nand in the dictionary update:\r\n```python\r\n'netAmount': self._l10n_eg_edi_round(sum(x['base_amount'] for x in values_per_grouping_key_total_amount.values())),\r\n'totalAmount': self._l10n_eg_edi_round(sum(x['base_amount'] + x['tax_amount'] for x in values_per_grouping_key_total_amount.values())),\r\n```\r\n\r\nof course feel free to arrange code as you prefer to make it clear between the 2 grouping functions, and feel free to give better variable name than mine :smile:"", 'created_at': datetime.datetime(2025, 1, 30, 14, 54, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626680222, 'issue_id': 2818229147, 'author': 'LouisGobert', 'body': 'Hello,\r\n\r\nThank you for your feedback.\r\n\r\nI applied the fix this way because it is stated in the official documentation:\r\n“Net Amount: NetAmount = Sum of all invoicelines.NetTotal” and\r\n“Total Amount: TotalAmount = sum of all Invoiceline.Total – Extra discount amount”\r\n(see [official documentation](https://sdk.invoicing.eta.gov.eg/document-validation-rules/#validation-on-level-of-invoice)).\r\n![image](https://github.com/user-attachments/assets/13984cd6-95da-4e46-8296-4c6df65ac331)\r\n\r\nSo, if the total in the invoice lines is correct, the invoice totals should also be correct.\r\nDo you have an example where an issue arises due to taxes?\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 31, 8, 53, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627281389, 'issue_id': 2818229147, 'author': 'hupo-odoo', 'body': ""Finding an exact use case where your code isn't providing the exact solution is pretty hard, but the code I suggested is actually from the expert in taxes in our team, the person who designed the tax engine. Basically you could have an error with your code with rounding issue, for example all lines have a displayed rounding that you sum, but when summing them like you do now, you would could loose a cent in the precision. By using the aggregator, this won't be the case. I tested the aggregator solution and your changes in the tests still pass."", 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639148526, 'issue_id': 2818229147, 'author': 'hupo-odoo', 'body': 'Sorry I though I already approved the PR last week :neutral_face: \r\nThanks for the changes \r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:29:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195589.png)](https://mergebot.odoo.com/odoo/odoo/pull/195589)

hupo-odoo on (2025-01-30 14:54:03 UTC): Thank you for the fix! Your solution works well in most cases; however, in more complex scenarios where certain taxes precede others, it may not always produce the correct results.

A more robust approach would be to recompute values_per_grouping_key using a different aggregator function that simply returns True (but only for netAmount and totalAmount).

```python

def grouping_function_total_amount(base_line, tax_data):
    return True

base_lines_aggregated_values_total_amount = AccountTax._aggregate_base_lines_tax_details(base_lines, grouping_function_total_amount)
values_per_grouping_key_total_amount = AccountTax._aggregate_base_lines_aggregated_values(base_lines_aggregated_values_total_amount)
```

and in the dictionary update:
```python
'netAmount': self._l10n_eg_edi_round(sum(x['base_amount'] for x in values_per_grouping_key_total_amount.values())),
'totalAmount': self._l10n_eg_edi_round(sum(x['base_amount'] + x['tax_amount'] for x in values_per_grouping_key_total_amount.values())),
```

of course feel free to arrange code as you prefer to make it clear between the 2 grouping functions, and feel free to give better variable name than mine :smile:

LouisGobert (Issue Creator) on (2025-01-31 08:53:54 UTC): Hello,

Thank you for your feedback.

I applied the fix this way because it is stated in the official documentation:
“Net Amount: NetAmount = Sum of all invoicelines.NetTotal” and
“Total Amount: TotalAmount = sum of all Invoiceline.Total – Extra discount amount”
(see [official documentation](https://sdk.invoicing.eta.gov.eg/document-validation-rules/#validation-on-level-of-invoice)).
![image](https://github.com/user-attachments/assets/13984cd6-95da-4e46-8296-4c6df65ac331)

So, if the total in the invoice lines is correct, the invoice totals should also be correct.
Do you have an example where an issue arises due to taxes?

Thanks!

hupo-odoo on (2025-01-31 13:03:59 UTC): Finding an exact use case where your code isn't providing the exact solution is pretty hard, but the code I suggested is actually from the expert in taxes in our team, the person who designed the tax engine. Basically you could have an error with your code with rounding issue, for example all lines have a displayed rounding that you sum, but when summing them like you do now, you would could loose a cent in the precision. By using the aggregator, this won't be the case. I tested the aggregator solution and your changes in the tests still pass.

hupo-odoo on (2025-02-06 08:31:00 UTC): Sorry I though I already approved the PR last week :neutral_face: 
Thanks for the changes 
@robodoo r+

"
2818224041,pull_request,closed,,[FW][IMP] google_recaptcha: hide reCAPTCHA toggle once enabled,"The reCAPTCHA feature is currently controlled by the ""Module
Installation"" setting: `module_google_recaptcha`, which, due to
dependencies, caused the removal of many other modules when disabled.

The goal of this commit is to simply hide this option in stable to
prevent this misleading behaviour.

A user can still disable the reCAPTCHA checks by removing API keys
(Which was already mentioned on the setting block)

The feature behaviour will be updated in master to allow disabling
reCAPTCHA without uninstalling the modules.

task-3380702

Forward-Port-Of: odoo/odoo#194907",fw-bot,2025-01-29 13:27:00+00:00,[],2025-01-30 18:12:51+00:00,2025-01-30 18:12:51+00:00,https://github.com/odoo/odoo/pull/195588,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621652731, 'issue_id': 2818224041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195588.png)](https://mergebot.odoo.com/odoo/odoo/pull/195588)', 'created_at': datetime.datetime(2025, 1, 29, 13, 27, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621652767, 'issue_id': 2818224041, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 27, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624142884, 'issue_id': 2818224041, 'author': 'fw-bot', 'body': '@xO-Tx @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 30, 10, 48, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:27:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195588.png)](https://mergebot.odoo.com/odoo/odoo/pull/195588)

fw-bot (Issue Creator) on (2025-01-29 13:27:02 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 10:48:25 UTC): @xO-Tx @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2818223157,pull_request,closed,,[FW][FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195539",fw-bot,2025-01-29 13:26:40+00:00,[],2025-01-30 12:43:30+00:00,2025-01-30 12:43:30+00:00,https://github.com/odoo/odoo/pull/195587,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621652232, 'issue_id': 2818223157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195587.png)](https://mergebot.odoo.com/odoo/odoo/pull/195587)', 'created_at': datetime.datetime(2025, 1, 29, 13, 26, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621652251, 'issue_id': 2818223157, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo cherrypicking of pull request odoo/odoo#195539 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/backend/html_field.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/backend/html_field.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 26, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623974592, 'issue_id': 2818223157, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 35, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:26:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195587.png)](https://mergebot.odoo.com/odoo/odoo/pull/195587)

fw-bot (Issue Creator) on (2025-01-29 13:26:48 UTC): @walidsahli @dmo-odoo cherrypicking of pull request odoo/odoo#195539 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/backend/html_field.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/backend/html_field.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-30 09:35:34 UTC): @robodoo r+

"
2818192534,pull_request,closed,,[FW][16.0][IMP] iap: add outlook.jp to _MAIL_PROVIDERS,"@qrtl QT5121

Forward-Port-Of: odoo/odoo#193910",fw-bot,2025-01-29 13:15:17+00:00,[],2025-02-06 15:18:46+00:00,2025-02-06 15:18:46+00:00,https://github.com/odoo/odoo/pull/195586,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621627331, 'issue_id': 2818192534, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195586.png)](https://mergebot.odoo.com/odoo/odoo/pull/195586)', 'created_at': datetime.datetime(2025, 1, 29, 13, 15, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621627348, 'issue_id': 2818192534, 'author': 'fw-bot', 'body': '@AungKoKoLin1997 @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195126\n* odoo/odoo#195108\n* odoo/odoo#195091\n* odoo/odoo#195070\n* odoo/odoo#194143\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 15, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639605229, 'issue_id': 2818192534, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 11, 48, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:15:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195586.png)](https://mergebot.odoo.com/odoo/odoo/pull/195586)

fw-bot (Issue Creator) on (2025-01-29 13:15:19 UTC): @AungKoKoLin1997 @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195126
* odoo/odoo#195108
* odoo/odoo#195091
* odoo/odoo#195070
* odoo/odoo#194143

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-02-06 11:48:58 UTC): @robodoo r+

"
2818175026,pull_request,closed,,[FIX] website_sale_stock: avoid calculating free_qty,"Calculate free_qty only if allow_out_of_stock_order is False to check the stock.
",vchu-odoo,2025-01-29 13:08:47+00:00,[],2025-01-30 15:32:18+00:00,2025-01-30 15:32:12+00:00,https://github.com/odoo/odoo/pull/195585,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2621607711, 'issue_id': 2818175026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195585.png)](https://mergebot.odoo.com/odoo/odoo/pull/195585)', 'created_at': datetime.datetime(2025, 1, 29, 13, 8, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624016023, 'issue_id': 2818175026, 'author': 'robodoo', 'body': '@Feyensv draft PRs can not be approved.', 'created_at': datetime.datetime(2025, 1, 30, 9, 53, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624016382, 'issue_id': 2818175026, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:08:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195585.png)](https://mergebot.odoo.com/odoo/odoo/pull/195585)

robodoo on (2025-01-30 09:53:49 UTC): @Feyensv draft PRs can not be approved.

Feyensv on (2025-01-30 09:54:00 UTC): @robodoo r+

"
2818165380,pull_request,closed,,[FIX] purchase_stock: merge multi lingual POL created by the same RR 2,"### Steps to reproduce:

- In the settings: - Add a second language say FR + Change the language - Enable Multi-step routes
- Create a second warehouse: WH2 ressuplied from WH1
- Create a storable product with a different FR name and a set FR vendor and the buy route enabled
- Click on the ""Reordering Rules"" smart button of the product form
- Create a reordering rule for WH2/Stock using the ressuplied from WH1
- Add a quantity to reorder > ""Order Once""
- Open the associated purchase order in a second window.
- Repeat the operation of adding a quantity to reorder
#### > ""Order Once"" ** A new POL is created instead of being merged to the first one**

### Cause of the issue:

Using a multilingual setup such as above will end up with a `product_description_variants` equal to the product name in the appropriavte language. Since this description is the same as the prodcut name is is not added to the name the POL name at creation: https://github.com/odoo/odoo/blob/a848c3854c94b5c2b752edddbcf49337acf9d6ea/addons/purchase_stock/models/purchase_order_line.py#L314-L318 However, the `_find_candidate` pol method defined in order to find pol to updates rather than a new pol creation:
https://github.com/odoo/odoo/blob/a848c3854c94b5c2b752edddbcf49337acf9d6ea/addons/purchase_stock/models/stock_rule.py#L131-L139 compares the name of candidate lines is actually expecting that this description is always added to the name: https://github.com/odoo/odoo/blob/a848c3854c94b5c2b752edddbcf49337acf9d6ea/addons/purchase_stock/models/purchase_order_line.py#L341-L342 https://github.com/odoo/odoo/blob/a848c3854c94b5c2b752edddbcf49337acf9d6ea/addons/purchase_stock/models/purchase_order_line.py#L360-L364

opw-4397376
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-29 13:05:47+00:00,[],2025-02-04 20:41:09+00:00,2025-02-04 20:41:08+00:00,https://github.com/odoo/odoo/pull/195584,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621586230, 'issue_id': 2818165380, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195584.png)](https://mergebot.odoo.com/odoo/odoo/pull/195584)', 'created_at': datetime.datetime(2025, 1, 29, 13, 5, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621588488, 'issue_id': 2818165380, 'author': 'lase-odoo', 'body': 'followup on the forward port of th einitial PR: https://github.com/odoo/odoo/pull/195339\r\nrobodoo up to saas-17.2', 'created_at': datetime.datetime(2025, 1, 29, 13, 6, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621588661, 'issue_id': 2818165380, 'author': 'robodoo', 'body': ""@lase-odoo unknown command ','.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 29, 13, 6, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621599302, 'issue_id': 2818165380, 'author': 'lase-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 13, 7, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621600120, 'issue_id': 2818165380, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 13, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631026179, 'issue_id': 2818165380, 'author': 'ticodoo', 'body': '@robodoo delegate=lase-odoo', 'created_at': datetime.datetime(2025, 2, 3, 13, 35, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633761007, 'issue_id': 2818165380, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 28, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633761097, 'issue_id': 2818165380, 'author': 'robodoo', 'body': '@lase-odoo draft PRs can not be approved.', 'created_at': datetime.datetime(2025, 2, 4, 12, 28, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633761933, 'issue_id': 2818165380, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 28, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:05:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195584.png)](https://mergebot.odoo.com/odoo/odoo/pull/195584)

lase-odoo (Issue Creator) on (2025-01-29 13:06:41 UTC): followup on the forward port of th einitial PR: https://github.com/odoo/odoo/pull/195339
robodoo up to saas-17.2

robodoo on (2025-01-29 13:06:44 UTC): @lase-odoo unknown command ','.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

lase-odoo (Issue Creator) on (2025-01-29 13:07:57 UTC): robodoo fw=no

robodoo on (2025-01-29 13:08:00 UTC): Disabled forward-porting.

ticodoo on (2025-02-03 13:35:42 UTC): @robodoo delegate=lase-odoo

lase-odoo (Issue Creator) on (2025-02-04 12:28:29 UTC): robodoo r+

robodoo on (2025-02-04 12:28:33 UTC): @lase-odoo draft PRs can not be approved.

lase-odoo (Issue Creator) on (2025-02-04 12:28:51 UTC): robodoo r+

"
2818152045,pull_request,closed,,[FW][FIX] website_sale: show order ref on all checkout states,"Versions
--------
- 17.0+

Steps
-----
1. Enable Wire Transfer as a payment provider;
2. in eCommerce, add an item to cart;
3. go to checkout;
4. pay via wire transfer.

Issue
-----
The order reference isn't shown below the ""Thank you for your order"" message because the payment transaction hasn't been approved yet.

Solution
--------
Show the order reference regardless of transaction status.

opw-3844583

Forward-Port-Of: odoo/odoo#195228",fw-bot,2025-01-29 13:00:26+00:00,[],2025-01-29 16:40:59+00:00,2025-01-29 16:40:59+00:00,https://github.com/odoo/odoo/pull/195583,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621574802, 'issue_id': 2818152045, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195583.png)](https://mergebot.odoo.com/odoo/odoo/pull/195583)', 'created_at': datetime.datetime(2025, 1, 29, 13, 0, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621574832, 'issue_id': 2818152045, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 13, 0, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621844499, 'issue_id': 2818152045, 'author': 'fw-bot', 'body': ""@lvsz @AntoineVDV child PR odoo/odoo#195614 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 29, 14, 41, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 13:00:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195583.png)](https://mergebot.odoo.com/odoo/odoo/pull/195583)

fw-bot (Issue Creator) on (2025-01-29 13:00:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 14:41:27 UTC): @lvsz @AntoineVDV child PR odoo/odoo#195614 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2818142894,pull_request,closed,,[FIX] website_sale: show expected product image in cart overview,"Currently, product image for unsellable lines are not shown due to the
link encapsulation. It'll now show the image again.

opw-4338036
",Demesmaeker,2025-01-29 12:56:37+00:00,[],2025-01-31 12:12:28+00:00,2025-01-31 12:12:28+00:00,https://github.com/odoo/odoo/pull/195582,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('18.2', None)]","[{'comment_id': 2621566967, 'issue_id': 2818142894, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195582.png)](https://mergebot.odoo.com/odoo/odoo/pull/195582)', 'created_at': datetime.datetime(2025, 1, 29, 12, 56, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626741889, 'issue_id': 2818142894, 'author': 'Demesmaeker', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 26, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 12:56:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195582.png)](https://mergebot.odoo.com/odoo/odoo/pull/195582)

Demesmaeker (Issue Creator) on (2025-01-31 09:26:43 UTC): @robodoo r+

"
2818092830,pull_request,open,,[FIX] l10n_latam_invoice_document: Avoid recomputing latam document type,"At the moment, whenever the partner is changed on an invoice, the l10n_latam_document_type_id field is recomputed and re-set to the default value corresponding to the partner and invoice type.

We don't want this to happen if the existing l10n_latam_document_type_id is already compatible with the new partner.

opw-4168385",antoine162,2025-01-29 12:35:18+00:00,[],2025-01-29 17:13:33+00:00,,https://github.com/odoo/odoo/pull/195581,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621522568, 'issue_id': 2818092830, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195581.png)](https://mergebot.odoo.com/odoo/odoo/pull/195581)', 'created_at': datetime.datetime(2025, 1, 29, 12, 35, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 12:35:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195581.png)](https://mergebot.odoo.com/odoo/odoo/pull/195581)

"
2818078313,pull_request,closed,,[REF] *: use field service loadFields,The field service caches fields_get results. Here we replace some direct calls to fields_get via the orm by calls to the method loadFields of field service.,Polymorphe57,2025-01-29 12:28:51+00:00,[],2025-01-30 15:11:05+00:00,2025-01-30 15:11:05+00:00,https://github.com/odoo/odoo/pull/195580,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621509349, 'issue_id': 2818078313, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195580.png)](https://mergebot.odoo.com/odoo/odoo/pull/195580)', 'created_at': datetime.datetime(2025, 1, 29, 12, 28, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624764793, 'issue_id': 2818078313, 'author': 'Polymorphe57', 'body': 'Might be problematic if caches are not cleared correctly (especially in studio)', 'created_at': datetime.datetime(2025, 1, 30, 15, 10, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 12:28:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195580.png)](https://mergebot.odoo.com/odoo/odoo/pull/195580)

Polymorphe57 (Issue Creator) on (2025-01-30 15:10:52 UTC): Might be problematic if caches are not cleared correctly (especially in studio)

"
2817973256,pull_request,open,,[16.0][IMP] stock: improvements in replenishment wizard,"FWP from 17.0: https://github.com/odoo/odoo/commit/c3b7a87462cd41654d0e2bd3beb2f0e065ddfb75 + https://github.com/odoo/odoo/commit/ae7e503947479dab3785ef07b27235f34ad05567 + https://github.com/odoo/odoo/commit/48ad881636147ad0b1066f2733f5d0e7e1c681ca + https://github.com/odoo/odoo/commit/2cbfd87d493d53dc7c52816a590d9bd801bc9224 + https://github.com/odoo/odoo/commit/a35be7b0dd52a5a02b6811cb95ad3189483b7327 + https://github.com/odoo/odoo/commit/387cd9a8b0b93ef4b2dad6932326db20f3938412 + https://github.com/odoo/odoo/commit/fe9c1249d0734c19f8cd7f40baad37d6ff5187ad + https://github.com/odoo/odoo/commit/775a7ec52cece79a531606bebc5636b99c2c6cff

Example use case:
- Create a product that can be purchased with supplier data (Azure Interior + Delivery Lead Time: 90).
- Click on the Replenish button.
- Select the Buy route
- Select the supplier Azure Interior
- Click on the Confirm button.

Current behavior:
- The purchase order that has been generated has Order Deadline +90 days.
- The purchase order line has Expteced Arrival +90 days.

Expected Behavior:
- The purchase order that has been generated has the current date in Order Deadline.
- The purchase order line has Expteced Arrival +90 days.

Ping @pedrobaeza 

@Tecnativa TT54549

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",victoralmau,2025-01-29 11:42:24+00:00,[],2025-01-30 09:45:41+00:00,,https://github.com/odoo/odoo/pull/195579,[],"[{'comment_id': 2621413350, 'issue_id': 2817973256, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195579.png)](https://mergebot.odoo.com/odoo/odoo/pull/195579)', 'created_at': datetime.datetime(2025, 1, 29, 11, 42, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621724182, 'issue_id': 2817973256, 'author': 'pedrobaeza', 'body': ""Uhm, seems too many changes just for fixing the purchase order date. I suppose there's no other option, isn't it? @amoyaux would you accept this?"", 'created_at': datetime.datetime(2025, 1, 29, 13, 55, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 11:42:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195579.png)](https://mergebot.odoo.com/odoo/odoo/pull/195579)

pedrobaeza on (2025-01-29 13:55:38 UTC): Uhm, seems too many changes just for fixing the purchase order date. I suppose there's no other option, isn't it? @amoyaux would you accept this?

"
2817940279,pull_request,closed,,[FW][FIX] mrp: find all child MO,"Steps to reproduce the bug:
- Create a storable product “C1”:
     - MTO + Manufacture
     - BoM:
        - Component: 1 unit of C2
- Create a storable product “P1”
    - Component: 1 unit of C1

- Create a MO to produce one unit of P1:
    - Confirm
- A child MO with one unit of C1 is created
- Update the qty producing of P1 to 2
- A new MO to produce one unit of C1 is created

Problem:
The MO of P1 is linked only to the last MO of C1.
This occurs because the “created_production_id” field in the stock move of C1 (associated with the MO of P1) is updated to reference the most recent MO of C1. Additionally, since the following fix:
https://github.com/odoo/odoo/commit/c5b3f41fbd442def9e97acb023a00862e7d03eb3#diff-6d86bc8c3e9aa22586656b702849c5bbbb00c9b97ffd08bc0842e0e68f8948f9R74
Each new MO has its own procurement group.
As a result, when using the _get_children method:
- The method retrieves stock moves linked to the current procurement group.
- It uses their created_production_id to fetch the associated procurement group and then retrieves the related production_id.
However, since the two child MOs of C1 belong to different procurement groups, only the latest MO is returned.

opw-4450210

Forward-Port-Of: odoo/odoo#195412
Forward-Port-Of: odoo/odoo#192952",fw-bot,2025-01-29 11:28:15+00:00,[],2025-01-29 18:07:03+00:00,2025-01-29 18:07:03+00:00,https://github.com/odoo/odoo/pull/195578,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2621384135, 'issue_id': 2817940279, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195578.png)](https://mergebot.odoo.com/odoo/odoo/pull/195578)', 'created_at': datetime.datetime(2025, 1, 29, 11, 28, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621384154, 'issue_id': 2817940279, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#192952 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/mrp_production.py\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 11, 28, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622100840, 'issue_id': 2817940279, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 16, 19, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 11:28:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195578.png)](https://mergebot.odoo.com/odoo/odoo/pull/195578)

fw-bot (Issue Creator) on (2025-01-29 11:28:17 UTC): @DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#192952 failed.

stdout:
```
Auto-merging addons/mrp/models/mrp_production.py
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-01-29 16:19:14 UTC): robodoo r+

"
2817939620,pull_request,closed,,[FW][FIX] *: tours,"In this commit, we fix multiple tours on step that can cause non deterministic behaviors:

- show_expense_receipt_tour: Wait the chatter is loaded to prevent lost focus on the input targetted on the next step.
- discuss_channel_tour: use hover helper to concat three steps.
- website_gray_color_palette: use range hoot helper and wait ui loading appears before to wait it disappears... In the goal to change tour engine and base it on waitFor instead of MutationObserver, these additionnal steps are crucial.
- website_form_contactus_submit: wait livechat if module is installed.
- course_member: wait the modal is shown before click on element inside.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195463
Forward-Port-Of: odoo/odoo#195284",fw-bot,2025-01-29 11:27:55+00:00,[],2025-01-30 22:24:15+00:00,2025-01-30 22:24:15+00:00,https://github.com/odoo/odoo/pull/195577,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621383994, 'issue_id': 2817939620, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195577.png)](https://mergebot.odoo.com/odoo/odoo/pull/195577)', 'created_at': datetime.datetime(2025, 1, 29, 11, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621384016, 'issue_id': 2817939620, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 11, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621456120, 'issue_id': 2817939620, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 12, 3, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621459600, 'issue_id': 2817939620, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 12, 5, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624531607, 'issue_id': 2817939620, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 33, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 11:28:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195577.png)](https://mergebot.odoo.com/odoo/odoo/pull/195577)

fw-bot (Issue Creator) on (2025-01-29 11:28:12 UTC): @pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 12:03:37 UTC): @pipu-odoo @bastien-ipb ci/upgrade_enterprise failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-29 12:05:20 UTC): @pipu-odoo @bastien-ipb ci/runbot failed on this forward-port PR

pipu-odoo on (2025-01-30 13:33:45 UTC): @robodoo r+

"
2817930579,pull_request,closed,,[FW][FIX] hw_drivers: fix foot pedals,"Currently foot pedals often don't send their input to Odoo This is due to the fact that the foot pedals are detected as 1 usb device which is associated with 3 separate event files for its 3 different fonctionalities (a foot switch can work as a keyboard, a mouse and a joystick)
Our current code only detects input from one of these 3 event files (the last one in the list) while the input is actually only sent to the keyboard event file.

Since ""evdev"" and ""usb core"" libraries don't allow us to determine which evdev device is the right one this PR allows listening to all of the event files associated to a usb device to read input from all of them.

This PR also adds some comment to simplify the understanding of the input detection and event files structure on Linux.

Note: on IoT Box images > 25.01 the user ""odoo"" which runs Odoo service needs to be in the group ""input"" to be able to correctly detect evdev devices and have access to their event files.

task-4432802

Related PR:
#195307

Forward-Port-Of: odoo/odoo#195306",fw-bot,2025-01-29 11:23:22+00:00,[],2025-01-30 21:23:59+00:00,2025-01-30 21:23:58+00:00,https://github.com/odoo/odoo/pull/195576,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2621374903, 'issue_id': 2817930579, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195576.png)](https://mergebot.odoo.com/odoo/odoo/pull/195576)', 'created_at': datetime.datetime(2025, 1, 29, 11, 23, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621374935, 'issue_id': 2817930579, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 11, 23, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621462180, 'issue_id': 2817930579, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 12, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621469253, 'issue_id': 2817930579, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 12, 9, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 11:23:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195576.png)](https://mergebot.odoo.com/odoo/odoo/pull/195576)

fw-bot (Issue Creator) on (2025-01-29 11:23:25 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 12:06:32 UTC): @Ysoroko @qle-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-29 12:09:39 UTC): @Ysoroko @qle-odoo ci/upgrade_enterprise failed on this forward-port PR

"
2817893018,pull_request,closed,,[FW][FIX] stock: cancel move upstream,"Currently the different documents are responsible on the move's cancelation. E.g. cancel a SO will delete all the pickings with the same procurement group. Cancel a PO will cancel the receipt an all the moves destination.

But in inter company transaction or inter warehouse. The source document is a stock.move directly (or a rr but it's already unlink) Some users delete the receipt from another warehouse but the delivery on the other still exists. So it let pickings that are never cancel in other companies/warehouses.

This commit and an option to allow the cancel propagate upstream. It's hidden under the `stock.cancel_moves_origin` system parameter in order to avoid a huge behavior modification for other users.

opw-3274939

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195035
Forward-Port-Of: odoo/odoo#186730",fw-bot,2025-01-29 11:06:52+00:00,[],2025-01-30 15:43:08+00:00,2025-01-30 15:43:08+00:00,https://github.com/odoo/odoo/pull/195575,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2621335455, 'issue_id': 2817893018, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195575.png)](https://mergebot.odoo.com/odoo/odoo/pull/195575)', 'created_at': datetime.datetime(2025, 1, 29, 11, 7, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621335481, 'issue_id': 2817893018, 'author': 'fw-bot', 'body': '@amoyaux @Whenrow cherrypicking of pull request odoo/odoo#186730 failed.\n\n* b3b8fb8686e13b9f37790e7a3f88d474827d0090\n* e2d02c2f07729eabee413296baca6c6bbea70bb2 <- on this commit\n\nstdout:\n```\nAuto-merging addons/stock/models/stock_rule.py\nAuto-merging addons/stock/tests/test_multicompany.py\nCONFLICT (content): Merge conflict in addons/stock/tests/test_multicompany.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 11, 7, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624500232, 'issue_id': 2817893018, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 20, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 11:07:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195575.png)](https://mergebot.odoo.com/odoo/odoo/pull/195575)

fw-bot (Issue Creator) on (2025-01-29 11:07:04 UTC): @amoyaux @Whenrow cherrypicking of pull request odoo/odoo#186730 failed.

* b3b8fb8686e13b9f37790e7a3f88d474827d0090
* e2d02c2f07729eabee413296baca6c6bbea70bb2 <- on this commit

stdout:
```
Auto-merging addons/stock/models/stock_rule.py
Auto-merging addons/stock/tests/test_multicompany.py
CONFLICT (content): Merge conflict in addons/stock/tests/test_multicompany.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

amoyaux on (2025-01-30 13:20:22 UTC): robodoo r+

"
2817848163,pull_request,closed,,[FIX] web: throw if dynamicContent is missing a selector,"`dynamicContent` in Interactions (see [1]) expects selectors as keys, but had no safety mechanism to make sure there is a selector before the directive (t-...).

[1]: https://github.com/odoo/odoo/commit/12f04ee10f0ec38a3a750155ef7359631dcf4669",robinlej,2025-01-29 10:47:48+00:00,[],2025-01-30 22:24:20+00:00,2025-01-30 22:24:20+00:00,https://github.com/odoo/odoo/pull/195574,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2621290923, 'issue_id': 2817848163, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195574.png)](https://mergebot.odoo.com/odoo/odoo/pull/195574)', 'created_at': datetime.datetime(2025, 1, 29, 10, 47, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624499968, 'issue_id': 2817848163, 'author': 'bso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 20, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 10:47:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195574.png)](https://mergebot.odoo.com/odoo/odoo/pull/195574)

bso-odoo on (2025-01-30 13:20:14 UTC): @robodoo r+

"
2817845101,pull_request,closed,,[FIX] website_sale: constraint height on product page img,"In commit[1] we implemented improvement for the images on the product page which makes the single image fill the total width of the column.

While it was fitting most of cases, uploading an image with particular aspect ratio w/ a height significantly longer than the width will render a very long image, extending the page.

This fix constraints the height to a maximum of 75vh, avoiding extra long images.

Note: the fix is done in CSS to be stable friendly, in master the goal will be to implement a dropdown allowing precise aspect ratio for single images. This will require improvement on the way the carousel / grid render it's single image. This will likely be handled in the e-commerce redesign (task-4252024)
[1]: odoo/odoo@da76f10558ea240a5f1b539cd4ce3ed3fc6628ab

opw-4458614
task-4522225

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mano-odoo,2025-01-29 10:46:41+00:00,[],2025-02-05 07:14:27+00:00,2025-02-05 07:14:27+00:00,https://github.com/odoo/odoo/pull/195573,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621288533, 'issue_id': 2817845101, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195573.png)](https://mergebot.odoo.com/odoo/odoo/pull/195573)', 'created_at': datetime.datetime(2025, 1, 29, 10, 46, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 10:46:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195573.png)](https://mergebot.odoo.com/odoo/odoo/pull/195573)

"
2817826375,pull_request,closed,,[IMP] mail: remove tenor content filter options,"This commit removes the `tenor_content_filter` and `tenor_gif_limit` options from config parameters.

Task-4465463

Related: https://github.com/odoo/upgrade/pull/7137

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rapr-odoo,2025-01-29 10:39:05+00:00,[],2025-02-07 12:55:06+00:00,2025-02-06 18:08:28+00:00,https://github.com/odoo/odoo/pull/195572,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2621268962, 'issue_id': 2817826375, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195572.png)](https://mergebot.odoo.com/odoo/odoo/pull/195572)', 'created_at': datetime.datetime(2025, 1, 29, 10, 39, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627449703, 'issue_id': 2817826375, 'author': 'tde-banana-odoo', 'body': 'Side note: could be great to explain why you do the change, as the ""what"" is quite easily found reading the diff. External people don\'t have access to tasks, so they don\'t know why you are removing configuration parameters ^^ .', 'created_at': datetime.datetime(2025, 1, 31, 14, 12, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627676756, 'issue_id': 2817826375, 'author': 'alexkuhn', 'body': '> Side note: could be great to explain why you do the change, as the ""what"" is quite easily found reading the diff. External people don\'t have access to tasks, so they don\'t know why you are removing configuration parameters ^^ .\r\n\r\nDon\'t want Odoo users to be horny and share nude gifs.', 'created_at': datetime.datetime(2025, 1, 31, 15, 55, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 10:39:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195572.png)](https://mergebot.odoo.com/odoo/odoo/pull/195572)

tde-banana-odoo on (2025-01-31 14:12:01 UTC): Side note: could be great to explain why you do the change, as the ""what"" is quite easily found reading the diff. External people don't have access to tasks, so they don't know why you are removing configuration parameters ^^ .

alexkuhn on (2025-01-31 15:55:01 UTC): Don't want Odoo users to be horny and share nude gifs.

"
2817822777,pull_request,open,,[16.0] [FIX] l10n_es_edi_sii: sudo to access ir.model.data,"Description of the issue/feature this PR addresses:

l10n_es_edi_sii: sudo to access ir.model.data

Current behavior before PR:

If user does not have Administration/Access Rights permission, an error is raised when calling to _has_oss_taxes method

Desired behavior after PR is merged:

No error of permission is raised.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",uolaizola,2025-01-29 10:37:23+00:00,[],2025-02-04 14:38:59+00:00,,https://github.com/odoo/odoo/pull/195571,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2621265378, 'issue_id': 2817822777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195571.png)](https://mergebot.odoo.com/odoo/odoo/pull/195571)', 'created_at': datetime.datetime(2025, 1, 29, 10, 37, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630447376, 'issue_id': 2817822777, 'author': 'lordkrandel', 'body': ""LGTM, but I'll let the proper team handle."", 'created_at': datetime.datetime(2025, 2, 3, 9, 47, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634174908, 'issue_id': 2817822777, 'author': 'robodoo', 'body': '@uolaizola @rugo-odoo unable to stage: commit 16ee4976266bdeb2addefced8c11d6ca19507087 results in an empty tree when merged, it is likely a duplicate of a merged commit, rebase and remove.', 'created_at': datetime.datetime(2025, 2, 4, 14, 38, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 10:37:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195571.png)](https://mergebot.odoo.com/odoo/odoo/pull/195571)

lordkrandel on (2025-02-03 09:47:14 UTC): LGTM, but I'll let the proper team handle.

robodoo on (2025-02-04 14:38:57 UTC): @uolaizola @rugo-odoo unable to stage: commit 16ee4976266bdeb2addefced8c11d6ca19507087 results in an empty tree when merged, it is likely a duplicate of a merged commit, rebase and remove.

"
2817778186,pull_request,closed,,[FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-29 10:16:51+00:00,[],2025-02-03 16:17:54+00:00,2025-02-03 16:17:54+00:00,https://github.com/odoo/odoo/pull/195569,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621222582, 'issue_id': 2817778186, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195569.png)](https://mergebot.odoo.com/odoo/odoo/pull/195569)', 'created_at': datetime.datetime(2025, 1, 29, 10, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630996734, 'issue_id': 2817778186, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 23, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 10:16:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195569.png)](https://mergebot.odoo.com/odoo/odoo/pull/195569)

dmo-odoo on (2025-02-03 13:23:10 UTC): @robodoo r+

"
2817736456,pull_request,open,,Master ref interactions wmm romo,,romo-odoo,2025-01-29 09:59:56+00:00,[],2025-01-29 14:03:21+00:00,,https://github.com/odoo/odoo/pull/195567,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621178516, 'issue_id': 2817736456, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195567.png)](https://mergebot.odoo.com/odoo/odoo/pull/195567)', 'created_at': datetime.datetime(2025, 1, 29, 9, 59, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:59:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195567.png)](https://mergebot.odoo.com/odoo/odoo/pull/195567)

"
2817735758,pull_request,closed,,[FIX] mail: non-accessible member's shouldn't displayed on ctrl+k by guest,"**Current behavior before PR:**

when we are in public channel by guest and hit ctrl+k then click on partners which are not accessible by guest it shows access error.

**Desired behavior after PR is merged:**

now we are not displaying partners which removes the access error.

task-4518228

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-01-29 09:59:37+00:00,[],2025-02-06 18:26:17+00:00,2025-02-06 18:26:17+00:00,https://github.com/odoo/odoo/pull/195566,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621177828, 'issue_id': 2817735758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195566.png)](https://mergebot.odoo.com/odoo/odoo/pull/195566)', 'created_at': datetime.datetime(2025, 1, 29, 9, 59, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637245156, 'issue_id': 2817735758, 'author': 'jayp-odoo', 'body': '@seb-odoo code has been updated please have look thanks :)', 'created_at': datetime.datetime(2025, 2, 5, 15, 28, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:59:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195566.png)](https://mergebot.odoo.com/odoo/odoo/pull/195566)

jayp-odoo (Issue Creator) on (2025-02-05 15:28:06 UTC): @seb-odoo code has been updated please have look thanks :)

"
2817722930,pull_request,open,,[FIX] hr_timesheet: prevent keyerror when company is unarchived,"Currently a `KeyError` appears when the user unarchives the company.

Error: `Keyerror: 2`

Steps to reproduce above error :-
- Install `hr_timesheet` module.
- Settings > Users & Companies > Companies. create a company.
- Archive the company, now Unarchive the company.
- The error appears in the log.

The error occurs because on urachiving the company, the new company was not found.

This commit fixes the error, if company does not exist, it still returns an empty dictionary.

sentry-6251348500",ayve-odoo,2025-01-29 09:54:14+00:00,[],2025-01-29 10:00:13+00:00,,https://github.com/odoo/odoo/pull/195565,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621165619, 'issue_id': 2817722930, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195565.png)](https://mergebot.odoo.com/odoo/odoo/pull/195565)', 'created_at': datetime.datetime(2025, 1, 29, 9, 54, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:54:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195565.png)](https://mergebot.odoo.com/odoo/odoo/pull/195565)

"
2817716614,pull_request,closed,,[FW][FIX] mrp: bypass set_qty_producing on lot creation for MO,"### Steps to reproduce:

- Create a product tracked by LOT (not SN)
- Create a BOM for that product and a BOM line with a tracked product
- Put a an SN for your component in STOCK.
- Create an MO for 1 unit of your product and confirm.
> The SN should be set on your component line.
- Set an LOT on the finished product with the create option but without clicking on the [+]
#### > The quantity of the component line was updated to 0 and the SN of the comp was removed.

### Cause of the issue:

Changing the lot on the MO form will trigger the `_onchange_producing` which will in turn `_set_qty_producing`:
https://github.com/odoo/odoo/blob/83445d91a588958417fef8a04d1187974d4b3d9a/addons/mrp/models/mrp_production.py#L797-L799 In case the product is tracked by SN this `_set_qty_producing` will set a qty_producing of 1 and the move raws will reserve a quantity accordingly but if the product is tracked by lot or not tracked at all the quantities of the move raw will just be adapted to match the `qty_producing` (that was at 0 from the start):
https://github.com/odoo/odoo/blob/83445d91a588958417fef8a04d1187974d4b3d9a/addons/mrp/models/mrp_production.py#L1217-L1227

opw-4418809
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194956
Forward-Port-Of: odoo/odoo#192932",fw-bot,2025-01-29 09:51:20+00:00,[],2025-01-30 10:26:27+00:00,2025-01-30 10:26:27+00:00,https://github.com/odoo/odoo/pull/195564,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621159627, 'issue_id': 2817716614, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195564.png)](https://mergebot.odoo.com/odoo/odoo/pull/195564)', 'created_at': datetime.datetime(2025, 1, 29, 9, 51, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621159649, 'issue_id': 2817716614, 'author': 'fw-bot', 'body': '@lase-odoo @svs-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195547\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 9, 51, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354369, 'issue_id': 2817716614, 'author': 'fw-bot', 'body': '@lase-odoo @svs-odoo this forward port of odoo/odoo#192932 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623791755, 'issue_id': 2817716614, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 4, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:51:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195564.png)](https://mergebot.odoo.com/odoo/odoo/pull/195564)

fw-bot (Issue Creator) on (2025-01-29 09:51:22 UTC): @lase-odoo @svs-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195547

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 02:02:02 UTC): @lase-odoo @svs-odoo this forward port of odoo/odoo#192932 is awaiting action (not merged or closed).

lase-odoo on (2025-01-30 08:04:08 UTC): robodoo r+

"
2817716178,pull_request,open,,[FIX] point_of_sale: prevent archiving products in use during an open session,"Before this commit:
====================
Archiving a product that is part of draft orderlines in an open session caused an error in the Indian localization. Specifically, the system threw a ""l10n_in_hsn_code"" error when attempting to reopen the session, as the archived product was no longer accessible.

After this commit:
====================
A user-friendly error message is displayed to notify the user about the archiving products when the session is open and products are in use, ensuring data consistency and preventing errors when reopening sessions.

Task-4518025


",jipr-odoo,2025-01-29 09:51:08+00:00,[],2025-01-30 07:15:06+00:00,,https://github.com/odoo/odoo/pull/195563,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621159257, 'issue_id': 2817716178, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195563.png)](https://mergebot.odoo.com/odoo/odoo/pull/195563)', 'created_at': datetime.datetime(2025, 1, 29, 9, 51, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:51:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195563.png)](https://mergebot.odoo.com/odoo/odoo/pull/195563)

"
2817709418,pull_request,closed,,[FW][FIX] project_purchase: include negative bills in project profitability,"### Issue:

- The negative values in Vendor Bills are not being reflected in the Analytic Account linked to a project.
- the negative value does not reduce the project’s total cost in the Analytic Report cost calculations.

### Steps to reproduce:

1- Create a project and set an analytic account or use the ""Renovations"" project.
2- Create a vendor bill.
3- On the VB add two lines one with a positive Price and the other with a negative Price.
4- on `Analytic` of each line set the project to `Renovations` or the project you created.
5- Validate the vendor bill.
6- Go to the project app and click on the 3 dots of the project you choose and click on `Project Updates`.
7- Notice the total cost of the project is not reflecting the negative value of the vendor bill.

### Solution:

- The issue is caused by the condition ('price_subtotal', '>', 0) in the query for account.move.line.
- Removing this condition ensures both positive and negative price_subtotal values are included.

opw-[4416931](https://www.odoo.com/web#id=4416931&view_type=form&model=project.task)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195071
Forward-Port-Of: odoo/odoo#194300",fw-bot,2025-01-29 09:48:14+00:00,[],2025-01-29 13:49:26+00:00,2025-01-29 13:49:25+00:00,https://github.com/odoo/odoo/pull/195562,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2621153185, 'issue_id': 2817709418, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195562.png)](https://mergebot.odoo.com/odoo/odoo/pull/195562)', 'created_at': datetime.datetime(2025, 1, 29, 9, 48, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621153207, 'issue_id': 2817709418, 'author': 'fw-bot', 'body': '@kawkb @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195546\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 9, 48, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621191139, 'issue_id': 2817709418, 'author': 'kawkb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 5, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:48:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195562.png)](https://mergebot.odoo.com/odoo/odoo/pull/195562)

fw-bot (Issue Creator) on (2025-01-29 09:48:16 UTC): @kawkb @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195546

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kawkb on (2025-01-29 10:05:24 UTC): @robodoo r+

"
2817672400,pull_request,closed,,[FIX] l10n_es_edi_tbai fix total_amount calculation in TBAI xml.,"Steps to reproduce:
-------------------
- In a Spanish company, make sure l10n_es_edi_tbai is installed.
- Create an invoice with one product and add 2 taxes for that line (for example, the 21% goods and the 5.2 ES tax).
- Confirm and send the invoice with TBAI.
- In the TBAI xml you will find the total amount wrong as the base amount was calculated twice, one time for each tax.

Cause:
-----
Since (#180062), the tax details calculation process was reworked.
the total amount is calculated inside a loop with this formula
```
for values in values_per_grouping_key.values():
	total_amount += values['base_amount'] + values['tax_amount']
```
In case one invoice line has 2 taxes of different tax groups, this code will add the base_amount twice in the total_amount calculation.

Fix
---
Move the base amount addition in a separate loop with a new aggregation (with no grouping) to add the base amount to the total.

opw-4501051

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",m-gad1,2025-01-29 09:30:47+00:00,[],2025-02-06 12:17:27+00:00,2025-02-06 12:17:27+00:00,https://github.com/odoo/odoo/pull/195561,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621116115, 'issue_id': 2817672400, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195561.png)](https://mergebot.odoo.com/odoo/odoo/pull/195561)', 'created_at': datetime.datetime(2025, 1, 29, 9, 30, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638882263, 'issue_id': 2817672400, 'author': 'robodoo', 'body': '@m-gad1 @smetl staging failed: ci/runbot on 5e45432cd4e114bfb80925646c25f0dad40c4328 (view more at https://runbot.odoo.com/runbot/build/74576538)', 'created_at': datetime.datetime(2025, 2, 6, 5, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639415401, 'issue_id': 2817672400, 'author': 'm-gad1', 'body': 'robodoo help', 'created_at': datetime.datetime(2025, 2, 6, 10, 24, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639415517, 'issue_id': 2817672400, 'author': 'robodoo', 'body': 'Currently available commands for @m-gad1:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|\n|`retry`|re-tries staging a PR in the ""error"" state|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR.', 'created_at': datetime.datetime(2025, 2, 6, 10, 24, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639439483, 'issue_id': 2817672400, 'author': 'm-gad1', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 6, 10, 36, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:30:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195561.png)](https://mergebot.odoo.com/odoo/odoo/pull/195561)

robodoo on (2025-02-06 05:38:00 UTC): @m-gad1 @smetl staging failed: ci/runbot on 5e45432cd4e114bfb80925646c25f0dad40c4328 (view more at https://runbot.odoo.com/runbot/build/74576538)

m-gad1 (Issue Creator) on (2025-02-06 10:24:50 UTC): robodoo help

robodoo on (2025-02-06 10:24:52 UTC): Currently available commands for @m-gad1:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|
|`retry`|re-tries staging a PR in the ""error"" state|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

m-gad1 (Issue Creator) on (2025-02-06 10:36:04 UTC): robodoo retry

"
2817668872,pull_request,closed,,[IMP] adding ellipsis on menu items that triggers a popup,"



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",fpodoo,2025-01-29 09:29:15+00:00,[],2025-01-31 10:54:59+00:00,2025-01-31 10:54:59+00:00,https://github.com/odoo/odoo/pull/195560,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2621112971, 'issue_id': 2817668872, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195560.png)](https://mergebot.odoo.com/odoo/odoo/pull/195560)', 'created_at': datetime.datetime(2025, 1, 29, 9, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621114679, 'issue_id': 2817668872, 'author': 'fpodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 30, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621121365, 'issue_id': 2817668872, 'author': 'robodoo', 'body': ""@fpodoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 9, 33, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621126352, 'issue_id': 2817668872, 'author': 'robodoo', 'body': ""@fpodoo 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 9, 35, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626726812, 'issue_id': 2817668872, 'author': 'fpodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 18, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:29:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195560.png)](https://mergebot.odoo.com/odoo/odoo/pull/195560)

fpodoo (Issue Creator) on (2025-01-29 09:30:08 UTC): @robodoo r+

robodoo on (2025-01-29 09:33:26 UTC): @fpodoo 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-01-29 09:35:44 UTC): @fpodoo 'ci/upgrade_enterprise' failed on this reviewed PR.

fpodoo (Issue Creator) on (2025-01-31 09:18:38 UTC): @robodoo r+

"
2817661904,pull_request,open,,[IMP] calendar: add time dot indicator,"This commit adds a time dot indicator in the ""today"" col.

It also aligns the color of the ""today"" date indicator and the time indicator.

It also removes the fullCalendar default time arrow that is not useful anymore.

task-3919248

| Before | After |
|--------|--------|
| <img width=""278"" alt=""Screenshot 2025-01-29 at 10 24 59"" src=""https://github.com/user-attachments/assets/03c92fc6-4cae-4144-ba45-8ee7ddb56dd2"" /> | <img width=""295"" alt=""Screenshot 2025-01-29 at 10 24 24"" src=""https://github.com/user-attachments/assets/8e0dd5e1-de1e-4c03-bdf8-d61478ce99b8"" /> | 
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",anso-odoo,2025-01-29 09:25:55+00:00,[],2025-02-05 13:53:32+00:00,,https://github.com/odoo/odoo/pull/195559,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621106020, 'issue_id': 2817661904, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195559.png)](https://mergebot.odoo.com/odoo/odoo/pull/195559)', 'created_at': datetime.datetime(2025, 1, 29, 9, 25, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:25:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195559.png)](https://mergebot.odoo.com/odoo/odoo/pull/195559)

"
2817660864,pull_request,closed,,[FW][FIX] point_of_sale: cash rounding when payment exceeds the order total,"Check the commit message for description.

Forward-Port-Of: odoo/odoo#195490
Forward-Port-Of: odoo/odoo#195089",fw-bot,2025-01-29 09:25:26+00:00,[],2025-01-29 15:21:17+00:00,2025-01-29 15:21:17+00:00,https://github.com/odoo/odoo/pull/195558,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2621105059, 'issue_id': 2817660864, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195558.png)](https://mergebot.odoo.com/odoo/odoo/pull/195558)', 'created_at': datetime.datetime(2025, 1, 29, 9, 25, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621105076, 'issue_id': 2817660864, 'author': 'fw-bot', 'body': '@caburj @davidmonnom cherrypicking of pull request odoo/odoo#195089 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/point_of_sale/static/src/utils.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/utils.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 9, 25, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621586061, 'issue_id': 2817660864, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 13, 5, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:25:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195558.png)](https://mergebot.odoo.com/odoo/odoo/pull/195558)

fw-bot (Issue Creator) on (2025-01-29 09:25:32 UTC): @caburj @davidmonnom cherrypicking of pull request odoo/odoo#195089 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/point_of_sale/static/src/utils.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/utils.js
Auto-merging addons/point_of_sale/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

caburj on (2025-01-29 13:05:46 UTC): robodoo r+

"
2817659553,pull_request,open,,[IMP] spreadsheet_dashboard: add tooltip to clickable cells,"In dashboard mode, you can click on some cells (list formulas, pivot formulas) and they have different effects: open the form view, or open the list view of records, or use the value as filter. But it's virtually impossible to know what it's gonna do before clicking.

This task adds the possibility to add tooltips when hovering a clickable cell to hint what it's gonna do

Task: 4526010



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-29 09:24:47+00:00,[],2025-01-29 10:00:22+00:00,,https://github.com/odoo/odoo/pull/195557,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621103653, 'issue_id': 2817659553, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195557.png)](https://mergebot.odoo.com/odoo/odoo/pull/195557)', 'created_at': datetime.datetime(2025, 1, 29, 9, 24, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:24:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195557.png)](https://mergebot.odoo.com/odoo/odoo/pull/195557)

"
2817643635,pull_request,open,,[IMP] hr_hourly_cost: change hourly_cost precision,"- As LU law state a 4 digit hourly wage, the `hourly_cost` must be modified into float and
have a decimal accurecy to able to adapt
to anyother regulations

Task: 3382221


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-29 09:18:06+00:00,[],2025-02-05 08:17:13+00:00,,https://github.com/odoo/odoo/pull/195556,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621086237, 'issue_id': 2817643635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195556.png)](https://mergebot.odoo.com/odoo/odoo/pull/195556)', 'created_at': datetime.datetime(2025, 1, 29, 9, 18, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:18:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195556.png)](https://mergebot.odoo.com/odoo/odoo/pull/195556)

"
2817634659,pull_request,closed,,[FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390
",alsh-odoo,2025-01-29 09:13:54+00:00,[],2025-01-30 10:27:17+00:00,2025-01-30 10:27:17+00:00,https://github.com/odoo/odoo/pull/195555,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621074716, 'issue_id': 2817634659, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195555.png)](https://mergebot.odoo.com/odoo/odoo/pull/195555)', 'created_at': datetime.datetime(2025, 1, 29, 9, 13, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621187275, 'issue_id': 2817634659, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease look at this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 1, 29, 10, 3, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621232770, 'issue_id': 2817634659, 'author': 'adwid', 'body': 'robodoo delegate=@ethanrobv', 'created_at': datetime.datetime(2025, 1, 29, 10, 21, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623911950, 'issue_id': 2817634659, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 9, 7, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:13:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195555.png)](https://mergebot.odoo.com/odoo/odoo/pull/195555)

alsh-odoo (Issue Creator) on (2025-01-29 10:03:43 UTC): Ola @odoo/sentry_reviewers :wave: 

Please look at this PR

Thank You :slightly_smiling_face:

adwid on (2025-01-29 10:21:57 UTC): robodoo delegate=@ethanrobv

ethanrobv on (2025-01-30 09:07:47 UTC): @robodoo r+

"
2817626667,pull_request,closed,,[FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945",bvr-odoo,2025-01-29 09:09:54+00:00,[],2025-02-03 10:00:15+00:00,2025-01-30 12:41:48+00:00,https://github.com/odoo/odoo/pull/195554,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621066293, 'issue_id': 2817626667, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195554.png)](https://mergebot.odoo.com/odoo/odoo/pull/195554)', 'created_at': datetime.datetime(2025, 1, 29, 9, 9, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:09:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195554.png)](https://mergebot.odoo.com/odoo/odoo/pull/195554)

"
2817621515,pull_request,open,,[FIX] point_of_sale: fix CustomerDisplayPosAdapter bad var reference,"Steps to reproduce:
- Set the customer display feature on ""another device"" in the settings
- Open the POS and add products

Reason:
The refactor in 59700feb8fb6e4ca993ffdd1eef6951b9203ca06 badly kept referencing `pos` as a class field instead of a function parameter.

opw-4508838",hadielyakhni,2025-01-29 09:07:16+00:00,[],2025-01-29 13:13:32+00:00,,https://github.com/odoo/odoo/pull/195553,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2621057212, 'issue_id': 2817621515, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195553.png)](https://mergebot.odoo.com/odoo/odoo/pull/195553)', 'created_at': datetime.datetime(2025, 1, 29, 9, 7, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621486955, 'issue_id': 2817621515, 'author': 'sbel-odoo', 'body': 'Good for me :+1:', 'created_at': datetime.datetime(2025, 1, 29, 12, 18, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 09:07:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195553.png)](https://mergebot.odoo.com/odoo/odoo/pull/195553)

sbel-odoo on (2025-01-29 12:18:09 UTC): Good for me :+1:

"
2817602704,pull_request,closed,,[REF] spreadsheet*: test util createModelWithDataSource now returns env,"With this commit, the `env` is now returned by `createModelWithDataSource` in addition to the `model`.
It avoids to have to get the `env` from `model.config.custom.env`.

Task: 4525938

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pro-odoo,2025-01-29 08:58:32+00:00,[],2025-01-30 09:03:31+00:00,2025-01-30 09:03:31+00:00,https://github.com/odoo/odoo/pull/195552,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2621037305, 'issue_id': 2817602704, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195552.png)](https://mergebot.odoo.com/odoo/odoo/pull/195552)', 'created_at': datetime.datetime(2025, 1, 29, 8, 58, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621674576, 'issue_id': 2817602704, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 13, 36, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622179105, 'issue_id': 2817602704, 'author': 'robodoo', 'body': '@pro-odoo @rrahir unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 29, 16, 49, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623598364, 'issue_id': 2817602704, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 6, 9, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:58:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195552.png)](https://mergebot.odoo.com/odoo/odoo/pull/195552)

rrahir on (2025-01-29 13:36:59 UTC): @robodoo r+

robodoo on (2025-01-29 16:49:16 UTC): @pro-odoo @rrahir unable to stage: merge conflict

pro-odoo (Issue Creator) on (2025-01-30 06:09:16 UTC): robodoo r+

"
2817601134,pull_request,closed,,[FIX] account: prevent syntax error on receivable  and payable account type,"This error occurs when the user tries to create a new vendor bill
with a `Chart of Account` having type as `receivable` or `payable`
`when Allow Reconciliation` enabled.

Steps to reproduce:

- Install the `accountant` module.
- Create a new vendor bill record from accounting/vendor
- Create a new journal item with the type of `asset_receivable` or 
 `liability_payable`.
- Check that `Allow Reconciliation` must be enabled.
---
Error:
`SyntaxError:  WHERE part.debit_move_id IN ()`

This error occurs because code refactors with commit [1] allow compute to 
reconcile the bank account in a draft move but since the move/line is not saved
it returns as virtual_id and it causes an error.

This commit will fix the above issue by checking whether the reconciled contains
ids or not, if it does not contain an ids it returns an empty dictionary.

[1] - https://github.com/odoo/odoo/commit/52903687e136bd3327409aedbda568b60b3428c3

Sentry - 6250883109",shka-odoo,2025-01-29 08:57:43+00:00,[],2025-02-07 12:38:59+00:00,2025-02-07 12:38:59+00:00,https://github.com/odoo/odoo/pull/195551,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621035539, 'issue_id': 2817601134, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195551.png)](https://mergebot.odoo.com/odoo/odoo/pull/195551)', 'created_at': datetime.datetime(2025, 1, 29, 8, 57, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627175195, 'issue_id': 2817601134, 'author': 'shka-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\n\r\nPlease review this PR\r\n\r\nThanks', 'created_at': datetime.datetime(2025, 1, 31, 12, 36, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630694018, 'issue_id': 2817601134, 'author': 'shka-odoo', 'body': 'Hello @malb-odoo \r\n\r\nI have written a test case. Could you please review it?\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 2, 3, 11, 34, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:57:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195551.png)](https://mergebot.odoo.com/odoo/odoo/pull/195551)

shka-odoo (Issue Creator) on (2025-01-31 12:36:41 UTC): Hello @odoo/sentry_reviewers 

Please review this PR

Thanks

shka-odoo (Issue Creator) on (2025-02-03 11:34:18 UTC): Hello @malb-odoo 

I have written a test case. Could you please review it?

Thanks!

"
2817589976,pull_request,open,,Master profile xdo wbr,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Williambraecky,2025-01-29 08:51:55+00:00,[],2025-02-03 14:45:14+00:00,,https://github.com/odoo/odoo/pull/195550,"[('RD', 'research & development, internal work')]","[{'comment_id': 2621024401, 'issue_id': 2817589976, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195550.png)](https://mergebot.odoo.com/odoo/odoo/pull/195550)', 'created_at': datetime.datetime(2025, 1, 29, 8, 51, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:51:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195550.png)](https://mergebot.odoo.com/odoo/odoo/pull/195550)

"
2817567164,pull_request,open,,[FIX] website: prevent facebook snippet user input,"Steps to Reproduce:
-> Drag and Drop the Facebook Snippet.  
-> Click on the snippet.  
-> Enter any random text.
-> The snippet's content is editable.

Solution:
By adding the `o_not_editable` class to the Facebook Snippet, it prevent
user's input from affecting the snippet.

This PR ensures that the Facebook Snippet does not accept any
user input.",ksbh-odoo,2025-01-29 08:40:06+00:00,[],2025-02-07 13:42:55+00:00,,https://github.com/odoo/odoo/pull/195549,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620998782, 'issue_id': 2817567164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195549.png)](https://mergebot.odoo.com/odoo/odoo/pull/195549)', 'created_at': datetime.datetime(2025, 1, 29, 8, 40, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:40:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195549.png)](https://mergebot.odoo.com/odoo/odoo/pull/195549)

"
2817559326,pull_request,closed,,"[FW][IMP] l10n_sa, l10n_sa_edi: Improved Report Spacing","Description of the issue/feature this PR addresses:
Task ID: 4342267

Current behavior before PR:
-Error When printing draft invoice due to unset invoice_date.

-Report spacing between header & body in second page overlaps due to paperformat spacing.
Due to the long address format of saudi arabia, the default paperformat header spacing and margin top are not enough to show the full address without overlapping the second and onward pages.

-English labels on the exchange rate table in l10n_sa_edi are translated and not shown together with the arabic labels.

-Remove unnecessary spans in xpaths

Desired behavior after PR is merged:
-Fix printing draft invoice with invoice_date as today's date

-Fix report spacing header by adding a new A4 paperformat for l10n_sa which is set as the saudi arabia companies default paper format.

-Fix exchange rate table to show both arabic and english labels and remove unnecessary translations (no longer used)

-Remove unnecessary spans in xpath.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195226
Forward-Port-Of: odoo/odoo#190172",fw-bot,2025-01-29 08:35:27+00:00,[],2025-02-03 10:00:38+00:00,2025-02-03 10:00:31+00:00,https://github.com/odoo/odoo/pull/195548,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620990556, 'issue_id': 2817559326, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195548.png)](https://mergebot.odoo.com/odoo/odoo/pull/195548)', 'created_at': datetime.datetime(2025, 1, 29, 8, 35, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620990574, 'issue_id': 2817559326, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195537\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 8, 35, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621626220, 'issue_id': 2817559326, 'author': 'ygu-odoo', 'body': '@alny-odoo paper format to be removed here', 'created_at': datetime.datetime(2025, 1, 29, 13, 14, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626735816, 'issue_id': 2817559326, 'author': 'ygu-odoo', 'body': '> @alny-odoo paper format to be removed here\r\n\r\nWe can let it be as it improves the output in terms of spacing. We might consider it removing it later', 'created_at': datetime.datetime(2025, 1, 31, 9, 23, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202040, 'issue_id': 2817559326, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630152653, 'issue_id': 2817559326, 'author': 'alny-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 19, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:35:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195548.png)](https://mergebot.odoo.com/odoo/odoo/pull/195548)

fw-bot (Issue Creator) on (2025-01-29 08:35:29 UTC): @alny-odoo @gawa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195537

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ygu-odoo on (2025-01-29 13:14:47 UTC): @alny-odoo paper format to be removed here

ygu-odoo on (2025-01-31 09:23:31 UTC): We can let it be as it improves the output in terms of spacing. We might consider it removing it later

fw-bot (Issue Creator) on (2025-02-02 02:02:00 UTC): @alny-odoo @gawa-odoo this forward port of odoo/odoo#190172 is awaiting action (not merged or closed).

alny-odoo on (2025-02-03 07:19:20 UTC): @robodoo r+

"
2817550029,pull_request,closed,,[FW][FIX] mrp: bypass set_qty_producing on lot creation for MO,"### Steps to reproduce:

- Create a product tracked by LOT (not SN)
- Create a BOM for that product and a BOM line with a tracked product
- Put a an SN for your component in STOCK.
- Create an MO for 1 unit of your product and confirm.
> The SN should be set on your component line.
- Set an LOT on the finished product with the create option but without clicking on the [+]
#### > The quantity of the component line was updated to 0 and the SN of the comp was removed.

### Cause of the issue:

Changing the lot on the MO form will trigger the `_onchange_producing` which will in turn `_set_qty_producing`:
https://github.com/odoo/odoo/blob/83445d91a588958417fef8a04d1187974d4b3d9a/addons/mrp/models/mrp_production.py#L797-L799 In case the product is tracked by SN this `_set_qty_producing` will set a qty_producing of 1 and the move raws will reserve a quantity accordingly but if the product is tracked by lot or not tracked at all the quantities of the move raw will just be adapted to match the `qty_producing` (that was at 0 from the start):
https://github.com/odoo/odoo/blob/83445d91a588958417fef8a04d1187974d4b3d9a/addons/mrp/models/mrp_production.py#L1217-L1227

opw-4418809
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194956
Forward-Port-Of: odoo/odoo#192932",fw-bot,2025-01-29 08:30:16+00:00,[],2025-01-30 16:09:57+00:00,2025-01-30 16:09:57+00:00,https://github.com/odoo/odoo/pull/195547,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620981071, 'issue_id': 2817550029, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195547.png)](https://mergebot.odoo.com/odoo/odoo/pull/195547)', 'created_at': datetime.datetime(2025, 1, 29, 8, 30, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620981089, 'issue_id': 2817550029, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 8, 30, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:30:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195547.png)](https://mergebot.odoo.com/odoo/odoo/pull/195547)

fw-bot (Issue Creator) on (2025-01-29 08:30:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2817549440,pull_request,closed,,[FW][FIX] project_purchase: include negative bills in project profitability,"### Issue:

- The negative values in Vendor Bills are not being reflected in the Analytic Account linked to a project.
- the negative value does not reduce the project’s total cost in the Analytic Report cost calculations.

### Steps to reproduce:

1- Create a project and set an analytic account or use the ""Renovations"" project.
2- Create a vendor bill.
3- On the VB add two lines one with a positive Price and the other with a negative Price.
4- on `Analytic` of each line set the project to `Renovations` or the project you created.
5- Validate the vendor bill.
6- Go to the project app and click on the 3 dots of the project you choose and click on `Project Updates`.
7- Notice the total cost of the project is not reflecting the negative value of the vendor bill.

### Solution:

- The issue is caused by the condition ('price_subtotal', '>', 0) in the query for account.move.line.
- Removing this condition ensures both positive and negative price_subtotal values are included.

opw-[4416931](https://www.odoo.com/web#id=4416931&view_type=form&model=project.task)
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195071
Forward-Port-Of: odoo/odoo#194300",fw-bot,2025-01-29 08:29:55+00:00,[],2025-01-29 13:41:10+00:00,2025-01-29 13:41:10+00:00,https://github.com/odoo/odoo/pull/195546,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620980401, 'issue_id': 2817549440, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195546.png)](https://mergebot.odoo.com/odoo/odoo/pull/195546)', 'created_at': datetime.datetime(2025, 1, 29, 8, 29, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620980420, 'issue_id': 2817549440, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 8, 29, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:29:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195546.png)](https://mergebot.odoo.com/odoo/odoo/pull/195546)

fw-bot (Issue Creator) on (2025-01-29 08:29:57 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2817547871,pull_request,closed,,[IMP] web: hide default_group_by facet in kanban,"Since https://github.com/odoo/odoo/pull/179887, the default_group_by is displayed inside the facets of the search bar. This feature has been deemed useless in the case of the kanban view since removing groupbys in this view doesn't make much sense functionally.

task-4489226
",juliusc2066,2025-01-29 08:28:57+00:00,[],2025-01-29 13:41:05+00:00,2025-01-29 13:41:05+00:00,https://github.com/odoo/odoo/pull/195545,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620978811, 'issue_id': 2817547871, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195545.png)](https://mergebot.odoo.com/odoo/odoo/pull/195545)', 'created_at': datetime.datetime(2025, 1, 29, 8, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621291267, 'issue_id': 2817547871, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 47, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:29:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195545.png)](https://mergebot.odoo.com/odoo/odoo/pull/195545)

Polymorphe57 on (2025-01-29 10:47:59 UTC): @robodoo r+

"
2817546100,pull_request,closed,,[FIX] pos_restaurant: creation of floor plan with create button,"Before this commit:
==========
- To create a new floor plan, the user must click the plus icon on the floor plan's create button; clicking anywhere else on the floor plan's create button was not working.

After this commit:
==========
- Users can click anywhere on the floor plan's create button to create a floor plan.

task-4517219
",paan-odoo,2025-01-29 08:27:55+00:00,[],2025-01-31 10:37:22+00:00,2025-01-31 10:37:22+00:00,https://github.com/odoo/odoo/pull/195544,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620977184, 'issue_id': 2817546100, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195544.png)](https://mergebot.odoo.com/odoo/odoo/pull/195544)', 'created_at': datetime.datetime(2025, 1, 29, 8, 27, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626486135, 'issue_id': 2817546100, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 34, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:27:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195544.png)](https://mergebot.odoo.com/odoo/odoo/pull/195544)

caburj on (2025-01-31 07:34:03 UTC): robodoo r+

"
2817541909,pull_request,closed,,[FW][FIX] partner_autocomple: partner autocomplete partner_gid field,"`partner_gid` was missing from `res_company_form_view_onboarding` view which was creating a bug when applying the partner autocomplete.

Rollback of odoo/195000 as it created issues if you uninstalled `partner_autocomplete`. The field will still be present in the view, but it wouldn't exist in the database.

opw-4489441

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195251",fw-bot,2025-01-29 08:25:56+00:00,[],2025-01-29 18:06:47+00:00,2025-01-29 18:06:44+00:00,https://github.com/odoo/odoo/pull/195543,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620973807, 'issue_id': 2817541909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195543.png)](https://mergebot.odoo.com/odoo/odoo/pull/195543)', 'created_at': datetime.datetime(2025, 1, 29, 8, 25, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620973828, 'issue_id': 2817541909, 'author': 'fw-bot', 'body': '@rugo-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195536\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 8, 25, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621062634, 'issue_id': 2817541909, 'author': 'fw-bot', 'body': '@rugo-odoo @RicGR98 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 9, 8, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621953854, 'issue_id': 2817541909, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 15, 21, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:25:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195543.png)](https://mergebot.odoo.com/odoo/odoo/pull/195543)

fw-bot (Issue Creator) on (2025-01-29 08:25:58 UTC): @rugo-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195536

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 09:08:44 UTC): @rugo-odoo @RicGR98 ci/runbot failed on this forward-port PR

RicGR98 on (2025-01-29 15:21:47 UTC): @robodoo r+

"
2817540197,pull_request,closed,,[FIX] mail: avatar stack counter hidden by previous avatar,"The avatar stack displays several avatar on top of each other. When there are too many avatars to display, a counter is shown. However, this counter is hidden by the previous avatar. In order for the stack to work, each item should have an higher z index than the previous one. It's correctly done for avatars but not for the counter. This pr fixes the issue.

| Before | After |
| ------------- | ------------- |
| ![image](https://github.com/user-attachments/assets/665e160b-7105-447c-97e5-62032d45544b)  | ![image](https://github.com/user-attachments/assets/a6c4a7ac-c8db-4a82-bd46-3454d0a0a51e)  |",tsm-odoo,2025-01-29 08:24:54+00:00,[],2025-01-29 13:58:00+00:00,2025-01-29 13:40:24+00:00,https://github.com/odoo/odoo/pull/195542,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620972138, 'issue_id': 2817540197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195542.png)](https://mergebot.odoo.com/odoo/odoo/pull/195542)', 'created_at': datetime.datetime(2025, 1, 29, 8, 24, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621000495, 'issue_id': 2817540197, 'author': 'robodoo', 'body': '@phenix-factory you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 29, 8, 41, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621022274, 'issue_id': 2817540197, 'author': 'robodoo', 'body': ""@tsm-odoo @phenix-factory 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 8, 50, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621223162, 'issue_id': 2817540197, 'author': 'tsm-odoo', 'body': '@robodoo r+\r\n\r\n:arrow_up: rebased', 'created_at': datetime.datetime(2025, 1, 29, 10, 17, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:24:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195542.png)](https://mergebot.odoo.com/odoo/odoo/pull/195542)

robodoo on (2025-01-29 08:41:04 UTC): @phenix-factory you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-01-29 08:50:47 UTC): @tsm-odoo @phenix-factory 'ci/runbot' failed on this reviewed PR.

tsm-odoo (Issue Creator) on (2025-01-29 10:17:11 UTC): @robodoo r+

:arrow_up: rebased

"
2817513364,pull_request,closed,,[FIX] account: hide move total in mail for misc moves,"When a note was logged or a message was posted on any move, the email recipients of that message would get an email with both the move name and the total move amount (without any context) in the header.

For invoices and vendor bills, this makes sense. As these are typically amounts that can be paid or received. However, for miscellaneous moves this was confusing users. Often it means nothing, and users wonder if they have to pay something.

We remove the amount from messages sent on miscellaneous moves here.

[opw-4042715](https://www.odoo.com/odoo/project.task/4042715)",dylankiss,2025-01-29 08:11:23+00:00,[],2025-01-29 14:31:56+00:00,2025-01-29 14:31:56+00:00,https://github.com/odoo/odoo/pull/195541,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2620949028, 'issue_id': 2817513364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195541.png)](https://mergebot.odoo.com/odoo/odoo/pull/195541)', 'created_at': datetime.datetime(2025, 1, 29, 8, 11, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621472144, 'issue_id': 2817513364, 'author': 'robodoo', 'body': '@dylankiss @william-andre staging failed: ci/l10n on ecf53f4828ac1cd8a985f9a102182295852ac31b (view more at https://runbot.odoo.com/runbot/build/74145533)', 'created_at': datetime.datetime(2025, 1, 29, 12, 11, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621506902, 'issue_id': 2817513364, 'author': 'william-andre', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 29, 12, 27, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:11:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195541.png)](https://mergebot.odoo.com/odoo/odoo/pull/195541)

robodoo on (2025-01-29 12:11:03 UTC): @dylankiss @william-andre staging failed: ci/l10n on ecf53f4828ac1cd8a985f9a102182295852ac31b (view more at https://runbot.odoo.com/runbot/build/74145533)

william-andre on (2025-01-29 12:27:43 UTC): @robodoo retry

"
2817510982,pull_request,closed,,[FIX] base_import_module: ignore unset module_type,"`module_type` is not required. This leads to some code-modules to have
null value in the column. When this happens an error occurs if we try to
open the form view of the module in Apps.

Steps to reproduce:
1. Install a custom module.
2. Modify the `module_type` to `NULL` via SQL (note that the column is
   not required)
3. Try to open the module in the Apps menu. We get an error like:
```
Can't fetch records(s) ... They might have been deleted.
```

This issue is impacting multiple DBs post upgrade. Since this is a new
field the value is not filled in some cases. It is also possible that
due to misconfiguration the value is set to something other than
`official`.

In this patch we propose to fetch the information only for modules that
are already marked as `industry`. 

opw-4516992

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aj-fuentes,2025-01-29 08:09:59+00:00,[],2025-02-04 20:41:30+00:00,2025-02-04 20:41:30+00:00,https://github.com/odoo/odoo/pull/195540,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2620946741, 'issue_id': 2817510982, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195540.png)](https://mergebot.odoo.com/odoo/odoo/pull/195540)', 'created_at': datetime.datetime(2025, 1, 29, 8, 10, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621693291, 'issue_id': 2817510982, 'author': 'aj-fuentes', 'body': '@vava-odoo pinging you here :)', 'created_at': datetime.datetime(2025, 1, 29, 13, 45, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621811025, 'issue_id': 2817510982, 'author': 'aj-fuentes', 'body': ""Quick summary of what w discussed in DM (with vava):\r\nThe new UserError may be unnecessary -> IMO there is no hard difference between getting a UserError if odoo.com is down vs getting no data for a module that's marked as industries. I can remove the UserError since that's not the main point of this PR (there would be a user-unfriendly error in the frontend anyway)."", 'created_at': datetime.datetime(2025, 1, 29, 14, 28, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634230523, 'issue_id': 2817510982, 'author': 'pimodoo', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 2, 4, 14, 57, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634230669, 'issue_id': 2817510982, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 4, 14, 57, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:10:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195540.png)](https://mergebot.odoo.com/odoo/odoo/pull/195540)

aj-fuentes (Issue Creator) on (2025-01-29 13:45:15 UTC): @vava-odoo pinging you here :)

aj-fuentes (Issue Creator) on (2025-01-29 14:28:31 UTC): Quick summary of what w discussed in DM (with vava):
The new UserError may be unnecessary -> IMO there is no hard difference between getting a UserError if odoo.com is down vs getting no data for a module that's marked as industries. I can remove the UserError since that's not the main point of this PR (there would be a user-unfriendly error in the frontend anyway).

pimodoo on (2025-02-04 14:57:07 UTC): @robodoo r+ rebase-ff

robodoo on (2025-02-04 14:57:10 UTC): Merge method set to rebase and fast-forward.

"
2817506630,pull_request,closed,,[FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-29 08:07:13+00:00,[],2025-01-29 13:26:41+00:00,2025-01-29 13:26:41+00:00,https://github.com/odoo/odoo/pull/195539,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2620942598, 'issue_id': 2817506630, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195539.png)](https://mergebot.odoo.com/odoo/odoo/pull/195539)', 'created_at': datetime.datetime(2025, 1, 29, 8, 7, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621401677, 'issue_id': 2817506630, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 11, 36, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 08:07:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195539.png)](https://mergebot.odoo.com/odoo/odoo/pull/195539)

dmo-odoo on (2025-01-29 11:36:36 UTC): @robodoo r+

"
2817425766,pull_request,open,,[FIX] mrp: prevent error when adding new work order in MO,"Currently, an error occurs when adding a new work order line in a manufacturing order without specifying a product.

Steps to produce:
- Install the `mrp` module.
- Enable `Unit of measure` and `Work Orders` from the settings.
- Create a new manufacturing order.
- Do not specify a product in the record and attempt to add a work order.
- Observe the error.

Error: `AssertionError: precision_rounding must be positive, got 0.0`

An error occurs when attempting to access `product_uom_id.rounding` - [1]. However, if no product is defined, the `product_uom_id` remains an empty recordset, which generates an error.

[1] - https://github.com/odoo/odoo/blob/9922e570acdf695a0101a7a0c28d57a2708ea050/addons/mrp/models/mrp_workorder.py#L159

This commit resolves the issue by ensuring the product is specified, if no product is defined, the method skips the further computation to avoid errors.

sentry-6236848517

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",adip-odoo,2025-01-29 07:15:07+00:00,[],2025-02-07 13:54:15+00:00,,https://github.com/odoo/odoo/pull/195538,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620873619, 'issue_id': 2817425766, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195538.png)](https://mergebot.odoo.com/odoo/odoo/pull/195538)', 'created_at': datetime.datetime(2025, 1, 29, 7, 15, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623635197, 'issue_id': 2817425766, 'author': 'adip-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\n\r\nPlease review this PR.\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 30, 6, 36, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639442970, 'issue_id': 2817425766, 'author': 'adwid', 'body': '@adip-odoo \r\n\r\nThx for the PR\r\n\r\nWilliam would like a test, can you add it ?', 'created_at': datetime.datetime(2025, 2, 6, 10, 37, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 07:15:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195538.png)](https://mergebot.odoo.com/odoo/odoo/pull/195538)

adip-odoo (Issue Creator) on (2025-01-30 06:36:23 UTC): Hello @odoo/sentry_reviewers

Please review this PR.

Thanks!

adwid on (2025-02-06 10:37:25 UTC): @adip-odoo 

Thx for the PR

William would like a test, can you add it ?

"
2817419677,pull_request,closed,,"[FW][IMP] l10n_sa, l10n_sa_edi: Improved Report Spacing","Description of the issue/feature this PR addresses:
Task ID: 4342267

Current behavior before PR:
-Error When printing draft invoice due to unset invoice_date.

-Report spacing between header & body in second page overlaps due to paperformat spacing.
Due to the long address format of saudi arabia, the default paperformat header spacing and margin top are not enough to show the full address without overlapping the second and onward pages.

-English labels on the exchange rate table in l10n_sa_edi are translated and not shown together with the arabic labels.

-Remove unnecessary spans in xpaths

Desired behavior after PR is merged:
-Fix printing draft invoice with invoice_date as today's date

-Fix report spacing header by adding a new A4 paperformat for l10n_sa which is set as the saudi arabia companies default paper format.

-Fix exchange rate table to show both arabic and english labels and remove unnecessary translations (no longer used)

-Remove unnecessary spans in xpath.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195226
Forward-Port-Of: odoo/odoo#190172",fw-bot,2025-01-29 07:12:29+00:00,[],2025-01-30 07:37:13+00:00,2025-01-30 07:37:13+00:00,https://github.com/odoo/odoo/pull/195537,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620868124, 'issue_id': 2817419677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195537.png)](https://mergebot.odoo.com/odoo/odoo/pull/195537)', 'created_at': datetime.datetime(2025, 1, 29, 7, 12, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620868133, 'issue_id': 2817419677, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 7, 12, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623620217, 'issue_id': 2817419677, 'author': 'alny-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 6, 26, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 07:12:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195537.png)](https://mergebot.odoo.com/odoo/odoo/pull/195537)

fw-bot (Issue Creator) on (2025-01-29 07:12:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alny-odoo on (2025-01-30 06:26:14 UTC): @robodoo r+

"
2817418938,pull_request,closed,,[FW][FIX] partner_autocomple: partner autocomplete partner_gid field,"`partner_gid` was missing from `res_company_form_view_onboarding` view which was creating a bug when applying the partner autocomplete.

Rollback of odoo/195000 as it created issues if you uninstalled `partner_autocomplete`. The field will still be present in the view, but it wouldn't exist in the database.

opw-4489441

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195251",fw-bot,2025-01-29 07:12:09+00:00,[],2025-01-29 18:07:58+00:00,2025-01-29 18:07:58+00:00,https://github.com/odoo/odoo/pull/195536,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620867880, 'issue_id': 2817418938, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195536.png)](https://mergebot.odoo.com/odoo/odoo/pull/195536)', 'created_at': datetime.datetime(2025, 1, 29, 7, 12, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620867892, 'issue_id': 2817418938, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 7, 12, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 07:12:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195536.png)](https://mergebot.odoo.com/odoo/odoo/pull/195536)

fw-bot (Issue Creator) on (2025-01-29 07:12:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2817371180,pull_request,closed,,[IMP] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/6838c2612 [REL] 18.2.0-alpha.4 Task: 0
https://github.com/odoo/o-spreadsheet/commit/2a4ed720c [FIX] session: useless snapshot on leave Task: 4356913
https://github.com/odoo/o-spreadsheet/commit/2bad8a04d [IMP] demo: update demo data to v25 Task: 0
https://github.com/odoo/o-spreadsheet/commit/790041e1b [FIX] xlsx: fix data validation range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/1b0b84aa9 [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/07802c9b6 [FIX] xlsx: export data validation with unbounded range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/adfd11478 [IMP] chart: keep data series when switching chart types Task: 4282798

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-29 06:37:21+00:00,[],2025-01-29 13:49:15+00:00,2025-01-29 13:49:12+00:00,https://github.com/odoo/odoo/pull/195535,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2620827496, 'issue_id': 2817371180, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 6, 37, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620827511, 'issue_id': 2817371180, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195535.png)](https://mergebot.odoo.com/odoo/odoo/pull/195535)', 'created_at': datetime.datetime(2025, 1, 29, 6, 37, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620827540, 'issue_id': 2817371180, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 6, 37, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621208538, 'issue_id': 2817371180, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 12, 34, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-29 06:37:23 UTC): robodoo fw=no

robodoo on (2025-01-29 06:37:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195535.png)](https://mergebot.odoo.com/odoo/odoo/pull/195535)

robodoo on (2025-01-29 06:37:26 UTC): Disabled forward-porting.

rrahir on (2025-01-29 10:12:34 UTC): @robodoo r+

"
2817370006,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/a11ef279d [REL] 18.1.4 Task: 0
https://github.com/odoo/o-spreadsheet/commit/47d6c123e [FIX] session: useless snapshot on leave Task: 4356913
https://github.com/odoo/o-spreadsheet/commit/936b264ca [FIX] xlsx: fix data validation range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/9dbe36b4e [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/52dabf1e4 [FIX] xlsx: export data validation with unbounded range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/7ffac1e6e [REL] 18.1.3 Task: 0
https://github.com/odoo/o-spreadsheet/commit/7365956a3 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/14bd65a68 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/967f484a9 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/c2b340c95 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/a8ed632af [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/655904b57 [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/739edba84 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/817bf51d4 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-29 06:36:41+00:00,[],2025-01-29 13:41:01+00:00,2025-01-29 13:41:01+00:00,https://github.com/odoo/odoo/pull/195534,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620826734, 'issue_id': 2817370006, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 6, 36, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620826744, 'issue_id': 2817370006, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195534.png)](https://mergebot.odoo.com/odoo/odoo/pull/195534)', 'created_at': datetime.datetime(2025, 1, 29, 6, 36, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620826786, 'issue_id': 2817370006, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 6, 36, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621208212, 'issue_id': 2817370006, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 12, 24, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-29 06:36:44 UTC): robodoo fw=no

robodoo on (2025-01-29 06:36:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195534.png)](https://mergebot.odoo.com/odoo/odoo/pull/195534)

robodoo on (2025-01-29 06:36:46 UTC): Disabled forward-porting.

rrahir on (2025-01-29 10:12:24 UTC): @robodoo r+

"
2817369025,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/a881cffac [REL] 18.0.12 Task: 0
https://github.com/odoo/o-spreadsheet/commit/79731b80f [FIX] session: useless snapshot on leave Task: 4356913
https://github.com/odoo/o-spreadsheet/commit/e8ae60230 [FIX] xlsx: fix data validation range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/b52dbde23 [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/179614731 [FIX] xlsx: export data validation with unbounded range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/74263151a [FIX] charts: fix logarithmic dataset trendline Task: 4385057

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-29 06:35:55+00:00,[],2025-01-29 13:43:39+00:00,2025-01-29 13:43:38+00:00,https://github.com/odoo/odoo/pull/195533,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620825811, 'issue_id': 2817369025, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 6, 35, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620825816, 'issue_id': 2817369025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195533.png)](https://mergebot.odoo.com/odoo/odoo/pull/195533)', 'created_at': datetime.datetime(2025, 1, 29, 6, 35, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620825846, 'issue_id': 2817369025, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 6, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621206829, 'issue_id': 2817369025, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 11, 43, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-29 06:35:58 UTC): robodoo fw=no

robodoo on (2025-01-29 06:35:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195533.png)](https://mergebot.odoo.com/odoo/odoo/pull/195533)

robodoo on (2025-01-29 06:36:00 UTC): Disabled forward-porting.

rrahir on (2025-01-29 10:11:43 UTC): @robodoo r+

"
2817367934,pull_request,closed,,"[FW][FIX] iap_account,sms: fix traceback when acessing iap accounts","A traceback occurs when the user tries to open IAP accounts after uninstalling the SMS module.

To reproduce:
1) Install hr
2) open IAP accounts from settings/technical/iap/iap accounts 
3) Create a new iap account with service as `SMS`
4) Uninstall `SMS` module
5) Try to open the iap accounts again

Error:-
```
ValueError: Invalid field 'sender_name' in 'iap.account'
```

This error occurs from the below line

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/iap/models/iap_account.py#L128

Because when the user creates an iap account with service_name as `SMS`,
We include `sender_name` in the dict of updating fields.

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/iap/models/iap_account.py#L123-L126

But, the `sender_name` field is defined in the SMS module, 
So it will lead to the above traceback as the `SMS` module is uninstalled.

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/sms/models/iap_account.py#L9

sentry-6249864173

Forward-Port-Of: odoo/odoo#195252",fw-bot,2025-01-29 06:35:09+00:00,[],2025-01-29 15:20:47+00:00,2025-01-29 15:20:47+00:00,https://github.com/odoo/odoo/pull/195532,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620824556, 'issue_id': 2817367934, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195532.png)](https://mergebot.odoo.com/odoo/odoo/pull/195532)', 'created_at': datetime.datetime(2025, 1, 29, 6, 35, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620824563, 'issue_id': 2817367934, 'author': 'fw-bot', 'body': '@alsh-odoo @lobaudoux this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195526\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 6, 35, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620837689, 'issue_id': 2817367934, 'author': 'alsh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 6, 46, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 06:35:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195532.png)](https://mergebot.odoo.com/odoo/odoo/pull/195532)

fw-bot (Issue Creator) on (2025-01-29 06:35:11 UTC): @alsh-odoo @lobaudoux this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195526

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alsh-odoo on (2025-01-29 06:46:11 UTC): @robodoo r+

"
2817366308,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/0897f453e [REL] 16.0.59 Task: 0
https://github.com/odoo/o-spreadsheet/commit/7f1fc0815 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-29 06:33:55+00:00,[],2025-01-29 11:23:06+00:00,2025-01-29 11:23:06+00:00,https://github.com/odoo/odoo/pull/195531,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620823172, 'issue_id': 2817366308, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 29, 6, 33, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620823180, 'issue_id': 2817366308, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195531.png)](https://mergebot.odoo.com/odoo/odoo/pull/195531)', 'created_at': datetime.datetime(2025, 1, 29, 6, 33, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620823210, 'issue_id': 2817366308, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 6, 33, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621205593, 'issue_id': 2817366308, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 11, 7, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-29 06:33:57 UTC): robodoo fw=no

robodoo on (2025-01-29 06:33:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195531.png)](https://mergebot.odoo.com/odoo/odoo/pull/195531)

robodoo on (2025-01-29 06:33:59 UTC): Disabled forward-porting.

rrahir on (2025-01-29 10:11:07 UTC): @robodoo r+

"
2817355205,pull_request,open,,[FIX] website: resolve issue of video slider on reordering images,"Steps to reproduce:
1. Go to the website and enter edit mode.
2. Drag and drop a carousel/image gallery snippet.
3. Replace any image in the carousel with a video.
4. Try to reorder the slides.

Issue:
When reordering the slides, the video slide is removed, leaving only the image slides.

Cause:
The carousel and image gallery logic is designed to handle images only. It does not account for media elements, such as videos (e.g., those with the `media_iframe_video` class).

Solution:
This PR addresses the issue by ensuring that video slides are retained during reordering. It modifies the `get` function to fetch all media elements with the `media_iframe_video` class. Additionally, video thumbnails are now displayed as carousel indicators, ensuring proper functionality and user experience.

task-4487638",paru-odoo,2025-01-29 06:26:17+00:00,[],2025-02-03 11:59:12+00:00,,https://github.com/odoo/odoo/pull/195530,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620815068, 'issue_id': 2817355205, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195530.png)](https://mergebot.odoo.com/odoo/odoo/pull/195530)', 'created_at': datetime.datetime(2025, 1, 29, 6, 26, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 06:26:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195530.png)](https://mergebot.odoo.com/odoo/odoo/pull/195530)

"
2817336889,pull_request,open,,[IMP] stock_account: improve stock valuation adjustment pop-up,"Before this commit:
======================

The valuation adjustment pop-up was misleading, making users think the adjustment applied to all stock on hand instead of only the selected valuation layer. This confused how stock valuation was being updated.

After this commit:
======================

- The pop-up now explicitly highlights the specific valuation layer being adjusted, so users can clearly see which valuation layer is affected, preventing any misinterpretation.

- All lots concerned with the selected valuation layer are now displayed, providing better visibility of the affected stock.

- The ""Adjusted Value per Unit"" field is now displayed in the pop-up, providing users with clear insight into the valuation adjustment.

These updates enhance transparency and ensure that users have the information needed to make accurate decisions regarding stock valuation.

Task - [4453885](https://www.odoo.com/odoo/my-tasks/4453885)

",dhha-odoo,2025-01-29 06:13:13+00:00,[],2025-01-29 12:17:43+00:00,,https://github.com/odoo/odoo/pull/195529,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620801270, 'issue_id': 2817336889, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195529.png)](https://mergebot.odoo.com/odoo/odoo/pull/195529)', 'created_at': datetime.datetime(2025, 1, 29, 6, 13, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 06:13:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195529.png)](https://mergebot.odoo.com/odoo/odoo/pull/195529)

"
2817308725,pull_request,open,,[IMP] website_sale: mute unpublished products for admin,"prior this commit:
- When unpublished products are added to alternate product then they are shown unmuted on website for admin
- Unpublished products are not visible in any of the product carousel snippets

post this commit:
- unpublished products are muted with unpublished banner in alternate product snippet
- unpublished products are visible and muted to admin in product carousel snippet

task-4327865

related pr: https://github.com/odoo/upgrade/pull/7134

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",dere-odoo,2025-01-29 05:52:28+00:00,[],2025-02-05 09:51:54+00:00,,https://github.com/odoo/odoo/pull/195528,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620776522, 'issue_id': 2817308725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195528.png)](https://mergebot.odoo.com/odoo/odoo/pull/195528)', 'created_at': datetime.datetime(2025, 1, 29, 5, 52, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 05:52:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195528.png)](https://mergebot.odoo.com/odoo/odoo/pull/195528)

"
2817276709,pull_request,closed,,[FW][FIX] mail: mentions in channel threads respect channel group,"Follow-up of https://github.com/odoo/odoo/pull/176758

Commit above adds elligible partners in `@` mention suggestions, when the channel is restricted.

However, channel threads could mention anyone, which is unintended.

Steps to reproduce:
- open a restricted channel, e.g. `#general`
- open or make a sub-thread on this channel
- type `@` in composer

=> non-internal users are shows in suggestion list.

This happens because when the channel is restricted, this limits the amount of partners in the mention list. Problem is that channel threads do not set their `group_public_id`, and instead the parent value should be checked. This was not taken into account, which lead to unrestricted list of suggestions in these channels.

This commit fixes the issue by checking the parent channel `group_public_id` for listing the elligible people that can be mentioned.

Before
![Screenshot 2025-01-24 at 15 11 23](https://github.com/user-attachments/assets/fe4ff3ad-b223-439a-bf0a-61dd3a85523f)

After
![Screenshot 2025-01-24 at 15 10 50](https://github.com/user-attachments/assets/ac75d0af-d13b-4a5c-9b7d-aa7fe16c5792)

Forward-Port-Of: odoo/odoo#195191
Forward-Port-Of: odoo/odoo#195064",fw-bot,2025-01-29 05:32:55+00:00,[],2025-01-29 13:58:30+00:00,2025-01-29 13:49:08+00:00,https://github.com/odoo/odoo/pull/195527,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620754442, 'issue_id': 2817276709, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195527.png)](https://mergebot.odoo.com/odoo/odoo/pull/195527)', 'created_at': datetime.datetime(2025, 1, 29, 5, 32, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620754451, 'issue_id': 2817276709, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 5, 32, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621206337, 'issue_id': 2817276709, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 11, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 05:32:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195527.png)](https://mergebot.odoo.com/odoo/odoo/pull/195527)

fw-bot (Issue Creator) on (2025-01-29 05:32:56 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 10:11:29 UTC): @robodoo r+

"
2817270748,pull_request,closed,,"[FW][FIX] iap_account,sms: fix traceback when acessing iap accounts","A traceback occurs when the user tries to open IAP accounts after uninstalling the SMS module.

To reproduce:
1) Install hr
2) open IAP accounts from settings/technical/iap/iap accounts 
3) Create a new iap account with service as `SMS`
4) Uninstall `SMS` module
5) Try to open the iap accounts again

Error:-
```
ValueError: Invalid field 'sender_name' in 'iap.account'
```

This error occurs from the below line

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/iap/models/iap_account.py#L128

Because when the user creates an iap account with service_name as `SMS`,
We include `sender_name` in the dict of updating fields.

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/iap/models/iap_account.py#L123-L126

But, the `sender_name` field is defined in the SMS module, 
So it will lead to the above traceback as the `SMS` module is uninstalled.

https://github.com/odoo/odoo/blob/1e7c2ca8c929d15c9015b960f7fcbe4560413e98/addons/sms/models/iap_account.py#L9

sentry-6249864173

Forward-Port-Of: odoo/odoo#195252",fw-bot,2025-01-29 05:27:59+00:00,[],2025-01-29 09:25:12+00:00,2025-01-29 09:25:11+00:00,https://github.com/odoo/odoo/pull/195526,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620749771, 'issue_id': 2817270748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195526.png)](https://mergebot.odoo.com/odoo/odoo/pull/195526)', 'created_at': datetime.datetime(2025, 1, 29, 5, 28, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620749778, 'issue_id': 2817270748, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 5, 28, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 05:28:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195526.png)](https://mergebot.odoo.com/odoo/odoo/pull/195526)

fw-bot (Issue Creator) on (2025-01-29 05:28:01 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2817259414,pull_request,closed,,[FIX] point_of_sale: prevent duplicate lines for pos categories,"**Description:**
- If a product belongs to multiple POS categories and is added to a single order,
the order report may show duplicate lines based on the number of categories the product is assigned to.

**Steps to reproduce:**
- Install the 'point_of_sale' module.
- Create a product and assign it to multiple POS categories.
- Open the POS interface, add that product and validate the order.
- Check the order report for this order—the lines will be duplicated based on the number of POS categories the product belongs to.

**Screenshots for clarity:**
- Product configuration

![product_config](https://github.com/user-attachments/assets/942e2a55-9d92-4b6e-b2f0-685ea0f57f22)

- Add the product from any of the category.

![prod_add](https://github.com/user-attachments/assets/78b1037e-8514-4198-bc60-14803f57c123)


**Before FIX**
- Reporting view for **Orders** you may notice that the product is already double `2` even though we have added single quantity.

![order_pivot](https://github.com/user-attachments/assets/17b99163-9083-40a0-b357-8fce585fbcb3)


- Double line created with same `id` for both the categories.

![dup_lines](https://github.com/user-attachments/assets/f7d42585-d0a4-477d-b521-0ac9e8802d64)


**After FIX**
- Reporting view for **Orders** 

![after_fix](https://github.com/user-attachments/assets/75383e60-c317-4997-8927-a8ca55821b6a)


- Single line with same product quantity added on the order line.

![single_line](https://github.com/user-attachments/assets/dc2c8e75-aad7-4539-895f-b5f793d59179)






OPW - 4478667

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",apan-odoo,2025-01-29 05:16:44+00:00,[],2025-02-05 09:02:00+00:00,2025-02-05 09:02:00+00:00,https://github.com/odoo/odoo/pull/195525,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2620739831, 'issue_id': 2817259414, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195525.png)](https://mergebot.odoo.com/odoo/odoo/pull/195525)', 'created_at': datetime.datetime(2025, 1, 29, 5, 16, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621504180, 'issue_id': 2817259414, 'author': 'apan-odoo', 'body': ""> By doing so, the quantity of product linked to the payment line is no longer correct.\r\n> \r\n> In fact, if you select a product in the PoS and pay for the order with part cash & part card. The quantities will no longer be correct.\r\n\r\nDidn't understood your comment correctly, If you are talking about product quantity in the single line which is going to get created after this patch. Here it is: \r\n\r\n![report_order](https://github.com/user-attachments/assets/828e2f4a-1a68-4c85-bf3b-f2d4eb207a08)\r\n\r\n\r\nAlso, This patch is in reporting part of the POS how will be it affect in POS?\r\nCould you please correct me if i'm mistaken here."", 'created_at': datetime.datetime(2025, 1, 29, 12, 26, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626791090, 'issue_id': 2817259414, 'author': 'apan-odoo', 'body': 'Hello @davidmonnom I have updated the PR description for more understandable. Thanks!', 'created_at': datetime.datetime(2025, 1, 31, 9, 50, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636124911, 'issue_id': 2817259414, 'author': 'apan-odoo', 'body': 'Already fixed by https://github.com/odoo/odoo/pull/195097', 'created_at': datetime.datetime(2025, 2, 5, 9, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 05:16:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195525.png)](https://mergebot.odoo.com/odoo/odoo/pull/195525)

apan-odoo (Issue Creator) on (2025-01-29 12:26:24 UTC): Didn't understood your comment correctly, If you are talking about product quantity in the single line which is going to get created after this patch. Here it is: 

![report_order](https://github.com/user-attachments/assets/828e2f4a-1a68-4c85-bf3b-f2d4eb207a08)


Also, This patch is in reporting part of the POS how will be it affect in POS?
Could you please correct me if i'm mistaken here.

apan-odoo (Issue Creator) on (2025-01-31 09:50:54 UTC): Hello @davidmonnom I have updated the PR description for more understandable. Thanks!

apan-odoo (Issue Creator) on (2025-02-05 09:02:00 UTC): Already fixed by https://github.com/odoo/odoo/pull/195097

"
2817235574,pull_request,closed,,[IMP] pos_loyalty: highlight action button when reward is available,"In this commit:
===
- When a reward is available, the ""More"" action button is visually highlighted .

task-4519592
",meji-odoo,2025-01-29 04:53:35+00:00,[],2025-02-05 13:54:33+00:00,2025-02-05 13:54:33+00:00,https://github.com/odoo/odoo/pull/195524,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2620719242, 'issue_id': 2817235574, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195524.png)](https://mergebot.odoo.com/odoo/odoo/pull/195524)', 'created_at': datetime.datetime(2025, 1, 29, 4, 53, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631495021, 'issue_id': 2817235574, 'author': 'meji-odoo', 'body': '@davidmonnom \r\nChanges have been made!\r\nThanks for the review !\r\nHave a great day : )', 'created_at': datetime.datetime(2025, 2, 3, 16, 31, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 04:53:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195524.png)](https://mergebot.odoo.com/odoo/odoo/pull/195524)

meji-odoo (Issue Creator) on (2025-02-03 16:31:45 UTC): @davidmonnom 
Changes have been made!
Thanks for the review !
Have a great day : )

"
2817207886,pull_request,open,,[IMP] *: add dropzones for controller pages,"*= website_blog, website_forum, website_hr_recruitment, website_event

This commit introduces dropzones above the title on certain pages, such as 'Blog', 'Help', 'Job', etc. Additionally, dropzones are added to internal pages (e.g., /blog/{page}). These dropzones are intended to contain shared elements across the content.
    
The attribute `data-tooltip-message` is also introduced to display tooltips, as specified in [1].
    
 [1]: https://www.odoo.com/odoo/project.task/4430496
    
task-4430461

",visp-odoo,2025-01-29 04:23:19+00:00,[],2025-02-04 06:52:32+00:00,,https://github.com/odoo/odoo/pull/195523,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620694678, 'issue_id': 2817207886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195523.png)](https://mergebot.odoo.com/odoo/odoo/pull/195523)', 'created_at': datetime.datetime(2025, 1, 29, 4, 23, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 04:23:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195523.png)](https://mergebot.odoo.com/odoo/odoo/pull/195523)

"
2817196508,pull_request,closed,,[FW][FIX] mail: msg/thread actions dropdown icon/label misaligned,"They were slightly misaligned visually, which didn't look great.
This is fixes by replacing `.align-items-center` by `.align-items.baseline`

![Screenshot 2025-01-28 at 18 56 11](https://github.com/user-attachments/assets/91f371a3-07b8-46f2-9d51-44728af3bd10)
![Screenshot 2025-01-28 at 18 57 58](https://github.com/user-attachments/assets/8e6c1f25-bb96-4178-a8aa-a7ac955593a6)
![Screenshot 2025-01-28 at 19 01 37](https://github.com/user-attachments/assets/5861e704-81f5-418b-be49-9905f571f1a3)
![Screenshot 2025-01-28 at 19 01 29](https://github.com/user-attachments/assets/b601e30e-1a6c-4da9-a06d-a76a5e56accb)

Forward-Port-Of: odoo/odoo#195499",fw-bot,2025-01-29 04:12:17+00:00,[],2025-01-29 13:58:25+00:00,2025-01-29 13:49:03+00:00,https://github.com/odoo/odoo/pull/195522,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620684054, 'issue_id': 2817196508, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195522.png)](https://mergebot.odoo.com/odoo/odoo/pull/195522)', 'created_at': datetime.datetime(2025, 1, 29, 4, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620684063, 'issue_id': 2817196508, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 4, 12, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621205402, 'issue_id': 2817196508, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 11, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 04:12:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195522.png)](https://mergebot.odoo.com/odoo/odoo/pull/195522)

fw-bot (Issue Creator) on (2025-01-29 04:12:19 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 10:11:02 UTC): @robodoo r+

"
2817182238,pull_request,closed,,[FW][FIX] loyalty: fix expiration date condition,"Steps:
- Install sale app.
- Enable Loyalty settings.
- Try to create a card on a loyalty.

Issue:
- Giving validation error.

Casue:
- In [PR] forgot to check expiration_date set or not before raise an error.

Fix:
- Added condition to check if expiration_date set or not on card before raising an error.

[PR]: https://github.com/odoo/odoo/pull/171453

opw-4492179
opw-4490587
opw-4504188
opw-4495530

Forward-Port-Of: odoo/odoo#195289
Forward-Port-Of: odoo/odoo#194785",fw-bot,2025-01-29 03:57:02+00:00,[],2025-01-29 06:15:50+00:00,2025-01-29 06:15:50+00:00,https://github.com/odoo/odoo/pull/195521,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620671443, 'issue_id': 2817182238, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195521.png)](https://mergebot.odoo.com/odoo/odoo/pull/195521)', 'created_at': datetime.datetime(2025, 1, 29, 3, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620671447, 'issue_id': 2817182238, 'author': 'fw-bot', 'body': '@kcv-odoo @Demesmaeker this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195519\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 3, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620672619, 'issue_id': 2817182238, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 3, 58, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 03:57:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195521.png)](https://mergebot.odoo.com/odoo/odoo/pull/195521)

fw-bot (Issue Creator) on (2025-01-29 03:57:03 UTC): @kcv-odoo @Demesmaeker this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195519

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-01-29 03:58:44 UTC): @robodoo r+

"
2817113587,pull_request,closed,,[FW][FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.

Forward-Port-Of: odoo/odoo#195496
Forward-Port-Of: odoo/odoo#194500",fw-bot,2025-01-29 02:50:00+00:00,[],2025-02-03 11:42:18+00:00,2025-02-03 11:42:18+00:00,https://github.com/odoo/odoo/pull/195520,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620512200, 'issue_id': 2817113587, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195520.png)](https://mergebot.odoo.com/odoo/odoo/pull/195520)', 'created_at': datetime.datetime(2025, 1, 29, 2, 50, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620512209, 'issue_id': 2817113587, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 2, 50, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620572699, 'issue_id': 2817113587, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 29, 3, 16, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621259632, 'issue_id': 2817113587, 'author': 'william-andre', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 1, 29, 10, 34, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621259738, 'issue_id': 2817113587, 'author': 'robodoo', 'body': '@william-andre r- makes no sense in the current PR state.', 'created_at': datetime.datetime(2025, 1, 29, 10, 34, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621309244, 'issue_id': 2817113587, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 29, 10, 56, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621322399, 'issue_id': 2817113587, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 11, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621327682, 'issue_id': 2817113587, 'author': 'robodoo', 'body': ""@william-andre @gawa-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 11, 4, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136569, 'issue_id': 2817113587, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo this forward port of odoo/odoo#194500 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628777543, 'issue_id': 2817113587, 'author': 'robodoo', 'body': '@william-andre @gawa-odoo staging failed: ci/runbot on 157afe6ce6d3cadb59847314384463e4e5e74810 (view more at https://runbot.odoo.com/runbot/build/74322918)', 'created_at': datetime.datetime(2025, 2, 1, 5, 5, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201728, 'issue_id': 2817113587, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo this forward port of odoo/odoo#194500 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730150, 'issue_id': 2817113587, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo this forward port of odoo/odoo#194500 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630138493, 'issue_id': 2817113587, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 10, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 02:50:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195520.png)](https://mergebot.odoo.com/odoo/odoo/pull/195520)

fw-bot (Issue Creator) on (2025-01-29 02:50:02 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 03:16:44 UTC): @william-andre @gawa-odoo ci/runbot failed on this forward-port PR

william-andre on (2025-01-29 10:34:38 UTC): @robodoo r-

robodoo on (2025-01-29 10:34:41 UTC): @william-andre r- makes no sense in the current PR state.

fw-bot (Issue Creator) on (2025-01-29 10:56:16 UTC): @william-andre @gawa-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

william-andre on (2025-01-29 11:02:20 UTC): @robodoo r+

robodoo on (2025-01-29 11:04:36 UTC): @william-andre @gawa-odoo 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-31 02:01:47 UTC): @william-andre @gawa-odoo this forward port of odoo/odoo#194500 is awaiting action (not merged or closed).

robodoo on (2025-02-01 05:05:32 UTC): @william-andre @gawa-odoo staging failed: ci/runbot on 157afe6ce6d3cadb59847314384463e4e5e74810 (view more at https://runbot.odoo.com/runbot/build/74322918)

fw-bot (Issue Creator) on (2025-02-02 02:01:27 UTC): @william-andre @gawa-odoo this forward port of odoo/odoo#194500 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:20 UTC): @william-andre @gawa-odoo this forward port of odoo/odoo#194500 is awaiting action (not merged or closed).

robodoo on (2025-02-03 07:10:04 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2817102821,pull_request,closed,,[FW][FIX] loyalty: fix expiration date condition,"Steps:
- Install sale app.
- Enable Loyalty settings.
- Try to create a card on a loyalty.

Issue:
- Giving validation error.

Casue:
- In [PR] forgot to check expiration_date set or not before raise an error.

Fix:
- Added condition to check if expiration_date set or not on card before raising an error.

[PR]: https://github.com/odoo/odoo/pull/171453

opw-4492179
opw-4490587
opw-4504188
opw-4495530

Forward-Port-Of: odoo/odoo#195289
Forward-Port-Of: odoo/odoo#194785",fw-bot,2025-01-29 02:38:07+00:00,[],2025-01-29 09:25:16+00:00,2025-01-29 09:25:16+00:00,https://github.com/odoo/odoo/pull/195519,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2620503304, 'issue_id': 2817102821, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195519.png)](https://mergebot.odoo.com/odoo/odoo/pull/195519)', 'created_at': datetime.datetime(2025, 1, 29, 2, 38, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620503318, 'issue_id': 2817102821, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 2, 38, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620842550, 'issue_id': 2817102821, 'author': 'robodoo', 'body': '@kcv-odoo @Demesmaeker staging failed: ci/runbot on fe3135c38c667b5ec8aed43edc15ef8939d4db0a (view more at https://runbot.odoo.com/runbot/build/74130378)', 'created_at': datetime.datetime(2025, 1, 29, 6, 50, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620858789, 'issue_id': 2817102821, 'author': 'kcv-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 29, 7, 4, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 02:38:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195519.png)](https://mergebot.odoo.com/odoo/odoo/pull/195519)

fw-bot (Issue Creator) on (2025-01-29 02:38:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-29 06:50:11 UTC): @kcv-odoo @Demesmaeker staging failed: ci/runbot on fe3135c38c667b5ec8aed43edc15ef8939d4db0a (view more at https://runbot.odoo.com/runbot/build/74130378)

kcv-odoo on (2025-01-29 07:04:39 UTC): @robodoo retry

"
2817102484,pull_request,closed,,[FW][FIX] web: handle field sorting should include id,"This commit makes the same fix as [1] but it does t for kanban views instead of list views.

We discovered in task [2] we were developing for the master branch that we needed this fix and that we wanted to fix it from 17.0

[1]: ecc0a38a1d3b04f854d761fd498b120a4dfef5ad
[2]: opw-4370092

Task: opw-4370092

Forward-Port-Of: odoo/odoo#195296
Forward-Port-Of: odoo/odoo#194859",fw-bot,2025-01-29 02:37:48+00:00,[],2025-01-29 09:59:12+00:00,2025-01-29 09:59:12+00:00,https://github.com/odoo/odoo/pull/195518,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620503025, 'issue_id': 2817102484, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195518.png)](https://mergebot.odoo.com/odoo/odoo/pull/195518)', 'created_at': datetime.datetime(2025, 1, 29, 2, 37, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620503039, 'issue_id': 2817102484, 'author': 'fw-bot', 'body': '@brboi @kebeclibre this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 2, 37, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620871809, 'issue_id': 2817102484, 'author': 'kebeclibre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 7, 14, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 02:37:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195518.png)](https://mergebot.odoo.com/odoo/odoo/pull/195518)

fw-bot (Issue Creator) on (2025-01-29 02:37:50 UTC): @brboi @kebeclibre this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kebeclibre on (2025-01-29 07:14:30 UTC): @robodoo r+

"
2817015990,pull_request,closed,,"[FW][FIX] pos_hr, point_of_sale: fix error when re-entering payment screen","Before this commit:
- Enable the ""Log in with employees""
- Log in as any employee, add a product, and go to the payment screen
- Lock the session
- Enter the session again

This sequence of actions would result in an error in the console.

opw-4435559

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194828
Forward-Port-Of: odoo/odoo#193238",fw-bot,2025-01-29 01:08:51+00:00,[],2025-01-29 15:20:40+00:00,2025-01-29 15:20:40+00:00,https://github.com/odoo/odoo/pull/195517,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620373951, 'issue_id': 2817015990, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195517.png)](https://mergebot.odoo.com/odoo/odoo/pull/195517)', 'created_at': datetime.datetime(2025, 1, 29, 1, 8, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620373956, 'issue_id': 2817015990, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 1, 8, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471523, 'issue_id': 2817015990, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#193238 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621136081, 'issue_id': 2817015990, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 40, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 01:08:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195517.png)](https://mergebot.odoo.com/odoo/odoo/pull/195517)

fw-bot (Issue Creator) on (2025-01-29 01:08:53 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 02:01:12 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#193238 is awaiting action (not merged or closed).

pedrambiria on (2025-01-29 09:40:10 UTC): @robodoo r+

"
2817015565,pull_request,closed,,[FW][FIX] orm: domain with hierarchy should use ilike for str,"Domains such as `[('id', 'child_of', 'some_str')]` should search the corecords using ilike before resolving the hierarchy. Adding tests for this use case.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195460",fw-bot,2025-01-29 01:08:23+00:00,[],2025-01-29 15:21:09+00:00,2025-01-29 15:20:35+00:00,https://github.com/odoo/odoo/pull/195516,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620373501, 'issue_id': 2817015565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195516.png)](https://mergebot.odoo.com/odoo/odoo/pull/195516)', 'created_at': datetime.datetime(2025, 1, 29, 1, 8, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620373515, 'issue_id': 2817015565, 'author': 'fw-bot', 'body': '@kmagusiak @ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 29, 1, 8, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620860247, 'issue_id': 2817015565, 'author': 'kmagusiak', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 7, 5, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620926810, 'issue_id': 2817015565, 'author': 'robodoo', 'body': '@kmagusiak @ryv-odoo staging failed: ci/runbot on 5af1c3869af6cb290eb62c77d69a46e919c2dae4 (view more at https://runbot.odoo.com/runbot/build/74132909)', 'created_at': datetime.datetime(2025, 1, 29, 7, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620953305, 'issue_id': 2817015565, 'author': 'kmagusiak', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 29, 8, 13, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 01:08:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195516.png)](https://mergebot.odoo.com/odoo/odoo/pull/195516)

fw-bot (Issue Creator) on (2025-01-29 01:08:25 UTC): @kmagusiak @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kmagusiak on (2025-01-29 07:05:50 UTC): @robodoo r+

robodoo on (2025-01-29 07:57:03 UTC): @kmagusiak @ryv-odoo staging failed: ci/runbot on 5af1c3869af6cb290eb62c77d69a46e919c2dae4 (view more at https://runbot.odoo.com/runbot/build/74132909)

kmagusiak on (2025-01-29 08:13:44 UTC): @robodoo retry

"
2816986073,pull_request,closed,,[FIX] web: improve naming of recent new emoji picker methods,"Follow-up of https://github.com/odoo/odoo/pull/195236

PR above add new methods to emoji picker for nice little feature. Commit had minor issues that this PR fixes:
- names were poor: onMouseEnter => onMouseenterEmoji (mouseenter event on an emoji) onMouseLeave => onMouseleaveEmoji (mouseleave event on an emoji) currentSelectedEmoji => activeEmoji (simpler and consistent with existing attributes on this component)
- ev of mouseenter and mouseleave were not propagated correctly to the handler methods (even if not used... yet?)
",alexkuhn,2025-01-29 00:39:05+00:00,[],2025-01-29 13:58:12+00:00,2025-01-29 13:40:56+00:00,https://github.com/odoo/odoo/pull/195515,"[('RD', 'research & development, internal work')]","[{'comment_id': 2620340592, 'issue_id': 2816986073, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195515.png)](https://mergebot.odoo.com/odoo/odoo/pull/195515)', 'created_at': datetime.datetime(2025, 1, 29, 0, 39, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620342062, 'issue_id': 2816986073, 'author': 'alexkuhn', 'body': '@robodoo r+ fw=no\r\n(names are fixed in fw-port)', 'created_at': datetime.datetime(2025, 1, 29, 0, 40, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620342098, 'issue_id': 2816986073, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 29, 0, 40, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620382261, 'issue_id': 2816986073, 'author': 'robodoo', 'body': ""@alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 29, 1, 15, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-29 00:39:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195515.png)](https://mergebot.odoo.com/odoo/odoo/pull/195515)

alexkuhn (Issue Creator) on (2025-01-29 00:40:28 UTC): @robodoo r+ fw=no
(names are fixed in fw-port)

robodoo on (2025-01-29 00:40:30 UTC): Disabled forward-porting.

robodoo on (2025-01-29 01:15:23 UTC): @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2816715423,pull_request,closed,,[FW][FIX] hr_holidays: fix accrual plan in hours,"Steps
- create an accrual plan with a level giving 1 hour every month and a carry
over with a maximum of 4 hours. Set accrued gain time at the start of the period
and carry-over time at start of the year.
- create an allocation using this accrual plan, for a time off type in days,
set the start date on the first day of next year.
- go to Time Off Dashboard
- check the balance on the middle of the month of the following year (e.g.
15 january 2026 if the allocation starts on 1 january 2025).

-> ~14 days of time off available: the max postpone amount is not applied,
the time gained is in days and not in hours and more than 1 day is gained/month
(balance a few days after the start of the allocation should be +1 added_value
but is more than that).

Causes:
- the maximum amount of carry over `postpone_max_days` is applied in days
even if the accrual `added_value` is in hours and the UI shows `postpone_max_days`
as ""Up to X hours"".
- `get_future_leaves` returns a number of hours if the allocation is in hours, even
if the time off type is in days.
- the number of hours from the accrual at the beginning of the allocation is too
high if the start of the accrual is in the future and gain time added at the start
of the period due to cache not being invalidated.
https://github.com/odoo/odoo/blob/19c7737fc05539079cde8641bab608c605efacc5/addons/hr_holidays/models/hr_leave_allocation.py#L575-L578

opw-4272315

Forward-Port-Of: odoo/odoo#195361
Forward-Port-Of: odoo/odoo#185699",fw-bot,2025-01-28 21:05:41+00:00,[],2025-01-29 18:07:07+00:00,2025-01-29 18:07:07+00:00,https://github.com/odoo/odoo/pull/195514,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620055336, 'issue_id': 2816715423, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195514.png)](https://mergebot.odoo.com/odoo/odoo/pull/195514)', 'created_at': datetime.datetime(2025, 1, 28, 21, 5, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620055351, 'issue_id': 2816715423, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 21, 5, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622105276, 'issue_id': 2816715423, 'author': 'taqu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 16, 21, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 21:05:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195514.png)](https://mergebot.odoo.com/odoo/odoo/pull/195514)

fw-bot (Issue Creator) on (2025-01-28 21:05:43 UTC): @taqu-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

taqu-odoo on (2025-01-29 16:21:03 UTC): robodoo r+

"
2816714961,pull_request,closed,,[FW][FIX] mail: align avatar with composer,"Follow-up of https://github.com/odoo/odoo/pull/195364

PR above made several small UI adjustments, from similar PR made in 18.0. One of the change was to fix avatar alignment with composer. However the alignment fix made sense in 18.0 but not in 18.1.

This commit reverts this part of the improvements, so that the alignment is correct.

Before 
![Screenshot 2025-01-28 at 13 43 35](https://github.com/user-attachments/assets/22896495-ea35-418c-8533-83689a89cd74)

After
![Screenshot 2025-01-28 at 13 43 18](https://github.com/user-attachments/assets/31352d83-f006-48ed-a4b3-e6fa662a53cd)

Forward-Port-Of: odoo/odoo#195435",fw-bot,2025-01-28 21:05:23+00:00,[],2025-01-29 00:19:21+00:00,2025-01-29 00:19:18+00:00,https://github.com/odoo/odoo/pull/195513,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2620054876, 'issue_id': 2816714961, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195513.png)](https://mergebot.odoo.com/odoo/odoo/pull/195513)', 'created_at': datetime.datetime(2025, 1, 28, 21, 5, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620054891, 'issue_id': 2816714961, 'author': 'fw-bot', 'body': '@alexkuhn @tsm-odoo cherrypicking of pull request odoo/odoo#195435 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit 8d38919579483a9c8f4ce25578d00ea6993fbafc.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 21, 5, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620318508, 'issue_id': 2816714961, 'author': 'alexkuhn', 'body': 'fw-port of original PR that introduced the issue has been adapted to fix avatar alignment with composer: https://github.com/odoo/odoo/pull/195373', 'created_at': datetime.datetime(2025, 1, 29, 0, 19, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 21:05:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195513.png)](https://mergebot.odoo.com/odoo/odoo/pull/195513)

fw-bot (Issue Creator) on (2025-01-28 21:05:25 UTC): @alexkuhn @tsm-odoo cherrypicking of pull request odoo/odoo#195435 failed.

stdout:
```
You are currently cherry-picking commit 8d38919579483a9c8f4ce25578d00ea6993fbafc.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 00:19:18 UTC): fw-port of original PR that introduced the issue has been adapted to fix avatar alignment with composer: https://github.com/odoo/odoo/pull/195373

"
2816714447,pull_request,closed,,[FW][FIX] mail: harmonize background of emoji picker and quick reactions,"The emoji picker bg is `bg-100` and the quick reaction menu bg is `bg-view` which seems odd. This PR harmonizes the two backgrounds.

| Before | After |
| ------------- | ------------- |
| ![image](https://github.com/user-attachments/assets/38b80d7a-c4ed-4abf-aad8-616480431d64) | ![image](https://github.com/user-attachments/assets/a77ddb66-b69c-4613-831d-9204a1c81d86)  |

Forward-Port-Of: odoo/odoo#195437",fw-bot,2025-01-28 21:05:04+00:00,[],2025-01-29 10:10:38+00:00,2025-01-29 02:43:56+00:00,https://github.com/odoo/odoo/pull/195512,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2620054318, 'issue_id': 2816714447, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195512.png)](https://mergebot.odoo.com/odoo/odoo/pull/195512)', 'created_at': datetime.datetime(2025, 1, 28, 21, 5, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620054336, 'issue_id': 2816714447, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 21, 5, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620320671, 'issue_id': 2816714447, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 29, 0, 21, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620320713, 'issue_id': 2816714447, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 29, 0, 21, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 21:05:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195512.png)](https://mergebot.odoo.com/odoo/odoo/pull/195512)

fw-bot (Issue Creator) on (2025-01-28 21:05:06 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 00:21:17 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-29 00:21:19 UTC): Merge method set to rebase and fast-forward.

"
2816595216,pull_request,closed,,[FW][FIX] website_sale_loyalty: Decimal rounding comparison issue,"Steps
-----
1. Add an item to the cart (ensure the total price has decimals).
2. During checkout, apply a coupon (e.g., a 50% discount).
3. Attempt to validate the payment.


Issue
-----
The frontend user encounters the following error:
""Cannot process payment: applied reward was changed or has expired.""

Cause
-----
In some cases, the comparison between initial_amount and the new amount_total fails due to a small decimal difference (e.g., 0.00002).

Solution
--------
Use the float_compare function to handle precise rounding.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195340
Forward-Port-Of: odoo/odoo#195266",fw-bot,2025-01-28 19:55:49+00:00,[],2025-01-29 15:20:30+00:00,2025-01-29 15:20:30+00:00,https://github.com/odoo/odoo/pull/195511,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619934076, 'issue_id': 2816595216, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195511.png)](https://mergebot.odoo.com/odoo/odoo/pull/195511)', 'created_at': datetime.datetime(2025, 1, 28, 19, 55, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619934097, 'issue_id': 2816595216, 'author': 'fw-bot', 'body': '@mohamedlaminelalmi @Demesmaeker this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195505\n* odoo/odoo#195495\n* odoo/odoo#195484\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 19, 55, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 19:55:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195511.png)](https://mergebot.odoo.com/odoo/odoo/pull/195511)

fw-bot (Issue Creator) on (2025-01-28 19:55:51 UTC): @mohamedlaminelalmi @Demesmaeker this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195505
* odoo/odoo#195495
* odoo/odoo#195484

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816558545,pull_request,closed,,[FW][FIX] payment_paypal: disable the payment button when not allowed to pay,"Prior to this commit, the PayPal SDK was used to render a single payment button that replaced the generic submit button of the payment form. This prevented disabling the button when the conditions were not met to allow the payment (e.g., the ""Terms and Conditions checkbox was not ticked) as this mechanism relies on the PaymentButton public widget, which was incompatible with PayPal's custom buttons.

This commit ensures that PayPal buttons, too, are disabled when the payment is not allowed by making the PaymentButton widget attach itself to the PayPal button container, creating two PayPal buttons - one enabled and one permanently disabled - instead of one, and alternately showing them depending on whether the payment is allowed.

opw-4354267

Forward-Port-Of: odoo/odoo#194997",fw-bot,2025-01-28 19:36:25+00:00,[],2025-02-06 23:38:06+00:00,2025-02-05 02:37:32+00:00,https://github.com/odoo/odoo/pull/195510,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619897733, 'issue_id': 2816558545, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195510.png)](https://mergebot.odoo.com/odoo/odoo/pull/195510)', 'created_at': datetime.datetime(2025, 1, 28, 19, 36, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619897755, 'issue_id': 2816558545, 'author': 'fw-bot', 'body': '@AntoineVDV this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195503\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 19, 36, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619938132, 'issue_id': 2816558545, 'author': 'fw-bot', 'body': '@AntoineVDV ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 19, 58, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684764, 'issue_id': 2816558545, 'author': 'fw-bot', 'body': '@AntoineVDV this forward port of odoo/odoo#194997 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201516, 'issue_id': 2816558545, 'author': 'fw-bot', 'body': '@AntoineVDV this forward port of odoo/odoo#194997 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729774, 'issue_id': 2816558545, 'author': 'fw-bot', 'body': '@AntoineVDV this forward port of odoo/odoo#194997 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634351001, 'issue_id': 2816558545, 'author': 'fw-bot', 'body': '@AntoineVDV this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 4, 15, 40, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634353198, 'issue_id': 2816558545, 'author': 'AntoineVDV', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 41, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 19:36:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195510.png)](https://mergebot.odoo.com/odoo/odoo/pull/195510)

fw-bot (Issue Creator) on (2025-01-28 19:36:27 UTC): @AntoineVDV this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195503

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 19:58:07 UTC): @AntoineVDV ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-01 02:01:03 UTC): @AntoineVDV this forward port of odoo/odoo#194997 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:09 UTC): @AntoineVDV this forward port of odoo/odoo#194997 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:58 UTC): @AntoineVDV this forward port of odoo/odoo#194997 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-04 15:40:32 UTC): @AntoineVDV this PR was modified / updated and has become a normal PR. It must be merged directly.

AntoineVDV on (2025-02-04 15:41:23 UTC): @robodoo r+

"
2816512801,pull_request,closed,,[FW][FIX] stock: allow lot to be used by branches,"Steps to reproduce the bug:
- Create a “Company A” and a “ branch 1” linked to this company
- Create a storable product “P1”:
    - limited to Company A

- Select only the branch 1 as current company
- Create a receipt for one unit of P1
- Mark it as to do.
- Try to create a lot or use lot created in Company A

Problem:
An acces error is raised:
`Incompatible companies on records:
- 'Product B' belongs to company 'Branch X' and 'Lot/Serial Number' (lot_id: 'sn_test') belongs to another company.`

opw-4415565

Forward-Port-Of: odoo/odoo#194215
Forward-Port-Of: odoo/odoo#191529",fw-bot,2025-01-28 19:10:31+00:00,[],2025-01-29 16:48:34+00:00,2025-01-29 16:48:34+00:00,https://github.com/odoo/odoo/pull/195509,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619848953, 'issue_id': 2816512801, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195509.png)](https://mergebot.odoo.com/odoo/odoo/pull/195509)', 'created_at': datetime.datetime(2025, 1, 28, 19, 10, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619848978, 'issue_id': 2816512801, 'author': 'fw-bot', 'body': '@DjamelTouati @clesgow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 19, 10, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619923571, 'issue_id': 2816512801, 'author': 'fw-bot', 'body': '@DjamelTouati @clesgow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 19, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471725, 'issue_id': 2816512801, 'author': 'fw-bot', 'body': '@DjamelTouati @clesgow this forward port of odoo/odoo#191529 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621077584, 'issue_id': 2816512801, 'author': 'fw-bot', 'body': '@DjamelTouati @clesgow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 29, 9, 15, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621677880, 'issue_id': 2816512801, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 13, 38, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 19:10:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195509.png)](https://mergebot.odoo.com/odoo/odoo/pull/195509)

fw-bot (Issue Creator) on (2025-01-28 19:10:33 UTC): @DjamelTouati @clesgow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 19:50:10 UTC): @DjamelTouati @clesgow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-29 02:01:23 UTC): @DjamelTouati @clesgow this forward port of odoo/odoo#191529 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 09:15:21 UTC): @DjamelTouati @clesgow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-01-29 13:38:29 UTC): robodoo r+

"
2816512227,pull_request,closed,,[FW][FIX] point_of_sale: delete silently in localDeleteCascade,"Before this commit, cancelling an order would result in keeping the removed orderlines in the unlink command, causing issues in different cases when trying to sync a new order.

opw-4403100

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194827
Forward-Port-Of: odoo/odoo#192118",fw-bot,2025-01-28 19:10:12+00:00,[],2025-02-03 15:26:01+00:00,2025-02-03 15:26:01+00:00,https://github.com/odoo/odoo/pull/195508,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2619848379, 'issue_id': 2816512227, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195508.png)](https://mergebot.odoo.com/odoo/odoo/pull/195508)', 'created_at': datetime.datetime(2025, 1, 28, 19, 10, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619848395, 'issue_id': 2816512227, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#192118 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/point_of_sale/static/src/app/utils/debug/debug_widget.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 19, 10, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471573, 'issue_id': 2816512227, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354439, 'issue_id': 2816512227, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136938, 'issue_id': 2816512227, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685333, 'issue_id': 2816512227, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201910, 'issue_id': 2816512227, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630340001, 'issue_id': 2816512227, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 1, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 19:10:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195508.png)](https://mergebot.odoo.com/odoo/odoo/pull/195508)

fw-bot (Issue Creator) on (2025-01-28 19:10:14 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#192118 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/point_of_sale/static/src/app/utils/debug/debug_widget.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 02:01:15 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:02:06 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-31 02:02:00 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:35 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:48 UTC): @pedrambiria @davidmonnom this forward port of odoo/odoo#192118 is awaiting action (not merged or closed).

pedrambiria on (2025-02-03 09:01:28 UTC): robodoo r+

"
2816511171,pull_request,closed,,[FW][IMP] web: display emoji shortcodes inside the emoji picker,"This PR introduces a way for users to see the emoji shortcodes and use them later with the "":"" shortcut.

Task-4516909

![Screenshot 2025-01-28 at 11 17 35](https://github.com/user-attachments/assets/422042aa-688f-4703-8192-bcb9b70e540b)

Forward-Port-Of: odoo/odoo#195236",fw-bot,2025-01-28 19:09:39+00:00,[],2025-01-29 10:10:48+00:00,2025-01-29 04:09:00+00:00,https://github.com/odoo/odoo/pull/195507,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2619847657, 'issue_id': 2816511171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195507.png)](https://mergebot.odoo.com/odoo/odoo/pull/195507)', 'created_at': datetime.datetime(2025, 1, 28, 19, 9, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619847690, 'issue_id': 2816511171, 'author': 'fw-bot', 'body': '@phenix-factory @alexkuhn cherrypicking of pull request odoo/odoo#195236 failed.\n\nstdout:\n```\nAuto-merging addons/web/i18n/web.pot\nCONFLICT (content): Merge conflict in addons/web/i18n/web.pot\nAuto-merging addons/web/static/src/core/emoji_picker/emoji_picker.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 19, 9, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620343494, 'issue_id': 2816511171, 'author': 'alexkuhn', 'body': '☝️small ""fixes"" in names and `ev` not properly propagated.\r\nMade a quick PR in 18.1 so the name doesn\'t differ from when this is introduced: https://github.com/odoo/odoo/pull/195515\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 0, 41, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 19:09:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195507.png)](https://mergebot.odoo.com/odoo/odoo/pull/195507)

fw-bot (Issue Creator) on (2025-01-28 19:09:51 UTC): @phenix-factory @alexkuhn cherrypicking of pull request odoo/odoo#195236 failed.

stdout:
```
Auto-merging addons/web/i18n/web.pot
CONFLICT (content): Merge conflict in addons/web/i18n/web.pot
Auto-merging addons/web/static/src/core/emoji_picker/emoji_picker.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-29 00:41:28 UTC): ☝️small ""fixes"" in names and `ev` not properly propagated.
Made a quick PR in 18.1 so the name doesn't differ from when this is introduced: https://github.com/odoo/odoo/pull/195515

@robodoo r+

"
2816496055,pull_request,closed,,[FW][IMP] account: allow only file drop,"This commit change a bit the behaviour of drag & drop feature in multiple account view. The main goal is to avoid users to drag and drop text in files drop zones. So now, if a user is dragging a text, we hide the files drop zones.

Linked:https://github.com/odoo/enterprise/pull/76565

opw-4366605

Forward-Port-Of: odoo/odoo#193355",fw-bot,2025-01-28 19:00:42+00:00,[],2025-02-05 07:14:28+00:00,2025-02-05 07:14:28+00:00,https://github.com/odoo/odoo/pull/195506,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619830478, 'issue_id': 2816496055, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195506.png)](https://mergebot.odoo.com/odoo/odoo/pull/195506)', 'created_at': datetime.datetime(2025, 1, 28, 19, 0, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619830522, 'issue_id': 2816496055, 'author': 'fw-bot', 'body': '@igbe-odoo @h4818 cherrypicking of pull request odoo/odoo#193355 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/account/static/src/components/bills_upload/bills_upload.js deleted in a1d1a9af7e0597ce95c2593f2bb146add1492c04 and modified in 2fb809236b0a65640b9e1ba07809af6685e00e4c.  Version 2fb809236b0a65640b9e1ba07809af6685e00e4c of addons/account/static/src/components/bills_upload/bills_upload.js left in tree.\nCONFLICT (modify/delete): addons/account/static/src/components/bills_upload/bills_upload.xml deleted in a1d1a9af7e0597ce95c2593f2bb146add1492c04 and modified in 2fb809236b0a65640b9e1ba07809af6685e00e4c.  Version 2fb809236b0a65640b9e1ba07809af6685e00e4c of addons/account/static/src/components/bills_upload/bills_upload.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 19, 0, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685226, 'issue_id': 2816496055, 'author': 'fw-bot', 'body': '@igbe-odoo @h4818 this forward port of odoo/odoo#193355 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201848, 'issue_id': 2816496055, 'author': 'fw-bot', 'body': '@igbe-odoo @h4818 this forward port of odoo/odoo#193355 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730609, 'issue_id': 2816496055, 'author': 'fw-bot', 'body': '@igbe-odoo @h4818 this forward port of odoo/odoo#193355 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634019976, 'issue_id': 2816496055, 'author': 'igbe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 46, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 19:00:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195506.png)](https://mergebot.odoo.com/odoo/odoo/pull/195506)

fw-bot (Issue Creator) on (2025-01-28 19:00:46 UTC): @igbe-odoo @h4818 cherrypicking of pull request odoo/odoo#193355 failed.

stdout:
```
CONFLICT (modify/delete): addons/account/static/src/components/bills_upload/bills_upload.js deleted in a1d1a9af7e0597ce95c2593f2bb146add1492c04 and modified in 2fb809236b0a65640b9e1ba07809af6685e00e4c.  Version 2fb809236b0a65640b9e1ba07809af6685e00e4c of addons/account/static/src/components/bills_upload/bills_upload.js left in tree.
CONFLICT (modify/delete): addons/account/static/src/components/bills_upload/bills_upload.xml deleted in a1d1a9af7e0597ce95c2593f2bb146add1492c04 and modified in 2fb809236b0a65640b9e1ba07809af6685e00e4c.  Version 2fb809236b0a65640b9e1ba07809af6685e00e4c of addons/account/static/src/components/bills_upload/bills_upload.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:29 UTC): @igbe-odoo @h4818 this forward port of odoo/odoo#193355 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:42 UTC): @igbe-odoo @h4818 this forward port of odoo/odoo#193355 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:48 UTC): @igbe-odoo @h4818 this forward port of odoo/odoo#193355 is awaiting action (not merged or closed).

igbe-odoo on (2025-02-04 13:46:51 UTC): @robodoo r+

"
2816460991,pull_request,closed,,[FW][FIX] website_sale_loyalty: Decimal rounding comparison issue,"Steps
-----
1. Add an item to the cart (ensure the total price has decimals).
2. During checkout, apply a coupon (e.g., a 50% discount).
3. Attempt to validate the payment.


Issue
-----
The frontend user encounters the following error:
""Cannot process payment: applied reward was changed or has expired.""

Cause
-----
In some cases, the comparison between initial_amount and the new amount_total fails due to a small decimal difference (e.g., 0.00002).

Solution
--------
Use the float_compare function to handle precise rounding.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195340
Forward-Port-Of: odoo/odoo#195266",fw-bot,2025-01-28 18:41:25+00:00,[],2025-01-29 11:27:38+00:00,2025-01-29 11:27:38+00:00,https://github.com/odoo/odoo/pull/195505,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619792029, 'issue_id': 2816460991, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195505.png)](https://mergebot.odoo.com/odoo/odoo/pull/195505)', 'created_at': datetime.datetime(2025, 1, 28, 18, 41, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619792050, 'issue_id': 2816460991, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 18, 41, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:41:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195505.png)](https://mergebot.odoo.com/odoo/odoo/pull/195505)

fw-bot (Issue Creator) on (2025-01-28 18:41:27 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816460822,pull_request,open,,[FIX] stock: show barcode instead of lot for dymo labels,"**Steps to reproduce:**
1. Product A with lot, barcode, UoM as UNITs.
2. Product B with lot, barcode, UoM as METERs (or any other, not UNITs)
3. Create a Transfer for A and another one for B (need to provide Lot numbers while doing so, since the products are tracked by Lot)
4. Print the dymo labels for each of these transfers, by:
   - clicking ""Print Labels""
   - selecting ""Product Labels"" and ""Confirm""
   - selecting ""dymo"" and ""Confirm""

**Observation:**
- The printed dymo label of A shows the Lot number provided in step 3, intead of the barcode -> UNDESIRED.
- The printed dymo label of B however, as expected, shows the barcode and not the Lot.

**Reason:**
ac145a7eaa00b36877fc7bdd8f3f05b232e44d1a overrides the barcode value by the Lot value when it exists, if the product's unit of measure is `uom_unit`. This change is not desired for the 'dymo' print format however.

**Fix:**
For the 'dymo' format labels, we remove any custom barcodes from the data to process, so basically reverting the changes of https://github.com/odoo/odoo/commit/ac145a7eaa00b36877fc7bdd8f3f05b232e44d1a.

opw-4461156",hadielyakhni,2025-01-28 18:41:19+00:00,[],2025-01-29 10:33:05+00:00,,https://github.com/odoo/odoo/pull/195504,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2619791903, 'issue_id': 2816460822, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195504.png)](https://mergebot.odoo.com/odoo/odoo/pull/195504)', 'created_at': datetime.datetime(2025, 1, 28, 18, 41, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:41:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195504.png)](https://mergebot.odoo.com/odoo/odoo/pull/195504)

"
2816429834,pull_request,closed,,[FW][FIX] payment_paypal: disable the payment button when not allowed to pay,"Prior to this commit, the PayPal SDK was used to render a single payment button that replaced the generic submit button of the payment form. This prevented disabling the button when the conditions were not met to allow the payment (e.g., the ""Terms and Conditions checkbox was not ticked) as this mechanism relies on the PaymentButton public widget, which was incompatible with PayPal's custom buttons.

This commit ensures that PayPal buttons, too, are disabled when the payment is not allowed by making the PaymentButton widget attach itself to the PayPal button container, creating two PayPal buttons - one enabled and one permanently disabled - instead of one, and alternately showing them depending on whether the payment is allowed.

opw-4354267

Forward-Port-Of: odoo/odoo#194997",fw-bot,2025-01-28 18:25:08+00:00,[],2025-01-29 13:40:52+00:00,2025-01-29 13:40:52+00:00,https://github.com/odoo/odoo/pull/195503,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619755411, 'issue_id': 2816429834, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195503.png)](https://mergebot.odoo.com/odoo/odoo/pull/195503)', 'created_at': datetime.datetime(2025, 1, 28, 18, 25, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619755427, 'issue_id': 2816429834, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 18, 25, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621262409, 'issue_id': 2816429834, 'author': 'AntoineVDV', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 35, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:25:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195503.png)](https://mergebot.odoo.com/odoo/odoo/pull/195503)

fw-bot (Issue Creator) on (2025-01-28 18:25:10 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

AntoineVDV on (2025-01-29 10:35:59 UTC): @robodoo r+

"
2816423042,pull_request,closed,,[FW][FIX] website_forum: fix spam search with multiple nodes,"Since render.qweb was replaced by renderToElement, the spam input search crashes if more than one post meets the search. This commit renders a fragment instead of an element to bypass this limitation.

Steps to reproduce:
- Connect as Admin
- Flag 2 posts on the forum (""..."" at the bottom of a post > Flag)
- Go to the flagged posts in the moderation tools (left bar)
- Click on ""Filter Tool""
- Select the ""Text"" tab
- Type ""e"" (to select both posts) => Traceback.

(No linked task)

Forward-Port-Of: odoo/odoo#191389",fw-bot,2025-01-28 18:21:19+00:00,[],2025-01-29 13:43:37+00:00,2025-01-29 13:43:37+00:00,https://github.com/odoo/odoo/pull/195502,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619748108, 'issue_id': 2816423042, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195502.png)](https://mergebot.odoo.com/odoo/odoo/pull/195502)', 'created_at': datetime.datetime(2025, 1, 28, 18, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619748181, 'issue_id': 2816423042, 'author': 'fw-bot', 'body': '@robinlej @qsm-odoo cherrypicking of pull request odoo/odoo#191389 failed.\n\nstdout:\n```\nAuto-merging addons/website_forum/static/src/js/website_forum.js\nCONFLICT (content): Merge conflict in addons/website_forum/static/src/js/website_forum.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 18, 21, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621098296, 'issue_id': 2816423042, 'author': 'robinlej', 'body': ""@robodoo r+\r\n\r\n(pretty sure it won't work)"", 'created_at': datetime.datetime(2025, 1, 29, 9, 22, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621098387, 'issue_id': 2816423042, 'author': 'robodoo', 'body': '@robinlej you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 29, 9, 22, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621103569, 'issue_id': 2816423042, 'author': 'robinlej', 'body': 'Hello @odoo/rd-security, can I have an override? I had to resolve the conflict but nothing changed on this forward-port.\r\nExplanation of the line here: https://github.com/odoo/odoo/pull/191389#issuecomment-2593456559', 'created_at': datetime.datetime(2025, 1, 29, 9, 24, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621125785, 'issue_id': 2816423042, 'author': 'xmo-odoo', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 29, 9, 35, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621153972, 'issue_id': 2816423042, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 9, 48, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621154094, 'issue_id': 2816423042, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 29, 9, 48, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:21:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195502.png)](https://mergebot.odoo.com/odoo/odoo/pull/195502)

fw-bot (Issue Creator) on (2025-01-28 18:21:23 UTC): @robinlej @qsm-odoo cherrypicking of pull request odoo/odoo#191389 failed.

stdout:
```
Auto-merging addons/website_forum/static/src/js/website_forum.js
CONFLICT (content): Merge conflict in addons/website_forum/static/src/js/website_forum.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-29 09:22:18 UTC): @robodoo r+

(pretty sure it won't work)

robodoo on (2025-01-29 09:22:20 UTC): @robinlej you may want to rebuild or fix this PR as it has failed CI.

robinlej on (2025-01-29 09:24:48 UTC): Hello @odoo/rd-security, can I have an override? I had to resolve the conflict but nothing changed on this forward-port.
Explanation of the line here: https://github.com/odoo/odoo/pull/191389#issuecomment-2593456559

xmo-odoo on (2025-01-29 09:35:27 UTC): @robodoo override=ci/security

robinlej on (2025-01-29 09:48:38 UTC): @robodoo r+

robodoo on (2025-01-29 09:48:42 UTC): This PR is already reviewed, reviewing it again is useless.

"
2816411555,pull_request,closed,,[FW][FIX] account_peppol: fix displayed error,"Fix the error displayed error.
The current code causes a key error.

task-no

Forward-Port-Of: odoo/odoo#195388",fw-bot,2025-01-28 18:14:57+00:00,[],2025-01-29 15:21:10+00:00,2025-01-29 15:21:10+00:00,https://github.com/odoo/odoo/pull/195501,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619735800, 'issue_id': 2816411555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195501.png)](https://mergebot.odoo.com/odoo/odoo/pull/195501)', 'created_at': datetime.datetime(2025, 1, 28, 18, 14, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619735818, 'issue_id': 2816411555, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195488\n* odoo/odoo#195473\n* odoo/odoo#195456\n* odoo/odoo#195442\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 18, 14, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621571221, 'issue_id': 2816411555, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 12, 58, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:14:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195501.png)](https://mergebot.odoo.com/odoo/odoo/pull/195501)

fw-bot (Issue Creator) on (2025-01-28 18:14:58 UTC): @clbr-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195488
* odoo/odoo#195473
* odoo/odoo#195456
* odoo/odoo#195442

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

antoine162 on (2025-01-29 12:58:47 UTC): @robodoo r+

"
2816408606,pull_request,closed,,[FW][FIX] account: compute journal_id payment register,"Steps:

- Install `account_sepa_drect_debit`
- Duplicate the default bank journal and add a bank account
- Create an invoice for a partner with valid mandate
- Open the payment register wizard
- Change journal from default one to the duplicated one
- Select 'SEPA Direct Debit' as payment method
- Click on 'Create payments'
-> Validation Error: ""The selected payment method is not available ...""

Cause:

In `account_sepa_direct_debit.action_create_payments`, the `journal_id` is recomputed when
calling the `write` method on the wizard.

Fix:

Dont recompute the `journal_id` if it is already in
`available_journal_ids`

Note:

We do the same for `payment_method_line_id`

opw-4485191

Forward-Port-Of: odoo/odoo#195304",fw-bot,2025-01-28 18:13:13+00:00,[],2025-01-29 02:43:46+00:00,2025-01-29 02:43:45+00:00,https://github.com/odoo/odoo/pull/195500,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619732522, 'issue_id': 2816408606, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195500.png)](https://mergebot.odoo.com/odoo/odoo/pull/195500)', 'created_at': datetime.datetime(2025, 1, 28, 18, 13, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619732562, 'issue_id': 2816408606, 'author': 'fw-bot', 'body': '@guva-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195492\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 18, 13, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620300380, 'issue_id': 2816408606, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 0, 2, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:13:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195500.png)](https://mergebot.odoo.com/odoo/odoo/pull/195500)

fw-bot (Issue Creator) on (2025-01-28 18:13:17 UTC): @guva-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195492

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-29 00:02:40 UTC): @robodoo r+

"
2816396307,pull_request,closed,,[FIX] mail: msg/thread actions dropdown icon/label misaligned,"They were slightly misaligned visually, which didn't look great.
This is fixes by replacing `.align-items-center` by `.align-items.baseline`

![Screenshot 2025-01-28 at 18 56 11](https://github.com/user-attachments/assets/91f371a3-07b8-46f2-9d51-44728af3bd10)
![Screenshot 2025-01-28 at 18 57 58](https://github.com/user-attachments/assets/8e6c1f25-bb96-4178-a8aa-a7ac955593a6)
![Screenshot 2025-01-28 at 19 01 37](https://github.com/user-attachments/assets/5861e704-81f5-418b-be49-9905f571f1a3)
![Screenshot 2025-01-28 at 19 01 29](https://github.com/user-attachments/assets/b601e30e-1a6c-4da9-a06d-a76a5e56accb)
",alexkuhn,2025-01-28 18:06:13+00:00,[],2025-01-29 10:10:54+00:00,2025-01-29 04:12:02+00:00,https://github.com/odoo/odoo/pull/195499,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619719158, 'issue_id': 2816396307, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195499.png)](https://mergebot.odoo.com/odoo/odoo/pull/195499)', 'created_at': datetime.datetime(2025, 1, 28, 18, 6, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620346164, 'issue_id': 2816396307, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 0, 42, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 18:06:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195499.png)](https://mergebot.odoo.com/odoo/odoo/pull/195499)

alexkuhn (Issue Creator) on (2025-01-29 00:42:39 UTC): @robodoo r+

"
2816337594,pull_request,closed,,[FW][FIX] website_hr_recruitment: fix plural,"Forward-Port-Of: odoo/odoo#195005
Forward-Port-Of: odoo/odoo#193276",fw-bot,2025-01-28 17:37:35+00:00,[],2025-01-30 17:36:28+00:00,2025-01-30 17:36:27+00:00,https://github.com/odoo/odoo/pull/195498,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619659361, 'issue_id': 2816337594, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195498.png)](https://mergebot.odoo.com/odoo/odoo/pull/195498)', 'created_at': datetime.datetime(2025, 1, 28, 17, 37, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619659385, 'issue_id': 2816337594, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 37, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619712837, 'issue_id': 2816337594, 'author': 'fw-bot', 'body': '@Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 18, 3, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471488, 'issue_id': 2816337594, 'author': 'fw-bot', 'body': '@Bertrand2 this forward port of odoo/odoo#193276 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 1, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:37:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195498.png)](https://mergebot.odoo.com/odoo/odoo/pull/195498)

fw-bot (Issue Creator) on (2025-01-28 17:37:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 18:03:02 UTC): @Bertrand2 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-29 02:01:10 UTC): @Bertrand2 this forward port of odoo/odoo#193276 is awaiting action (not merged or closed).

"
2816336921,pull_request,closed,,[FW][FIX] sale: round discount floats display,"## Versions:
17.0+
No fix needed in 16.0 as the discount was not displayed this way.

## Issue:
Discount descriptions contain long string floats while it should be truncated for human reading.

## Steps to reproduce:
- Activate `Discounts` through settings;
- Create a new sale order for any client with at least 1 product;
- Click the `Discount` button on the form;
- Apply a 7% `Global Discount`;
- Read the `Discount` product's description.

## Cause:
Some numbers cannot be represented correctly in Python (including 7, 3.3 etc.).

opw-4485316

Forward-Port-Of: odoo/odoo#195328",fw-bot,2025-01-28 17:37:17+00:00,[],2025-01-29 13:43:31+00:00,2025-01-29 13:43:31+00:00,https://github.com/odoo/odoo/pull/195497,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619658634, 'issue_id': 2816336921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195497.png)](https://mergebot.odoo.com/odoo/odoo/pull/195497)', 'created_at': datetime.datetime(2025, 1, 28, 17, 37, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619658733, 'issue_id': 2816336921, 'author': 'fw-bot', 'body': '@barracudapps cherrypicking of pull request odoo/odoo#195328 failed.\n\nstdout:\n```\nAuto-merging addons/sale/wizard/sale_order_discount.py\nCONFLICT (content): Merge conflict in addons/sale/wizard/sale_order_discount.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 37, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620922547, 'issue_id': 2816336921, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 7, 54, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:37:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195497.png)](https://mergebot.odoo.com/odoo/odoo/pull/195497)

fw-bot (Issue Creator) on (2025-01-28 17:37:20 UTC): @barracudapps cherrypicking of pull request odoo/odoo#195328 failed.

stdout:
```
Auto-merging addons/sale/wizard/sale_order_discount.py
CONFLICT (content): Merge conflict in addons/sale/wizard/sale_order_discount.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-01-29 07:54:06 UTC): @robodoo r+

"
2816322438,pull_request,closed,,[FW][FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.

Forward-Port-Of: odoo/odoo#195323
Forward-Port-Of: odoo/odoo#194500",fw-bot,2025-01-28 17:30:45+00:00,[],2025-01-29 02:49:47+00:00,2025-01-29 02:49:46+00:00,https://github.com/odoo/odoo/pull/195496,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619643691, 'issue_id': 2816322438, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195496.png)](https://mergebot.odoo.com/odoo/odoo/pull/195496)', 'created_at': datetime.datetime(2025, 1, 28, 17, 30, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619643709, 'issue_id': 2816322438, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/common.py\nCONFLICT (content): Merge conflict in addons/account/tests/common.py\nAuto-merging addons/account/tests/test_account_move_out_invoice.py\nAuto-merging odoo/addons/base/models/res_currency.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 30, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620299175, 'issue_id': 2816322438, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 0, 1, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:30:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195496.png)](https://mergebot.odoo.com/odoo/odoo/pull/195496)

fw-bot (Issue Creator) on (2025-01-28 17:30:47 UTC): @william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.

stdout:
```
Auto-merging addons/account/tests/common.py
CONFLICT (content): Merge conflict in addons/account/tests/common.py
Auto-merging addons/account/tests/test_account_move_out_invoice.py
Auto-merging odoo/addons/base/models/res_currency.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-01-29 00:01:37 UTC): @robodoo r+

"
2816315957,pull_request,closed,,[FW][FIX] website_sale_loyalty: Decimal rounding comparison issue,"Steps
-----
1. Add an item to the cart (ensure the total price has decimals).
2. During checkout, apply a coupon (e.g., a 50% discount).
3. Attempt to validate the payment.


Issue
-----
The frontend user encounters the following error:
""Cannot process payment: applied reward was changed or has expired.""

Cause
-----
In some cases, the comparison between initial_amount and the new amount_total fails due to a small decimal difference (e.g., 0.00002).

Solution
--------
Use the float_compare function to handle precise rounding.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195340
Forward-Port-Of: odoo/odoo#195266",fw-bot,2025-01-28 17:28:25+00:00,[],2025-01-29 13:43:33+00:00,2025-01-29 13:43:33+00:00,https://github.com/odoo/odoo/pull/195495,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619637938, 'issue_id': 2816315957, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195495.png)](https://mergebot.odoo.com/odoo/odoo/pull/195495)', 'created_at': datetime.datetime(2025, 1, 28, 17, 28, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619637965, 'issue_id': 2816315957, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 28, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:28:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195495.png)](https://mergebot.odoo.com/odoo/odoo/pull/195495)

fw-bot (Issue Creator) on (2025-01-28 17:28:27 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816297626,pull_request,closed,,[FIX] account_check_printing: specify which journal_id column to use,"This issue is not directly an Odoo issue, but it can create an issue if a custom module adds a field called journal_id to the account.payment model. There are no knock-on effects of this, because anyway the original developer should have specified the table. Additionally, it seems that there was a mild typo in the line before it that didn't affect anything. I see no harm in fixing it.

Description of the issue/feature this PR addresses:

Current behavior before PR:
No change in behavior.

Desired behavior after PR is merged:
No change in behavior.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gabe-grinspan,2025-01-28 17:20:23+00:00,[],2025-01-31 11:44:32+00:00,2025-01-31 11:44:32+00:00,https://github.com/odoo/odoo/pull/195494,"[('CLA', 'Contributor License Agreement'), ('Accounting', '')]","[{'comment_id': 2619619895, 'issue_id': 2816297626, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195494.png)](https://mergebot.odoo.com/odoo/odoo/pull/195494)', 'created_at': datetime.datetime(2025, 1, 28, 17, 20, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619682327, 'issue_id': 2816297626, 'author': 'gabe-grinspan', 'body': ""@RicGR98 I'm not sure why it's giving me the CLA error, I signed it. Please let me know how I can fix it. Thanks!"", 'created_at': datetime.datetime(2025, 1, 28, 17, 48, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624552816, 'issue_id': 2816297626, 'author': 'RicGR98', 'body': ""@gabe-grinspan \r\n\r\nThanks for your contribution :)\r\n\r\nI think it's because you have created your CLA file as a `.py` instead of `.md`. Could you try to correct that ?"", 'created_at': datetime.datetime(2025, 1, 30, 13, 42, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625540094, 'issue_id': 2816297626, 'author': 'gabe-grinspan', 'body': '@RicGR98 \r\nThank you! That seems to have worked.', 'created_at': datetime.datetime(2025, 1, 30, 20, 44, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626731794, 'issue_id': 2816297626, 'author': 'robodoo', 'body': '@gabe-grinspan @RicGR98 because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 31, 9, 21, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626732437, 'issue_id': 2816297626, 'author': 'RicGR98', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 31, 9, 21, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626732536, 'issue_id': 2816297626, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 31, 9, 21, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:20:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195494.png)](https://mergebot.odoo.com/odoo/odoo/pull/195494)

gabe-grinspan (Issue Creator) on (2025-01-28 17:48:35 UTC): @RicGR98 I'm not sure why it's giving me the CLA error, I signed it. Please let me know how I can fix it. Thanks!

RicGR98 on (2025-01-30 13:42:21 UTC): @gabe-grinspan 

Thanks for your contribution :)

I think it's because you have created your CLA file as a `.py` instead of `.md`. Could you try to correct that ?

gabe-grinspan (Issue Creator) on (2025-01-30 20:44:55 UTC): @RicGR98 
Thank you! That seems to have worked.

robodoo on (2025-01-31 09:21:23 UTC): @gabe-grinspan @RicGR98 because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

RicGR98 on (2025-01-31 09:21:43 UTC): @robodoo rebase-ff

robodoo on (2025-01-31 09:21:45 UTC): Merge method set to rebase and fast-forward.

"
2816286852,pull_request,closed,,[FIX] mrp: compute correctly bom cost in MO overview,"Steps to reproduce the bug:
- Create a workcenter “WC1”:
    - Cost by hour: 60
    - Setup time: 10 min
    - Cleanup time: 10 min
    - Time Efficiency: 85

- Create a storable product “P1” with the following BoM:
    - Operation: OP1 -> 60 min in WC1

- Create a MO to produce one unit of P1:
    - Confirm the MO
    - Go to the MO overview

Problem:
Time Efficiency, setup, and cleanup times are not taken into account in
the BoM Cost calculation.
The calculation should be the same as in the BoM overview. The purpose
of the BoM cost in the MO overview is to provide information for
comparison with the real cost, in case the user has modified certain
parameters during production.

Attention: There may be a slight difference in the calculation of
""mo_cost"" and ""bom_cost"" because the expected duration is rounded to
two digits in the work order. This affects the mo_cost calculation
since it relies directly on this field,


opw-4478070
",DjamelTouati,2025-01-28 17:15:35+00:00,[],2025-01-30 15:43:07+00:00,2025-01-30 15:43:07+00:00,https://github.com/odoo/odoo/pull/195493,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2619608560, 'issue_id': 2816286852, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195493.png)](https://mergebot.odoo.com/odoo/odoo/pull/195493)', 'created_at': datetime.datetime(2025, 1, 28, 17, 15, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624417650, 'issue_id': 2816286852, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 47, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:15:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195493.png)](https://mergebot.odoo.com/odoo/odoo/pull/195493)

Whenrow on (2025-01-30 12:47:23 UTC): robodoo r+

"
2816266850,pull_request,closed,,[FW][FIX] account: compute journal_id payment register,"Steps:

- Install `account_sepa_drect_debit`
- Duplicate the default bank journal and add a bank account
- Create an invoice for a partner with valid mandate
- Open the payment register wizard
- Change journal from default one to the duplicated one
- Select 'SEPA Direct Debit' as payment method
- Click on 'Create payments'
-> Validation Error: ""The selected payment method is not available ...""

Cause:

In `account_sepa_direct_debit.action_create_payments`, the `journal_id` is recomputed when
calling the `write` method on the wizard.

Fix:

Dont recompute the `journal_id` if it is already in
`available_journal_ids`

Note:

We do the same for `payment_method_line_id`

opw-4485191

Forward-Port-Of: odoo/odoo#195304",fw-bot,2025-01-28 17:06:30+00:00,[],2025-01-29 04:12:06+00:00,2025-01-29 04:12:06+00:00,https://github.com/odoo/odoo/pull/195492,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619585838, 'issue_id': 2816266850, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195492.png)](https://mergebot.odoo.com/odoo/odoo/pull/195492)', 'created_at': datetime.datetime(2025, 1, 28, 17, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619585892, 'issue_id': 2816266850, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 6, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:06:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195492.png)](https://mergebot.odoo.com/odoo/odoo/pull/195492)

fw-bot (Issue Creator) on (2025-01-28 17:06:34 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816265926,pull_request,closed,,"[FW][FIX] point_of_sale, pos_restaurant: Add UUID in demo data","Before this commit, demo data had no uuid, which is necessary for the rontend to function properly.

A fix had been merged by adding a default value to the uuid field, but this did not work.

The frontend is responsible for creating UUIDs, so we added the uuid to the demo data.

Forward-Port-Of: odoo/odoo#194990",fw-bot,2025-01-28 17:06:03+00:00,[],2025-02-04 14:44:01+00:00,2025-02-04 14:44:01+00:00,https://github.com/odoo/odoo/pull/195491,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619584771, 'issue_id': 2816265926, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195491.png)](https://mergebot.odoo.com/odoo/odoo/pull/195491)', 'created_at': datetime.datetime(2025, 1, 28, 17, 6, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619584802, 'issue_id': 2816265926, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#194990 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/data/orders_demo.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/data/orders_demo.xml\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/models/pos_payment.py\nAuto-merging addons/pos_restaurant/data/restaurant_session_floor.xml\nCONFLICT (content): Merge conflict in addons/pos_restaurant/data/restaurant_session_floor.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 6, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684792, 'issue_id': 2816265926, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo this forward port of odoo/odoo#194990 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201541, 'issue_id': 2816265926, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo this forward port of odoo/odoo#194990 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729801, 'issue_id': 2816265926, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo this forward port of odoo/odoo#194990 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:06:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195491.png)](https://mergebot.odoo.com/odoo/odoo/pull/195491)

fw-bot (Issue Creator) on (2025-01-28 17:06:05 UTC): @davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#194990 failed.

stdout:
```
Auto-merging addons/point_of_sale/data/orders_demo.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/data/orders_demo.xml
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/models/pos_payment.py
Auto-merging addons/pos_restaurant/data/restaurant_session_floor.xml
CONFLICT (content): Merge conflict in addons/pos_restaurant/data/restaurant_session_floor.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:04 UTC): @davidmonnom @vlst-odoo this forward port of odoo/odoo#194990 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:10 UTC): @davidmonnom @vlst-odoo this forward port of odoo/odoo#194990 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:00 UTC): @davidmonnom @vlst-odoo this forward port of odoo/odoo#194990 is awaiting action (not merged or closed).

"
2816265280,pull_request,closed,,[FW][FIX] point_of_sale: cash rounding when payment exceeds the order total,"Check the commit message for description.

Forward-Port-Of: odoo/odoo#195089",fw-bot,2025-01-28 17:05:45+00:00,[],2025-01-29 09:25:24+00:00,2025-01-29 09:25:24+00:00,https://github.com/odoo/odoo/pull/195490,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619584330, 'issue_id': 2816265280, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195490.png)](https://mergebot.odoo.com/odoo/odoo/pull/195490)', 'created_at': datetime.datetime(2025, 1, 28, 17, 5, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619584356, 'issue_id': 2816265280, 'author': 'fw-bot', 'body': '@caburj @davidmonnom cherrypicking of pull request odoo/odoo#195089 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/point_of_sale/static/src/app/generic_components/order_widget/order_widget.xml deleted in 5e5347b4eca58895b03a78e4fae4caf266dd793c and modified in 4dc29fade8c40064d1bc9b8767bc5390ddca03b4.  Version 4dc29fade8c40064d1bc9b8767bc5390ddca03b4 of addons/point_of_sale/static/src/app/generic_components/order_widget/order_widget.xml left in tree.\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.xml\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_status/payment_status.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_status/payment_status.js\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/point_of_sale/static/src/utils.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/utils.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/payment_screen_tour.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/pos_cash_rounding_tour.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/pos/tours/pos_cash_rounding_tour.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\nAuto-merging addons/pos_restaurant/static/src/app/screens/bill_screen/bill_screen.xml\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/bill_screen/bill_screen.xml\nAuto-merging addons/pos_restaurant/static/src/app/screens/receipt_screen/order_receipt/order_receipt.xml\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/receipt_screen/order_receipt/order_receipt.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 5, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620164754, 'issue_id': 2816265280, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 22, 13, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620185972, 'issue_id': 2816265280, 'author': 'caburj', 'body': 'robodoo r-', 'created_at': datetime.datetime(2025, 1, 28, 22, 29, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620195085, 'issue_id': 2816265280, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 22, 35, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620246688, 'issue_id': 2816265280, 'author': 'robodoo', 'body': ""@caburj @davidmonnom 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 28, 23, 11, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:05:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195490.png)](https://mergebot.odoo.com/odoo/odoo/pull/195490)

fw-bot (Issue Creator) on (2025-01-28 17:05:53 UTC): @caburj @davidmonnom cherrypicking of pull request odoo/odoo#195089 failed.

stdout:
```
CONFLICT (modify/delete): addons/point_of_sale/static/src/app/generic_components/order_widget/order_widget.xml deleted in 5e5347b4eca58895b03a78e4fae4caf266dd793c and modified in 4dc29fade8c40064d1bc9b8767bc5390ddca03b4.  Version 4dc29fade8c40064d1bc9b8767bc5390ddca03b4 of addons/point_of_sale/static/src/app/generic_components/order_widget/order_widget.xml left in tree.
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.xml
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_status/payment_status.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_status/payment_status.js
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/point_of_sale/static/src/utils.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/utils.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/payment_screen_tour.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/pos_cash_rounding_tour.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/pos/tours/pos_cash_rounding_tour.js
Auto-merging addons/point_of_sale/tests/test_frontend.py
Auto-merging addons/pos_restaurant/static/src/app/screens/bill_screen/bill_screen.xml
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/bill_screen/bill_screen.xml
Auto-merging addons/pos_restaurant/static/src/app/screens/receipt_screen/order_receipt/order_receipt.xml
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/receipt_screen/order_receipt/order_receipt.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

caburj on (2025-01-28 22:13:59 UTC): robodoo r+

caburj on (2025-01-28 22:29:14 UTC): robodoo r-

caburj on (2025-01-28 22:35:35 UTC): robodoo r+

robodoo on (2025-01-28 23:11:58 UTC): @caburj @davidmonnom 'ci/runbot' failed on this reviewed PR.

"
2816262199,pull_request,closed,,[FW][FIX] website_forum: fix spam search with multiple nodes,"Since render.qweb was replaced by renderToElement, the spam input search crashes if more than one post meets the search. This commit renders a fragment instead of an element to bypass this limitation.

Steps to reproduce:
- Connect as Admin
- Flag 2 posts on the forum (""..."" at the bottom of a post > Flag)
- Go to the flagged posts in the moderation tools (left bar)
- Click on ""Filter Tool""
- Select the ""Text"" tab
- Type ""e"" (to select both posts) => Traceback.

(No linked task)

Forward-Port-Of: odoo/odoo#191389",fw-bot,2025-01-28 17:04:14+00:00,[],2025-01-29 09:47:14+00:00,2025-01-29 09:47:14+00:00,https://github.com/odoo/odoo/pull/195489,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619580529, 'issue_id': 2816262199, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195489.png)](https://mergebot.odoo.com/odoo/odoo/pull/195489)', 'created_at': datetime.datetime(2025, 1, 28, 17, 4, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619580571, 'issue_id': 2816262199, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 4, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619748131, 'issue_id': 2816262199, 'author': 'fw-bot', 'body': '@robinlej @qsm-odoo the next pull request (odoo/odoo#195502) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 18, 21, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620977210, 'issue_id': 2816262199, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 8, 27, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:04:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195489.png)](https://mergebot.odoo.com/odoo/odoo/pull/195489)

fw-bot (Issue Creator) on (2025-01-28 17:04:16 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 18:21:21 UTC): @robinlej @qsm-odoo the next pull request (odoo/odoo#195502) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-29 08:27:58 UTC): @robodoo r+

"
2816256055,pull_request,closed,,[FW][FIX] account_peppol: fix displayed error,"Fix the error displayed error.
The current code causes a key error.

task-no

Forward-Port-Of: odoo/odoo#195388",fw-bot,2025-01-28 17:01:16+00:00,[],2025-01-29 15:15:17+00:00,2025-01-29 15:15:17+00:00,https://github.com/odoo/odoo/pull/195488,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619573537, 'issue_id': 2816256055, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195488.png)](https://mergebot.odoo.com/odoo/odoo/pull/195488)', 'created_at': datetime.datetime(2025, 1, 28, 17, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619573570, 'issue_id': 2816256055, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 1, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 17:01:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195488.png)](https://mergebot.odoo.com/odoo/odoo/pull/195488)

fw-bot (Issue Creator) on (2025-01-28 17:01:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816192871,pull_request,closed,,[FW][I18N] point_of_sale: make receipt header fully translated,"Because 'Tax ID' was within the `t-esc` the term was never translated. This goes against some country's compliance requirements for receipts, so we make it translatable now.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195240
Forward-Port-Of: odoo/odoo#194801",fw-bot,2025-01-28 16:34:18+00:00,[],2025-01-29 01:12:17+00:00,2025-01-29 01:12:17+00:00,https://github.com/odoo/odoo/pull/195487,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619506488, 'issue_id': 2816192871, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195487.png)](https://mergebot.odoo.com/odoo/odoo/pull/195487)', 'created_at': datetime.datetime(2025, 1, 28, 16, 34, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619506518, 'issue_id': 2816192871, 'author': 'fw-bot', 'body': '@ticodoo @oomsveta this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 16, 34, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619553420, 'issue_id': 2816192871, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 16, 52, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 16:34:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195487.png)](https://mergebot.odoo.com/odoo/odoo/pull/195487)

fw-bot (Issue Creator) on (2025-01-28 16:34:20 UTC): @ticodoo @oomsveta this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ticodoo on (2025-01-28 16:52:54 UTC): @robodoo r+

"
2816167488,pull_request,closed,,[FW][FIX] test_lint: fix list comprehension issue when assigned,"This commit add support for comprenhension expression on assign node

Forward-Port-Of: odoo/odoo#194878",fw-bot,2025-01-28 16:25:55+00:00,[],2025-01-30 08:17:47+00:00,2025-01-29 15:25:39+00:00,https://github.com/odoo/odoo/pull/195486,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619485100, 'issue_id': 2816167488, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195486.png)](https://mergebot.odoo.com/odoo/odoo/pull/195486)', 'created_at': datetime.datetime(2025, 1, 28, 16, 25, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619485162, 'issue_id': 2816167488, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 16, 25, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619565248, 'issue_id': 2816167488, 'author': 'fw-bot', 'body': '@flvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 16, 57, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471071, 'issue_id': 2816167488, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621037233, 'issue_id': 2816167488, 'author': 'fw-bot', 'body': '@flvr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 29, 8, 58, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621307202, 'issue_id': 2816167488, 'author': 'flvr-odoo', 'body': 'fw-bot up to saas-18.1\r\nrobodoo r+', 'created_at': datetime.datetime(2025, 1, 29, 10, 55, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621330213, 'issue_id': 2816167488, 'author': 'flvr-odoo', 'body': 'robodoo up to saas-18.1', 'created_at': datetime.datetime(2025, 1, 29, 11, 5, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621330348, 'issue_id': 2816167488, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 1, 29, 11, 5, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623814525, 'issue_id': 2816167488, 'author': 'fw-bot', 'body': ""Forward-porting to 'master' (from odoo/odoo#195638)."", 'created_at': datetime.datetime(2025, 1, 30, 8, 17, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 16:25:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195486.png)](https://mergebot.odoo.com/odoo/odoo/pull/195486)

fw-bot (Issue Creator) on (2025-01-28 16:25:58 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 16:57:50 UTC): @flvr-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-29 02:00:48 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-29 08:58:32 UTC): @flvr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

flvr-odoo on (2025-01-29 10:55:18 UTC): fw-bot up to saas-18.1
robodoo r+

flvr-odoo on (2025-01-29 11:05:18 UTC): robodoo up to saas-18.1

robodoo on (2025-01-29 11:05:21 UTC): Forward-porting to 'saas-18.1'.

fw-bot (Issue Creator) on (2025-01-30 08:17:46 UTC): Forward-porting to 'master' (from odoo/odoo#195638).

"
2816166477,pull_request,closed,,[FW][FIX] website_hr_recruitment: fix plural,"Forward-Port-Of: odoo/odoo#195005
Forward-Port-Of: odoo/odoo#193276",fw-bot,2025-01-28 16:25:27+00:00,[],2025-01-30 14:06:16+00:00,2025-01-30 14:06:16+00:00,https://github.com/odoo/odoo/pull/195485,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619483856, 'issue_id': 2816166477, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195485.png)](https://mergebot.odoo.com/odoo/odoo/pull/195485)', 'created_at': datetime.datetime(2025, 1, 28, 16, 25, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619483891, 'issue_id': 2816166477, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 16, 25, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 16:25:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195485.png)](https://mergebot.odoo.com/odoo/odoo/pull/195485)

fw-bot (Issue Creator) on (2025-01-28 16:25:29 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816158018,pull_request,closed,,[FW][FIX] website_sale_loyalty: Decimal rounding comparison issue,"Steps
-----
1. Add an item to the cart (ensure the total price has decimals).
2. During checkout, apply a coupon (e.g., a 50% discount).
3. Attempt to validate the payment.


Issue
-----
The frontend user encounters the following error:
""Cannot process payment: applied reward was changed or has expired.""

Cause
-----
In some cases, the comparison between initial_amount and the new amount_total fails due to a small decimal difference (e.g., 0.00002).

Solution
--------
Use the float_compare function to handle precise rounding.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195340
Forward-Port-Of: odoo/odoo#195266",fw-bot,2025-01-28 16:21:45+00:00,[],2025-01-29 11:06:50+00:00,2025-01-29 11:06:50+00:00,https://github.com/odoo/odoo/pull/195484,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619474626, 'issue_id': 2816158018, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195484.png)](https://mergebot.odoo.com/odoo/odoo/pull/195484)', 'created_at': datetime.datetime(2025, 1, 28, 16, 21, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619474657, 'issue_id': 2816158018, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 16, 21, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 16:21:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195484.png)](https://mergebot.odoo.com/odoo/odoo/pull/195484)

fw-bot (Issue Creator) on (2025-01-28 16:21:47 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816129221,pull_request,closed,,[FIX] account: Traceback when downloading Original bills,"Users currently cannot retrieve original bills attached to
newly created draft moves, because an error is blocking the action

Steps to reproduce:
- Go to Accounting > Vendor > Bills
- Upload a pdf
- Back in list view, select the created bill, Download > Original Bills

Issue: Traceback will raise
`AttributeError: 'bool' object has no attribute 'decode'`

This occurs because, after https://github.com/odoo/odoo/commit/ce73ed61bcf293953bc0c821ceaef3ddb9a47e3c,
draft moves are not named '/' anymore, the name field will be just `False`.
However reportlab expects a string and it crashes

opw-4502791",agr-odoo,2025-01-28 16:11:01+00:00,[],2025-01-29 18:21:53+00:00,2025-01-29 18:21:53+00:00,https://github.com/odoo/odoo/pull/195483,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2619444262, 'issue_id': 2816129221, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195483.png)](https://mergebot.odoo.com/odoo/odoo/pull/195483)', 'created_at': datetime.datetime(2025, 1, 28, 16, 11, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621375703, 'issue_id': 2816129221, 'author': 'robodoo', 'body': '@FlorianGilbert you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 29, 11, 23, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 16:11:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195483.png)](https://mergebot.odoo.com/odoo/odoo/pull/195483)

robodoo on (2025-01-29 11:23:47 UTC): @FlorianGilbert you may want to rebuild or fix this PR as it has failed CI.

"
2816116658,pull_request,closed,,[IMP] payment: disable post-processing cron when no provider enabled,"The payment post-processing cron is run every 10 minutes to ensure smooth operations, but waking up crons incurs a non-negligible performance cost.

Since the `payment` module is automatically installed with the `account` module, most databases have the `payment` module installed with its cron, even if they didn't enable any provider.

This commit disables the cron until a provider is enabled.

task-4467217
",Feyensv,2025-01-28 16:06:34+00:00,[],2025-02-05 18:26:46+00:00,2025-02-05 18:26:46+00:00,https://github.com/odoo/odoo/pull/195482,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619432637, 'issue_id': 2816116658, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195482.png)](https://mergebot.odoo.com/odoo/odoo/pull/195482)', 'created_at': datetime.datetime(2025, 1, 28, 16, 6, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637140140, 'issue_id': 2816116658, 'author': 'robodoo', 'body': ""@Feyensv @AntoineVDV 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 15, 9, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 16:06:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195482.png)](https://mergebot.odoo.com/odoo/odoo/pull/195482)

robodoo on (2025-02-05 15:09:58 UTC): @Feyensv @AntoineVDV 'ci/runbot' failed on this reviewed PR.

"
2816100190,pull_request,closed,,[FW][FIX] hr: fix singleton record error,"### Description of the issue/feature this PR addresses:
- Similar error: https://github.com/odoo/odoo/pull/194338
- In `_compute_plan_available_ids()` with `self` there can be multiple records but still use `self.department_id` in `for scheduler in todo`.

### Current behavior before PR:
- The error ValueError: Expected singleton: mail.activity.schedule(1, 2) occurred

Desired behavior after PR is merged:
- The problem has been fixed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194650",fw-bot,2025-01-28 15:59:53+00:00,[],2025-01-30 10:26:32+00:00,2025-01-30 10:26:32+00:00,https://github.com/odoo/odoo/pull/195481,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619413473, 'issue_id': 2816100190, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195481.png)](https://mergebot.odoo.com/odoo/odoo/pull/195481)', 'created_at': datetime.datetime(2025, 1, 28, 15, 59, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619413498, 'issue_id': 2816100190, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195467\n* odoo/odoo#194938\n* odoo/odoo#194926\n* odoo/odoo#194910\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 59, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620471152, 'issue_id': 2816100190, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this forward port of odoo/odoo#194650 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 29, 2, 0, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623354099, 'issue_id': 2816100190, 'author': 'fw-bot', 'body': '@JocelynVN @Bertrand2 this forward port of odoo/odoo#194650 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 30, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623849751, 'issue_id': 2816100190, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 8, 36, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:59:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195481.png)](https://mergebot.odoo.com/odoo/odoo/pull/195481)

fw-bot (Issue Creator) on (2025-01-28 15:59:55 UTC): @JocelynVN @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195467
* odoo/odoo#194938
* odoo/odoo#194926
* odoo/odoo#194910

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-29 02:00:53 UTC): @JocelynVN @Bertrand2 this forward port of odoo/odoo#194650 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-30 02:01:49 UTC): @JocelynVN @Bertrand2 this forward port of odoo/odoo#194650 is awaiting action (not merged or closed).

Bertrand2 on (2025-01-30 08:36:53 UTC): robodoo r+

"
2816079070,pull_request,closed,,[FW][FIX] website_forum: fix spam search with multiple nodes,"Since render.qweb was replaced by renderToElement, the spam input search crashes if more than one post meets the search. This commit renders a fragment instead of an element to bypass this limitation.

Steps to reproduce:
- Connect as Admin
- Flag 2 posts on the forum (""..."" at the bottom of a post > Flag)
- Go to the flagged posts in the moderation tools (left bar)
- Click on ""Filter Tool""
- Select the ""Text"" tab
- Type ""e"" (to select both posts) => Traceback.

(No linked task)

Forward-Port-Of: odoo/odoo#191389",fw-bot,2025-01-28 15:51:11+00:00,[],2025-01-29 11:08:36+00:00,2025-01-29 11:08:36+00:00,https://github.com/odoo/odoo/pull/195480,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619390462, 'issue_id': 2816079070, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195480.png)](https://mergebot.odoo.com/odoo/odoo/pull/195480)', 'created_at': datetime.datetime(2025, 1, 28, 15, 51, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619390488, 'issue_id': 2816079070, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 51, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:51:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195480.png)](https://mergebot.odoo.com/odoo/odoo/pull/195480)

fw-bot (Issue Creator) on (2025-01-28 15:51:13 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2816077054,pull_request,closed,,[FW][FIX] sale: round discount floats display,"## Versions:
17.0+
No fix needed in 16.0 as the discount was not displayed this way.

## Issue:
Discount descriptions contain long string floats while it should be truncated for human reading.

## Steps to reproduce:
- Activate `Discounts` through settings;
- Create a new sale order for any client with at least 1 product;
- Click the `Discount` button on the form;
- Apply a 7% `Global Discount`;
- Read the `Discount` product's description.

## Cause:
Some numbers cannot be represented correctly in Python (including 7, 3.3 etc.).

opw-4485316

Forward-Port-Of: odoo/odoo#195328",fw-bot,2025-01-28 15:50:24+00:00,[],2025-02-03 19:24:23+00:00,2025-02-03 19:24:23+00:00,https://github.com/odoo/odoo/pull/195479,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619388412, 'issue_id': 2816077054, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195479.png)](https://mergebot.odoo.com/odoo/odoo/pull/195479)', 'created_at': datetime.datetime(2025, 1, 28, 15, 50, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619388440, 'issue_id': 2816077054, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 50, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619503100, 'issue_id': 2816077054, 'author': 'fw-bot', 'body': '@barracudapps ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 16, 32, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619658658, 'issue_id': 2816077054, 'author': 'fw-bot', 'body': '@barracudapps the next pull request (odoo/odoo#195497) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 17, 37, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684498, 'issue_id': 2816077054, 'author': 'fw-bot', 'body': '@barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201276, 'issue_id': 2816077054, 'author': 'fw-bot', 'body': '@barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729208, 'issue_id': 2816077054, 'author': 'fw-bot', 'body': '@barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630790426, 'issue_id': 2816077054, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 18, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:50:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195479.png)](https://mergebot.odoo.com/odoo/odoo/pull/195479)

fw-bot (Issue Creator) on (2025-01-28 15:50:26 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 16:32:59 UTC): @barracudapps ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-28 17:37:19 UTC): @barracudapps the next pull request (odoo/odoo#195497) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:00:49 UTC): @barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:00:48 UTC): @barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:32 UTC): @barracudapps this forward port of odoo/odoo#195328 is awaiting action (not merged or closed).

barracudapps on (2025-02-03 12:18:56 UTC): @robodoo r+

"
2816052819,pull_request,closed,,[FW][FIX] web_editor: prevent insertion of link on ctrl+k with video focused,"This PR addresses an issue where selecting a video and pressing Ctrl+K would introduce a link(anchor tag) on top of the video. The fix ensures that pressing Ctrl+K while a video is focused will no longer insert a link,  resolving the issue of an empty link being added.

task-2819776

Forward-Port-Of: odoo/odoo#195270
Forward-Port-Of: odoo/odoo#162615",fw-bot,2025-01-28 15:40:39+00:00,[],2025-01-29 01:12:13+00:00,2025-01-29 01:12:13+00:00,https://github.com/odoo/odoo/pull/195478,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2619362436, 'issue_id': 2816052819, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195478.png)](https://mergebot.odoo.com/odoo/odoo/pull/195478)', 'created_at': datetime.datetime(2025, 1, 28, 15, 40, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619362465, 'issue_id': 2816052819, 'author': 'fw-bot', 'body': '@perm-odoo @robinlej this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195410\n* odoo/odoo#195353\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 40, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619463402, 'issue_id': 2816052819, 'author': 'robinlej', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 28, 16, 17, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:40:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195478.png)](https://mergebot.odoo.com/odoo/odoo/pull/195478)

fw-bot (Issue Creator) on (2025-01-28 15:40:41 UTC): @perm-odoo @robinlej this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195410
* odoo/odoo#195353

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinlej on (2025-01-28 16:17:29 UTC): @robodoo r+

"
2816052064,pull_request,closed,,[FW][FIX] account: Show partner limit currency,"The credit limit in the partner form view was missing a currency symbol, leading to ambiguity about whether the limit was in the customer's currency or the company's currency.

Displayed the partner limit in the company currency to avoid confusion.

task-4507336


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195325
Forward-Port-Of: odoo/odoo#194807",fw-bot,2025-01-28 15:40:20+00:00,[],2025-01-30 15:43:10+00:00,2025-01-30 15:43:10+00:00,https://github.com/odoo/odoo/pull/195477,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619361581, 'issue_id': 2816052064, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195477.png)](https://mergebot.odoo.com/odoo/odoo/pull/195477)', 'created_at': datetime.datetime(2025, 1, 28, 15, 40, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619361611, 'issue_id': 2816052064, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 40, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619442228, 'issue_id': 2816052064, 'author': 'fw-bot', 'body': '@seifgneedy @hupo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 16, 10, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624174752, 'issue_id': 2816052064, 'author': 'fw-bot', 'body': '@seifgneedy @hupo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 11, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624383601, 'issue_id': 2816052064, 'author': 'fw-bot', 'body': '@seifgneedy @hupo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 30, 12, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624386694, 'issue_id': 2816052064, 'author': 'seifgneedy', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 12, 33, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:40:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195477.png)](https://mergebot.odoo.com/odoo/odoo/pull/195477)

fw-bot (Issue Creator) on (2025-01-28 15:40:22 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 16:10:20 UTC): @seifgneedy @hupo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 11:02:16 UTC): @seifgneedy @hupo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-30 12:32:30 UTC): @seifgneedy @hupo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

seifgneedy on (2025-01-30 12:33:57 UTC): @robodoo r+

"
2816044784,pull_request,open,,[FW][FIX] l10n_es_tbai_multi_refund: fix non-bizkaia situation,"Description of the issue/feature this PR addresses:

Applies https://github.com/odoo/odoo/pull/194130 for all TicketBAI invoices, and not only for those for Bizkaia.


Current behavior before PR:
When invoice is not for Bizkaia, it fails to render the XML.

<details>

```
2025-01-20 11:41:09,902 28 ERROR odoo odoo.http: Exception during request handling.                                       
Traceback (most recent call last):                                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 997, in get                                                          
    cache_value = field_cache[record._ids[0]]                                                                             
KeyError: 55111                                                                                                           
                                                                                                                          
During handling of the above exception, another exception occurred:                                                       
                                                                                                                          
Traceback (most recent call last):                                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1161, in __get__                                                  
    value = env.cache.get(record, self)                                                                                   
  File ""/opt/odoo/custom/src/odoo/odoo/api.py"", line 1004, in get                                                         
    raise CacheMiss(record, field)                                                                                        
odoo.exceptions.CacheMiss: 'account.edi.document(55111,).edi_content'                                                     
                                                                                                                          
During handling of the above exception, another exception occurred:                                                       
                                                                                                                          
Traceback (most recent call last):                                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 5201, in ensure_one
    _id, = self._ids
ValueError: not enough values to unpack (expected 1, got 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""<3645>"", line 580, in template_3645
  File ""<3645>"", line 175, in template_3645_content
  File ""/opt/odoo/auto/addons/l10n_es_edi_tbai/models/account_move.py"", line 130, in _get_l10n_es_tbai_sequence_and_number
    self.ensure_one()
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 5204, in ensure_one
    raise ValueError(""Expected singleton: %s"" % self)
ValueError: Expected singleton: account.move()

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 2066, in __call__
    response = request._serve_db()
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 1653, in _serve_db
    return service_model.retrying(self._serve_ir_http, self.env)
  File ""/opt/odoo/custom/src/odoo/odoo/service/model.py"", line 133, in retrying
    result = func()
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 1681, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 1795, in dispatch
    return self.request.registry['ir.http']._dispatch(endpoint)
  File ""/opt/odoo/auto/addons/website/models/ir_http.py"", line 237, in _dispatch                                                
    response = super()._dispatch(endpoint)                                                                                      
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_http.py"", line 154, in _dispatch                                   
    result = endpoint(**request.params)                                                                                         
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 734, in route_wrapper                                                     
    result = endpoint(self, *args, **params_ok)                                                                                 
  File ""/opt/odoo/auto/addons/web/controllers/binary.py"", line 75, in content_common                                            
    stream = request.env['ir.binary']._get_stream_from(record, field, filename, filename_field, mimetype)                       
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_binary.py"", line 126, in _get_stream_from                          
    stream = self._record_to_stream(record, field_name)                                                                         
  File ""/opt/odoo/auto/addons/website/models/ir_binary.py"", line 41, in _record_to_stream                                       
    return super()._record_to_stream(record, field_name)                                                                        
  File ""/opt/odoo/auto/addons/documents/models/ir_binary.py"", line 13, in _record_to_stream                                     
    return super()._record_to_stream(record, field_name)                                                                        
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_binary.py"", line 87, in _record_to_stream                          
    return Stream.from_binary_field(record, field_name)                                                                         
  File ""/opt/odoo/custom/src/odoo/odoo/http.py"", line 523, in from_binary_field                                                 
    data_b64 = record[field_name]                                                                                               
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 5975, in __getitem__
    return self._fields[key].__get__(self, self.env.registry[self._name])
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1210, in __get__
    self.compute_value(recs)                                                                                                    
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 2360, in compute_value
    super().compute_value(records)
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 1392, in compute_value
    records._compute_field_value(self)             
  File ""/opt/odoo/custom/src/odoo/odoo/models.py"", line 4259, in _compute_field_value                                     
    fields.determine(field.compute, self)
  File ""/opt/odoo/custom/src/odoo/odoo/fields.py"", line 98, in determine   
    return needle(*args)                             
  File ""/opt/odoo/auto/addons/account_edi/models/account_edi_document.py"", line 63, in _compute_edi_content
    res = base64.b64encode(move_applicability['edi_content'](move))
  File ""/opt/odoo/auto/addons/l10n_es_edi_tbai/models/account_edi_format.py"", line 251, in _l10n_es_tbai_get_invoice_content_edi
    xml_tree = self._get_l10n_es_tbai_invoice_xml(invoice, cancel)[invoice]['xml_file']
  File ""/opt/odoo/auto/addons/l10n_es_edi_tbai/models/account_edi_format.py"", line 275, in _get_l10n_es_tbai_invoice_xml
    xml_str = self.env['ir.qweb']._render(template_name, values)       
  File ""/opt/odoo/custom/src/odoo/odoo/tools/profiler.py"", line 294, in _tracked_method_render
    return method_render(self, template, values, **options)                                                                     
  File ""/opt/odoo/custom/src/odoo/odoo/addons/base/models/ir_qweb.py"", line 588, in _render
    result = ''.join(rendering)                                                                                                 
  File ""<3641>"", line 35, in template_3641
  File ""<3641>"", line 24, in template_3641_content                                                                              
  File ""<3643>"", line 287, in template_3643                                                                                     
  File ""<3643>"", line 85, in template_3643_content                                                                              
  File ""<3645>"", line 586, in template_3645                                                                                     
odoo.addons.base.models.ir_qweb.QWebException: Error while render the template
ValueError: Expected singleton: account.move()       
Template: l10n_es_edi_tbai.template_invoice_factura                                                                             
Path: /t/CabeceraFactura/t[3]/FacturasRectificadasSustituidas/IDFacturaRectificadaSustituida/SerieFactura
Node: <SerieFactura t-out=""seq_and_num[0]""/>                                                                                                                                
2025-01-20 11:41:09,903 28 INFO odoo werkzeug: 89.7.25.15 - - [20/Jan/2025 11:41:09] ""GET /web/content/account.edi.document/55111/edi_content HTTP/1.1"" 500 - 49 0.083 0.049
```

</details>

Desired behavior after PR is merged:
All invoices for TicketBAI work the same.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
@RicGR98 @moduon MT-4966 @gelojr

Forward-Port-Of: odoo/odoo#194361",fw-bot,2025-01-28 15:37:15+00:00,[],2025-02-03 02:02:25+00:00,,https://github.com/odoo/odoo/pull/195476,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619353844, 'issue_id': 2816044784, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195476.png)](https://mergebot.odoo.com/odoo/odoo/pull/195476)', 'created_at': datetime.datetime(2025, 1, 28, 15, 37, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619353879, 'issue_id': 2816044784, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 cherrypicking of pull request odoo/odoo#194361 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es_edi_tbai/data/template_invoice.xml\nAuto-merging addons/l10n_es_edi_tbai/models/account_edi_format.py\nCONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/data/template_LROE_bizkaia.xml deleted in aa637921d29092f650ac63c1d4c880fc17147a28 and modified in cb4d022e2b9d4886ab326568476f5bf492fed5ec.  Version cb4d022e2b9d4886ab326568476f5bf492fed5ec of addons/l10n_es_edi_tbai_multi_refund/data/template_LROE_bizkaia.xml left in tree.\nCONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/models/account_edi_format.py deleted in aa637921d29092f650ac63c1d4c880fc17147a28 and modified in cb4d022e2b9d4886ab326568476f5bf492fed5ec.  Version cb4d022e2b9d4886ab326568476f5bf492fed5ec of addons/l10n_es_edi_tbai_multi_refund/models/account_edi_format.py left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 37, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685066, 'issue_id': 2816044784, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194361 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201757, 'issue_id': 2816044784, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194361 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730218, 'issue_id': 2816044784, 'author': 'fw-bot', 'body': '@Yajo @RicGR98 this forward port of odoo/odoo#194361 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:37:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195476.png)](https://mergebot.odoo.com/odoo/odoo/pull/195476)

fw-bot (Issue Creator) on (2025-01-28 15:37:22 UTC): @Yajo @RicGR98 cherrypicking of pull request odoo/odoo#194361 failed.

stdout:
```
Auto-merging addons/l10n_es_edi_tbai/data/template_invoice.xml
Auto-merging addons/l10n_es_edi_tbai/models/account_edi_format.py
CONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/data/template_LROE_bizkaia.xml deleted in aa637921d29092f650ac63c1d4c880fc17147a28 and modified in cb4d022e2b9d4886ab326568476f5bf492fed5ec.  Version cb4d022e2b9d4886ab326568476f5bf492fed5ec of addons/l10n_es_edi_tbai_multi_refund/data/template_LROE_bizkaia.xml left in tree.
CONFLICT (modify/delete): addons/l10n_es_edi_tbai_multi_refund/models/account_edi_format.py deleted in aa637921d29092f650ac63c1d4c880fc17147a28 and modified in cb4d022e2b9d4886ab326568476f5bf492fed5ec.  Version cb4d022e2b9d4886ab326568476f5bf492fed5ec of addons/l10n_es_edi_tbai_multi_refund/models/account_edi_format.py left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:18 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194361 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:32 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194361 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:24 UTC): @Yajo @RicGR98 this forward port of odoo/odoo#194361 is awaiting action (not merged or closed).

"
2816029906,pull_request,closed,,[FW][FIX] l10n_ar_withholding: use disposable data during coa update,"### Steps to reproduce the issue:

1. Create two Argentinian Companies
2. In _Accounting > Configuration > Settings_ select the following Fiscal Localization Package for both companies: _Argentina - Argentine Generic Chart of Accounts for Exempt Individuals_
2. In _Accounting > Configuration > Accounting > Chart of Accounts_, duplicate an account and change its code to 6.0.0.00.020
3. Install _Argentina - Payment Withholdings_
4. The following issue occurs:

### Explanation:

In `_l10n_ar_withholding_post_init`, for each company, we will compare a previously created dict to the existing accounts. If an account already exists, the data is removed from the dict, and since it is created before we start looping through the Companies to make the comparison, any removed data is removed for the companies that follow as well.

### Fix reasoning:

We will copy the original dict to keep a safe version of the data and only modify the copy during the comparison process.

opw-4446501

Forward-Port-Of: odoo/odoo#194329",fw-bot,2025-01-28 15:31:11+00:00,[],2025-02-03 13:08:40+00:00,2025-02-03 13:08:40+00:00,https://github.com/odoo/odoo/pull/195475,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619336698, 'issue_id': 2816029906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195475.png)](https://mergebot.odoo.com/odoo/odoo/pull/195475)', 'created_at': datetime.datetime(2025, 1, 28, 15, 31, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619336793, 'issue_id': 2816029906, 'author': 'fw-bot', 'body': '@stpa-odoo @william-andre cherrypicking of pull request odoo/odoo#194329 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_ar_withholding/__init__.py\nCONFLICT (content): Merge conflict in addons/l10n_ar_withholding/__init__.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 31, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685089, 'issue_id': 2816029906, 'author': 'fw-bot', 'body': '@stpa-odoo @william-andre this forward port of odoo/odoo#194329 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201771, 'issue_id': 2816029906, 'author': 'fw-bot', 'body': '@stpa-odoo @william-andre this forward port of odoo/odoo#194329 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730254, 'issue_id': 2816029906, 'author': 'fw-bot', 'body': '@stpa-odoo @william-andre this forward port of odoo/odoo#194329 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630438398, 'issue_id': 2816029906, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 43, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:31:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195475.png)](https://mergebot.odoo.com/odoo/odoo/pull/195475)

fw-bot (Issue Creator) on (2025-01-28 15:31:15 UTC): @stpa-odoo @william-andre cherrypicking of pull request odoo/odoo#194329 failed.

stdout:
```
Auto-merging addons/l10n_ar_withholding/__init__.py
CONFLICT (content): Merge conflict in addons/l10n_ar_withholding/__init__.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:20 UTC): @stpa-odoo @william-andre this forward port of odoo/odoo#194329 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:33 UTC): @stpa-odoo @william-andre this forward port of odoo/odoo#194329 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:26 UTC): @stpa-odoo @william-andre this forward port of odoo/odoo#194329 is awaiting action (not merged or closed).

william-andre on (2025-02-03 09:43:23 UTC): @robodoo r+

"
2816029129,pull_request,closed,,[FW][FIX] website_sale: show order ref on all checkout states,"Versions
--------
- 17.0+

Steps
-----
1. Enable Wire Transfer as a payment provider;
2. in eCommerce, add an item to cart;
3. go to checkout;
4. pay via wire transfer.

Issue
-----
The order reference isn't shown below the ""Thank you for your order"" message because the payment transaction hasn't been approved yet.

Solution
--------
Show the order reference regardless of transaction status.

opw-3844583

Forward-Port-Of: odoo/odoo#195228",fw-bot,2025-01-28 15:30:52+00:00,[],2025-01-29 16:55:49+00:00,2025-01-29 16:55:48+00:00,https://github.com/odoo/odoo/pull/195474,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619335813, 'issue_id': 2816029129, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195474.png)](https://mergebot.odoo.com/odoo/odoo/pull/195474)', 'created_at': datetime.datetime(2025, 1, 28, 15, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619335844, 'issue_id': 2816029129, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 30, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619422191, 'issue_id': 2816029129, 'author': 'fw-bot', 'body': '@lvsz @AntoineVDV ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 16, 2, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:30:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195474.png)](https://mergebot.odoo.com/odoo/odoo/pull/195474)

fw-bot (Issue Creator) on (2025-01-28 15:30:54 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 16:02:59 UTC): @lvsz @AntoineVDV ci/runbot failed on this forward-port PR

"
2816012457,pull_request,closed,,[FW][FIX] account_peppol: fix displayed error,"Fix the error displayed error.
The current code causes a key error.

task-no

Forward-Port-Of: odoo/odoo#195388",fw-bot,2025-01-28 15:24:57+00:00,[],2025-01-29 16:55:48+00:00,2025-01-29 16:55:47+00:00,https://github.com/odoo/odoo/pull/195473,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2619320264, 'issue_id': 2816012457, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195473.png)](https://mergebot.odoo.com/odoo/odoo/pull/195473)', 'created_at': datetime.datetime(2025, 1, 28, 15, 24, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619320280, 'issue_id': 2816012457, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 24, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619407716, 'issue_id': 2816012457, 'author': 'fw-bot', 'body': '@clbr-odoo @antoine162 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 28, 15, 57, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:24:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195473.png)](https://mergebot.odoo.com/odoo/odoo/pull/195473)

fw-bot (Issue Creator) on (2025-01-28 15:24:59 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-28 15:57:43 UTC): @clbr-odoo @antoine162 ci/runbot failed on this forward-port PR

"
2815980549,pull_request,closed,,[FIX] l10n_es_edi_tbai fix total_amount calculation in TBAI xml.,"Steps to reproduce:
-------------------
- in a Spanish company, make sure l10n_es_edi_tbai is installed.
- create an invoice with one product and add 2 taxes for that line (for example, the 21% goods and the 5.2 ES tax).
- confirm and send the invoice with TBAI.
- in the TBAI xml you will find the total amount wrong as the base amount was calculated twice, one time for each tax.

Cause:
-----
Since (#180062), the tax details calculation process was reworked.
So now the total amount is calculated inside a loop with this formula
```
for values in values_per_grouping_key.values():
    total_amount += values['base_amount'] + values['tax_amount']
```
in our case the one invoice line will generate 2 tax groups (one for each tax) so this code will add the base_amount twice in the total_amount calculation.

Fix
---
move the base amount aggregation outside the loop, in a separate loop over the base_lines.

opw-4501051",m-gad1,2025-01-28 15:13:01+00:00,[],2025-01-29 09:35:05+00:00,2025-01-29 09:32:13+00:00,https://github.com/odoo/odoo/pull/195472,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2619288611, 'issue_id': 2815980549, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195472.png)](https://mergebot.odoo.com/odoo/odoo/pull/195472)', 'created_at': datetime.datetime(2025, 1, 28, 15, 13, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621121961, 'issue_id': 2815980549, 'author': 'm-gad1', 'body': 'created a new PR with the right branch (#195561)', 'created_at': datetime.datetime(2025, 1, 29, 9, 33, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:13:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195472.png)](https://mergebot.odoo.com/odoo/odoo/pull/195472)

m-gad1 (Issue Creator) on (2025-01-29 09:33:45 UTC): created a new PR with the right branch (#195561)

"
2815973883,pull_request,open,,[FIX] product: add the company in the constraint of UoM'barcode,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amoyaux,2025-01-28 15:10:45+00:00,[],2025-01-28 16:00:23+00:00,,https://github.com/odoo/odoo/pull/195471,"[('RD', 'research & development, internal work')]","[{'comment_id': 2619282075, 'issue_id': 2815973883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195471.png)](https://mergebot.odoo.com/odoo/odoo/pull/195471)', 'created_at': datetime.datetime(2025, 1, 28, 15, 10, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:10:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195471.png)](https://mergebot.odoo.com/odoo/odoo/pull/195471)

"
2815954198,pull_request,closed,,[FW][FIX] stock: fix stock report accessing non-existent field,"This commit fixes accessing `stock_move_line.packaging_uom_qty` field
which doesn't exist and changes it to access
`stock_move.packaging_uom_qty` instead.

Runbot : 111967

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195397",fw-bot,2025-01-28 15:05:25+00:00,[],2025-01-28 17:04:11+00:00,2025-01-28 17:04:11+00:00,https://github.com/odoo/odoo/pull/195469,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2619266618, 'issue_id': 2815954198, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195469.png)](https://mergebot.odoo.com/odoo/odoo/pull/195469)', 'created_at': datetime.datetime(2025, 1, 28, 15, 5, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619266657, 'issue_id': 2815954198, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow cherrypicking of pull request odoo/odoo#195397 failed.\n\nstdout:\n```\nAuto-merging addons/stock/report/report_stockpicking_operations.xml\nCONFLICT (content): Merge conflict in addons/stock/report/report_stockpicking_operations.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 28, 15, 5, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:05:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195469.png)](https://mergebot.odoo.com/odoo/odoo/pull/195469)

fw-bot (Issue Creator) on (2025-01-28 15:05:27 UTC): @mohammadhossam @Whenrow cherrypicking of pull request odoo/odoo#195397 failed.

stdout:
```
Auto-merging addons/stock/report/report_stockpicking_operations.xml
CONFLICT (content): Merge conflict in addons/stock/report/report_stockpicking_operations.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2815941189,pull_request,closed,,"[FIX] point_of_sale, pos_settle_due: prevent creation of empty orders","Before this commit, depositing money for a customer with a zero balance could result in the creation of an empty order upon refreshing the browser. This issue arose because empty orders without payments were being synchronized, leading to unintended empty orders in the system.

This commit addresses the problem by ensuring that empty orders without payments are not synchronized and prevents the creation of such empty orders during the deposit process.

opw-4483049

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-28 15:01:18+00:00,[],2025-01-30 15:48:29+00:00,2025-01-30 15:48:29+00:00,https://github.com/odoo/odoo/pull/195468,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2619255075, 'issue_id': 2815941189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195468.png)](https://mergebot.odoo.com/odoo/odoo/pull/195468)', 'created_at': datetime.datetime(2025, 1, 28, 15, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624488077, 'issue_id': 2815941189, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 13, 15, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-28 15:01:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195468.png)](https://mergebot.odoo.com/odoo/odoo/pull/195468)

caburj on (2025-01-30 13:15:07 UTC): robodoo r+

"
