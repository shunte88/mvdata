id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2771823378,pull_request,closed,,"[FW][FIX] im_livechat, website_livechat: handle optional message.thread","On small displays, starting a new website livechat with an operator that has an `user_livechat_username` crashes when rendering the username.

Steps to reproduce
-----
1. Select User Menu Icon > My Profile / Preferences > enter an Online Chat Name
2. On a mobile device or small window, open the livechat on the website
3. Send any new message
4. The following traceback occurs
```
Caused by: TypeError: Cannot read properties of undefined (reading 'channel_type')
    at get authorName
```

Cause
-----
On small displays, `thread` for the default operator message becomes undefined when it is reassigned to the new thread. This causes an error in `get authorName()` when the undefined `thread` is accessed directly to detemine the displayed username.

Solution
-----
Add an optional chain (?) when accessing `this.message.thread` to handle the possible nullish value.

opw-4446208

Forward-Port-Of: odoo/odoo#192605",fw-bot,2025-01-07 03:33:54+00:00,[],2025-01-07 17:42:24+00:00,2025-01-07 16:05:30+00:00,https://github.com/odoo/odoo/pull/192617,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574326807, 'issue_id': 2771823378, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192617.png)](https://mergebot.odoo.com/odoo/odoo/pull/192617)', 'created_at': datetime.datetime(2025, 1, 7, 3, 33, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574326808, 'issue_id': 2771823378, 'author': 'fw-bot', 'body': '@juwu-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192616\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 3, 33, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575047825, 'issue_id': 2771823378, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 11, 26, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 03:33:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192617.png)](https://mergebot.odoo.com/odoo/odoo/pull/192617)

fw-bot (Issue Creator) on (2025-01-07 03:33:56 UTC): @juwu-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192616

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-07 11:26:15 UTC): @robodoo r+

"
2771751410,pull_request,closed,,"[FW][FIX] im_livechat, website_livechat: handle optional message.thread","On small displays, starting a new website livechat with an operator that has an `user_livechat_username` crashes when rendering the username.

Steps to reproduce
-----
1. Select User Menu Icon > My Profile / Preferences > enter an Online Chat Name
2. On a mobile device or small window, open the livechat on the website
3. Send any new message
4. The following traceback occurs
```
Caused by: TypeError: Cannot read properties of undefined (reading 'channel_type')
    at get authorName
```

Cause
-----
On small displays, `thread` for the default operator message becomes undefined when it is reassigned to the new thread. This causes an error in `get authorName()` when the undefined `thread` is accessed directly to detemine the displayed username.

Solution
-----
Add an optional chain (?) when accessing `this.message.thread` to handle the possible nullish value.

opw-4446208

Forward-Port-Of: odoo/odoo#192605",fw-bot,2025-01-07 02:11:36+00:00,[],2025-01-21 14:08:55+00:00,2025-01-07 14:05:57+00:00,https://github.com/odoo/odoo/pull/192616,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574258849, 'issue_id': 2771751410, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192616.png)](https://mergebot.odoo.com/odoo/odoo/pull/192616)', 'created_at': datetime.datetime(2025, 1, 7, 2, 11, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574258858, 'issue_id': 2771751410, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 2, 11, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 02:11:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192616.png)](https://mergebot.odoo.com/odoo/odoo/pull/192616)

fw-bot (Issue Creator) on (2025-01-07 02:11:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771694038,pull_request,closed,,"[FIX] hr_recruitment, hr_recruitment_sms: apply missing dependency of…","… hr_recruitment on sms in a glue module

Missing dependency caused errors when uninstalling sms after installing hr_recruitment. The glue module approach is implemented for the benefit of users who decide to opt out of IAP services. Resolves #191635

Description of the issue/feature this PR addresses:

Current behavior before PR:
[Issue 191635](https://github.com/odoo/odoo/issues/191635)
Desired behavior after PR is merged:
You will be able to uninstall sms module safely which will in turn uninstall the new module hr_recruitment_sms without causing issues with hr_recruitment.

Runbot Templates is failing because new modules typically shouldn't be added in stable.
An exception can be given after review and approval.

A similar buggy sms action in hr.candidate was introduced later in #169955 
I'll create a new PR targeting 18.0 once this one is forward ported.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omarkhair,2025-01-07 01:01:14+00:00,[],2025-01-21 23:11:12+00:00,2025-01-21 23:11:12+00:00,https://github.com/odoo/odoo/pull/192615,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574193900, 'issue_id': 2771694038, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192615.png)](https://mergebot.odoo.com/odoo/odoo/pull/192615)', 'created_at': datetime.datetime(2025, 1, 7, 1, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605928269, 'issue_id': 2771694038, 'author': 'omarkhair', 'body': 'Fix will be applied only in master.', 'created_at': datetime.datetime(2025, 1, 21, 23, 11, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 01:01:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192615.png)](https://mergebot.odoo.com/odoo/odoo/pull/192615)

omarkhair (Issue Creator) on (2025-01-21 23:11:12 UTC): Fix will be applied only in master.

"
2771672642,pull_request,closed,,[FW][FIX] sales: computing sales team in invoice,"Versions
16.0+

Description of the issue/feature this PR addresses:

The issue occurs when selecting a partner in an invoice, the sales team is not correctly computed. The problem arises because the default_team_id is not passed as a parameter to the context when the partner is selected, which works correctly in sales orders but fails in invoices.

Current behavior before PR:

When modifying the partner_id in an invoice, the sales team is not recomputed, leading to incorrect or missing sales team assignment.

Desired behavior after PR is merged:

After this PR is merged, modifying the partner_id on an invoice will correctly recompute the sales team by passing the default_team_id in the context, ensuring consistent behavior between invoices and sales orders.

I will now provide a short video demonstrating the error. This issue is replicable if none of the sales teams have any members assigned.
https://drive.google.com/file/d/15mUpXvdlVpGZXW976PK7EVYH6X4sm2CJ/view?usp=sharing

PR of v16 https://github.com/odoo/odoo/pull/180961

Forward-Port-Of: odoo/odoo#192472
Forward-Port-Of: odoo/odoo#181244",fw-bot,2025-01-07 00:34:14+00:00,[],2025-01-21 11:16:32+00:00,2025-01-07 11:13:53+00:00,https://github.com/odoo/odoo/pull/192614,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574170762, 'issue_id': 2771672642, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192614.png)](https://mergebot.odoo.com/odoo/odoo/pull/192614)', 'created_at': datetime.datetime(2025, 1, 7, 0, 34, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574170779, 'issue_id': 2771672642, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 0, 34, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574792291, 'issue_id': 2771672642, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 26, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 00:34:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192614.png)](https://mergebot.odoo.com/odoo/odoo/pull/192614)

fw-bot (Issue Creator) on (2025-01-07 00:34:16 UTC): @feg-adhoc @Feyensv this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-07 09:26:36 UTC): @robodoo r+

"
2771672413,pull_request,closed,,[FW][IMP] im_livechat: sort sessions by creation date,"This commit changes the order of livechat sessions in the kanban view to sort them descending by their `create_date`.

task-4452928

Forward-Port-Of: odoo/odoo#192487",fw-bot,2025-01-07 00:33:59+00:00,[],2025-01-07 11:42:03+00:00,2025-01-07 11:13:49+00:00,https://github.com/odoo/odoo/pull/192613,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574170574, 'issue_id': 2771672413, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192613.png)](https://mergebot.odoo.com/odoo/odoo/pull/192613)', 'created_at': datetime.datetime(2025, 1, 7, 0, 34, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574170588, 'issue_id': 2771672413, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 0, 34, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574204466, 'issue_id': 2771672413, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 1, 10, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574790911, 'issue_id': 2771672413, 'author': 'maki-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 25, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-07 00:34:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192613.png)](https://mergebot.odoo.com/odoo/odoo/pull/192613)

fw-bot (Issue Creator) on (2025-01-07 00:34:03 UTC): @maki-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 01:10:48 UTC): @maki-odoo @alexkuhn ci/runbot failed on this forward-port PR

maki-odoo on (2025-01-07 09:25:56 UTC): @robodoo r+

"
2771579059,pull_request,closed,,[FW][FIX] l10n_fr: remove is_france_country,"Description of the issue/feature this PR addresses:
The field **is_france_country** was added to the **l10n_fr.res_company_form_l10n_fr** view with the invisible attribute set to 1. This caused an error on Odoo SH due to commit #162009. Since fields used in Python expressions are automatically added to the view, we do not need to keep it.

Current behavior before PR:
When you enable tests for the module l10n_fr, you have the following error : 

Please indicate why the always invisible fields are present in the view, or remove the field tag.
Addons: 'l10n_fr'   Views: ['res_company_form_l10n_fr']

Desired behavior after PR is merged:

Pass the test test_uncommented_invisible_field


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192220
Forward-Port-Of: odoo/odoo#191944",fw-bot,2025-01-06 22:51:58+00:00,[],2025-01-21 11:16:27+00:00,2025-01-07 11:13:23+00:00,https://github.com/odoo/odoo/pull/192612,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574067400, 'issue_id': 2771579059, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192612.png)](https://mergebot.odoo.com/odoo/odoo/pull/192612)', 'created_at': datetime.datetime(2025, 1, 6, 22, 51, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574067454, 'issue_id': 2771579059, 'author': 'fw-bot', 'body': '@cro-odoo @gawa-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 22, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249412, 'issue_id': 2771579059, 'author': 'fw-bot', 'body': '@cro-odoo @gawa-odoo this forward port of odoo/odoo#191944 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574690880, 'issue_id': 2771579059, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 8, 39, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 22:51:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192612.png)](https://mergebot.odoo.com/odoo/odoo/pull/192612)

fw-bot (Issue Creator) on (2025-01-06 22:52:00 UTC): @cro-odoo @gawa-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:37 UTC): @cro-odoo @gawa-odoo this forward port of odoo/odoo#191944 is awaiting action (not merged or closed).

gawa-odoo on (2025-01-07 08:39:09 UTC): @robodoo r+

"
2771578835,pull_request,closed,,[FW][FIX] mail: ease click on quick action of chat window,"Click on quick ation button in Chat window header was a bit tedious in desktop. This happens because the clickable area is 24px x 24px.

This commit makes it easier by increasing to 28px x 28px, thanks to explicit `p-1` on buttons. This ain't much but this gives less frustration to use chat window quick actions.


<img width=""601"" alt=""Screenshot 2025-01-02 at 18 23 47"" src=""https://github.com/user-attachments/assets/b0c09d0c-906b-43b9-b8f7-6fb954c34998"" />

Forward-Port-Of: odoo/odoo#192268
Forward-Port-Of: odoo/odoo#192241",fw-bot,2025-01-06 22:51:44+00:00,[],2025-01-07 13:02:30+00:00,2025-01-07 12:41:42+00:00,https://github.com/odoo/odoo/pull/192611,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574065899, 'issue_id': 2771578835, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192611.png)](https://mergebot.odoo.com/odoo/odoo/pull/192611)', 'created_at': datetime.datetime(2025, 1, 6, 22, 51, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574066076, 'issue_id': 2771578835, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 22, 51, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248762, 'issue_id': 2771578835, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this forward port of odoo/odoo#192241 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574987131, 'issue_id': 2771578835, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 10, 55, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 22:51:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192611.png)](https://mergebot.odoo.com/odoo/odoo/pull/192611)

fw-bot (Issue Creator) on (2025-01-06 22:51:50 UTC): @alexkuhn @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:14 UTC): @alexkuhn @seb-odoo this forward port of odoo/odoo#192241 is awaiting action (not merged or closed).

alexkuhn on (2025-01-07 10:55:15 UTC): @robodoo r+

"
2771575216,pull_request,closed,,[FW][FIX] website_livechat : update style to make clear UI,"Purpose of this PR:

Enhance the UI styling to address issues caused by the absence of the `o_livechat_no_rating` and `o_livechat_operator_avatar` classes,might removed by other PR's.

before: 
![image](https://github.com/user-attachments/assets/a4309794-229f-4d01-b0da-e959a58fa874)
after:
![image](https://github.com/user-attachments/assets/ae66c8d1-7b08-42e9-8f82-75575e3f3347)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188754",fw-bot,2025-01-06 22:49:03+00:00,[],2025-01-07 13:02:26+00:00,2025-01-07 12:41:38+00:00,https://github.com/odoo/odoo/pull/192610,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2574061693, 'issue_id': 2771575216, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192610.png)](https://mergebot.odoo.com/odoo/odoo/pull/192610)', 'created_at': datetime.datetime(2025, 1, 6, 22, 49, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574061701, 'issue_id': 2771575216, 'author': 'fw-bot', 'body': '@jayp-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192607\n* odoo/odoo#192599\n* odoo/odoo#192589\n* odoo/odoo#192575\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 22, 49, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574985044, 'issue_id': 2771575216, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 10, 54, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 22:49:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192610.png)](https://mergebot.odoo.com/odoo/odoo/pull/192610)

fw-bot (Issue Creator) on (2025-01-06 22:49:05 UTC): @jayp-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192607
* odoo/odoo#192599
* odoo/odoo#192589
* odoo/odoo#192575

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-07 10:54:13 UTC): @robodoo r+

"
2771570587,pull_request,closed,,[FW][FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192458",fw-bot,2025-01-06 22:44:37+00:00,[],2025-01-21 11:16:16+00:00,2025-01-07 11:04:17+00:00,https://github.com/odoo/odoo/pull/192609,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2574056345, 'issue_id': 2771570587, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192609.png)](https://mergebot.odoo.com/odoo/odoo/pull/192609)', 'created_at': datetime.datetime(2025, 1, 6, 22, 44, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574056354, 'issue_id': 2771570587, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 22, 44, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574090482, 'issue_id': 2771570587, 'author': 'fw-bot', 'body': '@kitan191 @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 23, 14, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 22:44:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192609.png)](https://mergebot.odoo.com/odoo/odoo/pull/192609)

fw-bot (Issue Creator) on (2025-01-06 22:44:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 23:14:10 UTC): @kitan191 @h4818 ci/runbot failed on this forward-port PR

"
2771545001,pull_request,closed,,[IMP] Highlight invalid Xpaths,"Description of the issue/feature this PR addresses:
ir.ui.view form view's code_editor highlights invalid xpath nodes for Studio views.
![image](https://github.com/user-attachments/assets/b025de43-6f9c-44c6-b58f-391275a3221e)

This feature increases productivity for Upgrade Projects, Rolling Release tickets, and post-upgrade issue tickets.
Oftentimes, upgrading a database to the latest version of Odoo results in many Studio Customization Views invalid.
![image](https://github.com/user-attachments/assets/eb5669b6-ca15-4b64-8303-88522a0e50d2)
They become incompatible for the new Odoo version because they have 
1. Nodes with invalid xpath expression 
2. Nodes with deprecated field 
3. etc..,

This feature allows user to identify invalid xpath without having to manually check each line of the arch.

Current behavior before PR:
Studio views can have nodes with invalid Xpath and the ir.ui.view form view does not notify user about this.

Desired behavior after PR is merged:
ir.ui.view form view's code_editor highlights invalid xpath nodes for Studio views.

How to test:
1. Make a studio view 
4. Open the studio view in ir.ui.view form view.
5. Add a node with invalid xpath
6. it is highlighted in red.

Limitation:

![image](https://github.com/user-attachments/assets/45f79545-5a12-42dd-abb1-7f2b177596a8)
We have two children nodes whose Xpath expressions are invalid, but they are not highlighted in red as their parent node cannot be anchored.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",suju-odoo,2025-01-06 22:21:50+00:00,['suju-odoo'],2025-01-22 01:59:55+00:00,2025-01-22 01:59:55+00:00,https://github.com/odoo/odoo/pull/192608,"[('RD', 'research & development, internal work')]","[{'comment_id': 2574029127, 'issue_id': 2771545001, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192608.png)](https://mergebot.odoo.com/odoo/odoo/pull/192608)', 'created_at': datetime.datetime(2025, 1, 6, 22, 21, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581296425, 'issue_id': 2771545001, 'author': 'suju-odoo', 'body': '@Guillaume-gdi thank you for the review earlier . I made requested changes!', 'created_at': datetime.datetime(2025, 1, 9, 21, 39, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587255602, 'issue_id': 2771545001, 'author': 'Guillaume-gdi', 'body': '@suju-odoo Can you check why some CIs are red ? Maybe need to fix something and/or rebase.\r\n\r\n![image](https://github.com/user-attachments/assets/e2e12cca-eda2-4c93-899d-59548c7291cf)', 'created_at': datetime.datetime(2025, 1, 13, 14, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590886308, 'issue_id': 2771545001, 'author': 'suju-odoo', 'body': 'Hi @Guillaume-gdi, thank you for your review.\r\nNow all cis look good.', 'created_at': datetime.datetime(2025, 1, 14, 19, 0, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591164172, 'issue_id': 2771545001, 'author': 'suju-odoo', 'body': '> I tried to test on the runbot. I created a new view that inherits another view with an invalid XPATH. I don\'t see the red background. ![image](https://private-user-images.githubusercontent.com/78849981/403124325-4c6b05fd-b067-410b-841f-a1b7e45bf05f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY4OTA4NjgsIm5iZiI6MTczNjg5MDU2OCwicGF0aCI6Ii83ODg0OTk4MS80MDMxMjQzMjUtNGM2YjA1ZmQtYjA2Ny00MTBiLTg0MWYtYTFiN2U0NWJmMDVmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTE0VDIxMzYwOFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTY4MTZlZTllM2UzNGExMzZmNTRiNWU2NzgzZmU1OGZlODI0Y2U3NzQxMWUxMjBlYWI0ZWEwZGVlOGQ3ZGE4MDMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.7A8EXvq-FG7w4N3nB89y-yFVq4uysrJzRobLaBBSqaw)\r\n> \r\n> and when I hit the save button, I have this error message already. ![image](https://private-user-images.githubusercontent.com/78849981/403124574-e1f1ec3a-a6c0-436f-b51d-7051fce0f064.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY4OTA4NjgsIm5iZiI6MTczNjg5MDU2OCwicGF0aCI6Ii83ODg0OTk4MS80MDMxMjQ1NzQtZTFmMWVjM2EtYTZjMC00MzZmLWI1MWQtNzA1MWZjZTBmMDY0LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTE0VDIxMzYwOFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTJmNWY5NmNkNThlMGZmNGY1NTg4NTIyNTQ5NDU3YjRkZGRkMGQ2NzAxMDk1YWY0Mjc0ZjE1ODAxZDg2NGI2NmMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.p_EUmYm37JBl81UuON6TBBNQ87cn1c12tc4sCoOfCFw)\r\n> \r\n> What am I missing ?\r\n\r\nHi @Guillaume-gdi, the child view has to be created using Odoo Studio (it has to have \'studio_customization\' prefix in its xmlid).\r\nhttps://github.com/odoo/enterprise/blob/292817dafb944569586f282d2a4f33ce151c1f67/web_studio/models/ir_ui_view.py#L525\r\n\r\nYou couldn\'t enter the \'invalid\' xpath to the child view because the child view was not created using Studio. For views that are not created with Studio, Odoo does not allow it to have invalid xpath. \r\n\r\nI created a studio view that inherits ""Default list view for x_gdi"".\r\n<img width=""1116"" alt=""image"" src=""https://github.com/user-attachments/assets/dfa7fe0e-c338-4579-a4c5-7dafd96e9c66"" />\r\nYou can give it a try to this.\r\n\r\nDo you think I need more detailed documentation for how to test this new feature? \r\n\r\nAlso, thank you for the additional comments. I\'ll take a look at them and ping you again.', 'created_at': datetime.datetime(2025, 1, 14, 21, 41, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593159836, 'issue_id': 2771545001, 'author': 'Guillaume-gdi', 'body': ""Thank's for the clarification @suju-odoo. I gave it a try and I'm wondering if the UX is good enough...\r\n\r\nI'm not sure everyone will understand what this red background signifies. It could imply that the XML is not valid or some other issue. Could you find a way to explicitly inform the user that there is no matching element for the expression in the inherited view?\r\n\r\nWhat do you think ?"", 'created_at': datetime.datetime(2025, 1, 15, 15, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593200108, 'issue_id': 2771545001, 'author': 'suju-odoo', 'body': ""@Guillaume-gdi \r\nI agree with that. \r\nI'm thinking to put a text box which would appear when you hover the mouse on top of the highlighted line. \r\nLike this \r\n![image](https://github.com/user-attachments/assets/475f57e4-802b-44df-b345-6ccba2a7a7b2)\r\n\r\nWhat do you think ?"", 'created_at': datetime.datetime(2025, 1, 15, 15, 26, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593314311, 'issue_id': 2771545001, 'author': 'Guillaume-gdi', 'body': 'Sounds good @suju-odoo', 'created_at': datetime.datetime(2025, 1, 15, 15, 58, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 22:21:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192608.png)](https://mergebot.odoo.com/odoo/odoo/pull/192608)

suju-odoo (Issue Creator) on (2025-01-09 21:39:48 UTC): @Guillaume-gdi thank you for the review earlier . I made requested changes!

Guillaume-gdi on (2025-01-13 14:29:15 UTC): @suju-odoo Can you check why some CIs are red ? Maybe need to fix something and/or rebase.

![image](https://github.com/user-attachments/assets/e2e12cca-eda2-4c93-899d-59548c7291cf)

suju-odoo (Issue Creator) on (2025-01-14 19:00:22 UTC): Hi @Guillaume-gdi, thank you for your review.
Now all cis look good.

suju-odoo (Issue Creator) on (2025-01-14 21:41:59 UTC): Hi @Guillaume-gdi, the child view has to be created using Odoo Studio (it has to have 'studio_customization' prefix in its xmlid).
https://github.com/odoo/enterprise/blob/292817dafb944569586f282d2a4f33ce151c1f67/web_studio/models/ir_ui_view.py#L525

You couldn't enter the 'invalid' xpath to the child view because the child view was not created using Studio. For views that are not created with Studio, Odoo does not allow it to have invalid xpath. 

I created a studio view that inherits ""Default list view for x_gdi"".
<img width=""1116"" alt=""image"" src=""https://github.com/user-attachments/assets/dfa7fe0e-c338-4579-a4c5-7dafd96e9c66"" />
You can give it a try to this.

Do you think I need more detailed documentation for how to test this new feature? 

Also, thank you for the additional comments. I'll take a look at them and ping you again.

Guillaume-gdi on (2025-01-15 15:18:10 UTC): Thank's for the clarification @suju-odoo. I gave it a try and I'm wondering if the UX is good enough...

I'm not sure everyone will understand what this red background signifies. It could imply that the XML is not valid or some other issue. Could you find a way to explicitly inform the user that there is no matching element for the expression in the inherited view?

What do you think ?

suju-odoo (Issue Creator) on (2025-01-15 15:26:57 UTC): @Guillaume-gdi 
I agree with that. 
I'm thinking to put a text box which would appear when you hover the mouse on top of the highlighted line. 
Like this 
![image](https://github.com/user-attachments/assets/475f57e4-802b-44df-b345-6ccba2a7a7b2)

What do you think ?

Guillaume-gdi on (2025-01-15 15:58:14 UTC): Sounds good @suju-odoo

"
2771466411,pull_request,closed,,[FW][FIX] website_livechat : update style to make clear UI,"Purpose of this PR:

Enhance the UI styling to address issues caused by the absence of the `o_livechat_no_rating` and `o_livechat_operator_avatar` classes,might removed by other PR's.

before: 
![image](https://github.com/user-attachments/assets/a4309794-229f-4d01-b0da-e959a58fa874)
after:
![image](https://github.com/user-attachments/assets/ae66c8d1-7b08-42e9-8f82-75575e3f3347)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188754",fw-bot,2025-01-06 21:20:34+00:00,[],2025-01-21 12:48:41+00:00,2025-01-07 12:41:02+00:00,https://github.com/odoo/odoo/pull/192607,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573947196, 'issue_id': 2771466411, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192607.png)](https://mergebot.odoo.com/odoo/odoo/pull/192607)', 'created_at': datetime.datetime(2025, 1, 6, 21, 20, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573947209, 'issue_id': 2771466411, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 21, 20, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 21:20:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192607.png)](https://mergebot.odoo.com/odoo/odoo/pull/192607)

fw-bot (Issue Creator) on (2025-01-06 21:20:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771460999,pull_request,closed,,[FW][FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192458",fw-bot,2025-01-06 21:16:40+00:00,[],2025-01-21 09:05:21+00:00,2025-01-07 08:44:45+00:00,https://github.com/odoo/odoo/pull/192606,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573941740, 'issue_id': 2771460999, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192606.png)](https://mergebot.odoo.com/odoo/odoo/pull/192606)', 'created_at': datetime.datetime(2025, 1, 6, 21, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573941754, 'issue_id': 2771460999, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 21, 16, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 21:16:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192606.png)](https://mergebot.odoo.com/odoo/odoo/pull/192606)

fw-bot (Issue Creator) on (2025-01-06 21:16:42 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771424978,pull_request,closed,,"[FIX] im_livechat, website_livechat: handle optional message.thread","On small displays, starting a new website livechat with an operator that has an `user_livechat_username` crashes when rendering the username.

Steps to reproduce
-----
1. Select User Menu Icon > My Profile / Preferences > enter an Online Chat Name
2. On a mobile device or small window, open the livechat on the website
3. Send any new message
4. The following traceback occurs
```
Caused by: TypeError: Cannot read properties of undefined (reading 'channel_type')
    at get authorName
```

Cause
-----
On small displays, `thread` for the default operator message becomes undefined when it is reassigned to the new thread. This causes an error in `get authorName()` when the undefined `thread` is accessed directly to detemine the displayed username.

Solution
-----
Add an optional chain (?) when accessing `this.message.thread` to handle the possible nullish value.

opw-4446208",juwu-odoo,2025-01-06 20:50:54+00:00,[],2025-01-07 10:55:33+00:00,2025-01-07 02:11:17+00:00,https://github.com/odoo/odoo/pull/192605,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573903365, 'issue_id': 2771424978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192605.png)](https://mergebot.odoo.com/odoo/odoo/pull/192605)', 'created_at': datetime.datetime(2025, 1, 6, 20, 50, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:50:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192605.png)](https://mergebot.odoo.com/odoo/odoo/pull/192605)

"
2771389529,pull_request,closed,,[FW][FIX] product: always compute zoomable with `bin_size=False`,"Changing a product template's image with the `can_image_1024_be_zoomed` field present in the view produces a crash on save.

**STEPS TO REPRODUCE**
1. Open a product form view
2. Using studio, add the `can_image_1024_be_zoomed` field
3. Change the image and save

The product will be updated, but this error will be thrown:

```
binascii.Error: Incorrect padding
```

**CAUSE**
https://github.com/odoo/odoo/blob/a74684777c27e26639b75b0668bb15afadb78c4f/addons/product/models/product_template.py#L186-L188

In the `RecordSet`'s context, `bin_size=True`, so accessing `image_<size>` returns a size instead of a binary. `_compute_can_image_1024_be_zoomed` calls `tools.is_image_size_above` with this binary size, while the method expects the full base64 encoded image. Ultimately, this causes `base64.b64decode` to crash with the above error.

**FIX** Update the `RecordSet`'s context to `bin_size=False`. Accessing `image_<size>` from the `RecordSet` will then return the full binary instead of the size.

**NOTES**
In versions <17.0, read and write were done in separate network calls causing the recompute to happen during the flush of the write, which doesn't have `bin_size=True` in the context. Because the field is stored, the read will not cause a recompute and thus avoids any error. In >=17.0, because the read occurs before the flush, and the write has invalidated the field, the recompute will occur with the context of the read (`bin_size=True`), causing the issue.

opw-4413647

Forward-Port-Of: odoo/odoo#192409
Forward-Port-Of: odoo/odoo#192047",fw-bot,2025-01-06 20:26:15+00:00,[],2025-01-21 19:30:18+00:00,2025-01-07 19:21:38+00:00,https://github.com/odoo/odoo/pull/192604,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573866839, 'issue_id': 2771389529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192604.png)](https://mergebot.odoo.com/odoo/odoo/pull/192604)', 'created_at': datetime.datetime(2025, 1, 6, 20, 26, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573866856, 'issue_id': 2771389529, 'author': 'fw-bot', 'body': '@saho-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192593\n* odoo/odoo#192579\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 20, 26, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249095, 'issue_id': 2771389529, 'author': 'fw-bot', 'body': '@saho-odoo this forward port of odoo/odoo#192047 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575410765, 'issue_id': 2771389529, 'author': 'saho-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 22, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:26:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192604.png)](https://mergebot.odoo.com/odoo/odoo/pull/192604)

fw-bot (Issue Creator) on (2025-01-06 20:26:17 UTC): @saho-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192593
* odoo/odoo#192579

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:28 UTC): @saho-odoo this forward port of odoo/odoo#192047 is awaiting action (not merged or closed).

saho-odoo on (2025-01-07 14:22:10 UTC): @robodoo r+

"
2771379908,pull_request,closed,,[FW][FIX] website_sale: video uploads,"Versions
--------
- 18.0+

Steps
-----
1. Have a product template.
2. Press the ""Add Media"" button in the ""Sale"" tab of the product form.
3. Try to add a video by pasting the URL.
4. Pressing ""Add"" displays multiple error messages, one on top of each other.

Issue
-----
Impossible to add a video as extra media for a product.

Cause
-----
The `video_url` field is not loaded by the Kanban view, which is used by the `X2ManyMediaViewer` to display the `product.image`. Therefore, updating the `video_url` caused a series of “ field not found” bugs.

Solution
--------
Add the `video_url` to the Kanban view of the `product.image` model.

opw-4391126

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191531",fw-bot,2025-01-06 20:21:05+00:00,[],2025-01-21 23:36:57+00:00,2025-01-07 22:13:32+00:00,https://github.com/odoo/odoo/pull/192603,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573857655, 'issue_id': 2771379908, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192603.png)](https://mergebot.odoo.com/odoo/odoo/pull/192603)', 'created_at': datetime.datetime(2025, 1, 6, 20, 21, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573857669, 'issue_id': 2771379908, 'author': 'fw-bot', 'body': '@lipiraux @chevalierv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192595\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 20, 21, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575653895, 'issue_id': 2771379908, 'author': 'lipiraux', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 15, 59, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:21:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192603.png)](https://mergebot.odoo.com/odoo/odoo/pull/192603)

fw-bot (Issue Creator) on (2025-01-06 20:21:42 UTC): @lipiraux @chevalierv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192595

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lipiraux on (2025-01-07 15:59:59 UTC): @robodoo r+

"
2771378240,pull_request,closed,,[FW][IMP] point_of_sale: partner list infinite scroll,"Load new partner when scroll reach the bottom of the list

taskId: 4028885

Forward-Port-Of: odoo/odoo#191176",fw-bot,2025-01-06 20:19:57+00:00,[],2025-01-24 13:57:14+00:00,2025-01-10 13:54:52+00:00,https://github.com/odoo/odoo/pull/192602,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2573854147, 'issue_id': 2771378240, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192602.png)](https://mergebot.odoo.com/odoo/odoo/pull/192602)', 'created_at': datetime.datetime(2025, 1, 6, 20, 19, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573854159, 'issue_id': 2771378240, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#191176 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.scss\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/partner_list/partner_list.scss\nAuto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/partner_list/partner_list.xml\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 20, 19, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587876, 'issue_id': 2771378240, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191176 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582276879, 'issue_id': 2771378240, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 11, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:19:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192602.png)](https://mergebot.odoo.com/odoo/odoo/pull/192602)

fw-bot (Issue Creator) on (2025-01-06 20:19:59 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#191176 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.scss
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/partner_list/partner_list.scss
Auto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/partner_list/partner_list.xml
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 02:01:46 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191176 is awaiting action (not merged or closed).

davidmonnom on (2025-01-10 10:11:18 UTC): @robodoo r+

"
2771377157,pull_request,closed,,"[FW][FIX] portal, point_of_sale: return new instance of fields list","[FIX] portal, point_of_sale: return new instance of fields list
This commit contains a backport of https://github.com/odoo/odoo/commit/1e39d5c2e5f4d4c77b0190ea1eb4781e2143657f to fix the following issue:

In the l10n_mx localization, the field RFC(VAT) and zipcode should be required to prevent the field from being defaulted to ""public en general"".

How to reproduce:

-Install l10n_mx
-Go to POS and sell an article to generate the ticket
-Go to the POS portal to request an invoice
-Fill all the fields except for RFC
-Odoo does not request this field and allows the client to submit the information
-The invoice will be generated to ""public en general"" and not to the client requesting the invoice (Expected when there is no RFC)


opw-4332357

enterprise pr: https://github.com/odoo/enterprise/pull/74072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192167
Forward-Port-Of: odoo/odoo#187674",fw-bot,2025-01-06 20:19:08+00:00,[],2025-01-22 11:33:13+00:00,2025-01-08 11:22:45+00:00,https://github.com/odoo/odoo/pull/192601,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573853001, 'issue_id': 2771377157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192601.png)](https://mergebot.odoo.com/odoo/odoo/pull/192601)', 'created_at': datetime.datetime(2025, 1, 6, 20, 19, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573853018, 'issue_id': 2771377157, 'author': 'fw-bot', 'body': '@gteboul this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192592\n* odoo/odoo#192578\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 20, 19, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558151, 'issue_id': 2771377157, 'author': 'fw-bot', 'body': '@gteboul this forward port of odoo/odoo#187674 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577180796, 'issue_id': 2771377157, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 21, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:19:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192601.png)](https://mergebot.odoo.com/odoo/odoo/pull/192601)

fw-bot (Issue Creator) on (2025-01-06 20:19:10 UTC): @gteboul this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192592
* odoo/odoo#192578

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:47 UTC): @gteboul this forward port of odoo/odoo#187674 is awaiting action (not merged or closed).

gteboul on (2025-01-08 09:21:14 UTC): @robodoo r+

"
2771372421,pull_request,closed,,"[FW][FIX] website_sale, delivery: add missing terms in `location_selector`","There are some terms that are defined in `delivery` module but are not translated when you see them on the website. This happens because these strings are defined in the `delivery` module, which is not a frontend module. This commit redefines those strings in the `website_sale` module, which is a frontend module.

Task-4328208
OPW-4403072
OPW-4326840

Forward-Port-Of: odoo/odoo#192102",fw-bot,2025-01-06 20:15:56+00:00,[],2025-01-10 09:23:25+00:00,2025-01-08 14:58:03+00:00,https://github.com/odoo/odoo/pull/192600,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573848154, 'issue_id': 2771372421, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192600.png)](https://mergebot.odoo.com/odoo/odoo/pull/192600)', 'created_at': datetime.datetime(2025, 1, 6, 20, 15, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573848166, 'issue_id': 2771372421, 'author': 'fw-bot', 'body': '@MohammedBasioni @chevalierv cherrypicking of pull request odoo/odoo#192102 failed.\n\nstdout:\n```\nAuto-merging addons/delivery/i18n/delivery.pot\nAuto-merging addons/delivery/static/src/js/location_selector/location/location.js\nAuto-merging addons/delivery/static/src/js/location_selector/location/location.xml\nAuto-merging addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js\nCONFLICT (content): Merge conflict in addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js\nAuto-merging addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.xml\nAuto-merging addons/delivery/static/src/js/location_selector/map_container/map_container.xml\nAuto-merging addons/website_sale/i18n/website_sale.pot\nCONFLICT (content): Merge conflict in addons/website_sale/i18n/website_sale.pot\nAuto-merging addons/website_sale/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js\nCONFLICT (content): Merge conflict in addons/website_sale/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 20, 15, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577359534, 'issue_id': 2771372421, 'author': 'MohammedBasioni', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 44, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:15:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192600.png)](https://mergebot.odoo.com/odoo/odoo/pull/192600)

fw-bot (Issue Creator) on (2025-01-06 20:15:58 UTC): @MohammedBasioni @chevalierv cherrypicking of pull request odoo/odoo#192102 failed.

stdout:
```
Auto-merging addons/delivery/i18n/delivery.pot
Auto-merging addons/delivery/static/src/js/location_selector/location/location.js
Auto-merging addons/delivery/static/src/js/location_selector/location/location.xml
Auto-merging addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js
CONFLICT (content): Merge conflict in addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js
Auto-merging addons/delivery/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.xml
Auto-merging addons/delivery/static/src/js/location_selector/map_container/map_container.xml
Auto-merging addons/website_sale/i18n/website_sale.pot
CONFLICT (content): Merge conflict in addons/website_sale/i18n/website_sale.pot
Auto-merging addons/website_sale/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js
CONFLICT (content): Merge conflict in addons/website_sale/static/src/js/location_selector/location_selector_dialog/location_selector_dialog.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

MohammedBasioni on (2025-01-08 10:44:26 UTC): robodoo r+

"
2771347812,pull_request,closed,,[FW][FIX] website_livechat : update style to make clear UI,"Purpose of this PR:

Enhance the UI styling to address issues caused by the absence of the `o_livechat_no_rating` and `o_livechat_operator_avatar` classes,might removed by other PR's.

before: 
![image](https://github.com/user-attachments/assets/a4309794-229f-4d01-b0da-e959a58fa874)
after:
![image](https://github.com/user-attachments/assets/ae66c8d1-7b08-42e9-8f82-75575e3f3347)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188754",fw-bot,2025-01-06 20:00:19+00:00,[],2025-01-21 13:45:41+00:00,2025-01-07 13:26:03+00:00,https://github.com/odoo/odoo/pull/192599,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573821739, 'issue_id': 2771347812, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192599.png)](https://mergebot.odoo.com/odoo/odoo/pull/192599)', 'created_at': datetime.datetime(2025, 1, 6, 20, 0, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573821750, 'issue_id': 2771347812, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 20, 0, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 20:00:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192599.png)](https://mergebot.odoo.com/odoo/odoo/pull/192599)

fw-bot (Issue Creator) on (2025-01-06 20:00:21 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771346251,pull_request,closed,,[FW][FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192458",fw-bot,2025-01-06 19:59:18+00:00,[],2025-01-21 09:05:21+00:00,2025-01-07 08:33:09+00:00,https://github.com/odoo/odoo/pull/192598,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573820259, 'issue_id': 2771346251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192598.png)](https://mergebot.odoo.com/odoo/odoo/pull/192598)', 'created_at': datetime.datetime(2025, 1, 6, 19, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573820278, 'issue_id': 2771346251, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 59, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 19:59:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192598.png)](https://mergebot.odoo.com/odoo/odoo/pull/192598)

fw-bot (Issue Creator) on (2025-01-06 19:59:21 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771344978,pull_request,closed,,[FW][FIX] mrp_subcontracting_dropshipping: test ok in 2025 from 862ede4,"In 862ede43e5910ae6954f3574f45c213e5d3a1886 the added test depended on
being in year 2024, so it failed in eg. 2025.

With this change we don't harcode the invoice name in assert data.

runbot-error-111390
opw-4050777

Forward-Port-Of: odoo/odoo#192451
Forward-Port-Of: odoo/odoo#192192",fw-bot,2025-01-06 19:58:27+00:00,[],2025-01-21 13:45:39+00:00,2025-01-07 13:26:03+00:00,https://github.com/odoo/odoo/pull/192597,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573818966, 'issue_id': 2771344978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192597.png)](https://mergebot.odoo.com/odoo/odoo/pull/192597)', 'created_at': datetime.datetime(2025, 1, 6, 19, 58, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573819024, 'issue_id': 2771344978, 'author': 'fw-bot', 'body': '@nle-odoo @Xavier-Do cherrypicking of pull request odoo/odoo#192192 failed.\n\nstdout:\n```\nAuto-merging addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py\nCONFLICT (content): Merge conflict in addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 58, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574862524, 'issue_id': 2771344978, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 58, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 19:58:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192597.png)](https://mergebot.odoo.com/odoo/odoo/pull/192597)

fw-bot (Issue Creator) on (2025-01-06 19:58:30 UTC): @nle-odoo @Xavier-Do cherrypicking of pull request odoo/odoo#192192 failed.

stdout:
```
Auto-merging addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py
CONFLICT (content): Merge conflict in addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-07 09:58:34 UTC): robodoo r+

"
2771330860,pull_request,closed,,"[FW][FIX] account,l10n_sa_edi: tax values filter overwrite","When exporting a SA E-invoice file, the system needs to collect
invoice line without downpayment lines. However, when collecting tax
values, because of an error correction mechanism, the tax amount will
still include the amount of the downpayment tax line

Steps to reproduce (with SA localization installed and SA company):
- Create a SO of 1000$ with 15% tax
- Make a downpayment of 100$ with 15% tax and confirm
- Make the final invoice with downpayment deducted
- Confirm and send e-invoice for validation

Issue: The invoice is validated, but a warning is logged
```
Invoice was Accepted by ZATCA (with Warnings)
The invoice was accepted by ZATCA, but returned warnings. Please, check the response below:

BR-CO-17: VAT category tax amount (BT-117) = VAT category taxable amount (BT-116) x (VAT category rate (BT-119) / 100), rounded to two decimals.
BR-S-09: The VAT category tax amount (BT-117) in a VAT breakdown (BG-23) where VAT category code (BT-118) is Standard rated shall equal the VAT category taxable amount (BT-116) multiplied by the VAT category rate (BT-119).
```

As the warning states the is an issue with the tax computation.
When collecting amounts from the final invoice, we should
filter out downpayment amounts, but due to the error correction
mechanism introduced to account for manual modification of the journal
items, the filter is ignored, so we will have the filtered base amount
(1000) and the unfiltered tax amount (135 instead of 150)

A possible solution is to avoid the error correction when we know we
need to filter invoice lines

opw-4380798

Forward-Port-Of: odoo/odoo#191867",fw-bot,2025-01-06 19:49:42+00:00,[],2025-01-22 20:31:49+00:00,2025-01-08 20:08:25+00:00,https://github.com/odoo/odoo/pull/192596,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573803867, 'issue_id': 2771330860, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192596.png)](https://mergebot.odoo.com/odoo/odoo/pull/192596)', 'created_at': datetime.datetime(2025, 1, 6, 19, 49, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573803916, 'issue_id': 2771330860, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo cherrypicking of pull request odoo/odoo#191867 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move.py\nAuto-merging addons/l10n_sa_edi/tests/test_edi_zatca.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 49, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577932165, 'issue_id': 2771330860, 'author': 'agr-odoo', 'body': 'Fixed `testInvoiceWithDownpayment` (silently) failing', 'created_at': datetime.datetime(2025, 1, 8, 15, 18, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578112843, 'issue_id': 2771330860, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 32, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 19:49:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192596.png)](https://mergebot.odoo.com/odoo/odoo/pull/192596)

fw-bot (Issue Creator) on (2025-01-06 19:49:46 UTC): @agr-odoo @jco-odoo cherrypicking of pull request odoo/odoo#191867 failed.

stdout:
```
Auto-merging addons/account/models/account_move.py
CONFLICT (content): Merge conflict in addons/account/models/account_move.py
Auto-merging addons/l10n_sa_edi/tests/test_edi_zatca.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-08 15:18:16 UTC): Fixed `testInvoiceWithDownpayment` (silently) failing

agr-odoo on (2025-01-08 16:32:41 UTC): @robodoo r+

"
2771272271,pull_request,closed,,[FW][FIX] website_sale: video uploads,"Versions
--------
- 18.0+

Steps
-----
1. Have a product template.
2. Press the ""Add Media"" button in the ""Sale"" tab of the product form.
3. Try to add a video by pasting the URL.
4. Pressing ""Add"" displays multiple error messages, one on top of each other.

Issue
-----
Impossible to add a video as extra media for a product.

Cause
-----
The `video_url` field is not loaded by the Kanban view, which is used by the `X2ManyMediaViewer` to display the `product.image`. Therefore, updating the `video_url` caused a series of “ field not found” bugs.

Solution
--------
Add the `video_url` to the Kanban view of the `product.image` model.

opw-4391126

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191531",fw-bot,2025-01-06 19:09:56+00:00,[],2025-01-21 18:32:32+00:00,2025-01-07 18:22:32+00:00,https://github.com/odoo/odoo/pull/192595,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573741662, 'issue_id': 2771272271, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192595.png)](https://mergebot.odoo.com/odoo/odoo/pull/192595)', 'created_at': datetime.datetime(2025, 1, 6, 19, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573741679, 'issue_id': 2771272271, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 9, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 19:09:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192595.png)](https://mergebot.odoo.com/odoo/odoo/pull/192595)

fw-bot (Issue Creator) on (2025-01-06 19:09:58 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771263698,pull_request,closed,,[FW][FIX] base: Somali state rename,"Typo in state name (Somalia -> Somali).
https://en.wikipedia.org/wiki/Somali_Region

task-4453644


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192510",fw-bot,2025-01-06 19:03:56+00:00,[],2025-01-07 09:12:21+00:00,2025-01-07 08:08:09+00:00,https://github.com/odoo/odoo/pull/192594,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573732455, 'issue_id': 2771263698, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192594.png)](https://mergebot.odoo.com/odoo/odoo/pull/192594)', 'created_at': datetime.datetime(2025, 1, 6, 19, 3, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573732468, 'issue_id': 2771263698, 'author': 'fw-bot', 'body': '@kmagusiak @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192582\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 3, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573803580, 'issue_id': 2771263698, 'author': 'kmagusiak', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 19, 49, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 19:03:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192594.png)](https://mergebot.odoo.com/odoo/odoo/pull/192594)

fw-bot (Issue Creator) on (2025-01-06 19:03:58 UTC): @kmagusiak @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192582

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kmagusiak on (2025-01-06 19:49:33 UTC): @robodoo r+

"
2771262115,pull_request,closed,,[FW][FIX] product: always compute zoomable with `bin_size=False`,"Changing a product template's image with the `can_image_1024_be_zoomed` field present in the view produces a crash on save.

**STEPS TO REPRODUCE**
1. Open a product form view
2. Using studio, add the `can_image_1024_be_zoomed` field
3. Change the image and save

The product will be updated, but this error will be thrown:

```
binascii.Error: Incorrect padding
```

**CAUSE**
https://github.com/odoo/odoo/blob/a74684777c27e26639b75b0668bb15afadb78c4f/addons/product/models/product_template.py#L186-L188

In the `RecordSet`'s context, `bin_size=True`, so accessing `image_<size>` returns a size instead of a binary. `_compute_can_image_1024_be_zoomed` calls `tools.is_image_size_above` with this binary size, while the method expects the full base64 encoded image. Ultimately, this causes `base64.b64decode` to crash with the above error.

**FIX** Update the `RecordSet`'s context to `bin_size=False`. Accessing `image_<size>` from the `RecordSet` will then return the full binary instead of the size.

**NOTES**
In versions <17.0, read and write were done in separate network calls causing the recompute to happen during the flush of the write, which doesn't have `bin_size=True` in the context. Because the field is stored, the read will not cause a recompute and thus avoids any error. In >=17.0, because the read occurs before the flush, and the write has invalidated the field, the recompute will occur with the context of the read (`bin_size=True`), causing the issue.

opw-4413647

Forward-Port-Of: odoo/odoo#192409
Forward-Port-Of: odoo/odoo#192047",fw-bot,2025-01-06 19:02:51+00:00,[],2025-01-21 16:57:16+00:00,2025-01-07 16:53:55+00:00,https://github.com/odoo/odoo/pull/192593,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573730799, 'issue_id': 2771262115, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192593.png)](https://mergebot.odoo.com/odoo/odoo/pull/192593)', 'created_at': datetime.datetime(2025, 1, 6, 19, 2, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573730816, 'issue_id': 2771262115, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 2, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 19:02:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192593.png)](https://mergebot.odoo.com/odoo/odoo/pull/192593)

fw-bot (Issue Creator) on (2025-01-06 19:02:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771257151,pull_request,closed,,"[FW][FIX] portal, point_of_sale: return new instance of fields list","[FIX] portal, point_of_sale: return new instance of fields list
This commit contains a backport of https://github.com/odoo/odoo/commit/1e39d5c2e5f4d4c77b0190ea1eb4781e2143657f to fix the following issue:

In the l10n_mx localization, the field RFC(VAT) and zipcode should be required to prevent the field from being defaulted to ""public en general"".

How to reproduce:

-Install l10n_mx
-Go to POS and sell an article to generate the ticket
-Go to the POS portal to request an invoice
-Fill all the fields except for RFC
-Odoo does not request this field and allows the client to submit the information
-The invoice will be generated to ""public en general"" and not to the client requesting the invoice (Expected when there is no RFC)


opw-4332357

enterprise pr: https://github.com/odoo/enterprise/pull/74072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192167
Forward-Port-Of: odoo/odoo#187674",fw-bot,2025-01-06 18:59:40+00:00,[],2025-01-22 14:39:29+00:00,2025-01-08 14:32:49+00:00,https://github.com/odoo/odoo/pull/192592,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573725494, 'issue_id': 2771257151, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192592.png)](https://mergebot.odoo.com/odoo/odoo/pull/192592)', 'created_at': datetime.datetime(2025, 1, 6, 18, 59, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573725510, 'issue_id': 2771257151, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 59, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:59:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192592.png)](https://mergebot.odoo.com/odoo/odoo/pull/192592)

fw-bot (Issue Creator) on (2025-01-06 18:59:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771248404,pull_request,closed,,[FW][FIX] google_address_autocomplete: neutralise,"This commit adds the missing neutralization necessary for the
google_address_autocomplete module introduced in saas-18.1 in [1]

The purpose of the standard neutralization framework is to allow us to
create database copies that will not interact with external systems in
ways that could impact the production database (or if it is not possible
to prevent the interactions, make sure that they are benign or won't
result in actual changes), or impact the customers of the operator of
the production database.

This is mainly useful to allow safe support investigation on database
duplicates.

[1] https://github.com/odoo/odoo/pull/176262

Forward-Port-Of: odoo/odoo#191833",fw-bot,2025-01-06 18:53:51+00:00,[],2025-01-21 11:16:31+00:00,2025-01-07 11:13:44+00:00,https://github.com/odoo/odoo/pull/192591,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573716190, 'issue_id': 2771248404, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192591.png)](https://mergebot.odoo.com/odoo/odoo/pull/192591)', 'created_at': datetime.datetime(2025, 1, 6, 18, 53, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573716214, 'issue_id': 2771248404, 'author': 'fw-bot', 'body': '@mao-odoo @kebeclibre this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 53, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574760310, 'issue_id': 2771248404, 'author': 'kebeclibre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 10, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:53:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192591.png)](https://mergebot.odoo.com/odoo/odoo/pull/192591)

fw-bot (Issue Creator) on (2025-01-06 18:53:54 UTC): @mao-odoo @kebeclibre this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kebeclibre on (2025-01-07 09:10:42 UTC): @robodoo r+

"
2771237484,pull_request,closed,,[FW][FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192458",fw-bot,2025-01-06 18:46:48+00:00,[],2025-01-21 09:42:44+00:00,2025-01-07 09:29:48+00:00,https://github.com/odoo/odoo/pull/192590,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573704865, 'issue_id': 2771237484, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192590.png)](https://mergebot.odoo.com/odoo/odoo/pull/192590)', 'created_at': datetime.datetime(2025, 1, 6, 18, 46, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573704886, 'issue_id': 2771237484, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 46, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:46:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192590.png)](https://mergebot.odoo.com/odoo/odoo/pull/192590)

fw-bot (Issue Creator) on (2025-01-06 18:46:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771235394,pull_request,closed,,[FW][FIX] website_livechat : update style to make clear UI,"Purpose of this PR:

Enhance the UI styling to address issues caused by the absence of the `o_livechat_no_rating` and `o_livechat_operator_avatar` classes,might removed by other PR's.

before: 
![image](https://github.com/user-attachments/assets/a4309794-229f-4d01-b0da-e959a58fa874)
after:
![image](https://github.com/user-attachments/assets/ae66c8d1-7b08-42e9-8f82-75575e3f3347)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188754",fw-bot,2025-01-06 18:45:27+00:00,[],2025-01-21 12:32:44+00:00,2025-01-07 12:30:51+00:00,https://github.com/odoo/odoo/pull/192589,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573702629, 'issue_id': 2771235394, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192589.png)](https://mergebot.odoo.com/odoo/odoo/pull/192589)', 'created_at': datetime.datetime(2025, 1, 6, 18, 45, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573702643, 'issue_id': 2771235394, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 45, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:45:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192589.png)](https://mergebot.odoo.com/odoo/odoo/pull/192589)

fw-bot (Issue Creator) on (2025-01-06 18:45:29 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771227459,pull_request,closed,,[FW][FIX] mrp_subcontracting_dropshipping: test ok in 2025 from 862ede4,"In 862ede43e5910ae6954f3574f45c213e5d3a1886 the added test depended on
being in year 2024, so it failed in eg. 2025.

With this change we don't harcode the invoice name in assert data.

runbot-error-111390
opw-4050777

Forward-Port-Of: odoo/odoo#192451
Forward-Port-Of: odoo/odoo#192192",fw-bot,2025-01-06 18:40:12+00:00,[],2025-01-21 09:55:31+00:00,2025-01-07 09:47:15+00:00,https://github.com/odoo/odoo/pull/192588,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573693935, 'issue_id': 2771227459, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192588.png)](https://mergebot.odoo.com/odoo/odoo/pull/192588)', 'created_at': datetime.datetime(2025, 1, 6, 18, 40, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573693957, 'issue_id': 2771227459, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 40, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573818985, 'issue_id': 2771227459, 'author': 'fw-bot', 'body': '@nle-odoo @Xavier-Do the next pull request (odoo/odoo#192597) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 58, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574585509, 'issue_id': 2771227459, 'author': 'Xavier-Do', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 44, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:40:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192588.png)](https://mergebot.odoo.com/odoo/odoo/pull/192588)

fw-bot (Issue Creator) on (2025-01-06 18:40:14 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 19:58:29 UTC): @nle-odoo @Xavier-Do the next pull request (odoo/odoo#192597) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Xavier-Do on (2025-01-07 07:44:24 UTC): @robodoo r+

"
2771212126,pull_request,closed,,"[FW][FIX] account,l10n_sa_edi: tax values filter overwrite","When exporting a SA E-invoice file, the system needs to collect
invoice line without downpayment lines. However, when collecting tax
values, because of an error correction mechanism, the tax amount will
still include the amount of the downpayment tax line

Steps to reproduce (with SA localization installed and SA company):
- Create a SO of 1000$ with 15% tax
- Make a downpayment of 100$ with 15% tax and confirm
- Make the final invoice with downpayment deducted
- Confirm and send e-invoice for validation

Issue: The invoice is validated, but a warning is logged
```
Invoice was Accepted by ZATCA (with Warnings)
The invoice was accepted by ZATCA, but returned warnings. Please, check the response below:

BR-CO-17: VAT category tax amount (BT-117) = VAT category taxable amount (BT-116) x (VAT category rate (BT-119) / 100), rounded to two decimals.
BR-S-09: The VAT category tax amount (BT-117) in a VAT breakdown (BG-23) where VAT category code (BT-118) is Standard rated shall equal the VAT category taxable amount (BT-116) multiplied by the VAT category rate (BT-119).
```

As the warning states the is an issue with the tax computation.
When collecting amounts from the final invoice, we should
filter out downpayment amounts, but due to the error correction
mechanism introduced to account for manual modification of the journal
items, the filter is ignored, so we will have the filtered base amount
(1000) and the unfiltered tax amount (135 instead of 150)

A possible solution is to avoid the error correction when we know we
need to filter invoice lines

opw-4380798

Forward-Port-Of: odoo/odoo#191867",fw-bot,2025-01-06 18:30:31+00:00,[],2025-01-22 21:53:20+00:00,2025-01-08 20:47:06+00:00,https://github.com/odoo/odoo/pull/192587,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573678332, 'issue_id': 2771212126, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192587.png)](https://mergebot.odoo.com/odoo/odoo/pull/192587)', 'created_at': datetime.datetime(2025, 1, 6, 18, 30, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573678358, 'issue_id': 2771212126, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 30, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573803880, 'issue_id': 2771212126, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo the next pull request (odoo/odoo#192596) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 19, 49, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577746031, 'issue_id': 2771212126, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 8, 14, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577746944, 'issue_id': 2771212126, 'author': 'agr-odoo', 'body': 'Fixed `testInvoiceWithDownpayment` (silently) failing', 'created_at': datetime.datetime(2025, 1, 8, 14, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578103677, 'issue_id': 2771212126, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 28, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:30:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192587.png)](https://mergebot.odoo.com/odoo/odoo/pull/192587)

fw-bot (Issue Creator) on (2025-01-06 18:30:33 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 19:49:44 UTC): @agr-odoo @jco-odoo the next pull request (odoo/odoo#192596) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 14:01:32 UTC): @agr-odoo @jco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

agr-odoo on (2025-01-08 14:01:57 UTC): Fixed `testInvoiceWithDownpayment` (silently) failing

agr-odoo on (2025-01-08 16:28:39 UTC): @robodoo r+

"
2771183022,pull_request,closed,,[FIX] account: CABA on payment with credit note,"Before this commit, the credit note's tax lines were causing an issue during reconciliation because they were reconciled with both the invoice and with the cash basis entry.

Reproduce:
* Enable cash basis accounting.
* On the tax that will be used, set: Tax Exigibility: Based on Payment.
* Allow reconciliation on the associated account.
* Add a product without tax and save.
* Then, add a tax.
* Try to create and post a credit note for this invoice

",william-andre,2025-01-06 18:11:38+00:00,[],2025-02-07 07:10:27+00:00,2025-02-07 07:10:27+00:00,https://github.com/odoo/odoo/pull/192586,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573648551, 'issue_id': 2771183022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192586.png)](https://mergebot.odoo.com/odoo/odoo/pull/192586)', 'created_at': datetime.datetime(2025, 1, 6, 18, 11, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:11:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192586.png)](https://mergebot.odoo.com/odoo/odoo/pull/192586)

"
2771165911,pull_request,closed,,[FW][FIX] im_livechat: correct author name display for visitor messages in demo data,"**Current behavior before PR:**

Messages posted by visitors in demo data incorrectly displayed the author name
as `Odoobot` instead of `Visitor`. This happened because the messages created
for visitors in the demo data do not have the `author_id` field explicitly set to
`False`, leading the `_message_compute_author()` method to compute the author incorrectly.

**Desired behavior after PR is merged:**

Messages posted by visitors in demo data correctly display the author name as Visitor.


Task-[4420677](https://www.odoo.com/odoo/project/1519/tasks/4420677)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192003",fw-bot,2025-01-06 18:00:28+00:00,[],2025-01-08 13:31:55+00:00,2025-01-08 13:01:07+00:00,https://github.com/odoo/odoo/pull/192585,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573629399, 'issue_id': 2771165911, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192585.png)](https://mergebot.odoo.com/odoo/odoo/pull/192585)', 'created_at': datetime.datetime(2025, 1, 6, 18, 0, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573629419, 'issue_id': 2771165911, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192566\n* odoo/odoo#192535\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 18, 0, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573639221, 'issue_id': 2771165911, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 18, 6, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577291002, 'issue_id': 2771165911, 'author': 'seb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 10, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 18:00:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192585.png)](https://mergebot.odoo.com/odoo/odoo/pull/192585)

fw-bot (Issue Creator) on (2025-01-06 18:00:30 UTC): @ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192566
* odoo/odoo#192535

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 18:06:12 UTC): @ramh-odoo @alexkuhn ci/runbot failed on this forward-port PR

seb-odoo on (2025-01-08 10:10:26 UTC): @robodoo r+

"
2771158191,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: complete record synchronization","Changes to the synchronization system to ensure full synchronization every time a PoS writes to a record.

This synchronization will not unlink local records in other PoS.

Forward-Port-Of: odoo/odoo#192357
Forward-Port-Of: odoo/odoo#191904",fw-bot,2025-01-06 17:55:28+00:00,[],2025-01-23 11:40:02+00:00,2025-01-09 11:34:26+00:00,https://github.com/odoo/odoo/pull/192584,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573621069, 'issue_id': 2771158191, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192584.png)](https://mergebot.odoo.com/odoo/odoo/pull/192584)', 'created_at': datetime.datetime(2025, 1, 6, 17, 55, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573621103, 'issue_id': 2771158191, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#191904 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/models/pos_session.py\nAuto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/navbar/navbar.xml\nAuto-merging addons/point_of_sale/static/src/app/components/popups/closing_popup/closing_popup.js\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_loyalty/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/app/models/pos_order.js\nAuto-merging addons/pos_restaurant/models/pos_order.py\nAuto-merging addons/pos_restaurant/models/pos_restaurant.py\nAuto-merging addons/pos_restaurant/static/src/app/screens/receipt_screen/receipt_screen.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/receipt_screen/receipt_screen.js\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js\nAuto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 55, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249528, 'issue_id': 2771158191, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557902, 'issue_id': 2771158191, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018920, 'issue_id': 2771158191, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579541440, 'issue_id': 2771158191, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 9, 13, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:55:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192584.png)](https://mergebot.odoo.com/odoo/odoo/pull/192584)

fw-bot (Issue Creator) on (2025-01-06 17:55:32 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#191904 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/models/pos_session.py
Auto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/navbar/navbar.xml
Auto-merging addons/point_of_sale/static/src/app/components/popups/closing_popup/closing_popup.js
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_loyalty/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/app/models/pos_order.js
Auto-merging addons/pos_restaurant/models/pos_order.py
Auto-merging addons/pos_restaurant/models/pos_restaurant.py
Auto-merging addons/pos_restaurant/static/src/app/screens/receipt_screen/receipt_screen.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/receipt_screen/receipt_screen.js
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js
Auto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:42 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:33 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-09 02:01:33 UTC): @davidmonnom @caburj this forward port of odoo/odoo#191904 is awaiting action (not merged or closed).

davidmonnom on (2025-01-09 09:13:54 UTC): @robodoo r+

"
2771157553,pull_request,closed,,[FW][FIX] base_iban: ensure Oman iban mapping,"Steps to reproduce:

 - Create an employe with an oman bank account number
 - Create a payslip for this employe
 - Create a payment report

Issue:

when trying to create a payment report in the payroll app for an employee with an oman bank account number, when creating the payment report an error :""Invalid IBAN for the following employees: .."" will raise.

Fix:

This issue can be fixed by adding the 'om' in the variable _map_iban_template. This ensure that the mapping will be done correctly and the error will not be raised anymore.

opw-4312502

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187757",fw-bot,2025-01-06 17:55:03+00:00,[],2025-01-21 11:16:20+00:00,2025-01-07 11:04:46+00:00,https://github.com/odoo/odoo/pull/192583,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573620335, 'issue_id': 2771157553, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192583.png)](https://mergebot.odoo.com/odoo/odoo/pull/192583)', 'created_at': datetime.datetime(2025, 1, 6, 17, 55, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573620361, 'issue_id': 2771157553, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 55, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573706266, 'issue_id': 2771157553, 'author': 'fw-bot', 'body': '@jaeschwa @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 18, 47, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574753471, 'issue_id': 2771157553, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574753563, 'issue_id': 2771157553, 'author': 'robodoo', 'body': '@jaeschwa retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 1, 7, 9, 7, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574754316, 'issue_id': 2771157553, 'author': 'jaeschwa', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 7, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:55:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192583.png)](https://mergebot.odoo.com/odoo/odoo/pull/192583)

fw-bot (Issue Creator) on (2025-01-06 17:55:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 18:47:44 UTC): @jaeschwa @william-andre ci/runbot failed on this forward-port PR

jaeschwa on (2025-01-07 09:07:15 UTC): @robodoo r+

robodoo on (2025-01-07 09:07:18 UTC): @jaeschwa retry makes no sense when the PR is not in error.

jaeschwa on (2025-01-07 09:07:39 UTC): @robodoo r+

"
2771157185,pull_request,closed,,[FW][FIX] base: Somali state rename,"Typo in state name (Somalia -> Somali).
https://en.wikipedia.org/wiki/Somali_Region

task-4453644


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192510",fw-bot,2025-01-06 17:54:48+00:00,[],2025-01-07 10:44:46+00:00,2025-01-07 09:36:53+00:00,https://github.com/odoo/odoo/pull/192582,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573619916, 'issue_id': 2771157185, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192582.png)](https://mergebot.odoo.com/odoo/odoo/pull/192582)', 'created_at': datetime.datetime(2025, 1, 6, 17, 54, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573619928, 'issue_id': 2771157185, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 54, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573802983, 'issue_id': 2771157185, 'author': 'kmagusiak', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 19, 49, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:54:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192582.png)](https://mergebot.odoo.com/odoo/odoo/pull/192582)

fw-bot (Issue Creator) on (2025-01-06 17:54:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kmagusiak on (2025-01-06 19:49:11 UTC): @robodoo r+

"
2771156555,pull_request,closed,,[FW][FIX] hr_holidays: Restrict time-off types to non-allocation for multiple requests,"In previous versions, when dealing with multiple time-off requests, only time-off types that do not require allocations were listed for selection.

This behavior has been restored by restricting the `holiday_status_id` field to show only non-allocation time-off types in the multi-request wizard.

opw-4370090

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191128",fw-bot,2025-01-06 17:54:23+00:00,[],2025-01-21 18:32:34+00:00,2025-01-07 18:22:51+00:00,https://github.com/odoo/odoo/pull/192581,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573619579, 'issue_id': 2771156555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192581.png)](https://mergebot.odoo.com/odoo/odoo/pull/192581)', 'created_at': datetime.datetime(2025, 1, 6, 17, 54, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573619600, 'issue_id': 2771156555, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 54, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573630173, 'issue_id': 2771156555, 'author': 'fw-bot', 'body': '@elhayyany @Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 18, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574693272, 'issue_id': 2771156555, 'author': 'elhayyany', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 8, 40, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574693360, 'issue_id': 2771156555, 'author': 'robodoo', 'body': '@elhayyany you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 7, 8, 40, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:54:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192581.png)](https://mergebot.odoo.com/odoo/odoo/pull/192581)

fw-bot (Issue Creator) on (2025-01-06 17:54:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 18:00:56 UTC): @elhayyany @Bertrand2 ci/runbot failed on this forward-port PR

elhayyany on (2025-01-07 08:40:33 UTC): @robodoo r+

robodoo on (2025-01-07 08:40:36 UTC): @elhayyany you may want to rebuild or fix this PR as it has failed CI.

"
2771150747,pull_request,closed,,[FW][FIX] project: fix changeDescriptionContentAndSave,"When you chain several uses of changeDescriptionContentAndSave() in a tour, you don't necessarily wait for the editor to be actually saved before continuing.
So, it always works for the first use but not for the following ones if the tour engine goes too ""fast"".
So this fix add a step in which we make sure that the form is actually saved before continuing.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192490",fw-bot,2025-01-06 17:50:46+00:00,[],2025-01-21 09:43:01+00:00,2025-01-07 09:42:34+00:00,https://github.com/odoo/odoo/pull/192580,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573613269, 'issue_id': 2771150747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192580.png)](https://mergebot.odoo.com/odoo/odoo/pull/192580)', 'created_at': datetime.datetime(2025, 1, 6, 17, 50, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573613287, 'issue_id': 2771150747, 'author': 'fw-bot', 'body': '@pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192557\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 50, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574584575, 'issue_id': 2771150747, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 43, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:50:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192580.png)](https://mergebot.odoo.com/odoo/odoo/pull/192580)

fw-bot (Issue Creator) on (2025-01-06 17:50:49 UTC): @pipu-odoo @bastien-ipb this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192557

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-07 07:43:44 UTC): @robodoo r+

"
2771150277,pull_request,closed,,[FW][FIX] product: always compute zoomable with `bin_size=False`,"Changing a product template's image with the `can_image_1024_be_zoomed` field present in the view produces a crash on save.

**STEPS TO REPRODUCE**
1. Open a product form view
2. Using studio, add the `can_image_1024_be_zoomed` field
3. Change the image and save

The product will be updated, but this error will be thrown:

```
binascii.Error: Incorrect padding
```

**CAUSE**
https://github.com/odoo/odoo/blob/a74684777c27e26639b75b0668bb15afadb78c4f/addons/product/models/product_template.py#L186-L188

In the `RecordSet`'s context, `bin_size=True`, so accessing `image_<size>` returns a size instead of a binary. `_compute_can_image_1024_be_zoomed` calls `tools.is_image_size_above` with this binary size, while the method expects the full base64 encoded image. Ultimately, this causes `base64.b64decode` to crash with the above error.

**FIX** Update the `RecordSet`'s context to `bin_size=False`. Accessing `image_<size>` from the `RecordSet` will then return the full binary instead of the size.

**NOTES**
In versions <17.0, read and write were done in separate network calls causing the recompute to happen during the flush of the write, which doesn't have `bin_size=True` in the context. Because the field is stored, the read will not cause a recompute and thus avoids any error. In >=17.0, because the read occurs before the flush, and the write has invalidated the field, the recompute will occur with the context of the read (`bin_size=True`), causing the issue.

opw-4413647

Forward-Port-Of: odoo/odoo#192409
Forward-Port-Of: odoo/odoo#192047",fw-bot,2025-01-06 17:50:28+00:00,[],2025-01-21 19:16:46+00:00,2025-01-07 19:05:16+00:00,https://github.com/odoo/odoo/pull/192579,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573612782, 'issue_id': 2771150277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192579.png)](https://mergebot.odoo.com/odoo/odoo/pull/192579)', 'created_at': datetime.datetime(2025, 1, 6, 17, 50, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573612798, 'issue_id': 2771150277, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 50, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:50:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192579.png)](https://mergebot.odoo.com/odoo/odoo/pull/192579)

fw-bot (Issue Creator) on (2025-01-06 17:50:30 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771149849,pull_request,closed,,"[FW][FIX] portal, point_of_sale: return new instance of fields list","[FIX] portal, point_of_sale: return new instance of fields list
This commit contains a backport of https://github.com/odoo/odoo/commit/1e39d5c2e5f4d4c77b0190ea1eb4781e2143657f to fix the following issue:

In the l10n_mx localization, the field RFC(VAT) and zipcode should be required to prevent the field from being defaulted to ""public en general"".

How to reproduce:

-Install l10n_mx
-Go to POS and sell an article to generate the ticket
-Go to the POS portal to request an invoice
-Fill all the fields except for RFC
-Odoo does not request this field and allows the client to submit the information
-The invoice will be generated to ""public en general"" and not to the client requesting the invoice (Expected when there is no RFC)


opw-4332357

enterprise pr: https://github.com/odoo/enterprise/pull/74072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192167
Forward-Port-Of: odoo/odoo#187674",fw-bot,2025-01-06 17:50:12+00:00,[],2025-01-22 13:26:41+00:00,2025-01-08 13:25:12+00:00,https://github.com/odoo/odoo/pull/192578,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573612327, 'issue_id': 2771149849, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192578.png)](https://mergebot.odoo.com/odoo/odoo/pull/192578)', 'created_at': datetime.datetime(2025, 1, 6, 17, 50, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573612346, 'issue_id': 2771149849, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 50, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:50:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192578.png)](https://mergebot.odoo.com/odoo/odoo/pull/192578)

fw-bot (Issue Creator) on (2025-01-06 17:50:14 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771141006,pull_request,closed,,[FW][FIX] ir_ui_view: fix check on empty view arch,"Since the arch is not mandatory and the `_combine` method would [assume it is a data node](https://github.com/odoo/odoo/pull/182766), the `_check_xml` for child views should allow an empty arch in the same way.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189450",fw-bot,2025-01-06 17:44:25+00:00,[],2025-01-21 08:18:41+00:00,2025-01-07 08:08:16+00:00,https://github.com/odoo/odoo/pull/192577,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573602758, 'issue_id': 2771141006, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192577.png)](https://mergebot.odoo.com/odoo/odoo/pull/192577)', 'created_at': datetime.datetime(2025, 1, 6, 17, 44, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573602781, 'issue_id': 2771141006, 'author': 'fw-bot', 'body': '@jjmaksoud @rco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192556\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 44, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573987032, 'issue_id': 2771141006, 'author': 'jjmaksoud', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 21, 48, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:44:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192577.png)](https://mergebot.odoo.com/odoo/odoo/pull/192577)

fw-bot (Issue Creator) on (2025-01-06 17:44:27 UTC): @jjmaksoud @rco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192556

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jjmaksoud on (2025-01-06 21:48:45 UTC): robodoo r+

"
2771130107,pull_request,closed,,[FW][FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192458",fw-bot,2025-01-06 17:37:58+00:00,[],2025-01-21 12:25:30+00:00,2025-01-07 12:05:19+00:00,https://github.com/odoo/odoo/pull/192576,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573591889, 'issue_id': 2771130107, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192576.png)](https://mergebot.odoo.com/odoo/odoo/pull/192576)', 'created_at': datetime.datetime(2025, 1, 6, 17, 37, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573591904, 'issue_id': 2771130107, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 37, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574767155, 'issue_id': 2771130107, 'author': 'robodoo', 'body': '@kitan191 @h4818 staging failed: ci/runbot on 75583343f82c2d23f78a48d2ae99863c783d61b5 (view more at https://runbot.odoo.com/runbot/build/72955905)', 'created_at': datetime.datetime(2025, 1, 7, 9, 14, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574773766, 'issue_id': 2771130107, 'author': 'kitan191', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 7, 9, 17, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:37:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192576.png)](https://mergebot.odoo.com/odoo/odoo/pull/192576)

fw-bot (Issue Creator) on (2025-01-06 17:37:59 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-07 09:14:09 UTC): @kitan191 @h4818 staging failed: ci/runbot on 75583343f82c2d23f78a48d2ae99863c783d61b5 (view more at https://runbot.odoo.com/runbot/build/72955905)

kitan191 on (2025-01-07 09:17:31 UTC): @robodoo retry

"
2771119860,pull_request,closed,,[FW][FIX] website_livechat : update style to make clear UI,"Purpose of this PR:

Enhance the UI styling to address issues caused by the absence of the `o_livechat_no_rating` and `o_livechat_operator_avatar` classes,might removed by other PR's.

before: 
![image](https://github.com/user-attachments/assets/a4309794-229f-4d01-b0da-e959a58fa874)
after:
![image](https://github.com/user-attachments/assets/ae66c8d1-7b08-42e9-8f82-75575e3f3347)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188754",fw-bot,2025-01-06 17:31:33+00:00,[],2025-01-21 13:45:43+00:00,2025-01-07 13:42:49+00:00,https://github.com/odoo/odoo/pull/192575,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573580766, 'issue_id': 2771119860, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192575.png)](https://mergebot.odoo.com/odoo/odoo/pull/192575)', 'created_at': datetime.datetime(2025, 1, 6, 17, 31, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573580789, 'issue_id': 2771119860, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 31, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:31:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192575.png)](https://mergebot.odoo.com/odoo/odoo/pull/192575)

fw-bot (Issue Creator) on (2025-01-06 17:31:35 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771119251,pull_request,closed,,[FW][FIX] mrp_subcontracting_dropshipping: test ok in 2025 from 862ede4,"In 862ede43e5910ae6954f3574f45c213e5d3a1886 the added test depended on
being in year 2024, so it failed in eg. 2025.

With this change we don't harcode the invoice name in assert data.

runbot-error-111390
opw-4050777

Forward-Port-Of: odoo/odoo#192451
Forward-Port-Of: odoo/odoo#192192",fw-bot,2025-01-06 17:31:17+00:00,[],2025-01-21 09:42:44+00:00,2025-01-07 09:29:53+00:00,https://github.com/odoo/odoo/pull/192574,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573580212, 'issue_id': 2771119251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192574.png)](https://mergebot.odoo.com/odoo/odoo/pull/192574)', 'created_at': datetime.datetime(2025, 1, 6, 17, 31, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573580238, 'issue_id': 2771119251, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 31, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:31:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192574.png)](https://mergebot.odoo.com/odoo/odoo/pull/192574)

fw-bot (Issue Creator) on (2025-01-06 17:31:19 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771118053,pull_request,closed,,[FW][FIX] core: fix header when converting to PDF/A-3,"**Issue:**
When converting a PDF file into a PDF/A compliant file, the result may generate the following error message when parsing it by a PDF/A-3 validator:
`The aforementioned EOL marker shall be immediately followed by a % (25h) character followed by at least four bytes, each of whose encoded byte values shall have a decimal value greater than 127 `

**Cause:**
A previous fix has moved the four bytes in a conditional operation, but the `%` character has been forgotten.

opw-4353108



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191326",fw-bot,2025-01-06 17:30:41+00:00,[],2025-01-21 17:04:06+00:00,2025-01-07 17:03:08+00:00,https://github.com/odoo/odoo/pull/192573,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573579108, 'issue_id': 2771118053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192573.png)](https://mergebot.odoo.com/odoo/odoo/pull/192573)', 'created_at': datetime.datetime(2025, 1, 6, 17, 30, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573579124, 'issue_id': 2771118053, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 30, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573640998, 'issue_id': 2771118053, 'author': 'fw-bot', 'body': '@kitan191 @d-fence ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 18, 7, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:30:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192573.png)](https://mergebot.odoo.com/odoo/odoo/pull/192573)

fw-bot (Issue Creator) on (2025-01-06 17:30:43 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 18:07:10 UTC): @kitan191 @d-fence ci/runbot failed on this forward-port PR

"
2771117555,pull_request,closed,,"[FW][FIX] sale,website_sale: pricelist valid dates not applied","If you create a pricelist rule with a discount that has a valid date range, that discount is only applied if the SO was created in that range. Even if it is confirmed within the valid date range.

Fix:
For website_sale orders we consider the date to be the current time when computing the price.

opw-4375643


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191538",fw-bot,2025-01-06 17:30:24+00:00,[],2025-01-22 10:58:15+00:00,2025-01-08 10:58:06+00:00,https://github.com/odoo/odoo/pull/192572,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573578661, 'issue_id': 2771117555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192572.png)](https://mergebot.odoo.com/odoo/odoo/pull/192572)', 'created_at': datetime.datetime(2025, 1, 6, 17, 30, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573578673, 'issue_id': 2771117555, 'author': 'fw-bot', 'body': '@livaios cherrypicking of pull request odoo/odoo#191538 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/sale_order_line.py\nAuto-merging addons/website_sale/models/sale_order_line.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\nCONFLICT (content): Merge conflict in addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 30, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575318186, 'issue_id': 2771117555, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 13, 39, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577197142, 'issue_id': 2771117555, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 28, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:30:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192572.png)](https://mergebot.odoo.com/odoo/odoo/pull/192572)

fw-bot (Issue Creator) on (2025-01-06 17:30:26 UTC): @livaios cherrypicking of pull request odoo/odoo#191538 failed.

stdout:
```
Auto-merging addons/sale/models/sale_order_line.py
Auto-merging addons/website_sale/models/sale_order_line.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py
CONFLICT (content): Merge conflict in addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

livaios on (2025-01-07 13:39:12 UTC): @robodoo r+

livaios on (2025-01-08 09:28:49 UTC): @robodoo r+

"
2771117067,pull_request,closed,,[FW][FIX] hr_expense: correct mapping of expense alias domain in settings,"**Steps to reproduce:**
- Install hr_expense
- Create 2 alias domains
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model
- Go to Expenses settings
- Change the prefix and the domain of the alias
- Save
- Go to ""Settings / Technical / Email / Aliases""
- Check the values for Expense model again

**Issue:**
The prefix has correctly been modified but not the domain. The domain from Expenses settings and the domain of the Expense alias are different.

**Cause:**
The domain field in Expenses settings is in fact the Email Domain (alias_domain_id) of the company, which makes no sense to combine the prefix and the domain from 2 different sources.

**Solution:**
Add a non-stored computed field to map the domain displayed in Expenses settings with the domain of the Expense alias.
Not great in stable, but there is no other way if we want to keep the option.

opw-4293936




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190252",fw-bot,2025-01-06 17:30:08+00:00,[],2025-01-21 10:54:41+00:00,2025-01-07 10:54:16+00:00,https://github.com/odoo/odoo/pull/192571,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573578309, 'issue_id': 2771117067, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192571.png)](https://mergebot.odoo.com/odoo/odoo/pull/192571)', 'created_at': datetime.datetime(2025, 1, 6, 17, 30, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573578329, 'issue_id': 2771117067, 'author': 'fw-bot', 'body': '@kitan191 @oco-odoo cherrypicking of pull request odoo/odoo#190252 failed.\n\nstdout:\n```\nAuto-merging addons/hr_expense/views/res_config_settings_views.xml\nCONFLICT (content): Merge conflict in addons/hr_expense/views/res_config_settings_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 17, 30, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574568814, 'issue_id': 2771117067, 'author': 'kitan191', 'body': '@Xavier-Do \r\nThis forward-port has been modified to fix a conflict.\r\nIs something should be done for the upgrade exception [#473](https://runbot.odoo.com/odoo/runbot.upgrade.exception/473?menu_id=405)?\r\n\r\nThanks.\r\n\r\ncc @odoo/rd-runbot', 'created_at': datetime.datetime(2025, 1, 7, 7, 32, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574584228, 'issue_id': 2771117067, 'author': 'Xavier-Do', 'body': 'No the field added with the exception is still there so no worry as long as you continue to forwardport it : )', 'created_at': datetime.datetime(2025, 1, 7, 7, 43, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574696090, 'issue_id': 2771117067, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 8, 42, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:30:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192571.png)](https://mergebot.odoo.com/odoo/odoo/pull/192571)

fw-bot (Issue Creator) on (2025-01-06 17:30:14 UTC): @kitan191 @oco-odoo cherrypicking of pull request odoo/odoo#190252 failed.

stdout:
```
Auto-merging addons/hr_expense/views/res_config_settings_views.xml
CONFLICT (content): Merge conflict in addons/hr_expense/views/res_config_settings_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-01-07 07:32:21 UTC): @Xavier-Do 
This forward-port has been modified to fix a conflict.
Is something should be done for the upgrade exception [#473](https://runbot.odoo.com/odoo/runbot.upgrade.exception/473?menu_id=405)?

Thanks.

cc @odoo/rd-runbot

Xavier-Do on (2025-01-07 07:43:28 UTC): No the field added with the exception is still there so no worry as long as you continue to forwardport it : )

kitan191 on (2025-01-07 08:42:13 UTC): @robodoo r+

"
2771106445,pull_request,closed,,[FIX] account: at-install tests without demo data,"runbot build error: 111129
Introduced by: 3fd42cfb29a06eab747c541568c1b472b8c7a0ad




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Feyensv,2025-01-06 17:23:45+00:00,[],2025-01-21 19:54:00+00:00,2025-01-07 19:45:21+00:00,https://github.com/odoo/odoo/pull/192570,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573567277, 'issue_id': 2771106445, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192570.png)](https://mergebot.odoo.com/odoo/odoo/pull/192570)', 'created_at': datetime.datetime(2025, 1, 6, 17, 23, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575737804, 'issue_id': 2771106445, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 16, 31, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 17:23:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192570.png)](https://mergebot.odoo.com/odoo/odoo/pull/192570)

Feyensv (Issue Creator) on (2025-01-07 16:31:22 UTC): @robodoo r+

"
2771058994,pull_request,closed,,[FW][FIX] project: fix project_tour tour,"In this commit, we fix the project tour. In the kanban view, we click on the first subtask_list_row but it is not yet (still) the newer subtask. We can therefore click on the first element even though it is not yet created. The DOM re-renders ... and the dropdown menu disappears.
By specifying (:contains()) that we want to click on the newer subtask, we wait for it to be created, for it to be rendered and then we click on it.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192491",fw-bot,2025-01-06 16:56:42+00:00,[],2025-01-21 09:43:00+00:00,2025-01-07 09:42:29+00:00,https://github.com/odoo/odoo/pull/192569,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573516485, 'issue_id': 2771058994, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192569.png)](https://mergebot.odoo.com/odoo/odoo/pull/192569)', 'created_at': datetime.datetime(2025, 1, 6, 16, 56, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573516501, 'issue_id': 2771058994, 'author': 'fw-bot', 'body': '@pipu-odoo @kebeclibre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192533\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 56, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574584173, 'issue_id': 2771058994, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 43, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:56:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192569.png)](https://mergebot.odoo.com/odoo/odoo/pull/192569)

fw-bot (Issue Creator) on (2025-01-06 16:56:44 UTC): @pipu-odoo @kebeclibre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192533

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-07 07:43:25 UTC): @robodoo r+

"
2771057573,pull_request,open,,[FIX] sale: convert combo product lines into invoice line sections,"Before, when invoices were created from a sales order and one of the lines is a combo product, it would create a regular invoice line for that with the combo product, but the price would be zero and no taxes.  The problem with that when sending electronic invoicing documents, is that it will treat that as a zero line.  (and some EDIs might e.g. complain there is no tax on there)

So, that way when creating the invoice line, we define it as a subsection with the product name as description but without product.

opw-4410461

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jco-odoo,2025-01-06 16:55:56+00:00,[],2025-01-17 09:48:10+00:00,,https://github.com/odoo/odoo/pull/192568,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573515240, 'issue_id': 2771057573, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192568.png)](https://mergebot.odoo.com/odoo/odoo/pull/192568)', 'created_at': datetime.datetime(2025, 1, 6, 16, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:56:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192568.png)](https://mergebot.odoo.com/odoo/odoo/pull/192568)

"
2771044390,pull_request,closed,,[FIX] account: draft bill entries in partner ledger,"### Before
When creating a new vendor bill through Vendors > 'Example Vendor 1'> Vendor Bills (magic button), if the vendor was changed to 'Example Vendor 2' and the draft saved then it would show up under the 'Example Vendor 1' in the Partner Ledger instead of under the correct 'Example Vendor 2'. 

This is due to the partner_id being defined in the context when going through the 'Example Vendor 1' view. 

### Now
During the creation of the account move lines we use a context without the default_partner_id.

The Partner Ledger now shows the draft bill entry under the right vendor.

opw-4407709",aizu-odoo,2025-01-06 16:48:24+00:00,[],2025-01-28 17:05:29+00:00,2025-01-14 16:45:08+00:00,https://github.com/odoo/odoo/pull/192567,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573500993, 'issue_id': 2771044390, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192567.png)](https://mergebot.odoo.com/odoo/odoo/pull/192567)', 'created_at': datetime.datetime(2025, 1, 6, 16, 48, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:48:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192567.png)](https://mergebot.odoo.com/odoo/odoo/pull/192567)

"
2771034689,pull_request,closed,,[FW][FIX] im_livechat: correct author name display for visitor messages in demo data,"**Current behavior before PR:**

Messages posted by visitors in demo data incorrectly displayed the author name
as `Odoobot` instead of `Visitor`. This happened because the messages created
for visitors in the demo data do not have the `author_id` field explicitly set to
`False`, leading the `_message_compute_author()` method to compute the author incorrectly.

**Desired behavior after PR is merged:**

Messages posted by visitors in demo data correctly display the author name as Visitor.


Task-[4420677](https://www.odoo.com/odoo/project/1519/tasks/4420677)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192003",fw-bot,2025-01-06 16:43:14+00:00,[],2025-01-22 14:39:34+00:00,2025-01-08 14:33:14+00:00,https://github.com/odoo/odoo/pull/192566,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573490704, 'issue_id': 2771034689, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192566.png)](https://mergebot.odoo.com/odoo/odoo/pull/192566)', 'created_at': datetime.datetime(2025, 1, 6, 16, 43, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573490793, 'issue_id': 2771034689, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 43, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:43:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192566.png)](https://mergebot.odoo.com/odoo/odoo/pull/192566)

fw-bot (Issue Creator) on (2025-01-06 16:43:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771025750,pull_request,closed,,[FW][FIX] l10n_es_pos_tbai: Add refund reason in pos,"Refund order in spain require a refund reason.

Steps to reproduce:
-------------------
* Install l10n_es_pos_tbai module
* Open PoS
* Make an order and try to refund it
> Observation: You get an error message saying that you need to add a
refund reason

opw-4282586

Forward-Port-Of: odoo/odoo#191503
Forward-Port-Of: odoo/odoo#191205",fw-bot,2025-01-06 16:38:27+00:00,[],2025-01-07 13:28:02+00:00,2025-01-06 16:44:58+00:00,https://github.com/odoo/odoo/pull/192565,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573481503, 'issue_id': 2771025750, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192565.png)](https://mergebot.odoo.com/odoo/odoo/pull/192565)', 'created_at': datetime.datetime(2025, 1, 6, 16, 38, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573481577, 'issue_id': 2771025750, 'author': 'fw-bot', 'body': '@robinengels @william-andre cherrypicking of pull request odoo/odoo#191205 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es_edi_tbai_pos/__manifest__.py\nCONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/__init__.py deleted in 672aa24ead6956ffc3383c6a1c89f342bb51529f and modified in afdafb31d91d8096be109d5ea99cf63ef462ed45.  Version afdafb31d91d8096be109d5ea99cf63ef462ed45 of addons/l10n_es_pos_tbai/models/__init__.py left in tree.\nCONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/pos_order.py deleted in 672aa24ead6956ffc3383c6a1c89f342bb51529f and modified in afdafb31d91d8096be109d5ea99cf63ef462ed45.  Version afdafb31d91d8096be109d5ea99cf63ef462ed45 of addons/l10n_es_pos_tbai/models/pos_order.py left in tree.\nCONFLICT (modify/delete): addons/l10n_es_pos_tbai/static/src/overrides/models/order.js deleted in 672aa24ead6956ffc3383c6a1c89f342bb51529f and modified in afdafb31d91d8096be109d5ea99cf63ef462ed45.  Version afdafb31d91d8096be109d5ea99cf63ef462ed45 of addons/l10n_es_pos_tbai/static/src/overrides/models/order.js left in tree.\nAuto-merging addons/web/tooling/_eslintignore\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 38, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573493823, 'issue_id': 2771025750, 'author': 'robinengels', 'body': 'already fixed (https://github.com/odoo/odoo/pull/178613)', 'created_at': datetime.datetime(2025, 1, 6, 16, 44, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575272115, 'issue_id': 2771025750, 'author': 'william-andre', 'body': 'Fixed by what how who when?', 'created_at': datetime.datetime(2025, 1, 7, 13, 15, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:38:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192565.png)](https://mergebot.odoo.com/odoo/odoo/pull/192565)

fw-bot (Issue Creator) on (2025-01-06 16:38:31 UTC): @robinengels @william-andre cherrypicking of pull request odoo/odoo#191205 failed.

stdout:
```
Auto-merging addons/l10n_es_edi_tbai_pos/__manifest__.py
CONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/__init__.py deleted in 672aa24ead6956ffc3383c6a1c89f342bb51529f and modified in afdafb31d91d8096be109d5ea99cf63ef462ed45.  Version afdafb31d91d8096be109d5ea99cf63ef462ed45 of addons/l10n_es_pos_tbai/models/__init__.py left in tree.
CONFLICT (modify/delete): addons/l10n_es_pos_tbai/models/pos_order.py deleted in 672aa24ead6956ffc3383c6a1c89f342bb51529f and modified in afdafb31d91d8096be109d5ea99cf63ef462ed45.  Version afdafb31d91d8096be109d5ea99cf63ef462ed45 of addons/l10n_es_pos_tbai/models/pos_order.py left in tree.
CONFLICT (modify/delete): addons/l10n_es_pos_tbai/static/src/overrides/models/order.js deleted in 672aa24ead6956ffc3383c6a1c89f342bb51529f and modified in afdafb31d91d8096be109d5ea99cf63ef462ed45.  Version afdafb31d91d8096be109d5ea99cf63ef462ed45 of addons/l10n_es_pos_tbai/static/src/overrides/models/order.js left in tree.
Auto-merging addons/web/tooling/_eslintignore

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-06 16:44:58 UTC): already fixed (https://github.com/odoo/odoo/pull/178613)

william-andre on (2025-01-07 13:15:09 UTC): Fixed by what how who when?

"
2771023251,pull_request,open,,[IMP] mail: move web push configuration to mixin,"This PR will move some of the fields of the `mail.push.device` push device into a mixin so that they can be reused for the push notifications in the `social` and `event` module.

Task-4316624
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",julien-banken,2025-01-06 16:37:03+00:00,[],2025-02-04 12:17:03+00:00,,https://github.com/odoo/odoo/pull/192564,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573478912, 'issue_id': 2771023251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192564.png)](https://mergebot.odoo.com/odoo/odoo/pull/192564)', 'created_at': datetime.datetime(2025, 1, 6, 16, 37, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:37:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192564.png)](https://mergebot.odoo.com/odoo/odoo/pull/192564)

"
2771022965,pull_request,closed,,[FIX] account: hide validate button on payment without oustanding,"This button is only useful for marking payments as paid when the matching doesn't do it automatically, which can only happen if there is no reconciliation being done, which only happens when there is no outstanding account used.

opw-4445889
",william-andre,2025-01-06 16:36:52+00:00,[],2025-01-28 15:37:00+00:00,2025-01-14 15:13:15+00:00,https://github.com/odoo/odoo/pull/192563,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573478639, 'issue_id': 2771022965, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192563.png)](https://mergebot.odoo.com/odoo/odoo/pull/192563)', 'created_at': datetime.datetime(2025, 1, 6, 16, 36, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589799689, 'issue_id': 2771022965, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 34, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:36:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192563.png)](https://mergebot.odoo.com/odoo/odoo/pull/192563)

rugo-odoo on (2025-01-14 12:34:32 UTC): @robodoo r+

"
2771016706,pull_request,closed,,[FIX] account: Manual payments try to post already posted moves,"Steps to reproduce:

1. Install account
2. Configure the bank journal so it has an account linked to manual payments
3. Go to Customers -> Payments and create a new payment with a fake user and amount
4. Confirm the payment. Then Validate the payment.
5. An error shows up: ""The entry must be in draft.""

---

Description of the issue this commit addresses:

When trying to validate a payment (marking it as paid), the move linked to the payment is posted but if the move was already posted or cancelled, an error is raised. This is not a desired behavior.

---

Desired behavior after this commit is merged:

When following the same process, the move is only posted if it is not posted or cancelled yet to make sure it should pass through the posting method.

---

Note on the fix:

Cancelled is taken into account for safety purposes but since the payment is manual, no move at that point in the code should ever have state == 'cancel'.

---

opw-4445889

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Megaaaaaa,2025-01-06 16:33:19+00:00,[],2025-01-06 16:51:48+00:00,2025-01-06 16:51:48+00:00,https://github.com/odoo/odoo/pull/192562,[],"[{'comment_id': 2573472056, 'issue_id': 2771016706, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192562.png)](https://mergebot.odoo.com/odoo/odoo/pull/192562)', 'created_at': datetime.datetime(2025, 1, 6, 16, 33, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573507529, 'issue_id': 2771016706, 'author': 'tsb-odoo', 'body': 'Closed in favor of https://github.com/odoo/odoo/pull/192563 \r\nThanks anyway', 'created_at': datetime.datetime(2025, 1, 6, 16, 51, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:33:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192562.png)](https://mergebot.odoo.com/odoo/odoo/pull/192562)

tsb-odoo on (2025-01-06 16:51:48 UTC): Closed in favor of https://github.com/odoo/odoo/pull/192563 
Thanks anyway

"
2771015785,pull_request,closed,,[FW][FIX] sale_purchase: read service_to_purchase from the order's company,"Steps to reproduce:

1. Create two companies: Company A and Company B
2. Create a service product
3. Configure the product to be purchased on Company A and not on Company B
4. Create a sales order on Company B, while logged in Company A
5. Confirm the order

Expected result:

The service PO is created on Company B, even though it was configured not to.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#177659",fw-bot,2025-01-06 16:32:45+00:00,[],2025-02-03 19:00:25+00:00,2025-01-20 18:40:34+00:00,https://github.com/odoo/odoo/pull/192561,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573470953, 'issue_id': 2771015785, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192561.png)](https://mergebot.odoo.com/odoo/odoo/pull/192561)', 'created_at': datetime.datetime(2025, 1, 6, 16, 32, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573470972, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo cherrypicking of pull request odoo/odoo#177659 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase/models/sale_order_line.py\nCONFLICT (content): Merge conflict in addons/sale_purchase/models/sale_order_line.py\nAuto-merging addons/sale_purchase/tests/test_sale_purchase.py\nCONFLICT (content): Merge conflict in addons/sale_purchase/tests/test_sale_purchase.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 32, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581588363, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000725, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541947, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047680, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621216, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591479024, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 15, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313906, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599469022, 'issue_id': 2771015785, 'author': 'fw-bot', 'body': '@ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 18, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602954936, 'issue_id': 2771015785, 'author': 'ticodoo', 'body': ""Couldn't figure out the access rights issue that was causing the test to fail when using `with_company()`, but since it wasn't important for this test, just added sudo's to bypass it.\r\n\r\n@robodoo r+"", 'created_at': datetime.datetime(2025, 1, 20, 17, 29, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:32:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192561.png)](https://mergebot.odoo.com/odoo/odoo/pull/192561)

fw-bot (Issue Creator) on (2025-01-06 16:32:47 UTC): @ivantodorovich @ticodoo cherrypicking of pull request odoo/odoo#177659 failed.

stdout:
```
Auto-merging addons/sale_purchase/models/sale_order_line.py
CONFLICT (content): Merge conflict in addons/sale_purchase/models/sale_order_line.py
Auto-merging addons/sale_purchase/tests/test_sale_purchase.py
CONFLICT (content): Merge conflict in addons/sale_purchase/tests/test_sale_purchase.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 02:01:51 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:46 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:15 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:55 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:16 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-15 02:02:09 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-16 02:01:43 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-18 02:01:43 UTC): @ivantodorovich @ticodoo this forward port of odoo/odoo#177659 is awaiting action (not merged or closed).

ticodoo on (2025-01-20 17:29:04 UTC): Couldn't figure out the access rights issue that was causing the test to fail when using `with_company()`, but since it wasn't important for this test, just added sudo's to bypass it.

@robodoo r+

"
2771014070,pull_request,closed,,[FIX] account_peppol: Fix external calls from tests,"Context:
In Peppol, we have multiple EDI mode:
- `production` that will call the real Peppol infrastructure,
- `test` that will call the sandbox Peppol,
- `demo` that makes no call at all, everything is mocked.

By default, runbots and demo data are set to `demo`. In tests, the value is therefore also `demo`, which is what we want: No call to external services.

Before this commit, we were doing some weird and useless override in the handling of demo functions, which is useless: if you want to test Odoo in a particular mode, just set it (this is what we do in Peppol tests' `setUpClass`), for all other tests, keeping the default demo mode should be preferred.

This was a problem because tests ran by other modules with Peppol installed were trying to make external calls.

task-no
",clbr-odoo,2025-01-06 16:31:48+00:00,[],2025-01-21 19:16:53+00:00,2025-01-07 19:05:23+00:00,https://github.com/odoo/odoo/pull/192560,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573469286, 'issue_id': 2771014070, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192560.png)](https://mergebot.odoo.com/odoo/odoo/pull/192560)', 'created_at': datetime.datetime(2025, 1, 6, 16, 31, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573474445, 'issue_id': 2771014070, 'author': 'clbr-odoo', 'body': ""@william-andre Still need to check if I'm not breaking other tests, but I think this is correct + simpler.\r\n\r\nIn master I will probably change the peppol state to use two fields (one stored + one computed non-stored) that mimic a company dependent computed field, and avoid all the mess in create/write. Or even just remove those checks in create/write, since imo it's no use to keep validating the participant, you only need to do it when you use the Print & Send (will discuss it with TSB/PMAX).\r\nWe can also improve the code by factorizing the external call in participant_info, since it's called for each company, while it's actually always the same, regardless of the  company on Odoo... WIP :slightly_smiling_face:"", 'created_at': datetime.datetime(2025, 1, 6, 16, 34, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574146619, 'issue_id': 2771014070, 'author': 'william-andre', 'body': ""That's what I would have done as well, but there is one failing test"", 'created_at': datetime.datetime(2025, 1, 7, 0, 8, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575130739, 'issue_id': 2771014070, 'author': 'robodoo', 'body': '@william-andre you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 7, 12, 11, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:31:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192560.png)](https://mergebot.odoo.com/odoo/odoo/pull/192560)

clbr-odoo (Issue Creator) on (2025-01-06 16:34:39 UTC): @william-andre Still need to check if I'm not breaking other tests, but I think this is correct + simpler.

In master I will probably change the peppol state to use two fields (one stored + one computed non-stored) that mimic a company dependent computed field, and avoid all the mess in create/write. Or even just remove those checks in create/write, since imo it's no use to keep validating the participant, you only need to do it when you use the Print & Send (will discuss it with TSB/PMAX).
We can also improve the code by factorizing the external call in participant_info, since it's called for each company, while it's actually always the same, regardless of the  company on Odoo... WIP :slightly_smiling_face:

william-andre on (2025-01-07 00:08:39 UTC): That's what I would have done as well, but there is one failing test

robodoo on (2025-01-07 12:11:38 UTC): @william-andre you may want to rebuild or fix this PR as it has failed CI.

"
2771011637,pull_request,closed,,[FW][FIX] test_mail: skip chatter popout across multiple records test,"Skip because test has race conditions, until we have time to properly fix it.

runbot-109795

Forward-Port-Of: odoo/odoo#192470",fw-bot,2025-01-06 16:30:28+00:00,[],2025-01-07 10:06:55+00:00,2025-01-07 08:07:36+00:00,https://github.com/odoo/odoo/pull/192559,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573466714, 'issue_id': 2771011637, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192559.png)](https://mergebot.odoo.com/odoo/odoo/pull/192559)', 'created_at': datetime.datetime(2025, 1, 6, 16, 30, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573466733, 'issue_id': 2771011637, 'author': 'fw-bot', 'body': '@seb-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192554\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 30, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:30:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192559.png)](https://mergebot.odoo.com/odoo/odoo/pull/192559)

fw-bot (Issue Creator) on (2025-01-06 16:30:30 UTC): @seb-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192554

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771009742,pull_request,closed,,[FW][FIX] pos_sale: draft pos order ignored in sales,"Draft pos order where considered as paid when counting the invoiced qty of a sale linked to a pos order.

Steps to reproduce:
-------------------
* Create a sale order with any product
* Open PoS and settle the order but do not validate it
* Click on ""Backend"" button so that the order is synchronized
* Go back on the sale
> Observation: The invoiced quantity is 1

Why the fix:
------------
We should not consider draft pos orders when counting the invoiced qty as they are not yet validated.

opw-4201267

Forward-Port-Of: odoo/odoo#192292
Forward-Port-Of: odoo/odoo#192160",fw-bot,2025-01-06 16:29:24+00:00,[],2025-01-21 18:32:32+00:00,2025-01-07 18:22:37+00:00,https://github.com/odoo/odoo/pull/192558,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573464844, 'issue_id': 2771009742, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192558.png)](https://mergebot.odoo.com/odoo/odoo/pull/192558)', 'created_at': datetime.datetime(2025, 1, 6, 16, 29, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573464865, 'issue_id': 2771009742, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom cherrypicking of pull request odoo/odoo#192160 failed.\n\nstdout:\n```\nAuto-merging addons/pos_sale/models/sale_order.py\nAuto-merging addons/pos_sale/static/tests/tours/pos_sale_tour.js\nAuto-merging addons/pos_sale/tests/test_pos_sale_flow.py\nCONFLICT (content): Merge conflict in addons/pos_sale/tests/test_pos_sale_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 29, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248861, 'issue_id': 2771009742, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this forward port of odoo/odoo#192160 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575487737, 'issue_id': 2771009742, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 50, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:29:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192558.png)](https://mergebot.odoo.com/odoo/odoo/pull/192558)

fw-bot (Issue Creator) on (2025-01-06 16:29:26 UTC): @robinengels @davidmonnom cherrypicking of pull request odoo/odoo#192160 failed.

stdout:
```
Auto-merging addons/pos_sale/models/sale_order.py
Auto-merging addons/pos_sale/static/tests/tours/pos_sale_tour.js
Auto-merging addons/pos_sale/tests/test_pos_sale_flow.py
CONFLICT (content): Merge conflict in addons/pos_sale/tests/test_pos_sale_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:18 UTC): @robinengels @davidmonnom this forward port of odoo/odoo#192160 is awaiting action (not merged or closed).

robinengels on (2025-01-07 14:50:02 UTC): @robodoo r+

"
2771009262,pull_request,closed,,[FW][FIX] project: fix changeDescriptionContentAndSave,"When you chain several uses of changeDescriptionContentAndSave() in a tour, you don't necessarily wait for the editor to be actually saved before continuing.
So, it always works for the first use but not for the following ones if the tour engine goes too ""fast"".
So this fix add a step in which we make sure that the form is actually saved before continuing.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192490",fw-bot,2025-01-06 16:29:08+00:00,[],2025-01-21 11:16:18+00:00,2025-01-07 11:04:26+00:00,https://github.com/odoo/odoo/pull/192557,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573464373, 'issue_id': 2771009262, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192557.png)](https://mergebot.odoo.com/odoo/odoo/pull/192557)', 'created_at': datetime.datetime(2025, 1, 6, 16, 29, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573464401, 'issue_id': 2771009262, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 29, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574583832, 'issue_id': 2771009262, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 43, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:29:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192557.png)](https://mergebot.odoo.com/odoo/odoo/pull/192557)

fw-bot (Issue Creator) on (2025-01-06 16:29:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-07 07:43:11 UTC): @robodoo r+

"
2771008744,pull_request,closed,,[FW][FIX] ir_ui_view: fix check on empty view arch,"Since the arch is not mandatory and the `_combine` method would [assume it is a data node](https://github.com/odoo/odoo/pull/182766), the `_check_xml` for child views should allow an empty arch in the same way.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189450",fw-bot,2025-01-06 16:28:52+00:00,[],2025-01-21 09:42:56+00:00,2025-01-07 09:36:58+00:00,https://github.com/odoo/odoo/pull/192556,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573463773, 'issue_id': 2771008744, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192556.png)](https://mergebot.odoo.com/odoo/odoo/pull/192556)', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573463794, 'issue_id': 2771008744, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:28:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192556.png)](https://mergebot.odoo.com/odoo/odoo/pull/192556)

fw-bot (Issue Creator) on (2025-01-06 16:28:54 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2771008306,pull_request,closed,,[FW][FIX] mail: trash icon on attachments,"Portal users don't have access to delete attachments created by others. In this case, the trash icon shouldn't be displayed. This PR removes this icon from the attachment of a message when the message is not editable by the current user.

Forward-Port-Of: odoo/odoo#192310",fw-bot,2025-01-06 16:28:36+00:00,[],2025-01-10 13:41:07+00:00,2025-01-10 13:29:13+00:00,https://github.com/odoo/odoo/pull/192555,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573463282, 'issue_id': 2771008306, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192555.png)](https://mergebot.odoo.com/odoo/odoo/pull/192555)', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573463303, 'issue_id': 2771008306, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573546382, 'issue_id': 2771008306, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 17, 12, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587127, 'issue_id': 2771008306, 'author': 'fw-bot', 'body': '@maki-odoo @alexkuhn this forward port of odoo/odoo#192310 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:28:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192555.png)](https://mergebot.odoo.com/odoo/odoo/pull/192555)

fw-bot (Issue Creator) on (2025-01-06 16:28:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 17:12:42 UTC): @maki-odoo @alexkuhn ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-10 02:01:31 UTC): @maki-odoo @alexkuhn this forward port of odoo/odoo#192310 is awaiting action (not merged or closed).

"
2771007814,pull_request,closed,,[FW][FIX] test_mail: skip chatter popout across multiple records test,"Skip because test has race conditions, until we have time to properly fix it.

runbot-109795

Forward-Port-Of: odoo/odoo#192470",fw-bot,2025-01-06 16:28:20+00:00,[],2025-01-20 23:47:04+00:00,2025-01-06 22:51:37+00:00,https://github.com/odoo/odoo/pull/192554,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573462898, 'issue_id': 2771007814, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192554.png)](https://mergebot.odoo.com/odoo/odoo/pull/192554)', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573462919, 'issue_id': 2771007814, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573466148, 'issue_id': 2771007814, 'author': 'seb-odoo', 'body': '@robodoo fw=skipci', 'created_at': datetime.datetime(2025, 1, 6, 16, 30, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573466225, 'issue_id': 2771007814, 'author': 'robodoo', 'body': 'Not waiting for CI to create followup forward-ports.', 'created_at': datetime.datetime(2025, 1, 6, 16, 30, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:28:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192554.png)](https://mergebot.odoo.com/odoo/odoo/pull/192554)

fw-bot (Issue Creator) on (2025-01-06 16:28:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

seb-odoo on (2025-01-06 16:30:10 UTC): @robodoo fw=skipci

robodoo on (2025-01-06 16:30:13 UTC): Not waiting for CI to create followup forward-ports.

"
2771007283,pull_request,closed,,[FW][FIX] pos_stripe: consistency on Stripe API calls,"Before this commit:
pos_stripe doesn't specify a Stripe version when doing its requests. Because of this, Stripe defaults to the API version defined on the Stripe account. This varies from customer to customer, as it is automatically configured to use the latest API version available when the first API request is received. Stripe regularly makes breaking changes to their API:
https://docs.stripe.com/changelog?breaking=true
for example removing the `charges` attribute:
https://docs.stripe.com/changelog/2022-11-15/removes-charges-attribute-paymentintent
which we use in pos_stripe.

After this commit:
We rely on payment_stripe._stripe_make_request which hardcode the API version number. Such change was already started in `pos_stripe.stripe_capture_payment`

opw-4375876

Forward-Port-Of: odoo/odoo#192008",fw-bot,2025-01-06 16:28:02+00:00,[],2025-01-21 19:30:10+00:00,2025-01-07 19:21:07+00:00,https://github.com/odoo/odoo/pull/192553,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573462862, 'issue_id': 2771007283, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192553.png)](https://mergebot.odoo.com/odoo/odoo/pull/192553)', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573462875, 'issue_id': 2771007283, 'author': 'fw-bot', 'body': '@lse-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192534\n* odoo/odoo#192475\n* odoo/odoo#192465\n* odoo/odoo#192453\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 28, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574936627, 'issue_id': 2771007283, 'author': 'fw-bot', 'body': '@lse-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 10, 30, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575322026, 'issue_id': 2771007283, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 13, 40, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:28:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192553.png)](https://mergebot.odoo.com/odoo/odoo/pull/192553)

fw-bot (Issue Creator) on (2025-01-06 16:28:24 UTC): @lse-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192534
* odoo/odoo#192475
* odoo/odoo#192465
* odoo/odoo#192453

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 10:30:49 UTC): @lse-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

lse-odoo on (2025-01-07 13:40:41 UTC): @robodoo r+

"
2771006791,pull_request,closed,,[FIX] project : Portal project's task access limitation,"### Steps to reproduce:
	- Create a project with a few tasks -> add a portal user as a follower
	- Go to the user's portal -> the user sees the project, but no tasks
	- Give user access to another project so that he has multiple projects in his portal.
	- Open the first project with 0 visible task and use arrows to navigate between the projects.
	- Go back to the first project all tasks are visible

### Cause:
This is happening because when fetching tasks that will be shown we are passing the SU parameter as true if we have access token https://github.com/odoo/odoo/blob/0b315ded0928372d2349b25699f440f4bf969814/addons/project/controllers/portal.py#L38 which leads that we will not create a domain for fetching tasks as SU will by default has access to all tasks.
https://github.com/odoo/odoo/blob/0b315ded0928372d2349b25699f440f4bf969814/addons/project/controllers/portal.py#L372-L373

### Fix:
We are gonna pass the parameter of SU as true only if the env of the request is SU env only.

opw-4410717",yoba-odoo,2025-01-06 16:27:45+00:00,[],2025-01-29 11:06:44+00:00,2025-01-15 10:52:12+00:00,https://github.com/odoo/odoo/pull/192552,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573461771, 'issue_id': 2771006791, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192552.png)](https://mergebot.odoo.com/odoo/odoo/pull/192552)', 'created_at': datetime.datetime(2025, 1, 6, 16, 27, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580300935, 'issue_id': 2771006791, 'author': 'xavierbol', 'body': 'Your changes are in `project` module and not `portal` so your commit title should mention `project` module. 😇 \r\n\r\nAlso, I am not sure to understand why we should not consider the user as ""public user"" if he has a link with the access token.', 'created_at': datetime.datetime(2025, 1, 9, 14, 8, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580482455, 'issue_id': 2771006791, 'author': 'yoba-odoo', 'body': ""My bad :sweat_smile: \r\n\r\nIf I am getting you right. When we are getting the pager values we are setting the access token in the url for every record https://github.com/odoo/odoo/blob/1769ee9526f6c3f2cfd5d576630d26555dbf07ce/addons/portal/controllers/portal.py#L85-L110 so the type of the user won't matter as he will always have the access token if he is using the page arrows to access the next/previous records and he will see records he doesn't have access to. But when he access the project from the portal list view he won't have the access token so he will only see the tasks that he is following and this is inconsistent behavior I guess."", 'created_at': datetime.datetime(2025, 1, 9, 14, 54, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591904257, 'issue_id': 2771006791, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 8, 16, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:27:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192552.png)](https://mergebot.odoo.com/odoo/odoo/pull/192552)

xavierbol on (2025-01-09 14:08:52 UTC): Your changes are in `project` module and not `portal` so your commit title should mention `project` module. 😇 

Also, I am not sure to understand why we should not consider the user as ""public user"" if he has a link with the access token.

yoba-odoo (Issue Creator) on (2025-01-09 14:54:53 UTC): My bad :sweat_smile: 

If I am getting you right. When we are getting the pager values we are setting the access token in the url for every record https://github.com/odoo/odoo/blob/1769ee9526f6c3f2cfd5d576630d26555dbf07ce/addons/portal/controllers/portal.py#L85-L110 so the type of the user won't matter as he will always have the access token if he is using the page arrows to access the next/previous records and he will see records he doesn't have access to. But when he access the project from the portal list view he won't have the access token so he will only see the tasks that he is following and this is inconsistent behavior I guess.

xavierbol on (2025-01-15 08:16:36 UTC): robodoo r+

"
2771002748,pull_request,closed,,[FIX] base: keep old behavior of ir.model import,"In https://github.com/odoo/odoo/pull/176227, we moved where we set `install_mode` in context from the low-level import records method `_load_records` to the `load_data` method.

Unfortunately, when we load an industry module, we don't use `load_data`, but mimic its behavior in `_import_zipfile` -> `_import_module`. For example, `_default_field_id` now has a different behavior when we install from a zip module or from the command line. And this can cause the import of the industry module to crash.

To avoid this situation, move where `install_mode` is set to `convert_csv_import` and `xml_import`. These are both used by `_import_module` and `load_data` at some point, but not by a user import (the purpose of the first PR).

##### [REM] core: remove unnecessary `fields_get` call in `load

`fg` are unused and `fields_get` can be expensive for large models. Remove this unnecessary line.",ryv-odoo,2025-01-06 16:25:32+00:00,[],2025-01-21 11:16:20+00:00,2025-01-07 11:04:42+00:00,https://github.com/odoo/odoo/pull/192551,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573457788, 'issue_id': 2771002748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192551.png)](https://mergebot.odoo.com/odoo/odoo/pull/192551)', 'created_at': datetime.datetime(2025, 1, 6, 16, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573512770, 'issue_id': 2771002748, 'author': 'ryv-odoo', 'body': ""> The strange part for me is that `convert` may be used outside of the `install_mode`, that's why the variable was set in the `loading` module. However, I see that there is also `install_module` being set here.\r\n\r\nYes, there are certainly some clean to do there."", 'created_at': datetime.datetime(2025, 1, 6, 16, 54, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574682543, 'issue_id': 2771002748, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 8, 34, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574682645, 'issue_id': 2771002748, 'author': 'robodoo', 'body': '@ryv-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 7, 8, 34, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574683065, 'issue_id': 2771002748, 'author': 'ryv-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 7, 8, 34, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574683151, 'issue_id': 2771002748, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 7, 8, 34, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:25:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192551.png)](https://mergebot.odoo.com/odoo/odoo/pull/192551)

ryv-odoo (Issue Creator) on (2025-01-06 16:54:42 UTC): Yes, there are certainly some clean to do there.

ryv-odoo (Issue Creator) on (2025-01-07 08:34:38 UTC): @robodoo r+

robodoo on (2025-01-07 08:34:42 UTC): @ryv-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

ryv-odoo (Issue Creator) on (2025-01-07 08:34:55 UTC): @robodoo rebase-ff

robodoo on (2025-01-07 08:34:58 UTC): Merge method set to rebase and fast-forward.

"
2771000747,pull_request,closed,," [IMP] *: change ""iot box"" to ""iot system"" when relevant to Windows Virtual IoT",wip,lse-odoo,2025-01-06 16:24:21+00:00,[],2025-01-27 08:15:04+00:00,2025-01-21 15:57:38+00:00,https://github.com/odoo/odoo/pull/192550,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573455582, 'issue_id': 2771000747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192550.png)](https://mergebot.odoo.com/odoo/odoo/pull/192550)', 'created_at': datetime.datetime(2025, 1, 6, 16, 24, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605120571, 'issue_id': 2771000747, 'author': 'lse-odoo', 'body': 'world is not ready for that (and taking care of the fw port will be a nightmare)', 'created_at': datetime.datetime(2025, 1, 21, 15, 57, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:24:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192550.png)](https://mergebot.odoo.com/odoo/odoo/pull/192550)

lse-odoo (Issue Creator) on (2025-01-21 15:57:38 UTC): world is not ready for that (and taking care of the fw port will be a nightmare)

"
2770986116,pull_request,closed,,[FW][FIX] point_of_sale: add default filter pos order,"Cancelled order should be ignored by default in the POS order report.

Steps to reproduce:
-------------------
* Open PoS create an order and go back to the backedn
* Open the PoS again and close the PoS, it will cancel the order
> Observation: Open PoS order report, it will include the cancelled
order, that can be missleading.

Why the fix:
------------
We add a new default filter that apply a domain to exclude the cancelled order from the report.

opw-4257734

Forward-Port-Of: odoo/odoo#192377",fw-bot,2025-01-06 16:15:53+00:00,[],2025-01-21 08:18:37+00:00,2025-01-07 08:07:49+00:00,https://github.com/odoo/odoo/pull/192549,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573440067, 'issue_id': 2770986116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192549.png)](https://mergebot.odoo.com/odoo/odoo/pull/192549)', 'created_at': datetime.datetime(2025, 1, 6, 16, 15, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573440093, 'issue_id': 2770986116, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192526\n* odoo/odoo#192481\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 15, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573490795, 'issue_id': 2770986116, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 43, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:15:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192549.png)](https://mergebot.odoo.com/odoo/odoo/pull/192549)

fw-bot (Issue Creator) on (2025-01-06 16:15:55 UTC): @robinengels @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192526
* odoo/odoo#192481

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-06 16:43:18 UTC): @robodoo r+

"
2770980036,pull_request,closed,,[FW][FIX] website_sale: show desired amount of alternative products,"Versions
--------
- saas-17.4+

Steps
-----
1. Have a published product ""A"" with 16+ variants;
2. have a published product ""B"" with alternative product ""A"";
3. add more alternative products whose names are greater than ""A"";
4. open product ""B"" in eCommerce.

>[!Important]
> Products with a reference value (e.g. ""[FURN_2100]"") get sorted before ""A"", so be sure to exclude those to reproduce the issue.

Issue
-----
Only product ""A"" gets displayed.

Cause
-----
The dynamic filter for alternative products applies the default limit of 16 to the variant count.

This was not an issue in earlier versions, as alternative products displayed variants instead of templates.

Solution
--------
In the `_prepare_values` method, set the `hide_variants` context value even if `self.filter_id` is falsy, making it accessible for dynamic filters as well.

In the `_get_products_*` methods, check this context value. If present, limit each product template to a single variant before calling `search`.


opw-4318624

Forward-Port-Of: odoo/odoo#192421
Forward-Port-Of: odoo/odoo#189040",fw-bot,2025-01-06 16:12:23+00:00,[],2025-01-21 08:18:36+00:00,2025-01-07 08:07:45+00:00,https://github.com/odoo/odoo/pull/192548,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573433224, 'issue_id': 2770980036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192548.png)](https://mergebot.odoo.com/odoo/odoo/pull/192548)', 'created_at': datetime.datetime(2025, 1, 6, 16, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573433258, 'issue_id': 2770980036, 'author': 'fw-bot', 'body': '@lvsz this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192528\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 12, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573589404, 'issue_id': 2770980036, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 17, 36, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:12:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192548.png)](https://mergebot.odoo.com/odoo/odoo/pull/192548)

fw-bot (Issue Creator) on (2025-01-06 16:12:25 UTC): @lvsz this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192528

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-06 17:36:38 UTC): @robodoo r+

"
2770975612,pull_request,closed,,[FW][17.0][FIX] account: Apply sudo to avoid an access error when importing records (e.g. partners).,"Apply sudo to avoid an access error when importing records (e.g. partners).

Example use case:
- Uninstall `base_install_request`
- A user without the Administrator > Settings permission
- Go to Contacts and click on Import records
- When uploading the file the access error occurs

@Tecnativa TT51841

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189180
Forward-Port-Of: odoo/odoo#188634",fw-bot,2025-01-06 16:10:08+00:00,[],2025-01-21 08:18:36+00:00,2025-01-07 08:07:40+00:00,https://github.com/odoo/odoo/pull/192547,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573428782, 'issue_id': 2770975612, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192547.png)](https://mergebot.odoo.com/odoo/odoo/pull/192547)', 'created_at': datetime.datetime(2025, 1, 6, 16, 10, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573428813, 'issue_id': 2770975612, 'author': 'fw-bot', 'body': '@victoralmau @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192530\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 10, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:10:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192547.png)](https://mergebot.odoo.com/odoo/odoo/pull/192547)

fw-bot (Issue Creator) on (2025-01-06 16:10:10 UTC): @victoralmau @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192530

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770962071,pull_request,closed,,"[IMP] point_of_sale, bus: Ensure connection is always established","The connection to the bus was sometimes lost in PoS when other Odoo tabs
tabs were open.

To check whether the PoS channels are still connected, we ask the main
worker to return a message with its channels connected.

If the PoS channel is not in the list, we reconnect to the bus.

The `_getChannels` method is added to `websocket_worker.js`.
broadcast the list of channels connected to the various tabs.

In `bus_service.js` a variable called `workerChannels` is added to store
the list of connected channels. Connected channels are sent by the
worker by calling the `getWorkerChannels` method in the bus service.

---

How to reproduce:
- Open the same PoS restaurant in different browsers or profiles.
- Create an order on a table and leave it, you will see the order in the
  other tabs.
- In one of the browsers, open a Meeting Room, this action will close the
  connection to the bus. In the PoS tab.

---

taskId : 4270307",davidmonnom,2025-01-06 16:02:54+00:00,[],2025-01-09 12:46:57+00:00,2025-01-09 12:46:57+00:00,https://github.com/odoo/odoo/pull/192546,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573414888, 'issue_id': 2770962071, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192546.png)](https://mergebot.odoo.com/odoo/odoo/pull/192546)', 'created_at': datetime.datetime(2025, 1, 6, 16, 2, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 16:02:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192546.png)](https://mergebot.odoo.com/odoo/odoo/pull/192546)

"
2770953979,pull_request,closed,,[FIX] mail: composer + actions are aligned (same-width icon),"Composer has ""+"" icon on left with extra actions. Clicking on it shows the item with icon and label.

Before this commit, the icon width was inconsistent between items, so label were not aligned. This commit puts `.fa-fw` so all icons are fixed, thus labels are aligned.

Before
<img width=""382"" alt=""Screenshot 2025-01-06 at 16 58 16"" src=""https://github.com/user-attachments/assets/0ea5cac1-0f72-40e9-b20b-f4e4d61a4ac6"" />

After
<img width=""383"" alt=""Screenshot 2025-01-06 at 16 45 12"" src=""https://github.com/user-attachments/assets/7d078fcb-ce8f-465e-91c3-d72b537f5809"" />
",alexkuhn,2025-01-06 15:58:36+00:00,[],2025-01-07 10:08:33+00:00,2025-01-07 09:36:39+00:00,https://github.com/odoo/odoo/pull/192545,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573406695, 'issue_id': 2770953979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192545.png)](https://mergebot.odoo.com/odoo/odoo/pull/192545)', 'created_at': datetime.datetime(2025, 1, 6, 15, 58, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:58:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192545.png)](https://mergebot.odoo.com/odoo/odoo/pull/192545)

"
2770943118,pull_request,closed,,[FIX] point_of_sale: kitchen receipt long name,"When printing long product names with long variants, the lines were overlapping.

Steps to reproduce:
-------------------
* Create a product with some long variant names
* Setup a kitchen printer
* Add the order to a PoS order
* Print the order on the kitchen printer
> Observation: The product name and variant name are overlapping

Before:
![before](https://github.com/user-attachments/assets/d16022b0-4f87-48aa-adc4-1c246b173431)


After:
![after](https://github.com/user-attachments/assets/495632de-e4d2-424c-b19d-fb386a3eb356)


opw-4414311",robinengels,2025-01-06 15:52:45+00:00,[],2025-01-21 12:25:32+00:00,2025-01-07 12:05:31+00:00,https://github.com/odoo/odoo/pull/192544,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573395289, 'issue_id': 2770943118, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192544.png)](https://mergebot.odoo.com/odoo/odoo/pull/192544)', 'created_at': datetime.datetime(2025, 1, 6, 15, 52, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574895631, 'issue_id': 2770943118, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 10, 11, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:52:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192544.png)](https://mergebot.odoo.com/odoo/odoo/pull/192544)

adgu-odoo on (2025-01-07 10:11:50 UTC): robodoo r+

"
2770938065,pull_request,closed,,[FIX] base_vat: Fix ID vat check,"STEPS
-----------
1. Install Contact and 'base_vat'
2. Create a new Indonasian contact with VAT as ID1234567890123456
3. Save -> Connot save whilst the VAT is correct

PROBLEM
-----------
VAT could be 15 (old numbers) or 16 digits. If there are 15 digits long, the 10th digit is a luhn checksum. In some cases, the 15 digits can be transformed into a 16-digit by adding a 0 in front. In such case, we can verify the luhn checksum like for the 15 digits by removing the 0.

However, for newly created VAT 16-digits VAT number, there is no checksum.

SOLUTION
-----------
Allow 16-digit VAT that only contains numbers and does not start with a 0.

opw-4402514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aboo-odoo,2025-01-06 15:50:04+00:00,[],2025-01-21 06:36:52+00:00,2025-01-07 06:02:35+00:00,https://github.com/odoo/odoo/pull/192543,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573390104, 'issue_id': 2770938065, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192543.png)](https://mergebot.odoo.com/odoo/odoo/pull/192543)', 'created_at': datetime.datetime(2025, 1, 6, 15, 50, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574304265, 'issue_id': 2770938065, 'author': 'robodoo', 'body': '@aboo-odoo @vin-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72950698)', 'created_at': datetime.datetime(2025, 1, 7, 3, 6, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574381292, 'issue_id': 2770938065, 'author': 'vin-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 7, 4, 42, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:50:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192543.png)](https://mergebot.odoo.com/odoo/odoo/pull/192543)

robodoo on (2025-01-07 03:06:37 UTC): @aboo-odoo @vin-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72950698)

vin-odoo on (2025-01-07 04:42:17 UTC): @robodoo retry

"
2770937357,pull_request,open,,[FIX] account: cash basis use in invoicing,"This commit will add the tax exigibility to true so that the sentence ""options to pay tax on debits"" is showed on the invoice.

task: 4342603




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-06 15:49:42+00:00,[],2025-01-06 16:00:14+00:00,,https://github.com/odoo/odoo/pull/192542,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573389343, 'issue_id': 2770937357, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192542.png)](https://mergebot.odoo.com/odoo/odoo/pull/192542)', 'created_at': datetime.datetime(2025, 1, 6, 15, 49, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:49:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192542.png)](https://mergebot.odoo.com/odoo/odoo/pull/192542)

"
2770934735,pull_request,closed,,[FIX] *: wait modal is show before continue the tour,"In this commit, we wait the modal is shown (managed by jQuery) before to continue the tour. In these modals, if we don't wait for the modal is shown, as the tour engine can be too much fast, element in modal can be not focusable when we try to target it.
This fix add classes to ensure modal is shown before continuing the tour.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-06 15:48:14+00:00,[],2025-01-21 12:01:07+00:00,2025-01-07 11:56:22+00:00,https://github.com/odoo/odoo/pull/192541,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573386412, 'issue_id': 2770934735, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192541.png)](https://mergebot.odoo.com/odoo/odoo/pull/192541)', 'created_at': datetime.datetime(2025, 1, 6, 15, 48, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574587040, 'issue_id': 2770934735, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574587098, 'issue_id': 2770934735, 'author': 'robodoo', 'body': '@bastien-ipb you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 7, 7, 45, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574912565, 'issue_id': 2770934735, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 10, 19, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:48:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192541.png)](https://mergebot.odoo.com/odoo/odoo/pull/192541)

bastien-ipb on (2025-01-07 07:45:16 UTC): @robodoo r+

robodoo on (2025-01-07 07:45:19 UTC): @bastien-ipb you may want to rebuild or fix this PR as it has failed CI.

bastien-ipb on (2025-01-07 10:19:36 UTC): @robodoo r+

"
2770885223,pull_request,closed,,"[IMP] mail, im_livechat: remove unpin conversation notification","task-4452840

Related to odoo/enterprise#76559

",maki-odoo,2025-01-06 15:21:43+00:00,[],2025-01-07 10:08:40+00:00,2025-01-07 09:36:46+00:00,https://github.com/odoo/odoo/pull/192540,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573333474, 'issue_id': 2770885223, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192540.png)](https://mergebot.odoo.com/odoo/odoo/pull/192540)', 'created_at': datetime.datetime(2025, 1, 6, 15, 21, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:21:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192540.png)](https://mergebot.odoo.com/odoo/odoo/pull/192540)

"
2770885208,pull_request,closed,,[FIX] account: rounding issue in `display_tax_base` computation,"Reproduce on runbot:
  1. Create an invoice with 
      line1: quantity = 1, unit price = 14.9, taxes = 15%
      line2: quantity = 1, unit price = 59.7, taxes = 15%
  2. Print the invoice
  3. On the invoice it says:
     Untaxed Amount      | $ 74.60
     Tax 15% on $ 74.60  | $ 11.20
     Total               | $ 85.80

Since 74.60$ is the full base amount we do not want to display the ""on $ 74.60"" (base amount information) part of the tax information.

Basically we want to display the base amounts only in case there is not just a single base amount.
The error is due to a floating point / rounding issue; some but not all considered base amounts are rounded. (see reproduction example below). This is fixed in this commit by rounding all the amounts.

The logic broke in 17.4 due to the rounding improvement in commit c41b7f76611f05b193ee7739148267dacaaa138a .

opw-4344501",svfu-odoo,2025-01-06 15:21:42+00:00,[],2025-01-27 17:52:35+00:00,2025-01-13 17:52:25+00:00,https://github.com/odoo/odoo/pull/192539,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573333495, 'issue_id': 2770885208, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192539.png)](https://mergebot.odoo.com/odoo/odoo/pull/192539)', 'created_at': datetime.datetime(2025, 1, 6, 15, 21, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574897052, 'issue_id': 2770885208, 'author': 'svfu-odoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 7, 10, 12, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574897183, 'issue_id': 2770885208, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 7, 10, 12, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:21:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192539.png)](https://mergebot.odoo.com/odoo/odoo/pull/192539)

svfu-odoo (Issue Creator) on (2025-01-07 10:12:29 UTC): @robodoo fw=no

robodoo on (2025-01-07 10:12:32 UTC): Disabled forward-porting.

"
2770878280,pull_request,closed,,[FW][FIX] l10n_es_pos_tbai: Add refund reason in pos,"Refund order in spain require a refund reason.

Steps to reproduce:
-------------------
* Install l10n_es_pos_tbai module
* Open PoS
* Make an order and try to refund it
> Observation: You get an error message saying that you need to add a
refund reason

opw-4282586

Forward-Port-Of: odoo/odoo#191503
Forward-Port-Of: odoo/odoo#191205",fw-bot,2025-01-06 15:17:57+00:00,[],2025-02-04 19:23:20+00:00,2025-01-21 18:45:32+00:00,https://github.com/odoo/odoo/pull/192538,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573326096, 'issue_id': 2770878280, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192538.png)](https://mergebot.odoo.com/odoo/odoo/pull/192538)', 'created_at': datetime.datetime(2025, 1, 6, 15, 17, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573326119, 'issue_id': 2770878280, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 15, 17, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573481524, 'issue_id': 2770878280, 'author': 'fw-bot', 'body': '@robinengels @william-andre the next pull request (odoo/odoo#192565) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 16, 38, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573490156, 'issue_id': 2770878280, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 42, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573723106, 'issue_id': 2770878280, 'author': 'robodoo', 'body': '@robinengels @william-andre staging failed: ci/l10n on 8f27db9b585dddf1dc0f3cf6435bbc0d356e7143 (view more at https://runbot.odoo.com/runbot/build/72921414)', 'created_at': datetime.datetime(2025, 1, 6, 18, 58, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582777102, 'issue_id': 2770878280, 'author': 'fw-bot', 'body': '@robinengels @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 10, 14, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541887, 'issue_id': 2770878280, 'author': 'fw-bot', 'body': '@robinengels @william-andre this forward port of odoo/odoo#191205 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598720435, 'issue_id': 2770878280, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 17, 16, 23, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599266100, 'issue_id': 2770878280, 'author': 'robodoo', 'body': '@robinengels @william-andre staging failed: ci/runbot on 88296aeeff8e73876111bfce21226d7736bfb20a (view more at https://runbot.odoo.com/runbot/build/73559566)', 'created_at': datetime.datetime(2025, 1, 17, 21, 44, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602040371, 'issue_id': 2770878280, 'author': 'robinengels', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 20, 10, 33, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602910213, 'issue_id': 2770878280, 'author': 'robodoo', 'body': '@robinengels @william-andre staging failed: ci/l10n on eb2a9354450c63af0c49bfcbc5972e09d9eadf5b (view more at https://runbot.odoo.com/runbot/build/73655218)', 'created_at': datetime.datetime(2025, 1, 20, 17, 3, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605328766, 'issue_id': 2770878280, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 21, 17, 22, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:17:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192538.png)](https://mergebot.odoo.com/odoo/odoo/pull/192538)

fw-bot (Issue Creator) on (2025-01-06 15:17:59 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 16:38:29 UTC): @robinengels @william-andre the next pull request (odoo/odoo#192565) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-06 16:42:59 UTC): @robodoo r+

robodoo on (2025-01-06 18:58:13 UTC): @robinengels @william-andre staging failed: ci/l10n on 8f27db9b585dddf1dc0f3cf6435bbc0d356e7143 (view more at https://runbot.odoo.com/runbot/build/72921414)

fw-bot (Issue Creator) on (2025-01-10 14:01:29 UTC): @robinengels @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-12 02:01:56 UTC): @robinengels @william-andre this forward port of odoo/odoo#191205 is awaiting action (not merged or closed).

robinengels on (2025-01-17 16:23:04 UTC): @robodoo r+

robodoo on (2025-01-17 21:44:22 UTC): @robinengels @william-andre staging failed: ci/runbot on 88296aeeff8e73876111bfce21226d7736bfb20a (view more at https://runbot.odoo.com/runbot/build/73559566)

robinengels on (2025-01-20 10:33:25 UTC): @robodoo retry

robodoo on (2025-01-20 17:03:17 UTC): @robinengels @william-andre staging failed: ci/l10n on eb2a9354450c63af0c49bfcbc5972e09d9eadf5b (view more at https://runbot.odoo.com/runbot/build/73655218)

robinengels on (2025-01-21 17:22:08 UTC): @robodoo r+

"
2770872788,pull_request,closed,,[FW][FIX] pos_self_order: language select not working,"Steps to reproduce:
- Configure a kiosk to have multiple languages
- Observe that the language can be changed in the kiosk UI as expected
- Install the website module, and configure the website's languages to not include one of the kiosk languages
  - For example, kiosk has EN and FR, website just has EN
- Observe that the language can no longer be changed in the kiosk

opw-4403828

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191817
Forward-Port-Of: odoo/odoo#191137",fw-bot,2025-01-06 15:15:08+00:00,[],2025-01-21 14:09:00+00:00,2025-01-07 14:06:25+00:00,https://github.com/odoo/odoo/pull/192537,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573320466, 'issue_id': 2770872788, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192537.png)](https://mergebot.odoo.com/odoo/odoo/pull/192537)', 'created_at': datetime.datetime(2025, 1, 6, 15, 15, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573320493, 'issue_id': 2770872788, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 15, 15, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573419750, 'issue_id': 2770872788, 'author': 'fw-bot', 'body': '@maxthewhale @adgu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 16, 5, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249642, 'issue_id': 2770872788, 'author': 'fw-bot', 'body': '@maxthewhale @adgu-odoo this forward port of odoo/odoo#191137 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:15:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192537.png)](https://mergebot.odoo.com/odoo/odoo/pull/192537)

fw-bot (Issue Creator) on (2025-01-06 15:15:10 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 16:05:30 UTC): @maxthewhale @adgu-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 02:01:46 UTC): @maxthewhale @adgu-odoo this forward port of odoo/odoo#191137 is awaiting action (not merged or closed).

"
2770868576,pull_request,open,,[FIX] base_import: fix selector with an empty string,"**Steps to reproduce:**
- Install Accounting
- On Accounting dashboard, click on ""Import File"" button of Bank journal
- Select a CSV file with bank statements
- On the left menu, select ""No Separator"" as ""Thousands Separator""

**Issue:**
""Comma"" is displayed as selected instead the first time.
The second time ""No Separator"" stays as selected.
However, the value sent when testing or importing is not the correct one.

**Cause:**
""No Separator"" option should have an empty string as value.
However, during the generation of the ""select"" element, the value for the ""option"" element is evaluated with:
`opt.value or opt`
As `opt.value` is the empty string (evaluated to False), `opt` is used instead, even if it is an object, which is not correct.
The main issue is that the empty string is not handled as a valid value.

**Solution:**
Handle the empty string as an acceptable value.

opw-4325310




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-06 15:12:53+00:00,[],2025-01-30 07:27:55+00:00,,https://github.com/odoo/odoo/pull/192536,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573316288, 'issue_id': 2770868576, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192536.png)](https://mergebot.odoo.com/odoo/odoo/pull/192536)', 'created_at': datetime.datetime(2025, 1, 6, 15, 12, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623737996, 'issue_id': 2770868576, 'author': 'kitan191', 'body': '@odoo/rd-framework-py Could you take a look at this PR? Thanks.', 'created_at': datetime.datetime(2025, 1, 30, 7, 27, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:12:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192536.png)](https://mergebot.odoo.com/odoo/odoo/pull/192536)

kitan191 (Issue Creator) on (2025-01-30 07:27:54 UTC): @odoo/rd-framework-py Could you take a look at this PR? Thanks.

"
2770863618,pull_request,closed,,[FW][FIX] im_livechat: correct author name display for visitor messages in demo data,"**Current behavior before PR:**

Messages posted by visitors in demo data incorrectly displayed the author name
as `Odoobot` instead of `Visitor`. This happened because the messages created
for visitors in the demo data do not have the `author_id` field explicitly set to
`False`, leading the `_message_compute_author()` method to compute the author incorrectly.

**Desired behavior after PR is merged:**

Messages posted by visitors in demo data correctly display the author name as Visitor.


Task-[4420677](https://www.odoo.com/odoo/project/1519/tasks/4420677)



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192003",fw-bot,2025-01-06 15:10:19+00:00,[],2025-01-06 20:58:37+00:00,2025-01-06 19:09:41+00:00,https://github.com/odoo/odoo/pull/192535,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573310976, 'issue_id': 2770863618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192535.png)](https://mergebot.odoo.com/odoo/odoo/pull/192535)', 'created_at': datetime.datetime(2025, 1, 6, 15, 10, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573310999, 'issue_id': 2770863618, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 15, 10, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573328315, 'issue_id': 2770863618, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 15, 19, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573514302, 'issue_id': 2770863618, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 55, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:10:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192535.png)](https://mergebot.odoo.com/odoo/odoo/pull/192535)

fw-bot (Issue Creator) on (2025-01-06 15:10:21 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 15:19:04 UTC): @ramh-odoo @alexkuhn ci/runbot failed on this forward-port PR

alexkuhn on (2025-01-06 16:55:31 UTC): @robodoo r+

"
2770860053,pull_request,closed,,[FW][FIX] pos_stripe: consistency on Stripe API calls,"Before this commit:
pos_stripe doesn't specify a Stripe version when doing its requests. Because of this, Stripe defaults to the API version defined on the Stripe account. This varies from customer to customer, as it is automatically configured to use the latest API version available when the first API request is received. Stripe regularly makes breaking changes to their API:
https://docs.stripe.com/changelog?breaking=true
for example removing the `charges` attribute:
https://docs.stripe.com/changelog/2022-11-15/removes-charges-attribute-paymentintent
which we use in pos_stripe.

After this commit:
We rely on payment_stripe._stripe_make_request which hardcode the API version number. Such change was already started in `pos_stripe.stripe_capture_payment`

opw-4375876

Forward-Port-Of: odoo/odoo#192008",fw-bot,2025-01-06 15:08:26+00:00,[],2025-01-22 14:39:36+00:00,2025-01-08 14:33:30+00:00,https://github.com/odoo/odoo/pull/192534,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573307284, 'issue_id': 2770860053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192534.png)](https://mergebot.odoo.com/odoo/odoo/pull/192534)', 'created_at': datetime.datetime(2025, 1, 6, 15, 8, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573307309, 'issue_id': 2770860053, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 15, 8, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574936688, 'issue_id': 2770860053, 'author': 'fw-bot', 'body': ""@lse-odoo child PR odoo/odoo#192553 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 7, 10, 30, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577375577, 'issue_id': 2770860053, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 52, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:08:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192534.png)](https://mergebot.odoo.com/odoo/odoo/pull/192534)

fw-bot (Issue Creator) on (2025-01-06 15:08:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 10:30:51 UTC): @lse-odoo child PR odoo/odoo#192553 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

lse-odoo on (2025-01-08 10:52:39 UTC): @robodoo r+

"
2770859636,pull_request,closed,,[FW][FIX] project: fix project_tour tour,"In this commit, we fix the project tour. In the kanban view, we click on the first subtask_list_row but it is not yet (still) the newer subtask. We can therefore click on the first element even though it is not yet created. The DOM re-renders ... and the dropdown menu disappears.
By specifying (:contains()) that we want to click on the newer subtask, we wait for it to be created, for it to be rendered and then we click on it.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192491",fw-bot,2025-01-06 15:08:11+00:00,[],2025-01-21 11:16:18+00:00,2025-01-07 11:04:30+00:00,https://github.com/odoo/odoo/pull/192533,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573306848, 'issue_id': 2770859636, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192533.png)](https://mergebot.odoo.com/odoo/odoo/pull/192533)', 'created_at': datetime.datetime(2025, 1, 6, 15, 8, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573306871, 'issue_id': 2770859636, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 15, 8, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573407125, 'issue_id': 2770859636, 'author': 'fw-bot', 'body': '@pipu-odoo @kebeclibre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 15, 58, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574845514, 'issue_id': 2770859636, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 50, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574845598, 'issue_id': 2770859636, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 7, 9, 50, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:08:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192533.png)](https://mergebot.odoo.com/odoo/odoo/pull/192533)

fw-bot (Issue Creator) on (2025-01-06 15:08:13 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 15:58:54 UTC): @pipu-odoo @kebeclibre ci/runbot failed on this forward-port PR

pipu-odoo on (2025-01-07 09:50:02 UTC): @robodoo r+

robodoo on (2025-01-07 09:50:05 UTC): This PR is already reviewed, reviewing it again is useless.

"
2770859368,pull_request,closed,,[FIX] web: prevent tl locale to be converted to fil,"Filipino is a standardized version of Tagalog that was created to be the national language of the Philippines.

In Odoo, we use the ""tl"" locale to refer to Filipino, but this locale is considered ""legacy"" by standards bodies such as the Unicode Consortium. This is the reason why some APIs, such as the Intl API in the browser, treat ""tl"" as ""fil"" and even implicitly replace the former with the latter.

This is a problem in Odoo, since the locale we use on the server side is still tl_PH, which leads to crashes when a converted Filipino locale (fil_PH) is sent to the server.

While waiting for a better solution, this commit forces the tl locale on the client side.

opw-4426799",oomsveta,2025-01-06 15:08:04+00:00,[],2025-01-08 12:41:38+00:00,2025-01-08 11:54:06+00:00,https://github.com/odoo/odoo/pull/192532,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573306667, 'issue_id': 2770859368, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192532.png)](https://mergebot.odoo.com/odoo/odoo/pull/192532)', 'created_at': datetime.datetime(2025, 1, 6, 15, 8, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577139839, 'issue_id': 2770859368, 'author': 'ticodoo', 'body': 'Galing!\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 2, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:08:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192532.png)](https://mergebot.odoo.com/odoo/odoo/pull/192532)

ticodoo on (2025-01-08 09:02:28 UTC): Galing!

@robodoo r+

"
2770845964,pull_request,closed,,[FIX] web: fix webclient view cache for not embedded action views,"Steps to reproduce (a bit technical):

1. Navigate to the ""Contacts"" kanban view.
2. Open the Network tab in the browser's developer tools.
3. Click on the first contact activities and ""Schedule a new activity"".
4. Notice a call to `get_views` in the Network tab.
5. Click on a different contact activities, and ""Schedule a new activity"".
6. Notice a new call to `get_views` in the Network tab.

Expected:

The view is already cached, so the webclient should not attempt to load it.

Explanation:

This is likely a regression since f983703d, when the embedded actions were introduced. Now, the `embeddedParentResId` is part of the views cache key, and so we get much fewer cache hits.

For most views, there isn't really an `embeddedActionId` set, and yet the `embeddedParentResId` was always set. The later is only used in combination with `embeddedActionId`, so it causes a lot of avoidable cache misses.

The solution is to simply set the `embeddedParentResId` only if there's an `embeddedActionId`.

Closes odoo/odoo#192261

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-06 15:01:09+00:00,[],2025-01-21 10:28:10+00:00,2025-01-07 10:21:17+00:00,https://github.com/odoo/odoo/pull/192531,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573292508, 'issue_id': 2770845964, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192531.png)](https://mergebot.odoo.com/odoo/odoo/pull/192531)', 'created_at': datetime.datetime(2025, 1, 6, 15, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573336478, 'issue_id': 2770845964, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 15, 23, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573455083, 'issue_id': 2770845964, 'author': 'robodoo', 'body': ""@aab-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 16, 24, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 15:01:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192531.png)](https://mergebot.odoo.com/odoo/odoo/pull/192531)

Polymorphe57 on (2025-01-06 15:23:14 UTC): @robodoo r+

robodoo on (2025-01-06 16:24:09 UTC): @aab-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR.

"
2770835470,pull_request,closed,,[FW][17.0][FIX] account: Apply sudo to avoid an access error when importing records (e.g. partners).,"Apply sudo to avoid an access error when importing records (e.g. partners).

Example use case:
- Uninstall `base_install_request`
- A user without the Administrator > Settings permission
- Go to Contacts and click on Import records
- When uploading the file the access error occurs

@Tecnativa TT51841

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#189180
Forward-Port-Of: odoo/odoo#188634",fw-bot,2025-01-06 14:56:00+00:00,[],2025-01-21 09:42:50+00:00,2025-01-07 09:36:34+00:00,https://github.com/odoo/odoo/pull/192530,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573281878, 'issue_id': 2770835470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192530.png)](https://mergebot.odoo.com/odoo/odoo/pull/192530)', 'created_at': datetime.datetime(2025, 1, 6, 14, 56, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573281923, 'issue_id': 2770835470, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 56, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:56:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192530.png)](https://mergebot.odoo.com/odoo/odoo/pull/192530)

fw-bot (Issue Creator) on (2025-01-06 14:56:01 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770834720,pull_request,closed,,[FW][FIX] pos: prevent reuse of serial numbers from active orders,"Steps:
- Open the POS.
- Add a product with serial number tracking to the order line.
- Create a new order.
- Add the same product to the new order

Issue:
- it is possible to select the same serial number that was previously used in another order.

Fix:
- Hide serial numbers that are being used in active orders

Task - 3944652

Forward-Port-Of: odoo/odoo#187176",fw-bot,2025-01-06 14:55:37+00:00,[],2025-01-21 11:16:15+00:00,2025-01-07 11:04:10+00:00,https://github.com/odoo/odoo/pull/192529,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573281251, 'issue_id': 2770834720, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192529.png)](https://mergebot.odoo.com/odoo/odoo/pull/192529)', 'created_at': datetime.datetime(2025, 1, 6, 14, 55, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573281270, 'issue_id': 2770834720, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 55, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573289705, 'issue_id': 2770834720, 'author': 'fw-bot', 'body': '@parp-odoo @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 14, 59, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574438425, 'issue_id': 2770834720, 'author': 'fw-bot', 'body': '@parp-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 5, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574547627, 'issue_id': 2770834720, 'author': 'parp-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 16, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:55:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192529.png)](https://mergebot.odoo.com/odoo/odoo/pull/192529)

fw-bot (Issue Creator) on (2025-01-06 14:55:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 14:59:50 UTC): @parp-odoo @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 05:45:00 UTC): @parp-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.

parp-odoo on (2025-01-07 07:16:06 UTC): robodoo r+

"
2770833926,pull_request,closed,,[FW][FIX] website_sale: show desired amount of alternative products,"Versions
--------
- saas-17.4+

Steps
-----
1. Have a published product ""A"" with 16+ variants;
2. have a published product ""B"" with alternative product ""A"";
3. add more alternative products whose names are greater than ""A"";
4. open product ""B"" in eCommerce.

>[!Important]
> Products with a reference value (e.g. ""[FURN_2100]"") get sorted before ""A"", so be sure to exclude those to reproduce the issue.

Issue
-----
Only product ""A"" gets displayed.

Cause
-----
The dynamic filter for alternative products applies the default limit of 16 to the variant count.

This was not an issue in earlier versions, as alternative products displayed variants instead of templates.

Solution
--------
In the `_prepare_values` method, set the `hide_variants` context value even if `self.filter_id` is falsy, making it accessible for dynamic filters as well.

In the `_get_products_*` methods, check this context value. If present, limit each product template to a single variant before calling `search`.


opw-4318624

Forward-Port-Of: odoo/odoo#192421
Forward-Port-Of: odoo/odoo#189040",fw-bot,2025-01-06 14:55:13+00:00,[],2025-01-21 09:42:49+00:00,2025-01-07 09:36:21+00:00,https://github.com/odoo/odoo/pull/192528,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573281154, 'issue_id': 2770833926, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192528.png)](https://mergebot.odoo.com/odoo/odoo/pull/192528)', 'created_at': datetime.datetime(2025, 1, 6, 14, 55, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573281182, 'issue_id': 2770833926, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 55, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573331093, 'issue_id': 2770833926, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 15, 20, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:55:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192528.png)](https://mergebot.odoo.com/odoo/odoo/pull/192528)

fw-bot (Issue Creator) on (2025-01-06 14:55:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-06 15:20:35 UTC): robodoo r+

"
2770833415,pull_request,closed,,[FW][FIX] point_of_sale: closing with negative combined payment,"It is impossible to close a session when there is a combined payment amount with a negative value.

Steps to reproduce:
- Create a new bank payment method and assign as payment method of a pos.config.
- Open a session.
- Sell with negative amount (e.g. negative quantity) and pay using the new payment method.
- [ISSUE] Try to close the session and you will get an error.

When a payment amount is negative, we invert the destination and outstanding accounts. Prior to creation of the `account.payment` record, it's possible that an outstanding account is missing. This value can be missing but will be automatically assigned during the creation of the `account.payment` record.

So instead of inverting the accounts before creating the `account.payment` record, we now invert them after the creation.

OPW: 4317320

Forward-Port-Of: odoo/odoo#192328",fw-bot,2025-01-06 14:54:57+00:00,[],2025-01-27 13:26:46+00:00,2025-01-13 13:24:28+00:00,https://github.com/odoo/odoo/pull/192527,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573281102, 'issue_id': 2770833415, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192527.png)](https://mergebot.odoo.com/odoo/odoo/pull/192527)', 'created_at': datetime.datetime(2025, 1, 6, 14, 55, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573281120, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 55, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573378940, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': '@caburj @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 15, 44, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587082, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000278, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541783, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585898166, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 12, 20, 4, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046456, 'issue_id': 2770833415, 'author': 'fw-bot', 'body': '@caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586734702, 'issue_id': 2770833415, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 10, 31, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:55:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192527.png)](https://mergebot.odoo.com/odoo/odoo/pull/192527)

fw-bot (Issue Creator) on (2025-01-06 14:55:40 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 15:44:47 UTC): @caburj @davidmonnom ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-10 02:01:29 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:16 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:34 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 20:04:07 UTC): @caburj @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-13 02:01:53 UTC): @caburj @davidmonnom this forward port of odoo/odoo#192328 is awaiting action (not merged or closed).

caburj on (2025-01-13 10:31:46 UTC): robodoo r+

"
2770831781,pull_request,closed,,[FW][FIX] point_of_sale: add default filter pos order,"Cancelled order should be ignored by default in the POS order report.

Steps to reproduce:
-------------------
* Open PoS create an order and go back to the backedn
* Open the PoS again and close the PoS, it will cancel the order
> Observation: Open PoS order report, it will include the cancelled
order, that can be missleading.

Why the fix:
------------
We add a new default filter that apply a domain to exclude the cancelled order from the report.

opw-4257734

Forward-Port-Of: odoo/odoo#192377",fw-bot,2025-01-06 14:54:06+00:00,[],2025-01-21 09:42:49+00:00,2025-01-07 09:36:30+00:00,https://github.com/odoo/odoo/pull/192526,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573277882, 'issue_id': 2770831781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192526.png)](https://mergebot.odoo.com/odoo/odoo/pull/192526)', 'created_at': datetime.datetime(2025, 1, 6, 14, 54, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573277903, 'issue_id': 2770831781, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 54, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:54:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192526.png)](https://mergebot.odoo.com/odoo/odoo/pull/192526)

fw-bot (Issue Creator) on (2025-01-06 14:54:08 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770827210,pull_request,closed,,[FW][FIX] web: fix active class on extra menu items,"Since [1], when an extra menu is displayed due to the top menu exceeding its maximum width, the active class is no longer applied correctly. This issue was introduced during the conversion from jQuery to vanilla JavaScript.

Steps to reproduce:

- Enter the Website in edit mode.
- Navigate to Site > Menu Editor.
- Add several menu items until the menu exceeds its maximum width.
- Ensure that one of the items in the extra menu redirects to ""Contact Us"".
- Click on the ""Contact Us"" menu item.
- Open the dropdown menu (via the ""+"" icon) and observe that the ""Contact Us"" entry is not highlighted.

This commit resolves the problem.

[1]: https://github.com/odoo/odoo/commit/0de634965a0dec4470b30154f3722a1e83b0e866

task-4428845
opw-4383641

Forward-Port-Of: odoo/odoo#192327
Forward-Port-Of: odoo/odoo#191548",fw-bot,2025-01-06 14:51:49+00:00,[],2025-01-20 20:54:01+00:00,2025-01-06 20:21:05+00:00,https://github.com/odoo/odoo/pull/192525,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573273365, 'issue_id': 2770827210, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192525.png)](https://mergebot.odoo.com/odoo/odoo/pull/192525)', 'created_at': datetime.datetime(2025, 1, 6, 14, 51, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573273380, 'issue_id': 2770827210, 'author': 'fw-bot', 'body': '@SergeBayet @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192502\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 51, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573469622, 'issue_id': 2770827210, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 32, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:51:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192525.png)](https://mergebot.odoo.com/odoo/odoo/pull/192525)

fw-bot (Issue Creator) on (2025-01-06 14:51:51 UTC): @SergeBayet @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192502

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-06 16:32:03 UTC): @robodoo r+

"
2770824404,pull_request,open,,[FIX] hr_expense: fill the delivered quantity on SO from expense,"### Steps to reproduce:
- In Sale create an empty sale order and confirm
- In Expense > Configuration > Expense Categories > Mileage set the price per km to be 1 and ""Re-Invoice Expenses"" to ""Sales price""
- Create a new expense
- Change the category to ""Mileage""
- Set a quantity >1
- In ""Customer to Reinvoice"" select the one from the quotation
- Click ""Create Report"" > ""Submit to Manager"" > ""Validate"" > ""Post Journal Entries""
- Return to the sale order
- The number under ""Delivered"" is 1, it should be the same as the quantity

### Cause:
When creating the move from the expense, the quantity is not given and defaults to 1.

### Solution:
Add the quantity to the `payments_vals`.

opw-4389303",mathcoutant,2025-01-06 14:50:26+00:00,[],2025-01-09 14:18:15+00:00,,https://github.com/odoo/odoo/pull/192524,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573270664, 'issue_id': 2770824404, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192524.png)](https://mergebot.odoo.com/odoo/odoo/pull/192524)', 'created_at': datetime.datetime(2025, 1, 6, 14, 50, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580334560, 'issue_id': 2770824404, 'author': 'epictete', 'body': ""Thanks for the test :+1: \r\n\r\nJust asking for a review from a colleague who is familiar with expenses, to make sure I'm not missing anything :wink:"", 'created_at': datetime.datetime(2025, 1, 9, 14, 18, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:50:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192524.png)](https://mergebot.odoo.com/odoo/odoo/pull/192524)

epictete on (2025-01-09 14:18:06 UTC): Thanks for the test :+1: 

Just asking for a review from a colleague who is familiar with expenses, to make sure I'm not missing anything :wink:

"
2770819842,pull_request,closed,,[FW][FIX] html_editor: ctrl+click on styled link should open the link,"Description of the issue this PR addresses:

Current behavior before PR:

Ctrl+clicking on a styled link is ineffective since the target is the styled element.

Desired behavior after PR is merged:

Ensure the target is the closest anchor tag.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192441",fw-bot,2025-01-06 14:48:18+00:00,[],2025-01-21 08:18:41+00:00,2025-01-07 08:08:21+00:00,https://github.com/odoo/odoo/pull/192523,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573266248, 'issue_id': 2770819842, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192523.png)](https://mergebot.odoo.com/odoo/odoo/pull/192523)', 'created_at': datetime.datetime(2025, 1, 6, 14, 48, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573266276, 'issue_id': 2770819842, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192501\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 48, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574389371, 'issue_id': 2770819842, 'author': 'deso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 4, 51, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:48:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192523.png)](https://mergebot.odoo.com/odoo/odoo/pull/192523)

fw-bot (Issue Creator) on (2025-01-06 14:48:20 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192501

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

deso-odoo on (2025-01-07 04:51:39 UTC): @robodoo r+

"
2770808414,pull_request,closed,,"[FIX] mail,im_livechat: chat window focus followup","This PR changes the default value of the chat window focus. It's safer to ask for
the focus every time you need it.
It also adds a test to the feature.

task-4452938",phenix-factory,2025-01-06 14:42:34+00:00,[],2025-01-23 16:57:39+00:00,2025-01-23 16:28:12+00:00,https://github.com/odoo/odoo/pull/192522,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573254782, 'issue_id': 2770808414, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192522.png)](https://mergebot.odoo.com/odoo/odoo/pull/192522)', 'created_at': datetime.datetime(2025, 1, 6, 14, 42, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602971761, 'issue_id': 2770808414, 'author': 'seb-odoo', 'body': ""I'm introducing the focus param in https://github.com/odoo/odoo/pull/194402 (higher priority PR).\r\n\r\nThe current PR should be rebased on that and see if the bug is still present."", 'created_at': datetime.datetime(2025, 1, 20, 17, 39, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604176533, 'issue_id': 2770808414, 'author': 'phenix-factory', 'body': ""> I'm introducing the focus param in #194402 (higher priority PR).\r\n> \r\n> The current PR should be rebased on that and see if the bug is still present.\r\n\r\nThe test I built pass, but didn't we want to have focus: false by default?"", 'created_at': datetime.datetime(2025, 1, 21, 9, 39, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604634082, 'issue_id': 2770808414, 'author': 'seb-odoo', 'body': ""Changing the default to false takes more effort to ensure all occurrences are properly changed, but if you can do it in this PR then it's better yes. The aim of the other PR was not to change the default so it wasn't done there."", 'created_at': datetime.datetime(2025, 1, 21, 12, 43, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605028893, 'issue_id': 2770808414, 'author': 'robodoo', 'body': ""@phenix-factory @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 15, 22, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605142638, 'issue_id': 2770808414, 'author': 'robodoo', 'body': ""@phenix-factory @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 21, 16, 6, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:42:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192522.png)](https://mergebot.odoo.com/odoo/odoo/pull/192522)

seb-odoo on (2025-01-20 17:39:49 UTC): I'm introducing the focus param in https://github.com/odoo/odoo/pull/194402 (higher priority PR).

The current PR should be rebased on that and see if the bug is still present.

phenix-factory (Issue Creator) on (2025-01-21 09:39:50 UTC): The test I built pass, but didn't we want to have focus: false by default?

seb-odoo on (2025-01-21 12:43:23 UTC): Changing the default to false takes more effort to ensure all occurrences are properly changed, but if you can do it in this PR then it's better yes. The aim of the other PR was not to change the default so it wasn't done there.

robodoo on (2025-01-21 15:22:15 UTC): @phenix-factory @seb-odoo 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-01-21 16:06:11 UTC): @phenix-factory @seb-odoo 'ci/runbot' failed on this reviewed PR.

"
2770796487,pull_request,closed,,[FIX] stock_account: compute SVL vals using only current company records,"Steps to reproduce the bug:
- Log in as Company A
- Create a branch company: Branch 1.
- Create a storable product P1 with the following configuration::
    - Costing method: AVCO

- Create a receipt for 1 unit of P1:
    - Unit Price: $300.
- Confirm the receipt:
- The standard price of P1 is updated to $300.

- Log in as Branch 1
- The standard price of P1 is $0.
- Create a receipt for 1 unit of P1:
    - Unit Price: $100.
- Confirm the reception

Problem:
The standard price of P1 is incorrectly updated to $225 → ((300 + 100) / 2) instead of $100. This happens because the stock valuation layer computation values includes records from the parent company instead of only the current company:

https://github.com/odoo/odoo/blob/989a78b3fc04e7b5b79e165fda8539be5f091b8c/addons/stock_account/models/stock_move.py#L306-L307

https://github.com/odoo/odoo/blob/41a234890c91e9b0c9771a2b0fe50d4b525079f3/addons/stock_account/models/product.py#L123-L126

https://github.com/odoo/odoo/blob/989a78b3fc04e7b5b79e165fda8539be5f091b8c/addons/stock_account/models/stock_move.py#L323-L324


This issue occurs because the search considers both the current company
and its parent companies. This happens because `self` refers to the
`product.product` model which has
""_check_company_domain = models.check_company_domain_parent_of"",
On the other hand, `self.env['stock.valuation.layer']` is a model that
is limited to the current company:

https://github.com/odoo/odoo/blob/8189f053fb4bf219093279c18eebdad01c305385/addons/product/models/product_product.py#L21

opw-4417559
",DjamelTouati,2025-01-06 14:36:33+00:00,[],2025-01-22 18:29:05+00:00,2025-01-08 18:12:59+00:00,https://github.com/odoo/odoo/pull/192521,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573243051, 'issue_id': 2770796487, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192521.png)](https://mergebot.odoo.com/odoo/odoo/pull/192521)', 'created_at': datetime.datetime(2025, 1, 6, 14, 36, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577780289, 'issue_id': 2770796487, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 14, 16, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:36:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192521.png)](https://mergebot.odoo.com/odoo/odoo/pull/192521)

Whenrow on (2025-01-08 14:16:04 UTC): robodoo r+

"
2770765171,pull_request,open,,[IMP] sale_project: link task milestone to SOL,"Automatically link the task's milestone to its task Sales Order Line if invoicing is based on milestones.

task-4389110
",romaincarlier4,2025-01-06 14:21:10+00:00,[],2025-01-06 15:00:23+00:00,,https://github.com/odoo/odoo/pull/192520,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573212346, 'issue_id': 2770765171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192520.png)](https://mergebot.odoo.com/odoo/odoo/pull/192520)', 'created_at': datetime.datetime(2025, 1, 6, 14, 21, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:21:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192520.png)](https://mergebot.odoo.com/odoo/odoo/pull/192520)

"
2770764448,pull_request,closed,,[FIX] account_edi_ubl_cii: allow the use of IBANID,"Due to an error in the condition, `ProprietaryID` was always used, even if IBANID should be used instead. That lead to customers missing information (`ProprietaryID` is not always picked up by other software, while IBANID is).

Ticket link: https://odoo.com/odoo/69/tasks/4414985
opw-4414985",proose,2025-01-06 14:20:48+00:00,[],2025-01-28 12:07:45+00:00,2025-01-14 11:53:33+00:00,https://github.com/odoo/odoo/pull/192519,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573211633, 'issue_id': 2770764448, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192519.png)](https://mergebot.odoo.com/odoo/odoo/pull/192519)', 'created_at': datetime.datetime(2025, 1, 6, 14, 20, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:20:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192519.png)](https://mergebot.odoo.com/odoo/odoo/pull/192519)

"
2770761807,pull_request,closed,,[FIX] account: creating a bank statement from the transaction list view,"Step to reproduce
* open the reconcilation widget and toggle the list view
* multi edit bank statement lines and assign them a new bank statement with name 'BLABLA 1'
* click save and see how Odoo just didn't keep your name at all

The reason is that during the initial creation of the statement, a value is given to end_date which triggers to recomputation of the name, regardless of if the statement already had a name or not.

So to fix that, we simply only try to compute the name for statements that don't have one yet

ticket-4424021

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qdp-odoo,2025-01-06 14:19:20+00:00,[],2025-01-07 16:57:04+00:00,2025-01-07 13:07:48+00:00,https://github.com/odoo/odoo/pull/192518,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573208823, 'issue_id': 2770761807, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192518.png)](https://mergebot.odoo.com/odoo/odoo/pull/192518)', 'created_at': datetime.datetime(2025, 1, 6, 14, 19, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575257816, 'issue_id': 2770761807, 'author': 'qdp-odoo', 'body': ""not the fix we're looking for. \r\n\r\nsuperseded by https://github.com/odoo/odoo/pull/192759"", 'created_at': datetime.datetime(2025, 1, 7, 13, 7, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:19:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192518.png)](https://mergebot.odoo.com/odoo/odoo/pull/192518)

qdp-odoo (Issue Creator) on (2025-01-07 13:07:48 UTC): not the fix we're looking for. 

superseded by https://github.com/odoo/odoo/pull/192759

"
2770745331,pull_request,closed,,[FIX] web: clear changes on urgent save,"Versions
--------
- 17.0+

Steps
-----
1. Download a VoIP provider like Skype or Linphone to open tel:* urls;
2. use a browser that supports this (FireFox works for me, but Chrome doesn't);
3. with Studio, edit the Sales Order form to add the customer phone;
4. create a new Sales Order with one order line;
5. save the form;
6. add a second line;
7. click on the phone number to start the VoIP app;
8. save the Sales Order form.

Issue
-----
The 2nd line is duplicated.

Cause
-----
Starting VoIP initiates an ""urgent"" web save, saving the first time. Usually this only happens when leaving the page, so it doesn't clear the changes to be saved.

In this scenario however, we remain on the page, and the changes are saved again when clicking the save button.

Solution
--------
Clear the saved changes if the urgent save succeeded.

opw-4308954",lvsz,2025-01-06 14:11:06+00:00,[],2025-01-22 21:53:22+00:00,2025-01-08 20:47:17+00:00,https://github.com/odoo/odoo/pull/192517,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573192130, 'issue_id': 2770745331, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192517.png)](https://mergebot.odoo.com/odoo/odoo/pull/192517)', 'created_at': datetime.datetime(2025, 1, 6, 14, 11, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575300049, 'issue_id': 2770745331, 'author': 'aab-odoo', 'body': 'Hello. \r\n\r\nI suggest this:\r\n```diff\r\ndiff --git a/addons/web/static/src/model/relational_model/record.js b/addons/web/static/src/model/relational_model/record.js\r\nindex ecf2b1deefe8..7808936555fd 100644\r\n--- a/addons/web/static/src/model/relational_model/record.js\r\n+++ b/addons/web/static/src/model/relational_model/record.js\r\n@@ -1016,7 +1016,10 @@ export class Record extends DataPoint {\r\n             const data = { jsonrpc: ""2.0"", method: ""call"", params };\r\n             const blob = new Blob([JSON.stringify(data)], { type: ""application/json"" });\r\n             const succeeded = navigator.sendBeacon(route, blob);\r\n-            if (!succeeded) {\r\n+            if (succeeded) {\r\n+                this._changes = markRaw({});\r\n+                this.dirty = false;\r\n+            } else {\r\n                 this.model._closeUrgentSaveNotification = this.model.notification.add(\r\n                     markup(\r\n                         _t(\r\ndiff --git a/addons/web/static/tests/views/form/form_view_tests.js b/addons/web/static/tests/views/form/form_view_tests.js\r\nindex 578c044a2266..f1c788c4d4de 100644\r\n--- a/addons/web/static/tests/views/form/form_view_tests.js\r\n+++ b/addons/web/static/tests/views/form/form_view_tests.js\r\n@@ -12589,6 +12589,11 @@ QUnit.module(""Views"", (hooks) => {\r\n         await nextTick();\r\n         await sendBeaconDef;\r\n         assert.verifySteps([""save""], ""should not prevent unload"");\r\n+        // The save/discard buttons should now be invisible as there should be no changes anymore.\r\n+        // Whether it typically doesn\'t matter as we leave the page, it might happen that the urgent\r\n+        // save is triggered by a user action that doesn\'t leave the page, e.g. by clicking on a\r\n+        // voip provider like Skype (see opw 4308954), in which case pending changes must be cleared.\r\n+        assert.containsOnce(target, "".o_form_status_indicator_buttons.invisible"");\r\n     });\r\n \r\n     QUnit.test(\r\n```\r\n\r\nWe should not clear the changes if the save failed, and we want to mark the record as no longer dirty if we did (and cleared the changes), s.t. the save icon is no longer there.\r\n\r\nI also added a simple assertion in a test.', 'created_at': datetime.datetime(2025, 1, 7, 13, 29, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575491001, 'issue_id': 2770745331, 'author': 'lvsz', 'body': ""> We should not clear the changes if the save failed\r\n\r\nGood catch, for some reason I thought there was a separate `return` statement in the conditional for if it didn't succeed.\r\n\r\nApplied the changes & added the assertion line."", 'created_at': datetime.datetime(2025, 1, 7, 14, 51, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575548790, 'issue_id': 2770745331, 'author': 'robodoo', 'body': ""@lvsz @aab-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 7, 15, 15, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575558117, 'issue_id': 2770745331, 'author': 'aab-odoo', 'body': '@lvsz I forgot to increment the assertion count in the test', 'created_at': datetime.datetime(2025, 1, 7, 15, 19, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577323583, 'issue_id': 2770745331, 'author': 'robodoo', 'body': ""@lvsz @aab-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 8, 10, 26, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:11:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192517.png)](https://mergebot.odoo.com/odoo/odoo/pull/192517)

aab-odoo on (2025-01-07 13:29:21 UTC): Hello. 

I suggest this:
```diff
diff --git a/addons/web/static/src/model/relational_model/record.js b/addons/web/static/src/model/relational_model/record.js
index ecf2b1deefe8..7808936555fd 100644
--- a/addons/web/static/src/model/relational_model/record.js
+++ b/addons/web/static/src/model/relational_model/record.js
@@ -1016,7 +1016,10 @@ export class Record extends DataPoint {
             const data = { jsonrpc: ""2.0"", method: ""call"", params };
             const blob = new Blob([JSON.stringify(data)], { type: ""application/json"" });
             const succeeded = navigator.sendBeacon(route, blob);
-            if (!succeeded) {
+            if (succeeded) {
+                this._changes = markRaw({});
+                this.dirty = false;
+            } else {
                 this.model._closeUrgentSaveNotification = this.model.notification.add(
                     markup(
                         _t(
diff --git a/addons/web/static/tests/views/form/form_view_tests.js b/addons/web/static/tests/views/form/form_view_tests.js
index 578c044a2266..f1c788c4d4de 100644
--- a/addons/web/static/tests/views/form/form_view_tests.js
+++ b/addons/web/static/tests/views/form/form_view_tests.js
@@ -12589,6 +12589,11 @@ QUnit.module(""Views"", (hooks) => {
         await nextTick();
         await sendBeaconDef;
         assert.verifySteps([""save""], ""should not prevent unload"");
+        // The save/discard buttons should now be invisible as there should be no changes anymore.
+        // Whether it typically doesn't matter as we leave the page, it might happen that the urgent
+        // save is triggered by a user action that doesn't leave the page, e.g. by clicking on a
+        // voip provider like Skype (see opw 4308954), in which case pending changes must be cleared.
+        assert.containsOnce(target, "".o_form_status_indicator_buttons.invisible"");
     });
 
     QUnit.test(
```

We should not clear the changes if the save failed, and we want to mark the record as no longer dirty if we did (and cleared the changes), s.t. the save icon is no longer there.

I also added a simple assertion in a test.

lvsz (Issue Creator) on (2025-01-07 14:51:20 UTC): Good catch, for some reason I thought there was a separate `return` statement in the conditional for if it didn't succeed.

Applied the changes & added the assertion line.

robodoo on (2025-01-07 15:15:18 UTC): @lvsz @aab-odoo 'ci/runbot' failed on this reviewed PR.

aab-odoo on (2025-01-07 15:19:34 UTC): @lvsz I forgot to increment the assertion count in the test

robodoo on (2025-01-08 10:26:11 UTC): @lvsz @aab-odoo 'ci/runbot' failed on this reviewed PR.

"
2770741745,pull_request,closed,,[FW][IMP] point_of_sale: prevent cancel of scheduled orders during close session,"In this commit:
===
- Added the `get_session_orders` method to handle session orders.
- Updated session closure logic to exclude scheduled orders from being canceled, ensuring better management of such orders.

task-4361079

Related: https://github.com/odoo/enterprise/pull/74555

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192305
Forward-Port-Of: odoo/odoo#188563",fw-bot,2025-01-06 14:09:16+00:00,[],2025-01-21 11:16:34+00:00,2025-01-07 11:14:00+00:00,https://github.com/odoo/odoo/pull/192516,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573188623, 'issue_id': 2770741745, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192516.png)](https://mergebot.odoo.com/odoo/odoo/pull/192516)', 'created_at': datetime.datetime(2025, 1, 6, 14, 9, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573188665, 'issue_id': 2770741745, 'author': 'fw-bot', 'body': '@meji-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 9, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249855, 'issue_id': 2770741745, 'author': 'fw-bot', 'body': '@meji-odoo @caburj this forward port of odoo/odoo#188563 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574801337, 'issue_id': 2770741745, 'author': 'meji-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 9, 30, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:09:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192516.png)](https://mergebot.odoo.com/odoo/odoo/pull/192516)

fw-bot (Issue Creator) on (2025-01-06 14:09:19 UTC): @meji-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:57 UTC): @meji-odoo @caburj this forward port of odoo/odoo#188563 is awaiting action (not merged or closed).

meji-odoo on (2025-01-07 09:30:54 UTC): @robodoo r+

"
2770738908,pull_request,closed,,"[IMP] core: cache deprecate skiparg, remove alias","Deprecate skiparg argument and remove alias of the ormcache method.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-06 14:07:43+00:00,[],2025-01-08 07:53:30+00:00,2025-01-07 20:39:28+00:00,https://github.com/odoo/odoo/pull/192515,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2573185801, 'issue_id': 2770738908, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192515.png)](https://mergebot.odoo.com/odoo/odoo/pull/192515)', 'created_at': datetime.datetime(2025, 1, 6, 14, 7, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575459441, 'issue_id': 2770738908, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 38, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:07:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192515.png)](https://mergebot.odoo.com/odoo/odoo/pull/192515)

ryv-odoo on (2025-01-07 14:38:21 UTC): @robodoo r+

"
2770727052,pull_request,closed,,"[FIX] base, account, sale: use RUC as VAT label for Panama","In Panama, the Tax ID is the Registro Único de Contribuyentes (RUC) and not the Número de Identificación Fiscal (NIF).

This is a double fix:
1. Update the `vat_label` to use ""RUC"" instead of ""Tax ID"", but this will only be available for new created DBs (because of noupdate)
2. Update the translation of Tax ID for Panama which only requires to update the translations to have the correct translation of Tax ID.

opw-4388758
",RicGR98,2025-01-06 14:01:25+00:00,[],2025-01-21 11:16:26+00:00,2025-01-07 11:08:56+00:00,https://github.com/odoo/odoo/pull/192514,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573173438, 'issue_id': 2770727052, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192514.png)](https://mergebot.odoo.com/odoo/odoo/pull/192514)', 'created_at': datetime.datetime(2025, 1, 6, 14, 1, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:01:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192514.png)](https://mergebot.odoo.com/odoo/odoo/pull/192514)

"
2770724586,pull_request,closed,,[FW][16.0][FIX] web: login page should not be cached,"**Description of the issue/feature this PR addresses:**
When odoo is deployed with Reverse Proxy , like cloudflare, and cache rule is enabled. 
The login page is cached by cloudflare,  ""Cf-Cache-Status"" is set to ""HIT"" in the reponse header
![image](https://github.com/user-attachments/assets/51187a2e-476b-414b-a396-4af15ed26df7)

But in the html content, csrf_token is unavailable.
![image](https://github.com/user-attachments/assets/6a8d81e6-3270-466a-b292-789a9473657e)

Error when try to login.
![image](https://github.com/user-attachments/assets/f8cd7fa1-f08e-49af-adc6-7109f24bca17)

**Current behavior before PR:**
User can not login.

**Desired behavior after PR is merged:**
User can login.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191453",fw-bot,2025-01-06 14:00:07+00:00,[],2025-01-29 13:26:24+00:00,2025-01-15 12:30:50+00:00,https://github.com/odoo/odoo/pull/192513,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573170825, 'issue_id': 2770724586, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192513.png)](https://mergebot.odoo.com/odoo/odoo/pull/192513)', 'created_at': datetime.datetime(2025, 1, 6, 14, 0, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573170865, 'issue_id': 2770724586, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 14, 0, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573229196, 'issue_id': 2770724586, 'author': 'fw-bot', 'body': '@tanghulu0608 @Julien00859 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 14, 29, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 14:00:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192513.png)](https://mergebot.odoo.com/odoo/odoo/pull/192513)

fw-bot (Issue Creator) on (2025-01-06 14:00:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 14:29:56 UTC): @tanghulu0608 @Julien00859 ci/runbot failed on this forward-port PR

"
2770723520,pull_request,open,,"[FIX] l10n_de_skr03,l10n_de_skr_04: domestic fiscal position","When creating an invoice with a german customer, the domestic fiscal position is not applied. Instead, it's the european one which cause the invoice to have 0% taxes by default.

opw-4448821




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-06 13:59:33+00:00,[],2025-01-07 09:32:05+00:00,,https://github.com/odoo/odoo/pull/192512,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573169756, 'issue_id': 2770723520, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192512.png)](https://mergebot.odoo.com/odoo/odoo/pull/192512)', 'created_at': datetime.datetime(2025, 1, 6, 13, 59, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573172011, 'issue_id': 2770723520, 'author': 'malb-odoo', 'body': 'If the fix is good, a little upgrade script will be needed', 'created_at': datetime.datetime(2025, 1, 6, 14, 0, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:59:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192512.png)](https://mergebot.odoo.com/odoo/odoo/pull/192512)

malb-odoo (Issue Creator) on (2025-01-06 14:00:42 UTC): If the fix is good, a little upgrade script will be needed

"
2770718304,pull_request,closed,,[REM] base: res.company _company_default_get,"Deprecated since 2020.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-06 13:56:52+00:00,[],2025-01-07 07:25:17+00:00,2025-01-06 20:21:10+00:00,https://github.com/odoo/odoo/pull/192511,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2573164709, 'issue_id': 2770718304, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192511.png)](https://mergebot.odoo.com/odoo/odoo/pull/192511)', 'created_at': datetime.datetime(2025, 1, 6, 13, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573475285, 'issue_id': 2770718304, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 35, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:56:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192511.png)](https://mergebot.odoo.com/odoo/odoo/pull/192511)

ryv-odoo on (2025-01-06 16:35:08 UTC): @robodoo r+

"
2770710474,pull_request,closed,,[FIX] base: Somali state rename,"Typo in state name (Somalia -> Somali).
https://en.wikipedia.org/wiki/Somali_Region

task-4453644


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-06 13:52:46+00:00,[],2025-01-06 19:48:47+00:00,2025-01-06 17:54:07+00:00,https://github.com/odoo/odoo/pull/192510,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573157081, 'issue_id': 2770710474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192510.png)](https://mergebot.odoo.com/odoo/odoo/pull/192510)', 'created_at': datetime.datetime(2025, 1, 6, 13, 52, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573269244, 'issue_id': 2770710474, 'author': 'robodoo', 'body': ""@kmagusiak @h4818 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 14, 49, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:52:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192510.png)](https://mergebot.odoo.com/odoo/odoo/pull/192510)

robodoo on (2025-01-06 14:49:49 UTC): @kmagusiak @h4818 'ci/runbot' failed on this reviewed PR.

"
2770708589,pull_request,closed,,"[IMP] stock: add a ""Return All"" button on the picking return wizard","### Issue:

Since 57b8b2487def43a1b9c461c0fa4eb02200b5c1ef (18.0), the return picking wizard sets a default quantity of 0. This fits the new design of returns that are no longer exclusively tied to the initial delivery. However, in workflows where you are expected to return all/almost all products of a consequent picking this is both fastidious and error prone to set all the quantities to match the delivered values by hand.

### Solution:

We add a ""Return All"" button in the wizard view to allow the user to create a return whose quantity matches the delivered quantities.

opw-4416167
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-06 13:51:43+00:00,[],2025-01-30 03:30:09+00:00,2025-01-16 03:25:38+00:00,https://github.com/odoo/odoo/pull/192509,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573155226, 'issue_id': 2770708589, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192509.png)](https://mergebot.odoo.com/odoo/odoo/pull/192509)', 'created_at': datetime.datetime(2025, 1, 6, 13, 51, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592967081, 'issue_id': 2770708589, 'author': 'clesgow', 'body': 'Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 14, 14, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:51:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192509.png)](https://mergebot.odoo.com/odoo/odoo/pull/192509)

clesgow on (2025-01-15 14:14:38 UTC): Thanks!
@robodoo r+

"
2770706145,pull_request,closed,,[FW][FIX] pos_self_order: language select not working,"Steps to reproduce:
- Configure a kiosk to have multiple languages
- Observe that the language can be changed in the kiosk UI as expected
- Install the website module, and configure the website's languages to not include one of the kiosk languages
  - For example, kiosk has EN and FR, website just has EN
- Observe that the language can no longer be changed in the kiosk

opw-4403828

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191817
Forward-Port-Of: odoo/odoo#191137",fw-bot,2025-01-06 13:50:23+00:00,[],2025-01-21 19:16:52+00:00,2025-01-07 19:05:22+00:00,https://github.com/odoo/odoo/pull/192508,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573152799, 'issue_id': 2770706145, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192508.png)](https://mergebot.odoo.com/odoo/odoo/pull/192508)', 'created_at': datetime.datetime(2025, 1, 6, 13, 50, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573152828, 'issue_id': 2770706145, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 13, 50, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:50:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192508.png)](https://mergebot.odoo.com/odoo/odoo/pull/192508)

fw-bot (Issue Creator) on (2025-01-06 13:50:25 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770700174,pull_request,closed,,[FIX] account: matching rules appliance on branches,"The bank reconciliation widget shouldn't be allowed to work/match more than what's possible through the UI.

Steps to reproduce the bug
* create child company CHILD 1, with an invoice $100
* Create child company CHILD 2 with same parent company, a bank journal and a matching rule to fetch bills/invoices of same amount regardless of any other critera (for simplicity)
* make sure the matching rule is applied 1st, create a bank transacation of $100 in CHILD 2 bank journal
* click reconcile from the dashboard, on CHILD 2 bank journal => you get an access error because Odoo is trying to match invoice from CHILD 1 and bank transaction from CHILD 2

ticket-4384481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qdp-odoo,2025-01-06 13:47:42+00:00,[],2025-01-22 20:31:35+00:00,2025-01-08 19:25:25+00:00,https://github.com/odoo/odoo/pull/192507,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573147873, 'issue_id': 2770700174, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192507.png)](https://mergebot.odoo.com/odoo/odoo/pull/192507)', 'created_at': datetime.datetime(2025, 1, 6, 13, 47, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:47:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192507.png)](https://mergebot.odoo.com/odoo/odoo/pull/192507)

"
2770687202,pull_request,closed,,[REM] base: ir.sequence get,"Methods deprecated since 2014.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-06 13:40:39+00:00,[],2025-01-08 07:53:12+00:00,2025-01-07 19:20:48+00:00,https://github.com/odoo/odoo/pull/192506,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2573134817, 'issue_id': 2770687202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192506.png)](https://mergebot.odoo.com/odoo/odoo/pull/192506)', 'created_at': datetime.datetime(2025, 1, 6, 13, 40, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575233709, 'issue_id': 2770687202, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nLGTM', 'created_at': datetime.datetime(2025, 1, 7, 12, 55, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:40:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192506.png)](https://mergebot.odoo.com/odoo/odoo/pull/192506)

ryv-odoo on (2025-01-07 12:55:07 UTC): @robodoo r+
LGTM

"
2770686324,pull_request,closed,,[REM] base: deprecated get_precision,"Deprecated since 2020, removing the function and monkeypatch to expose in odoo.addons.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-06 13:40:10+00:00,[],2025-01-08 12:10:05+00:00,2025-01-08 11:22:32+00:00,https://github.com/odoo/odoo/pull/192505,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2573133895, 'issue_id': 2770686324, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192505.png)](https://mergebot.odoo.com/odoo/odoo/pull/192505)', 'created_at': datetime.datetime(2025, 1, 6, 13, 40, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577151596, 'issue_id': 2770686324, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 8, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:40:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192505.png)](https://mergebot.odoo.com/odoo/odoo/pull/192505)

ryv-odoo on (2025-01-08 09:08:13 UTC): @robodoo r+

"
2770683355,pull_request,closed,,[FIX] discuss: remove toaster notifications for messages and emails,"**Current behavior before PR:**

Toaster notifications were used for new messages and emails(when handle in odoo), creating redundancy with chat bubbles and systray counters. Leading to a less user-friendly experience.

**Desired behavior after PR is merged:**

Toaster notifications have been removed for new messages and emails.

Task-[4309515](https://www.odoo.com/odoo/project/1519/tasks/4309515)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ramh-odoo,2025-01-06 13:38:34+00:00,[],2025-01-25 20:13:27+00:00,2025-01-25 19:37:30+00:00,https://github.com/odoo/odoo/pull/192504,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573130755, 'issue_id': 2770683355, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192504.png)](https://mergebot.odoo.com/odoo/odoo/pull/192504)', 'created_at': datetime.datetime(2025, 1, 6, 13, 38, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:38:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192504.png)](https://mergebot.odoo.com/odoo/odoo/pull/192504)

"
2770681371,pull_request,closed,,[FIX] purchase_stock: report incoterm layout,"Since the [document layout redesign](odoo/odoo@e19efd2f54014425b14defd6015b9a71c1142385), the incoterms in rfq are wrongly displayed.

This is due to the dynamic title which breaks the xpath, xpathing the incoterms in the `<h2>` instead of after it.

This commit fixes the xpath to properly display the incoterms.

opw-4380886
task-4453695 

<h3>Steps to reproduce</h3>

- Choose any document layout
- Have purchase & Inventory installed
- Create a request for quotation
    - In the ""other information"" tab, choose an incoterm
- Print the RFQ

| Issue | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/4883af55-3a9a-43a5-88ba-be86cf19bb45) | ![image](https://github.com/user-attachments/assets/f8b9e22e-55cd-4341-9db4-2394cfc8f1e5) | 


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mano-odoo,2025-01-06 13:37:28+00:00,[],2025-01-29 13:26:26+00:00,2025-01-15 12:30:52+00:00,https://github.com/odoo/odoo/pull/192503,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573128818, 'issue_id': 2770681371, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192503.png)](https://mergebot.odoo.com/odoo/odoo/pull/192503)', 'created_at': datetime.datetime(2025, 1, 6, 13, 37, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2592243881, 'issue_id': 2770681371, 'author': 'clesgow', 'body': 'Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 15, 10, 22, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:37:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192503.png)](https://mergebot.odoo.com/odoo/odoo/pull/192503)

clesgow on (2025-01-15 10:22:41 UTC): Thanks!
@robodoo r+

"
2770665378,pull_request,closed,,[FW][FIX] web: fix active class on extra menu items,"Since [1], when an extra menu is displayed due to the top menu exceeding its maximum width, the active class is no longer applied correctly. This issue was introduced during the conversion from jQuery to vanilla JavaScript.

Steps to reproduce:

- Enter the Website in edit mode.
- Navigate to Site > Menu Editor.
- Add several menu items until the menu exceeds its maximum width.
- Ensure that one of the items in the extra menu redirects to ""Contact Us"".
- Click on the ""Contact Us"" menu item.
- Open the dropdown menu (via the ""+"" icon) and observe that the ""Contact Us"" entry is not highlighted.

This commit resolves the problem.

[1]: https://github.com/odoo/odoo/commit/0de634965a0dec4470b30154f3722a1e83b0e866

task-4428845
opw-4383641

Forward-Port-Of: odoo/odoo#192327
Forward-Port-Of: odoo/odoo#191548",fw-bot,2025-01-06 13:28:51+00:00,[],2025-01-21 09:42:49+00:00,2025-01-07 09:36:26+00:00,https://github.com/odoo/odoo/pull/192502,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573112981, 'issue_id': 2770665378, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192502.png)](https://mergebot.odoo.com/odoo/odoo/pull/192502)', 'created_at': datetime.datetime(2025, 1, 6, 13, 28, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573113002, 'issue_id': 2770665378, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 13, 28, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:28:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192502.png)](https://mergebot.odoo.com/odoo/odoo/pull/192502)

fw-bot (Issue Creator) on (2025-01-06 13:28:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770664908,pull_request,closed,,[FW][FIX] html_editor: ctrl+click on styled link should open the link,"Description of the issue this PR addresses:

Current behavior before PR:

Ctrl+clicking on a styled link is ineffective since the target is the styled element.

Desired behavior after PR is merged:

Ensure the target is the closest anchor tag.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192441",fw-bot,2025-01-06 13:28:37+00:00,[],2025-01-21 09:42:57+00:00,2025-01-07 09:37:09+00:00,https://github.com/odoo/odoo/pull/192501,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573112813, 'issue_id': 2770664908, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192501.png)](https://mergebot.odoo.com/odoo/odoo/pull/192501)', 'created_at': datetime.datetime(2025, 1, 6, 13, 28, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573112829, 'issue_id': 2770664908, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 13, 28, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:28:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192501.png)](https://mergebot.odoo.com/odoo/odoo/pull/192501)

fw-bot (Issue Creator) on (2025-01-06 13:28:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770661621,pull_request,open,,[FIX] account: prevent an error when print and send invoices,"Currently, An error occurs when the user print and send invoices  and 'Invoice report' is disabled in reports 'report_invoice_with_payments'.

Step to produce:

- Install the `account` module.
- Go to Settings / Technical / Actions / Reports, Search 'report_invoice_with_payments', and disable the 'Invoice report'.
- Go to Invoicing / Customers / Invoices, Create one invoice add a customer and invoice line, and Confirm it back to the list view of the invoice
- Select this invoice and click on Print & Send.
- After Opening a wizard, click the 'Print & Send' button.

The issue occurs when the user tries to generate and send invoices and the system checks that 'is_invoice_report' is enabled for invoices at [1].

Link [1]: https://github.com/odoo/odoo/blob/658711aa1e1809b267006149ed6a547e548c1f90/addons/account/models/account_move_send.py#L658

To resolve this, we have to remove this comparison [1] as the user can disable 'is_invoice_report' from 'report_invoice_with_payments'.

Sentry-6185986435

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mega-odoo,2025-01-06 13:26:54+00:00,[],2025-01-10 09:11:26+00:00,,https://github.com/odoo/odoo/pull/192500,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573109570, 'issue_id': 2770661621, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192500.png)](https://mergebot.odoo.com/odoo/odoo/pull/192500)', 'created_at': datetime.datetime(2025, 1, 6, 13, 26, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582131315, 'issue_id': 2770661621, 'author': 'mega-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\n\r\nPlease review this PR.\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 10, 9, 11, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:26:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192500.png)](https://mergebot.odoo.com/odoo/odoo/pull/192500)

mega-odoo (Issue Creator) on (2025-01-10 09:11:24 UTC): Hello @odoo/sentry_reviewers

Please review this PR.

Thanks!

"
2770658832,pull_request,closed,,[FW][FIX] base: Fix display_name visibility,"Description of the issue/feature this PR addresses:
- A recent change in the contact's list view introduces a small bug, due to which, now a blank column for display name appears. commit ensure correct attribute value for list view.
- [commit](https://github.com/odoo/odoo/commit/76aa55dbfcce535d645270448b096ed8cfede104) that introduces issue.


Current behavior before PR:
- a blank column is visible 
![contact](https://github.com/user-attachments/assets/4a9c9d83-9a1d-4fe8-a6a0-2e41daf34daa)


Desired behavior after PR is merged:
- `display_name` field is hidden properly. 
![image](https://github.com/user-attachments/assets/821393de-1741-4e1c-a06c-7bcf50c65448)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191887",fw-bot,2025-01-06 13:25:22+00:00,[],2025-01-06 13:29:42+00:00,2025-01-06 13:29:41+00:00,https://github.com/odoo/odoo/pull/192499,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2573106994, 'issue_id': 2770658832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192499.png)](https://mergebot.odoo.com/odoo/odoo/pull/192499)', 'created_at': datetime.datetime(2025, 1, 6, 13, 25, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573107010, 'issue_id': 2770658832, 'author': 'fw-bot', 'body': '@aksi-odoo @rco-odoo cherrypicking of pull request odoo/odoo#191887 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/views/res_partner_views.xml\nCONFLICT (content): Merge conflict in odoo/addons/base/views/res_partner_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 13, 25, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573114519, 'issue_id': 2770658832, 'author': 'aksi-odoo', 'body': 'As this issue is not present in and after saas-17.2, i close this pr', 'created_at': datetime.datetime(2025, 1, 6, 13, 29, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:25:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192499.png)](https://mergebot.odoo.com/odoo/odoo/pull/192499)

fw-bot (Issue Creator) on (2025-01-06 13:25:24 UTC): @aksi-odoo @rco-odoo cherrypicking of pull request odoo/odoo#191887 failed.

stdout:
```
Auto-merging odoo/addons/base/views/res_partner_views.xml
CONFLICT (content): Merge conflict in odoo/addons/base/views/res_partner_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aksi-odoo on (2025-01-06 13:29:41 UTC): As this issue is not present in and after saas-17.2, i close this pr

"
2770655770,pull_request,closed,,[FW][FIX] hr_timesheet: adjust colspan when timesheets are groupby,"Steps to reproduce:
- Install hr_timesheet (with demo data)
- Navigate to portal > timesheet
- Group by project

Issue:
When only the hr_timesheet module is installed and timesheets are grouped in the
portal view, the column alignment is broken due to an incorrect colspan.

Cause:
When groupby is applied, the colspan is manually set to 4, causing misalignment
between the header and row columns.

Fix:
This commit sets the last column's colspan to 2 when grouping is applied to fix the
alignment issue.

task-4294780



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192201
Forward-Port-Of: odoo/odoo#186532",fw-bot,2025-01-06 13:23:45+00:00,[],2025-01-21 09:42:59+00:00,2025-01-07 09:42:20+00:00,https://github.com/odoo/odoo/pull/192498,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2573104354, 'issue_id': 2770655770, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192498.png)](https://mergebot.odoo.com/odoo/odoo/pull/192498)', 'created_at': datetime.datetime(2025, 1, 6, 13, 23, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573104372, 'issue_id': 2770655770, 'author': 'fw-bot', 'body': '@rajh-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192480\n* odoo/odoo#192468\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 13, 23, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249912, 'issue_id': 2770655770, 'author': 'fw-bot', 'body': '@rajh-odoo @xavierbol this forward port of odoo/odoo#186532 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574562956, 'issue_id': 2770655770, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 7, 27, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:23:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192498.png)](https://mergebot.odoo.com/odoo/odoo/pull/192498)

fw-bot (Issue Creator) on (2025-01-06 13:23:47 UTC): @rajh-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192480
* odoo/odoo#192468

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:02:00 UTC): @rajh-odoo @xavierbol this forward port of odoo/odoo#186532 is awaiting action (not merged or closed).

xavierbol on (2025-01-07 07:27:49 UTC): robodoo r+

"
2770654315,pull_request,closed,,[FW][FIX] point_of_sale: keep product serial number in refund order,"Previously, when refunding a product with a serial number, the serial number was not being properly set in the refund order. This caused issues in inventory management as the POS transfer was not automatically validated.

After this commit, the serial number of the refunded product is correctly assigned in the refund order and the POS transfer is automatically validated.

opw-4387411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191147",fw-bot,2025-01-06 13:22:59+00:00,[],2025-01-24 13:43:27+00:00,2025-01-10 13:35:50+00:00,https://github.com/odoo/odoo/pull/192497,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573102957, 'issue_id': 2770654315, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192497.png)](https://mergebot.odoo.com/odoo/odoo/pull/192497)', 'created_at': datetime.datetime(2025, 1, 6, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573102988, 'issue_id': 2770654315, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 13, 23, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573213532, 'issue_id': 2770654315, 'author': 'fw-bot', 'body': '@stva-odoo @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 14, 21, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573393419, 'issue_id': 2770654315, 'author': 'fw-bot', 'body': '@stva-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 15, 51, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579993436, 'issue_id': 2770654315, 'author': 'stva-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 9, 12, 5, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580913073, 'issue_id': 2770654315, 'author': 'robodoo', 'body': '@stva-odoo @caburj staging failed: ci/runbot on 5edb96ad07718b4c8f42ab31d6b1d2d7304b584a (view more at https://runbot.odoo.com/runbot/build/73106900)', 'created_at': datetime.datetime(2025, 1, 9, 17, 46, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581588055, 'issue_id': 2770654315, 'author': 'fw-bot', 'body': '@stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582380027, 'issue_id': 2770654315, 'author': 'stva-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 10, 41, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:23:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192497.png)](https://mergebot.odoo.com/odoo/odoo/pull/192497)

fw-bot (Issue Creator) on (2025-01-06 13:23:01 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 14:21:49 UTC): @stva-odoo @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-06 15:51:52 UTC): @stva-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.

stva-odoo on (2025-01-09 12:05:30 UTC): robodoo r+

robodoo on (2025-01-09 17:46:12 UTC): @stva-odoo @caburj staging failed: ci/runbot on 5edb96ad07718b4c8f42ab31d6b1d2d7304b584a (view more at https://runbot.odoo.com/runbot/build/73106900)

fw-bot (Issue Creator) on (2025-01-10 02:01:48 UTC): @stva-odoo @caburj this forward port of odoo/odoo#191147 is awaiting action (not merged or closed).

stva-odoo on (2025-01-10 10:41:49 UTC): robodoo r+

"
2770624030,pull_request,closed,,[FIX] account: save manually printed PDF in invoice PDF fields,"When generating an invoice PDF manually through the cog button in the invoice form, the printed result are normally not saved in the invoice, unless we specifically specify in the ""manual print"" report action that the attachment should be saved.

However, when that setting is activated, the PDF are saved as an attachments of the invoice but not at the invoice's pdf file pointer field (`invoice_pdf_report_file`, `invoice_pdf_report_id`).

This leads to weird behavior whenever we get the values of the invoice PDF fields, because on these manually printed invoices, the attachment exists but `invoice_pdf_report_*` fields is empty/`False`.

One example is in the portal website, when opening invoice with manually printed PDF attachment, it will generate and show the fallback PDF (""Proforma"" invoice PDF) wrongfully (because it thought that the invoice doesn't have any attachment yet; by looking at the False invoice PDF field values)

[additional information] why `17.0`? in `16.0`, the `invoice_pdf_report_*` fields has not existed yet. The above examples works without issue in `16.0`

opw-4443613",yosuanicolaus,2025-01-06 13:06:28+00:00,['yosuanicolaus'],2025-01-14 10:42:36+00:00,2025-01-14 10:42:36+00:00,https://github.com/odoo/odoo/pull/192496,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573074745, 'issue_id': 2770624030, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192496.png)](https://mergebot.odoo.com/odoo/odoo/pull/192496)', 'created_at': datetime.datetime(2025, 1, 6, 13, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589577920, 'issue_id': 2770624030, 'author': 'rugo-odoo', 'body': 'Unfortunately (for you), everything works as intended :grimacing:', 'created_at': datetime.datetime(2025, 1, 14, 10, 42, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:06:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192496.png)](https://mergebot.odoo.com/odoo/odoo/pull/192496)

rugo-odoo on (2025-01-14 10:42:36 UTC): Unfortunately (for you), everything works as intended :grimacing:

"
2770616242,pull_request,closed,,[FIX] account_edi_ubl_cii: remove BR-DE-1 constraint for credit notes,"Those constraints are blocking the flow for no good reason as we
- don't find them in the official documentation
- they don't really make sense in the context of a credit note
Therefore we decide to remove them for credit notes.
They don't seem to be required for the facturx validity.

task-4454115",clbr-odoo,2025-01-06 13:02:03+00:00,[],2025-01-21 17:27:01+00:00,2025-01-07 17:25:44+00:00,https://github.com/odoo/odoo/pull/192495,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573067273, 'issue_id': 2770616242, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192495.png)](https://mergebot.odoo.com/odoo/odoo/pull/192495)', 'created_at': datetime.datetime(2025, 1, 6, 13, 2, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 13:02:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192495.png)](https://mergebot.odoo.com/odoo/odoo/pull/192495)

"
2770596839,pull_request,closed,,[FW][16.0][FIX] web: login page should not be cached,"**Description of the issue/feature this PR addresses:**
When odoo is deployed with Reverse Proxy , like cloudflare, and cache rule is enabled. 
The login page is cached by cloudflare,  ""Cf-Cache-Status"" is set to ""HIT"" in the reponse header
![image](https://github.com/user-attachments/assets/51187a2e-476b-414b-a396-4af15ed26df7)

But in the html content, csrf_token is unavailable.
![image](https://github.com/user-attachments/assets/6a8d81e6-3270-466a-b292-789a9473657e)

Error when try to login.
![image](https://github.com/user-attachments/assets/f8cd7fa1-f08e-49af-adc6-7109f24bca17)

**Current behavior before PR:**
User can not login.

**Desired behavior after PR is merged:**
User can login.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191453",fw-bot,2025-01-06 12:51:14+00:00,[],2025-01-29 13:26:29+00:00,2025-01-15 13:07:52+00:00,https://github.com/odoo/odoo/pull/192493,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573049602, 'issue_id': 2770596839, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192493.png)](https://mergebot.odoo.com/odoo/odoo/pull/192493)', 'created_at': datetime.datetime(2025, 1, 6, 12, 51, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573049620, 'issue_id': 2770596839, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 12, 51, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:51:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192493.png)](https://mergebot.odoo.com/odoo/odoo/pull/192493)

fw-bot (Issue Creator) on (2025-01-06 12:51:16 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770572989,pull_request,closed,,[FIX] project: project grouped by stages now respects the pagination,"Steps to reproduce
==================

- Open any project
- Create many project stages (80+)
- Switch to the list view
- Group by stage
- Switch to to next page => The pager keeps increasing

Cause of the issue
==================

`stage_id` has a group_expand: `_read_group_stage_ids`

This method is used to include empty stages in the result for the kanban view, so that we can drag tasks to an empty stage.

Solution
========

Add a context key `project_kanban` and only add empty stages in that case.

opw-4408061",hubvd,2025-01-06 12:37:52+00:00,[],2025-01-22 17:29:52+00:00,2025-01-08 17:20:20+00:00,https://github.com/odoo/odoo/pull/192492,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573028820, 'issue_id': 2770572989, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192492.png)](https://mergebot.odoo.com/odoo/odoo/pull/192492)', 'created_at': datetime.datetime(2025, 1, 6, 12, 37, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573034635, 'issue_id': 2770572989, 'author': 'hubvd', 'body': ""@xavierbol What do you think about this approach ?\r\n\r\nIf we go with a context key from the JS side, we should also create a custom kanban view for the project_sharing page.\r\n\r\nAnother possibility is to set the context key here by guessing if we are in the kanban view. We can detect it, as it's not possible to set a group limit in the kanban view. In 16, the limit is null, in 17, it is Number.MAX_SAFE_INTEGER.\r\n\r\nhttps://github.com/odoo/odoo/blob/7e15855e83180c439155fa77bdd5bfe0d49b47c7/addons/project/models/project.py#L1978"", 'created_at': datetime.datetime(2025, 1, 6, 12, 41, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574871064, 'issue_id': 2770572989, 'author': 'xavierbol', 'body': ""> @xavierbol What do you think about this approach ?\r\n> \r\n> If we go with a context key from the JS side, we should also create a custom kanban view for the project_sharing page.\r\n> \r\n> Another possibility is to set the context key here by guessing if we are in the kanban view. We can detect it, as it's not possible to set a group limit in the kanban view. In 16, the limit is null, in 17, it is Number.MAX_SAFE_INTEGER.\r\n> \r\n> https://github.com/odoo/odoo/blob/7e15855e83180c439155fa77bdd5bfe0d49b47c7/addons/project/models/project.py#L1978\r\n\r\nCoucou 👋🏼 \r\n\r\nSeems to be the best approach to fix the issue. 🤔 \r\n\r\nAbout the other possibility, I don't really like to guess something based on a parameter because a custom module could also alter those parameters for instance or if one day, a change is made, we will surely forget to update our override."", 'created_at': datetime.datetime(2025, 1, 7, 10, 2, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:37:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192492.png)](https://mergebot.odoo.com/odoo/odoo/pull/192492)

hubvd (Issue Creator) on (2025-01-06 12:41:40 UTC): @xavierbol What do you think about this approach ?

If we go with a context key from the JS side, we should also create a custom kanban view for the project_sharing page.

Another possibility is to set the context key here by guessing if we are in the kanban view. We can detect it, as it's not possible to set a group limit in the kanban view. In 16, the limit is null, in 17, it is Number.MAX_SAFE_INTEGER.

https://github.com/odoo/odoo/blob/7e15855e83180c439155fa77bdd5bfe0d49b47c7/addons/project/models/project.py#L1978

xavierbol on (2025-01-07 10:02:31 UTC): Coucou 👋🏼 

Seems to be the best approach to fix the issue. 🤔 

About the other possibility, I don't really like to guess something based on a parameter because a custom module could also alter those parameters for instance or if one day, a change is made, we will surely forget to update our override.

"
2770571029,pull_request,closed,,[FIX] project: fix project_tour tour,"In this commit, we fix the project tour. In the kanban view, we click on the first subtask_list_row but it is not yet (still) the newer subtask. We can therefore click on the first element even though it is not yet created. The DOM re-renders ... and the dropdown menu disappears.
By specifying (:contains()) that we want to click on the newer subtask, we wait for it to be created, for it to be rendered and then we click on it.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-06 12:36:45+00:00,[],2025-01-20 15:07:37+00:00,2025-01-06 14:54:46+00:00,https://github.com/odoo/odoo/pull/192491,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573027110, 'issue_id': 2770571029, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192491.png)](https://mergebot.odoo.com/odoo/odoo/pull/192491)', 'created_at': datetime.datetime(2025, 1, 6, 12, 36, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573101178, 'issue_id': 2770571029, 'author': 'kebeclibre', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 13, 22, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:36:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192491.png)](https://mergebot.odoo.com/odoo/odoo/pull/192491)

kebeclibre on (2025-01-06 13:22:02 UTC): robodoo r+

"
2770570724,pull_request,closed,,[FIX] project: fix changeDescriptionContentAndSave,"When you chain several uses of changeDescriptionContentAndSave() in a tour, you don't necessarily wait for the editor to be actually saved before continuing.
So, it always works for the first use but not for the following ones if the tour engine goes too ""fast"".
So this fix add a step in which we make sure that the form is actually saved before continuing.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-06 12:36:35+00:00,[],2025-01-20 16:30:50+00:00,2025-01-06 16:27:53+00:00,https://github.com/odoo/odoo/pull/192490,"[('RD', 'research & development, internal work')]","[{'comment_id': 2573026867, 'issue_id': 2770570724, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192490.png)](https://mergebot.odoo.com/odoo/odoo/pull/192490)', 'created_at': datetime.datetime(2025, 1, 6, 12, 36, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573148246, 'issue_id': 2770570724, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 13, 47, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:36:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192490.png)](https://mergebot.odoo.com/odoo/odoo/pull/192490)

bastien-ipb on (2025-01-06 13:47:57 UTC): @robodoo r+

"
2770557923,pull_request,closed,,[FIX] account: Fix group by internal group on journal items,"In journal items, when grouping by 'Internal Group', a traceback appears due to referencing a non-existent table `account_account` as it has been joined with `account_move_line`.

This commit ensures the referenced table is correctly updated in the case of joins.

opw-4405281

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",seifgneedy,2025-01-06 12:29:11+00:00,[],2025-01-22 15:58:03+00:00,2025-01-08 15:44:35+00:00,https://github.com/odoo/odoo/pull/192489,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2573015234, 'issue_id': 2770557923, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192489.png)](https://mergebot.odoo.com/odoo/odoo/pull/192489)', 'created_at': datetime.datetime(2025, 1, 6, 12, 29, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573062528, 'issue_id': 2770557923, 'author': 'william-andre', 'body': ""The runbot error seems suspicious, even if I don't know how it could be impacted by this :thinking:"", 'created_at': datetime.datetime(2025, 1, 6, 12, 59, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573250809, 'issue_id': 2770557923, 'author': 'seifgneedy', 'body': ""@william-andre \r\nMoved the logic inside the `if fname == 'internal_group':` and it's green now :)\r\nI have no idea why it was failing"", 'created_at': datetime.datetime(2025, 1, 6, 14, 40, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:29:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192489.png)](https://mergebot.odoo.com/odoo/odoo/pull/192489)

william-andre on (2025-01-06 12:59:18 UTC): The runbot error seems suspicious, even if I don't know how it could be impacted by this :thinking:

seifgneedy (Issue Creator) on (2025-01-06 14:40:33 UTC): @william-andre 
Moved the logic inside the `if fname == 'internal_group':` and it's green now :)
I have no idea why it was failing

"
2770554866,pull_request,closed,,[FW][FIX] pos_self_order: language select not working,"Steps to reproduce:
- Configure a kiosk to have multiple languages
- Observe that the language can be changed in the kiosk UI as expected
- Install the website module, and configure the website's languages to not include one of the kiosk languages
  - For example, kiosk has EN and FR, website just has EN
- Observe that the language can no longer be changed in the kiosk

opw-4403828

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191817
Forward-Port-Of: odoo/odoo#191137",fw-bot,2025-01-06 12:27:19+00:00,[],2025-01-21 15:35:13+00:00,2025-01-07 15:13:41+00:00,https://github.com/odoo/odoo/pull/192488,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2573012273, 'issue_id': 2770554866, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192488.png)](https://mergebot.odoo.com/odoo/odoo/pull/192488)', 'created_at': datetime.datetime(2025, 1, 6, 12, 27, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573012350, 'issue_id': 2770554866, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 12, 27, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:27:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192488.png)](https://mergebot.odoo.com/odoo/odoo/pull/192488)

fw-bot (Issue Creator) on (2025-01-06 12:27:23 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770534754,pull_request,closed,,[IMP] im_livechat: sort sessions by creation date,"This commit changes the order of livechat sessions in the kanban view to sort them descending by their `create_date`.

task-4452928",maki-odoo,2025-01-06 12:15:49+00:00,[],2025-01-07 10:54:49+00:00,2025-01-07 00:33:48+00:00,https://github.com/odoo/odoo/pull/192487,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572993226, 'issue_id': 2770534754, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192487.png)](https://mergebot.odoo.com/odoo/odoo/pull/192487)', 'created_at': datetime.datetime(2025, 1, 6, 12, 15, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:15:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192487.png)](https://mergebot.odoo.com/odoo/odoo/pull/192487)

"
2770527095,pull_request,closed,,[FIX] web: not export readonly fields in import-compatible export,"Issue
-----
Read-only fields appear in the export menu when the ""I want to update data (import-compatible export)"" checkbox is active.

Cause
-----
The `readonly` key is missing from the field dictionnary leading to all fields being considered as not read-only.
https://github.com/odoo/odoo/blob/a546e2e5a87c311bef054ca4a6909e63d70c91fd/addons/web/controllers/export.py#L389-L390 Issue from 2b87effeb461acddf327884dd72c00ee22a4c9aa since only some attributes of the fields are fetched.

opw-4446090
",taqu-odoo,2025-01-06 12:11:30+00:00,[],2025-01-25 05:41:04+00:00,2025-01-11 05:01:24+00:00,https://github.com/odoo/odoo/pull/192486,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572986194, 'issue_id': 2770527095, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192486.png)](https://mergebot.odoo.com/odoo/odoo/pull/192486)', 'created_at': datetime.datetime(2025, 1, 6, 12, 11, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580122510, 'issue_id': 2770527095, 'author': 'abz-odoo', 'body': ""For me it doesn't looks like it's wrong, but this should be reviewed by framework-py team I think.\r\nLet's mark it ready"", 'created_at': datetime.datetime(2025, 1, 9, 13, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583034512, 'issue_id': 2770527095, 'author': 'ryv-odoo', 'body': ""Thank you for the fix @taqu-odoo . What about the `'exportable'` attribute juste below  :grimacing: ? we should add it too ?"", 'created_at': datetime.datetime(2025, 1, 10, 15, 54, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583268670, 'issue_id': 2770527095, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nThx', 'created_at': datetime.datetime(2025, 1, 10, 16, 59, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583271441, 'issue_id': 2770527095, 'author': 'robodoo', 'body': ""@taqu-odoo @ryv-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 10, 17, 1, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:11:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192486.png)](https://mergebot.odoo.com/odoo/odoo/pull/192486)

abz-odoo on (2025-01-09 13:12:15 UTC): For me it doesn't looks like it's wrong, but this should be reviewed by framework-py team I think.
Let's mark it ready

ryv-odoo on (2025-01-10 15:54:28 UTC): Thank you for the fix @taqu-odoo . What about the `'exportable'` attribute juste below  :grimacing: ? we should add it too ?

ryv-odoo on (2025-01-10 16:59:48 UTC): @robodoo r+
Thx

robodoo on (2025-01-10 17:01:10 UTC): @taqu-odoo @ryv-odoo 'ci/runbot' failed on this reviewed PR.

"
2770525174,pull_request,open,,"[FIX] account,l10n{latam_invoice_document,hu_edi}: layout header & footer issues","[FIX] l10n{latam_invoice_document,hu_edi}: layout header & footer issues

Bubble and wave layout footer content of l10n_ar edi invoice qr code
was a little bit cut off in preview. In addition when you had both,
`l10n_hu_edi` and `l10n_latam_invoice_document` installed, you would
have a double header/footer. And the header of bubble/wave layout
does not have the bubble/wave. Last, there is some space between the 
document and the ""shadow"" of the document in portal preview which 
looks weird when the selected layout is bubble or wave which normally 
goes all the way until the margins.

How to reproduce:
- install l10n_latam_invoice_document
- move to (AR) Responsable Inscripto"" company
- Switch Document Layout to ""Bubble"" format
- Create an invoice with B2B customer
- make sure the Document Type is set to ""(1) INVOICES A"".
- Make sure the Journal is ""Electronic Invoice""
- Validate the invoice
- Click on Preview button

What's wrong here:
1. At the bottom of the invoice, the CAE and CAE Due Date fields are
   cropped
2. Also if you installed l10n_hu_edi, you will have a double
   header/footer
3. The header does not have the bubble
4. The bubble doesn't go all way until the margins in portal preview

Regarding the first issue, this commit fixes it by moving
the custom footer to `o_content_footer` instead of it replacing the
whole footer. This was done for all `l10n_hu_edi` layouts as well as
`l10n_latam_invoice_document` layouts for consistency

For the second double header/footer issue, added a check before
overriding:
- company._name == 'res.company' to avoid breaking Configure Document
  Layout wizard (there the `comptany` is of model `base.document.layout`
- only override if fiscal country corresponds to that of the localisation

And for the last issue with header not rendering as expected, this
commit uses another xpath for header overriding as in
[#192650](https://github.com/odoo/odoo/pull/192650)

opw-4411237",antonrom1,2025-01-06 12:10:25+00:00,[],2025-02-07 14:23:53+00:00,,https://github.com/odoo/odoo/pull/192485,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572984517, 'issue_id': 2770525174, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192485.png)](https://mergebot.odoo.com/odoo/odoo/pull/192485)', 'created_at': datetime.datetime(2025, 1, 6, 12, 10, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580163263, 'issue_id': 2770525174, 'author': 'mano-odoo', 'body': ""Hello 👋 @svfu-odoo it won't change the result in PDF, but in the HTML report your shape will be offset by 48px; if you remove this mx-n5. (This class should be applied only in HTML, with the `report != 'pdf'` qweb condition)\r\n\r\n| HTML w/ mx-n5 | HTML w/o mx-n5 |\r\n|--------|--------|\r\n| ![image](https://github.com/user-attachments/assets/c6dc6247-49e2-46ea-88bc-b1645af00f24)| ![image](https://github.com/user-attachments/assets/b8086fcb-a640-414b-8a53-a4d351d77dfc)| \r\n\r\nThe goal is for the shape to overflow the container by it's margin value."", 'created_at': datetime.datetime(2025, 1, 9, 13, 31, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580257836, 'issue_id': 2770525174, 'author': 'mano-odoo', 'body': ""I'm struggling to understand though, the ticket seems to show an issue with the header's vertical margin in PDF is there a reason why the fix is modifying the footer horizontal margin in HTML?"", 'created_at': datetime.datetime(2025, 1, 9, 13, 57, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580269420, 'issue_id': 2770525174, 'author': 'antonrom1', 'body': '![image](https://github.com/user-attachments/assets/b7a83878-67c8-41ab-93bb-b04329ca47be)\r\nThe issue is actually with the footer getting cut off a little bit horizontally @mano-odoo', 'created_at': datetime.datetime(2025, 1, 9, 14, 0, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580318359, 'issue_id': 2770525174, 'author': 'mano-odoo', 'body': ""@antonrom1 sorry I watched the customer's video and there was many issues highlighted, I didn't notice this one.\r\n\r\nFor this, I think the is issue comes from the xpath in the l10n_latam which are wrong (my bad 🤦 ). \r\n\r\nThey override the whole footer, while it should actually replace the content inside the `o_footer_content` which has the`mx-5` class. This is also why we don't have a shape on the header & footer in the customer's video, the xpath is overriding it."", 'created_at': datetime.datetime(2025, 1, 9, 14, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580329236, 'issue_id': 2770525174, 'author': 'antonrom1', 'body': 'indeed that makes more sense, thank you!', 'created_at': datetime.datetime(2025, 1, 9, 14, 16, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602100210, 'issue_id': 2770525174, 'author': 'antonrom1', 'body': ""So there is a funny bug where when you have both `l10n_hu_edi` and `l10n_latam_invoice_document` installed at the same time, as both render `custom_footer`, we have two footers/headers when both modules are installed. Not sure if it's worth fixing in stable tho"", 'created_at': datetime.datetime(2025, 1, 20, 10, 57, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610462395, 'issue_id': 2770525174, 'author': 'mano-odoo', 'body': '@svfu-odoo \r\n> Maybe we should adjust the ""xpath"" for all footers to only overwrite the o_footer_content div now? (Previously there was only a footer).\r\n\r\nAbsolutely, the same goes for the header\'s xpaths. This would ensure the shape is properly displayed in latam and hu reports. If it\'s ok to extend the scope of this PR, I don\'t see a reason not to 😄\r\n\r\nIndeed for the shadow, we should probably just remove the utilities `p-3` and `my-2`\r\n```diff\r\n- <div class=""o_portal_html_view position-relative bg-white shadow p-3 overflow-hidden"">\r\n-     ...\r\n-       <iframe id=""invoice_html"" class=""position-relative my-2"">\r\n\r\n+ <div class=""o_portal_html_view position-relative bg-white shadow overflow-hidden"">\r\n+     ...\r\n+        <iframe id=""invoice_html"" class=""position-relative"">\r\n```\r\n\r\nWeirdly a spacing stays due to some height difference between the o_portal_html_view and the iframe but unsure if it\'s an easy fix (I didn\'t dive too much). In any case it already looks way better.\r\n![image](https://github.com/user-attachments/assets/08a71c4e-5c5f-4b5a-97b7-73e16da9a154)\r\n\r\n\r\nThanks a lot fixing these issues 🙏', 'created_at': datetime.datetime(2025, 1, 23, 17, 15, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611846889, 'issue_id': 2770525174, 'author': 'svfu-odoo', 'body': 'Thanks for your help.\r\nTo me the scope is fixing the **Preview** thing for LATAM (and hu_edi since those are the only 2 localizations doing the same thing). So it makes sense to include everything.\r\n\r\n> Indeed for the shadow, we should probably just remove the utilities `p-3` and `my-2`\r\n\r\nIt is probably cleaner (I was just not sure of their purpose).\r\nThen the remaining space between `div.o_portal_html_view` and `iframe#invoice_html` can be fixed by setting the height on the  `div.o_portal_html_view` instead of on the `iframe#invoice_html` during resizing (there may be a better way)\r\nhttps://github.com/odoo/odoo/blob/90949cd56da77da3645922f670f86483d7859c2f/addons/account/static/src/js/account_portal_sidebar.js#L48-L49\r\n```diff\r\n-        $el.height(0);\r\n-        $el.height($wrapwrap[0].scrollHeight);\r\n+        $el.parent().height(0);\r\n+        $el.parent().height($wrapwrap[0].scrollHeight);\r\n```', 'created_at': datetime.datetime(2025, 1, 24, 7, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624049838, 'issue_id': 2770525174, 'author': 'antonrom1', 'body': ""Thank you very much for the review and all your input! 🙏\r\n\r\n> Weirdly a spacing stays due to some height difference between the o_portal_html_view and the iframe but unsure if it's an easy fix (I didn't dive too much). In any case it already looks way better.\r\n\r\nIt's because the iframe is an inline-block. Just setting the iframe display to block fixed the issue for me, I think it's better than forcing the height"", 'created_at': datetime.datetime(2025, 1, 30, 10, 8, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:10:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192485.png)](https://mergebot.odoo.com/odoo/odoo/pull/192485)

mano-odoo on (2025-01-09 13:31:58 UTC): Hello 👋 @svfu-odoo it won't change the result in PDF, but in the HTML report your shape will be offset by 48px; if you remove this mx-n5. (This class should be applied only in HTML, with the `report != 'pdf'` qweb condition)

| HTML w/ mx-n5 | HTML w/o mx-n5 |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/c6dc6247-49e2-46ea-88bc-b1645af00f24)| ![image](https://github.com/user-attachments/assets/b8086fcb-a640-414b-8a53-a4d351d77dfc)| 

The goal is for the shape to overflow the container by it's margin value.

mano-odoo on (2025-01-09 13:57:16 UTC): I'm struggling to understand though, the ticket seems to show an issue with the header's vertical margin in PDF is there a reason why the fix is modifying the footer horizontal margin in HTML?

antonrom1 (Issue Creator) on (2025-01-09 14:00:27 UTC): ![image](https://github.com/user-attachments/assets/b7a83878-67c8-41ab-93bb-b04329ca47be)
The issue is actually with the footer getting cut off a little bit horizontally @mano-odoo

mano-odoo on (2025-01-09 14:13:38 UTC): @antonrom1 sorry I watched the customer's video and there was many issues highlighted, I didn't notice this one.

For this, I think the is issue comes from the xpath in the l10n_latam which are wrong (my bad 🤦 ). 

They override the whole footer, while it should actually replace the content inside the `o_footer_content` which has the`mx-5` class. This is also why we don't have a shape on the header & footer in the customer's video, the xpath is overriding it.

antonrom1 (Issue Creator) on (2025-01-09 14:16:41 UTC): indeed that makes more sense, thank you!

antonrom1 (Issue Creator) on (2025-01-20 10:57:24 UTC): So there is a funny bug where when you have both `l10n_hu_edi` and `l10n_latam_invoice_document` installed at the same time, as both render `custom_footer`, we have two footers/headers when both modules are installed. Not sure if it's worth fixing in stable tho

mano-odoo on (2025-01-23 17:15:32 UTC): @svfu-odoo 

Absolutely, the same goes for the header's xpaths. This would ensure the shape is properly displayed in latam and hu reports. If it's ok to extend the scope of this PR, I don't see a reason not to 😄

Indeed for the shadow, we should probably just remove the utilities `p-3` and `my-2`
```diff
- <div class=""o_portal_html_view position-relative bg-white shadow p-3 overflow-hidden"">
-     ...
-       <iframe id=""invoice_html"" class=""position-relative my-2"">

+ <div class=""o_portal_html_view position-relative bg-white shadow overflow-hidden"">
+     ...
+        <iframe id=""invoice_html"" class=""position-relative"">
```

Weirdly a spacing stays due to some height difference between the o_portal_html_view and the iframe but unsure if it's an easy fix (I didn't dive too much). In any case it already looks way better.
![image](https://github.com/user-attachments/assets/08a71c4e-5c5f-4b5a-97b7-73e16da9a154)


Thanks a lot fixing these issues 🙏

svfu-odoo on (2025-01-24 07:36:00 UTC): Thanks for your help.
To me the scope is fixing the **Preview** thing for LATAM (and hu_edi since those are the only 2 localizations doing the same thing). So it makes sense to include everything.


It is probably cleaner (I was just not sure of their purpose).
Then the remaining space between `div.o_portal_html_view` and `iframe#invoice_html` can be fixed by setting the height on the  `div.o_portal_html_view` instead of on the `iframe#invoice_html` during resizing (there may be a better way)
https://github.com/odoo/odoo/blob/90949cd56da77da3645922f670f86483d7859c2f/addons/account/static/src/js/account_portal_sidebar.js#L48-L49
```diff
-        $el.height(0);
-        $el.height($wrapwrap[0].scrollHeight);
+        $el.parent().height(0);
+        $el.parent().height($wrapwrap[0].scrollHeight);
```

antonrom1 (Issue Creator) on (2025-01-30 10:08:28 UTC): Thank you very much for the review and all your input! 🙏


It's because the iframe is an inline-block. Just setting the iframe display to block fixed the issue for me, I think it's better than forcing the height

"
2770523973,pull_request,closed,,[FIX] account: Fix round globally with reverse charge tax,"Before, the rounding was made by counting twice the same base amount that was leading to an extra ""delta_base_amount_currency"".

See the test in the commit.

opw-4425380

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",smetl,2025-01-06 12:09:46+00:00,[],2025-01-27 16:20:46+00:00,2025-01-13 15:57:34+00:00,https://github.com/odoo/odoo/pull/192484,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572983356, 'issue_id': 2770523973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192484.png)](https://mergebot.odoo.com/odoo/odoo/pull/192484)', 'created_at': datetime.datetime(2025, 1, 6, 12, 9, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582616648, 'issue_id': 2770523973, 'author': 'robodoo', 'body': '@antoine162 you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 10, 12, 38, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582961253, 'issue_id': 2770523973, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 15, 27, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584476997, 'issue_id': 2770523973, 'author': 'robodoo', 'body': '@smetl @antoine162 staging failed: ci/runbot on 3c8842d6a3bd9a7b54d1591dff59adc2476b27ac (view more at https://runbot.odoo.com/runbot/build/73197215)', 'created_at': datetime.datetime(2025, 1, 10, 22, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584618178, 'issue_id': 2770523973, 'author': 'smetl', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 10, 22, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585185830, 'issue_id': 2770523973, 'author': 'robodoo', 'body': '@smetl @antoine162 staging failed: ci/l10n on 5c442e1055fffed6a74584381754ee7679fff060 (view more at https://runbot.odoo.com/runbot/build/73202200)', 'created_at': datetime.datetime(2025, 1, 11, 9, 45, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:09:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192484.png)](https://mergebot.odoo.com/odoo/odoo/pull/192484)

robodoo on (2025-01-10 12:38:06 UTC): @antoine162 you may want to rebuild or fix this PR as it has failed CI.

antoine162 on (2025-01-10 15:27:55 UTC): @robodoo r+

robodoo on (2025-01-10 22:11:11 UTC): @smetl @antoine162 staging failed: ci/runbot on 3c8842d6a3bd9a7b54d1591dff59adc2476b27ac (view more at https://runbot.odoo.com/runbot/build/73197215)

smetl (Issue Creator) on (2025-01-10 22:44:13 UTC): @robodoo retry

robodoo on (2025-01-11 09:45:37 UTC): @smetl @antoine162 staging failed: ci/l10n on 5c442e1055fffed6a74584381754ee7679fff060 (view more at https://runbot.odoo.com/runbot/build/73202200)

"
2770522556,pull_request,closed,,[FIX] base: no properties in server action path,"Scenario: create a server action that updates a properties
Result: traceback error is raised

Issue: server action does not handle updating record properties Fix: ignore the error in _stringify_path method, so the more legible
     ValidationError from _traverse_path is raised instead.

Note: without the fix, the added test failed with ""KeyError: 'discussion_color_code'"", with the fix it doesn't fail (and there is a ""ValidationError: 'The path to the field to update contains a non-relational field (attributes) that is not the last field in …'"").

opw-4339633",nle-odoo,2025-01-06 12:08:57+00:00,[],2025-01-13 10:09:05+00:00,2025-01-10 20:05:48+00:00,https://github.com/odoo/odoo/pull/192483,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572981987, 'issue_id': 2770522556, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192483.png)](https://mergebot.odoo.com/odoo/odoo/pull/192483)', 'created_at': datetime.datetime(2025, 1, 6, 12, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582948865, 'issue_id': 2770522556, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nMake sense to have the right error. Thx @nle-odoo', 'created_at': datetime.datetime(2025, 1, 10, 15, 21, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:09:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192483.png)](https://mergebot.odoo.com/odoo/odoo/pull/192483)

ryv-odoo on (2025-01-10 15:21:57 UTC): @robodoo r+
Make sense to have the right error. Thx @nle-odoo

"
2770519829,pull_request,closed,,[FW][FIX] pos_self_order: allow merging lot tracked products,"Before this commit, adding lot tracked products would result in an error because the picking type was not loaded in self ordering.

opw-4439558

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192351",fw-bot,2025-01-06 12:07:22+00:00,[],2025-01-21 13:45:39+00:00,2025-01-07 13:26:02+00:00,https://github.com/odoo/odoo/pull/192482,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572979156, 'issue_id': 2770519829, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192482.png)](https://mergebot.odoo.com/odoo/odoo/pull/192482)', 'created_at': datetime.datetime(2025, 1, 6, 12, 7, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572979176, 'issue_id': 2770519829, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 12, 7, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573073327, 'issue_id': 2770519829, 'author': 'fw-bot', 'body': '@pedrambiria @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 13, 5, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574933062, 'issue_id': 2770519829, 'author': 'fw-bot', 'body': '@pedrambiria @caburj the next pull request (odoo/odoo#192662) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 7, 10, 29, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574962152, 'issue_id': 2770519829, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 10, 43, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:07:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192482.png)](https://mergebot.odoo.com/odoo/odoo/pull/192482)

fw-bot (Issue Creator) on (2025-01-06 12:07:24 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 13:05:41 UTC): @pedrambiria @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 10:29:05 UTC): @pedrambiria @caburj the next pull request (odoo/odoo#192662) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-01-07 10:43:07 UTC): @robodoo r+

"
2770519382,pull_request,closed,,[FW][FIX] point_of_sale: add default filter pos order,"Cancelled order should be ignored by default in the POS order report.

Steps to reproduce:
-------------------
* Open PoS create an order and go back to the backedn
* Open the PoS again and close the PoS, it will cancel the order
> Observation: Open PoS order report, it will include the cancelled
order, that can be missleading.

Why the fix:
------------
We add a new default filter that apply a domain to exclude the cancelled order from the report.

opw-4257734

Forward-Port-Of: odoo/odoo#192377",fw-bot,2025-01-06 12:07:07+00:00,[],2025-01-20 19:11:46+00:00,2025-01-06 19:09:40+00:00,https://github.com/odoo/odoo/pull/192481,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572978753, 'issue_id': 2770519382, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192481.png)](https://mergebot.odoo.com/odoo/odoo/pull/192481)', 'created_at': datetime.datetime(2025, 1, 6, 12, 7, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572978771, 'issue_id': 2770519382, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 12, 7, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573074149, 'issue_id': 2770519382, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 13, 6, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573489809, 'issue_id': 2770519382, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 42, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:07:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192481.png)](https://mergebot.odoo.com/odoo/odoo/pull/192481)

fw-bot (Issue Creator) on (2025-01-06 12:07:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 13:06:10 UTC): @robinengels @davidmonnom ci/runbot failed on this forward-port PR

robinengels on (2025-01-06 16:42:47 UTC): @robodoo r+

"
2770513037,pull_request,closed,,[FW][FIX] hr_timesheet: adjust colspan when timesheets are groupby,"Steps to reproduce:
- Install hr_timesheet (with demo data)
- Navigate to portal > timesheet
- Group by project

Issue:
When only the hr_timesheet module is installed and timesheets are grouped in the
portal view, the column alignment is broken due to an incorrect colspan.

Cause:
When groupby is applied, the colspan is manually set to 4, causing misalignment
between the header and row columns.

Fix:
This commit sets the last column's colspan to 2 when grouping is applied to fix the
alignment issue.

task-4294780



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192201
Forward-Port-Of: odoo/odoo#186532",fw-bot,2025-01-06 12:03:31+00:00,[],2025-01-21 11:16:17+00:00,2025-01-07 11:04:21+00:00,https://github.com/odoo/odoo/pull/192480,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572972736, 'issue_id': 2770513037, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192480.png)](https://mergebot.odoo.com/odoo/odoo/pull/192480)', 'created_at': datetime.datetime(2025, 1, 6, 12, 3, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572972749, 'issue_id': 2770513037, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 12, 3, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:03:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192480.png)](https://mergebot.odoo.com/odoo/odoo/pull/192480)

fw-bot (Issue Creator) on (2025-01-06 12:03:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770510512,pull_request,open,,[IMP] hr_timesheet: Fix subtotal_footer mobile alignment on page_time…,"…sheets task form view

- add both label and field on `div class='d-flex'` to take only one cell in the grid to reduce the vertical space taken in the mobile view

Task-4347949



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-06 12:02:04+00:00,[],2025-01-07 14:23:49+00:00,,https://github.com/odoo/odoo/pull/192479,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572970558, 'issue_id': 2770510512, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192479.png)](https://mergebot.odoo.com/odoo/odoo/pull/192479)', 'created_at': datetime.datetime(2025, 1, 6, 12, 2, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 12:02:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192479.png)](https://mergebot.odoo.com/odoo/odoo/pull/192479)

"
2770493548,pull_request,open,,[FIX] web: recompute widths when horizontal scroll bar appears with no content,"Updated column width computation to ensure table adjusts properly without
causing a horizontal scrollbar when the table is empty.

task-4062852

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",dhna-odoo,2025-01-06 11:52:14+00:00,[],2025-01-29 10:42:06+00:00,,https://github.com/odoo/odoo/pull/192478,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572955400, 'issue_id': 2770493548, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192478.png)](https://mergebot.odoo.com/odoo/odoo/pull/192478)', 'created_at': datetime.datetime(2025, 1, 6, 11, 52, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:52:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192478.png)](https://mergebot.odoo.com/odoo/odoo/pull/192478)

"
2770493474,pull_request,closed,,[IMP] mail: make /leave close chat windows,"Before this commit, leaving or unpin a channel kept the chat window open.
This commit forces the closing of the chat window when either action is made.

task-4452932",phenix-factory,2025-01-06 11:52:12+00:00,[],2025-01-07 14:42:24+00:00,2025-01-07 14:05:53+00:00,https://github.com/odoo/odoo/pull/192477,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572955354, 'issue_id': 2770493474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192477.png)](https://mergebot.odoo.com/odoo/odoo/pull/192477)', 'created_at': datetime.datetime(2025, 1, 6, 11, 52, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572996627, 'issue_id': 2770493474, 'author': 'alexkuhn', 'body': 'Also small commit message would help motivate the change. Even something very brief like this:\r\n\r\n```\r\nBefore this commit, leaving or unpin a channel was keeping the chat window open.\r\nThis commit forces closing of chat window when either action are made.\r\n```', 'created_at': datetime.datetime(2025, 1, 6, 12, 17, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574881914, 'issue_id': 2770493474, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 10, 6, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:52:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192477.png)](https://mergebot.odoo.com/odoo/odoo/pull/192477)

alexkuhn on (2025-01-06 12:17:51 UTC): Also small commit message would help motivate the change. Even something very brief like this:

```
Before this commit, leaving or unpin a channel was keeping the chat window open.
This commit forces closing of chat window when either action are made.
```

phenix-factory (Issue Creator) on (2025-01-07 10:06:01 UTC): @robodoo r+

"
2770489647,pull_request,closed,,[FIX] stock: quant diff computed when inventory_quantity_set False,"On the stock.quant, the inventory_diff_quantity is being computed when inventory_quantity_set is False.

Steps to reproduce:
- Create a storable product
- Create a purchase order for 1 unit and receive it
- Go to Inventory / Operations / Physical Inventory, group by product and search the product.
When we group by product, we see the stock.quant has a difference if -1.
The quantity is 1 and the counted quantity is 0, so the difference is -1.
However, inventory_quantity_set is False (as it should be).

The expected behaviour would be to not see a difference of -1 (just like it happens when we set a random counted quantity and then hit the button ""clear"") and only compute the difference when the inventory_diff_quantity is set.

OPW-4406857",pno-odoo,2025-01-06 11:49:54+00:00,[],2025-01-08 08:23:38+00:00,2025-01-08 08:22:02+00:00,https://github.com/odoo/odoo/pull/192476,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572951538, 'issue_id': 2770489647, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192476.png)](https://mergebot.odoo.com/odoo/odoo/pull/192476)', 'created_at': datetime.datetime(2025, 1, 6, 11, 49, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577037242, 'issue_id': 2770489647, 'author': 'pno-odoo', 'body': 'Spoke with AWT and there is already a PR for this by LASE, but it was decided to not do anything in stable.\r\nThere is some WIP in master', 'created_at': datetime.datetime(2025, 1, 8, 8, 23, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:49:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192476.png)](https://mergebot.odoo.com/odoo/odoo/pull/192476)

pno-odoo (Issue Creator) on (2025-01-08 08:23:37 UTC): Spoke with AWT and there is already a PR for this by LASE, but it was decided to not do anything in stable.
There is some WIP in master

"
2770484024,pull_request,closed,,[FW][FIX] pos_stripe: consistency on Stripe API calls,"Before this commit:
pos_stripe doesn't specify a Stripe version when doing its requests. Because of this, Stripe defaults to the API version defined on the Stripe account. This varies from customer to customer, as it is automatically configured to use the latest API version available when the first API request is received. Stripe regularly makes breaking changes to their API:
https://docs.stripe.com/changelog?breaking=true
for example removing the `charges` attribute:
https://docs.stripe.com/changelog/2022-11-15/removes-charges-attribute-paymentintent
which we use in pos_stripe.

After this commit:
We rely on payment_stripe._stripe_make_request which hardcode the API version number. Such change was already started in `pos_stripe.stripe_capture_payment`

opw-4375876

Forward-Port-Of: odoo/odoo#192008",fw-bot,2025-01-06 11:46:25+00:00,[],2025-01-22 15:14:28+00:00,2025-01-08 14:58:04+00:00,https://github.com/odoo/odoo/pull/192475,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572946091, 'issue_id': 2770484024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192475.png)](https://mergebot.odoo.com/odoo/odoo/pull/192475)', 'created_at': datetime.datetime(2025, 1, 6, 11, 46, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572946104, 'issue_id': 2770484024, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 11, 46, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573047078, 'issue_id': 2770484024, 'author': 'fw-bot', 'body': '@lse-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 12, 49, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:46:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192475.png)](https://mergebot.odoo.com/odoo/odoo/pull/192475)

fw-bot (Issue Creator) on (2025-01-06 11:46:27 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 12:49:38 UTC): @lse-odoo ci/runbot failed on this forward-port PR

"
2770476050,pull_request,closed,,[FW][16.0][FIX] web: login page should not be cached,"**Description of the issue/feature this PR addresses:**
When odoo is deployed with Reverse Proxy , like cloudflare, and cache rule is enabled. 
The login page is cached by cloudflare,  ""Cf-Cache-Status"" is set to ""HIT"" in the reponse header
![image](https://github.com/user-attachments/assets/51187a2e-476b-414b-a396-4af15ed26df7)

But in the html content, csrf_token is unavailable.
![image](https://github.com/user-attachments/assets/6a8d81e6-3270-466a-b292-789a9473657e)

Error when try to login.
![image](https://github.com/user-attachments/assets/f8cd7fa1-f08e-49af-adc6-7109f24bca17)

**Current behavior before PR:**
User can not login.

**Desired behavior after PR is merged:**
User can login.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191453",fw-bot,2025-01-06 11:41:40+00:00,[],2025-01-29 11:56:53+00:00,2025-01-15 11:53:05+00:00,https://github.com/odoo/odoo/pull/192474,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572938736, 'issue_id': 2770476050, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192474.png)](https://mergebot.odoo.com/odoo/odoo/pull/192474)', 'created_at': datetime.datetime(2025, 1, 6, 11, 41, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572938759, 'issue_id': 2770476050, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 11, 41, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:41:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192474.png)](https://mergebot.odoo.com/odoo/odoo/pull/192474)

fw-bot (Issue Creator) on (2025-01-06 11:41:41 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770470982,pull_request,closed,,"[FIX] account,l10n_it_edi: Batch Print & Send when manual sending method.","## Commit 1: 
### [FIX] account: Batch invoice sending when partner on ""Download""

Context:
In 18.0, all batch/multiple invoice sending are processed asynchronously, we never directly
download the generated PDF/XML files. The sending method that is used depends on what is
set on the partner.

Problem:
If you set your partner to ""Download"" by default, in the batch Send & Print, it
will display ""You are about to send: x invoice(s) Download"". While it's actually
not downloading, only generating. In 18.1 we changed this to ""Manual"" which is better but
doesn't go well in a sentence.

Solution:
Let's align everything to ""Manually"" in batch sending to avoid confusion.

Before:
![image](https://github.com/user-attachments/assets/9048c5bd-0e5f-4c25-a816-3c941bec7fce)

After:
![image](https://github.com/user-attachments/assets/8a4201f4-e4be-4c0d-b801-83815b337352)


opw-4315079

## Commit 2: 
###[IMP] l10n_it_edi: Add possibility to download in batch XML FatturaPA
Context:
In 18.0, when sending invoices in batch, we never download a zip of all generated
files (PDF, XML) since we always process invoices asynchronously with the partner's
sending method set on the partner's form.

Problem:
It's no longer possible to retrieve all XML Fattura PA at once.

Solution:
Add a button under the ""Print/Download"" button to download them all.

opw-4315079

## Commit 3:
### [FIX] l10n_it_edi: Fix error message display in Print & Send
The italian error dict does not comply to the default format expected
by the generic Print & Send. It displays the key of the error
instead of the message.
Before:
![it_error_msg_pre](https://github.com/user-attachments/assets/22707d0d-95b4-4b74-b31f-b4bc3ba334fd)
After:
![it_error_msg_post](https://github.com/user-attachments/assets/e32eef16-14d5-4462-96cc-c8e5ede5feb7)

task-no
",clbr-odoo,2025-01-06 11:38:35+00:00,[],2025-01-30 19:33:29+00:00,2025-01-16 19:29:38+00:00,https://github.com/odoo/odoo/pull/192473,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572934188, 'issue_id': 2770470982, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192473.png)](https://mergebot.odoo.com/odoo/odoo/pull/192473)', 'created_at': datetime.datetime(2025, 1, 6, 11, 38, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595841694, 'issue_id': 2770470982, 'author': 'robodoo', 'body': '@clbr-odoo @rugo-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 16, 14, 14, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595848227, 'issue_id': 2770470982, 'author': 'rugo-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 16, 14, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595848340, 'issue_id': 2770470982, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 16, 14, 17, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:38:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192473.png)](https://mergebot.odoo.com/odoo/odoo/pull/192473)

robodoo on (2025-01-16 14:14:54 UTC): @clbr-odoo @rugo-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

rugo-odoo on (2025-01-16 14:17:00 UTC): @robodoo rebase-ff

robodoo on (2025-01-16 14:17:03 UTC): Merge method set to rebase and fast-forward.

"
2770448796,pull_request,closed,,[FW][FIX] sales: computing sales team in invoice,"Versions
16.0+

Description of the issue/feature this PR addresses:

The issue occurs when selecting a partner in an invoice, the sales team is not correctly computed. The problem arises because the default_team_id is not passed as a parameter to the context when the partner is selected, which works correctly in sales orders but fails in invoices.

Current behavior before PR:

When modifying the partner_id in an invoice, the sales team is not recomputed, leading to incorrect or missing sales team assignment.

Desired behavior after PR is merged:

After this PR is merged, modifying the partner_id on an invoice will correctly recompute the sales team by passing the default_team_id in the context, ensuring consistent behavior between invoices and sales orders.

I will now provide a short video demonstrating the error. This issue is replicable if none of the sales teams have any members assigned.
https://drive.google.com/file/d/15mUpXvdlVpGZXW976PK7EVYH6X4sm2CJ/view?usp=sharing

PR of v16 https://github.com/odoo/odoo/pull/180961

Forward-Port-Of: odoo/odoo#192242
Forward-Port-Of: odoo/odoo#181244",fw-bot,2025-01-06 11:25:15+00:00,[],2025-01-21 01:06:37+00:00,2025-01-07 00:33:53+00:00,https://github.com/odoo/odoo/pull/192472,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2572913120, 'issue_id': 2770448796, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192472.png)](https://mergebot.odoo.com/odoo/odoo/pull/192472)', 'created_at': datetime.datetime(2025, 1, 6, 11, 25, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572913180, 'issue_id': 2770448796, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv cherrypicking of pull request odoo/odoo#181244 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/account_move.py\nCONFLICT (content): Merge conflict in addons/sale/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 11, 25, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572923456, 'issue_id': 2770448796, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 11, 31, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573001718, 'issue_id': 2770448796, 'author': 'robodoo', 'body': ""@feg-adhoc @Feyensv 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 12, 20, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:25:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192472.png)](https://mergebot.odoo.com/odoo/odoo/pull/192472)

fw-bot (Issue Creator) on (2025-01-06 11:25:18 UTC): @feg-adhoc @Feyensv cherrypicking of pull request odoo/odoo#181244 failed.

stdout:
```
Auto-merging addons/sale/models/account_move.py
CONFLICT (content): Merge conflict in addons/sale/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-06 11:31:38 UTC): @robodoo r+

robodoo on (2025-01-06 12:20:59 UTC): @feg-adhoc @Feyensv 'ci/runbot' failed on this reviewed PR.

"
2770445026,pull_request,closed,,"[FIX] mail, *: remove usage of allow_public_upload","\* = test_discuss_full

External users should always be able to upload files.

task-4448809",seb-odoo,2025-01-06 11:23:04+00:00,['seb-odoo'],2025-01-07 10:08:29+00:00,2025-01-07 09:36:17+00:00,https://github.com/odoo/odoo/pull/192471,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter'), ('18.1', None)]","[{'comment_id': 2572909915, 'issue_id': 2770445026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192471.png)](https://mergebot.odoo.com/odoo/odoo/pull/192471)', 'created_at': datetime.datetime(2025, 1, 6, 11, 23, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573027535, 'issue_id': 2770445026, 'author': 'robodoo', 'body': ""@seb-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 12, 37, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:23:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192471.png)](https://mergebot.odoo.com/odoo/odoo/pull/192471)

robodoo on (2025-01-06 12:37:04 UTC): @seb-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR.

"
2770408404,pull_request,closed,,[FIX] test_mail: skip chatter popout across multiple records test,"Skip because test has race conditions, until we have time to properly fix it.

runbot-109795",seb-odoo,2025-01-06 11:01:35+00:00,['seb-odoo'],2025-01-08 18:36:16+00:00,2025-01-06 16:27:52+00:00,https://github.com/odoo/odoo/pull/192470,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2572875346, 'issue_id': 2770408404, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192470.png)](https://mergebot.odoo.com/odoo/odoo/pull/192470)', 'created_at': datetime.datetime(2025, 1, 6, 11, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572974292, 'issue_id': 2770408404, 'author': 'robodoo', 'body': ""@seb-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 12, 4, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573188781, 'issue_id': 2770408404, 'author': 'seb-odoo', 'body': '@robodoo help', 'created_at': datetime.datetime(2025, 1, 6, 14, 9, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573188883, 'issue_id': 2770408404, 'author': 'robodoo', 'body': ""Currently available commands for @seb-odoo:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`delegate+`|grants approval rights to the PR author|\n|`delegate=<...>`|grants approval rights on this PR to the specified github users|\n|`default`|stages the PR normally|\n|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|\n|`alone`|stages this PR only with other PRs of the same priority|\n|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|\n|`override=<...>`|marks overridable statuses as successful|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 1, 6, 14, 9, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573189727, 'issue_id': 2770408404, 'author': 'seb-odoo', 'body': '@robodoo priority\r\n\r\nStaging are failing due to this issue', 'created_at': datetime.datetime(2025, 1, 6, 14, 9, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 11:01:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192470.png)](https://mergebot.odoo.com/odoo/odoo/pull/192470)

robodoo on (2025-01-06 12:04:32 UTC): @seb-odoo @alexkuhn 'ci/runbot' failed on this reviewed PR.

seb-odoo (Issue Creator) on (2025-01-06 14:09:23 UTC): @robodoo help

robodoo on (2025-01-06 14:09:27 UTC): Currently available commands for @seb-odoo:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`fw=skipci`|does not wait for a forward-port's statuses to succeed before creating the next one|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`delegate+`|grants approval rights to the PR author|
|`delegate=<...>`|grants approval rights on this PR to the specified github users|
|`default`|stages the PR normally|
|`priority`|tries to stage this PR first, then adds `default` PRs if the staging has room|
|`alone`|stages this PR only with other PRs of the same priority|
|`cancel=staging`|automatically cancels the current staging when this PR becomes ready|
|`override=<...>`|marks overridable statuses as successful|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

seb-odoo (Issue Creator) on (2025-01-06 14:09:55 UTC): @robodoo priority

Staging are failing due to this issue

"
2770378953,pull_request,closed,,[FW][FIX] point_of_sale: use correct identifier for lot/sn lines of order lines,"Description of the issue/feature this PR addresses:
 - for model 'pos.pack.operation.lot', `id` is the [identifier](https://github.com/odoo/odoo/blob/18.0/addons/point_of_sale/static/src/app/models/data_service_options.js#L21) but `setPackLotLines` method [uses](https://github.com/odoo/odoo/blob/saas-17.4/addons/point_of_sale/static/src/app/models/pos_order_line.js#L144) `uuid`, making operation weird and faulty.
 - As `eg: lotline.uuid => undefined`  
 - This pr attempts to fix the issue linked with modifying orderlines with sn/lots

Steps to reproduce considering [this diff](https://github.com/odoo/odoo/pull/187796/files#diff-3bfb78fa74ffa64630e11266674f185a18e3c97587590b4b55da6388cb8ba487R148) :

    - Open POS.
    - Add a products which is tracked by sn and add two sn
![image](https://github.com/user-attachments/assets/2f4ea89c-df31-40db-8bd9-9c972aa12d2a)

    - removing the last sn, will remove all sn from orderline
![image](https://github.com/user-attachments/assets/ecd36dfd-5481-4ac8-9a86-b255a3e1d27a)


Note: this pr would make more sense if [this pr](https://github.com/odoo/odoo/pull/187796) is backporterd to saas-17.4,
      as there is an oversight in replacing all `uuid` references to `id` the mentioned commit. [see](https://github.com/odoo/odoo/pull/187796/files#diff-3bfb78fa74ffa64630e11266674f185a18e3c97587590b4b55da6388cb8ba487R148) 
     Also, root issue was in saas-17.4, while a fix was made in v18.0


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188203",fw-bot,2025-01-06 10:45:45+00:00,[],2025-01-21 10:28:13+00:00,2025-01-07 10:21:19+00:00,https://github.com/odoo/odoo/pull/192469,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2572847529, 'issue_id': 2770378953, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192469.png)](https://mergebot.odoo.com/odoo/odoo/pull/192469)', 'created_at': datetime.datetime(2025, 1, 6, 10, 45, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572847553, 'issue_id': 2770378953, 'author': 'fw-bot', 'body': '@aksi-odoo @adgu-odoo cherrypicking of pull request odoo/odoo#188203 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js\nAuto-merging addons/point_of_sale/static/tests/tours/ticket_screen_tour.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/tours/ticket_screen_tour.js\nAuto-merging addons/point_of_sale/static/tests/tours/utils/product_screen_util.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 10, 45, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574661470, 'issue_id': 2770378953, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 8, 23, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:45:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192469.png)](https://mergebot.odoo.com/odoo/odoo/pull/192469)

fw-bot (Issue Creator) on (2025-01-06 10:45:47 UTC): @aksi-odoo @adgu-odoo cherrypicking of pull request odoo/odoo#188203 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js
Auto-merging addons/point_of_sale/static/tests/tours/ticket_screen_tour.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/tours/ticket_screen_tour.js
Auto-merging addons/point_of_sale/static/tests/tours/utils/product_screen_util.js
Auto-merging addons/point_of_sale/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adgu-odoo on (2025-01-07 08:23:43 UTC): robodoo r+

"
2770378288,pull_request,closed,,[FW][FIX] hr_timesheet: adjust colspan when timesheets are groupby,"Steps to reproduce:
- Install hr_timesheet (with demo data)
- Navigate to portal > timesheet
- Group by project

Issue:
When only the hr_timesheet module is installed and timesheets are grouped in the
portal view, the column alignment is broken due to an incorrect colspan.

Cause:
When groupby is applied, the colspan is manually set to 4, causing misalignment
between the header and row columns.

Fix:
This commit sets the last column's colspan to 2 when grouping is applied to fix the
alignment issue.

task-4294780



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192201
Forward-Port-Of: odoo/odoo#186532",fw-bot,2025-01-06 10:45:23+00:00,[],2025-01-21 10:28:09+00:00,2025-01-07 10:21:15+00:00,https://github.com/odoo/odoo/pull/192468,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572847334, 'issue_id': 2770378288, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192468.png)](https://mergebot.odoo.com/odoo/odoo/pull/192468)', 'created_at': datetime.datetime(2025, 1, 6, 10, 45, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572847352, 'issue_id': 2770378288, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 10, 45, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:45:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192468.png)](https://mergebot.odoo.com/odoo/odoo/pull/192468)

fw-bot (Issue Creator) on (2025-01-06 10:45:41 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770371753,pull_request,closed,,"[FIX] l10n_es_edi_{facturae,sii}: FechaOperacion / OperationDate","Currently the folllowing fields are not set / given in the SII / FaturaE XMLs respectively:
  * `FechaOperacion` (l10n_es_edi_sii)
  * `OperationDate` (l10n_es_edi_facturae)

After this commit they will give the delivery date in case the delivery date is different from the invoice date.

This is basically the same as it was done for TicketBat (l10n_es_edi_tbai) in commit 1451f589895f0867cd40add66e5e6bcbb5ba4a6e already.

opw-4367470

Enterprise PR: https://github.com/odoo/enterprise/pull/76523",svfu-odoo,2025-01-06 10:41:42+00:00,[],2025-01-27 12:12:46+00:00,2025-01-13 12:05:33+00:00,https://github.com/odoo/odoo/pull/192467,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572840836, 'issue_id': 2770371753, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192467.png)](https://mergebot.odoo.com/odoo/odoo/pull/192467)', 'created_at': datetime.datetime(2025, 1, 6, 10, 41, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585773809, 'issue_id': 2770371753, 'author': 'pedrobaeza', 'body': ""FYI, for SII, we have been discussing about this in https://github.com/OCA/l10n-spain/issues/3858. First of all, it's not clear which is the exact role of the operation date in accounting/fiscal terms, and the second one, it's the fact of allowing users to screw easily this information. In the OCA counterpart, we have been sending invoices without operation date with no known problems for 8 years for now."", 'created_at': datetime.datetime(2025, 1, 12, 15, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586452665, 'issue_id': 2770371753, 'author': 'chklop', 'body': 'Hello @pedrobaeza, thanks for the feedback. I agree that the ""FechaOperacion"" is not very well defined in the documentation, and I also agree on the fact that following my understanding this should have no impact on the accounting computation of amounts.\r\nBut this field has been requested in some cases, and we\'ve found an elegant way of allowing users to use it by just using the standard ""Delivery Date"" field on invoices. This field has no accounting impact, can be used manually to give an additional info on the delivery (for goods it\'s the actually delivery, for services it would be the end of work) that can then be reflected as additional information in the EDI.\r\nWe have added that in our TicketBAI implementation as well some months ago and we feel it\'s a good idea to align the behaviour here as well.\r\nIf by any chance you have a definitive proof or analysis to show that this is completely incorrect, I\'m open to change my mind on that subject.', 'created_at': datetime.datetime(2025, 1, 13, 8, 13, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586459226, 'issue_id': 2770371753, 'author': 'pedrobaeza', 'body': 'The problem I see is that AEAT comes in the future claiming about some ""weird"" dates there and provokes any fine. Not filling it, you don\'t have to explain anything. It\'s also not clear the impact of this date on taxes changes like the ones we have had (from 4% to 0% to 2% and back to 4%). But as you prefer. For now, we are leaving as is in the OCA module.', 'created_at': datetime.datetime(2025, 1, 13, 8, 17, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:41:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192467.png)](https://mergebot.odoo.com/odoo/odoo/pull/192467)

pedrobaeza on (2025-01-12 15:16:51 UTC): FYI, for SII, we have been discussing about this in https://github.com/OCA/l10n-spain/issues/3858. First of all, it's not clear which is the exact role of the operation date in accounting/fiscal terms, and the second one, it's the fact of allowing users to screw easily this information. In the OCA counterpart, we have been sending invoices without operation date with no known problems for 8 years for now.

chklop on (2025-01-13 08:13:26 UTC): Hello @pedrobaeza, thanks for the feedback. I agree that the ""FechaOperacion"" is not very well defined in the documentation, and I also agree on the fact that following my understanding this should have no impact on the accounting computation of amounts.
But this field has been requested in some cases, and we've found an elegant way of allowing users to use it by just using the standard ""Delivery Date"" field on invoices. This field has no accounting impact, can be used manually to give an additional info on the delivery (for goods it's the actually delivery, for services it would be the end of work) that can then be reflected as additional information in the EDI.
We have added that in our TicketBAI implementation as well some months ago and we feel it's a good idea to align the behaviour here as well.
If by any chance you have a definitive proof or analysis to show that this is completely incorrect, I'm open to change my mind on that subject.

pedrobaeza on (2025-01-13 08:17:21 UTC): The problem I see is that AEAT comes in the future claiming about some ""weird"" dates there and provokes any fine. Not filling it, you don't have to explain anything. It's also not clear the impact of this date on taxes changes like the ones we have had (from 4% to 0% to 2% and back to 4%). But as you prefer. For now, we are leaving as is in the OCA module.

"
2770366288,pull_request,closed,,[IMP] mail: make /leave close chat windows,task-4452932,phenix-factory,2025-01-06 10:38:40+00:00,[],2025-01-06 12:05:52+00:00,2025-01-06 12:04:14+00:00,https://github.com/odoo/odoo/pull/192466,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572835737, 'issue_id': 2770366288, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192466.png)](https://mergebot.odoo.com/odoo/odoo/pull/192466)', 'created_at': datetime.datetime(2025, 1, 6, 10, 38, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:38:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192466.png)](https://mergebot.odoo.com/odoo/odoo/pull/192466)

"
2770353716,pull_request,closed,,[FW][FIX] pos_stripe: consistency on Stripe API calls,"Before this commit:
pos_stripe doesn't specify a Stripe version when doing its requests. Because of this, Stripe defaults to the API version defined on the Stripe account. This varies from customer to customer, as it is automatically configured to use the latest API version available when the first API request is received. Stripe regularly makes breaking changes to their API:
https://docs.stripe.com/changelog?breaking=true
for example removing the `charges` attribute:
https://docs.stripe.com/changelog/2022-11-15/removes-charges-attribute-paymentintent
which we use in pos_stripe.

After this commit:
We rely on payment_stripe._stripe_make_request which hardcode the API version number. Such change was already started in `pos_stripe.stripe_capture_payment`

opw-4375876

Forward-Port-Of: odoo/odoo#192008",fw-bot,2025-01-06 10:31:30+00:00,[],2025-01-22 13:52:51+00:00,2025-01-08 13:41:39+00:00,https://github.com/odoo/odoo/pull/192465,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572823683, 'issue_id': 2770353716, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192465.png)](https://mergebot.odoo.com/odoo/odoo/pull/192465)', 'created_at': datetime.datetime(2025, 1, 6, 10, 31, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572823701, 'issue_id': 2770353716, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 10, 31, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:31:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192465.png)](https://mergebot.odoo.com/odoo/odoo/pull/192465)

fw-bot (Issue Creator) on (2025-01-06 10:31:32 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770351844,pull_request,open,,[FIX] sale_project: fix issue with SQL constraint causing to create SOL without product,"Steps to reproduce:

- In any of the SOL Many2one field with create=True.
- Create a SOL using create option in dropdown.

Issue:

- A SOL is created without product.

Reason:

- Incorrect SQL constraint passed .

Fix:

- Adding a validation error which is tapped in if Many2one quick create i.e.,
Create option fails and opens the Many2X form.

- We cant change the SQL contraint because it is only applied when module
is intalled/updated/reinstalled.

---
Why the SQL contsraint fails

""CHECK(display_type IS NOT NULL OR is_downpayment OR (product_id IS NOT NULL AND product_uom IS NOT NULL))""

Also is_downpayment doesnt have a default value.

Here consider we dont event send a single value all as nulls then result would
be

CHECK(NULL IS NOT NULL OR NULL OR (NULL IS NOT NULL AND NULL IS NOT NULL))

CHECK(FALSE OR NULL OR (FALSE AND FALSE)

CHECK(FALSE OR NULL OR FALSE)

CHECK(NULL)

SQL doesn't categorize NULL into truthy or falsy value.

For example a SQL constraint as
CHECK (row1 NOT NULL OR row2 ...(and N number of conditions)) -- will always
pass the check (even if you pass all the rows as NULL)

NULL OR NULL -- TRUE (passes the empty NULL column value as [null])
FALSE OR NULL -- TRUE (passes the empty NULL column value as [null])
TRUE OR NULL -- TRUE

It there is another column which has value it glady create a row with values
and [null]/empty value for others.

task-4441043

Co-Authored By - @xavierbol ",kthe-odoo,2025-01-06 10:30:29+00:00,[],2025-02-05 05:19:37+00:00,,https://github.com/odoo/odoo/pull/192464,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572822036, 'issue_id': 2770351844, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192464.png)](https://mergebot.odoo.com/odoo/odoo/pull/192464)', 'created_at': datetime.datetime(2025, 1, 6, 10, 30, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606528124, 'issue_id': 2770351844, 'author': 'xavierbol', 'body': 'Hello @kcv-odoo \r\n\r\nThanks for your feedback! \r\n\r\nI don\'t agree to remove the quick create on those views just because someone does not take into account `null` value on `is_downpayment` inside the SQL constraint (or maybe, that field should have a default value?).\r\n\r\nHowever, I agree we cannot fix the sql constraint in stable but in master we should fix it while this sql constraint exists (or adding a default value on `is_downpayment` and doing a migration script to make sure that field is no longer `NULL`).\r\n\r\nAlso, you said you don\'t want to fix the sql constraint but you agree to do a equivalent ""constraint"" inside the create method? Seems strange to me. 🤔\r\n\r\nIf we would to keep that check/constraint than we could eventually add a python constraint instead of checking `vals` inside the create method but our logic uses a specific context to do the quick create, so we probably just need to first check if the context is there if yes then we just check if the product is there.\r\n\r\nFYI, I give an alternative solution to @kthe-odoo , we will see if it is better than the current solution or not. 🙂\r\n\r\ncc @Feyensv', 'created_at': datetime.datetime(2025, 1, 22, 7, 57, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606657410, 'issue_id': 2770351844, 'author': 'kcv-odoo', 'body': 'Hello @xavierbol\r\n\r\n> you said you don\'t want to fix the sql constraint but you agree to do a equivalent ""constraint"" inside the create method? Seems strange to me. 🤔\r\n\r\nNo, we also don\'t want to do equivalent in create method also because in 18.0+ (it\'s okay before 18.0) we added EDI for order and where product on SOL can be empty and it should not prevent SO creation [we actually noticed](https://github.com/odoo/odoo/pull/172450#discussion_r1761227183) constraint was not triggering but it was actually good thing for EDI as we want to create SOL without product for EDI', 'created_at': datetime.datetime(2025, 1, 22, 9, 4, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609415302, 'issue_id': 2770351844, 'author': 'Feyensv', 'body': ""Not sure I understood the whole issue in detail, but if a default value on `is_downpayment` is enough, I don't mind adding it."", 'created_at': datetime.datetime(2025, 1, 23, 10, 18, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:30:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192464.png)](https://mergebot.odoo.com/odoo/odoo/pull/192464)

xavierbol on (2025-01-22 07:57:38 UTC): Hello @kcv-odoo 

Thanks for your feedback! 

I don't agree to remove the quick create on those views just because someone does not take into account `null` value on `is_downpayment` inside the SQL constraint (or maybe, that field should have a default value?).

However, I agree we cannot fix the sql constraint in stable but in master we should fix it while this sql constraint exists (or adding a default value on `is_downpayment` and doing a migration script to make sure that field is no longer `NULL`).

Also, you said you don't want to fix the sql constraint but you agree to do a equivalent ""constraint"" inside the create method? Seems strange to me. 🤔

If we would to keep that check/constraint than we could eventually add a python constraint instead of checking `vals` inside the create method but our logic uses a specific context to do the quick create, so we probably just need to first check if the context is there if yes then we just check if the product is there.

FYI, I give an alternative solution to @kthe-odoo , we will see if it is better than the current solution or not. 🙂

cc @Feyensv

kcv-odoo on (2025-01-22 09:04:23 UTC): Hello @xavierbol


No, we also don't want to do equivalent in create method also because in 18.0+ (it's okay before 18.0) we added EDI for order and where product on SOL can be empty and it should not prevent SO creation [we actually noticed](https://github.com/odoo/odoo/pull/172450#discussion_r1761227183) constraint was not triggering but it was actually good thing for EDI as we want to create SOL without product for EDI

Feyensv on (2025-01-23 10:18:06 UTC): Not sure I understood the whole issue in detail, but if a default value on `is_downpayment` is enough, I don't mind adding it.

"
2770349367,pull_request,closed,,[IMP] account: unified the labelling of account.move.line,"In list view and reports, the accounting entries were displayed in different manners. Sometimes in a stupid way (name of the move repeated twice).

This commit aims to give a single and unified way to display them.

ticket-4440711




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qdp-odoo,2025-01-06 10:29:07+00:00,[],2025-01-24 19:16:46+00:00,2025-01-10 18:56:38+00:00,https://github.com/odoo/odoo/pull/192463,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572819811, 'issue_id': 2770349367, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192463.png)](https://mergebot.odoo.com/odoo/odoo/pull/192463)', 'created_at': datetime.datetime(2025, 1, 6, 10, 29, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:29:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192463.png)](https://mergebot.odoo.com/odoo/odoo/pull/192463)

"
2770342795,pull_request,closed,,[FIX] account: replace type of product in test,"Issue:
- run the `test_account_manager_user_can_create_product` with `account`and its dependencies as the only modules installed
- error is given as `product` is not a valid product type (it is added in the `stock` module)

Solution:
- replace `product` with a product type that is defined in one of the dependencies




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",emi-odoo,2025-01-06 10:25:23+00:00,[],2025-01-21 10:54:39+00:00,2025-01-07 10:34:37+00:00,https://github.com/odoo/odoo/pull/192462,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572813499, 'issue_id': 2770342795, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192462.png)](https://mergebot.odoo.com/odoo/odoo/pull/192462)', 'created_at': datetime.datetime(2025, 1, 6, 10, 25, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:25:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192462.png)](https://mergebot.odoo.com/odoo/odoo/pull/192462)

"
2770331777,pull_request,closed,,[FW][16.0][FIX] web: login page should not be cached,"**Description of the issue/feature this PR addresses:**
When odoo is deployed with Reverse Proxy , like cloudflare, and cache rule is enabled. 
The login page is cached by cloudflare,  ""Cf-Cache-Status"" is set to ""HIT"" in the reponse header
![image](https://github.com/user-attachments/assets/51187a2e-476b-414b-a396-4af15ed26df7)

But in the html content, csrf_token is unavailable.
![image](https://github.com/user-attachments/assets/6a8d81e6-3270-466a-b292-789a9473657e)

Error when try to login.
![image](https://github.com/user-attachments/assets/f8cd7fa1-f08e-49af-adc6-7109f24bca17)

**Current behavior before PR:**
User can not login.

**Desired behavior after PR is merged:**
User can login.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191453",fw-bot,2025-01-06 10:19:25+00:00,[],2025-01-29 13:53:08+00:00,2025-01-15 13:50:30+00:00,https://github.com/odoo/odoo/pull/192461,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572802512, 'issue_id': 2770331777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192461.png)](https://mergebot.odoo.com/odoo/odoo/pull/192461)', 'created_at': datetime.datetime(2025, 1, 6, 10, 19, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572802535, 'issue_id': 2770331777, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 10, 19, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:19:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192461.png)](https://mergebot.odoo.com/odoo/odoo/pull/192461)

fw-bot (Issue Creator) on (2025-01-06 10:19:27 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770331546,pull_request,closed,,[FW][FIX] base: website is not shown in the contact qweb widget,"**Affects**
16.0+

**Steps to reproduce:**

- Render the Contact qweb widget with fields [""phone"", ""website""]

```py
Contact = self.env[""ir.qweb.field.contact""]
partner = self.env[""res.partner""].create(
    {
        ""name"": ""Test Partner"",
        ""phone"": ""1234567890"",
        ""website"": ""https://www.example.com"",
    }
)
result = Contact.value_to_html(partner, {""fields"": [""phone"", ""website""]})
```

**Result:**

- The website is not shown

---

This is a regression introduced in 9e53aea9, in combination with some buggy behavior in the qweb compilation.

Somehow the `t-elif` condition is applying on the next element instead on itself, hiding the website item. I did not investigate this further.


ping @lvsz @ryv-odoo

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191201",fw-bot,2025-01-06 10:19:18+00:00,[],2025-01-27 14:16:53+00:00,2025-01-13 13:29:48+00:00,https://github.com/odoo/odoo/pull/192460,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2572802294, 'issue_id': 2770331546, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192460.png)](https://mergebot.odoo.com/odoo/odoo/pull/192460)', 'created_at': datetime.datetime(2025, 1, 6, 10, 19, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572802316, 'issue_id': 2770331546, 'author': 'fw-bot', 'body': '@ivantodorovich @ryv-odoo cherrypicking of pull request odoo/odoo#191201 failed.\n\nstdout:\n```\nAuto-merging odoo/addons/base/views/ir_qweb_widget_templates.xml\nCONFLICT (content): Merge conflict in odoo/addons/base/views/ir_qweb_widget_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 10, 19, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587767, 'issue_id': 2770331546, 'author': 'fw-bot', 'body': '@ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000483, 'issue_id': 2770331546, 'author': 'fw-bot', 'body': '@ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541889, 'issue_id': 2770331546, 'author': 'fw-bot', 'body': '@ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586047153, 'issue_id': 2770331546, 'author': 'fw-bot', 'body': '@ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 2, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586450842, 'issue_id': 2770331546, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 12, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:19:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192460.png)](https://mergebot.odoo.com/odoo/odoo/pull/192460)

fw-bot (Issue Creator) on (2025-01-06 10:19:20 UTC): @ivantodorovich @ryv-odoo cherrypicking of pull request odoo/odoo#191201 failed.

stdout:
```
Auto-merging odoo/addons/base/views/ir_qweb_widget_templates.xml
CONFLICT (content): Merge conflict in odoo/addons/base/views/ir_qweb_widget_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-10 02:01:45 UTC): @ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:31 UTC): @ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:58 UTC): @ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:02:28 UTC): @ivantodorovich @ryv-odoo this forward port of odoo/odoo#191201 is awaiting action (not merged or closed).

ryv-odoo on (2025-01-13 08:12:17 UTC): @robodoo r+

"
2770330573,pull_request,closed,,[FIX] account_edi_ubl_cii: default company currency for currency not found,"This error occurs when uploading a ``factur-x.xml`` file that lacks currency information or when the ``factur-x.xml`` file we generate does not include any currency.

Steps to reproduce:
---
- Install ``account_edi_ubl_cii`` module
- Invoicing > Customers > Invoices
- Click ``Upload`` button and upload [file](https://drive.google.com/drive/u/0/folders/1TrG7xBUdwdq04KueZi0WdxHxm_g0vfW_)

Traceback:
---
NotNullViolation: null value in column ""currency_id"" of relation ""account_move_line"" violates not-null constraint DETAIL:  Failing row contains (50, 50, 9, 1, 125, 100, 205, null, 56, null, null, null, null, null, null, null, null, null, null, null, 2, 2, null, null, null, NEWS9141525, null, product, null, null, null, null, null, 0.00, 0.00, 0.00, 0.0, null, null, null, 1.00, 109.72, null, null, 0.00000000000000000000000000000000000000000000000000000000000000..., null, null, null, null, null, 2025-01-02 01:03:08.880424, 2025-01-02 01:03:08.880424, null, null, null, null, null, null, null, null, null).

This commit resolves the issue by adding the default company currency when no currency is found in the file.

sentry-6056586239

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-01-06 10:18:44+00:00,[],2025-01-21 12:01:06+00:00,2025-01-07 11:56:21+00:00,https://github.com/odoo/odoo/pull/192459,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572801301, 'issue_id': 2770330573, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192459.png)](https://mergebot.odoo.com/odoo/odoo/pull/192459)', 'created_at': datetime.datetime(2025, 1, 6, 10, 18, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574567955, 'issue_id': 2770330573, 'author': 'aamo-odoo', 'body': 'Hey @antoine162 \r\n\r\nRequested changes are done.\r\nPlease review this.\r\n\r\nThanks :)', 'created_at': datetime.datetime(2025, 1, 7, 7, 31, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:18:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192459.png)](https://mergebot.odoo.com/odoo/odoo/pull/192459)

aamo-odoo (Issue Creator) on (2025-01-07 07:31:40 UTC): Hey @antoine162 

Requested changes are done.
Please review this.

Thanks :)

"
2770329470,pull_request,closed,,[FIX] l10n_eu_oss: adapt Czech tax mapping from 15% to 12%,"Issue:
In Czech Republic, the rate of the 15% tax has changed to 12%. The new rate has already been handled in l10n_cz, but the OSS mapping still uses the old rate.

opw-4310264



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-06 10:18:06+00:00,[],2025-01-20 17:37:44+00:00,2025-01-06 17:37:45+00:00,https://github.com/odoo/odoo/pull/192458,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572800186, 'issue_id': 2770329470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192458.png)](https://mergebot.odoo.com/odoo/odoo/pull/192458)', 'created_at': datetime.datetime(2025, 1, 6, 10, 18, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573362658, 'issue_id': 2770329470, 'author': 'kitan191', 'body': ""@svfu-odoo Indeed.\r\n\r\nIt's done.\r\n\r\nThanks for the review. :slightly_smiling_face:"", 'created_at': datetime.datetime(2025, 1, 6, 15, 36, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573370743, 'issue_id': 2770329470, 'author': 'svfu-odoo', 'body': 'LGTM :+1: \r\n@h4818 for final review', 'created_at': datetime.datetime(2025, 1, 6, 15, 40, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:18:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192458.png)](https://mergebot.odoo.com/odoo/odoo/pull/192458)

kitan191 (Issue Creator) on (2025-01-06 15:36:35 UTC): @svfu-odoo Indeed.

It's done.

Thanks for the review. :slightly_smiling_face:

svfu-odoo on (2025-01-06 15:40:37 UTC): LGTM :+1: 
@h4818 for final review

"
2770329468,pull_request,open,,[FIX] mail: remove collapse/expand feature panel,"Purpose of this commit is to remove collapse/expand feature.

task-4448888




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",maad-odoo,2025-01-06 10:18:06+00:00,[],2025-02-05 05:27:28+00:00,,https://github.com/odoo/odoo/pull/192457,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572800208, 'issue_id': 2770329468, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192457.png)](https://mergebot.odoo.com/odoo/odoo/pull/192457)', 'created_at': datetime.datetime(2025, 1, 6, 10, 18, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 10:18:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192457.png)](https://mergebot.odoo.com/odoo/odoo/pull/192457)

"
2770265775,pull_request,closed,,[FIX] discuss: ensures that volume settings are used,"Since https://github.com/odoo/odoo/pull/169691, the user volumes were not correctly searched from the settings, this commit fixes this issue.

",ThanhDodeurOdoo,2025-01-06 09:44:19+00:00,[],2025-01-07 11:41:59+00:00,2025-01-07 11:08:47+00:00,https://github.com/odoo/odoo/pull/192456,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572740891, 'issue_id': 2770265775, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192456.png)](https://mergebot.odoo.com/odoo/odoo/pull/192456)', 'created_at': datetime.datetime(2025, 1, 6, 9, 44, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:44:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192456.png)](https://mergebot.odoo.com/odoo/odoo/pull/192456)

"
2770259408,pull_request,closed,,[FW][IMP] hr_contract: fix contract count on stat button,"- add check on `employee_id` to the contract domain to exclude templates from the contract count on the stat buttons as it gives misleading info about the real contracts count

Task: 4402795

Forward-Port-Of: odoo/odoo#192145",fw-bot,2025-01-06 09:40:55+00:00,[],2025-01-22 10:10:18+00:00,2025-01-08 10:01:07+00:00,https://github.com/odoo/odoo/pull/192455,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2572735024, 'issue_id': 2770259408, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192455.png)](https://mergebot.odoo.com/odoo/odoo/pull/192455)', 'created_at': datetime.datetime(2025, 1, 6, 9, 40, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572735041, 'issue_id': 2770259408, 'author': 'fw-bot', 'body': '@amah-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192424\n* odoo/odoo#192423\n* odoo/odoo#192418\n* odoo/odoo#192411\n* odoo/odoo#192394\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 9, 40, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248932, 'issue_id': 2770259408, 'author': 'fw-bot', 'body': '@amah-odoo @tivisse this forward port of odoo/odoo#192145 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557610, 'issue_id': 2770259408, 'author': 'fw-bot', 'body': '@amah-odoo @tivisse this forward port of odoo/odoo#192145 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577023347, 'issue_id': 2770259408, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 17, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:40:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192455.png)](https://mergebot.odoo.com/odoo/odoo/pull/192455)

fw-bot (Issue Creator) on (2025-01-06 09:40:57 UTC): @amah-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192424
* odoo/odoo#192423
* odoo/odoo#192418
* odoo/odoo#192411
* odoo/odoo#192394

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:21 UTC): @amah-odoo @tivisse this forward port of odoo/odoo#192145 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:18 UTC): @amah-odoo @tivisse this forward port of odoo/odoo#192145 is awaiting action (not merged or closed).

Bertrand2 on (2025-01-08 08:17:50 UTC): robodoo r+

"
2770243946,pull_request,closed,,[FW][FIX] hr_holidays: resource leave should exist if not fully covered by public holiday,"to reproduce:
=============
- create a leave for an employee of 3 days
- create a public holiday that happens to be in the middle of the employee leave
- check work entries for the employee on that period -> only work entries of the public holiday are created

Problem:
========
- when the public holiday was created, the leave was not split to take into account the public holiday

Solution:
=========
- split the leave to take into account the public holiday

opw-4353988

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192376
Forward-Port-Of: odoo/odoo#191552",fw-bot,2025-01-06 09:32:26+00:00,[],2025-01-20 22:17:37+00:00,2025-01-06 22:06:44+00:00,https://github.com/odoo/odoo/pull/192454,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2572721061, 'issue_id': 2770243946, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192454.png)](https://mergebot.odoo.com/odoo/odoo/pull/192454)', 'created_at': datetime.datetime(2025, 1, 6, 9, 32, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572721076, 'issue_id': 2770243946, 'author': 'fw-bot', 'body': '@abla001 @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192426\n* odoo/odoo#192425\n* odoo/odoo#192422\n* odoo/odoo#192419\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 9, 32, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572730214, 'issue_id': 2770243946, 'author': 'abla001', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 37, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572730288, 'issue_id': 2770243946, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 37, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572730377, 'issue_id': 2770243946, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 6, 9, 38, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:32:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192454.png)](https://mergebot.odoo.com/odoo/odoo/pull/192454)

fw-bot (Issue Creator) on (2025-01-06 09:32:29 UTC): @abla001 @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192426
* odoo/odoo#192425
* odoo/odoo#192422
* odoo/odoo#192419

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abla001 on (2025-01-06 09:37:55 UTC): @robodoo r+

tivisse on (2025-01-06 09:37:58 UTC): @robodoo r+

robodoo on (2025-01-06 09:38:01 UTC): This PR is already reviewed, reviewing it again is useless.

"
2770223012,pull_request,closed,,[FW][FIX] pos_stripe: consistency on Stripe API calls,"Before this commit:
pos_stripe doesn't specify a Stripe version when doing its requests. Because of this, Stripe defaults to the API version defined on the Stripe account. This varies from customer to customer, as it is automatically configured to use the latest API version available when the first API request is received. Stripe regularly makes breaking changes to their API:
https://docs.stripe.com/changelog?breaking=true
for example removing the `charges` attribute:
https://docs.stripe.com/changelog/2022-11-15/removes-charges-attribute-paymentintent
which we use in pos_stripe.

After this commit:
We rely on payment_stripe._stripe_make_request which hardcode the API version number. Such change was already started in `pos_stripe.stripe_capture_payment`

opw-4375876

Forward-Port-Of: odoo/odoo#192008",fw-bot,2025-01-06 09:24:45+00:00,[],2025-01-22 12:21:44+00:00,2025-01-08 12:19:27+00:00,https://github.com/odoo/odoo/pull/192453,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572661617, 'issue_id': 2770223012, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192453.png)](https://mergebot.odoo.com/odoo/odoo/pull/192453)', 'created_at': datetime.datetime(2025, 1, 6, 9, 24, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572661648, 'issue_id': 2770223012, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 9, 24, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:24:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192453.png)](https://mergebot.odoo.com/odoo/odoo/pull/192453)

fw-bot (Issue Creator) on (2025-01-06 09:24:51 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2770212026,pull_request,closed,,[FIX] point_of_sale: fix pos preset name without partner,"Since https://github.com/odoo/odoo/pull/192154, selecting a preset indentified by name without a partner raise a traceback as we try to access the name of the partner which is undefined.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adgu-odoo,2025-01-06 09:18:44+00:00,[],2025-01-27 10:26:59+00:00,2025-01-13 10:22:12+00:00,https://github.com/odoo/odoo/pull/192452,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572650909, 'issue_id': 2770212026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192452.png)](https://mergebot.odoo.com/odoo/odoo/pull/192452)', 'created_at': datetime.datetime(2025, 1, 6, 9, 18, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586456310, 'issue_id': 2770212026, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 8, 15, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:18:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192452.png)](https://mergebot.odoo.com/odoo/odoo/pull/192452)

caburj on (2025-01-13 08:15:42 UTC): robodoo r+

"
2770200853,pull_request,closed,,[FW][FIX] mrp_subcontracting_dropshipping: test ok in 2025 from 862ede4,"In 862ede43e5910ae6954f3574f45c213e5d3a1886 the added test depended on
being in year 2024, so it failed in eg. 2025.

With this change we don't harcode the invoice name in assert data.

runbot-error-111390
opw-4050777

Forward-Port-Of: odoo/odoo#192192",fw-bot,2025-01-06 09:12:22+00:00,[],2025-01-20 17:30:37+00:00,2025-01-06 17:30:04+00:00,https://github.com/odoo/odoo/pull/192451,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2572640402, 'issue_id': 2770200853, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192451.png)](https://mergebot.odoo.com/odoo/odoo/pull/192451)', 'created_at': datetime.datetime(2025, 1, 6, 9, 12, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572640427, 'issue_id': 2770200853, 'author': 'fw-bot', 'body': '@nle-odoo @Xavier-Do cherrypicking of pull request odoo/odoo#192192 failed.\n\nstdout:\n```\nAuto-merging addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py\nCONFLICT (content): Merge conflict in addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 9, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573049723, 'issue_id': 2770200853, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 12, 51, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:12:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192451.png)](https://mergebot.odoo.com/odoo/odoo/pull/192451)

fw-bot (Issue Creator) on (2025-01-06 09:12:24 UTC): @nle-odoo @Xavier-Do cherrypicking of pull request odoo/odoo#192192 failed.

stdout:
```
Auto-merging addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py
CONFLICT (content): Merge conflict in addons/mrp_subcontracting_dropshipping/tests/test_anglo_saxon_valuation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-01-06 12:51:19 UTC): robodoo r+

"
2770196090,pull_request,closed,,[FIX] iot_box_image: image builder for new release,"As we merged lots of new IoT Box image improvements in `saas-18.1` by the time it was `master`, and fixed the related bugs and issues in `master` (soon to be `saas-18.2`), we now need to backport important fixes, so we can release a new image in `saas-18.1`.

Backport of:

- https://github.com/odoo/odoo/pull/191688,
- https://github.com/odoo/odoo/pull/192165,
- https://github.com/odoo/odoo/pull/191879,
- https://github.com/odoo/odoo/pull/192161,
- https://github.com/odoo/odoo/pull/191340.",loouis-t,2025-01-06 09:09:38+00:00,[],2025-01-21 16:57:18+00:00,2025-01-07 16:54:11+00:00,https://github.com/odoo/odoo/pull/192450,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572636084, 'issue_id': 2770196090, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192450.png)](https://mergebot.odoo.com/odoo/odoo/pull/192450)', 'created_at': datetime.datetime(2025, 1, 6, 9, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572972807, 'issue_id': 2770196090, 'author': 'loouis-t', 'body': '@robodoo help', 'created_at': datetime.datetime(2025, 1, 6, 12, 3, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572972858, 'issue_id': 2770196090, 'author': 'robodoo', 'body': 'Currently available commands for @loouis-t:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR.', 'created_at': datetime.datetime(2025, 1, 6, 12, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575189503, 'issue_id': 2770196090, 'author': 'loouis-t', 'body': 'hello @odoo/rd-security, this PR aims to fix issues regarding the next image release for IoT Boxes, could you have a look please?\r\n\r\n**Security issue**:\r\n\r\n`@http.route(\'/hw_posbox_homepage/update_git_tree\', auth=""none"", type=""jsonrpc"", methods=[\'POST\'], cors=\'*\')`: we forgot to rename a route type to `jsonrpc` forwardporting a commit.', 'created_at': datetime.datetime(2025, 1, 7, 12, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575287633, 'issue_id': 2770196090, 'author': 'mart-e', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 7, 13, 23, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575412050, 'issue_id': 2770196090, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 14, 22, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575412148, 'issue_id': 2770196090, 'author': 'robodoo', 'body': '@loouis-t @Ysoroko because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 7, 14, 22, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575414903, 'issue_id': 2770196090, 'author': 'loouis-t', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 7, 14, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575415019, 'issue_id': 2770196090, 'author': 'robodoo', 'body': ""@loouis-t you can't rebase-ff."", 'created_at': datetime.datetime(2025, 1, 7, 14, 24, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575417209, 'issue_id': 2770196090, 'author': 'Ysoroko', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 7, 14, 24, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575417303, 'issue_id': 2770196090, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 7, 14, 24, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575439935, 'issue_id': 2770196090, 'author': 'qle-odoo', 'body': ""Why not in stable version 18.0 \r\nWhy work for 18.1 while new build can't work with 17.0 ?\r\nBuild are done in stable version to avoid to manage compatibility with all minor versions"", 'created_at': datetime.datetime(2025, 1, 7, 14, 31, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575524383, 'issue_id': 2770196090, 'author': 'Ysoroko', 'body': ""> Why work for 18.1 while new build can't work with 17.0 ?\r\n\r\nas discussed on discord some new features which help to work with the iot box were only available in master / v18.2\r\nbackporting them all the way to 17.0 is risky and unnecessary as anyway as soon as the IoT Box is connected to the database we will `git checkout` to the associated version anyway"", 'created_at': datetime.datetime(2025, 1, 7, 15, 4, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575524987, 'issue_id': 2770196090, 'author': 'Ysoroko', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 7, 15, 4, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575525107, 'issue_id': 2770196090, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 7, 15, 4, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 09:09:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192450.png)](https://mergebot.odoo.com/odoo/odoo/pull/192450)

loouis-t (Issue Creator) on (2025-01-06 12:03:36 UTC): @robodoo help

robodoo on (2025-01-06 12:03:38 UTC): Currently available commands for @loouis-t:

|command||
|-|-|
|`help`|displays this help|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

loouis-t (Issue Creator) on (2025-01-07 12:38:51 UTC): hello @odoo/rd-security, this PR aims to fix issues regarding the next image release for IoT Boxes, could you have a look please?

**Security issue**:

`@http.route('/hw_posbox_homepage/update_git_tree', auth=""none"", type=""jsonrpc"", methods=['POST'], cors='*')`: we forgot to rename a route type to `jsonrpc` forwardporting a commit.

mart-e on (2025-01-07 13:23:01 UTC): @robodoo override=ci/security

Ysoroko on (2025-01-07 14:22:46 UTC): @robodoo r+

robodoo on (2025-01-07 14:22:49 UTC): @loouis-t @Ysoroko because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

loouis-t (Issue Creator) on (2025-01-07 14:24:00 UTC): @robodoo rebase-ff

robodoo on (2025-01-07 14:24:03 UTC): @loouis-t you can't rebase-ff.

Ysoroko on (2025-01-07 14:24:53 UTC): @robodoo rebase-ff

robodoo on (2025-01-07 14:24:56 UTC): Merge method set to rebase and fast-forward.

qle-odoo on (2025-01-07 14:31:05 UTC): Why not in stable version 18.0 
Why work for 18.1 while new build can't work with 17.0 ?
Build are done in stable version to avoid to manage compatibility with all minor versions

Ysoroko on (2025-01-07 15:04:28 UTC): as discussed on discord some new features which help to work with the iot box were only available in master / v18.2
backporting them all the way to 17.0 is risky and unnecessary as anyway as soon as the IoT Box is connected to the database we will `git checkout` to the associated version anyway

Ysoroko on (2025-01-07 15:04:42 UTC): @robodoo fw=no

robodoo on (2025-01-07 15:04:45 UTC): Disabled forward-porting.

"
2770126066,pull_request,closed,,[IMP] point_of_sale: image configuration for camera drivers,"As we updated the camera interface's logic, we need to add the new library to the IoT Box image. We also removed the python lib patching part, as it was only used by the old camera detection logic.

Enterprise PR: [https://github.com/odoo/enterprise/pull/76511](https://github.com/odoo/enterprise/pull/76511)
Task: 4432584",loouis-t,2025-01-06 08:31:58+00:00,[],2025-01-22 21:53:21+00:00,2025-01-08 20:47:10+00:00,https://github.com/odoo/odoo/pull/192449,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572561191, 'issue_id': 2770126066, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192449.png)](https://mergebot.odoo.com/odoo/odoo/pull/192449)', 'created_at': datetime.datetime(2025, 1, 6, 8, 32, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578121058, 'issue_id': 2770126066, 'author': 'Ysoroko', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 16, 36, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595246172, 'issue_id': 2770126066, 'author': 'loouis-t', 'body': 'Aslo backported to [16.0](https://github.com/odoo/odoo/pull/193009).', 'created_at': datetime.datetime(2025, 1, 16, 11, 15, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 08:32:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192449.png)](https://mergebot.odoo.com/odoo/odoo/pull/192449)

Ysoroko on (2025-01-08 16:36:37 UTC): @robodoo r+

loouis-t (Issue Creator) on (2025-01-16 11:15:14 UTC): Aslo backported to [16.0](https://github.com/odoo/odoo/pull/193009).

"
2770125334,pull_request,closed,,[FIX] l10n_es_edi_tbai: only use regime key 52 for simplified invoice,"**Steps to reproduce:**
- Install l10n_es_edi_tbai
- Switch to a Spanish company (e.g. ES Company)
- Create an invoice with ""Simplified Invoice Partner (ES)"" as customer
- Confirm the invoice
- Process the invoice with ""TicketBAI (ES)"" service

**Issue:**
The generated XML has 2 regime keys (02 and 52) for <ClaveRegimenIvaOpTrascendencia> that are not compatible with each other.
From the documentation, regime key ""52"" (for simplified invoices) can only be associated with regime key ""51"", which is not supported for the moment.

**Solution:**
If the ""Simplified Invoice Partner"" is used, only the regime key ""52"" is used.

opw-4332052
opw-4355424




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-06 08:31:30+00:00,[],2025-01-21 12:01:08+00:00,2025-01-07 12:00:52+00:00,https://github.com/odoo/odoo/pull/192448,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572560468, 'issue_id': 2770125334, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192448.png)](https://mergebot.odoo.com/odoo/odoo/pull/192448)', 'created_at': datetime.datetime(2025, 1, 6, 8, 31, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 08:31:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192448.png)](https://mergebot.odoo.com/odoo/odoo/pull/192448)

"
2770077854,pull_request,closed,,[FW][FIX] web_editor: reset selection when editable is empty,"**Problem**:
When selecting all content (`Ctrl+A`) in an empty editable area, the selection includes only a `<br>` element. This causes issues when interacting with non-selectable content inside the selection, leading to unexpected behavior.

**Solution**:
If the selection contains only on `br` element, reset the selection on click to avoid inconsistent states.

**Steps to Reproduce**:
1. Open the editor.
2. Press `Ctrl+A` to select all.
3. Click anywhere within the editable area to hide the toolbar.
4. Observe that the toolbar remains visible, and the selection state does not update.

opw-4438513

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192084",fw-bot,2025-01-06 08:03:04+00:00,[],2025-01-22 10:10:21+00:00,2025-01-08 10:01:24+00:00,https://github.com/odoo/odoo/pull/192447,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2572510151, 'issue_id': 2770077854, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192447.png)](https://mergebot.odoo.com/odoo/odoo/pull/192447)', 'created_at': datetime.datetime(2025, 1, 6, 8, 3, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572510187, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192410\n* odoo/odoo#192395\n* odoo/odoo#192374\n* odoo/odoo#192355\n* odoo/odoo#192335\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 8, 3, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572517846, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 8, 8, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249052, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574592423, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 7, 47, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574624045, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 7, 8, 5, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574634921, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 8, 11, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557713, 'issue_id': 2770077854, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577040347, 'issue_id': 2770077854, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 25, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 08:03:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192447.png)](https://mergebot.odoo.com/odoo/odoo/pull/192447)

fw-bot (Issue Creator) on (2025-01-06 08:03:06 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192410
* odoo/odoo#192395
* odoo/odoo#192374
* odoo/odoo#192355
* odoo/odoo#192335

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 08:08:14 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 02:01:26 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-07 07:47:39 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 08:05:35 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 08:11:25 UTC): @walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-08 02:01:24 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).

walidsahli on (2025-01-08 08:25:12 UTC): @robodoo r+

"
2770077562,pull_request,closed,,[FW][FIX] web_editor: delete backward on lists,"Current behavior before PR:

When multiple types of lists were selected and the deleteBackward operation was performed, the list type remained unchanged.

Desired behavior after PR is merged:

When deleteBackward is pressed with multiple types of lists selected, and all selected content is removed, if the anchor node's list item is empty, that list item type will change to match the type of the list where the deleteBackward operation started.

task:4187739

Forward-Port-Of: odoo/odoo#191915
Forward-Port-Of: odoo/odoo#180687",fw-bot,2025-01-06 08:02:53+00:00,[],2025-02-06 16:31:01+00:00,2025-01-23 16:08:07+00:00,https://github.com/odoo/odoo/pull/192446,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2572509863, 'issue_id': 2770077562, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192446.png)](https://mergebot.odoo.com/odoo/odoo/pull/192446)', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572509937, 'issue_id': 2770077562, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#180687 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/test/spec/editor.test.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/test/spec/editor.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558244, 'issue_id': 2770077562, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577289262, 'issue_id': 2770077562, 'author': 'dmo-odoo', 'body': ""@dhba-odoo Don't forget to implement in html_editor as well, if needed."", 'created_at': datetime.datetime(2025, 1, 8, 10, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594313874, 'issue_id': 2770077562, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 16, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607189909, 'issue_id': 2770077562, 'author': 'dhba-odoo', 'body': ""> @dhba-odoo Don't forget to implement in html_editor as well, if needed.\r\n\r\n@dmo-odoo I have adapted it for the html_editor"", 'created_at': datetime.datetime(2025, 1, 22, 13, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607216682, 'issue_id': 2770077562, 'author': 'dmo-odoo', 'body': '@dhba-odoo Thank you! I had a look but the tests are missing.', 'created_at': datetime.datetime(2025, 1, 22, 13, 12, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609547281, 'issue_id': 2770077562, 'author': 'dhba-odoo', 'body': '> @dhba-odoo Thank you! I had a look but the tests are missing.\r\n\r\n@dmo-odoo Done.', 'created_at': datetime.datetime(2025, 1, 23, 11, 20, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609711843, 'issue_id': 2770077562, 'author': 'dmo-odoo', 'body': '@dhba-odoo Thanks!\r\n@robodoo rebase-ff r+', 'created_at': datetime.datetime(2025, 1, 23, 12, 41, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609711899, 'issue_id': 2770077562, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 23, 12, 41, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 08:02:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192446.png)](https://mergebot.odoo.com/odoo/odoo/pull/192446)

fw-bot (Issue Creator) on (2025-01-06 08:02:57 UTC): @dhba-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#180687 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/test/spec/editor.test.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/test/spec/editor.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:52 UTC): @dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-08 10:09:42 UTC): @dhba-odoo Don't forget to implement in html_editor as well, if needed.

fw-bot (Issue Creator) on (2025-01-16 02:01:41 UTC): @dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).

dhba-odoo on (2025-01-22 13:01:18 UTC): @dmo-odoo I have adapted it for the html_editor

dmo-odoo on (2025-01-22 13:12:41 UTC): @dhba-odoo Thank you! I had a look but the tests are missing.

dhba-odoo on (2025-01-23 11:20:08 UTC): @dmo-odoo Done.

dmo-odoo on (2025-01-23 12:41:16 UTC): @dhba-odoo Thanks!
@robodoo rebase-ff r+

robodoo on (2025-01-23 12:41:18 UTC): Merge method set to rebase and fast-forward.

"
2770077289,pull_request,closed,,[FW][FIX] account: allow accountants to create products,"**Issue:**
Accountants cannot create products through Customer Invoice or Vendor Bill product lines.

![image](https://github.com/user-attachments/assets/fde7d8de-354f-46fa-861d-bfe55dcabfbd)

**Expected:**
Accountants should be allowed to manage the products database.

**Steps to reproduce:**
- Activate Invoicing app;
- Configure a branch to the company;
- Create a user with an accounting `Accountant` role and set the branch company as only entry in Allowed Companies and as Default Company;

![Capture d’écran 2024-12-10 à 18 04 55](https://github.com/user-attachments/assets/bc0fae3f-cff4-4e73-9eb9-f86d5285ba6d)

- Log in as that new user;
- Try create a new product through a Customer Invoice or a Vendor Bill.

**Cause:**
The `Accountant` role itself has no right on products.

**Fix:**
Reset a previously removed (february 2023 (saas-16.2) odoo/odoo@512574861691f425ec6a17f20fe4b586bb88a299) access right on `product_template` for group `group_account_manager`.

![Capture d’écran 2024-12-10 à 18 14 38](https://github.com/user-attachments/assets/8902ceee-6b97-4522-8505-3f72a0260226)

**Note:**
This PR replaces https://github.com/odoo/enterprise/pull/75453 after discussion with reviewer.


opw-4293151

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190360",fw-bot,2025-01-06 08:02:43+00:00,[],2025-01-22 23:46:36+00:00,2025-01-08 23:12:16+00:00,https://github.com/odoo/odoo/pull/192445,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2572509619, 'issue_id': 2770077289, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192445.png)](https://mergebot.odoo.com/odoo/odoo/pull/192445)', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572509639, 'issue_id': 2770077289, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572571918, 'issue_id': 2770077289, 'author': 'fw-bot', 'body': '@barracudapps @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 6, 8, 38, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249742, 'issue_id': 2770077289, 'author': 'fw-bot', 'body': '@barracudapps @william-andre this forward port of odoo/odoo#190360 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575210473, 'issue_id': 2770077289, 'author': 'william-andre', 'body': '@barracudapps The error in `test_account_manager_user_can_create_product` seems very much related to this PR...\r\n\r\nAlways read the error before trying to rebuild it.', 'created_at': datetime.datetime(2025, 1, 7, 12, 44, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575240099, 'issue_id': 2770077289, 'author': 'barracudapps', 'body': ""@william-andre \r\nIndeed, I usually to have to rebuild several times without any reason so I did it here.\r\nAs today is a stock day, I'll work on it tomorrow."", 'created_at': datetime.datetime(2025, 1, 7, 12, 58, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558043, 'issue_id': 2770077289, 'author': 'fw-bot', 'body': '@barracudapps @william-andre this forward port of odoo/odoo#190360 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577426724, 'issue_id': 2770077289, 'author': 'h4818', 'body': '@barracudapps could we please change the product type to consumable\r\nwe can then stop the fw port of https://github.com/odoo/odoo/pull/192462', 'created_at': datetime.datetime(2025, 1, 8, 11, 19, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577806688, 'issue_id': 2770077289, 'author': 'fw-bot', 'body': '@barracudapps @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 8, 14, 27, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577809001, 'issue_id': 2770077289, 'author': 'barracudapps', 'body': ""@h4818 \r\nDid it and it even is supposed to solve the encountered issue. We'll see after runbot ends testing"", 'created_at': datetime.datetime(2025, 1, 8, 14, 28, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 08:02:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192445.png)](https://mergebot.odoo.com/odoo/odoo/pull/192445)

fw-bot (Issue Creator) on (2025-01-06 08:02:45 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 08:38:38 UTC): @barracudapps @william-andre ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 02:01:51 UTC): @barracudapps @william-andre this forward port of odoo/odoo#190360 is awaiting action (not merged or closed).

william-andre on (2025-01-07 12:44:07 UTC): @barracudapps The error in `test_account_manager_user_can_create_product` seems very much related to this PR...

Always read the error before trying to rebuild it.

barracudapps on (2025-01-07 12:58:32 UTC): @william-andre 
Indeed, I usually to have to rebuild several times without any reason so I did it here.
As today is a stock day, I'll work on it tomorrow.

fw-bot (Issue Creator) on (2025-01-08 02:01:41 UTC): @barracudapps @william-andre this forward port of odoo/odoo#190360 is awaiting action (not merged or closed).

h4818 on (2025-01-08 11:19:24 UTC): @barracudapps could we please change the product type to consumable
we can then stop the fw port of https://github.com/odoo/odoo/pull/192462

fw-bot (Issue Creator) on (2025-01-08 14:27:25 UTC): @barracudapps @william-andre this PR was modified / updated and has become a normal PR. It must be merged directly.

barracudapps on (2025-01-08 14:28:26 UTC): @h4818 
Did it and it even is supposed to solve the encountered issue. We'll see after runbot ends testing

"
2770077040,pull_request,closed,,[FW][FIX] product: fix traceback when deleting the archived product variants,"Currently, a traceback is occurring when the user tries to delete archived product variants.

To reproduce this issue:

1) Install sale and enable product variants from configuration 
2) Create a product from the variant and archive it
3) Now try to delete the above archived product.

Error:- 
```
KeyError: 2
```

When the user archives a product and tries to delete the archived product, 
we get the `product_ids_by_template_id` as an empty dict.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L384-L388

This leads to the above traceback when accessing the product template id from an empty dict
from the below line.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L395

sentry-6173505059

Forward-Port-Of: odoo/odoo#191761",fw-bot,2025-01-06 08:02:33+00:00,[],2025-01-20 13:11:09+00:00,2025-01-06 12:20:12+00:00,https://github.com/odoo/odoo/pull/192444,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2572509424, 'issue_id': 2770077040, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192444.png)](https://mergebot.odoo.com/odoo/odoo/pull/192444)', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572509436, 'issue_id': 2770077040, 'author': 'fw-bot', 'body': '@alsh-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192403\n* odoo/odoo#192389\n* odoo/odoo#192369\n* odoo/odoo#192352\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572565550, 'issue_id': 2770077040, 'author': 'alsh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 34, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 08:02:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192444.png)](https://mergebot.odoo.com/odoo/odoo/pull/192444)

fw-bot (Issue Creator) on (2025-01-06 08:02:36 UTC): @alsh-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192403
* odoo/odoo#192389
* odoo/odoo#192369
* odoo/odoo#192352

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alsh-odoo on (2025-01-06 08:34:21 UTC): @robodoo r+

"
2770028804,pull_request,open,,[ADD] delivery_shipper,"Add a new integration with Shipper

4229748

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kaju-odoo,2025-01-06 07:31:54+00:00,[],2025-01-14 01:56:53+00:00,,https://github.com/odoo/odoo/pull/192443,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572479548, 'issue_id': 2770028804, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192443.png)](https://mergebot.odoo.com/odoo/odoo/pull/192443)', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 07:39:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192443.png)](https://mergebot.odoo.com/odoo/odoo/pull/192443)

"
2770020772,pull_request,open,,[IMP] l10n_in_*: Divide Fiscal Localisation for l10n_in,"with this PR:
- Introduced two separate fiscal localizations for India:
  - India(Basic): Covers normal accounting features without taxes (no GST, TDS/TCS).
  - India(Advanced): Includes comprehensive tax handling (GST, TDS/TCS).

- Users can switch from India - Basic to India - Advanced. However, once switched to India - Advanced, users cannot revert to India - Basic to ensure consistency in tax reporting and compliance.

task - 4356554

Enterprise: https://github.com/odoo/enterprise/pull/76510",bhra-odoo,2025-01-06 07:26:23+00:00,[],2025-02-03 06:10:19+00:00,,https://github.com/odoo/odoo/pull/192442,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572479513, 'issue_id': 2770020772, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192442.png)](https://mergebot.odoo.com/odoo/odoo/pull/192442)', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 07:39:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192442.png)](https://mergebot.odoo.com/odoo/odoo/pull/192442)

"
2770001214,pull_request,closed,,[FIX] html_editor: ctrl+click on styled link should open the link,"Description of the issue this PR addresses:

Current behavior before PR:

Ctrl+clicking on a styled link is ineffective since the target is the styled element.

Desired behavior after PR is merged:

Ensure the target is the closest anchor tag.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deso-odoo,2025-01-06 07:15:33+00:00,[],2025-01-20 13:31:57+00:00,2025-01-06 13:28:22+00:00,https://github.com/odoo/odoo/pull/192441,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572450472, 'issue_id': 2770001214, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 7, 21, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572479444, 'issue_id': 2770001214, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192441.png)](https://mergebot.odoo.com/odoo/odoo/pull/192441)', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 41, tzinfo=datetime.timezone.utc)}]","dmo-odoo on (2025-01-06 07:21:45 UTC): @robodoo r+

robodoo on (2025-01-06 07:39:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192441.png)](https://mergebot.odoo.com/odoo/odoo/pull/192441)

"
2769999747,pull_request,closed,,"[FIX] {sale_purchase_,}stock: capture accurate dest. location in forecast","**Current behavior:**
The `report.stock.quantity` view may attribute and incorrect
destination location with a move when building the report:

Specifically, it will coalesce a move's `location_dest_id` and
`location_final_id` regardless of the state of the move and
where the product qty was actually transferred to.

**Expected behavior:**
If the move is completed, the actual location of where it moved
product should be used to fill in the destination location.

**Steps to reproduce:**
1. Enable 2-step delivery

2. Create an in move for some tracked productA -> validate

3. Create a sale order for the same productA, confirm, then
validate the first picking in the chain

4. Look at the forecast for productA, observe that it has the
positive quantity from the in move furter in the past then it
should

**Cause of the issue:**
When a StockMove was completed, it's `location_final_id` was
taken over its `location_dest_id`, which meant the actual
location that the move transferred product to was not reflected
in the quantity report, meaning you could have a case as
described above where the forecast quantity becomes imbalanced
because it is not properly counting moves against would-be
offsetting ones.

**Fix:**
Don't prefer `location_final_id` when `move.state == 'done'`.

opw-4311583",ethanrobv,2025-01-06 07:14:29+00:00,[],2025-01-27 08:57:58+00:00,2025-01-27 08:57:58+00:00,https://github.com/odoo/odoo/pull/192440,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2572479407, 'issue_id': 2769999747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192440.png)](https://mergebot.odoo.com/odoo/odoo/pull/192440)', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615001781, 'issue_id': 2769999747, 'author': 'adwid', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 27, 7, 19, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 07:39:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192440.png)](https://mergebot.odoo.com/odoo/odoo/pull/192440)

adwid on (2025-01-27 07:19:23 UTC): robodoo r+

"
2769962452,pull_request,closed,,[FIX] l10n_it_edi: prevent error when downloading invoice,"This error occurs when an invoice is not initially sent to the tax agency, but we later attempt to print it and send it to the agency.

Steps to reproduce:
---
- Install ``l10n_it_edi`` module
- Switch to ``IT Company``
- Create Customers Invoice > ``Confirm`` > ``Print & Send``
- Disable ``Send to Tax Agency`` > ``Print & Send``
- Now again ``Print & Send`` and ``Print & Send``

Traceback:
---
``KeyError: 'l10n_it_edi_values'``

This commit resolves the error by checking that ``l10n_it_edi_values`` is present in ``move_data``.

sentry-6191573767

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-01-06 06:48:39+00:00,[],2025-02-03 14:44:29+00:00,2025-02-03 14:44:29+00:00,https://github.com/odoo/odoo/pull/192438,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572479357, 'issue_id': 2769962452, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192438.png)](https://mergebot.odoo.com/odoo/odoo/pull/192438)', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595119902, 'issue_id': 2769962452, 'author': 'aamo-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\n\r\nPlease review this PR.\r\n\r\nThanks! :)', 'created_at': datetime.datetime(2025, 1, 16, 10, 17, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 07:39:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192438.png)](https://mergebot.odoo.com/odoo/odoo/pull/192438)

aamo-odoo (Issue Creator) on (2025-01-16 10:17:27 UTC): Hello @odoo/sentry_reviewers 

Please review this PR.

Thanks! :)

"
2769955884,pull_request,open,,"[IMP] mass_mailing,web_editor: replace stars command with rating snippet","With this PR, 

1. Added `/rating` command in `mass_mailing` and removing the `stars` command from the `web_editor` because it is not needed in the `website/mass_mailing` editor.As there is already `rating` snippet and `/rating` command which works like `/3star or /5star` commands.
2. Adding keywords for commands which helps us to search command easily. 

task-4391279",visp-odoo,2025-01-06 06:44:16+00:00,[],2025-01-28 08:45:29+00:00,,https://github.com/odoo/odoo/pull/192437,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572479314, 'issue_id': 2769955884, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192437.png)](https://mergebot.odoo.com/odoo/odoo/pull/192437)', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 07:39:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192437.png)](https://mergebot.odoo.com/odoo/odoo/pull/192437)

"
2769839727,pull_request,open,,[FIX] mail: accent issue on preview,"### Steps to reproduce:

- Open the To-do app.
- Paste the link into the editor (e.g., https://drive.google.com/file/d/1oNZsDWEUjxpwbB8tkv1CRCfp-pcKHhGG/edit).
- Click on the link to open the preview.
- Notice that accents are displayed incorrectly.

### Solution:

- Retrieved encoding from the response or detected it using `chardet`.
- Decoded the content using the detected encoding or fell back to UTF-8 if decoding failed.
- Processed the decoded content to parse the HTML tree.

### Description of the issue/feature this PR addresses:

Accents were not displayed correctly on the preview due to encoding mismatches.

### Desired behavior after PR is merged:

Accents in the preview are displayed correctly as the content is decoded using the appropriate encoding, with a fallback to UTF-8 if needed.

task-4435229",adch-odoo,2025-01-06 05:15:31+00:00,[],2025-02-05 10:10:26+00:00,,https://github.com/odoo/odoo/pull/192436,"[('RD', 'research & development, internal work')]","[{'comment_id': 2572321360, 'issue_id': 2769839727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192436.png)](https://mergebot.odoo.com/odoo/odoo/pull/192436)', 'created_at': datetime.datetime(2025, 1, 6, 5, 43, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631077441, 'issue_id': 2769839727, 'author': 'tde-banana-odoo', 'body': '*ghostly voice* Unit test !', 'created_at': datetime.datetime(2025, 2, 3, 13, 56, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636291058, 'issue_id': 2769839727, 'author': 'adch-odoo', 'body': '@tde-banana-odoo Added a test case. Thanks!', 'created_at': datetime.datetime(2025, 2, 5, 10, 10, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-06 05:43:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192436.png)](https://mergebot.odoo.com/odoo/odoo/pull/192436)

tde-banana-odoo on (2025-02-03 13:56:47 UTC): *ghostly voice* Unit test !

adch-odoo (Issue Creator) on (2025-02-05 10:10:25 UTC): @tde-banana-odoo Added a test case. Thanks!

"
2769124955,pull_request,open,,[FIX] hr_timesheet_attendance: fix the timezone related issue,"Steps:
	- Install hr_timesheet_attendance.
	- Set the timezone (for both user and calendar) to Europe/Zurich.
	- Create Attendance records: [03/01/2025: 00:25:36, 03/01/2025: 10:25:59]
	- Create a Timesheet for 03/01/2025.
	- Open the Timesheet Attendance Report and group by day.
	- Check Attendance Hours and Timesheet Hours: Attendance Hours : Timesheet Hours
		02/01/2025:	10	     :       00
	        03/01/2025:	00           :       08

Issue:
	Attendance was shown as one day earlier than expected.

Reason:
	The check_in date was incorrect because it was using UTC instead of the employee's local time zone.
Fix:
	Converted check_in to the employee's local time zone before extracting the date.

issue:https://github.com/odoo/odoo/issues/169592

task-4320477
",ppr-odoo,2025-01-05 05:37:22+00:00,[],2025-01-05 06:00:11+00:00,,https://github.com/odoo/odoo/pull/192434,"[('RD', 'research & development, internal work')]","[{'comment_id': 2571509387, 'issue_id': 2769124955, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192434.png)](https://mergebot.odoo.com/odoo/odoo/pull/192434)', 'created_at': datetime.datetime(2025, 1, 5, 5, 37, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-05 05:37:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192434.png)](https://mergebot.odoo.com/odoo/odoo/pull/192434)

"
2768982767,pull_request,closed,,[FIX] hr_recruitment: candidate uniqueness across companies issue,"In version 18.0, due to this PR: https://github.com/odoo/odoo/pull/190334/commits/b28dbc7faeac1095fe01d75e1783d7395, applying to jobs in different companies using the same email will not create separate candidates. This behavior raises the following error: https://github.com/odoo/odoo/blob/75571a661c5fa1dd80299bb110d9297219b7f465/addons/hr_recruitment/models/hr_applicant.py#L351.

This PR aims to fix the issue by ensuring that candidates are unique per company.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",abdo-mongy,2025-01-04 19:58:38+00:00,[],2025-01-31 13:34:01+00:00,2025-01-31 13:34:01+00:00,https://github.com/odoo/odoo/pull/192433,"[('CLA', 'Contributor License Agreement'), ('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2571397218, 'issue_id': 2768982767, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192433.png)](https://mergebot.odoo.com/odoo/odoo/pull/192433)', 'created_at': datetime.datetime(2025, 1, 4, 19, 58, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605230293, 'issue_id': 2768982767, 'author': 'Bertrand2', 'body': 'Hello, thanks for the contribution! Can you check if the issue is still present?\r\nI believe a recent fix addressed that issue.\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 21, 16, 40, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 19:58:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192433.png)](https://mergebot.odoo.com/odoo/odoo/pull/192433)

Bertrand2 on (2025-01-21 16:40:36 UTC): Hello, thanks for the contribution! Can you check if the issue is still present?
I believe a recent fix addressed that issue.
Thanks!

"
2768847155,pull_request,open,,[Fix] Sale: Access Error When Marking Invoice as Paid Due to _invoice_paid_hook Permission Conflict,"**Description of the issue/feature this PR addresses:**
When attempting to mark an invoice as paid, a user with the following permissions encounters an access error:

**Full access to invoices (read/write).**
Read-only access to sale orders.
Full access to mail.message (read/write/create).
The issue arises because the _invoice_paid_hook tries to post a message on the related sale order, which the user lacks sufficient permissions for, despite their full mail.message access.

**Current behavior before PR:**
The invoice cannot be marked as paid, and an access error is raised when _invoice_paid_hook attempts to post a message on the sale order.

**Desired behavior after PR is merged:**
The invoice is successfully marked as paid without access errors. Messages related to sale orders are posted using sudo() to bypass unnecessary permission conflicts.

Traceback:
```
Traceback (most recent call last):
File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 1957, in _transactioning
return service_model.retrying(func, env=self.env)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/service/model.py"", line 137, in retrying
result = func()
^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 1924, in _serve_ir_http
response = self.dispatcher.dispatch(rule.endpoint, args)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 2171, in dispatch
result = self.request.registry['ir.http']._dispatch(endpoint)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
result = endpoint(**request.params)
^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/http.py"", line 727, in route_wrapper
result = endpoint(self, *args, **params_ok)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/web/controllers/dataset.py"", line 40, in call_button
action = call_kw(request.env[model], method, args, kwargs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 517, in call_kw
result = getattr(recs, name)(*args, **kwargs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/account/wizard/account_payment_register.py"", line 1265, in action_create_payments
payments = self._create_payments()
^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/account/wizard/account_payment_register.py"", line 1252, in _create_payments
self._reconcile_payments(to_process, edit_mode=edit_mode)
File ""/home/odoo/src/odoo/18.0/addons/hr_expense/wizard/account_payment_register.py"", line 35, in _reconcile_payments
res = super()._reconcile_payments(to_process, edit_mode=edit_mode)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/account/wizard/account_payment_register.py"", line 1186, in _reconcile_payments
.reconcile()
^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/account/models/account_move_line.py"", line 2948, in reconcile
return self._reconcile_plan([self])
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/account/models/account_move_line.py"", line 2358, in _reconcile_plan
self._reconcile_plan_with_sync(plan_list, all_amls)
File ""/home/odoo/src/odoo/18.0/addons/account/models/account_move_line.py"", line 2572, in _reconcile_plan_with_sync
all_amls._reconcile_post_hook(pre_hook_data)
File ""/home/odoo/src/odoo/18.0/addons/account/models/account_move_line.py"", line 2333, in _reconcile_post_hook
._invoice_paid_hook()
^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/sale/models/account_move.py"", line 115, in _invoice_paid_hook
order.message_post(body=_(""Invoice %s paid"", name))
File ""/home/odoo/src/odoo/18.0/addons/sale/models/sale_order.py"", line 1678, in message_post
return super(SaleOrder, self.with_context(**so_ctx)).message_post(**kwargs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/sms/models/mail_thread.py"", line 135, in message_post
return super().message_post(*args, body=body, message_type=message_type, **kwargs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/rating/models/mail_thread.py"", line 182, in message_post
return super().message_post(**kwargs)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/mail/models/mail_thread.py"", line 2259, in message_post
new_message = self._message_create([msg_values])
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/mail/models/mail_thread.py"", line 2954, in _message_create
).create(create_values_list)
^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""<decorator-gen-50>"", line 2, in create
File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
return create(self, arg)
^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/addons/mail/models/mail_message.py"", line 636, in create
messages = super(Message, self).create(values_list)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File ""<decorator-gen-0>"", line 2, in create
File ""/home/odoo/src/odoo/18.0/odoo/api.py"", line 480, in _model_create_multi
return create(self, arg)
^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 4975, in create
records = self._create(data_list)
^^^^^^^^^^^^^^^^^^^^^^^
File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 5234, in _create
records.check_access('create')
File ""/home/odoo/src/odoo/18.0/odoo/models.py"", line 4380, in check_access
raise result[1]()
odoo.exceptions.AccessError: The requested operation cannot be completed due to security restrictions. Please contact your system administrator.

(Document type: Message, Operation: create)

Records: [263201], User: 8
```
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Alsheh,2025-01-04 13:34:17+00:00,[],2025-01-06 15:08:17+00:00,,https://github.com/odoo/odoo/pull/192431,"[('CLA', 'Contributor License Agreement'), ('Sales', 'Sales')]","[{'comment_id': 2571306743, 'issue_id': 2768847155, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192431.png)](https://mergebot.odoo.com/odoo/odoo/pull/192431)', 'created_at': datetime.datetime(2025, 1, 4, 13, 34, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572789661, 'issue_id': 2768847155, 'author': 'Feyensv', 'body': ""Hello, can you reproduce this issue without using custom access rights ?\r\nIf you're tinkering with access rights, you'll probably get a lot of issues like this one.\r\nAccountants are given access rights for sales orders in the standard code on purpose."", 'created_at': datetime.datetime(2025, 1, 6, 10, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573306953, 'issue_id': 2768847155, 'author': 'Alsheh', 'body': '> Hello, can you reproduce this issue without using custom access rights?\r\n\r\nIt will take a while to reproduce without using custom access rights. However, it makes sense that paying invoices should not require write access to sales orders. Users with read-only access to sales orders should still be able to pay invoices without encountering access issues. This is a fundamental functionality that should be supported.', 'created_at': datetime.datetime(2025, 1, 6, 15, 8, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 13:34:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192431.png)](https://mergebot.odoo.com/odoo/odoo/pull/192431)

Feyensv on (2025-01-06 10:12:15 UTC): Hello, can you reproduce this issue without using custom access rights ?
If you're tinkering with access rights, you'll probably get a lot of issues like this one.
Accountants are given access rights for sales orders in the standard code on purpose.

Alsheh (Issue Creator) on (2025-01-06 15:08:16 UTC): It will take a while to reproduce without using custom access rights. However, it makes sense that paying invoices should not require write access to sales orders. Users with read-only access to sales orders should still be able to pay invoices without encountering access issues. This is a fundamental functionality that should be supported.

"
2768819470,pull_request,closed,,[FW][FIX] spreadsheet: import list xml_id,"Steps to reproduce:
- insert a list of timesheets in a spreadsheet
- reload the spreadsheet
- right click on a list cell
- click on ""See record""

=> it's not the correct form view

Task: 4444541


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192356
Forward-Port-Of: odoo/odoo#192222",fw-bot,2025-01-04 12:36:41+00:00,[],2025-01-20 11:13:05+00:00,2025-01-06 10:41:11+00:00,https://github.com/odoo/odoo/pull/192430,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2571276275, 'issue_id': 2768819470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192430.png)](https://mergebot.odoo.com/odoo/odoo/pull/192430)', 'created_at': datetime.datetime(2025, 1, 4, 12, 36, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571276277, 'issue_id': 2768819470, 'author': 'fw-bot', 'body': '@LucasLefevre @rrahir this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192429\n* odoo/odoo#192417\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 4, 12, 36, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572513098, 'issue_id': 2768819470, 'author': 'LucasLefevre', 'body': 'robodoo r+\r\n\r\nOn Sat, Jan 4, 2025 at 1:37\u202fPM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @LucasLefevre <https://github.com/LucasLefevre> @rrahir\r\n> <https://github.com/rrahir> this PR targets master and is the last of the\r\n> forward-port chain containing:\r\n>\r\n>    - #192429 <https://github.com/odoo/odoo/pull/192429>\r\n>    - #192417 <https://github.com/odoo/odoo/pull/192417>\r\n>\r\n> To merge the full chain, use\r\n>\r\n> @robodoo <https://github.com/robodoo> r+\r\n>\r\n> More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/192430#issuecomment-2571276277>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ACTHFEPNNM6AHNIXM6LTEV32I7IXHAVCNFSM6AAAAABUTCDVRGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDKNZRGI3TMMRXG4>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 1, 6, 8, 5, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 12:36:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192430.png)](https://mergebot.odoo.com/odoo/odoo/pull/192430)

fw-bot (Issue Creator) on (2025-01-04 12:36:43 UTC): @LucasLefevre @rrahir this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192429
* odoo/odoo#192417

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-01-06 08:05:14 UTC): robodoo r+

On Sat, Jan 4, 2025 at 1:37 PM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

"
2768797807,pull_request,closed,,[FW][FIX] spreadsheet: import list xml_id,"Steps to reproduce:
- insert a list of timesheets in a spreadsheet
- reload the spreadsheet
- right click on a list cell
- click on ""See record""

=> it's not the correct form view

Task: 4444541


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192356
Forward-Port-Of: odoo/odoo#192222",fw-bot,2025-01-04 11:31:39+00:00,[],2025-01-20 16:40:28+00:00,2025-01-06 16:39:57+00:00,https://github.com/odoo/odoo/pull/192429,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2571261319, 'issue_id': 2768797807, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192429.png)](https://mergebot.odoo.com/odoo/odoo/pull/192429)', 'created_at': datetime.datetime(2025, 1, 4, 11, 31, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571261323, 'issue_id': 2768797807, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 4, 11, 31, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585398121, 'issue_id': 2768797807, 'author': 'Abirhasankas143', 'body': ""At GitHub, our team thrives on my proficiency in Amazon Web Services (AWS), driving robust sales and marketing strategies. With a deep understanding of AutoCAD, we've crafted solutions that resonate with our tech-savvy clientele.\n\nPreviously at AS143YOU-ME, my design acumen shone through web deployments, marrying aesthetics with SEC's Rule 144 compliance. This unique blend of creativity and regulatory knowledge underscores my approach to digital solutions—innovative yet diligent."", 'created_at': datetime.datetime(2025, 1, 11, 20, 26, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 11:31:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192429.png)](https://mergebot.odoo.com/odoo/odoo/pull/192429)

fw-bot (Issue Creator) on (2025-01-04 11:31:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Abirhasankas143 on (2025-01-11 20:26:20 UTC): At GitHub, our team thrives on my proficiency in Amazon Web Services (AWS), driving robust sales and marketing strategies. With a deep understanding of AutoCAD, we've crafted solutions that resonate with our tech-savvy clientele.

Previously at AS143YOU-ME, my design acumen shone through web deployments, marrying aesthetics with SEC's Rule 144 compliance. This unique blend of creativity and regulatory knowledge underscores my approach to digital solutions—innovative yet diligent.

"
2768370754,pull_request,closed,,[FW][FIX] hr_holidays: resource leave should exist if not fully covered by public holiday,"to reproduce:
=============
- create a leave for an employee of 3 days
- create a public holiday that happens to be in the middle of the employee leave
- check work entries for the employee on that period -> only work entries of the public holiday are created

Problem:
========
- when the public holiday was created, the leave was not split to take into account the public holiday

Solution:
=========
- split the leave to take into account the public holiday

opw-4353988

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192376
Forward-Port-Of: odoo/odoo#191552",fw-bot,2025-01-04 02:24:00+00:00,[],2025-01-20 19:11:44+00:00,2025-01-06 18:53:40+00:00,https://github.com/odoo/odoo/pull/192426,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2570010661, 'issue_id': 2768370754, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192426.png)](https://mergebot.odoo.com/odoo/odoo/pull/192426)', 'created_at': datetime.datetime(2025, 1, 4, 2, 24, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570010665, 'issue_id': 2768370754, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 4, 2, 24, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570028045, 'issue_id': 2768370754, 'author': 'fw-bot', 'body': '@abla001 @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 4, 3, 18, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 02:24:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192426.png)](https://mergebot.odoo.com/odoo/odoo/pull/192426)

fw-bot (Issue Creator) on (2025-01-04 02:24:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-04 03:18:30 UTC): @abla001 @tivisse ci/runbot failed on this forward-port PR

"
2768338803,pull_request,closed,,[FW][FIX] hr_holidays: resource leave should exist if not fully covered by public holiday,"to reproduce:
=============
- create a leave for an employee of 3 days
- create a public holiday that happens to be in the middle of the employee leave
- check work entries for the employee on that period -> only work entries of the public holiday are created

Problem:
========
- when the public holiday was created, the leave was not split to take into account the public holiday

Solution:
=========
- split the leave to take into account the public holiday

opw-4353988

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192376
Forward-Port-Of: odoo/odoo#191552",fw-bot,2025-01-04 01:05:17+00:00,[],2025-01-20 15:07:28+00:00,2025-01-06 14:54:42+00:00,https://github.com/odoo/odoo/pull/192425,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569976903, 'issue_id': 2768338803, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192425.png)](https://mergebot.odoo.com/odoo/odoo/pull/192425)', 'created_at': datetime.datetime(2025, 1, 4, 1, 5, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569976905, 'issue_id': 2768338803, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 4, 1, 5, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 01:05:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192425.png)](https://mergebot.odoo.com/odoo/odoo/pull/192425)

fw-bot (Issue Creator) on (2025-01-04 01:05:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2768335696,pull_request,closed,,[FW][IMP] hr_contract: fix contract count on stat button,"- add check on `employee_id` to the contract domain to exclude templates from the contract count on the stat buttons as it gives misleading info about the real contracts count

Task: 4402795

Forward-Port-Of: odoo/odoo#192145",fw-bot,2025-01-04 00:57:52+00:00,[],2025-01-22 13:23:21+00:00,2025-01-08 13:04:25+00:00,https://github.com/odoo/odoo/pull/192424,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569974182, 'issue_id': 2768335696, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192424.png)](https://mergebot.odoo.com/odoo/odoo/pull/192424)', 'created_at': datetime.datetime(2025, 1, 4, 0, 57, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569974189, 'issue_id': 2768335696, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 4, 0, 57, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569998289, 'issue_id': 2768335696, 'author': 'fw-bot', 'body': '@amah-odoo @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 4, 1, 54, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-04 00:57:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192424.png)](https://mergebot.odoo.com/odoo/odoo/pull/192424)

fw-bot (Issue Creator) on (2025-01-04 00:57:54 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-04 01:54:22 UTC): @amah-odoo @tivisse ci/runbot failed on this forward-port PR

"
2768291477,pull_request,closed,,[FW][IMP] hr_contract: fix contract count on stat button,"- add check on `employee_id` to the contract domain to exclude templates from the contract count on the stat buttons as it gives misleading info about the real contracts count

Task: 4402795

Forward-Port-Of: odoo/odoo#192145",fw-bot,2025-01-03 23:32:36+00:00,[],2025-01-22 12:01:33+00:00,2025-01-08 11:54:07+00:00,https://github.com/odoo/odoo/pull/192423,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569933045, 'issue_id': 2768291477, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192423.png)](https://mergebot.odoo.com/odoo/odoo/pull/192423)', 'created_at': datetime.datetime(2025, 1, 3, 23, 32, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569933054, 'issue_id': 2768291477, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 23, 32, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 23:32:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192423.png)](https://mergebot.odoo.com/odoo/odoo/pull/192423)

fw-bot (Issue Creator) on (2025-01-03 23:32:38 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2768291429,pull_request,closed,,[FW][FIX] hr_holidays: resource leave should exist if not fully covered by public holiday,"to reproduce:
=============
- create a leave for an employee of 3 days
- create a public holiday that happens to be in the middle of the employee leave
- check work entries for the employee on that period -> only work entries of the public holiday are created

Problem:
========
- when the public holiday was created, the leave was not split to take into account the public holiday

Solution:
=========
- split the leave to take into account the public holiday

opw-4353988

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192376
Forward-Port-Of: odoo/odoo#191552",fw-bot,2025-01-03 23:32:29+00:00,[],2025-01-20 12:13:22+00:00,2025-01-06 12:06:52+00:00,https://github.com/odoo/odoo/pull/192422,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569932971, 'issue_id': 2768291429, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192422.png)](https://mergebot.odoo.com/odoo/odoo/pull/192422)', 'created_at': datetime.datetime(2025, 1, 3, 23, 32, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569932981, 'issue_id': 2768291429, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 23, 32, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 23:32:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192422.png)](https://mergebot.odoo.com/odoo/odoo/pull/192422)

fw-bot (Issue Creator) on (2025-01-03 23:32:32 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2768242071,pull_request,closed,,[FW][FIX] website_sale: show desired amount of alternative products,"Versions
--------
- saas-17.4+

Steps
-----
1. Have a published product ""A"" with 16+ variants;
2. have a published product ""B"" with alternative product ""A"";
3. add more alternative products whose names are greater than ""A"";
4. open product ""B"" in eCommerce.

>[!Important]
> Products with a reference value (e.g. ""[FURN_2100]"") get sorted before ""A"", so be sure to exclude those to reproduce the issue.

Issue
-----
Only product ""A"" gets displayed.

Cause
-----
The dynamic filter for alternative products applies the default limit of 16 to the variant count.

This was not an issue in earlier versions, as alternative products displayed variants instead of templates.

Solution
--------
In the `_prepare_values` method, set the `hide_variants` context value even if `self.filter_id` is falsy, making it accessible for dynamic filters as well.

In the `_get_products_*` methods, check this context value. If present, limit each product template to a single variant before calling `search`.


opw-4318624

Forward-Port-Of: odoo/odoo#189040",fw-bot,2025-01-03 22:18:51+00:00,[],2025-01-20 15:07:29+00:00,2025-01-06 14:54:43+00:00,https://github.com/odoo/odoo/pull/192421,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569885397, 'issue_id': 2768242071, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192421.png)](https://mergebot.odoo.com/odoo/odoo/pull/192421)', 'created_at': datetime.datetime(2025, 1, 3, 22, 18, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569885405, 'issue_id': 2768242071, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#189040 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale/tests/__init__.py\nCONFLICT (content): Merge conflict in addons/website_sale/tests/__init__.py\nAuto-merging addons/website_sale/tests/common.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 22, 18, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571777149, 'issue_id': 2768242071, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 5, 22, 49, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571778344, 'issue_id': 2768242071, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 5, 22, 53, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571797804, 'issue_id': 2768242071, 'author': 'robodoo', 'body': ""@lvsz 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 5, 23, 55, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 22:18:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192421.png)](https://mergebot.odoo.com/odoo/odoo/pull/192421)

fw-bot (Issue Creator) on (2025-01-03 22:18:52 UTC): @lvsz cherrypicking of pull request odoo/odoo#189040 failed.

stdout:
```
Auto-merging addons/website_sale/tests/__init__.py
CONFLICT (content): Merge conflict in addons/website_sale/tests/__init__.py
Auto-merging addons/website_sale/tests/common.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-05 22:49:31 UTC): @robodoo r+

lvsz on (2025-01-05 22:53:57 UTC): @robodoo r+

robodoo on (2025-01-05 23:55:47 UTC): @lvsz 'ci/runbot' failed on this reviewed PR.

"
2768234364,pull_request,closed,,[FW][FIX] account_report: options on composite report creation,"Steps to reproduce:

initial state: The accounting report ""General Ledger"" has the filter ""unfold all"" option activated and this filter can be selected on the report.

 - Create a new accounting report
 - Select ""Composite Report""
 - Add the General Ledger as a section
 - Save

 -> When navigating to the General Ledger, it no longer has the ""unfold all"" option selected.

 Solution provided:
 If the report is accessible, should not change its fields when being added to a composite report.

 task-4317649


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188476",fw-bot,2025-01-03 22:08:17+00:00,[],2025-01-20 14:50:21+00:00,2025-01-06 14:06:55+00:00,https://github.com/odoo/odoo/pull/192420,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569877846, 'issue_id': 2768234364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192420.png)](https://mergebot.odoo.com/odoo/odoo/pull/192420)', 'created_at': datetime.datetime(2025, 1, 3, 22, 8, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569877854, 'issue_id': 2768234364, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192414\n* odoo/odoo#192404\n* odoo/odoo#192390\n* odoo/odoo#192368\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 22, 8, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569916390, 'issue_id': 2768234364, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 23, 3, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572518866, 'issue_id': 2768234364, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 8, 8, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572744218, 'issue_id': 2768234364, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 46, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 22:08:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192420.png)](https://mergebot.odoo.com/odoo/odoo/pull/192420)

fw-bot (Issue Creator) on (2025-01-03 22:08:21 UTC): @hupo-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192414
* odoo/odoo#192404
* odoo/odoo#192390
* odoo/odoo#192368

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 23:03:42 UTC): @hupo-odoo @oco-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-06 08:08:41 UTC): @hupo-odoo @oco-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

hupo-odoo on (2025-01-06 09:46:23 UTC): @robodoo r+

"
2768233414,pull_request,closed,,[FW][FIX] hr_holidays: resource leave should exist if not fully covered by public holiday,"to reproduce:
=============
- create a leave for an employee of 3 days
- create a public holiday that happens to be in the middle of the employee leave
- check work entries for the employee on that period -> only work entries of the public holiday are created

Problem:
========
- when the public holiday was created, the leave was not split to take into account the public holiday

Solution:
=========
- split the leave to take into account the public holiday

opw-4353988

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192376
Forward-Port-Of: odoo/odoo#191552",fw-bot,2025-01-03 22:07:08+00:00,[],2025-01-20 13:11:15+00:00,2025-01-06 12:27:12+00:00,https://github.com/odoo/odoo/pull/192419,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569876894, 'issue_id': 2768233414, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192419.png)](https://mergebot.odoo.com/odoo/odoo/pull/192419)', 'created_at': datetime.datetime(2025, 1, 3, 22, 7, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569876905, 'issue_id': 2768233414, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 22, 7, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 22:07:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192419.png)](https://mergebot.odoo.com/odoo/odoo/pull/192419)

fw-bot (Issue Creator) on (2025-01-03 22:07:10 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2768221831,pull_request,closed,,[FW][IMP] hr_contract: fix contract count on stat button,"- add check on `employee_id` to the contract domain to exclude templates from the contract count on the stat buttons as it gives misleading info about the real contracts count

Task: 4402795

Forward-Port-Of: odoo/odoo#192145",fw-bot,2025-01-03 21:52:41+00:00,[],2025-01-22 10:58:08+00:00,2025-01-08 10:51:53+00:00,https://github.com/odoo/odoo/pull/192418,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569864845, 'issue_id': 2768221831, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192418.png)](https://mergebot.odoo.com/odoo/odoo/pull/192418)', 'created_at': datetime.datetime(2025, 1, 3, 21, 52, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569864858, 'issue_id': 2768221831, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 21, 52, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 21:52:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192418.png)](https://mergebot.odoo.com/odoo/odoo/pull/192418)

fw-bot (Issue Creator) on (2025-01-03 21:52:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2768165565,pull_request,closed,,[FW][FIX] spreadsheet: import list xml_id,"Steps to reproduce:
- insert a list of timesheets in a spreadsheet
- reload the spreadsheet
- right click on a list cell
- click on ""See record""

=> it's not the correct form view

Task: 4444541


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192356
Forward-Port-Of: odoo/odoo#192222",fw-bot,2025-01-03 20:57:48+00:00,[],2025-01-20 12:03:14+00:00,2025-01-06 11:51:57+00:00,https://github.com/odoo/odoo/pull/192417,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569809850, 'issue_id': 2768165565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192417.png)](https://mergebot.odoo.com/odoo/odoo/pull/192417)', 'created_at': datetime.datetime(2025, 1, 3, 20, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569809876, 'issue_id': 2768165565, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 20, 57, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569868270, 'issue_id': 2768165565, 'author': 'fw-bot', 'body': '@LucasLefevre @rrahir ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 21, 56, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 20:57:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192417.png)](https://mergebot.odoo.com/odoo/odoo/pull/192417)

fw-bot (Issue Creator) on (2025-01-03 20:57:52 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 21:56:47 UTC): @LucasLefevre @rrahir ci/runbot failed on this forward-port PR

"
2768118025,pull_request,closed,,[FW][IMP] product: strengthen combo constraints,"By design, nested combos aren't supported (i.e. products of type `combo` can't be used as combo items). However, since we used a python constraint to enforce this, it was still possible to change the type of a product to `combo` after using it as a combo item. To prevent this, we changed the python constraint to an SQL constraint.

Forward-Port-Of: odoo/odoo#192172",fw-bot,2025-01-03 20:15:16+00:00,[],2025-01-22 14:39:37+00:00,2025-01-08 14:33:35+00:00,https://github.com/odoo/odoo/pull/192416,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569762779, 'issue_id': 2768118025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192416.png)](https://mergebot.odoo.com/odoo/odoo/pull/192416)', 'created_at': datetime.datetime(2025, 1, 3, 20, 15, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569762791, 'issue_id': 2768118025, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 20, 15, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248821, 'issue_id': 2768118025, 'author': 'fw-bot', 'body': '@ltinel this forward port of odoo/odoo#192172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557530, 'issue_id': 2768118025, 'author': 'fw-bot', 'body': '@ltinel this forward port of odoo/odoo#192172 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577210505, 'issue_id': 2768118025, 'author': 'ltinel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 35, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577250144, 'issue_id': 2768118025, 'author': 'fw-bot', 'body': '@ltinel this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 8, 9, 52, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577252270, 'issue_id': 2768118025, 'author': 'ltinel', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 9, 53, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 20:15:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192416.png)](https://mergebot.odoo.com/odoo/odoo/pull/192416)

fw-bot (Issue Creator) on (2025-01-03 20:15:22 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:17 UTC): @ltinel this forward port of odoo/odoo#192172 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:13 UTC): @ltinel this forward port of odoo/odoo#192172 is awaiting action (not merged or closed).

ltinel on (2025-01-08 09:35:09 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-08 09:52:44 UTC): @ltinel this PR was modified / updated and has become a normal PR. It must be merged directly.

ltinel on (2025-01-08 09:53:47 UTC): @robodoo r+

"
2768115984,pull_request,closed,,[FW][IMP] hw_drivers: remove led status service,"As this feature is almost unused, we remove it to simplify the code on the IoT Box.

Forward-Port-Of: odoo/odoo#192385",fw-bot,2025-01-03 20:13:16+00:00,[],2025-01-21 12:48:42+00:00,2025-01-07 12:41:07+00:00,https://github.com/odoo/odoo/pull/192415,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569760887, 'issue_id': 2768115984, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192415.png)](https://mergebot.odoo.com/odoo/odoo/pull/192415)', 'created_at': datetime.datetime(2025, 1, 3, 20, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569760904, 'issue_id': 2768115984, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 20, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571276958, 'issue_id': 2768115984, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 4, 12, 39, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248659, 'issue_id': 2768115984, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko this forward port of odoo/odoo#192385 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 20:13:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192415.png)](https://mergebot.odoo.com/odoo/odoo/pull/192415)

fw-bot (Issue Creator) on (2025-01-03 20:13:24 UTC): @loouis-t @Ysoroko this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-04 12:39:40 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-07 02:01:09 UTC): @loouis-t @Ysoroko this forward port of odoo/odoo#192385 is awaiting action (not merged or closed).

"
2768083814,pull_request,closed,,[FW][FIX] account_report: options on composite report creation,"Steps to reproduce:

initial state: The accounting report ""General Ledger"" has the filter ""unfold all"" option activated and this filter can be selected on the report.

 - Create a new accounting report
 - Select ""Composite Report""
 - Add the General Ledger as a section
 - Save

 -> When navigating to the General Ledger, it no longer has the ""unfold all"" option selected.

 Solution provided:
 If the report is accessible, should not change its fields when being added to a composite report.

 task-4317649


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188476",fw-bot,2025-01-03 19:44:56+00:00,[],2025-01-20 16:40:29+00:00,2025-01-06 16:40:02+00:00,https://github.com/odoo/odoo/pull/192414,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569731361, 'issue_id': 2768083814, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192414.png)](https://mergebot.odoo.com/odoo/odoo/pull/192414)', 'created_at': datetime.datetime(2025, 1, 3, 19, 44, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569731386, 'issue_id': 2768083814, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 19, 44, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572518897, 'issue_id': 2768083814, 'author': 'fw-bot', 'body': ""@hupo-odoo @oco-odoo child PR odoo/odoo#192420 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 6, 8, 8, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572549655, 'issue_id': 2768083814, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 25, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 19:44:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192414.png)](https://mergebot.odoo.com/odoo/odoo/pull/192414)

fw-bot (Issue Creator) on (2025-01-03 19:44:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 08:08:43 UTC): @hupo-odoo @oco-odoo child PR odoo/odoo#192420 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

hupo-odoo on (2025-01-06 08:25:41 UTC): @robodoo r+

"
2768081250,pull_request,closed,,add new features ,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",yousif1980m-dev,2025-01-03 19:42:39+00:00,[],2025-01-03 19:44:42+00:00,2025-01-03 19:44:42+00:00,https://github.com/odoo/odoo/pull/192413,[],"[{'comment_id': 2569728925, 'issue_id': 2768081250, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192413.png)](https://mergebot.odoo.com/odoo/odoo/pull/192413)', 'created_at': datetime.datetime(2025, 1, 3, 19, 42, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569729266, 'issue_id': 2768081250, 'author': 'yousif1980m-dev', 'body': 'add new features', 'created_at': datetime.datetime(2025, 1, 3, 19, 42, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 19:42:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192413.png)](https://mergebot.odoo.com/odoo/odoo/pull/192413)

yousif1980m-dev (Issue Creator) on (2025-01-03 19:42:59 UTC): add new features

"
2768080496,pull_request,closed,,[FW][FIX] point_of_sale: don't translate /pos/ticket,"In the template, /pos/ticket is concatenated to the base_url. But because /pos/ticket is a normal string inside the template, it is translated.

ticket-4447566

Forward-Port-Of: odoo/odoo#192308",fw-bot,2025-01-03 19:41:57+00:00,[],2025-01-22 09:43:14+00:00,2025-01-08 09:40:31+00:00,https://github.com/odoo/odoo/pull/192412,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569728145, 'issue_id': 2768080496, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192412.png)](https://mergebot.odoo.com/odoo/odoo/pull/192412)', 'created_at': datetime.datetime(2025, 1, 3, 19, 41, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569728156, 'issue_id': 2768080496, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj cherrypicking of pull request odoo/odoo#192308 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.js\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 19, 41, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572920854, 'issue_id': 2768080496, 'author': 'AH-Yussef', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 11, 30, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573004659, 'issue_id': 2768080496, 'author': 'robodoo', 'body': ""@AH-Yussef @caburj 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 12, 22, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248720, 'issue_id': 2768080496, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557497, 'issue_id': 2768080496, 'author': 'fw-bot', 'body': '@AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576989652, 'issue_id': 2768080496, 'author': 'AH-Yussef', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 3, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 19:41:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192412.png)](https://mergebot.odoo.com/odoo/odoo/pull/192412)

fw-bot (Issue Creator) on (2025-01-03 19:41:59 UTC): @AH-Yussef @caburj cherrypicking of pull request odoo/odoo#192308 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.js
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt/order_receipt.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

AH-Yussef on (2025-01-06 11:30:01 UTC): @robodoo r+

robodoo on (2025-01-06 12:22:36 UTC): @AH-Yussef @caburj 'ci/runbot' failed on this reviewed PR.

fw-bot (Issue Creator) on (2025-01-07 02:01:12 UTC): @AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:12 UTC): @AH-Yussef @caburj this forward port of odoo/odoo#192308 is awaiting action (not merged or closed).

AH-Yussef on (2025-01-08 08:03:13 UTC): @robodoo r+

"
2768080195,pull_request,closed,,[FW][IMP] hr_contract: fix contract count on stat button,"- add check on `employee_id` to the contract domain to exclude templates from the contract count on the stat buttons as it gives misleading info about the real contracts count

Task: 4402795

Forward-Port-Of: odoo/odoo#192145",fw-bot,2025-01-03 19:41:40+00:00,[],2025-01-22 10:58:12+00:00,2025-01-08 10:57:47+00:00,https://github.com/odoo/odoo/pull/192411,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569727865, 'issue_id': 2768080195, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192411.png)](https://mergebot.odoo.com/odoo/odoo/pull/192411)', 'created_at': datetime.datetime(2025, 1, 3, 19, 41, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569727880, 'issue_id': 2768080195, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 19, 41, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 19:41:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192411.png)](https://mergebot.odoo.com/odoo/odoo/pull/192411)

fw-bot (Issue Creator) on (2025-01-03 19:41:42 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2768073035,pull_request,closed,,[FW][FIX] web_editor: reset selection when editable is empty,"**Problem**:
When selecting all content (`Ctrl+A`) in an empty editable area, the selection includes only a `<br>` element. This causes issues when interacting with non-selectable content inside the selection, leading to unexpected behavior.

**Solution**:
If the selection contains only on `br` element, reset the selection on click to avoid inconsistent states.

**Steps to Reproduce**:
1. Open the editor.
2. Press `Ctrl+A` to select all.
3. Click anywhere within the editable area to hide the toolbar.
4. Observe that the toolbar remains visible, and the selection state does not update.

opw-4438513

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192084",fw-bot,2025-01-03 19:35:07+00:00,[],2025-01-22 13:23:23+00:00,2025-01-08 13:04:38+00:00,https://github.com/odoo/odoo/pull/192410,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569720820, 'issue_id': 2768073035, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192410.png)](https://mergebot.odoo.com/odoo/odoo/pull/192410)', 'created_at': datetime.datetime(2025, 1, 3, 19, 35, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569720835, 'issue_id': 2768073035, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 19, 35, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569800481, 'issue_id': 2768073035, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 20, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574634972, 'issue_id': 2768073035, 'author': 'fw-bot', 'body': ""@walidsahli @dmo-odoo child PR odoo/odoo#192447 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 7, 8, 11, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557674, 'issue_id': 2768073035, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577046421, 'issue_id': 2768073035, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 26, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577046520, 'issue_id': 2768073035, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 8, 8, 26, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577050261, 'issue_id': 2768073035, 'author': 'walidsahli', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 8, 8, 28, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577051060, 'issue_id': 2768073035, 'author': 'robodoo', 'body': ""@walidsahli you can't rebase-ff."", 'created_at': datetime.datetime(2025, 1, 8, 8, 28, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577247176, 'issue_id': 2768073035, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 8, 9, 51, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577247264, 'issue_id': 2768073035, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 8, 9, 51, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 19:35:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192410.png)](https://mergebot.odoo.com/odoo/odoo/pull/192410)

fw-bot (Issue Creator) on (2025-01-03 19:35:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 20:52:15 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-07 08:11:27 UTC): @walidsahli @dmo-odoo child PR odoo/odoo#192447 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-01-08 02:01:22 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).

walidsahli on (2025-01-08 08:26:52 UTC): @robodoo r+

robodoo on (2025-01-08 08:26:56 UTC): @walidsahli @dmo-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

walidsahli on (2025-01-08 08:28:15 UTC): @robodoo rebase-ff

robodoo on (2025-01-08 08:28:32 UTC): @walidsahli you can't rebase-ff.

dmo-odoo on (2025-01-08 09:51:13 UTC): @robodoo rebase-ff

robodoo on (2025-01-08 09:51:16 UTC): Merge method set to rebase and fast-forward.

"
2768066706,pull_request,closed,,[FW][FIX] product: always compute zoomable with `bin_size=False`,"Changing a product template's image with the `can_image_1024_be_zoomed` field present in the view produces a crash on save.

**STEPS TO REPRODUCE**
1. Open a product form view
2. Using studio, add the `can_image_1024_be_zoomed` field
3. Change the image and save

The product will be updated, but this error will be thrown:

```
binascii.Error: Incorrect padding
```

**CAUSE**
https://github.com/odoo/odoo/blob/a74684777c27e26639b75b0668bb15afadb78c4f/addons/product/models/product_template.py#L186-L188

In the `RecordSet`'s context, `bin_size=True`, so accessing `image_<size>` returns a size instead of a binary. `_compute_can_image_1024_be_zoomed` calls `tools.is_image_size_above` with this binary size, while the method expects the full base64 encoded image. Ultimately, this causes `base64.b64decode` to crash with the above error.

**FIX** Update the `RecordSet`'s context to `bin_size=False`. Accessing `image_<size>` from the `RecordSet` will then return the full binary instead of the size.

**NOTES**
In versions <17.0, read and write were done in separate network calls causing the recompute to happen during the flush of the write, which doesn't have `bin_size=True` in the context. Because the field is stored, the read will not cause a recompute and thus avoids any error. In >=17.0, because the read occurs before the flush, and the write has invalidated the field, the recompute will occur with the context of the read (`bin_size=True`), causing the issue.

opw-4413647

Forward-Port-Of: odoo/odoo#192047",fw-bot,2025-01-03 19:29:15+00:00,[],2025-01-20 18:12:52+00:00,2025-01-06 17:50:01+00:00,https://github.com/odoo/odoo/pull/192409,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569714529, 'issue_id': 2768066706, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192409.png)](https://mergebot.odoo.com/odoo/odoo/pull/192409)', 'created_at': datetime.datetime(2025, 1, 3, 19, 29, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569714571, 'issue_id': 2768066706, 'author': 'fw-bot', 'body': '@saho-odoo cherrypicking of pull request odoo/odoo#192047 failed.\n\nstdout:\n```\nAuto-merging addons/product/models/product_template.py\nCONFLICT (content): Merge conflict in addons/product/models/product_template.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 19, 29, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573274190, 'issue_id': 2768066706, 'author': 'saho-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 14, 52, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 19:29:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192409.png)](https://mergebot.odoo.com/odoo/odoo/pull/192409)

fw-bot (Issue Creator) on (2025-01-03 19:29:18 UTC): @saho-odoo cherrypicking of pull request odoo/odoo#192047 failed.

stdout:
```
Auto-merging addons/product/models/product_template.py
CONFLICT (content): Merge conflict in addons/product/models/product_template.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

saho-odoo on (2025-01-06 14:52:17 UTC): @robodoo r+

"
2768007347,pull_request,closed,,[FW][FIX] l10n_in: fix fiscal position for vendor bill and refunds,"### Before this commit:
Fiscal position computation was limited to `Invoices` and `Credit Notes`. `Vendor Bills` and `Refunds` were not included.

### After this commit:
Fiscal position computation now includes `Vendor Bills` and `Refunds` as well.


> Task: 4357473

Forward-Port-Of: odoo/odoo#188564",fw-bot,2025-01-03 18:37:41+00:00,[],2025-01-18 01:02:49+00:00,2025-01-04 00:29:58+00:00,https://github.com/odoo/odoo/pull/192408,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569658609, 'issue_id': 2768007347, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192408.png)](https://mergebot.odoo.com/odoo/odoo/pull/192408)', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569658617, 'issue_id': 2768007347, 'author': 'fw-bot', 'body': '@masm-odoo @jco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569718099, 'issue_id': 2768007347, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 19, 32, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:38:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192408.png)](https://mergebot.odoo.com/odoo/odoo/pull/192408)

fw-bot (Issue Creator) on (2025-01-03 18:38:09 UTC): @masm-odoo @jco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jco-odoo on (2025-01-03 19:32:32 UTC): @robodoo r+

"
2768007249,pull_request,closed,,[FW][FIX] web: some table overflow in Form on small screen,"This commit changes the `1fr` with `minmax(O, 1fr)` to avoid some content with a min-with bigger than the grid itself to overflow.

See this commit[1] for more info

Steps to reproduce:
* Open Odoo on small screen
* Open Sale App
* Go to Product Menu
* Select a Product
* Activate the `Rental` checkbox
* Go to `Rental prices` pane The list inside the panel overflow => BUG

[1]: odoo/odoo@dbf1794799f2be54e0a0da7719cde3e5069fcdd9

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191369",fw-bot,2025-01-03 18:37:35+00:00,[],2025-01-07 09:00:43+00:00,2025-01-06 10:41:34+00:00,https://github.com/odoo/odoo/pull/192407,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569658572, 'issue_id': 2768007249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192407.png)](https://mergebot.odoo.com/odoo/odoo/pull/192407)', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569658589, 'issue_id': 2768007249, 'author': 'fw-bot', 'body': '@rfr-odoo @adr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569717168, 'issue_id': 2768007249, 'author': 'fw-bot', 'body': '@rfr-odoo @adr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 19, 31, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572602728, 'issue_id': 2768007249, 'author': 'rfr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 50, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:38:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192407.png)](https://mergebot.odoo.com/odoo/odoo/pull/192407)

fw-bot (Issue Creator) on (2025-01-03 18:38:07 UTC): @rfr-odoo @adr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 19:31:41 UTC): @rfr-odoo @adr-odoo ci/runbot failed on this forward-port PR

rfr-odoo on (2025-01-06 08:50:46 UTC): @robodoo r+

"
2768007144,pull_request,closed,,[FW][IMP] im_livechat: allow restarting a session after closing live chat,"This PR adds a ""New Session"" button to the live chat feedback panel.

task-4432728

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191782",fw-bot,2025-01-03 18:37:28+00:00,[],2025-01-06 14:22:22+00:00,2025-01-06 14:07:02+00:00,https://github.com/odoo/odoo/pull/192406,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569658539, 'issue_id': 2768007144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192406.png)](https://mergebot.odoo.com/odoo/odoo/pull/192406)', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569658556, 'issue_id': 2768007144, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572768418, 'issue_id': 2768007144, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 10, 0, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:38:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192406.png)](https://mergebot.odoo.com/odoo/odoo/pull/192406)

fw-bot (Issue Creator) on (2025-01-03 18:38:05 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-06 10:00:22 UTC): @robodoo r+

"
2768007013,pull_request,closed,,[FW][FIX] mail: earphone-off can be played more than once,"Before this commit, `earphone-off.ogg` sound effect could be only played once.

This happens because `earphone-off.mp3` was not correctly encoded, and the conversion to `.ogg` resulted in the bug.

This commit fixes the `.mp3` and `.ogg` files of `earphone-off`, so they can be played more than once.

Forward-Port-Of: odoo/odoo#192325",fw-bot,2025-01-03 18:37:22+00:00,[],2025-01-07 10:07:00+00:00,2025-01-07 08:08:26+00:00,https://github.com/odoo/odoo/pull/192405,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569658501, 'issue_id': 2768007013, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192405.png)](https://mergebot.odoo.com/odoo/odoo/pull/192405)', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569658524, 'issue_id': 2768007013, 'author': 'fw-bot', 'body': '@alexkuhn @thanhdodeurodoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 38, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572152674, 'issue_id': 2768007013, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 2, 47, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248688, 'issue_id': 2768007013, 'author': 'fw-bot', 'body': '@alexkuhn @thanhdodeurodoo this forward port of odoo/odoo#192325 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574493668, 'issue_id': 2768007013, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 6, 36, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:38:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192405.png)](https://mergebot.odoo.com/odoo/odoo/pull/192405)

fw-bot (Issue Creator) on (2025-01-03 18:38:04 UTC): @alexkuhn @thanhdodeurodoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ThanhDodeurOdoo on (2025-01-06 02:47:08 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-07 02:01:10 UTC): @alexkuhn @thanhdodeurodoo this forward port of odoo/odoo#192325 is awaiting action (not merged or closed).

ThanhDodeurOdoo on (2025-01-07 06:36:47 UTC): @robodoo r+

"
2767989812,pull_request,closed,,[FW][FIX] account_report: options on composite report creation,"Steps to reproduce:

initial state: The accounting report ""General Ledger"" has the filter ""unfold all"" option activated and this filter can be selected on the report.

 - Create a new accounting report
 - Select ""Composite Report""
 - Add the General Ledger as a section
 - Save

 -> When navigating to the General Ledger, it no longer has the ""unfold all"" option selected.

 Solution provided:
 If the report is accessible, should not change its fields when being added to a composite report.

 task-4317649


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188476",fw-bot,2025-01-03 18:21:53+00:00,[],2025-01-20 12:03:14+00:00,2025-01-06 11:51:58+00:00,https://github.com/odoo/odoo/pull/192404,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569640538, 'issue_id': 2767989812, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192404.png)](https://mergebot.odoo.com/odoo/odoo/pull/192404)', 'created_at': datetime.datetime(2025, 1, 3, 18, 21, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569640581, 'issue_id': 2767989812, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 21, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572546060, 'issue_id': 2767989812, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 24, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:21:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192404.png)](https://mergebot.odoo.com/odoo/odoo/pull/192404)

fw-bot (Issue Creator) on (2025-01-03 18:21:58 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hupo-odoo on (2025-01-06 08:24:57 UTC): @robodoo r+

"
2767985709,pull_request,closed,,[FW][FIX] product: fix traceback when deleting the archived product variants,"Currently, a traceback is occurring when the user tries to delete archived product variants.

To reproduce this issue:

1) Install sale and enable product variants from configuration 
2) Create a product from the variant and archive it
3) Now try to delete the above archived product.

Error:- 
```
KeyError: 2
```

When the user archives a product and tries to delete the archived product, 
we get the `product_ids_by_template_id` as an empty dict.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L384-L388

This leads to the above traceback when accessing the product template id from an empty dict
from the below line.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L395

sentry-6173505059

Forward-Port-Of: odoo/odoo#191761",fw-bot,2025-01-03 18:18:10+00:00,[],2025-01-20 16:40:30+00:00,2025-01-06 16:40:09+00:00,https://github.com/odoo/odoo/pull/192403,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569636466, 'issue_id': 2767985709, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192403.png)](https://mergebot.odoo.com/odoo/odoo/pull/192403)', 'created_at': datetime.datetime(2025, 1, 3, 18, 18, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569636479, 'issue_id': 2767985709, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 18, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569688587, 'issue_id': 2767985709, 'author': 'fw-bot', 'body': '@alsh-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 19, 5, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:18:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192403.png)](https://mergebot.odoo.com/odoo/odoo/pull/192403)

fw-bot (Issue Creator) on (2025-01-03 18:18:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 19:05:28 UTC): @alsh-odoo ci/runbot failed on this forward-port PR

"
2767984740,pull_request,closed,,[FW][FIX] product: always compute zoomable with `bin_size=False`,"Changing a product template's image with the `can_image_1024_be_zoomed` field present in the view produces a crash on save.

**STEPS TO REPRODUCE**
1. Open a product form view
2. Using studio, add the `can_image_1024_be_zoomed` field
3. Change the image and save

The product will be updated, but this error will be thrown:

```
binascii.Error: Incorrect padding
```

**CAUSE**
https://github.com/odoo/odoo/blob/a74684777c27e26639b75b0668bb15afadb78c4f/addons/product/models/product_template.py#L186-L188

In the `RecordSet`'s context, `bin_size=True`, so accessing `image_<size>` returns a size instead of a binary. `_compute_can_image_1024_be_zoomed` calls `tools.is_image_size_above` with this binary size, while the method expects the full base64 encoded image. Ultimately, this causes `base64.b64decode` to crash with the above error.

**FIX** Update the `RecordSet`'s context to `bin_size=False`. Accessing `image_<size>` from the `RecordSet` will then return the full binary instead of the size.

**NOTES**
In versions <17.0, read and write were done in separate network calls causing the recompute to happen during the flush of the write, which doesn't have `bin_size=True` in the context. Because the field is stored, the read will not cause a recompute and thus avoids any error. In >=17.0, because the read occurs before the flush, and the write has invalidated the field, the recompute will occur with the context of the read (`bin_size=True`), causing the issue.

opw-4413647

Forward-Port-Of: odoo/odoo#192047",fw-bot,2025-01-03 18:17:15+00:00,[],2025-01-20 16:40:27+00:00,2025-01-06 16:37:12+00:00,https://github.com/odoo/odoo/pull/192402,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569635575, 'issue_id': 2767984740, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192402.png)](https://mergebot.odoo.com/odoo/odoo/pull/192402)', 'created_at': datetime.datetime(2025, 1, 3, 18, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569635586, 'issue_id': 2767984740, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569714539, 'issue_id': 2767984740, 'author': 'fw-bot', 'body': '@saho-odoo the next pull request (odoo/odoo#192409) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 19, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573226995, 'issue_id': 2767984740, 'author': 'saho-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 14, 28, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:17:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192402.png)](https://mergebot.odoo.com/odoo/odoo/pull/192402)

fw-bot (Issue Creator) on (2025-01-03 18:17:17 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 19:29:17 UTC): @saho-odoo the next pull request (odoo/odoo#192409) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

saho-odoo on (2025-01-06 14:28:48 UTC): @robodoo r+

"
2767975652,pull_request,closed,,[FW][FIX] l10n_ch: non 256 size barcode has cross centered,"Scenario:

- install l10n_ch
- go to /report/barcode/?barcode_type=QR&value=&width=150&height=150&mask=ch_cross

=> the ch_cross mask (swiss cross that should be in the center) is not
in the center

Issue:

Reportlab QrCodeWidget has a fixed size to 32mm (with mm that is 72(ppi)
/ 25.4(1mm to inch) so ~2.83 pixels) and to get the widget to the full
size, a zoom is applied on the Drawing content (so on the QrCodeWidget).

Here are the zoom that are applied for several Drawing size:

- for 100 pixels: 100 / (32 * mm) => 1.012…
- for 256 pixels: 256 / (32 * mm) => 2.822…
- for 400 pixels: 400 / (32 * mm) => 4.409…

But in the code, the zoom is just hardcoded to mm (~2.83) which
corresponds to a barcode size of mm * 32 * mm => 257.127 pixels which is
kind of good enough for 256 pixels, but wrong for most other size.

In base code we only use 256 x 256 pixels so this is not much of an
issue unless someone want to use it for something else.

Fix:

With this commit, we apply the Drawing zoom (on which we have the
QrCodeWidget) to the ch_cross image.

Note:

Without the fix, the added test only fail on the third assertion for
each loop iteration, the farer we are from 257x257 pixels the bigger
the error is, for example for 256x256:

Result:   (38.45140, 38.45140, 52.25725984251969, 52.25725984251969)
Expected: (38.28288, 38.28288, 52.02823111111111, 52.02823111111111)

opw-4307177

PR NOTE: this could be merged in an higher version, and we could also just not fix this since as far as I can tell, we only need to support 256x256 and with and without the fix there is just one pixel of difference in this case.

![a](https://github.com/user-attachments/assets/f38e26ee-a129-4fd1-ae92-a9768274dbbb)

Forward-Port-Of: odoo/odoo#192091",fw-bot,2025-01-03 18:09:03+00:00,[],2025-01-20 09:22:46+00:00,2025-01-06 09:19:49+00:00,https://github.com/odoo/odoo/pull/192401,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569626869, 'issue_id': 2767975652, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192401.png)](https://mergebot.odoo.com/odoo/odoo/pull/192401)', 'created_at': datetime.datetime(2025, 1, 3, 18, 9, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569626885, 'issue_id': 2767975652, 'author': 'fw-bot', 'body': '@nle-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192386\n* odoo/odoo#192367\n* odoo/odoo#192350\n* odoo/odoo#192331\n* odoo/odoo#192315\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 18, 9, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572492115, 'issue_id': 2767975652, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 7, 49, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 18:09:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192401.png)](https://mergebot.odoo.com/odoo/odoo/pull/192401)

fw-bot (Issue Creator) on (2025-01-03 18:09:05 UTC): @nle-odoo @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192386
* odoo/odoo#192367
* odoo/odoo#192350
* odoo/odoo#192331
* odoo/odoo#192315

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

antoine162 on (2025-01-06 07:49:59 UTC): @robodoo r+

"
2767957517,pull_request,closed,,[FW][REF] hw_posbox_homepage: move all update tools to update page,"Update core code could be updated from ""Update"" page and IoT Handlers from ""Log Levels"" page.

Now, all update tools are moved to update page.

Backport of: odoo/odoo#190338

Task: 4395958

Forward-Port-Of: odoo/odoo#192266
Forward-Port-Of: odoo/odoo#191886",fw-bot,2025-01-03 17:53:59+00:00,[],2025-01-03 18:20:07+00:00,2025-01-03 18:20:07+00:00,https://github.com/odoo/odoo/pull/192400,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569607335, 'issue_id': 2767957517, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192400.png)](https://mergebot.odoo.com/odoo/odoo/pull/192400)', 'created_at': datetime.datetime(2025, 1, 3, 17, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569607379, 'issue_id': 2767957517, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#191886 failed.\n\nstdout:\n```\nAuto-merging addons/hw_posbox_homepage/controllers/homepage.py\nCONFLICT (content): Merge conflict in addons/hw_posbox_homepage/controllers/homepage.py\nAuto-merging addons/hw_posbox_homepage/static/src/app/Homepage.js\nAuto-merging addons/hw_posbox_homepage/static/src/app/components/dialog/HandlerDialog.js\nAuto-merging addons/hw_posbox_homepage/static/src/app/components/dialog/UpdateDialog.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 54, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:54:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192400.png)](https://mergebot.odoo.com/odoo/odoo/pull/192400)

fw-bot (Issue Creator) on (2025-01-03 17:54:02 UTC): @loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#191886 failed.

stdout:
```
Auto-merging addons/hw_posbox_homepage/controllers/homepage.py
CONFLICT (content): Merge conflict in addons/hw_posbox_homepage/controllers/homepage.py
Auto-merging addons/hw_posbox_homepage/static/src/app/Homepage.js
Auto-merging addons/hw_posbox_homepage/static/src/app/components/dialog/HandlerDialog.js
Auto-merging addons/hw_posbox_homepage/static/src/app/components/dialog/UpdateDialog.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767954987,pull_request,closed,,[FW][FIX] sale: prevent warning on quotation template,"**Issue:**

A warning popup appears incorrectly when a user-defined default is set for the ""Quotation Template (Sales Order)"" field. This warning is only relevant when the company is changed while creating a quotation.

**Steps to reproduce the issue:**

1- Navigate to Settings > Technical > Actions > User-defined Defaults.
2- Create a new User-defined Default for the field ""Quotation Template (Sales Order)"" with a default value (in JSON format) of 1 .
3- Go to the Sales module.
4- Create a new quotation.

A warning with the title ""Warning for the change of your quotation's company"" is displayed (see screenshot attached), despite the company not being changed.
The onchange('company_id') method is triggered by the user-defined default for the quotation template.

<img src=""https://github.com/user-attachments/assets/5f046310-05b7-48ab-9781-1ba4a36f2beb"" width=400 />


opw-4244961

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192267
Forward-Port-Of: odoo/odoo#184713",fw-bot,2025-01-03 17:52:01+00:00,[],2025-01-20 13:11:10+00:00,2025-01-06 12:20:16+00:00,https://github.com/odoo/odoo/pull/192399,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569605142, 'issue_id': 2767954987, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192399.png)](https://mergebot.odoo.com/odoo/odoo/pull/192399)', 'created_at': datetime.datetime(2025, 1, 3, 17, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569605155, 'issue_id': 2767954987, 'author': 'fw-bot', 'body': '@st-yes this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192383\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572194326, 'issue_id': 2767954987, 'author': 'fw-bot', 'body': '@st-yes this forward port of odoo/odoo#184713 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572659975, 'issue_id': 2767954987, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 24, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:52:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192399.png)](https://mergebot.odoo.com/odoo/odoo/pull/192399)

fw-bot (Issue Creator) on (2025-01-03 17:52:03 UTC): @st-yes this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192383

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 03:07:40 UTC): @st-yes this forward port of odoo/odoo#184713 is awaiting action (not merged or closed).

st-yes on (2025-01-06 09:24:13 UTC): @robodoo r+

"
2767950046,pull_request,closed,,[FW][PERF] event_crm: add missing index on `event_id`,"## Description
Integration between `event.event` <-> `crm.lead` heavily depends on the fkey `crm.lead.event_id`. There are multitude of `search`/ `read_group` just based on it.
Adding an index to avoid guaranteed `Seq.Scan` on `crm.lead`, as it's a table that tends to grow large on average.

## Reference
task-3977976

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191314",fw-bot,2025-01-03 17:47:39+00:00,[],2025-01-18 01:02:50+00:00,2025-01-04 00:30:07+00:00,https://github.com/odoo/odoo/pull/192398,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569600354, 'issue_id': 2767950046, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192398.png)](https://mergebot.odoo.com/odoo/odoo/pull/192398)', 'created_at': datetime.datetime(2025, 1, 3, 17, 47, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569600364, 'issue_id': 2767950046, 'author': 'fw-bot', 'body': '@pivi-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192380\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 47, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569880689, 'issue_id': 2767950046, 'author': 'pivi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 22, 11, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:47:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192398.png)](https://mergebot.odoo.com/odoo/odoo/pull/192398)

fw-bot (Issue Creator) on (2025-01-03 17:47:41 UTC): @pivi-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192380

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pivi-odoo on (2025-01-03 22:11:58 UTC): @robodoo r+

"
2767944591,pull_request,closed,,"[FW][PERF] iap_crm, website_crm_iap_reveal: missing index on `reveal_id`","## Description
ir_cron_crm_reveal_lead (executed by OdooBot)
⤷ _process_lead_generation
  ⤷ _perform_reveal_service
    ⤷ _create_lead_from_response
      ⤷ `already_created_lead = self.env['crm.lead'].search([
     ('reveal_id', '=', result['clearbit_id'])])`
         ⤷ `Seq.Scan` on `crm.lead`

Also `search(...)` -> `search_count(..., limit=1)` as it's just an existence check, searching for all instances is not necessary.

## Benchmark
On a database with over 8-digits count of `crm.lead`:

|               | Before | After    |
|---------------|--------|----------|
| Timings (hot) | 6.4 s  | 0.041 ms |
| Buffers usage | 2.6 GB | 32KB     |

## Reference
task-3977976

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191045",fw-bot,2025-01-03 17:42:46+00:00,[],2025-01-18 01:02:50+00:00,2025-01-04 00:30:03+00:00,https://github.com/odoo/odoo/pull/192397,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569594533, 'issue_id': 2767944591, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192397.png)](https://mergebot.odoo.com/odoo/odoo/pull/192397)', 'created_at': datetime.datetime(2025, 1, 3, 17, 42, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569594550, 'issue_id': 2767944591, 'author': 'fw-bot', 'body': '@pivi-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192381\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 42, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569874752, 'issue_id': 2767944591, 'author': 'pivi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 22, 4, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:42:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192397.png)](https://mergebot.odoo.com/odoo/odoo/pull/192397)

fw-bot (Issue Creator) on (2025-01-03 17:42:48 UTC): @pivi-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192381

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pivi-odoo on (2025-01-03 22:04:35 UTC): @robodoo r+

"
2767942597,pull_request,closed,,[FIX] hr_attendance: Auto Check-Out Checking Out Spuriously,"When ""Automatic Check-Out"" was enabled for the Attendance app, a scheduled action will run every given interval to clock out employees who are still clocked-in after their defined work hours for a day (typically 8 hours.) The issue is that this action was clocking every employee out every time it ran because the condition was comparing a value in seconds to a value in hours, where the former would dominate every time.

This change fixes this by normalizing the units to hours in all calculations.

This can be tested on Runbot by following these steps: 
1) In Attendances > Configuration, check the ""Automatic Check-Out"" box and set the tolerance to 0. The tolerance won't make much of a difference here because it is measured in hours and we'll find later that we are calculating time in seconds, but this is the tolerance that the customer has set.)

2) In Attendances > Overview, create a new attendance record for any given employee by clicking ""New."" Set the check-in date and time to be the current time to simulate a small interval of working time. Delete the check-out date entirely so that we functionally have a ""checked-in"" employee. (You could also clock this employee in using other methods like the kiosk, but I think this way is clear and easy too.)

3) Now that there is a short interval of time for this employee, navigate to Settings > Scheduled Actions > ""Attendance: Automatically check-out employees"" and run it manually to simulate what would happen when it should run 4 hours later.

4) Observe that the employee has not been clocked out because they have not gone over their allotted work hours for the day: BUG SQUASHED. 💥🐛

opw-4383268",hahu-odoo,2025-01-03 17:41:14+00:00,[],2025-01-27 10:18:01+00:00,2025-01-13 10:07:49+00:00,https://github.com/odoo/odoo/pull/192396,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569592619, 'issue_id': 2767942597, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192396.png)](https://mergebot.odoo.com/odoo/odoo/pull/192396)', 'created_at': datetime.datetime(2025, 1, 3, 17, 41, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569880646, 'issue_id': 2767942597, 'author': 'hahu-odoo', 'body': ""Just rebased my branch on top of the newest 18.0 commits because the Runbot tests kept failing on the web_unsplash tests for some reason. I'm hoping these commits solve that issue."", 'created_at': datetime.datetime(2025, 1, 3, 22, 11, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572761168, 'issue_id': 2767942597, 'author': 'Feyensv', 'body': ""Seems like something went wrong with your rebase, because we shouldn't see all those commits here (nor be pinged)."", 'created_at': datetime.datetime(2025, 1, 6, 9, 56, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586372659, 'issue_id': 2767942597, 'author': 'jugj-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 7, 27, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:41:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192396.png)](https://mergebot.odoo.com/odoo/odoo/pull/192396)

hahu-odoo (Issue Creator) on (2025-01-03 22:11:55 UTC): Just rebased my branch on top of the newest 18.0 commits because the Runbot tests kept failing on the web_unsplash tests for some reason. I'm hoping these commits solve that issue.

Feyensv on (2025-01-06 09:56:08 UTC): Seems like something went wrong with your rebase, because we shouldn't see all those commits here (nor be pinged).

jugj-odoo on (2025-01-13 07:27:45 UTC): @robodoo r+

"
2767926723,pull_request,closed,,[FW][FIX] web_editor: reset selection when editable is empty,"**Problem**:
When selecting all content (`Ctrl+A`) in an empty editable area, the selection includes only a `<br>` element. This causes issues when interacting with non-selectable content inside the selection, leading to unexpected behavior.

**Solution**:
If the selection contains only on `br` element, reset the selection on click to avoid inconsistent states.

**Steps to Reproduce**:
1. Open the editor.
2. Press `Ctrl+A` to select all.
3. Click anywhere within the editable area to hide the toolbar.
4. Observe that the toolbar remains visible, and the selection state does not update.

opw-4438513

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192084",fw-bot,2025-01-03 17:27:41+00:00,[],2025-01-22 15:14:23+00:00,2025-01-08 14:58:02+00:00,https://github.com/odoo/odoo/pull/192395,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569577415, 'issue_id': 2767926723, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192395.png)](https://mergebot.odoo.com/odoo/odoo/pull/192395)', 'created_at': datetime.datetime(2025, 1, 3, 17, 27, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569577424, 'issue_id': 2767926723, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 27, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574584769, 'issue_id': 2767926723, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 7, 7, 43, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577046488, 'issue_id': 2767926723, 'author': 'robodoo', 'body': '@walidsahli you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 8, 8, 26, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577046578, 'issue_id': 2767926723, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 1, 8, 8, 26, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577248336, 'issue_id': 2767926723, 'author': 'dmo-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 1, 8, 9, 51, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577248416, 'issue_id': 2767926723, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 8, 9, 51, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:27:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192395.png)](https://mergebot.odoo.com/odoo/odoo/pull/192395)

fw-bot (Issue Creator) on (2025-01-03 17:27:43 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 07:43:52 UTC): @walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

robodoo on (2025-01-08 08:26:55 UTC): @walidsahli you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-01-08 08:26:58 UTC): @walidsahli @dmo-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

dmo-odoo on (2025-01-08 09:51:50 UTC): @robodoo rebase-ff

robodoo on (2025-01-08 09:51:52 UTC): Merge method set to rebase and fast-forward.

"
2767920429,pull_request,closed,,[FW][IMP] hr_contract: fix contract count on stat button,"- add check on `employee_id` to the contract domain to exclude templates from the contract count on the stat buttons as it gives misleading info about the real contracts count

Task: 4402795

Forward-Port-Of: odoo/odoo#192145",fw-bot,2025-01-03 17:22:59+00:00,[],2025-01-22 10:58:06+00:00,2025-01-08 10:48:32+00:00,https://github.com/odoo/odoo/pull/192394,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569571100, 'issue_id': 2767920429, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192394.png)](https://mergebot.odoo.com/odoo/odoo/pull/192394)', 'created_at': datetime.datetime(2025, 1, 3, 17, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569571123, 'issue_id': 2767920429, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:23:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192394.png)](https://mergebot.odoo.com/odoo/odoo/pull/192394)

fw-bot (Issue Creator) on (2025-01-03 17:23:00 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767911710,pull_request,closed,,[FIX] mrp: finished date of unplanned work order,"Problem: When a manufacturing order with a work order that was not planned is completed, a resource.calendar.leave is created for the work order. During this process the work order’s date_finished field is recalculated. This means that this work order reserves a slot in the work center to be finished in the future even though it has already been completed.

Purpose: If the work order already has a date_finished value, then that value should be used instead of it being recalculated based on the availability of the work center. This will help ensure that completed work orders are not reserving time in a work center when it has already been completed.

Steps to Reproduce on Runbot:

1. Create a new storable product.
2. Create a BoM for this product and navigate to the Operations tab and add an operation.
3. Create a manufacturing order, confirm it, and then produce all without planning it.
4. Navigate to the completed work order and observe the finished date is in the future.
5. Navigate to the work centers working hours’ time off and find the record associated with the work order.
6. Observe that the end date is in the future.

opw-4393301

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",prri-odoo,2025-01-03 17:15:45+00:00,[],2025-01-29 09:47:10+00:00,2025-01-15 09:41:17+00:00,https://github.com/odoo/odoo/pull/192393,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569562732, 'issue_id': 2767911710, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192393.png)](https://mergebot.odoo.com/odoo/odoo/pull/192393)', 'created_at': datetime.datetime(2025, 1, 3, 17, 15, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583283854, 'issue_id': 2767911710, 'author': 'prri-odoo', 'body': 'Hello @Whenrow, thank you for the review! I have made changes to reflect your comments. Can you take another look and let me know what you think? Thank you!', 'created_at': datetime.datetime(2025, 1, 10, 17, 8, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590235516, 'issue_id': 2767911710, 'author': 'Whenrow', 'body': 'robodoo r+\r\nthank you', 'created_at': datetime.datetime(2025, 1, 14, 15, 24, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590316187, 'issue_id': 2767911710, 'author': 'robodoo', 'body': '@prri-odoo @Whenrow staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/73339358)', 'created_at': datetime.datetime(2025, 1, 14, 15, 53, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590427505, 'issue_id': 2767911710, 'author': 'sdegueldre', 'body': '@Whenrow seems that the staging failure is unrelated, can you robodoo retry?', 'created_at': datetime.datetime(2025, 1, 14, 16, 21, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591868018, 'issue_id': 2767911710, 'author': 'Whenrow', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 15, 7, 55, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:15:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192393.png)](https://mergebot.odoo.com/odoo/odoo/pull/192393)

prri-odoo (Issue Creator) on (2025-01-10 17:08:18 UTC): Hello @Whenrow, thank you for the review! I have made changes to reflect your comments. Can you take another look and let me know what you think? Thank you!

Whenrow on (2025-01-14 15:24:54 UTC): robodoo r+
thank you

robodoo on (2025-01-14 15:53:04 UTC): @prri-odoo @Whenrow staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/73339358)

sdegueldre on (2025-01-14 16:21:35 UTC): @Whenrow seems that the staging failure is unrelated, can you robodoo retry?

Whenrow on (2025-01-15 07:55:52 UTC): robodoo retry

"
2767908824,pull_request,closed,,[FW][REF] web_tour: separation of unit test in multiple files,"In this commit, we separate the unit tests that are all grouped in the tour_service file into files that are more explicit about what is being tested. We group everything related to the tour automatic feature into a separate file and we do the same for everything related to tour interactive.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192304
Forward-Port-Of: odoo/odoo#192001",fw-bot,2025-01-03 17:13:26+00:00,[],2025-01-23 13:03:33+00:00,2025-01-09 12:59:28+00:00,https://github.com/odoo/odoo/pull/192392,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569559799, 'issue_id': 2767908824, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192392.png)](https://mergebot.odoo.com/odoo/odoo/pull/192392)', 'created_at': datetime.datetime(2025, 1, 3, 17, 13, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569559817, 'issue_id': 2767908824, 'author': 'fw-bot', 'body': '@pipu-odoo @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 13, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569566981, 'issue_id': 2767908824, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 17, 19, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572493688, 'issue_id': 2767908824, 'author': 'fw-bot', 'body': '@pipu-odoo @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 7, 51, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572562985, 'issue_id': 2767908824, 'author': 'aab-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 32, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572563041, 'issue_id': 2767908824, 'author': 'robodoo', 'body': '@aab-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 6, 8, 32, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572577910, 'issue_id': 2767908824, 'author': 'robodoo', 'body': ""@pipu-odoo @aab-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 6, 8, 40, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572822811, 'issue_id': 2767908824, 'author': 'pipu-odoo', 'body': ""@odoo/rd-security Let's see https://github.com/odoo/odoo/pull/192001"", 'created_at': datetime.datetime(2025, 1, 6, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249207, 'issue_id': 2767908824, 'author': 'fw-bot', 'body': '@pipu-odoo @aab-odoo this forward port of odoo/odoo#192001 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557742, 'issue_id': 2767908824, 'author': 'fw-bot', 'body': '@pipu-odoo @aab-odoo this forward port of odoo/odoo#192001 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018797, 'issue_id': 2767908824, 'author': 'fw-bot', 'body': '@pipu-odoo @aab-odoo this forward port of odoo/odoo#192001 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579844236, 'issue_id': 2767908824, 'author': 'xmo-odoo', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 9, 11, 0, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:13:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192392.png)](https://mergebot.odoo.com/odoo/odoo/pull/192392)

fw-bot (Issue Creator) on (2025-01-03 17:13:28 UTC): @pipu-odoo @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-03 17:19:31 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-06 07:51:14 UTC): @pipu-odoo @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

aab-odoo on (2025-01-06 08:32:40 UTC): robodoo r+

robodoo on (2025-01-06 08:32:42 UTC): @aab-odoo you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-01-06 08:40:35 UTC): @pipu-odoo @aab-odoo 'ci/runbot' failed on this reviewed PR.

pipu-odoo on (2025-01-06 10:31:00 UTC): @odoo/rd-security Let's see https://github.com/odoo/odoo/pull/192001

fw-bot (Issue Creator) on (2025-01-07 02:01:31 UTC): @pipu-odoo @aab-odoo this forward port of odoo/odoo#192001 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:25 UTC): @pipu-odoo @aab-odoo this forward port of odoo/odoo#192001 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-09 02:01:27 UTC): @pipu-odoo @aab-odoo this forward port of odoo/odoo#192001 is awaiting action (not merged or closed).

xmo-odoo on (2025-01-09 11:00:19 UTC): @robodoo override=ci/security

"
2767897765,pull_request,closed,,[FW][REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371

Forward-Port-Of: odoo/odoo#192285",fw-bot,2025-01-03 17:04:19+00:00,[],2025-01-18 01:02:47+00:00,2025-01-04 00:29:49+00:00,https://github.com/odoo/odoo/pull/192391,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569548640, 'issue_id': 2767897765, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192391.png)](https://mergebot.odoo.com/odoo/odoo/pull/192391)', 'created_at': datetime.datetime(2025, 1, 3, 17, 4, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569548655, 'issue_id': 2767897765, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192370\n* odoo/odoo#192353\n* odoo/odoo#192332\n* odoo/odoo#192317\n* odoo/odoo#192302\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 4, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569579947, 'issue_id': 2767897765, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 17, 29, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:04:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192391.png)](https://mergebot.odoo.com/odoo/odoo/pull/192391)

fw-bot (Issue Creator) on (2025-01-03 17:04:21 UTC): @agr-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192370
* odoo/odoo#192353
* odoo/odoo#192332
* odoo/odoo#192317
* odoo/odoo#192302

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-01-03 17:29:59 UTC): @robodoo r+

"
2767897605,pull_request,closed,,[FW][FIX] account_report: options on composite report creation,"Steps to reproduce:

initial state: The accounting report ""General Ledger"" has the filter ""unfold all"" option activated and this filter can be selected on the report.

 - Create a new accounting report
 - Select ""Composite Report""
 - Add the General Ledger as a section
 - Save

 -> When navigating to the General Ledger, it no longer has the ""unfold all"" option selected.

 Solution provided:
 If the report is accessible, should not change its fields when being added to a composite report.

 task-4317649


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188476",fw-bot,2025-01-03 17:04:11+00:00,[],2025-01-20 11:13:12+00:00,2025-01-06 10:45:08+00:00,https://github.com/odoo/odoo/pull/192390,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569548488, 'issue_id': 2767897605, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192390.png)](https://mergebot.odoo.com/odoo/odoo/pull/192390)', 'created_at': datetime.datetime(2025, 1, 3, 17, 4, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569548532, 'issue_id': 2767897605, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 4, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572540682, 'issue_id': 2767897605, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 22, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:04:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192390.png)](https://mergebot.odoo.com/odoo/odoo/pull/192390)

fw-bot (Issue Creator) on (2025-01-03 17:04:15 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hupo-odoo on (2025-01-06 08:22:20 UTC): @robodoo r+

"
2767894816,pull_request,closed,,[FW][FIX] product: fix traceback when deleting the archived product variants,"Currently, a traceback is occurring when the user tries to delete archived product variants.

To reproduce this issue:

1) Install sale and enable product variants from configuration 
2) Create a product from the variant and archive it
3) Now try to delete the above archived product.

Error:- 
```
KeyError: 2
```

When the user archives a product and tries to delete the archived product, 
we get the `product_ids_by_template_id` as an empty dict.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L384-L388

This leads to the above traceback when accessing the product template id from an empty dict
from the below line.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L395

sentry-6173505059

Forward-Port-Of: odoo/odoo#191761",fw-bot,2025-01-03 17:01:50+00:00,[],2025-01-20 13:31:58+00:00,2025-01-06 13:28:23+00:00,https://github.com/odoo/odoo/pull/192389,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569545386, 'issue_id': 2767894816, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192389.png)](https://mergebot.odoo.com/odoo/odoo/pull/192389)', 'created_at': datetime.datetime(2025, 1, 3, 17, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569545452, 'issue_id': 2767894816, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 1, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 17:01:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192389.png)](https://mergebot.odoo.com/odoo/odoo/pull/192389)

fw-bot (Issue Creator) on (2025-01-03 17:01:54 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767890845,pull_request,closed,,[FIX] l10n_ec: reordering Payment Methods SRI,"Users cannot use the sequence widget to reorder payment methods

Steps to reproduce:
- Go to Invoicing / Configuration / Ecuadorian SRI / Payment Methods SRI
- Try to reorder the payment methods

Issue: payment methods cannot be reordered

opw-4446472
",agr-odoo,2025-01-03 16:58:59+00:00,[],2025-01-21 09:42:46+00:00,2025-01-07 09:36:09+00:00,https://github.com/odoo/odoo/pull/192388,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569541277, 'issue_id': 2767890845, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192388.png)](https://mergebot.odoo.com/odoo/odoo/pull/192388)', 'created_at': datetime.datetime(2025, 1, 3, 16, 59, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569595104, 'issue_id': 2767890845, 'author': 'vbe-odoo', 'body': ""@agr-odoo thanks for the PR. I've tested and it LGTM.\r\nThanks!"", 'created_at': datetime.datetime(2025, 1, 3, 17, 43, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:59:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192388.png)](https://mergebot.odoo.com/odoo/odoo/pull/192388)

vbe-odoo on (2025-01-03 17:43:10 UTC): @agr-odoo thanks for the PR. I've tested and it LGTM.
Thanks!

"
2767890116,pull_request,closed,,[FW][FIX] web_editor: correct triple click when applying font size,"Description of the issue this PR addresses:

Current behavior before PR:

Triple-clicking to select text, with a nextSibling set as contenteditable false, would reset the selection to its previous state.

Desired behavior after PR is merged:

Correct the triple click selection when applying font-size.

task-4440354

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192139",fw-bot,2025-01-03 16:58:26+00:00,[],2025-01-21 13:45:45+00:00,2025-01-07 13:42:58+00:00,https://github.com/odoo/odoo/pull/192387,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569540528, 'issue_id': 2767890116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192387.png)](https://mergebot.odoo.com/odoo/odoo/pull/192387)', 'created_at': datetime.datetime(2025, 1, 3, 16, 58, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569540542, 'issue_id': 2767890116, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 58, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569583375, 'issue_id': 2767890116, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 17, 33, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572321385, 'issue_id': 2767890116, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 5, 43, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572559546, 'issue_id': 2767890116, 'author': 'deso-odoo', 'body': '@dmo-odoo Rebased the branch. Runbot is green :green_circle:.', 'created_at': datetime.datetime(2025, 1, 6, 8, 30, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248972, 'issue_id': 2767890116, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#192139 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575121804, 'issue_id': 2767890116, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 6, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:58:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192387.png)](https://mergebot.odoo.com/odoo/odoo/pull/192387)

fw-bot (Issue Creator) on (2025-01-03 16:58:28 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 17:33:09 UTC): @deso-odoo @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-06 05:43:26 UTC): @deso-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

deso-odoo on (2025-01-06 08:30:57 UTC): @dmo-odoo Rebased the branch. Runbot is green :green_circle:.

fw-bot (Issue Creator) on (2025-01-07 02:01:23 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#192139 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-07 12:06:49 UTC): @robodoo r+

"
2767886197,pull_request,closed,,[FW][FIX] l10n_ch: non 256 size barcode has cross centered,"Scenario:

- install l10n_ch
- go to /report/barcode/?barcode_type=QR&value=&width=150&height=150&mask=ch_cross

=> the ch_cross mask (swiss cross that should be in the center) is not
in the center

Issue:

Reportlab QrCodeWidget has a fixed size to 32mm (with mm that is 72(ppi)
/ 25.4(1mm to inch) so ~2.83 pixels) and to get the widget to the full
size, a zoom is applied on the Drawing content (so on the QrCodeWidget).

Here are the zoom that are applied for several Drawing size:

- for 100 pixels: 100 / (32 * mm) => 1.012…
- for 256 pixels: 256 / (32 * mm) => 2.822…
- for 400 pixels: 400 / (32 * mm) => 4.409…

But in the code, the zoom is just hardcoded to mm (~2.83) which
corresponds to a barcode size of mm * 32 * mm => 257.127 pixels which is
kind of good enough for 256 pixels, but wrong for most other size.

In base code we only use 256 x 256 pixels so this is not much of an
issue unless someone want to use it for something else.

Fix:

With this commit, we apply the Drawing zoom (on which we have the
QrCodeWidget) to the ch_cross image.

Note:

Without the fix, the added test only fail on the third assertion for
each loop iteration, the farer we are from 257x257 pixels the bigger
the error is, for example for 256x256:

Result:   (38.45140, 38.45140, 52.25725984251969, 52.25725984251969)
Expected: (38.28288, 38.28288, 52.02823111111111, 52.02823111111111)

opw-4307177

PR NOTE: this could be merged in an higher version, and we could also just not fix this since as far as I can tell, we only need to support 256x256 and with and without the fix there is just one pixel of difference in this case.

![a](https://github.com/user-attachments/assets/f38e26ee-a129-4fd1-ae92-a9768274dbbb)

Forward-Port-Of: odoo/odoo#192091",fw-bot,2025-01-03 16:55:30+00:00,[],2025-01-20 13:11:16+00:00,2025-01-06 12:32:54+00:00,https://github.com/odoo/odoo/pull/192386,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569536410, 'issue_id': 2767886197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192386.png)](https://mergebot.odoo.com/odoo/odoo/pull/192386)', 'created_at': datetime.datetime(2025, 1, 3, 16, 55, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569536429, 'issue_id': 2767886197, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 55, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:55:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192386.png)](https://mergebot.odoo.com/odoo/odoo/pull/192386)

fw-bot (Issue Creator) on (2025-01-03 16:55:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767871507,pull_request,closed,,[IMP] hw_drivers: remove led status service,"As this feature is almost unused, we remove it to simplify the code on the IoT Box.",loouis-t,2025-01-03 16:43:58+00:00,[],2025-01-17 20:31:53+00:00,2025-01-03 20:13:18+00:00,https://github.com/odoo/odoo/pull/192385,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569521890, 'issue_id': 2767871507, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192385.png)](https://mergebot.odoo.com/odoo/odoo/pull/192385)', 'created_at': datetime.datetime(2025, 1, 3, 16, 44, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:44:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192385.png)](https://mergebot.odoo.com/odoo/odoo/pull/192385)

"
2767871321,pull_request,closed,,[FIX] point_of_sale: prevent error when splitting a bill with combo,"Before this commit, validating a split bill that contains a combo product would result in a key error.

opw-4416406

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-03 16:43:49+00:00,[],2025-01-21 15:35:14+00:00,2025-01-07 15:13:45+00:00,https://github.com/odoo/odoo/pull/192384,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569521702, 'issue_id': 2767871321, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192384.png)](https://mergebot.odoo.com/odoo/odoo/pull/192384)', 'created_at': datetime.datetime(2025, 1, 3, 16, 43, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:43:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192384.png)](https://mergebot.odoo.com/odoo/odoo/pull/192384)

"
2767853652,pull_request,closed,,[FW][FIX] sale: prevent warning on quotation template,"**Issue:**

A warning popup appears incorrectly when a user-defined default is set for the ""Quotation Template (Sales Order)"" field. This warning is only relevant when the company is changed while creating a quotation.

**Steps to reproduce the issue:**

1- Navigate to Settings > Technical > Actions > User-defined Defaults.
2- Create a new User-defined Default for the field ""Quotation Template (Sales Order)"" with a default value (in JSON format) of 1 .
3- Go to the Sales module.
4- Create a new quotation.

A warning with the title ""Warning for the change of your quotation's company"" is displayed (see screenshot attached), despite the company not being changed.
The onchange('company_id') method is triggered by the user-defined default for the quotation template.

<img src=""https://github.com/user-attachments/assets/5f046310-05b7-48ab-9781-1ba4a36f2beb"" width=400 />


opw-4244961

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192267
Forward-Port-Of: odoo/odoo#184713",fw-bot,2025-01-03 16:31:57+00:00,[],2025-01-20 19:11:45+00:00,2025-01-06 18:53:45+00:00,https://github.com/odoo/odoo/pull/192383,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569505518, 'issue_id': 2767853652, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192383.png)](https://mergebot.odoo.com/odoo/odoo/pull/192383)', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569505538, 'issue_id': 2767853652, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572658979, 'issue_id': 2767853652, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 23, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:31:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192383.png)](https://mergebot.odoo.com/odoo/odoo/pull/192383)

fw-bot (Issue Creator) on (2025-01-03 16:31:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-01-06 09:23:38 UTC): @robodoo r+

"
2767853246,pull_request,closed,,[FW][REF] hw_posbox_homepage: move all update tools to update page,"Update core code could be updated from ""Update"" page and IoT Handlers from ""Log Levels"" page.

Now, all update tools are moved to update page.

Backport of: odoo/odoo#190338

Task: 4395958

Forward-Port-Of: odoo/odoo#192266
Forward-Port-Of: odoo/odoo#191886",fw-bot,2025-01-03 16:31:42+00:00,[],2025-01-17 20:31:53+00:00,2025-01-03 20:13:22+00:00,https://github.com/odoo/odoo/pull/192382,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569505206, 'issue_id': 2767853246, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192382.png)](https://mergebot.odoo.com/odoo/odoo/pull/192382)', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569505224, 'issue_id': 2767853246, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569607343, 'issue_id': 2767853246, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko the next pull request (odoo/odoo#192400) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 17, 54, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569639413, 'issue_id': 2767853246, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 18, 20, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:31:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192382.png)](https://mergebot.odoo.com/odoo/odoo/pull/192382)

fw-bot (Issue Creator) on (2025-01-03 16:31:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 17:54:01 UTC): @loouis-t @Ysoroko the next pull request (odoo/odoo#192400) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-03 18:20:56 UTC): @robodoo r+

"
2767852876,pull_request,closed,,"[FW][PERF] iap_crm, website_crm_iap_reveal: missing index on `reveal_id`","## Description
ir_cron_crm_reveal_lead (executed by OdooBot)
⤷ _process_lead_generation
  ⤷ _perform_reveal_service
    ⤷ _create_lead_from_response
      ⤷ `already_created_lead = self.env['crm.lead'].search([
     ('reveal_id', '=', result['clearbit_id'])])`
         ⤷ `Seq.Scan` on `crm.lead`

Also `search(...)` -> `search_count(..., limit=1)` as it's just an existence check, searching for all instances is not necessary.

## Benchmark
On a database with over 8-digits count of `crm.lead`:

|               | Before | After    |
|---------------|--------|----------|
| Timings (hot) | 6.4 s  | 0.041 ms |
| Buffers usage | 2.6 GB | 32KB     |

## Reference
task-3977976

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191045",fw-bot,2025-01-03 16:31:26+00:00,[],2025-01-17 23:47:12+00:00,2025-01-03 23:40:11+00:00,https://github.com/odoo/odoo/pull/192381,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569505138, 'issue_id': 2767852876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192381.png)](https://mergebot.odoo.com/odoo/odoo/pull/192381)', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569505150, 'issue_id': 2767852876, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:31:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192381.png)](https://mergebot.odoo.com/odoo/odoo/pull/192381)

fw-bot (Issue Creator) on (2025-01-03 16:31:45 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767852687,pull_request,closed,,[FW][PERF] event_crm: add missing index on `event_id`,"## Description
Integration between `event.event` <-> `crm.lead` heavily depends on the fkey `crm.lead.event_id`. There are multitude of `search`/ `read_group` just based on it.
Adding an index to avoid guaranteed `Seq.Scan` on `crm.lead`, as it's a table that tends to grow large on average.

## Reference
task-3977976

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191314",fw-bot,2025-01-03 16:31:18+00:00,[],2025-01-18 01:22:16+00:00,2025-01-04 01:21:18+00:00,https://github.com/odoo/odoo/pull/192380,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569505090, 'issue_id': 2767852687, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192380.png)](https://mergebot.odoo.com/odoo/odoo/pull/192380)', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569505107, 'issue_id': 2767852687, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 31, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:31:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192380.png)](https://mergebot.odoo.com/odoo/odoo/pull/192380)

fw-bot (Issue Creator) on (2025-01-03 16:31:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767838943,pull_request,closed,,[FW][FIX] l10n_fr_account: Replace spaces in BIC codes,"This commit fixes an issue where BIC codes containing spaces caused errors when creating ```ir_model_data``` names. Spaces in the BIC code are now replaced with underscores to comply with the ```ir_model_data_name_nospaces``` constraint.
```
Traceback (most recent call last):
  File ""/home/odoo/src/odoo/18.0/odoo/service/server.py"", line 1306, in preload_registries
    registry = Registry.new(dbname, update_module=update_module)
  File ""<decorator-gen-13>"", line 2, in new
  File ""/home/odoo/src/odoo/18.0/odoo/tools/func.py"", line 97, in locked
    return func(inst, *args, **kwargs)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/registry.py"", line 127, in new
    odoo.modules.load_modules(registry, force_demo, status, update_module)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 476, in load_modules
    processed_modules += load_marked_modules(env, graph,
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 364, in load_marked_modules
    loaded, processed = load_module_graph(
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 181, in load_module_graph
    migrations.migrate_module(package, 'pre')
  File ""/home/odoo/src/odoo/18.0/odoo/modules/migration.py"", line 254, in migrate_module
    mod.migrate(self.cr, installed_version)
  File ""/home/odoo/src/odoo/18.0/addons/l10n_fr_account/migrations/2.2/pre-migrate-add-bank-xmlid.py"", line 2, in migrate
    cr.execute(
  File ""/home/odoo/src/odoo/18.0/odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
psycopg2.errors.CheckViolation: new row for relation ""ir_model_data"" violates check constraint ""ir_model_data_name_nospaces""
DETAIL:  Failing row contains (615259, null, 2024-12-27 12:27:08.464508, 2024-12-27 12:27:08.464508, null, t, bank_fr_bous frpp xxx, l10n_fr_account, res.bank, 28, null).
```
- UPG -2401824
- OPW - 4413544
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191970",fw-bot,2025-01-03 16:22:23+00:00,[],2025-01-21 21:03:07+00:00,2025-01-07 20:39:48+00:00,https://github.com/odoo/odoo/pull/192379,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569491475, 'issue_id': 2767838943, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192379.png)](https://mergebot.odoo.com/odoo/odoo/pull/192379)', 'created_at': datetime.datetime(2025, 1, 3, 16, 22, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569491487, 'issue_id': 2767838943, 'author': 'fw-bot', 'body': '@depr-odoo @gawa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192358\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 22, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249370, 'issue_id': 2767838943, 'author': 'fw-bot', 'body': '@depr-odoo @gawa-odoo this forward port of odoo/odoo#191970 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575527812, 'issue_id': 2767838943, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 15, 5, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:22:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192379.png)](https://mergebot.odoo.com/odoo/odoo/pull/192379)

fw-bot (Issue Creator) on (2025-01-03 16:22:25 UTC): @depr-odoo @gawa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192358

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-07 02:01:36 UTC): @depr-odoo @gawa-odoo this forward port of odoo/odoo#191970 is awaiting action (not merged or closed).

gawa-odoo on (2025-01-07 15:05:54 UTC): @robodoo r+

"
2767834071,pull_request,closed,,[IMP] im_livechat: leave live chat instead of unpinning,"Live chat operators currently cannot leave live chats, and visitors do not systematically leave chats either. This poses an issue when a limit on the number of concurrent sessions is set, as operators cannot free up sessions.

This PR replaces the unpin action with an unfollow action, allowing operators to leave live chats.

task-4440366

![Jan-03-2025 19-29-13](https://github.com/user-attachments/assets/0ffb46ff-53e0-4146-9d72-4606fb70648f)
",alexkuhn,2025-01-03 16:18:29+00:00,[],2025-01-12 21:47:03+00:00,2025-01-11 05:17:39+00:00,https://github.com/odoo/odoo/pull/192378,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569486523, 'issue_id': 2767834071, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192378.png)](https://mergebot.odoo.com/odoo/odoo/pull/192378)', 'created_at': datetime.datetime(2025, 1, 3, 16, 18, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583368938, 'issue_id': 2767834071, 'author': 'alexkuhn', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 1, 10, 17, 53, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583369199, 'issue_id': 2767834071, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 1, 10, 17, 53, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:18:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192378.png)](https://mergebot.odoo.com/odoo/odoo/pull/192378)

alexkuhn (Issue Creator) on (2025-01-10 17:53:33 UTC): @robodoo r+ rebase-ff

robodoo on (2025-01-10 17:53:39 UTC): Merge method set to rebase and fast-forward.

"
2767831895,pull_request,closed,,[FIX] point_of_sale: add default filter pos order,"Cancelled order should be ignored by default in the POS order report.

Steps to reproduce:
-------------------
* Open PoS create an order and go back to the backedn
* Open the PoS again and close the PoS, it will cancel the order
> Observation: Open PoS order report, it will include the cancelled
order, that can be missleading.

Why the fix:
------------
We add a new default filter that apply a domain to exclude the cancelled order from the report.

opw-4257734",robinengels,2025-01-03 16:16:43+00:00,[],2025-01-20 12:13:22+00:00,2025-01-06 12:06:56+00:00,https://github.com/odoo/odoo/pull/192377,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569484322, 'issue_id': 2767831895, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192377.png)](https://mergebot.odoo.com/odoo/odoo/pull/192377)', 'created_at': datetime.datetime(2025, 1, 3, 16, 16, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:16:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192377.png)](https://mergebot.odoo.com/odoo/odoo/pull/192377)

"
2767829677,pull_request,closed,,[FW][FIX] hr_holidays: resource leave should exist if not fully covered by public holiday,"to reproduce:
=============
- create a leave for an employee of 3 days
- create a public holiday that happens to be in the middle of the employee leave
- check work entries for the employee on that period -> only work entries of the public holiday are created

Problem:
========
- when the public holiday was created, the leave was not split to take into account the public holiday

Solution:
=========
- split the leave to take into account the public holiday

opw-4353988

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191552",fw-bot,2025-01-03 16:14:58+00:00,[],2025-01-17 22:12:03+00:00,2025-01-03 22:07:05+00:00,https://github.com/odoo/odoo/pull/192376,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569481996, 'issue_id': 2767829677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192376.png)](https://mergebot.odoo.com/odoo/odoo/pull/192376)', 'created_at': datetime.datetime(2025, 1, 3, 16, 15, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569482012, 'issue_id': 2767829677, 'author': 'fw-bot', 'body': '@abla001 @tivisse cherrypicking of pull request odoo/odoo#191552 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/models/resource.py\nCONFLICT (content): Merge conflict in addons/hr_holidays/models/resource.py\nAuto-merging addons/hr_holidays/tests/test_global_leaves.py\nCONFLICT (content): Merge conflict in addons/hr_holidays/tests/test_global_leaves.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 15, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569783754, 'issue_id': 2767829677, 'author': 'abla001', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 20, 35, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:15:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192376.png)](https://mergebot.odoo.com/odoo/odoo/pull/192376)

fw-bot (Issue Creator) on (2025-01-03 16:15:01 UTC): @abla001 @tivisse cherrypicking of pull request odoo/odoo#191552 failed.

stdout:
```
Auto-merging addons/hr_holidays/models/resource.py
CONFLICT (content): Merge conflict in addons/hr_holidays/models/resource.py
Auto-merging addons/hr_holidays/tests/test_global_leaves.py
CONFLICT (content): Merge conflict in addons/hr_holidays/tests/test_global_leaves.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abla001 on (2025-01-03 20:35:19 UTC): @robodoo r+

"
2767828447,pull_request,closed,,"[FIX] purchase_stock,stock_dropshipping: add dropship product to PO","If the user adds a product to a PO generated for a sold and
subcontrated service, the picking will be a receipt and the related
SO will not be updated

To reproduce the issue:
1. Create a service S:
   - Add a new vendor V
   - Subcontracted Service: True
2. Create a product P:
   - Vendor V
   - Routes: Dropship
3. Create and confirm a SO with 1 x S
4. Add 1 x P to the PO
5. Confirm the PO
   - Error 01: it generates a receipt while a dropship is expected
6. Process the receipt
   - Error 02: the SO does not change while a new SOL for P1 is expected

If the initial SO had P, it would work correctly. The user could
even add a second dropshipped product before confirming the PO, the
picking would be a dropship and there would be some new SOL for the
dropship products.

When confirming a SO, the process that generates the PO depends on
the SOL. If at least one of them is a product, the stock rule
mechanism will always handle the situation since it is called before
the `super`:
https://github.com/odoo/odoo/blob/899878f8e4d61de6b7bb6e4799a3e97e8d9f4434/addons/sale_stock/models/sale_order.py#L176-L178
while, service side, we generate the PO after `super`
https://github.com/odoo/odoo/blob/706431510110a005618a2acaf6566f2bb61d5114/addons/sale_purchase/models/sale_order.py#L20-L24
And, good news, everything works correctly when the PO is created by
the stock rules.

However, when creating a PO for a sold service, we have few mistakes.
First, we don't provide any operation type:
https://github.com/odoo/odoo/blob/238a41e35280256382f6509182b9e900fb4f7aba/addons/sale_purchase/models/sale_order_line.py#L131-L141
We therefore use the default one, a receipt:
https://github.com/odoo/odoo/blob/f9381a0611207e0fec6b957aef3b160437ecbafb/addons/purchase_stock/models/purchase_order.py#L23
We don't provide any destination address either, as explicitly said
by the comment: ""False since only supported in stock"". All this
could make sense as long as we don't add any product. If we do, we
will then have an issue with the picking: error 01. The PO has been
created to subcontract a service to a customer. It's a dropship-like
situation. We should therefore anticipate the situation and set some
correct values in case we add some products.

Then, when processing the picking, we update the related SO in some
conditions:
https://github.com/odoo/odoo/blob/84d2c884300f090103b917b8911d82dbeac9279e/addons/sale_stock/models/stock.py#L119-L130
Fixing error 01 solves a part of the conditions: we now have a
correct destination location. However, we still don't have any SO
linked to the picking. This info actually comes from the group:
https://github.com/odoo/odoo/blob/84d2c884300f090103b917b8911d82dbeac9279e/addons/sale_stock/models/stock.py#L87-L90
However, when confirming the PO, it leads to the picking creation.
To do so, we directly create the missing group but we don't provide
any value for `sale_id`:
https://github.com/odoo/odoo/blob/f9381a0611207e0fec6b957aef3b160437ecbafb/addons/purchase_stock/models/purchase_order.py#L259-L264

OPW-4332074",adwid,2025-01-03 16:13:59+00:00,[],2025-01-24 19:58:49+00:00,2025-01-10 19:26:09+00:00,https://github.com/odoo/odoo/pull/192375,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569480740, 'issue_id': 2767828447, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192375.png)](https://mergebot.odoo.com/odoo/odoo/pull/192375)', 'created_at': datetime.datetime(2025, 1, 3, 16, 14, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583075964, 'issue_id': 2767828447, 'author': 'ticodoo', 'body': 'It _feels_ like it might be a bit of a strong assumption that any POs created from a ""subcontract service"" SO should have all goods added to it dropshipped to the SO customer, but this is also probably a rare use case anyways so :shrug: \r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 10, 16, 3, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:14:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192375.png)](https://mergebot.odoo.com/odoo/odoo/pull/192375)

ticodoo on (2025-01-10 16:03:55 UTC): It _feels_ like it might be a bit of a strong assumption that any POs created from a ""subcontract service"" SO should have all goods added to it dropshipped to the SO customer, but this is also probably a rare use case anyways so :shrug: 

@robodoo r+

"
2767825420,pull_request,closed,,[FW][FIX] web_editor: reset selection when editable is empty,"**Problem**:
When selecting all content (`Ctrl+A`) in an empty editable area, the selection includes only a `<br>` element. This causes issues when interacting with non-selectable content inside the selection, leading to unexpected behavior.

**Solution**:
If the selection contains only on `br` element, reset the selection on click to avoid inconsistent states.

**Steps to Reproduce**:
1. Open the editor.
2. Press `Ctrl+A` to select all.
3. Click anywhere within the editable area to hide the toolbar.
4. Observe that the toolbar remains visible, and the selection state does not update.

opw-4438513

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192084",fw-bot,2025-01-03 16:11:38+00:00,[],2025-01-22 10:58:09+00:00,2025-01-08 10:52:00+00:00,https://github.com/odoo/odoo/pull/192374,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569477713, 'issue_id': 2767825420, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192374.png)](https://mergebot.odoo.com/odoo/odoo/pull/192374)', 'created_at': datetime.datetime(2025, 1, 3, 16, 11, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569477733, 'issue_id': 2767825420, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 16, 11, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574501322, 'issue_id': 2767825420, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 6, 43, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574547354, 'issue_id': 2767825420, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: ci/runbot on 9b0795135110f9f1017d1dbad48cf8b24860e142 (view more at https://runbot.odoo.com/runbot/build/72954501)', 'created_at': datetime.datetime(2025, 1, 7, 7, 15, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574584808, 'issue_id': 2767825420, 'author': 'fw-bot', 'body': ""@walidsahli @dmo-odoo child PR odoo/odoo#192395 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 7, 7, 43, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557652, 'issue_id': 2767825420, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577043233, 'issue_id': 2767825420, 'author': 'walidsahli', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 8, 8, 25, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:11:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192374.png)](https://mergebot.odoo.com/odoo/odoo/pull/192374)

fw-bot (Issue Creator) on (2025-01-03 16:11:40 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-07 06:43:25 UTC): @robodoo r+

robodoo on (2025-01-07 07:15:56 UTC): @walidsahli @dmo-odoo staging failed: ci/runbot on 9b0795135110f9f1017d1dbad48cf8b24860e142 (view more at https://runbot.odoo.com/runbot/build/72954501)

fw-bot (Issue Creator) on (2025-01-07 07:43:54 UTC): @walidsahli @dmo-odoo child PR odoo/odoo#192395 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-01-08 02:01:21 UTC): @walidsahli @dmo-odoo this forward port of odoo/odoo#192084 is awaiting action (not merged or closed).

walidsahli on (2025-01-08 08:25:50 UTC): @robodoo retry

"
2767823901,pull_request,closed,,[FIX] point_of_sale: add default filter pos order,"Cancelled order should be ignored by default in the POS order report.

Steps to reproduce:
-------------------
* Open PoS create an order and go back to the backedn
* Open the PoS again and close the PoS, it will cancel the order
> Observation: Open PoS order report, it will include the cancelled
order, that can be missleading.

Why the fix:
------------
We add a new default filter that apply a domain to exclude the cancelled order from the report.

opw-4257734",robinengels,2025-01-03 16:10:32+00:00,[],2025-01-03 16:16:15+00:00,2025-01-03 16:16:15+00:00,https://github.com/odoo/odoo/pull/192373,[],"[{'comment_id': 2569476247, 'issue_id': 2767823901, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192373.png)](https://mergebot.odoo.com/odoo/odoo/pull/192373)', 'created_at': datetime.datetime(2025, 1, 3, 16, 10, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:10:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192373.png)](https://mergebot.odoo.com/odoo/odoo/pull/192373)

"
2767820298,pull_request,open,,"[IMP] {purchase_,sale_,}stock: consistency fixes for validation and UI","* Redundant 'Unreserve' action removed from the actions menu in the deliveries view.
* Snoozing a product now returns the view to the list of remaining unsnoozed replenishments of the given product.
* There are now validation checks across `purchase`, `sale` and `stock` that prevent fractional quantities for products tracked by serial numbers. Blocking warnings for the former two and automatic rounding up for the latter.

Task ID: [4037390](https://www.odoo.com/odoo/project/966/tasks/4037390)",lugr-odoo,2025-01-03 16:07:49+00:00,[],2025-01-03 17:00:27+00:00,,https://github.com/odoo/odoo/pull/192372,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569472471, 'issue_id': 2767820298, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192372.png)](https://mergebot.odoo.com/odoo/odoo/pull/192372)', 'created_at': datetime.datetime(2025, 1, 3, 16, 7, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 16:07:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192372.png)](https://mergebot.odoo.com/odoo/odoo/pull/192372)

"
2767805124,pull_request,open,,[FIX] point_of_sale: fix tax_tag_invert computation of sale aml,"**Steps to reproduce:**
- Install Accounting, Point of Sale and l10n_be
- Switch to a Belgian company (e.g. BE Company CoA)
- Create a fixed included tax:
  * Tax Computation: Fixed
  * Amount: [any] (e.g. 5.00)
  * Included in Price: [checked]
  * Affect Base of Subsequent Taxes: [checked]
- Make sure that this tax is the first one
- Make sure that ""Base Affected by Previous Taxes"" of the ""21%"" tax is checked
- Create a product with the fixed tax (1st) and the 21% tax (2nd)
- Open a POS session
- Add the product
- Add a 100% discount
- Pay the order ($0)
- Close the POS session
- Go to ""Accounting / Reporting / Statement Reports / Tax Report""
- Select ""VAT Return (BE)"" as Report

**Issue:**
The amount of the fixed tax is taken into account twice in ""03 - Operations subject to 21% VAT"" section.
However, it should not be taken into account as a 100% discount has been applied.

**Cause:**
By opening the POS session in ""Point of Sale / Orders / Sessions"" and checking the created journal item, we can see that the line on the income account is considered as a refund and the value of ""Invert Tags"" is False although this value is True for the tax lines.
As it is not inverted, it is not cancelling the tax line with the fixed tax.
The value of ""tax_tag_invert"" for this line is not computed in the POS module.
Its value comes from the original compute method in account mdoule. The created account move from the POS has ""entry"" as type and as the tax is of ""sale"" type and the line is considered as a refund, ""tax_tag_invert"" is set as False.

**Solution:**
The value of ""tax_tag_invert"" for the line with the income account should have the same value than the corresponding tax line as it is the case when creating an invoice with the same product and a 100% discount.
The value of ""tax_tag_invert"" will be computed directly when the line is created without going through the compute method of the field.

opw-4211071




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-01-03 15:57:14+00:00,[],2025-01-06 10:39:30+00:00,,https://github.com/odoo/odoo/pull/192371,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569457216, 'issue_id': 2767805124, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192371.png)](https://mergebot.odoo.com/odoo/odoo/pull/192371)', 'created_at': datetime.datetime(2025, 1, 3, 15, 57, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:57:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192371.png)](https://mergebot.odoo.com/odoo/odoo/pull/192371)

"
2767797951,pull_request,closed,,[FW][REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371

Forward-Port-Of: odoo/odoo#192285",fw-bot,2025-01-03 15:51:59+00:00,[],2025-01-17 20:31:52+00:00,2025-01-03 20:13:13+00:00,https://github.com/odoo/odoo/pull/192370,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569450284, 'issue_id': 2767797951, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192370.png)](https://mergebot.odoo.com/odoo/odoo/pull/192370)', 'created_at': datetime.datetime(2025, 1, 3, 15, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569450297, 'issue_id': 2767797951, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 52, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:52:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192370.png)](https://mergebot.odoo.com/odoo/odoo/pull/192370)

fw-bot (Issue Creator) on (2025-01-03 15:52:01 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767796445,pull_request,closed,,[FW][FIX] product: fix traceback when deleting the archived product variants,"Currently, a traceback is occurring when the user tries to delete archived product variants.

To reproduce this issue:

1) Install sale and enable product variants from configuration 
2) Create a product from the variant and archive it
3) Now try to delete the above archived product.

Error:- 
```
KeyError: 2
```

When the user archives a product and tries to delete the archived product, 
we get the `product_ids_by_template_id` as an empty dict.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L384-L388

This leads to the above traceback when accessing the product template id from an empty dict
from the below line.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L395

sentry-6173505059

Forward-Port-Of: odoo/odoo#191761",fw-bot,2025-01-03 15:50:56+00:00,[],2025-01-20 11:13:14+00:00,2025-01-06 10:45:19+00:00,https://github.com/odoo/odoo/pull/192369,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569448867, 'issue_id': 2767796445, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192369.png)](https://mergebot.odoo.com/odoo/odoo/pull/192369)', 'created_at': datetime.datetime(2025, 1, 3, 15, 50, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569448888, 'issue_id': 2767796445, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 50, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:50:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192369.png)](https://mergebot.odoo.com/odoo/odoo/pull/192369)

fw-bot (Issue Creator) on (2025-01-03 15:50:58 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767791738,pull_request,closed,,[FW][FIX] account_report: options on composite report creation,"Steps to reproduce:

initial state: The accounting report ""General Ledger"" has the filter ""unfold all"" option activated and this filter can be selected on the report.

 - Create a new accounting report
 - Select ""Composite Report""
 - Add the General Ledger as a section
 - Save

 -> When navigating to the General Ledger, it no longer has the ""unfold all"" option selected.

 Solution provided:
 If the report is accessible, should not change its fields when being added to a composite report.

 task-4317649


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188476",fw-bot,2025-01-03 15:47:29+00:00,[],2025-01-20 11:13:18+00:00,2025-01-06 11:07:09+00:00,https://github.com/odoo/odoo/pull/192368,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569444093, 'issue_id': 2767791738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192368.png)](https://mergebot.odoo.com/odoo/odoo/pull/192368)', 'created_at': datetime.datetime(2025, 1, 3, 15, 47, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569444123, 'issue_id': 2767791738, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 47, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572538967, 'issue_id': 2767791738, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 8, 21, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:47:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192368.png)](https://mergebot.odoo.com/odoo/odoo/pull/192368)

fw-bot (Issue Creator) on (2025-01-03 15:47:33 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hupo-odoo on (2025-01-06 08:21:10 UTC): @robodoo r+

"
2767791366,pull_request,closed,,[FW][FIX] l10n_ch: non 256 size barcode has cross centered,"Scenario:

- install l10n_ch
- go to /report/barcode/?barcode_type=QR&value=&width=150&height=150&mask=ch_cross

=> the ch_cross mask (swiss cross that should be in the center) is not
in the center

Issue:

Reportlab QrCodeWidget has a fixed size to 32mm (with mm that is 72(ppi)
/ 25.4(1mm to inch) so ~2.83 pixels) and to get the widget to the full
size, a zoom is applied on the Drawing content (so on the QrCodeWidget).

Here are the zoom that are applied for several Drawing size:

- for 100 pixels: 100 / (32 * mm) => 1.012…
- for 256 pixels: 256 / (32 * mm) => 2.822…
- for 400 pixels: 400 / (32 * mm) => 4.409…

But in the code, the zoom is just hardcoded to mm (~2.83) which
corresponds to a barcode size of mm * 32 * mm => 257.127 pixels which is
kind of good enough for 256 pixels, but wrong for most other size.

In base code we only use 256 x 256 pixels so this is not much of an
issue unless someone want to use it for something else.

Fix:

With this commit, we apply the Drawing zoom (on which we have the
QrCodeWidget) to the ch_cross image.

Note:

Without the fix, the added test only fail on the third assertion for
each loop iteration, the farer we are from 257x257 pixels the bigger
the error is, for example for 256x256:

Result:   (38.45140, 38.45140, 52.25725984251969, 52.25725984251969)
Expected: (38.28288, 38.28288, 52.02823111111111, 52.02823111111111)

opw-4307177

PR NOTE: this could be merged in an higher version, and we could also just not fix this since as far as I can tell, we only need to support 256x256 and with and without the fix there is just one pixel of difference in this case.

![a](https://github.com/user-attachments/assets/f38e26ee-a129-4fd1-ae92-a9768274dbbb)

Forward-Port-Of: odoo/odoo#192091",fw-bot,2025-01-03 15:47:13+00:00,[],2025-01-20 09:37:28+00:00,2025-01-06 09:29:37+00:00,https://github.com/odoo/odoo/pull/192367,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569443714, 'issue_id': 2767791366, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192367.png)](https://mergebot.odoo.com/odoo/odoo/pull/192367)', 'created_at': datetime.datetime(2025, 1, 3, 15, 47, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569443737, 'issue_id': 2767791366, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 47, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:47:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192367.png)](https://mergebot.odoo.com/odoo/odoo/pull/192367)

fw-bot (Issue Creator) on (2025-01-03 15:47:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767790635,pull_request,open,,[IMP] hr_timesheet: Fix `subtotal_footer` mobile alignment on page_timesheets task  form view,"- add both label and field on `div class='d-flex'` to take only one cell in the grid to reduce the vertical space taken in the mobile view

Task-4347949

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-03 15:46:41+00:00,[],2025-01-03 16:00:17+00:00,,https://github.com/odoo/odoo/pull/192366,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569442981, 'issue_id': 2767790635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192366.png)](https://mergebot.odoo.com/odoo/odoo/pull/192366)', 'created_at': datetime.datetime(2025, 1, 3, 15, 46, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:46:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192366.png)](https://mergebot.odoo.com/odoo/odoo/pull/192366)

"
2767783041,pull_request,closed,,[FIX] account: non updated db don't use name_placeholder in views,"Description of the issue this commit addresses:

Since the deployment of the new dynamic placeholder feature for move names, the code has been deployed on stable versions starting from 18.0 but the views are still only updated if the user manually does it meaning that moves the account move form view might have a unwanted behavior since the lack of change in the view while the code was updated will show the name when we don't want to and the other way around too in some cases.

---

Desired behavior after this commit is merged:

This commit modifies the get_view of the account.move model to make sure the invisible attribute of the name is correctly set.

---

no  task

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Megaaaaaa,2025-01-03 15:41:06+00:00,[],2025-01-22 20:31:39+00:00,2025-01-08 19:30:30+00:00,https://github.com/odoo/odoo/pull/192365,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569435480, 'issue_id': 2767783041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192365.png)](https://mergebot.odoo.com/odoo/odoo/pull/192365)', 'created_at': datetime.datetime(2025, 1, 3, 15, 41, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577970087, 'issue_id': 2767783041, 'author': 'robodoo', 'body': 'Forward-port disabled (via limit).', 'created_at': datetime.datetime(2025, 1, 8, 15, 33, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:41:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192365.png)](https://mergebot.odoo.com/odoo/odoo/pull/192365)

robodoo on (2025-01-08 15:33:12 UTC): Forward-port disabled (via limit).

"
2767772598,pull_request,closed,,[FW][FIX] web_editor: update code view after saving images,"**Problem**:
When in `codeview`, calling `saveModifiedImagesPromise` creates the attachments and updates the DOM but does not update the `codeview`. As a result, the non-urgent save (`this.updateValue()`) uses outdated content from the `codeview`.

**Solution**:
Ensure that the `codeview` content is updated after saving attachments to reflect the latest changes.

**Steps to reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192009
Forward-Port-Of: odoo/odoo#191475",fw-bot,2025-01-03 15:36:08+00:00,[],2025-01-18 01:02:46+00:00,2025-01-04 00:29:38+00:00,https://github.com/odoo/odoo/pull/192364,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569420071, 'issue_id': 2767772598, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192364.png)](https://mergebot.odoo.com/odoo/odoo/pull/192364)', 'created_at': datetime.datetime(2025, 1, 3, 15, 36, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569420111, 'issue_id': 2767772598, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192348\n* odoo/odoo#192330\n* odoo/odoo#192312\n* odoo/odoo#192296\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 36, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569454878, 'issue_id': 2767772598, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 15, 55, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569493686, 'issue_id': 2767772598, 'author': 'robodoo', 'body': ""@walidsahli @dmo-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 3, 16, 23, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:36:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192364.png)](https://mergebot.odoo.com/odoo/odoo/pull/192364)

fw-bot (Issue Creator) on (2025-01-03 15:36:10 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192348
* odoo/odoo#192330
* odoo/odoo#192312
* odoo/odoo#192296

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-03 15:55:34 UTC): @robodoo r+

robodoo on (2025-01-03 16:23:39 UTC): @walidsahli @dmo-odoo 'ci/runbot' failed on this reviewed PR.

"
2767752725,pull_request,closed,,[MOV] hr_payroll: move fields from hr_payroll/resource_calendar to resource/resource_calendar,"Different modules could use the fields defined in hr_payroll/resource_calendar. However, these modules shouldn't require the payroll app to be installed in order to be able to use those fields.

Hence the fields hours_per_week, full_time_required_hours, is_fulltime, work_time_rate over are moved to the base resource model.

task-4448549",abdelrahmankhaledg,2025-01-03 15:24:28+00:00,[],2025-01-22 14:13:35+00:00,2025-01-22 14:10:32+00:00,https://github.com/odoo/odoo/pull/192363,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2569394792, 'issue_id': 2767752725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192363.png)](https://mergebot.odoo.com/odoo/odoo/pull/192363)', 'created_at': datetime.datetime(2025, 1, 3, 15, 24, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606775517, 'issue_id': 2767752725, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 22, 9, 54, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:24:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192363.png)](https://mergebot.odoo.com/odoo/odoo/pull/192363)

tivisse on (2025-01-22 09:54:32 UTC): @robodoo r+

"
2767747335,pull_request,closed,,"[FIX] {sale_purchase_,}stock: use pull rules on cross-dock","## General Issue:

Cross-dock rules cannot function as the main rule without disrupting unrelated flows (e.g., regular purchases). They also fail as exceptions, as they are not triggered in such cases.

## Cause:

Push and pull rules have been refactored in saas-17.2 (see commit 11e69870db1c49d9a6af79ffd263e4e162b34b6b). Previously, most flows relied solely on pull rules, generating the entire picking chain at inventory need confirmation. With the refactoring, push rules are now prioritized, generating pickings step-by-step upon validation. While this increases route flexibility, it introduces issues for flows expected to be entirely triggered by sales order (SO) validations, such as cross-docking.

In version 18.0, cross-dock rules were refactored to rely only on push rules (see commit af5479dfdbed0959c02bd862c8184fe141b51788), but this created significant issues.

### Steps to Reproduce:

- In the settings, Enable multi-step routes.
- Configure the warehouse for 2-step receipt and delivery
> automatically unarchives the cross-dock route and updates its rules:
    - Push rule: Input → Output
    - Buy rule: → Partner/Customer

#### Scenario 1: Cross-dock set on the product

#### Issue: Cannot receipt in 2 steps → cross dock can not be the rule.

- Create an inventory-tracked product with the buy and cross-dock routes.
- Create and confirm a purchase order for 1 unit of the product.
- Validate the receipt from Vendor → Input.

Result: 

Instead of generating a picking Input → Stock, the cross-dock push rule triggers, generating a picking Input → Output.

### Cause:

Rules are prioritized by product-specific rules, followed by warehouse rules:
https://github.com/odoo/odoo/blob/e3d54695862f73d9be6c35121def57ed641a1a45/addons/stock/models/stock_rule.py#L535-L539 The cross-dock push rule therefore overrides regular 2-step receipt rules, even though cross-dock routes only make sense for flows initiated by an SO.

#### Scenario 2: Cross-dock not set on the product

#### Issue: Cannot trigger cross-docking by any means → cross dock can not be the exception.

- Create an inventory-tracked product with only the buy route.
- Create an SO for 1 unit of the product and set the cross-dock route on the Sales Order Line (SOL). Confirm the SO.
> A purchase order (PO) is created.
- Confirm the PO.
> A regular receipt is generated.
- Confirm the receipt.

Result: 

The flow proceeds as a regular 2-step delivery; the cross-dock route is not applied.

### Cause:

The SO uses the cross-dock route only for the buy rule to generate a PO. Once the PO is generated is role in this world is done. There is no way to provide a route on the PO, it will just generate a regular receipt: https://github.com/odoo/odoo/blob/e3d54695862f73d9be6c35121def57ed641a1a45/addons/purchase_stock/models/purchase_order_line.py#L343-L350 Once it is confirmed, the flow defaults to regular 2-step delivery rules, as the cross-dock route is neither a default nor set on the product.

### Fix:

We add the possibility of transmitting the route_id from the pol. As such, we make it possible to use the crossdock route by setting it on the sol, to generate a PO that will pursue with the crossdock route. Furthermore, we discourage to use the crossdock route on products/product categories by setting the default setable values to False.

opw-4380375
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-01-03 15:20:39+00:00,[],2025-02-03 22:24:59+00:00,2025-01-20 21:48:33+00:00,https://github.com/odoo/odoo/pull/192362,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569389498, 'issue_id': 2767747335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192362.png)](https://mergebot.odoo.com/odoo/odoo/pull/192362)', 'created_at': datetime.datetime(2025, 1, 3, 15, 20, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598604458, 'issue_id': 2767747335, 'author': 'lase-odoo', 'body': '@epictete the accounting review is unnecessary, you were assigned because of a spillage on my hand: \r\nI did a git reset --hard origin/18.0 forgot about it, amended the last commit present rather than creating a new one before pushing the diff.. Sorry for bothering.', 'created_at': datetime.datetime(2025, 1, 17, 15, 24, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598633675, 'issue_id': 2767747335, 'author': 'lase-odoo', 'body': 'robodoo up to saas-18.1', 'created_at': datetime.datetime(2025, 1, 17, 15, 39, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598633745, 'issue_id': 2767747335, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 1, 17, 15, 39, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598690188, 'issue_id': 2767747335, 'author': 'lase-odoo', 'body': 'Master change (route removal): https://github.com/odoo/odoo/pull/194194', 'created_at': datetime.datetime(2025, 1, 17, 16, 7, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2602680952, 'issue_id': 2767747335, 'author': 'clesgow', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 20, 15, 16, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:20:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192362.png)](https://mergebot.odoo.com/odoo/odoo/pull/192362)

lase-odoo (Issue Creator) on (2025-01-17 15:24:44 UTC): @epictete the accounting review is unnecessary, you were assigned because of a spillage on my hand: 
I did a git reset --hard origin/18.0 forgot about it, amended the last commit present rather than creating a new one before pushing the diff.. Sorry for bothering.

lase-odoo (Issue Creator) on (2025-01-17 15:39:33 UTC): robodoo up to saas-18.1

robodoo on (2025-01-17 15:39:35 UTC): Forward-porting to 'saas-18.1'.

lase-odoo (Issue Creator) on (2025-01-17 16:07:46 UTC): Master change (route removal): https://github.com/odoo/odoo/pull/194194

clesgow on (2025-01-20 15:16:02 UTC): @robodoo r+

"
2767743302,pull_request,closed,,"[FIX] sale,website_sale: pricelist valid dates not applied","If you create a pricelist rule with a discount that has a valid date range, that discount is only applied if the SO was created in that range. Even if it is confirmed within the valid date range.

Fix:
For website_sale orders we consider the date to be the current time when computing the price.

opw-4375643

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",livaios,2025-01-03 15:17:47+00:00,[],2025-01-17 17:35:06+00:00,2025-01-03 17:22:54+00:00,https://github.com/odoo/odoo/pull/192361,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569385446, 'issue_id': 2767743302, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192361.png)](https://mergebot.odoo.com/odoo/odoo/pull/192361)', 'created_at': datetime.datetime(2025, 1, 3, 15, 17, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569410640, 'issue_id': 2767743302, 'author': 'livaios', 'body': 'Backport of https://github.com/odoo/odoo/pull/191538', 'created_at': datetime.datetime(2025, 1, 3, 15, 33, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569415420, 'issue_id': 2767743302, 'author': 'Feyensv', 'body': '@robodoo ignore', 'created_at': datetime.datetime(2025, 1, 3, 15, 34, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569415524, 'issue_id': 2767743302, 'author': 'robodoo', 'body': ""'ignore' is deprecated, use 'fw=no' to disable forward porting."", 'created_at': datetime.datetime(2025, 1, 3, 15, 34, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569415605, 'issue_id': 2767743302, 'author': 'robodoo', 'body': 'Forward-port disabled (via limit).', 'created_at': datetime.datetime(2025, 1, 3, 15, 34, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569416173, 'issue_id': 2767743302, 'author': 'Feyensv', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 3, 15, 35, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569416299, 'issue_id': 2767743302, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 3, 15, 35, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569452511, 'issue_id': 2767743302, 'author': 'robodoo', 'body': ""@livaios @Feyensv 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 3, 15, 53, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:17:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192361.png)](https://mergebot.odoo.com/odoo/odoo/pull/192361)

livaios (Issue Creator) on (2025-01-03 15:33:44 UTC): Backport of https://github.com/odoo/odoo/pull/191538

Feyensv on (2025-01-03 15:34:54 UTC): @robodoo ignore

robodoo on (2025-01-03 15:34:56 UTC): 'ignore' is deprecated, use 'fw=no' to disable forward porting.

robodoo on (2025-01-03 15:34:58 UTC): Forward-port disabled (via limit).

Feyensv on (2025-01-03 15:35:05 UTC): @robodoo fw=no

robodoo on (2025-01-03 15:35:07 UTC): Disabled forward-porting.

robodoo on (2025-01-03 15:53:41 UTC): @livaios @Feyensv 'ci/template' failed on this reviewed PR.

"
2767734256,pull_request,closed,,[FW][IMP] account: Allow Powerpoint attachment from mail alias,"Problem
---------
Currently, powerpoints attachments received by a mail alias are deleted. We want to allow them.

Solution
---------
Add the relevant mimetypes to the white list.

no-task
no-opw

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192221",fw-bot,2025-01-03 15:11:27+00:00,[],2025-01-21 11:16:27+00:00,2025-01-07 11:13:19+00:00,https://github.com/odoo/odoo/pull/192360,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569376344, 'issue_id': 2767734256, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192360.png)](https://mergebot.odoo.com/odoo/odoo/pull/192360)', 'created_at': datetime.datetime(2025, 1, 3, 15, 11, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569376365, 'issue_id': 2767734256, 'author': 'fw-bot', 'body': '@aboo-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192343\n* odoo/odoo#192326\n* odoo/odoo#192309\n* odoo/odoo#192295\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 11, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572456152, 'issue_id': 2767734256, 'author': 'aboo-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 7, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248794, 'issue_id': 2767734256, 'author': 'fw-bot', 'body': '@aboo-odoo @RicGR98 this forward port of odoo/odoo#192221 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574632034, 'issue_id': 2767734256, 'author': 'aboo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 8, 9, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:11:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192360.png)](https://mergebot.odoo.com/odoo/odoo/pull/192360)

fw-bot (Issue Creator) on (2025-01-03 15:11:29 UTC): @aboo-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192343
* odoo/odoo#192326
* odoo/odoo#192309
* odoo/odoo#192295

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aboo-odoo on (2025-01-06 07:25:35 UTC): robodoo r+

fw-bot (Issue Creator) on (2025-01-07 02:01:15 UTC): @aboo-odoo @RicGR98 this forward port of odoo/odoo#192221 is awaiting action (not merged or closed).

aboo-odoo on (2025-01-07 08:09:39 UTC): @robodoo r+

"
2767730687,pull_request,closed,,[FIX] l10n_es: missing lines for agricultural fiscal position,"Two lines that were missing from the ""REAGYP - Agricultura"" Fiscal Position Tax Mapping have been added.

task-4342206",aizu-odoo,2025-01-03 15:09:00+00:00,[],2025-01-22 16:20:47+00:00,2025-01-08 15:58:56+00:00,https://github.com/odoo/odoo/pull/192359,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569372914, 'issue_id': 2767730687, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192359.png)](https://mergebot.odoo.com/odoo/odoo/pull/192359)', 'created_at': datetime.datetime(2025, 1, 3, 15, 9, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577036519, 'issue_id': 2767730687, 'author': 'aizu-odoo', 'body': '@malb-odoo The change will only be applied when the localization is first set up. Discussed with oco about upgrading and concluded that the customers this applies to would have already added their own tax mapping and this would just create duplicates that might mess with their set up.', 'created_at': datetime.datetime(2025, 1, 8, 8, 23, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577043407, 'issue_id': 2767730687, 'author': 'malb-odoo', 'body': 'cc: @qdp-odoo', 'created_at': datetime.datetime(2025, 1, 8, 8, 25, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577716870, 'issue_id': 2767730687, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 13, 49, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:09:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192359.png)](https://mergebot.odoo.com/odoo/odoo/pull/192359)

aizu-odoo (Issue Creator) on (2025-01-08 08:23:15 UTC): @malb-odoo The change will only be applied when the localization is first set up. Discussed with oco about upgrading and concluded that the customers this applies to would have already added their own tax mapping and this would just create duplicates that might mess with their set up.

malb-odoo on (2025-01-08 08:25:53 UTC): cc: @qdp-odoo

jco-odoo on (2025-01-08 13:49:16 UTC): @robodoo r+

"
2767729463,pull_request,closed,,[FW][FIX] l10n_fr_account: Replace spaces in BIC codes,"This commit fixes an issue where BIC codes containing spaces caused errors when creating ```ir_model_data``` names. Spaces in the BIC code are now replaced with underscores to comply with the ```ir_model_data_name_nospaces``` constraint.
```
Traceback (most recent call last):
  File ""/home/odoo/src/odoo/18.0/odoo/service/server.py"", line 1306, in preload_registries
    registry = Registry.new(dbname, update_module=update_module)
  File ""<decorator-gen-13>"", line 2, in new
  File ""/home/odoo/src/odoo/18.0/odoo/tools/func.py"", line 97, in locked
    return func(inst, *args, **kwargs)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/registry.py"", line 127, in new
    odoo.modules.load_modules(registry, force_demo, status, update_module)
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 476, in load_modules
    processed_modules += load_marked_modules(env, graph,
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 364, in load_marked_modules
    loaded, processed = load_module_graph(
  File ""/home/odoo/src/odoo/18.0/odoo/modules/loading.py"", line 181, in load_module_graph
    migrations.migrate_module(package, 'pre')
  File ""/home/odoo/src/odoo/18.0/odoo/modules/migration.py"", line 254, in migrate_module
    mod.migrate(self.cr, installed_version)
  File ""/home/odoo/src/odoo/18.0/addons/l10n_fr_account/migrations/2.2/pre-migrate-add-bank-xmlid.py"", line 2, in migrate
    cr.execute(
  File ""/home/odoo/src/odoo/18.0/odoo/sql_db.py"", line 354, in execute
    res = self._obj.execute(query, params)
psycopg2.errors.CheckViolation: new row for relation ""ir_model_data"" violates check constraint ""ir_model_data_name_nospaces""
DETAIL:  Failing row contains (615259, null, 2024-12-27 12:27:08.464508, 2024-12-27 12:27:08.464508, null, t, bank_fr_bous frpp xxx, l10n_fr_account, res.bank, 28, null).
```
- UPG -2401824
- OPW - 4413544
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191970",fw-bot,2025-01-03 15:08:08+00:00,[],2025-01-21 16:57:18+00:00,2025-01-07 16:54:16+00:00,https://github.com/odoo/odoo/pull/192358,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569371662, 'issue_id': 2767729463, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192358.png)](https://mergebot.odoo.com/odoo/odoo/pull/192358)', 'created_at': datetime.datetime(2025, 1, 3, 15, 8, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569371693, 'issue_id': 2767729463, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 8, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:08:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192358.png)](https://mergebot.odoo.com/odoo/odoo/pull/192358)

fw-bot (Issue Creator) on (2025-01-03 15:08:10 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767725881,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: complete record synchronization","Changes to the synchronization system to ensure full synchronization every time a PoS writes to a record.

This synchronization will not unlink local records in other PoS.

Forward-Port-Of: odoo/odoo#191904",fw-bot,2025-01-03 15:05:44+00:00,[],2025-01-20 18:12:56+00:00,2025-01-06 17:54:08+00:00,https://github.com/odoo/odoo/pull/192357,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569368298, 'issue_id': 2767725881, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192357.png)](https://mergebot.odoo.com/odoo/odoo/pull/192357)', 'created_at': datetime.datetime(2025, 1, 3, 15, 5, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569368337, 'issue_id': 2767725881, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#191904 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/static/src/app/models/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/navbar/closing_popup/closing_popup.js\nAuto-merging addons/point_of_sale/static/src/app/navbar/navbar.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/navbar/navbar.xml\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/store/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js\nAuto-merging addons/pos_loyalty/static/src/overrides/models/pos_order.js\nAuto-merging addons/pos_restaurant/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/pos_restaurant/models/pos_order.py\nAuto-merging addons/pos_restaurant/models/pos_restaurant.py\nAuto-merging addons/pos_restaurant/static/src/overrides/models/pos_store.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/overrides/models/pos_store.js\nAuto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 5, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573419713, 'issue_id': 2767725881, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 5, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:05:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192357.png)](https://mergebot.odoo.com/odoo/odoo/pull/192357)

fw-bot (Issue Creator) on (2025-01-03 15:05:48 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#191904 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/static/src/app/models/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/data_service.js
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/navbar/closing_popup/closing_popup.js
Auto-merging addons/point_of_sale/static/src/app/navbar/navbar.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/navbar/navbar.xml
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/store/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/pos_store.js
Auto-merging addons/pos_loyalty/static/src/overrides/models/pos_order.js
Auto-merging addons/pos_restaurant/models/pos_order.py
CONFLICT (content): Merge conflict in addons/pos_restaurant/models/pos_order.py
Auto-merging addons/pos_restaurant/models/pos_restaurant.py
Auto-merging addons/pos_restaurant/static/src/overrides/models/pos_store.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/overrides/models/pos_store.js
Auto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-01-06 16:05:29 UTC): @robodoo r+

"
2767722959,pull_request,closed,,[FW][FIX] spreadsheet: import list xml_id,"Steps to reproduce:
- insert a list of timesheets in a spreadsheet
- reload the spreadsheet
- right click on a list cell
- click on ""See record""

=> it's not the correct form view

Task: 4444541


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192222",fw-bot,2025-01-03 15:03:43+00:00,[],2025-01-17 21:29:22+00:00,2025-01-03 20:57:46+00:00,https://github.com/odoo/odoo/pull/192356,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569365301, 'issue_id': 2767722959, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192356.png)](https://mergebot.odoo.com/odoo/odoo/pull/192356)', 'created_at': datetime.datetime(2025, 1, 3, 15, 3, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569365314, 'issue_id': 2767722959, 'author': 'fw-bot', 'body': '@LucasLefevre @rrahir cherrypicking of pull request odoo/odoo#192222 failed.\n\nstdout:\n```\nAuto-merging addons/spreadsheet/static/src/list/plugins/list_core_plugin.js\nCONFLICT (modify/delete): addons/spreadsheet/static/tests/lists/list_plugin_test.js deleted in 044ee910d143148a814844d5bed4b474bb646c45 and modified in 9e0cbbd8974d01a8af46fd81f0e6336975e6a94d.  Version 9e0cbbd8974d01a8af46fd81f0e6336975e6a94d of addons/spreadsheet/static/tests/lists/list_plugin_test.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 15, 3, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 15:03:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192356.png)](https://mergebot.odoo.com/odoo/odoo/pull/192356)

fw-bot (Issue Creator) on (2025-01-03 15:03:46 UTC): @LucasLefevre @rrahir cherrypicking of pull request odoo/odoo#192222 failed.

stdout:
```
Auto-merging addons/spreadsheet/static/src/list/plugins/list_core_plugin.js
CONFLICT (modify/delete): addons/spreadsheet/static/tests/lists/list_plugin_test.js deleted in 044ee910d143148a814844d5bed4b474bb646c45 and modified in 9e0cbbd8974d01a8af46fd81f0e6336975e6a94d.  Version 9e0cbbd8974d01a8af46fd81f0e6336975e6a94d of addons/spreadsheet/static/tests/lists/list_plugin_test.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767712610,pull_request,closed,,[FW][FIX] web_editor: reset selection when editable is empty,"**Problem**:
When selecting all content (`Ctrl+A`) in an empty editable area, the selection includes only a `<br>` element. This causes issues when interacting with non-selectable content inside the selection, leading to unexpected behavior.

**Solution**:
If the selection contains only on `br` element, reset the selection on click to avoid inconsistent states.

**Steps to Reproduce**:
1. Open the editor.
2. Press `Ctrl+A` to select all.
3. Click anywhere within the editable area to hide the toolbar.
4. Observe that the toolbar remains visible, and the selection state does not update.

opw-4438513

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192084",fw-bot,2025-01-03 14:56:39+00:00,[],2025-01-21 08:18:34+00:00,2025-01-07 08:01:43+00:00,https://github.com/odoo/odoo/pull/192355,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569355607, 'issue_id': 2767712610, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192355.png)](https://mergebot.odoo.com/odoo/odoo/pull/192355)', 'created_at': datetime.datetime(2025, 1, 3, 14, 56, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569355623, 'issue_id': 2767712610, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 14, 56, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:56:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192355.png)](https://mergebot.odoo.com/odoo/odoo/pull/192355)

fw-bot (Issue Creator) on (2025-01-03 14:56:41 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767681282,pull_request,open,,[IMP] mrp: remove manual consumption from BOM,"We no longer support the manual consumption checkbox on the BOM.
Instead, the user can use ""consumed in operation"" to show a stock.move on a specific WO.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",R1D1CUL0US,2025-01-03 14:37:32+00:00,[],2025-01-03 15:32:48+00:00,,https://github.com/odoo/odoo/pull/192354,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569320637, 'issue_id': 2767681282, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192354.png)](https://mergebot.odoo.com/odoo/odoo/pull/192354)', 'created_at': datetime.datetime(2025, 1, 3, 14, 37, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:37:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192354.png)](https://mergebot.odoo.com/odoo/odoo/pull/192354)

"
2767670595,pull_request,closed,,[FW][REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371

Forward-Port-Of: odoo/odoo#192285",fw-bot,2025-01-03 14:32:21+00:00,[],2025-01-20 09:37:29+00:00,2025-01-06 09:29:37+00:00,https://github.com/odoo/odoo/pull/192353,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569305923, 'issue_id': 2767670595, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192353.png)](https://mergebot.odoo.com/odoo/odoo/pull/192353)', 'created_at': datetime.datetime(2025, 1, 3, 14, 32, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569305939, 'issue_id': 2767670595, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 14, 32, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569880946, 'issue_id': 2767670595, 'author': 'robodoo', 'body': '@agr-odoo @jco-odoo staging failed: ci/runbot on 0ad9a189803bf2c9c64137d1b3f7092817d58794 (view more at https://runbot.odoo.com/runbot/build/72843174)', 'created_at': datetime.datetime(2025, 1, 3, 22, 12, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572506339, 'issue_id': 2767670595, 'author': 'agr-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 6, 8, 0, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:32:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192353.png)](https://mergebot.odoo.com/odoo/odoo/pull/192353)

fw-bot (Issue Creator) on (2025-01-03 14:32:23 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-03 22:12:20 UTC): @agr-odoo @jco-odoo staging failed: ci/runbot on 0ad9a189803bf2c9c64137d1b3f7092817d58794 (view more at https://runbot.odoo.com/runbot/build/72843174)

agr-odoo on (2025-01-06 08:00:29 UTC): @robodoo retry

"
2767668363,pull_request,closed,,[FW][FIX] product: fix traceback when deleting the archived product variants,"Currently, a traceback is occurring when the user tries to delete archived product variants.

To reproduce this issue:

1) Install sale and enable product variants from configuration 
2) Create a product from the variant and archive it
3) Now try to delete the above archived product.

Error:- 
```
KeyError: 2
```

When the user archives a product and tries to delete the archived product, 
we get the `product_ids_by_template_id` as an empty dict.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L384-L388

This leads to the above traceback when accessing the product template id from an empty dict
from the below line.

https://github.com/odoo/odoo/blob/f118a44c5b15163556e3388c5a7daa72119f58f8/addons/product/models/product_product.py#L395

sentry-6173505059

Forward-Port-Of: odoo/odoo#191761",fw-bot,2025-01-03 14:30:48+00:00,[],2025-01-20 11:13:20+00:00,2025-01-06 11:07:20+00:00,https://github.com/odoo/odoo/pull/192352,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569303721, 'issue_id': 2767668363, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192352.png)](https://mergebot.odoo.com/odoo/odoo/pull/192352)', 'created_at': datetime.datetime(2025, 1, 3, 14, 30, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569303738, 'issue_id': 2767668363, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 14, 30, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:30:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192352.png)](https://mergebot.odoo.com/odoo/odoo/pull/192352)

fw-bot (Issue Creator) on (2025-01-03 14:30:50 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767667299,pull_request,closed,,[FIX] pos_self_order: allow merging lot tracked products,"Before this commit, adding lot tracked products would result in an error because the picking type was not loaded in self ordering.

opw-4439558

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-03 14:30:05+00:00,[],2025-01-20 12:13:23+00:00,2025-01-06 12:07:01+00:00,https://github.com/odoo/odoo/pull/192351,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569302822, 'issue_id': 2767667299, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192351.png)](https://mergebot.odoo.com/odoo/odoo/pull/192351)', 'created_at': datetime.datetime(2025, 1, 3, 14, 30, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572531219, 'issue_id': 2767667299, 'author': 'caburj', 'body': 'did you try loading the picking type in self order?', 'created_at': datetime.datetime(2025, 1, 6, 8, 17, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572565965, 'issue_id': 2767667299, 'author': 'pedrambiria', 'body': ""@caburj Hello,\r\nNo, I didn't. However, since we don't have the lot logic in self order, it may not make sense to load it. For example, if I load it, adding two products that are tracked by lot won't merge them into one line, which could be confusing for customers. Unless we want to allow users to add a lot when selecting a product that is tracked by lot."", 'created_at': datetime.datetime(2025, 1, 6, 8, 34, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572830155, 'issue_id': 2767667299, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 10, 35, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:30:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192351.png)](https://mergebot.odoo.com/odoo/odoo/pull/192351)

caburj on (2025-01-06 08:17:24 UTC): did you try loading the picking type in self order?

pedrambiria (Issue Creator) on (2025-01-06 08:34:37 UTC): @caburj Hello,
No, I didn't. However, since we don't have the lot logic in self order, it may not make sense to load it. For example, if I load it, adding two products that are tracked by lot won't merge them into one line, which could be confusing for customers. Unless we want to allow users to add a lot when selecting a product that is tracked by lot.

caburj on (2025-01-06 10:35:24 UTC): robodoo r+

"
2767664832,pull_request,closed,,[FW][FIX] l10n_ch: non 256 size barcode has cross centered,"Scenario:

- install l10n_ch
- go to /report/barcode/?barcode_type=QR&value=&width=150&height=150&mask=ch_cross

=> the ch_cross mask (swiss cross that should be in the center) is not
in the center

Issue:

Reportlab QrCodeWidget has a fixed size to 32mm (with mm that is 72(ppi)
/ 25.4(1mm to inch) so ~2.83 pixels) and to get the widget to the full
size, a zoom is applied on the Drawing content (so on the QrCodeWidget).

Here are the zoom that are applied for several Drawing size:

- for 100 pixels: 100 / (32 * mm) => 1.012…
- for 256 pixels: 256 / (32 * mm) => 2.822…
- for 400 pixels: 400 / (32 * mm) => 4.409…

But in the code, the zoom is just hardcoded to mm (~2.83) which
corresponds to a barcode size of mm * 32 * mm => 257.127 pixels which is
kind of good enough for 256 pixels, but wrong for most other size.

In base code we only use 256 x 256 pixels so this is not much of an
issue unless someone want to use it for something else.

Fix:

With this commit, we apply the Drawing zoom (on which we have the
QrCodeWidget) to the ch_cross image.

Note:

Without the fix, the added test only fail on the third assertion for
each loop iteration, the farer we are from 257x257 pixels the bigger
the error is, for example for 256x256:

Result:   (38.45140, 38.45140, 52.25725984251969, 52.25725984251969)
Expected: (38.28288, 38.28288, 52.02823111111111, 52.02823111111111)

opw-4307177

PR NOTE: this could be merged in an higher version, and we could also just not fix this since as far as I can tell, we only need to support 256x256 and with and without the fix there is just one pixel of difference in this case.

![a](https://github.com/user-attachments/assets/f38e26ee-a129-4fd1-ae92-a9768274dbbb)

Forward-Port-Of: odoo/odoo#192091",fw-bot,2025-01-03 14:28:21+00:00,[],2025-01-20 09:37:27+00:00,2025-01-06 09:25:58+00:00,https://github.com/odoo/odoo/pull/192350,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569300451, 'issue_id': 2767664832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192350.png)](https://mergebot.odoo.com/odoo/odoo/pull/192350)', 'created_at': datetime.datetime(2025, 1, 3, 14, 28, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569300466, 'issue_id': 2767664832, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 14, 28, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:28:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192350.png)](https://mergebot.odoo.com/odoo/odoo/pull/192350)

fw-bot (Issue Creator) on (2025-01-03 14:28:23 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767662979,pull_request,closed,,[FIX] spreadsheet: disable public download button,"Steps to reproduce:

- install Documents
- create a new spreadsheet
- hit the Share button
- change the sharing settings to ""Anyone with the link: Viewer / Musty have the link to access""
- open the sharing link in an incognito window
- hit the download button

=> 404 not found

A public user cannot convert a spreadsheet to an excel file and downlaod it because a route needs to be called to create the excel file. This route is currently not allowed for public users.

For frozen spreadsheet, we generate the excel file before-hand (when the internal user shares the spreadsheet). For a regular ""live"" share though, we cannot pre-generate the excel file since the spreadsheet continues to live and evolve.

The `spreadsheet` module needs to be updated for this bug fix to take effect. (otherwise the download button won't do anything, which is not worse than facing a 404 response)

See also Enterprise PR.

Task: 4440241
opw: 4417519




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-03 14:27:07+00:00,[],2025-01-31 12:57:41+00:00,2025-01-17 12:55:47+00:00,https://github.com/odoo/odoo/pull/192349,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569298841, 'issue_id': 2767662979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192349.png)](https://mergebot.odoo.com/odoo/odoo/pull/192349)', 'created_at': datetime.datetime(2025, 1, 3, 14, 27, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:27:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192349.png)](https://mergebot.odoo.com/odoo/odoo/pull/192349)

"
2767657840,pull_request,closed,,[FW][FIX] web_editor: update code view after saving images,"**Problem**:
When in `codeview`, calling `saveModifiedImagesPromise` creates the attachments and updates the DOM but does not update the `codeview`. As a result, the non-urgent save (`this.updateValue()`) uses outdated content from the `codeview`.

**Solution**:
Ensure that the `codeview` content is updated after saving attachments to reflect the latest changes.

**Steps to reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192009
Forward-Port-Of: odoo/odoo#191475",fw-bot,2025-01-03 14:23:46+00:00,[],2025-01-17 18:39:27+00:00,2025-01-03 18:37:53+00:00,https://github.com/odoo/odoo/pull/192348,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569293642, 'issue_id': 2767657840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192348.png)](https://mergebot.odoo.com/odoo/odoo/pull/192348)', 'created_at': datetime.datetime(2025, 1, 3, 14, 23, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569293658, 'issue_id': 2767657840, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 14, 23, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:23:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192348.png)](https://mergebot.odoo.com/odoo/odoo/pull/192348)

fw-bot (Issue Creator) on (2025-01-03 14:23:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767655909,pull_request,open,,[POC] (*_)sale(_*): clean api for feature groups check,"Consistently rely on a given user, the superuser.
Ensures that flows triggered by public/portal users behaves as expected.
Reduces cache misses as only one user is checked for those groups

task-4048356

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Feyensv,2025-01-03 14:22:32+00:00,[],2025-02-07 10:01:59+00:00,,https://github.com/odoo/odoo/pull/192347,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569292052, 'issue_id': 2767655909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192347.png)](https://mergebot.odoo.com/odoo/odoo/pull/192347)', 'created_at': datetime.datetime(2025, 1, 3, 14, 22, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:22:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192347.png)](https://mergebot.odoo.com/odoo/odoo/pull/192347)

"
2767650531,pull_request,closed,,[FIX] account: bank statement download action,"In Bank Statement list view users may select a statement and
download a pdf report. However, currently, users have 2 download action,
one of which is downloading a seemingly random account move

Steps to reproduce:
- In Accounting Dashboard, from a bank journal card, 3 dots > Statements
- Select a line
- Download > PDF

Issue: PDF target is loaded via the `loadExtraPrintItems` method
However, the request is done to the `account.move` model using the id of
the bank statement, so it may retrieve an invoice, or fail

Note: Download > Statement is working properly

A solution is to avoid loading extra print item with loadExtraPrintItems
if we are not in the `account.move` model

opw-4388554",agr-odoo,2025-01-03 14:18:55+00:00,[],2025-01-21 19:16:49+00:00,2025-01-07 19:05:19+00:00,https://github.com/odoo/odoo/pull/192346,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569287215, 'issue_id': 2767650531, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192346.png)](https://mergebot.odoo.com/odoo/odoo/pull/192346)', 'created_at': datetime.datetime(2025, 1, 3, 14, 18, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 14:18:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192346.png)](https://mergebot.odoo.com/odoo/odoo/pull/192346)

"
2767623339,pull_request,open,,[FIX] project: task search more access rights error in Timesheets,"The sudo function allowed the current user to fetch data (stage IDs) which were used to browse. The user does not have access to this data; therefore, an access error message is triggered 

task-4194357

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ataha1,2025-01-03 13:59:47+00:00,[],2025-01-03 14:00:11+00:00,,https://github.com/odoo/odoo/pull/192345,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569261908, 'issue_id': 2767623339, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192345.png)](https://mergebot.odoo.com/odoo/odoo/pull/192345)', 'created_at': datetime.datetime(2025, 1, 3, 13, 59, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:59:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192345.png)](https://mergebot.odoo.com/odoo/odoo/pull/192345)

"
2767619953,pull_request,open,,[FIX] base: fix lang install,"**Steps to reproduce:**

1. Initialize a new database with `odoo -d langdb --stop -i base --load-language=es_AR`

**Result:**

```
2025-01-03 11:41:28,054 54 INFO langdb odoo.modules.loading: loading base/data/res_bank.xml
2025-01-03 11:41:28,057 54 INFO langdb odoo.modules.loading: loading base/data/res.lang.csv
2025-01-03 11:41:28,076 54 INFO langdb odoo.modules.loading: loading base/data/res_lang_data.xml
2025-01-03 11:41:28,091 54 ERROR langdb odoo.sql_db: bad query: b' UPDATE ""res_lang""\n
    SET ""url_code"" = ""__tmp"".""url_code""::VARCHAR, ""write_date"" = ""__tmp"".""write_date""::timestamp, ""write_uid"" = ""__tmp"".""write_uid""::int4\n
    FROM (VALUES (68, \'es\', \'2025-01-03T11:41:26.517428\'::timestamp, 1)) AS ""__tmp""(""id"", ""url_code"", ""write_date"", ""write_uid"")\n
    WHERE ""res_lang"".""id"" = ""__tmp"".""id""\n'
ERROR: duplicate key value violates unique constraint ""res_lang_url_code_uniq""
DETAIL:  Key (url_code)=(es) already exists.
```

**Explanation:**

When initializing a new database with a specific language, the language is activated on `install_lang`, and since it's the only active language of the ""es_*"" family, its url_code is set to the short version. [^1]

By the time the url_code switch in `res_lang_data.xml` is executed, the `base.lang_es` language is no longer the one with ""es"" as url_code. It's actually the recently activated es_AR language.

**Solution:**

We must perform the `url_code` switch before calling `install_lang`

[^1]: https://github.com/odoo/odoo/blob/c042e1ba/odoo/addons/base/models/res_lang.py#L339-L356


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ivantodorovich,2025-01-03 13:57:19+00:00,[],2025-01-06 09:30:08+00:00,,https://github.com/odoo/odoo/pull/192344,[],"[{'comment_id': 2569258937, 'issue_id': 2767619953, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192344.png)](https://mergebot.odoo.com/odoo/odoo/pull/192344)', 'created_at': datetime.datetime(2025, 1, 3, 13, 57, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569268310, 'issue_id': 2767619953, 'author': 'ivantodorovich', 'body': 'This is related to:\r\n- https://github.com/odoo/odoo/pull/158653\r\n- https://github.com/odoo/odoo/pull/176706\r\n\r\n@rdeodoo @asno-odoo', 'created_at': datetime.datetime(2025, 1, 3, 14, 4, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:57:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192344.png)](https://mergebot.odoo.com/odoo/odoo/pull/192344)

ivantodorovich (Issue Creator) on (2025-01-03 14:04:46 UTC): This is related to:
- https://github.com/odoo/odoo/pull/158653
- https://github.com/odoo/odoo/pull/176706

@rdeodoo @asno-odoo

"
2767613994,pull_request,closed,,[FW][IMP] account: Allow Powerpoint attachment from mail alias,"Problem
---------
Currently, powerpoints attachments received by a mail alias are deleted. We want to allow them.

Solution
---------
Add the relevant mimetypes to the white list.

no-task
no-opw

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192221",fw-bot,2025-01-03 13:53:12+00:00,[],2025-01-21 11:16:20+00:00,2025-01-07 11:04:37+00:00,https://github.com/odoo/odoo/pull/192343,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569253895, 'issue_id': 2767613994, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192343.png)](https://mergebot.odoo.com/odoo/odoo/pull/192343)', 'created_at': datetime.datetime(2025, 1, 3, 13, 53, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569253910, 'issue_id': 2767613994, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 53, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:53:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192343.png)](https://mergebot.odoo.com/odoo/odoo/pull/192343)

fw-bot (Issue Creator) on (2025-01-03 13:53:14 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767611883,pull_request,closed,,[FW][FIX] sales: computing sales team in invoice,"Versions
16.0+

Description of the issue/feature this PR addresses:

The issue occurs when selecting a partner in an invoice, the sales team is not correctly computed. The problem arises because the default_team_id is not passed as a parameter to the context when the partner is selected, which works correctly in sales orders but fails in invoices.

Current behavior before PR:

When modifying the partner_id in an invoice, the sales team is not recomputed, leading to incorrect or missing sales team assignment.

Desired behavior after PR is merged:

After this PR is merged, modifying the partner_id on an invoice will correctly recompute the sales team by passing the default_team_id in the context, ensuring consistent behavior between invoices and sales orders.

I will now provide a short video demonstrating the error. This issue is replicable if none of the sales teams have any members assigned.
https://drive.google.com/file/d/15mUpXvdlVpGZXW976PK7EVYH6X4sm2CJ/view?usp=sharing

PR of v16 https://github.com/odoo/odoo/pull/180961

Forward-Port-Of: odoo/odoo#192242
Forward-Port-Of: odoo/odoo#181244",fw-bot,2025-01-03 13:51:39+00:00,[],2025-01-20 15:07:35+00:00,2025-01-06 14:54:44+00:00,https://github.com/odoo/odoo/pull/192342,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569252121, 'issue_id': 2767611883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192342.png)](https://mergebot.odoo.com/odoo/odoo/pull/192342)', 'created_at': datetime.datetime(2025, 1, 3, 13, 51, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569252141, 'issue_id': 2767611883, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 51, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569342324, 'issue_id': 2767611883, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 14, 46, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571468704, 'issue_id': 2767611883, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv this forward port of odoo/odoo#181244 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 5, 2, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572913138, 'issue_id': 2767611883, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv the next pull request (odoo/odoo#192472) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 11, 25, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572919528, 'issue_id': 2767611883, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 11, 29, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:51:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192342.png)](https://mergebot.odoo.com/odoo/odoo/pull/192342)

fw-bot (Issue Creator) on (2025-01-03 13:51:46 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 14:46:43 UTC): @feg-adhoc @Feyensv ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-05 02:01:27 UTC): @feg-adhoc @Feyensv this forward port of odoo/odoo#181244 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 11:25:17 UTC): @feg-adhoc @Feyensv the next pull request (odoo/odoo#192472) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-06 11:29:10 UTC): @robodoo r+

"
2767602795,pull_request,closed,,[FW][IMP] mail: discuss improvements (again),"This commit makes minor style improvemens to make discuss a bit more enjoying to use:

- less start spacing on non-compact discuss sidebar items
- discuss sidebar item outline style when self in call is improved (better lines, more visible)
- discuss sidebar item when there's a call is improved: outline color matches border, background colors are more pleasing, spacing of participants and icons feels more right
- discuss app header buttons are less distracting (reduced opacity when not hovered, active color is more suble in dark theme)
- member panel is narrower in width by default (default value was too large most of the time)
- member panel categories (online / offline) are smaller and reduced opacity, so that they are less distracting
- hover effect on offline members is less intense (opacity on hover is reduced)
- member names have slightly reduced opacity (was more catchy than messages with white color)
- call status in systray is `.fa-volume-up.text-danger` rather than `text-warning` blinking dot. Also blinking animation duration is 6 seconds rather than infinite.
- call status in systray has style matching discuss sidebar, with outline around the button. The spacing is reduced so it looks like a cohesive button (previously looked like 2 different systray items).
- call status of active participant in compact sidebar is in a more natural position (was top left, now it's bottom right).
- ""start a meeting"" and ""Invite a user"" buttons have slightly less distracting icons (reduced opacity). ""Invite a user"" button has slightly less horizontal margin
- search panel icon was missing (had typo `.oi-serch`)
- call view user names is less distracting (muted name, background has less vertical padding)
- call card background color matches the dark theme better.
- chat window mobile buttons look better (rounded-circle instead of square, some margin around, and border opacity is reduced so click area is visible but absolutely not distracting)
- threads panel (sub-threads) has search input start aligned with thread items (was slightly misaligned)

Before
<img width=""2560"" alt=""before"" src=""https://github.com/user-attachments/assets/9f7025fa-26f5-4381-bc7d-195fda480626"" />

After
<img width=""2560"" alt=""Screenshot 2024-12-24 at 22 55 20"" src=""https://github.com/user-attachments/assets/dde1698e-ba75-48a7-b453-82ea5e82f120"" />

Forward-Port-Of: odoo/odoo#191758
Forward-Port-Of: odoo/odoo#191562",fw-bot,2025-01-03 13:45:01+00:00,[],2025-01-06 15:55:08+00:00,2025-01-06 15:45:29+00:00,https://github.com/odoo/odoo/pull/192341,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569244156, 'issue_id': 2767602795, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192341.png)](https://mergebot.odoo.com/odoo/odoo/pull/192341)', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569244174, 'issue_id': 2767602795, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570002919, 'issue_id': 2767602795, 'author': 'fw-bot', 'body': '@alexkuhn this forward port of odoo/odoo#191562 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 4, 2, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193950, 'issue_id': 2767602795, 'author': 'fw-bot', 'body': '@alexkuhn this forward port of odoo/odoo#191562 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572780402, 'issue_id': 2767602795, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 10, 7, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:45:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192341.png)](https://mergebot.odoo.com/odoo/odoo/pull/192341)

fw-bot (Issue Creator) on (2025-01-03 13:45:21 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-04 02:01:32 UTC): @alexkuhn this forward port of odoo/odoo#191562 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 03:07:09 UTC): @alexkuhn this forward port of odoo/odoo#191562 is awaiting action (not merged or closed).

alexkuhn on (2025-01-06 10:07:08 UTC): @robodoo r+

"
2767602621,pull_request,closed,,[FW][FIX] *: some field inside group not taking all space,"This commit fixes some ARCH to fixes some visual issue.

Inside a group (grid) there will be always two columns:
* one smaller on the left (max 150px)
* one taking all the remaining space on the right.

When we add only one element with `nolabel=""1""` it will take one part of the grid to take all the space we need to specify it with `colspan=""2""`.

task-4416643

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192289",fw-bot,2025-01-03 13:44:53+00:00,[],2025-01-06 09:18:45+00:00,2025-01-03 22:37:01+00:00,https://github.com/odoo/odoo/pull/192340,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569244079, 'issue_id': 2767602621, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192340.png)](https://mergebot.odoo.com/odoo/odoo/pull/192340)', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569244140, 'issue_id': 2767602621, 'author': 'fw-bot', 'body': '@adr-odoo @rfr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569258255, 'issue_id': 2767602621, 'author': 'adr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 13, 56, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:45:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192340.png)](https://mergebot.odoo.com/odoo/odoo/pull/192340)

fw-bot (Issue Creator) on (2025-01-03 13:45:20 UTC): @adr-odoo @rfr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adr-odoo on (2025-01-03 13:56:47 UTC): @robodoo r+

"
2767602483,pull_request,closed,,[FW][PERF] hr_expense: add missing index on `sheet_id`,"## Why
- Inverse of the One2many `expense_line_ids`, the ORM will search on it to resolve the read on the field
- Used as a traversable dependency of a few compute methods (`@api. depends('sheet_id.xxx')`), index will be hit when ORM resolves the computation of dependencies to know what compute method to call when the dependency changed.
- Frequently used as the traversal field of related fields, index will be hit when reading on the field in SQL in `_traverse_related_sql`.
- Using Full index, as there aren't many `NULL`/`False` entries, as it's moslty pending expense lines that are pending for reporting. So a search on the NULL criteria (done in `get_expenses_to_submit`) will hit the index.

## Reference
task-3977983

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192214
Forward-Port-Of: odoo/odoo#191025",fw-bot,2025-01-03 13:44:46+00:00,[],2025-01-18 01:02:47+00:00,2025-01-04 00:29:45+00:00,https://github.com/odoo/odoo/pull/192339,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569244038, 'issue_id': 2767602483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192339.png)](https://mergebot.odoo.com/odoo/odoo/pull/192339)', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569244058, 'issue_id': 2767602483, 'author': 'fw-bot', 'body': '@pivi-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569245892, 'issue_id': 2767602483, 'author': 'pivi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 13, 46, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569315625, 'issue_id': 2767602483, 'author': 'robodoo', 'body': ""@pivi-odoo @oco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 3, 14, 36, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:45:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192339.png)](https://mergebot.odoo.com/odoo/odoo/pull/192339)

fw-bot (Issue Creator) on (2025-01-03 13:45:16 UTC): @pivi-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pivi-odoo on (2025-01-03 13:46:42 UTC): @robodoo r+

robodoo on (2025-01-03 14:36:06 UTC): @pivi-odoo @oco-odoo 'ci/runbot' failed on this reviewed PR.

"
2767600061,pull_request,closed,,[FW][FIX] hr_expense: handle undefined main attachment,"A temporary issue may occur when the attachment of an expense report is deleted.

Steps to reproduce:
- Create an expense and add an attachment.
- Create the report.
- On the report, delete the attachment.
- Try to click on the expense line.

An error ""TypeError: Cannot read properties of  undefined (reading 'checksum')"" is raised. The problem is resolved as soon as the page is reloaded.

This fix ensures the case is handled when one clicks before the page is reloaded.

opw-4355488

Forward-Port-Of: odoo/odoo#190430",fw-bot,2025-01-03 13:43:04+00:00,[],2025-01-17 23:15:47+00:00,2025-01-03 22:37:06+00:00,https://github.com/odoo/odoo/pull/192338,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569241364, 'issue_id': 2767600061, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192338.png)](https://mergebot.odoo.com/odoo/odoo/pull/192338)', 'created_at': datetime.datetime(2025, 1, 3, 13, 43, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569241380, 'issue_id': 2767600061, 'author': 'fw-bot', 'body': '@LouisGobert @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192321\n* odoo/odoo#192212\n* odoo/odoo#192195\n* odoo/odoo#192178\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 43, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569298469, 'issue_id': 2767600061, 'author': 'oco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 14, 26, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:43:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192338.png)](https://mergebot.odoo.com/odoo/odoo/pull/192338)

fw-bot (Issue Creator) on (2025-01-03 13:43:06 UTC): @LouisGobert @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192321
* odoo/odoo#192212
* odoo/odoo#192195
* odoo/odoo#192178

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

oco-odoo on (2025-01-03 14:26:56 UTC): @robodoo r+

"
2767597865,pull_request,closed,,[FW][IMP] l10n_in: update Legal Note on Fiscal Position,"with this pr:
update legal not on fiscal position. As per Rule 46 of the CGST Act, it needs to be written on the invoice.

task-4440627

Forward-Port-Of: odoo/odoo#192093",fw-bot,2025-01-03 13:41:28+00:00,[],2025-01-21 11:16:14+00:00,2025-01-07 11:04:02+00:00,https://github.com/odoo/odoo/pull/192337,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569239431, 'issue_id': 2767597865, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192337.png)](https://mergebot.odoo.com/odoo/odoo/pull/192337)', 'created_at': datetime.datetime(2025, 1, 3, 13, 41, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569239439, 'issue_id': 2767597865, 'author': 'fw-bot', 'body': '@bhra-odoo @RicGR98 cherrypicking of pull request odoo/odoo#192093 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_in/data/template/account.fiscal.position-in.csv\nCONFLICT (content): Merge conflict in addons/l10n_in/data/template/account.fiscal.position-in.csv\nAuto-merging addons/l10n_in/i18n/l10n_in.pot\nCONFLICT (content): Merge conflict in addons/l10n_in/i18n/l10n_in.pot\nAuto-merging addons/l10n_in/models/template_in.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 41, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572329735, 'issue_id': 2767597865, 'author': 'bhra-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 5, 50, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249012, 'issue_id': 2767597865, 'author': 'fw-bot', 'body': '@bhra-odoo @RicGR98 this forward port of odoo/odoo#192093 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574408001, 'issue_id': 2767597865, 'author': 'bhra-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 7, 5, 14, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574408039, 'issue_id': 2767597865, 'author': 'robodoo', 'body': '@bhra-odoo retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 1, 7, 5, 14, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574409454, 'issue_id': 2767597865, 'author': 'bhra-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 5, 15, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:41:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192337.png)](https://mergebot.odoo.com/odoo/odoo/pull/192337)

fw-bot (Issue Creator) on (2025-01-03 13:41:32 UTC): @bhra-odoo @RicGR98 cherrypicking of pull request odoo/odoo#192093 failed.

stdout:
```
Auto-merging addons/l10n_in/data/template/account.fiscal.position-in.csv
CONFLICT (content): Merge conflict in addons/l10n_in/data/template/account.fiscal.position-in.csv
Auto-merging addons/l10n_in/i18n/l10n_in.pot
CONFLICT (content): Merge conflict in addons/l10n_in/i18n/l10n_in.pot
Auto-merging addons/l10n_in/models/template_in.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bhra-odoo on (2025-01-06 05:50:46 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-07 02:01:25 UTC): @bhra-odoo @RicGR98 this forward port of odoo/odoo#192093 is awaiting action (not merged or closed).

bhra-odoo on (2025-01-07 05:14:01 UTC): @robodoo retry

robodoo on (2025-01-07 05:14:03 UTC): @bhra-odoo retry makes no sense when the PR is not in error.

bhra-odoo on (2025-01-07 05:15:49 UTC): @robodoo r+

"
2767595439,pull_request,closed,,[FIX] mail: can dismiss 'Turn on notifications' in messaging menu,"This commit adds a ""X"" next to ""Turn on notifications"" to quickly dismiss the suggestion to enable push notifications.

Note that this keeps the push permission to ""Ask"", as it cannot be changed programmatically. So if the user wants to change the push permissions, it should be manually changed to ""Allow"" or ""Denied"" from browser settings or should clear the local storage content in order to display ""Turn on notifications"" in messaging menu again.

Task-4446924

Before
![Screenshot 2025-01-03 at 14 39 22](https://github.com/user-attachments/assets/154f86f7-fa74-4c1f-b4db-71d2c1693bee)

After
![Screenshot 2025-01-03 at 14 37 44](https://github.com/user-attachments/assets/93a51e2c-bc9e-4cc3-9f5b-d2ea538be1ef)
",alexkuhn,2025-01-03 13:39:43+00:00,[],2025-01-08 18:23:47+00:00,2025-01-08 18:13:00+00:00,https://github.com/odoo/odoo/pull/192336,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569237199, 'issue_id': 2767595439, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192336.png)](https://mergebot.odoo.com/odoo/odoo/pull/192336)', 'created_at': datetime.datetime(2025, 1, 3, 13, 39, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577856732, 'issue_id': 2767595439, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 14, 48, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:39:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192336.png)](https://mergebot.odoo.com/odoo/odoo/pull/192336)

alexkuhn (Issue Creator) on (2025-01-08 14:48:25 UTC): @robodoo r+

"
2767592938,pull_request,closed,,[FW][FIX] web_editor: reset selection when editable is empty,"**Problem**:
When selecting all content (`Ctrl+A`) in an empty editable area, the selection includes only a `<br>` element. This causes issues when interacting with non-selectable content inside the selection, leading to unexpected behavior.

**Solution**:
If the selection contains only on `br` element, reset the selection on click to avoid inconsistent states.

**Steps to Reproduce**:
1. Open the editor.
2. Press `Ctrl+A` to select all.
3. Click anywhere within the editable area to hide the toolbar.
4. Observe that the toolbar remains visible, and the selection state does not update.

opw-4438513

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192084",fw-bot,2025-01-03 13:37:49+00:00,[],2025-01-21 08:18:34+00:00,2025-01-07 08:03:25+00:00,https://github.com/odoo/odoo/pull/192335,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569234717, 'issue_id': 2767592938, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192335.png)](https://mergebot.odoo.com/odoo/odoo/pull/192335)', 'created_at': datetime.datetime(2025, 1, 3, 13, 37, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569234730, 'issue_id': 2767592938, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 37, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:37:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192335.png)](https://mergebot.odoo.com/odoo/odoo/pull/192335)

fw-bot (Issue Creator) on (2025-01-03 13:37:51 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767589748,pull_request,closed,,[FIX] web: prevent crash with empty calendar color attribute,"Steps to reproduce
==================

- Install industry_fsm,web_studio
- Go to Field Service
- Switch to the calendar view
- Open studio
- Unset the color

=> fields[fieldMapping.color] is undefined

Cause of the issue
==================

We have a field that has the color attribute with a value of color.

```xml
<field name=""worksheet_template_id"" attrs=""{'invisible': [('worksheet_template_id', '=', False)]}"" filters=""1"" color=""color""/>
```

`shouldFetchColor` checks if the filter color is the same one as the calendar record color.

Solution
========

Since it's possible to have a color filter without a record color, we should fetch the filter colors in that case.

opw-4443497",hubvd,2025-01-03 13:35:27+00:00,[],2025-01-22 09:43:08+00:00,2025-01-08 09:34:09+00:00,https://github.com/odoo/odoo/pull/192334,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569231816, 'issue_id': 2767589748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192334.png)](https://mergebot.odoo.com/odoo/odoo/pull/192334)', 'created_at': datetime.datetime(2025, 1, 3, 13, 35, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577051771, 'issue_id': 2767589748, 'author': 'mcm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 28, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:35:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192334.png)](https://mergebot.odoo.com/odoo/odoo/pull/192334)

mcm-odoo on (2025-01-08 08:28:51 UTC): @robodoo r+

"
2767577735,pull_request,open,,[REF] hw_drivers: simplify printers detection/configuration,"We used to detect printers mixing cups detected ""printers"" and ""devices"". As `getDevices` is deprecated and the code is hard to maintain, this commit aims to simplify both interface and driver.
",loouis-t,2025-01-03 13:26:30+00:00,[],2025-01-03 14:00:23+00:00,,https://github.com/odoo/odoo/pull/192333,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569220641, 'issue_id': 2767577735, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192333.png)](https://mergebot.odoo.com/odoo/odoo/pull/192333)', 'created_at': datetime.datetime(2025, 1, 3, 13, 26, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:26:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192333.png)](https://mergebot.odoo.com/odoo/odoo/pull/192333)

"
2767574765,pull_request,closed,,[FW][REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371

Forward-Port-Of: odoo/odoo#192285",fw-bot,2025-01-03 13:24:35+00:00,[],2025-01-17 21:29:23+00:00,2025-01-03 20:57:50+00:00,https://github.com/odoo/odoo/pull/192332,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569217904, 'issue_id': 2767574765, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192332.png)](https://mergebot.odoo.com/odoo/odoo/pull/192332)', 'created_at': datetime.datetime(2025, 1, 3, 13, 24, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569217919, 'issue_id': 2767574765, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 24, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:24:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192332.png)](https://mergebot.odoo.com/odoo/odoo/pull/192332)

fw-bot (Issue Creator) on (2025-01-03 13:24:37 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767568815,pull_request,closed,,[FW][FIX] l10n_ch: non 256 size barcode has cross centered,"Scenario:

- install l10n_ch
- go to /report/barcode/?barcode_type=QR&value=&width=150&height=150&mask=ch_cross

=> the ch_cross mask (swiss cross that should be in the center) is not
in the center

Issue:

Reportlab QrCodeWidget has a fixed size to 32mm (with mm that is 72(ppi)
/ 25.4(1mm to inch) so ~2.83 pixels) and to get the widget to the full
size, a zoom is applied on the Drawing content (so on the QrCodeWidget).

Here are the zoom that are applied for several Drawing size:

- for 100 pixels: 100 / (32 * mm) => 1.012…
- for 256 pixels: 256 / (32 * mm) => 2.822…
- for 400 pixels: 400 / (32 * mm) => 4.409…

But in the code, the zoom is just hardcoded to mm (~2.83) which
corresponds to a barcode size of mm * 32 * mm => 257.127 pixels which is
kind of good enough for 256 pixels, but wrong for most other size.

In base code we only use 256 x 256 pixels so this is not much of an
issue unless someone want to use it for something else.

Fix:

With this commit, we apply the Drawing zoom (on which we have the
QrCodeWidget) to the ch_cross image.

Note:

Without the fix, the added test only fail on the third assertion for
each loop iteration, the farer we are from 257x257 pixels the bigger
the error is, for example for 256x256:

Result:   (38.45140, 38.45140, 52.25725984251969, 52.25725984251969)
Expected: (38.28288, 38.28288, 52.02823111111111, 52.02823111111111)

opw-4307177

PR NOTE: this could be merged in an higher version, and we could also just not fix this since as far as I can tell, we only need to support 256x256 and with and without the fix there is just one pixel of difference in this case.

![a](https://github.com/user-attachments/assets/f38e26ee-a129-4fd1-ae92-a9768274dbbb)

Forward-Port-Of: odoo/odoo#192091",fw-bot,2025-01-03 13:20:10+00:00,[],2025-01-20 09:22:47+00:00,2025-01-06 09:21:12+00:00,https://github.com/odoo/odoo/pull/192331,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569212829, 'issue_id': 2767568815, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192331.png)](https://mergebot.odoo.com/odoo/odoo/pull/192331)', 'created_at': datetime.datetime(2025, 1, 3, 13, 20, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569212844, 'issue_id': 2767568815, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 20, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:20:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192331.png)](https://mergebot.odoo.com/odoo/odoo/pull/192331)

fw-bot (Issue Creator) on (2025-01-03 13:20:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767553366,pull_request,closed,,[FW][FIX] web_editor: update code view after saving images,"**Problem**:
When in `codeview`, calling `saveModifiedImagesPromise` creates the attachments and updates the DOM but does not update the `codeview`. As a result, the non-urgent save (`this.updateValue()`) uses outdated content from the `codeview`.

**Solution**:
Ensure that the `codeview` content is updated after saving attachments to reflect the latest changes.

**Steps to reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192009
Forward-Port-Of: odoo/odoo#191475",fw-bot,2025-01-03 13:08:43+00:00,[],2025-01-17 20:31:54+00:00,2025-01-03 20:15:09+00:00,https://github.com/odoo/odoo/pull/192330,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569198960, 'issue_id': 2767553366, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192330.png)](https://mergebot.odoo.com/odoo/odoo/pull/192330)', 'created_at': datetime.datetime(2025, 1, 3, 13, 8, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569198976, 'issue_id': 2767553366, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 8, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:08:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192330.png)](https://mergebot.odoo.com/odoo/odoo/pull/192330)

fw-bot (Issue Creator) on (2025-01-03 13:08:52 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767546829,pull_request,closed,,[FW][FIX] web_editor: delete backward on lists,"Current behavior before PR:

When multiple types of lists were selected and the deleteBackward operation was performed, the list type remained unchanged.

Desired behavior after PR is merged:

When deleteBackward is pressed with multiple types of lists selected, and all selected content is removed, if the anchor node's list item is empty, that list item type will change to match the type of the list where the deleteBackward operation started.

task:4187739

Forward-Port-Of: odoo/odoo#191915
Forward-Port-Of: odoo/odoo#180687",fw-bot,2025-01-03 13:04:01+00:00,[],2025-01-22 12:21:40+00:00,2025-01-08 12:15:50+00:00,https://github.com/odoo/odoo/pull/192329,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569192804, 'issue_id': 2767546829, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192329.png)](https://mergebot.odoo.com/odoo/odoo/pull/192329)', 'created_at': datetime.datetime(2025, 1, 3, 13, 4, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569192825, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 13, 4, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569220489, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 13, 26, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570003350, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 4, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571468709, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 5, 2, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572194349, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572509893, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo the next pull request (odoo/odoo#192446) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 6, 8, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558208, 'issue_id': 2767546829, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577287740, 'issue_id': 2767546829, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 9, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:04:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192329.png)](https://mergebot.odoo.com/odoo/odoo/pull/192329)

fw-bot (Issue Creator) on (2025-01-03 13:04:03 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 13:26:26 UTC): @dhba-odoo @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-04 02:02:06 UTC): @dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-05 02:01:29 UTC): @dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 03:07:41 UTC): @dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 08:02:55 UTC): @dhba-odoo @dmo-odoo the next pull request (odoo/odoo#192446) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-08 02:01:50 UTC): @dhba-odoo @dmo-odoo this forward port of odoo/odoo#180687 is awaiting action (not merged or closed).

dmo-odoo on (2025-01-08 10:09:12 UTC): @robodoo r+

"
2767546585,pull_request,closed,,[FIX] point_of_sale: closing with negative combined payment,"It is impossible to close a session when there is a combined payment amount with a negative value.

Steps to reproduce:
- Create a new bank payment method and assign as payment method of a pos.config.
- Open a session.
- Sell with negative amount (e.g. negative quantity) and pay using the new payment method.
- [ISSUE] Try to close the session and you will get an error.

When a payment amount is negative, we invert the destination and outstanding accounts. Prior to creation of the `account.payment` record, it's possible that an outstanding account is missing. This value can be missing but will be automatically assigned during the creation of the `account.payment` record.

So instead of inverting the accounts before creating the `account.payment` record, we now invert them after the creation.

OPW: 4317320

",caburj,2025-01-03 13:03:51+00:00,[],2025-01-20 15:07:28+00:00,2025-01-06 14:54:41+00:00,https://github.com/odoo/odoo/pull/192328,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569192630, 'issue_id': 2767546585, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192328.png)](https://mergebot.odoo.com/odoo/odoo/pull/192328)', 'created_at': datetime.datetime(2025, 1, 3, 13, 3, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572707097, 'issue_id': 2767546585, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 29, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 13:03:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192328.png)](https://mergebot.odoo.com/odoo/odoo/pull/192328)

davidmonnom on (2025-01-06 09:29:46 UTC): @robodoo r+

"
2767533937,pull_request,closed,,[FW][FIX] web: fix active class on extra menu items,"Since [1], when an extra menu is displayed due to the top menu exceeding its maximum width, the active class is no longer applied correctly. This issue was introduced during the conversion from jQuery to vanilla JavaScript.

Steps to reproduce:

- Enter the Website in edit mode.
- Navigate to Site > Menu Editor.
- Add several menu items until the menu exceeds its maximum width.
- Ensure that one of the items in the extra menu redirects to ""Contact Us"".
- Click on the ""Contact Us"" menu item.
- Open the dropdown menu (via the ""+"" icon) and observe that the ""Contact Us"" entry is not highlighted.

This commit resolves the problem.

[1]: https://github.com/odoo/odoo/commit/0de634965a0dec4470b30154f3722a1e83b0e866

task-4428845
opw-4383641

Forward-Port-Of: odoo/odoo#192164
Forward-Port-Of: odoo/odoo#191548",fw-bot,2025-01-03 12:56:01+00:00,[],2025-01-20 13:32:00+00:00,2025-01-06 13:28:23+00:00,https://github.com/odoo/odoo/pull/192327,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569181763, 'issue_id': 2767533937, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192327.png)](https://mergebot.odoo.com/odoo/odoo/pull/192327)', 'created_at': datetime.datetime(2025, 1, 3, 12, 56, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569181778, 'issue_id': 2767533937, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 12, 56, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569213065, 'issue_id': 2767533937, 'author': 'fw-bot', 'body': '@SergeBayet @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 13, 20, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193975, 'issue_id': 2767533937, 'author': 'fw-bot', 'body': '@SergeBayet @aab-odoo this forward port of odoo/odoo#191548 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572479567, 'issue_id': 2767533937, 'author': 'fw-bot', 'body': '@SergeBayet @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572645622, 'issue_id': 2767533937, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 15, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:56:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192327.png)](https://mergebot.odoo.com/odoo/odoo/pull/192327)

fw-bot (Issue Creator) on (2025-01-03 12:56:03 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 13:20:21 UTC): @SergeBayet @aab-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-06 03:07:10 UTC): @SergeBayet @aab-odoo this forward port of odoo/odoo#191548 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 07:39:47 UTC): @SergeBayet @aab-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

SergeBayet on (2025-01-06 09:15:40 UTC): @robodoo r+

"
2767520876,pull_request,closed,,[FW][IMP] account: Allow Powerpoint attachment from mail alias,"Problem
---------
Currently, powerpoints attachments received by a mail alias are deleted. We want to allow them.

Solution
---------
Add the relevant mimetypes to the white list.

no-task
no-opw

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192221",fw-bot,2025-01-03 12:46:20+00:00,[],2025-01-21 10:28:11+00:00,2025-01-07 10:21:17+00:00,https://github.com/odoo/odoo/pull/192326,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569170820, 'issue_id': 2767520876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192326.png)](https://mergebot.odoo.com/odoo/odoo/pull/192326)', 'created_at': datetime.datetime(2025, 1, 3, 12, 46, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569170842, 'issue_id': 2767520876, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 12, 46, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:46:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192326.png)](https://mergebot.odoo.com/odoo/odoo/pull/192326)

fw-bot (Issue Creator) on (2025-01-03 12:46:22 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767513918,pull_request,closed,,[FIX] mail: earphone-off can be played more than once,"Before this commit, `earphone-off.ogg` sound effect could be only played once.

This happens because `earphone-off.mp3` was not correctly encoded, and the conversion to `.ogg` resulted in the bug.

This commit fixes the `.mp3` and `.ogg` files of `earphone-off`, so they can be played more than once.",alexkuhn,2025-01-03 12:41:05+00:00,[],2025-01-06 09:59:38+00:00,2025-01-03 18:37:31+00:00,https://github.com/odoo/odoo/pull/192325,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569164917, 'issue_id': 2767513918, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192325.png)](https://mergebot.odoo.com/odoo/odoo/pull/192325)', 'created_at': datetime.datetime(2025, 1, 3, 12, 41, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569364934, 'issue_id': 2767513918, 'author': 'ThanhDodeurOdoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 15, 3, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:41:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192325.png)](https://mergebot.odoo.com/odoo/odoo/pull/192325)

ThanhDodeurOdoo on (2025-01-03 15:03:27 UTC): @robodoo r+

"
2767506646,pull_request,closed,,[IMP] account: memo generation for grouped payments,"### Purpose

When we create Group Payments (as in selecting multiple invoices, use Pay, and selecting ""Group Payments""), it creates one Payment for multiple invoices. In this case, a new Payment memo is generated to easily identify the Payment back. We use ""BATCH/XX"" as a prefix, but it's a bit confusing as it's not a Batch Payment

### Implementation

Use ""GROUP/XX"" in this case instead.

odoo/upgrade/pull/7014
task-4356414",aizu-odoo,2025-01-03 12:35:34+00:00,[],2025-02-04 07:42:44+00:00,2025-02-04 07:42:44+00:00,https://github.com/odoo/odoo/pull/192324,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2569158524, 'issue_id': 2767506646, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192324.png)](https://mergebot.odoo.com/odoo/odoo/pull/192324)', 'created_at': datetime.datetime(2025, 1, 3, 12, 35, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598609230, 'issue_id': 2767506646, 'author': 'malb-odoo', 'body': 'In case you missed the email :eyes: \r\n@qdp-odoo', 'created_at': datetime.datetime(2025, 1, 17, 15, 27, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631228742, 'issue_id': 2767506646, 'author': 'qdp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 54, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:35:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192324.png)](https://mergebot.odoo.com/odoo/odoo/pull/192324)

malb-odoo on (2025-01-17 15:27:08 UTC): In case you missed the email :eyes: 
@qdp-odoo

qdp-odoo on (2025-02-03 14:54:28 UTC): @robodoo r+

"
2767502247,pull_request,closed,,[FIX] point_of_sale: allow customization of product image,"Before this commit, it wasn't possible to load the image_256 for better resolution. Additionally, it wasn't possible to change the image fit setting.

opw-4381313

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-03 12:32:13+00:00,[],2025-01-08 12:43:34+00:00,2025-01-08 12:43:33+00:00,https://github.com/odoo/odoo/pull/192323,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569154709, 'issue_id': 2767502247, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192323.png)](https://mergebot.odoo.com/odoo/odoo/pull/192323)', 'created_at': datetime.datetime(2025, 1, 3, 12, 32, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572651997, 'issue_id': 2767502247, 'author': 'caburj', 'body': ""We need MOBT's confirmation on this change."", 'created_at': datetime.datetime(2025, 1, 6, 9, 19, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577584908, 'issue_id': 2767502247, 'author': 'davidmonnom', 'body': 'Its more a feature than a fix, a task was created, mobt will decide what to do.', 'created_at': datetime.datetime(2025, 1, 8, 12, 43, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:32:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192323.png)](https://mergebot.odoo.com/odoo/odoo/pull/192323)

caburj on (2025-01-06 09:19:28 UTC): We need MOBT's confirmation on this change.

davidmonnom on (2025-01-08 12:43:33 UTC): Its more a feature than a fix, a task was created, mobt will decide what to do.

"
2767497993,pull_request,closed,,"[REV] website,_*: revert set task partner from form email","_* = website_crm, website_project, website_hr_recruitment


- This commit reverts [#128964 ](https://github.com/odoo/odoo/pull/128964)because the feature has been made in generic instead of doing it in project and helpdesk which is caused some issues in other models using website form feature. Also, the feature adds more complexity to just add a warning in the task description and in a message linked to the task generated to notify the user the task has been generated from an external submission (when the email set in the website form is not the one set on the user who submits the form) since the feature used the email set to search the partner to set on the task.

task-4295363

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mjvi-odoo,2025-01-03 12:29:01+00:00,['mjvi-odoo'],2025-01-29 17:35:54+00:00,2025-01-15 17:13:01+00:00,https://github.com/odoo/odoo/pull/192322,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569151140, 'issue_id': 2767497993, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192322.png)](https://mergebot.odoo.com/odoo/odoo/pull/192322)', 'created_at': datetime.datetime(2025, 1, 3, 12, 29, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582761202, 'issue_id': 2767497993, 'author': 'xavierbol', 'body': 'We should also explain why we revert the feature in the commit message.\r\n\r\n```txt\r\n[REV] website,*: revert set task partner from form email\r\n\r\nThis commit reverts #128964 because the feature has been made \r\nin generic instead of doing it in project and helpdesk \r\nwhich is caused some issues in other models using website form feature. \r\nAlso, the feature adds more complexity to just add a warning in the task \r\ndescription and in a message linked to the task generated to notify the \r\nuser the task has been generated from an external submission (when the \r\nemail set in the website form is not the one set on the user who submits \r\nthe form) since the feature used the email set to search the partner to \r\nset on the task.\r\n\r\ntask-4295363\r\n```', 'created_at': datetime.datetime(2025, 1, 10, 13, 53, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:29:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192322.png)](https://mergebot.odoo.com/odoo/odoo/pull/192322)

xavierbol on (2025-01-10 13:53:13 UTC): We should also explain why we revert the feature in the commit message.

```txt
[REV] website,*: revert set task partner from form email

This commit reverts #128964 because the feature has been made 
in generic instead of doing it in project and helpdesk 
which is caused some issues in other models using website form feature. 
Also, the feature adds more complexity to just add a warning in the task 
description and in a message linked to the task generated to notify the 
user the task has been generated from an external submission (when the 
email set in the website form is not the one set on the user who submits 
the form) since the feature used the email set to search the partner to 
set on the task.

task-4295363
```

"
2767495015,pull_request,closed,,[FW][FIX] hr_expense: handle undefined main attachment,"A temporary issue may occur when the attachment of an expense report is deleted.

Steps to reproduce:
- Create an expense and add an attachment.
- Create the report.
- On the report, delete the attachment.
- Try to click on the expense line.

An error ""TypeError: Cannot read properties of  undefined (reading 'checksum')"" is raised. The problem is resolved as soon as the page is reloaded.

This fix ensures the case is handled when one clicks before the page is reloaded.

opw-4355488

Forward-Port-Of: odoo/odoo#190430",fw-bot,2025-01-03 12:26:41+00:00,[],2025-01-17 18:39:22+00:00,2025-01-03 18:37:26+00:00,https://github.com/odoo/odoo/pull/192321,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569148382, 'issue_id': 2767495015, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192321.png)](https://mergebot.odoo.com/odoo/odoo/pull/192321)', 'created_at': datetime.datetime(2025, 1, 3, 12, 26, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569148394, 'issue_id': 2767495015, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 12, 26, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:26:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192321.png)](https://mergebot.odoo.com/odoo/odoo/pull/192321)

fw-bot (Issue Creator) on (2025-01-03 12:26:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767491410,pull_request,open,,[IMP] discuss: synchronize the state of calls across tabs,"This commit adds the ability to see and control calls from any tab, with the exception of video features which cannot be shared.

This commit also limits the amount of RtcSession per user at 1. Which means that one user can only be in one call at a time.

task-4393318
",ThanhDodeurOdoo,2025-01-03 12:23:58+00:00,[],2025-01-30 17:34:31+00:00,,https://github.com/odoo/odoo/pull/192320,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569145298, 'issue_id': 2767491410, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192320.png)](https://mergebot.odoo.com/odoo/odoo/pull/192320)', 'created_at': datetime.datetime(2025, 1, 3, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625142053, 'issue_id': 2767491410, 'author': 'alexkuhn', 'body': ""☝️rebased (hopefully correctly)\r\n\r\nI quickly tested it and seems to work pretty good! Too bad for streams that are only visible to tab actually making the call, but it feels more natural for consistent call state among tabs ;)\r\n\r\nIt also works great with the call recovery feature that seamlessly moves to another active tab. In rare cases this doesn't work, but that's the recovery feature that needs improvements."", 'created_at': datetime.datetime(2025, 1, 30, 17, 34, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:24:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192320.png)](https://mergebot.odoo.com/odoo/odoo/pull/192320)

alexkuhn on (2025-01-30 17:34:29 UTC): ☝️rebased (hopefully correctly)

I quickly tested it and seems to work pretty good! Too bad for streams that are only visible to tab actually making the call, but it feels more natural for consistent call state among tabs ;)

It also works great with the call recovery feature that seamlessly moves to another active tab. In rare cases this doesn't work, but that's the recovery feature that needs improvements.

"
2767481543,pull_request,open,,[IMP] point_of_sale: product display in terminal,"Following this commit :
- Used color field in product form view that already existed.
- Added color field in Edit product view from UI.
- Added sequence in product list view and set the priority of the view as favorite_product > sequence > name (alphabetical order)

task-4423837
",shag-odoo,2025-01-03 12:16:25+00:00,[],2025-01-30 05:52:45+00:00,,https://github.com/odoo/odoo/pull/192319,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569136415, 'issue_id': 2767481543, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192319.png)](https://mergebot.odoo.com/odoo/odoo/pull/192319)', 'created_at': datetime.datetime(2025, 1, 3, 12, 16, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598241771, 'issue_id': 2767481543, 'author': 'shag-odoo', 'body': 'Hello @paso-odoo \r\nThanks for the suggestion and changes are done, Could you please have a look once\r\n\r\nHave a wonderful day ahead :innocent:', 'created_at': datetime.datetime(2025, 1, 17, 12, 17, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623577181, 'issue_id': 2767481543, 'author': 'shag-odoo', 'body': ""> We discuss with MOBT and its ok if favorite aren't at the top of the list in the backend, can you check if everything is ok ?\r\n\r\nEverything is working fine , as mobt mentioned, it's fine if favorites aren't at the top in the backend, and that's how it's working now.\r\nI left a small comment , could you please have a look over it.\r\n\r\nThanks a lot for the suggestion and have a wonderful day ahead."", 'created_at': datetime.datetime(2025, 1, 30, 5, 52, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:16:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192319.png)](https://mergebot.odoo.com/odoo/odoo/pull/192319)

shag-odoo (Issue Creator) on (2025-01-17 12:17:13 UTC): Hello @paso-odoo 
Thanks for the suggestion and changes are done, Could you please have a look once

Have a wonderful day ahead :innocent:

shag-odoo (Issue Creator) on (2025-01-30 05:52:44 UTC): Everything is working fine , as mobt mentioned, it's fine if favorites aren't at the top in the backend, and that's how it's working now.
I left a small comment , could you please have a look over it.

Thanks a lot for the suggestion and have a wonderful day ahead.

"
2767474425,pull_request,open,,"[IMP] l10n_in_hr_holidays, *: restrict flexi leave to Optional Holidays","\* = hr_holidays hr_holidays
- Added name and ID fields for precise xpath targeting.

l10n_in_hr_holidays
- Added an option in the Time Off Type to restrict leave selection to defined Optional Holidays.
- When enabled, employees can only select days from the designated Optional Holiday list while applying for time off.

task-4341768",rmun-odoo,2025-01-03 12:10:47+00:00,[],2025-01-28 09:41:25+00:00,,https://github.com/odoo/odoo/pull/192318,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569130282, 'issue_id': 2767474425, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192318.png)](https://mergebot.odoo.com/odoo/odoo/pull/192318)', 'created_at': datetime.datetime(2025, 1, 3, 12, 10, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:10:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192318.png)](https://mergebot.odoo.com/odoo/odoo/pull/192318)

"
2767474285,pull_request,closed,,[FW][REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371

Forward-Port-Of: odoo/odoo#192285",fw-bot,2025-01-03 12:10:41+00:00,[],2025-01-17 20:52:30+00:00,2025-01-03 20:42:18+00:00,https://github.com/odoo/odoo/pull/192317,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569130128, 'issue_id': 2767474285, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192317.png)](https://mergebot.odoo.com/odoo/odoo/pull/192317)', 'created_at': datetime.datetime(2025, 1, 3, 12, 10, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569130143, 'issue_id': 2767474285, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 12, 10, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569162341, 'issue_id': 2767474285, 'author': 'fw-bot', 'body': '@agr-odoo @jco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 12, 38, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569632205, 'issue_id': 2767474285, 'author': 'robodoo', 'body': '@agr-odoo @jco-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72815092)', 'created_at': datetime.datetime(2025, 1, 3, 18, 14, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569712872, 'issue_id': 2767474285, 'author': 'jco-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 3, 19, 27, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:10:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192317.png)](https://mergebot.odoo.com/odoo/odoo/pull/192317)

fw-bot (Issue Creator) on (2025-01-03 12:10:43 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 12:38:54 UTC): @agr-odoo @jco-odoo ci/runbot failed on this forward-port PR

robodoo on (2025-01-03 18:14:06 UTC): @agr-odoo @jco-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72815092)

jco-odoo on (2025-01-03 19:27:42 UTC): @robodoo retry

"
2767463711,pull_request,closed,,[IMP] html_editor: add 'Clear Content' option to table menu,"Description of the feature this PR addresses:

Introduce a 'Clear Content' option in the table UI, enabling users to clear the content of a specific row or column.

task-4442525

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deso-odoo,2025-01-03 12:02:52+00:00,[],2025-01-21 16:10:47+00:00,2025-01-07 16:05:34+00:00,https://github.com/odoo/odoo/pull/192316,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2569120493, 'issue_id': 2767463711, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192316.png)](https://mergebot.odoo.com/odoo/odoo/pull/192316)', 'created_at': datetime.datetime(2025, 1, 3, 12, 2, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575051451, 'issue_id': 2767463711, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 11, 27, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 12:02:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192316.png)](https://mergebot.odoo.com/odoo/odoo/pull/192316)

dmo-odoo on (2025-01-07 11:27:48 UTC): @robodoo r+

"
2767458751,pull_request,closed,,[FW][FIX] l10n_ch: non 256 size barcode has cross centered,"Scenario:

- install l10n_ch
- go to /report/barcode/?barcode_type=QR&value=&width=150&height=150&mask=ch_cross

=> the ch_cross mask (swiss cross that should be in the center) is not
in the center

Issue:

Reportlab QrCodeWidget has a fixed size to 32mm (with mm that is 72(ppi)
/ 25.4(1mm to inch) so ~2.83 pixels) and to get the widget to the full
size, a zoom is applied on the Drawing content (so on the QrCodeWidget).

Here are the zoom that are applied for several Drawing size:

- for 100 pixels: 100 / (32 * mm) => 1.012…
- for 256 pixels: 256 / (32 * mm) => 2.822…
- for 400 pixels: 400 / (32 * mm) => 4.409…

But in the code, the zoom is just hardcoded to mm (~2.83) which
corresponds to a barcode size of mm * 32 * mm => 257.127 pixels which is
kind of good enough for 256 pixels, but wrong for most other size.

In base code we only use 256 x 256 pixels so this is not much of an
issue unless someone want to use it for something else.

Fix:

With this commit, we apply the Drawing zoom (on which we have the
QrCodeWidget) to the ch_cross image.

Note:

Without the fix, the added test only fail on the third assertion for
each loop iteration, the farer we are from 257x257 pixels the bigger
the error is, for example for 256x256:

Result:   (38.45140, 38.45140, 52.25725984251969, 52.25725984251969)
Expected: (38.28288, 38.28288, 52.02823111111111, 52.02823111111111)

opw-4307177

PR NOTE: this could be merged in an higher version, and we could also just not fix this since as far as I can tell, we only need to support 256x256 and with and without the fix there is just one pixel of difference in this case.

![a](https://github.com/user-attachments/assets/f38e26ee-a129-4fd1-ae92-a9768274dbbb)

Forward-Port-Of: odoo/odoo#192091",fw-bot,2025-01-03 11:59:05+00:00,[],2025-01-20 09:37:25+00:00,2025-01-06 09:24:44+00:00,https://github.com/odoo/odoo/pull/192315,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569116005, 'issue_id': 2767458751, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192315.png)](https://mergebot.odoo.com/odoo/odoo/pull/192315)', 'created_at': datetime.datetime(2025, 1, 3, 11, 59, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569116015, 'issue_id': 2767458751, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 59, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:59:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192315.png)](https://mergebot.odoo.com/odoo/odoo/pull/192315)

fw-bot (Issue Creator) on (2025-01-03 11:59:06 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767451943,pull_request,open,,[IMP] base: remove address from name for partner in mobile view in kanban card," Before this commit:
  - The `show_address` context was initially used to display the partner's address along with their  name in the desired form view.

  - However, when clicking ""Search More"" for partners, the same context was passed,affecting the kanban view of `res.partner`. This resulted in kanban cards on mobile devices showing the name combined with the address, leading to a cluttered appearance.

After this commit:
  - For small devices, the kanban view now uses the `name` field to display only the partner's name, ensuring a cleaner view.

task-4385096
",rajp-odoo,2025-01-03 11:53:46+00:00,[],2025-01-03 12:00:12+00:00,,https://github.com/odoo/odoo/pull/192314,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569110032, 'issue_id': 2767451943, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192314.png)](https://mergebot.odoo.com/odoo/odoo/pull/192314)', 'created_at': datetime.datetime(2025, 1, 3, 11, 53, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:53:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192314.png)](https://mergebot.odoo.com/odoo/odoo/pull/192314)

"
2767447016,pull_request,closed,,[FW][FIX] web_editor: delete backward on lists,"Current behavior before PR:

When multiple types of lists were selected and the deleteBackward operation was performed, the list type remained unchanged.

Desired behavior after PR is merged:

When deleteBackward is pressed with multiple types of lists selected, and all selected content is removed, if the anchor node's list item is empty, that list item type will change to match the type of the list where the deleteBackward operation started.

task:4187739

Forward-Port-Of: odoo/odoo#191915
Forward-Port-Of: odoo/odoo#180687",fw-bot,2025-01-03 11:50:06+00:00,[],2025-01-22 12:21:43+00:00,2025-01-08 12:19:19+00:00,https://github.com/odoo/odoo/pull/192313,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569105649, 'issue_id': 2767447016, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192313.png)](https://mergebot.odoo.com/odoo/odoo/pull/192313)', 'created_at': datetime.datetime(2025, 1, 3, 11, 50, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569105662, 'issue_id': 2767447016, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 50, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:50:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192313.png)](https://mergebot.odoo.com/odoo/odoo/pull/192313)

fw-bot (Issue Creator) on (2025-01-03 11:50:08 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767438898,pull_request,closed,,[FW][FIX] web_editor: update code view after saving images,"**Problem**:
When in `codeview`, calling `saveModifiedImagesPromise` creates the attachments and updates the DOM but does not update the `codeview`. As a result, the non-urgent save (`this.updateValue()`) uses outdated content from the `codeview`.

**Solution**:
Ensure that the `codeview` content is updated after saving attachments to reflect the latest changes.

**Steps to reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192009
Forward-Port-Of: odoo/odoo#191475",fw-bot,2025-01-03 11:45:45+00:00,[],2025-01-17 17:46:49+00:00,2025-01-03 17:39:48+00:00,https://github.com/odoo/odoo/pull/192312,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569100343, 'issue_id': 2767438898, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192312.png)](https://mergebot.odoo.com/odoo/odoo/pull/192312)', 'created_at': datetime.datetime(2025, 1, 3, 11, 45, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569100372, 'issue_id': 2767438898, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 45, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:45:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192312.png)](https://mergebot.odoo.com/odoo/odoo/pull/192312)

fw-bot (Issue Creator) on (2025-01-03 11:45:47 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767437583,pull_request,closed,,[FW][FIX] web: fix active class on extra menu items,"Since [1], when an extra menu is displayed due to the top menu exceeding its maximum width, the active class is no longer applied correctly. This issue was introduced during the conversion from jQuery to vanilla JavaScript.

Steps to reproduce:

- Enter the Website in edit mode.
- Navigate to Site > Menu Editor.
- Add several menu items until the menu exceeds its maximum width.
- Ensure that one of the items in the extra menu redirects to ""Contact Us"".
- Click on the ""Contact Us"" menu item.
- Open the dropdown menu (via the ""+"" icon) and observe that the ""Contact Us"" entry is not highlighted.

This commit resolves the problem.

[1]: https://github.com/odoo/odoo/commit/0de634965a0dec4470b30154f3722a1e83b0e866

task-4428845
opw-4383641

Forward-Port-Of: odoo/odoo#192164
Forward-Port-Of: odoo/odoo#191548",fw-bot,2025-01-03 11:44:54+00:00,[],2025-01-20 11:13:16+00:00,2025-01-06 10:45:31+00:00,https://github.com/odoo/odoo/pull/192311,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569099293, 'issue_id': 2767437583, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192311.png)](https://mergebot.odoo.com/odoo/odoo/pull/192311)', 'created_at': datetime.datetime(2025, 1, 3, 11, 44, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569099307, 'issue_id': 2767437583, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 44, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572479591, 'issue_id': 2767437583, 'author': 'fw-bot', 'body': ""@SergeBayet @aab-odoo child PR odoo/odoo#192327 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572644804, 'issue_id': 2767437583, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 15, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:44:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192311.png)](https://mergebot.odoo.com/odoo/odoo/pull/192311)

fw-bot (Issue Creator) on (2025-01-03 11:44:55 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 07:39:49 UTC): @SergeBayet @aab-odoo child PR odoo/odoo#192327 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

SergeBayet on (2025-01-06 09:15:10 UTC): @robodoo r+

"
2767432615,pull_request,closed,,[FIX] mail: trash icon on attachments,"Portal users don't have access to delete attachments created by others. In this case, the trash icon shouldn't be displayed. This PR removes this icon from the attachment of a message when the message is not editable by the current user.

",maki-odoo,2025-01-03 11:41:00+00:00,[],2025-01-06 16:52:56+00:00,2025-01-06 16:27:52+00:00,https://github.com/odoo/odoo/pull/192310,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569095051, 'issue_id': 2767432615, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192310.png)](https://mergebot.odoo.com/odoo/odoo/pull/192310)', 'created_at': datetime.datetime(2025, 1, 3, 11, 41, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:41:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192310.png)](https://mergebot.odoo.com/odoo/odoo/pull/192310)

"
2767427512,pull_request,closed,,[FW][IMP] account: Allow Powerpoint attachment from mail alias,"Problem
---------
Currently, powerpoints attachments received by a mail alias are deleted. We want to allow them.

Solution
---------
Add the relevant mimetypes to the white list.

no-task
no-opw

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192221",fw-bot,2025-01-03 11:36:58+00:00,[],2025-01-21 09:55:31+00:00,2025-01-07 09:47:19+00:00,https://github.com/odoo/odoo/pull/192309,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569090577, 'issue_id': 2767427512, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192309.png)](https://mergebot.odoo.com/odoo/odoo/pull/192309)', 'created_at': datetime.datetime(2025, 1, 3, 11, 36, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569090590, 'issue_id': 2767427512, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:36:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192309.png)](https://mergebot.odoo.com/odoo/odoo/pull/192309)

fw-bot (Issue Creator) on (2025-01-03 11:37:00 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767418815,pull_request,closed,,[FIX] point_of_sale: don't translate /pos/ticket,"In the template, /pos/ticket is concatenated to the base_url. But because /pos/ticket is a normal string inside the template, it is translated.

ticket-4447566

",AH-Yussef,2025-01-03 11:30:02+00:00,['AH-Yussef'],2025-01-17 19:45:45+00:00,2025-01-03 19:41:56+00:00,https://github.com/odoo/odoo/pull/192308,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569082605, 'issue_id': 2767418815, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192308.png)](https://mergebot.odoo.com/odoo/odoo/pull/192308)', 'created_at': datetime.datetime(2025, 1, 3, 11, 30, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569087542, 'issue_id': 2767418815, 'author': 'brboi', 'body': ""Oh, maybe there's something to do with the `.po{t}` files.\r\nI am not really used to these kind of things though"", 'created_at': datetime.datetime(2025, 1, 3, 11, 34, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569360481, 'issue_id': 2767418815, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 15, 0, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:30:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192308.png)](https://mergebot.odoo.com/odoo/odoo/pull/192308)

brboi on (2025-01-03 11:34:20 UTC): Oh, maybe there's something to do with the `.po{t}` files.
I am not really used to these kind of things though

caburj on (2025-01-03 15:00:21 UTC): robodoo r+

"
2767409647,pull_request,closed,,[FW][FIX] sale: fix catalog display price,"Steps:
- install sale and activate pricelists
- activate discounts from setting
- create a product with price 100
- create a pricelist with of 2% discount on the product
- create a sale order with the new pricelist
- open the new product in catalog and add 1 quantity

Issue:
- the price for the product changes from 98 to 100 after adding quantity

Cause:
- the display price in catalog comes from either SOL price unit or computed from SO pricelist_id. When discounts setting is active the SOL price_unit is pricelist price without discount else with discount. Hence when first time the catalog is loaded it is computed from SO's pricelist and after adding a quantity it takes pricelist price without discount from SOL

Fix:
- Updated `_update_order_line_info` so it will always take the pricelist computed price and not SOL unit_price

opw - 4345503
opw - 4406373

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191171",fw-bot,2025-01-03 11:23:01+00:00,[],2025-01-17 23:15:44+00:00,2025-01-03 22:36:37+00:00,https://github.com/odoo/odoo/pull/192307,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2569074447, 'issue_id': 2767409647, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192307.png)](https://mergebot.odoo.com/odoo/odoo/pull/192307)', 'created_at': datetime.datetime(2025, 1, 3, 11, 23, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569074461, 'issue_id': 2767409647, 'author': 'fw-bot', 'body': '@dere-odoo @Feyensv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192216\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 23, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569159392, 'issue_id': 2767409647, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 12, 36, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:23:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192307.png)](https://mergebot.odoo.com/odoo/odoo/pull/192307)

fw-bot (Issue Creator) on (2025-01-03 11:23:03 UTC): @dere-odoo @Feyensv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192216

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-03 12:36:23 UTC): @robodoo r+

"
2767404892,pull_request,closed,,[FW][IMP] point_of_sale: prevent cancel of scheduled orders during close session,"In this commit:
===
- Added the `get_session_orders` method to handle session orders.
- Updated session closure logic to exclude scheduled orders from being canceled, ensuring better management of such orders.

task-4361079

Related: https://github.com/odoo/enterprise/pull/74555

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188563",fw-bot,2025-01-03 11:19:19+00:00,[],2025-01-20 14:50:24+00:00,2025-01-06 14:08:58+00:00,https://github.com/odoo/odoo/pull/192305,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569070042, 'issue_id': 2767404892, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192305.png)](https://mergebot.odoo.com/odoo/odoo/pull/192305)', 'created_at': datetime.datetime(2025, 1, 3, 11, 19, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569070067, 'issue_id': 2767404892, 'author': 'fw-bot', 'body': '@meji-odoo @caburj while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76444) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 19, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572417822, 'issue_id': 2767404892, 'author': 'meji-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 6, 53, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572479378, 'issue_id': 2767404892, 'author': 'robodoo', 'body': '@meji-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 6, 7, 39, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:19:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192305.png)](https://mergebot.odoo.com/odoo/odoo/pull/192305)

fw-bot (Issue Creator) on (2025-01-03 11:19:22 UTC): @meji-odoo @caburj while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#76444) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

meji-odoo on (2025-01-06 06:53:51 UTC): @robodoo r+

robodoo on (2025-01-06 07:39:38 UTC): @meji-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2767404582,pull_request,closed,,[FW][REF] web_tour: separation of unit test in multiple files,"In this commit, we separate the unit tests that are all grouped in the tour_service file into files that are more explicit about what is being tested. We group everything related to the tour automatic feature into a separate file and we do the same for everything related to tour interactive.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192001",fw-bot,2025-01-03 11:19:04+00:00,[],2025-01-17 17:35:03+00:00,2025-01-03 17:13:23+00:00,https://github.com/odoo/odoo/pull/192304,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569069978, 'issue_id': 2767404582, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192304.png)](https://mergebot.odoo.com/odoo/odoo/pull/192304)', 'created_at': datetime.datetime(2025, 1, 3, 11, 19, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569069987, 'issue_id': 2767404582, 'author': 'fw-bot', 'body': '@pipu-odoo @aab-odoo cherrypicking of pull request odoo/odoo#192001 failed.\n\nstdout:\n```\nAuto-merging addons/web_tour/static/tests/tour_service.test.js\nCONFLICT (content): Merge conflict in addons/web_tour/static/tests/tour_service.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 19, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569139075, 'issue_id': 2767404582, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 12, 18, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569139114, 'issue_id': 2767404582, 'author': 'robodoo', 'body': '@pipu-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 3, 12, 18, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569143830, 'issue_id': 2767404582, 'author': 'pipu-odoo', 'body': ""@odoo/rd-security let's see <https://github.com/odoo/odoo/pull/192001>"", 'created_at': datetime.datetime(2025, 1, 3, 12, 22, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569169165, 'issue_id': 2767404582, 'author': 'mart-e', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 3, 12, 45, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:19:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192304.png)](https://mergebot.odoo.com/odoo/odoo/pull/192304)

fw-bot (Issue Creator) on (2025-01-03 11:19:18 UTC): @pipu-odoo @aab-odoo cherrypicking of pull request odoo/odoo#192001 failed.

stdout:
```
Auto-merging addons/web_tour/static/tests/tour_service.test.js
CONFLICT (content): Merge conflict in addons/web_tour/static/tests/tour_service.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-03 12:18:36 UTC): @robodoo r+

robodoo on (2025-01-03 12:18:38 UTC): @pipu-odoo you may want to rebuild or fix this PR as it has failed CI.

pipu-odoo on (2025-01-03 12:22:41 UTC): @odoo/rd-security let's see <https://github.com/odoo/odoo/pull/192001>

mart-e on (2025-01-03 12:45:02 UTC): @robodoo override=ci/security

"
2767387232,pull_request,closed,,[FIX] mail: do not store env on Discuss JS Model classes,"They were added on Model classes to make them easily available in case business code was putting static method code in the models, and accessing the env is very handy e.g. to invoke service calls.

This approach was dismissed, because static methods do not work well with the relational approach. However, the storing of env in models has been mistakenly kept, which makes debugging memleak harder because Models keeping env means they keep services in memory.

This commit removes the unused env stored on JS model classes.
",alexkuhn,2025-01-03 11:05:51+00:00,[],2025-01-06 10:02:29+00:00,2025-01-03 22:36:33+00:00,https://github.com/odoo/odoo/pull/192303,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2569054783, 'issue_id': 2767387232, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192303.png)](https://mergebot.odoo.com/odoo/odoo/pull/192303)', 'created_at': datetime.datetime(2025, 1, 3, 11, 5, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:05:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192303.png)](https://mergebot.odoo.com/odoo/odoo/pull/192303)

"
2767384536,pull_request,closed,,[FW][REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371

Forward-Port-Of: odoo/odoo#192285",fw-bot,2025-01-03 11:03:46+00:00,[],2025-01-20 09:37:26+00:00,2025-01-06 09:24:49+00:00,https://github.com/odoo/odoo/pull/192302,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569052233, 'issue_id': 2767384536, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192302.png)](https://mergebot.odoo.com/odoo/odoo/pull/192302)', 'created_at': datetime.datetime(2025, 1, 3, 11, 3, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569052245, 'issue_id': 2767384536, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 11, 3, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569681762, 'issue_id': 2767384536, 'author': 'robodoo', 'body': '@agr-odoo @jco-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72815725)', 'created_at': datetime.datetime(2025, 1, 3, 18, 59, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572506169, 'issue_id': 2767384536, 'author': 'agr-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 6, 8, 0, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 11:03:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192302.png)](https://mergebot.odoo.com/odoo/odoo/pull/192302)

fw-bot (Issue Creator) on (2025-01-03 11:03:48 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-03 18:59:25 UTC): @agr-odoo @jco-odoo staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72815725)

agr-odoo on (2025-01-06 08:00:21 UTC): @robodoo retry

"
2767376331,pull_request,closed,,[FIX] l10n_latam_base: make Identification Number required for partners,"[FIX] l10n_latam_base: make Identification Number required for partners

Following a discussion with the product owner, it was clarified that in Colombia, 
it is mandatory for customers to provide both an Identification Type and an Identification Number (VAT). 
These details are essential for electronic invoicing, as all sales require them to proceed.

Previously, only the Identification Type was required, allowing the Identification Number to be left empty. 
This caused issues during checkout or invoicing, as the server detected the missing Identification Number 
and redirected users back to the address form. However, since the Identification Type and Number were already 
set (with an empty number), the fields did not appear in the form, leading to confusion and failed transactions.

This fix ensures the Identification Number is required whenever the Type is set, preventing these errors and 
ensuring compliance with invoicing regulations.

opw-4309448


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-01-03 10:57:50+00:00,[],2025-01-07 15:09:02+00:00,2025-01-07 15:09:02+00:00,https://github.com/odoo/odoo/pull/192301,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2569044947, 'issue_id': 2767376331, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192301.png)](https://mergebot.odoo.com/odoo/odoo/pull/192301)', 'created_at': datetime.datetime(2025, 1, 3, 10, 57, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573166445, 'issue_id': 2767376331, 'author': 'elhayyany', 'body': ""Hi @antoine162 \r\n> Besides, looking briefly at the ticket, it seems this doesn't solve the issue where the identification type / number fields don't appear in the checkout form?\r\nI think that the main reason why we dont see the identification type / number fields is that the main billing address is already set."", 'created_at': datetime.datetime(2025, 1, 6, 13, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573354124, 'issue_id': 2767376331, 'author': 'antoine162', 'body': '> I think that the main reason why we dont see the identification type / number fields is that the main billing address is already set.\r\n\r\nAh, I see :smile:', 'created_at': datetime.datetime(2025, 1, 6, 15, 32, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574934536, 'issue_id': 2767376331, 'author': 'elhayyany', 'body': 'Will be solved in this PR: https://github.com/odoo/enterprise/pull/76609', 'created_at': datetime.datetime(2025, 1, 7, 10, 29, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575320681, 'issue_id': 2767376331, 'author': 'antoine162', 'body': ""> Will be solved in this PR: [odoo/enterprise#76609](https://github.com/odoo/enterprise/pull/76609)\r\n\r\nFeel free to assign me as reviewer on it if you'd like."", 'created_at': datetime.datetime(2025, 1, 7, 13, 40, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:57:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192301.png)](https://mergebot.odoo.com/odoo/odoo/pull/192301)

elhayyany (Issue Creator) on (2025-01-06 13:57:51 UTC): Hi @antoine162 
I think that the main reason why we dont see the identification type / number fields is that the main billing address is already set.

antoine162 on (2025-01-06 15:32:12 UTC): Ah, I see :smile:

elhayyany (Issue Creator) on (2025-01-07 10:29:52 UTC): Will be solved in this PR: https://github.com/odoo/enterprise/pull/76609

antoine162 on (2025-01-07 13:40:10 UTC): Feel free to assign me as reviewer on it if you'd like.

"
2767370299,pull_request,closed,,[FIX] mail: do not store env on Discuss JS Model classes,"They were added on Model classes to make them easily available in case business code was putting static method code in the models, and accessing the env is very handy e.g. to invoke service calls.

This approach was dismissed, because static methods do not work well with the relational approach. However, the storing of env in models has been mistakenly kept, which makes debugging memleak harder because Models keeping env means they keep services in memory.

This commit removes the unused env stored on JS model classes.
",alexkuhn,2025-01-03 10:53:21+00:00,[],2025-01-03 11:06:00+00:00,2025-01-03 11:02:49+00:00,https://github.com/odoo/odoo/pull/192300,"[('RD', 'research & development, internal work')]","[{'comment_id': 2569039535, 'issue_id': 2767370299, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192300.png)](https://mergebot.odoo.com/odoo/odoo/pull/192300)', 'created_at': datetime.datetime(2025, 1, 3, 10, 53, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569051027, 'issue_id': 2767370299, 'author': 'alexkuhn', 'body': ""Will retarget master as this could have been used and this isn't really a big issue outside of test in the case of investigating memory issues."", 'created_at': datetime.datetime(2025, 1, 3, 11, 2, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569054887, 'issue_id': 2767370299, 'author': 'alexkuhn', 'body': 'Master PR: https://github.com/odoo/odoo/pull/192303', 'created_at': datetime.datetime(2025, 1, 3, 11, 5, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:53:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192300.png)](https://mergebot.odoo.com/odoo/odoo/pull/192300)

alexkuhn (Issue Creator) on (2025-01-03 11:02:49 UTC): Will retarget master as this could have been used and this isn't really a big issue outside of test in the case of investigating memory issues.

alexkuhn (Issue Creator) on (2025-01-03 11:05:59 UTC): Master PR: https://github.com/odoo/odoo/pull/192303

"
2767331575,pull_request,closed,,[FW][FIX] web_editor: line breaks at edges of block anchor nested within li,"Description of the issue this PR addresses:

I. Commit [1] handled cases of pressing enter at the edge of an anchor, which is a
child of an unbreakable element. The commit inserted the `br`'s after anchors;
however, it missed the situation where the anchor tags are block elements nested
inside an unbreakable element inside a `li`. In this specific case, inserting
two `br` tags after a anchor block resulted in the creation of two new lines.
This PR handles that case by only inserting one `br` tag after the anchor,
rather than both.

II. Previously when changing selection between links in website, when clicking on a
link the previous link used to get selected. This commit makes sure that when
changing selection in between links it selects the correct link.

III. This PR ensures that the link popover closes when the cursor moves outside
the link.

[1]: https://github.com/odoo/odoo/commit/df6f8dd0c54c40ea7edbd3821ae068d79b1b7af7

task-3631910

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191889
Forward-Port-Of: odoo/odoo#171469",fw-bot,2025-01-03 10:24:57+00:00,[],2025-01-21 17:04:07+00:00,2025-01-07 17:03:13+00:00,https://github.com/odoo/odoo/pull/192299,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2569003729, 'issue_id': 2767331575, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192299.png)](https://mergebot.odoo.com/odoo/odoo/pull/192299)', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569003750, 'issue_id': 2767331575, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#171469 failed.\n\n* 0e2998c34e77b72ec9f967434d2028a3312c9849\n* 3c0256c2902e33b3d03e8c47db1c14876d20987b <- on this commit\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nAuto-merging addons/website/static/tests/tours/edit_link_popover.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/edit_link_popover.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570003385, 'issue_id': 2767331575, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 4, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571468737, 'issue_id': 2767331575, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 5, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572194418, 'issue_id': 2767331575, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572560126, 'issue_id': 2767331575, 'author': 'deso-odoo', 'body': '@dmo-odoo Conflicts resolved!', 'created_at': datetime.datetime(2025, 1, 6, 8, 31, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575141681, 'issue_id': 2767331575, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 17, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:24:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192299.png)](https://mergebot.odoo.com/odoo/odoo/pull/192299)

fw-bot (Issue Creator) on (2025-01-03 10:24:59 UTC): @deso-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#171469 failed.

* 0e2998c34e77b72ec9f967434d2028a3312c9849
* 3c0256c2902e33b3d03e8c47db1c14876d20987b <- on this commit

stdout:
```
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
Auto-merging addons/website/static/tests/tours/edit_link_popover.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/edit_link_popover.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-04 02:02:10 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-05 02:01:36 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 03:07:47 UTC): @deso-odoo @dmo-odoo this forward port of odoo/odoo#171469 is awaiting action (not merged or closed).

deso-odoo on (2025-01-06 08:31:20 UTC): @dmo-odoo Conflicts resolved!

dmo-odoo on (2025-01-07 12:17:54 UTC): @robodoo r+

"
2767331418,pull_request,closed,,[FW][FIX] web: fix active class on extra menu items,"Since [1], when an extra menu is displayed due to the top menu exceeding its maximum width, the active class is no longer applied correctly. This issue was introduced during the conversion from jQuery to vanilla JavaScript.

Steps to reproduce:

- Enter the Website in edit mode.
- Navigate to Site > Menu Editor.
- Add several menu items until the menu exceeds its maximum width.
- Ensure that one of the items in the extra menu redirects to ""Contact Us"".
- Click on the ""Contact Us"" menu item.
- Open the dropdown menu (via the ""+"" icon) and observe that the ""Contact Us"" entry is not highlighted.

This commit resolves the problem.

[1]: https://github.com/odoo/odoo/commit/0de634965a0dec4470b30154f3722a1e83b0e866

task-4428845
opw-4383641

Forward-Port-Of: odoo/odoo#192164
Forward-Port-Of: odoo/odoo#191548",fw-bot,2025-01-03 10:24:50+00:00,[],2025-01-20 11:13:22+00:00,2025-01-06 11:07:32+00:00,https://github.com/odoo/odoo/pull/192298,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569003566, 'issue_id': 2767331418, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192298.png)](https://mergebot.odoo.com/odoo/odoo/pull/192298)', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569003584, 'issue_id': 2767331418, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572642243, 'issue_id': 2767331418, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 9, 13, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:24:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192298.png)](https://mergebot.odoo.com/odoo/odoo/pull/192298)

fw-bot (Issue Creator) on (2025-01-03 10:24:52 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-06 09:13:37 UTC): @robodoo r+

"
2767331266,pull_request,closed,,[FW][FIX] web_editor: selection fails on link when applying style,"**Current behaviour before PR:**

In website, when trying to apply color or any style on a link from toolbar whole link gets selected. This happens because in `wysiwyg.js` `destroyLinkTools` method gets called when user clicks on toolbar to apply color.

**Behaviour after PR:**

Now, any style can be applied on a link without selecting whole link.

task-4072867




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191890
Forward-Port-Of: odoo/odoo#180616",fw-bot,2025-01-03 10:24:44+00:00,[],2025-01-21 15:56:27+00:00,2025-01-07 15:48:02+00:00,https://github.com/odoo/odoo/pull/192297,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569003396, 'issue_id': 2767331266, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192297.png)](https://mergebot.odoo.com/odoo/odoo/pull/192297)', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569003416, 'issue_id': 2767331266, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569051818, 'issue_id': 2767331266, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 11, 3, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570003364, 'issue_id': 2767331266, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 4, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571468712, 'issue_id': 2767331266, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 5, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572194386, 'issue_id': 2767331266, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572962809, 'issue_id': 2767331266, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 11, 57, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573119551, 'issue_id': 2767331266, 'author': 'adsa-odoo', 'body': ""@dmo-odoo  I've done changes. Please have a look, thanks!"", 'created_at': datetime.datetime(2025, 1, 6, 13, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575136999, 'issue_id': 2767331266, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 12, 15, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:24:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192297.png)](https://mergebot.odoo.com/odoo/odoo/pull/192297)

fw-bot (Issue Creator) on (2025-01-03 10:24:45 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 11:03:27 UTC): @adsa-odoo @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-04 02:02:07 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-05 02:01:30 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 03:07:45 UTC): @adsa-odoo @dmo-odoo this forward port of odoo/odoo#180616 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 11:57:25 UTC): @adsa-odoo @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

adsa-odoo on (2025-01-06 13:32:30 UTC): @dmo-odoo  I've done changes. Please have a look, thanks!

dmo-odoo on (2025-01-07 12:15:13 UTC): @robodoo r+

"
2767330903,pull_request,closed,,[FW][FIX] web_editor: update code view after saving images,"**Problem**:
When in `codeview`, calling `saveModifiedImagesPromise` creates the attachments and updates the DOM but does not update the `codeview`. As a result, the non-urgent save (`this.updateValue()`) uses outdated content from the `codeview`.

**Solution**:
Ensure that the `codeview` content is updated after saving attachments to reflect the latest changes.

**Steps to reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192009
Forward-Port-Of: odoo/odoo#191475",fw-bot,2025-01-03 10:24:28+00:00,[],2025-01-17 17:46:47+00:00,2025-01-03 17:38:16+00:00,https://github.com/odoo/odoo/pull/192296,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569003205, 'issue_id': 2767330903, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192296.png)](https://mergebot.odoo.com/odoo/odoo/pull/192296)', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569003218, 'issue_id': 2767330903, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:24:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192296.png)](https://mergebot.odoo.com/odoo/odoo/pull/192296)

fw-bot (Issue Creator) on (2025-01-03 10:24:38 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767330707,pull_request,closed,,[FW][IMP] account: Allow Powerpoint attachment from mail alias,"Problem
---------
Currently, powerpoints attachments received by a mail alias are deleted. We want to allow them.

Solution
---------
Add the relevant mimetypes to the white list.

no-task
no-opw

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192221",fw-bot,2025-01-03 10:24:19+00:00,[],2025-01-21 10:54:39+00:00,2025-01-07 10:54:09+00:00,https://github.com/odoo/odoo/pull/192295,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2569003176, 'issue_id': 2767330707, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192295.png)](https://mergebot.odoo.com/odoo/odoo/pull/192295)', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569003188, 'issue_id': 2767330707, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 10, 24, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:24:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192295.png)](https://mergebot.odoo.com/odoo/odoo/pull/192295)

fw-bot (Issue Creator) on (2025-01-03 10:24:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2767315750,pull_request,closed,,[IMP] mail: adding role to mail template layout header,"Description of the issue/feature this PR addresses:
Difficulties to target the header of the mail template when overriding 
Current behavior before PR:
No role attribute was present in the header
Desired behavior after PR is merged:
A role attribute with the value ""header"" is present in the header row of the the mail template table



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

task-id: 4423436
",Deimort,2025-01-03 10:14:21+00:00,[],2025-01-13 09:07:31+00:00,2025-01-13 09:07:31+00:00,https://github.com/odoo/odoo/pull/192294,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568989856, 'issue_id': 2767315750, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192294.png)](https://mergebot.odoo.com/odoo/odoo/pull/192294)', 'created_at': datetime.datetime(2025, 1, 3, 10, 14, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:14:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192294.png)](https://mergebot.odoo.com/odoo/odoo/pull/192294)

"
2767313501,pull_request,closed,,[FW][FIX] web_editor: blend the bg color when selecting a table cell,"Before this commit: the bg color of a table cell is set to a fixed value when selected

After this commit: the selection will have a blue overlay color effect on the selected cells with bg color

task-4398980




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192039
Forward-Port-Of: odoo/odoo#191366",fw-bot,2025-01-03 10:12:45+00:00,[],2025-01-28 15:37:23+00:00,2025-01-14 15:28:14+00:00,https://github.com/odoo/odoo/pull/192293,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568987823, 'issue_id': 2767313501, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192293.png)](https://mergebot.odoo.com/odoo/odoo/pull/192293)', 'created_at': datetime.datetime(2025, 1, 3, 10, 12, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568987835, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192286\n* odoo/odoo#192283\n* odoo/odoo#192281\n* odoo/odoo#192279\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 10, 12, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570002967, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 4, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571468600, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 5, 2, 0, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193992, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249614, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557959, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018943, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000461, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586817944, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 11, 11, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587331710, 'issue_id': 2767313501, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 14, 57, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589850686, 'issue_id': 2767313501, 'author': 'Jinjiu96', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 12, 59, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 10:12:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192293.png)](https://mergebot.odoo.com/odoo/odoo/pull/192293)

fw-bot (Issue Creator) on (2025-01-03 10:12:47 UTC): @Jinjiu96 @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192286
* odoo/odoo#192283
* odoo/odoo#192281
* odoo/odoo#192279

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-04 02:01:37 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-05 02:00:56 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-06 03:07:12 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-07 02:01:45 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:36 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-09 02:01:35 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:30 UTC): @Jinjiu96 @dmo-odoo this forward port of odoo/odoo#191366 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 11:11:26 UTC): @Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-13 14:57:12 UTC): @Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR

Jinjiu96 on (2025-01-14 12:59:03 UTC): @robodoo r+

"
2767278295,pull_request,closed,,[FW][FIX] pos_sale: draft pos order ignored in sales,"Draft pos order where considered as paid when counting the invoiced qty of a sale linked to a pos order.

Steps to reproduce:
-------------------
* Create a sale order with any product
* Open PoS and settle the order but do not validate it
* Click on ""Backend"" button so that the order is synchronized
* Go back on the sale
> Observation: The invoiced quantity is 1

Why the fix:
------------
We should not consider draft pos orders when counting the invoiced qty as they are not yet validated.

opw-4201267

Forward-Port-Of: odoo/odoo#192160",fw-bot,2025-01-03 09:48:07+00:00,[],2025-01-20 16:30:50+00:00,2025-01-06 16:27:54+00:00,https://github.com/odoo/odoo/pull/192292,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568957051, 'issue_id': 2767278295, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192292.png)](https://mergebot.odoo.com/odoo/odoo/pull/192292)', 'created_at': datetime.datetime(2025, 1, 3, 9, 48, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568957068, 'issue_id': 2767278295, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 9, 48, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568980439, 'issue_id': 2767278295, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 3, 10, 7, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573045754, 'issue_id': 2767278295, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 12, 48, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573194691, 'issue_id': 2767278295, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 14, 12, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 09:48:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192292.png)](https://mergebot.odoo.com/odoo/odoo/pull/192292)

fw-bot (Issue Creator) on (2025-01-03 09:48:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 10:07:10 UTC): @robinengels @davidmonnom ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-06 12:48:47 UTC): @robinengels @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.

robinengels on (2025-01-06 14:12:35 UTC): @robodoo r+

"
2767255902,pull_request,closed,,[FW][IMP] pos*: identify preset by name and remove default filter orders,"Preset identified by name now opens a edit floating order name popup if there is no name already set. Also this commit removes the default table search on ticket screen.
task-id: 4432945

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192154",fw-bot,2025-01-03 09:32:28+00:00,[],2025-01-28 10:30:29+00:00,2025-01-14 10:25:20+00:00,https://github.com/odoo/odoo/pull/192291,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568937647, 'issue_id': 2767255902, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192291.png)](https://mergebot.odoo.com/odoo/odoo/pull/192291)', 'created_at': datetime.datetime(2025, 1, 3, 9, 32, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568937659, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 9, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572621390, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 6, 9, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574248891, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557589, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018774, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581587244, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000324, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541795, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586046525, 'issue_id': 2767255902, 'author': 'fw-bot', 'body': '@adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 13, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589291613, 'issue_id': 2767255902, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 8, 24, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 09:32:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192291.png)](https://mergebot.odoo.com/odoo/odoo/pull/192291)

fw-bot (Issue Creator) on (2025-01-03 09:32:30 UTC): @adgu-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 09:00:54 UTC): @adgu-odoo @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-01-07 02:01:20 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:16 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-09 02:01:25 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-10 02:01:34 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:19 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:01:37 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-13 02:01:56 UTC): @adgu-odoo @davidmonnom this forward port of odoo/odoo#192154 is awaiting action (not merged or closed).

adgu-odoo on (2025-01-14 08:24:11 UTC): robodoo r+

"
2767243716,pull_request,closed,,[IMP] account_peppol: notify users about incoming Peppol invoices,"Now users get a daily email if there are new vendor bills received via Peppol. Invoices are flagged when they come in, and a cron job sends a summary once a day. This helps users stay on top of incoming invoices without having to check manually.

task-4341360",antonrom1,2025-01-03 09:23:24+00:00,[],2025-02-03 08:05:10+00:00,2025-02-03 08:05:10+00:00,https://github.com/odoo/odoo/pull/192290,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568926318, 'issue_id': 2767243716, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192290.png)](https://mergebot.odoo.com/odoo/odoo/pull/192290)', 'created_at': datetime.datetime(2025, 1, 3, 9, 23, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 09:23:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192290.png)](https://mergebot.odoo.com/odoo/odoo/pull/192290)

"
2767220134,pull_request,closed,,[FIX] *: some field inside group not taking all space,"This commit fixes some ARCH to fixes some visual issue.

Inside a group (grid) there will be always two columns:
* one smaller on the left (max 150px)
* one taking all the remaining space on the right.

When we add only one element with `nolabel=""1""` it will take one part of the grid to take all the space we need to specify it with `colspan=""2""`.

task-4416643

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adr-odoo,2025-01-03 09:06:11+00:00,['adr-odoo'],2025-01-06 09:19:06+00:00,2025-01-03 13:44:56+00:00,https://github.com/odoo/odoo/pull/192289,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568890853, 'issue_id': 2767220134, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192289.png)](https://mergebot.odoo.com/odoo/odoo/pull/192289)', 'created_at': datetime.datetime(2025, 1, 3, 9, 6, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 09:06:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192289.png)](https://mergebot.odoo.com/odoo/odoo/pull/192289)

"
2767217505,pull_request,open,,"[REF] product, *: rename 'taxes_id' and 'supplier_taxes_id' field","This commit renames the taxes_id field to tax_ids and the supplier_taxes_id field to supplier_tax_ids in the product model.

These fields are many2many, and this change standardizes the naming for improved clarity and maintainability. It also aligns with the tax_ids field in sales orders, facilitating easier EDI order processing.

Most importantly, this update ensures consistency with Odoo's naming conventions.
",sako-odoo,2025-01-03 09:04:59+00:00,[],2025-01-29 05:48:12+00:00,,https://github.com/odoo/odoo/pull/192288,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568889310, 'issue_id': 2767217505, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192288.png)](https://mergebot.odoo.com/odoo/odoo/pull/192288)', 'created_at': datetime.datetime(2025, 1, 3, 9, 5, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595003515, 'issue_id': 2767217505, 'author': 'Whenrow', 'body': 'robodoo r+ squash', 'created_at': datetime.datetime(2025, 1, 16, 9, 30, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595003633, 'issue_id': 2767217505, 'author': 'robodoo', 'body': ""@Whenrow draft PRs can not be approved.\n\nFor your own safety I've ignored everything in your comment."", 'created_at': datetime.datetime(2025, 1, 16, 9, 30, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2595004394, 'issue_id': 2767217505, 'author': 'robodoo', 'body': ""@Whenrow draft PRs can not be approved.\n\nFor your own safety I've ignored everything in your comment."", 'created_at': datetime.datetime(2025, 1, 16, 9, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606619304, 'issue_id': 2767217505, 'author': 'Whenrow', 'body': 'robodoo r+ squash', 'created_at': datetime.datetime(2025, 1, 22, 8, 46, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606619386, 'issue_id': 2767217505, 'author': 'robodoo', 'body': 'Merge method set to squash.', 'created_at': datetime.datetime(2025, 1, 22, 8, 46, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606623091, 'issue_id': 2767217505, 'author': 'robodoo', 'body': ""@sako-odoo @Whenrow 'ci/style' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 22, 8, 48, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606625500, 'issue_id': 2767217505, 'author': 'robodoo', 'body': ""@sako-odoo @Whenrow 'ci/style' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 22, 8, 49, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 09:05:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192288.png)](https://mergebot.odoo.com/odoo/odoo/pull/192288)

Whenrow on (2025-01-16 09:30:29 UTC): robodoo r+ squash

robodoo on (2025-01-16 09:30:32 UTC): @Whenrow draft PRs can not be approved.

For your own safety I've ignored everything in your comment.

robodoo on (2025-01-16 09:30:53 UTC): @Whenrow draft PRs can not be approved.

For your own safety I've ignored everything in your comment.

Whenrow on (2025-01-22 08:46:14 UTC): robodoo r+ squash

robodoo on (2025-01-22 08:46:17 UTC): Merge method set to squash.

robodoo on (2025-01-22 08:48:13 UTC): @sako-odoo @Whenrow 'ci/style' failed on this reviewed PR.

robodoo on (2025-01-22 08:49:28 UTC): @sako-odoo @Whenrow 'ci/style' failed on this reviewed PR.

"
2767202089,pull_request,closed,,[FIX] point_of_sale: correct sorting of orderlines by category,"Before this commit:
====================
The ""sort by category"" functionality in POS was not working as intended. Orderlines were not being sorted by their assigned categories, failing to meet the expected behaviour.

After this commit:
===================
The ""sort by category"" functionality now works as expected, properly sorting orderlines based on their categories in the POS interface.

Task-4440339

",jipr-odoo,2025-01-03 08:53:48+00:00,[],2025-01-22 14:39:35+00:00,2025-01-08 14:33:26+00:00,https://github.com/odoo/odoo/pull/192287,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568875933, 'issue_id': 2767202089, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192287.png)](https://mergebot.odoo.com/odoo/odoo/pull/192287)', 'created_at': datetime.datetime(2025, 1, 3, 8, 53, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574703047, 'issue_id': 2767202089, 'author': 'jipr-odoo', 'body': '> LGTM, but can you create an helper for the test ?\r\n\r\nhello @davidmonnom  changes are made please check\r\nThanks!', 'created_at': datetime.datetime(2025, 1, 7, 8, 45, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577356199, 'issue_id': 2767202089, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 42, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 08:53:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192287.png)](https://mergebot.odoo.com/odoo/odoo/pull/192287)

jipr-odoo (Issue Creator) on (2025-01-07 08:45:29 UTC): hello @davidmonnom  changes are made please check
Thanks!

caburj on (2025-01-08 10:42:49 UTC): robodoo r+

"
2767201705,pull_request,closed,,[FW][FIX] web_editor: blend the bg color when selecting a table cell,"Before this commit: the bg color of a table cell is set to a fixed value when selected

After this commit: the selection will have a blue overlay color effect on the selected cells with bg color

task-4398980




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192039
Forward-Port-Of: odoo/odoo#191366",fw-bot,2025-01-03 08:53:30+00:00,[],2025-01-28 15:37:32+00:00,2025-01-14 15:32:21+00:00,https://github.com/odoo/odoo/pull/192286,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568875544, 'issue_id': 2767201705, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192286.png)](https://mergebot.odoo.com/odoo/odoo/pull/192286)', 'created_at': datetime.datetime(2025, 1, 3, 8, 53, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568875550, 'issue_id': 2767201705, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 8, 53, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586816563, 'issue_id': 2767201705, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 11, 10, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587324532, 'issue_id': 2767201705, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 13, 14, 54, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 08:53:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192286.png)](https://mergebot.odoo.com/odoo/odoo/pull/192286)

fw-bot (Issue Creator) on (2025-01-03 08:53:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-13 11:10:51 UTC): @Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-13 14:54:36 UTC): @Jinjiu96 @dmo-odoo ci/runbot failed on this forward-port PR

"
2767180413,pull_request,closed,,[REV] l10n_cl: create EDI document for credit note (code 61),"This reverts commit ff3702651a30fd7a6ee3007988df953dda911e41 
After which customer credit notes share the sequence with supplier credit notes.

Steps to reproduce:

- Open Vendor Bills journal and enable 'Use Documents?'
- Create a Bill with document type '(46) Factura de Compra Electrónica'
- Create the credit note
- In the Wizard: select 'Full Refund', Document Type 61, Confirm
- Document name will be 'N/C 000001'
- Now create an invoice with document type '(33) Factura Electrónica'
- Add a credit note for the invoice

Issue: Credit note name will be 'N/C 000002' but sequences should be unique for move type

opw-4268371
",agr-odoo,2025-01-03 08:35:06+00:00,[],2025-01-17 11:15:02+00:00,2025-01-03 11:03:43+00:00,https://github.com/odoo/odoo/pull/192285,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2568855456, 'issue_id': 2767180413, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192285.png)](https://mergebot.odoo.com/odoo/odoo/pull/192285)', 'created_at': datetime.datetime(2025, 1, 3, 8, 35, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568956024, 'issue_id': 2767180413, 'author': 'agr-odoo', 'body': '@jco-odoo \r\nAfter checking with the PO, we need to work a bit more on the original patch so it is better to revert for the moment', 'created_at': datetime.datetime(2025, 1, 3, 9, 47, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568973678, 'issue_id': 2767180413, 'author': 'agr-odoo', 'body': 'cc @antoine162', 'created_at': datetime.datetime(2025, 1, 3, 10, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568978060, 'issue_id': 2767180413, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 10, 5, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 08:35:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192285.png)](https://mergebot.odoo.com/odoo/odoo/pull/192285)

agr-odoo (Issue Creator) on (2025-01-03 09:47:19 UTC): @jco-odoo 
After checking with the PO, we need to work a bit more on the original patch so it is better to revert for the moment

agr-odoo (Issue Creator) on (2025-01-03 10:01:54 UTC): cc @antoine162

jco-odoo on (2025-01-03 10:05:15 UTC): @robodoo r+

"
2767144123,pull_request,closed,,[IMP] project: project_ids visible by default in task stages,"Changed the visibility of the project_ids to be visible by default in the task stage list view.

Task: 4273764",romaincarlier4,2025-01-03 08:02:20+00:00,[],2025-02-07 17:59:24+00:00,2025-01-24 17:59:29+00:00,https://github.com/odoo/odoo/pull/192284,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2568821166, 'issue_id': 2767144123, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192284.png)](https://mergebot.odoo.com/odoo/odoo/pull/192284)', 'created_at': datetime.datetime(2025, 1, 3, 8, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612734835, 'issue_id': 2767144123, 'author': 'xavierbol', 'body': 'I just rebase your branch', 'created_at': datetime.datetime(2025, 1, 24, 14, 58, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 08:02:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192284.png)](https://mergebot.odoo.com/odoo/odoo/pull/192284)

xavierbol on (2025-01-24 14:58:39 UTC): I just rebase your branch

"
2767126514,pull_request,closed,,[FW][FIX] web_editor: blend the bg color when selecting a table cell,"Before this commit: the bg color of a table cell is set to a fixed value when selected

After this commit: the selection will have a blue overlay color effect on the selected cells with bg color

task-4398980




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192039
Forward-Port-Of: odoo/odoo#191366",fw-bot,2025-01-03 07:45:36+00:00,[],2025-01-28 10:54:07+00:00,2025-01-14 10:47:08+00:00,https://github.com/odoo/odoo/pull/192283,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568806749, 'issue_id': 2767126514, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192283.png)](https://mergebot.odoo.com/odoo/odoo/pull/192283)', 'created_at': datetime.datetime(2025, 1, 3, 7, 45, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568806760, 'issue_id': 2767126514, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 7, 45, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569009348, 'issue_id': 2767126514, 'author': 'dmo-odoo', 'body': ""@Jinjiu96 Don't forget to adapt it to `html_editor` 😄"", 'created_at': datetime.datetime(2025, 1, 3, 10, 29, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586680782, 'issue_id': 2767126514, 'author': 'fw-bot', 'body': '@Jinjiu96 @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 13, 10, 7, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589349908, 'issue_id': 2767126514, 'author': 'Jinjiu96', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 14, 8, 53, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 07:45:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192283.png)](https://mergebot.odoo.com/odoo/odoo/pull/192283)

fw-bot (Issue Creator) on (2025-01-03 07:45:38 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-03 10:29:16 UTC): @Jinjiu96 Don't forget to adapt it to `html_editor` 😄

fw-bot (Issue Creator) on (2025-01-13 10:07:22 UTC): @Jinjiu96 @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

Jinjiu96 on (2025-01-14 08:53:37 UTC): @robodoo r+

"
2767051635,pull_request,closed,,[FW][FIX] web_editor: blend the bg color when selecting a table cell,"Before this commit: the bg color of a table cell is set to a fixed value when selected

After this commit: the selection will have a blue overlay color effect on the selected cells with bg color

task-4398980




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192039
Forward-Port-Of: odoo/odoo#191366",fw-bot,2025-01-03 06:32:07+00:00,[],2025-01-17 11:46:44+00:00,2025-01-03 11:44:43+00:00,https://github.com/odoo/odoo/pull/192281,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568750727, 'issue_id': 2767051635, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192281.png)](https://mergebot.odoo.com/odoo/odoo/pull/192281)', 'created_at': datetime.datetime(2025, 1, 3, 6, 32, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568750733, 'issue_id': 2767051635, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 6, 32, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569009139, 'issue_id': 2767051635, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 10, 29, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 06:32:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192281.png)](https://mergebot.odoo.com/odoo/odoo/pull/192281)

fw-bot (Issue Creator) on (2025-01-03 06:32:09 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-03 10:29:06 UTC): @robodoo r+

"
2767044406,pull_request,open,,[IMP] web: scroll right when unfold kanban card in kanban view,"SPECIFICATION:

In the Kanban view, when unfolding a Kanban card to maintain the visibility of the expanded content.

Task-4345711
",sabr-odoo,2025-01-03 06:24:15+00:00,[],2025-01-17 07:30:15+00:00,,https://github.com/odoo/odoo/pull/192280,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568745453, 'issue_id': 2767044406, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192280.png)](https://mergebot.odoo.com/odoo/odoo/pull/192280)', 'created_at': datetime.datetime(2025, 1, 3, 6, 24, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 06:24:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192280.png)](https://mergebot.odoo.com/odoo/odoo/pull/192280)

"
2766992725,pull_request,closed,,[FW][FIX] web_editor: blend the bg color when selecting a table cell,"Before this commit: the bg color of a table cell is set to a fixed value when selected

After this commit: the selection will have a blue overlay color effect on the selected cells with bg color

task-4398980




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192039
Forward-Port-Of: odoo/odoo#191366",fw-bot,2025-01-03 05:20:30+00:00,[],2025-01-17 11:55:50+00:00,2025-01-03 11:52:55+00:00,https://github.com/odoo/odoo/pull/192279,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568706905, 'issue_id': 2766992725, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192279.png)](https://mergebot.odoo.com/odoo/odoo/pull/192279)', 'created_at': datetime.datetime(2025, 1, 3, 5, 20, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568706910, 'issue_id': 2766992725, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 5, 20, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 05:20:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192279.png)](https://mergebot.odoo.com/odoo/odoo/pull/192279)

fw-bot (Issue Creator) on (2025-01-03 05:20:32 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766965823,pull_request,closed,,[IMP] account_edi_ubl_cii: move invoice related code in specific method,"Steps:
- Install sale app.
- Upload PO field which contain EDI data.

Issue:
- Order is not imported properly and giving error.

Cause:
- When `_retrieve_line_vals` call from order edi it should
not contain invoice related values but when `account.move.line`
has `deferred_start_date` and `deferred_end_date` it return
those field even it called from order edi and SOL does not
contain those fields

Fix:
- Move invoice related specific code in other method and only
keep generic code which can be used in both invoice and order
in generic method to ensure there is no invoice flow impacted
by order edi and vice versa.

Issued PR: https://github.com/odoo/odoo/pull/191487",kcv-odoo,2025-01-03 04:41:14+00:00,[],2025-01-21 19:16:52+00:00,2025-01-07 19:05:22+00:00,https://github.com/odoo/odoo/pull/192278,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568685820, 'issue_id': 2766965823, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192278.png)](https://mergebot.odoo.com/odoo/odoo/pull/192278)', 'created_at': datetime.datetime(2025, 1, 3, 4, 41, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 04:41:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192278.png)](https://mergebot.odoo.com/odoo/odoo/pull/192278)

"
2766954636,pull_request,closed,,[IMP] web: show fields in display order during export,"Before this commit:
- when users select records for export, fields are listed in alphabetical order by default.

After this commit:
- fields are now displayed based on their display order during export.

task-4354280

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",omra-odoo,2025-01-03 04:24:34+00:00,[],2025-02-07 11:08:55+00:00,2025-01-24 11:09:35+00:00,https://github.com/odoo/odoo/pull/192277,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2568677636, 'issue_id': 2766954636, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192277.png)](https://mergebot.odoo.com/odoo/odoo/pull/192277)', 'created_at': datetime.datetime(2025, 1, 3, 4, 24, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 04:24:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192277.png)](https://mergebot.odoo.com/odoo/odoo/pull/192277)

"
2766826316,pull_request,closed,,[FW][FIX] base: add flag for Catalan language,"And compress the arabic language

Forward-Port-Of: odoo/odoo#192210",fw-bot,2025-01-03 00:34:55+00:00,[],2025-01-17 11:26:06+00:00,2025-01-03 11:16:43+00:00,https://github.com/odoo/odoo/pull/192276,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568559415, 'issue_id': 2766826316, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192276.png)](https://mergebot.odoo.com/odoo/odoo/pull/192276)', 'created_at': datetime.datetime(2025, 1, 3, 0, 34, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568559423, 'issue_id': 2766826316, 'author': 'fw-bot', 'body': '@mart-e this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192273\n* odoo/odoo#192271\n* odoo/odoo#192264\n* odoo/odoo#192257\n* odoo/odoo#192249\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 3, 0, 34, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568782796, 'issue_id': 2766826316, 'author': 'mart-e', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 7, 15, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-03 00:34:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192276.png)](https://mergebot.odoo.com/odoo/odoo/pull/192276)

fw-bot (Issue Creator) on (2025-01-03 00:34:57 UTC): @mart-e this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192273
* odoo/odoo#192271
* odoo/odoo#192264
* odoo/odoo#192257
* odoo/odoo#192249

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mart-e on (2025-01-03 07:15:21 UTC): @robodoo r+

"
2766786168,pull_request,closed,,[FW][FIX] im_livechat: attach file button not opening file selector,"Before this PR, the attachm file button in the composer was displayed even if upload was not allowed. Clicking on this button woudln't do anything since upload is forbidden.

This PR hides the upload file action is upload is not allowed.

task-4433082

https://github.com/odoo/enterprise/pull/76259

Forward-Port-Of: odoo/odoo#191831",fw-bot,2025-01-02 23:31:47+00:00,[],2025-01-06 10:01:05+00:00,2025-01-03 22:36:22+00:00,https://github.com/odoo/odoo/pull/192274,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568518655, 'issue_id': 2766786168, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192274.png)](https://mergebot.odoo.com/odoo/odoo/pull/192274)', 'created_at': datetime.datetime(2025, 1, 2, 23, 31, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568518675, 'issue_id': 2766786168, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 23, 31, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569056088, 'issue_id': 2766786168, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 11, 7, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 23:31:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192274.png)](https://mergebot.odoo.com/odoo/odoo/pull/192274)

fw-bot (Issue Creator) on (2025-01-02 23:31:51 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-03 11:07:02 UTC): @robodoo r+

"
2766764736,pull_request,closed,,[FW][FIX] base: add flag for Catalan language,"And compress the arabic language

Forward-Port-Of: odoo/odoo#192210",fw-bot,2025-01-02 23:00:52+00:00,[],2025-01-17 11:01:51+00:00,2025-01-03 10:52:44+00:00,https://github.com/odoo/odoo/pull/192273,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568497317, 'issue_id': 2766764736, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192273.png)](https://mergebot.odoo.com/odoo/odoo/pull/192273)', 'created_at': datetime.datetime(2025, 1, 2, 23, 0, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568497329, 'issue_id': 2766764736, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 23, 0, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 23:00:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192273.png)](https://mergebot.odoo.com/odoo/odoo/pull/192273)

fw-bot (Issue Creator) on (2025-01-02 23:00:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766674204,pull_request,closed,,[FW][FIX] base: add flag for Catalan language,"And compress the arabic language

Forward-Port-Of: odoo/odoo#192210",fw-bot,2025-01-02 21:36:03+00:00,[],2025-01-17 10:03:22+00:00,2025-01-03 10:01:06+00:00,https://github.com/odoo/odoo/pull/192271,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568410169, 'issue_id': 2766674204, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192271.png)](https://mergebot.odoo.com/odoo/odoo/pull/192271)', 'created_at': datetime.datetime(2025, 1, 2, 21, 36, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568410182, 'issue_id': 2766674204, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 21, 36, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 21:36:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192271.png)](https://mergebot.odoo.com/odoo/odoo/pull/192271)

fw-bot (Issue Creator) on (2025-01-02 21:36:05 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766612135,pull_request,closed,,[FW][FIX] project_todo: set by default project to False in todo,"Before this commit, when the user sets a project as a default value for his tasks, that default value will also be applied inside To-Do app because a to-do is in fact a private task (that is, a task without any project set).

This commit adds a default value inside the context of the main action used in To-Do to make sure the default value for `project_id` field in To-Do is false and nothing else.

Steps to reproduce
==================

1. Install Project app
2. Go to Project app
3. Select/create a project
4. Select/create and edit a task inside
5. Enable the debug mode
6. Click on debug menu and select `Set Default Values`
7. Apply `project = <your project selected/created>` and save
8. Go to To-Do app
9. Create a to-do

Expected Behavior
-----------------

A to-do should be created without any issue in the kanban view.

Current Behavior
----------------

A form view will be displayed inside a modal to create the to-do but the form view is in fact the one used in Project app and the project set is the one set as default value instead of having no project since the user is creating a to-do and not a task inside that project.

Forward-Port-Of: odoo/odoo#192205
Forward-Port-Of: odoo/odoo#191583",fw-bot,2025-01-02 20:35:42+00:00,[],2025-01-22 10:10:19+00:00,2025-01-08 10:01:12+00:00,https://github.com/odoo/odoo/pull/192269,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568346456, 'issue_id': 2766612135, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192269.png)](https://mergebot.odoo.com/odoo/odoo/pull/192269)', 'created_at': datetime.datetime(2025, 1, 2, 20, 35, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568346466, 'issue_id': 2766612135, 'author': 'fw-bot', 'body': '@xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192258\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 35, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193927, 'issue_id': 2766612135, 'author': 'fw-bot', 'body': '@xavierbol this forward port of odoo/odoo#191583 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249575, 'issue_id': 2766612135, 'author': 'fw-bot', 'body': '@xavierbol this forward port of odoo/odoo#191583 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557932, 'issue_id': 2766612135, 'author': 'fw-bot', 'body': '@xavierbol this forward port of odoo/odoo#191583 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577026037, 'issue_id': 2766612135, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 8, 18, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 20:35:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192269.png)](https://mergebot.odoo.com/odoo/odoo/pull/192269)

fw-bot (Issue Creator) on (2025-01-02 20:35:44 UTC): @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192258

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 03:07:07 UTC): @xavierbol this forward port of odoo/odoo#191583 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-07 02:01:43 UTC): @xavierbol this forward port of odoo/odoo#191583 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:35 UTC): @xavierbol this forward port of odoo/odoo#191583 is awaiting action (not merged or closed).

xavierbol on (2025-01-08 08:18:40 UTC): robodoo r+

"
2766609514,pull_request,closed,,[FW][FIX] mail: ease click on quick action of chat window,"Click on quick ation button in Chat window header was a bit tedious in desktop. This happens because the clickable area is 24px x 24px.

This commit makes it easier by increasing to 28px x 28px, thanks to explicit `p-1` on buttons. This ain't much but this gives less frustration to use chat window quick actions.


<img width=""601"" alt=""Screenshot 2025-01-02 at 18 23 47"" src=""https://github.com/user-attachments/assets/b0c09d0c-906b-43b9-b8f7-6fb954c34998"" />

Forward-Port-Of: odoo/odoo#192241",fw-bot,2025-01-02 20:33:14+00:00,[],2025-01-07 10:54:42+00:00,2025-01-06 22:51:44+00:00,https://github.com/odoo/odoo/pull/192268,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2568343980, 'issue_id': 2766609514, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192268.png)](https://mergebot.odoo.com/odoo/odoo/pull/192268)', 'created_at': datetime.datetime(2025, 1, 2, 20, 33, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568343993, 'issue_id': 2766609514, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#192241 failed.\n\nstdout:\n```\nAuto-merging addons/mail/static/src/core/common/chat_window.xml\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/chat_window.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 33, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569053583, 'issue_id': 2766609514, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 11, 4, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569244007, 'issue_id': 2766609514, 'author': 'robodoo', 'body': '@alexkuhn @seb-odoo unable to stage: merge conflict', 'created_at': datetime.datetime(2025, 1, 3, 13, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193772, 'issue_id': 2766609514, 'author': 'fw-bot', 'body': '@alexkuhn @seb-odoo this forward port of odoo/odoo#192241 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 6, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572773736, 'issue_id': 2766609514, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 10, 3, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 20:33:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192268.png)](https://mergebot.odoo.com/odoo/odoo/pull/192268)

fw-bot (Issue Creator) on (2025-01-02 20:33:16 UTC): @alexkuhn @seb-odoo cherrypicking of pull request odoo/odoo#192241 failed.

stdout:
```
Auto-merging addons/mail/static/src/core/common/chat_window.xml
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/chat_window.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-03 11:04:56 UTC): @robodoo r+

robodoo on (2025-01-03 13:45:14 UTC): @alexkuhn @seb-odoo unable to stage: merge conflict

fw-bot (Issue Creator) on (2025-01-06 03:06:54 UTC): @alexkuhn @seb-odoo this forward port of odoo/odoo#192241 is awaiting action (not merged or closed).

alexkuhn on (2025-01-06 10:03:27 UTC): @robodoo r+

"
2766606455,pull_request,closed,,[FW][FIX] sale: prevent warning on quotation template,"**Issue:**

A warning popup appears incorrectly when a user-defined default is set for the ""Quotation Template (Sales Order)"" field. This warning is only relevant when the company is changed while creating a quotation.

**Steps to reproduce the issue:**

1- Navigate to Settings > Technical > Actions > User-defined Defaults.
2- Create a new User-defined Default for the field ""Quotation Template (Sales Order)"" with a default value (in JSON format) of 1 .
3- Go to the Sales module.
4- Create a new quotation.

A warning with the title ""Warning for the change of your quotation's company"" is displayed (see screenshot attached), despite the company not being changed.
The onchange('company_id') method is triggered by the user-defined default for the quotation template.

<img src=""https://github.com/user-attachments/assets/5f046310-05b7-48ab-9781-1ba4a36f2beb"" width=400 />


opw-4244961

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#184713",fw-bot,2025-01-02 20:30:19+00:00,[],2025-01-17 16:35:24+00:00,2025-01-03 16:31:13+00:00,https://github.com/odoo/odoo/pull/192267,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2568340701, 'issue_id': 2766606455, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192267.png)](https://mergebot.odoo.com/odoo/odoo/pull/192267)', 'created_at': datetime.datetime(2025, 1, 2, 20, 30, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568340741, 'issue_id': 2766606455, 'author': 'fw-bot', 'body': '@st-yes cherrypicking of pull request odoo/odoo#184713 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/sale_order.py\nAuto-merging addons/sale_management/tests/test_sale_order.py\nCONFLICT (content): Merge conflict in addons/sale_management/tests/test_sale_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 30, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569240454, 'issue_id': 2766606455, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 13, 42, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 20:30:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192267.png)](https://mergebot.odoo.com/odoo/odoo/pull/192267)

fw-bot (Issue Creator) on (2025-01-02 20:30:23 UTC): @st-yes cherrypicking of pull request odoo/odoo#184713 failed.

stdout:
```
Auto-merging addons/sale/models/sale_order.py
Auto-merging addons/sale_management/tests/test_sale_order.py
CONFLICT (content): Merge conflict in addons/sale_management/tests/test_sale_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-01-03 13:42:20 UTC): @robodoo r+

"
2766594542,pull_request,closed,,[FW][REF] hw_posbox_homepage: move all update tools to update page,"Update core code could be updated from ""Update"" page and IoT Handlers from ""Log Levels"" page.

Now, all update tools are moved to update page.

Backport of: odoo/odoo#190338

Task: 4395958

Forward-Port-Of: odoo/odoo#191886",fw-bot,2025-01-02 20:23:03+00:00,[],2025-01-17 16:35:22+00:00,2025-01-03 16:31:12+00:00,https://github.com/odoo/odoo/pull/192266,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2568328265, 'issue_id': 2766594542, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192266.png)](https://mergebot.odoo.com/odoo/odoo/pull/192266)', 'created_at': datetime.datetime(2025, 1, 2, 20, 23, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568328302, 'issue_id': 2766594542, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#191886 failed.\n\nstdout:\n```\nAuto-merging addons/hw_posbox_homepage/controllers/homepage.py\nAuto-merging addons/hw_posbox_homepage/static/src/app/Homepage.js\nAuto-merging addons/hw_posbox_homepage/static/src/app/components/dialog/UpdateDialog.js\nCONFLICT (content): Merge conflict in addons/hw_posbox_homepage/static/src/app/components/dialog/UpdateDialog.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 23, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568846876, 'issue_id': 2766594542, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 8, 27, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568847181, 'issue_id': 2766594542, 'author': 'robodoo', 'body': ""@loouis-t @Ysoroko 'ci/security' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 3, 8, 27, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568849421, 'issue_id': 2766594542, 'author': 'loouis-t', 'body': ""@odoo/rd-security Hello, could you override this forward port please? it's the FW port of [this PR](https://github.com/odoo/odoo/pull/191886), which was the backport of [this one](https://github.com/odoo/odoo/pull/190338#issuecomment-2536547810)."", 'created_at': datetime.datetime(2025, 1, 3, 8, 30, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568855551, 'issue_id': 2766594542, 'author': 'mart-e', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 1, 3, 8, 35, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568866095, 'issue_id': 2766594542, 'author': 'robodoo', 'body': ""@loouis-t @Ysoroko 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 3, 8, 44, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 20:23:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192266.png)](https://mergebot.odoo.com/odoo/odoo/pull/192266)

fw-bot (Issue Creator) on (2025-01-02 20:23:07 UTC): @loouis-t @Ysoroko cherrypicking of pull request odoo/odoo#191886 failed.

stdout:
```
Auto-merging addons/hw_posbox_homepage/controllers/homepage.py
Auto-merging addons/hw_posbox_homepage/static/src/app/Homepage.js
Auto-merging addons/hw_posbox_homepage/static/src/app/components/dialog/UpdateDialog.js
CONFLICT (content): Merge conflict in addons/hw_posbox_homepage/static/src/app/components/dialog/UpdateDialog.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-03 08:27:39 UTC): @robodoo r+

robodoo on (2025-01-03 08:27:58 UTC): @loouis-t @Ysoroko 'ci/security' failed on this reviewed PR.

loouis-t on (2025-01-03 08:30:08 UTC): @odoo/rd-security Hello, could you override this forward port please? it's the FW port of [this PR](https://github.com/odoo/odoo/pull/191886), which was the backport of [this one](https://github.com/odoo/odoo/pull/190338#issuecomment-2536547810).

mart-e on (2025-01-03 08:35:12 UTC): @robodoo override=ci/security

robodoo on (2025-01-03 08:44:53 UTC): @loouis-t @Ysoroko 'ci/runbot' failed on this reviewed PR.

"
2766591979,pull_request,closed,,[FW][FIX] hr_gamification: allow badge granting through badge card,"**Issue:**
Badges granted to employees don't display the link to access employee card.
https://github.com/user-attachments/assets/d8de916d-4f24-4ebb-b312-4e17d4c79bbb

**Expected:**
Magic button on badges cards should lead to the rewarded employee if any.

**Steps to reproduce:**
- Activate Employees and Gamification apps;
- Configure an employee;
- Configure a badge to grant through `Employees / Configuration / Challenges / Badges`;
- Grant the badge and select the employee;
- See all counters increase but the magic button's one.

**Cause:**
The employee_id is not set on the `GamificationBadgeUserWizard` during creation state so `values` never contain an employee_id if retrieved on `self`.

**Fix:**
Retrieve the user's employee id through the selected user entity.
https://github.com/user-attachments/assets/a0076e85-cd66-421a-992f-2c89afb07ad8


opw-4366690

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190097",fw-bot,2025-01-02 20:21:42+00:00,[],2025-01-17 02:53:46+00:00,2025-01-03 01:34:25+00:00,https://github.com/odoo/odoo/pull/192265,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568325724, 'issue_id': 2766591979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192265.png)](https://mergebot.odoo.com/odoo/odoo/pull/192265)', 'created_at': datetime.datetime(2025, 1, 2, 20, 21, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568325734, 'issue_id': 2766591979, 'author': 'fw-bot', 'body': '@barracudapps @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192255\n* odoo/odoo#192250\n* odoo/odoo#192234\n* odoo/odoo#192213\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 21, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568437051, 'issue_id': 2766591979, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 2, 22, 3, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 20:21:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192265.png)](https://mergebot.odoo.com/odoo/odoo/pull/192265)

fw-bot (Issue Creator) on (2025-01-02 20:21:44 UTC): @barracudapps @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192255
* odoo/odoo#192250
* odoo/odoo#192234
* odoo/odoo#192213

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-01-02 22:03:26 UTC): @robodoo r+

"
2766587010,pull_request,closed,,[FW][FIX] base: add flag for Catalan language,"And compress the arabic language

Forward-Port-Of: odoo/odoo#192210",fw-bot,2025-01-02 20:17:34+00:00,[],2025-01-17 15:06:14+00:00,2025-01-03 15:05:32+00:00,https://github.com/odoo/odoo/pull/192264,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568320919, 'issue_id': 2766587010, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192264.png)](https://mergebot.odoo.com/odoo/odoo/pull/192264)', 'created_at': datetime.datetime(2025, 1, 2, 20, 17, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568320928, 'issue_id': 2766587010, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 17, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569009330, 'issue_id': 2766587010, 'author': 'robodoo', 'body': '@mart-e staging failed: ci/runbot on 67a67669bc6e8456ec755dcb855be7a1cc4cf3b4 (view more at https://runbot.odoo.com/runbot/build/72798212)', 'created_at': datetime.datetime(2025, 1, 3, 10, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569033362, 'issue_id': 2766587010, 'author': 'mart-e', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 3, 10, 48, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569153920, 'issue_id': 2766587010, 'author': 'robodoo', 'body': '@mart-e staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72801898)', 'created_at': datetime.datetime(2025, 1, 3, 12, 31, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569169656, 'issue_id': 2766587010, 'author': 'mart-e', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 3, 12, 45, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 20:17:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192264.png)](https://mergebot.odoo.com/odoo/odoo/pull/192264)

fw-bot (Issue Creator) on (2025-01-02 20:17:35 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-03 10:29:15 UTC): @mart-e staging failed: ci/runbot on 67a67669bc6e8456ec755dcb855be7a1cc4cf3b4 (view more at https://runbot.odoo.com/runbot/build/72798212)

mart-e on (2025-01-03 10:48:34 UTC): robodoo retry

robodoo on (2025-01-03 12:31:30 UTC): @mart-e staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/72801898)

mart-e on (2025-01-03 12:45:24 UTC): robodoo retry

"
2766542831,pull_request,closed,,"[FW][IMP] crm,*: add new chatbot script step to create lead and forward","\* = im_livechat, crm_livechat

This commit introduces a new chatbot script step 'create lead & forward'.

On selection, the chatbot will:

1. Create a new lead.
2. Assign the lead and forward the conversation to a salesperson based on the assignment rules configured for the selected sales team, provided a salesperson is available.

task-4354325

Forward-Port-Of: odoo/odoo#190364",fw-bot,2025-01-02 19:36:53+00:00,[],2025-01-17 23:15:39+00:00,2025-01-03 22:36:08+00:00,https://github.com/odoo/odoo/pull/192263,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568276834, 'issue_id': 2766542831, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192263.png)](https://mergebot.odoo.com/odoo/odoo/pull/192263)', 'created_at': datetime.datetime(2025, 1, 2, 19, 36, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568276857, 'issue_id': 2766542831, 'author': 'fw-bot', 'body': '@ramh-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 36, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:36:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192263.png)](https://mergebot.odoo.com/odoo/odoo/pull/192263)

fw-bot (Issue Creator) on (2025-01-02 19:36:58 UTC): @ramh-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766542612,pull_request,closed,,[FW][IMP] base_vat: Issue with RUT validation (UY),"- Implemented proper validation logic for Uruguayan VAT numbers (RUT).
- Now supports VAT numbers starting with '22', addressing previous validation issues.
- Corrections in l10n_uy tests due to changes in logic.

Task: 1292
adhoc-task-side: 45613




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192218
Forward-Port-Of: odoo/odoo#191066",fw-bot,2025-01-02 19:36:39+00:00,[],2025-01-17 23:15:40+00:00,2025-01-03 22:36:15+00:00,https://github.com/odoo/odoo/pull/192262,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568276814, 'issue_id': 2766542612, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192262.png)](https://mergebot.odoo.com/odoo/odoo/pull/192262)', 'created_at': datetime.datetime(2025, 1, 2, 19, 36, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568276828, 'issue_id': 2766542612, 'author': 'fw-bot', 'body': '@zaoral @antoine162 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 36, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568605823, 'issue_id': 2766542612, 'author': 'fw-bot', 'body': '@zaoral @antoine162 this forward port of odoo/odoo#191066 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 3, 2, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568978606, 'issue_id': 2766542612, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 10, 5, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:36:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192262.png)](https://mergebot.odoo.com/odoo/odoo/pull/192262)

fw-bot (Issue Creator) on (2025-01-02 19:36:56 UTC): @zaoral @antoine162 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-03 02:01:13 UTC): @zaoral @antoine162 this forward port of odoo/odoo#191066 is awaiting action (not merged or closed).

antoine162 on (2025-01-03 10:05:40 UTC): @robodoo r+

"
2766532321,pull_request,closed,,[PERF] Fix webclient view cache for not embedded action views,"**Steps to reproduce (a bit technical):**

1. Navigate to the ""Contacts"" kanban view.
2. Open the Network tab in the browser's developer tools.
3. Click on the first contact activities and ""Schedule a new activity"".
4. Notice a call to `get_views` in the Network tab.
5. Click on a different contact activities, and ""Schedule a new activity"".
6. Notice a new call to `get_views` in the Network tab.

**Expected:**

The view is already cached, so the webclient should not attempt to load it.

**Explanation:**

This is likely a regression since f983703d, when the embedded actions were introduced. Now, the `embeddedParentResId` is part of the views cache key, and so we get much fewer cache hits.

For most views, there isn't really an `embeddedActionId` set, and yet the `embeddedParentResId` was always set. The later is only used in combination with `embeddedActionId`, so it causes a lot of avoidable cache misses.

The solution is to simply set the `embeddedParentResId` only if there's an `embeddedActionId`.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ivantodorovich,2025-01-02 19:27:31+00:00,[],2025-01-06 15:28:19+00:00,2025-01-06 15:28:18+00:00,https://github.com/odoo/odoo/pull/192261,[],"[{'comment_id': 2568266143, 'issue_id': 2766532321, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192261.png)](https://mergebot.odoo.com/odoo/odoo/pull/192261)', 'created_at': datetime.datetime(2025, 1, 2, 19, 27, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573295935, 'issue_id': 2766532321, 'author': 'aab-odoo', 'body': ""Hello @ivantodorovich \r\n\r\nNice catch! And thanks for your suggestion. I slightly reworked your commit and added a test. Here's it it https://github.com/odoo/odoo/pull/192531"", 'created_at': datetime.datetime(2025, 1, 6, 15, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573346312, 'issue_id': 2766532321, 'author': 'ivantodorovich', 'body': 'Thanks a lot @aab-odoo !\r\nI close this one then 😉', 'created_at': datetime.datetime(2025, 1, 6, 15, 28, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:27:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192261.png)](https://mergebot.odoo.com/odoo/odoo/pull/192261)

aab-odoo on (2025-01-06 15:02:55 UTC): Hello @ivantodorovich 

Nice catch! And thanks for your suggestion. I slightly reworked your commit and added a test. Here's it it https://github.com/odoo/odoo/pull/192531

ivantodorovich (Issue Creator) on (2025-01-06 15:28:18 UTC): Thanks a lot @aab-odoo !
I close this one then 😉

"
2766519356,pull_request,closed,,[FW][FIX] account: Allow skipping bank account creation on reconciliation,"Description of the issue/feature this PR addresses:

This commit introduces system parameter to skip the creation of bank account in the reconciliation of bank statements.

The issue it can solve happens when 2 different commercial entities use the same paying partner (ie a partner that is not a subcontact) to pay their invoices.

When an invoice is paid by the paying partner, Odoo will store the account number that was used for the transfer on account.bank.statement.line. When this statement line is reconciled with an invoice, if the bank account was not stored on the partner previously, a res.partner.bank will be created automatically.
When another payment is coming from the same bank account, Odoo will then select the partner linked to the bank account that it did store previously, even if the payment was for an invoice linked to another partner, and it will not propose the proper invoice in the reconciliation widget, even if it uses an exact match on the payment reference number.

Having a parameter allowing to skip creation of the bank account in Odoo will allow the reconciliation to be based striclty on the reference number.

Current behavior before PR:

Bank account is stored and wrong invoices are proposed by the reconciliation widget

Desired behavior after PR is merged:

Allow to avoid storing bank account and having wrong invoices are proposed by the reconciliation widget


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#173546
Forward-Port-Of: odoo/odoo#168029",fw-bot,2025-01-02 19:17:24+00:00,[],2025-02-07 02:36:21+00:00,2025-01-24 02:36:15+00:00,https://github.com/odoo/odoo/pull/192260,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2568253203, 'issue_id': 2766519356, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192260.png)](https://mergebot.odoo.com/odoo/odoo/pull/192260)', 'created_at': datetime.datetime(2025, 1, 2, 19, 17, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568253251, 'issue_id': 2766519356, 'author': 'fw-bot', 'body': '@grindtildeath @smetl cherrypicking of pull request odoo/odoo#168029 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_bank_statement_line.py\nCONFLICT (content): Merge conflict in addons/account/models/account_bank_statement_line.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 17, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587381824, 'issue_id': 2766519356, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 12, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587492018, 'issue_id': 2766519356, 'author': 'robodoo', 'body': ""@grindtildeath @smetl 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 13, 15, 49, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609776335, 'issue_id': 2766519356, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 13, 12, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:17:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192260.png)](https://mergebot.odoo.com/odoo/odoo/pull/192260)

fw-bot (Issue Creator) on (2025-01-02 19:17:28 UTC): @grindtildeath @smetl cherrypicking of pull request odoo/odoo#168029 failed.

stdout:
```
Auto-merging addons/account/models/account_bank_statement_line.py
CONFLICT (content): Merge conflict in addons/account/models/account_bank_statement_line.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-01-13 15:12:54 UTC): @robodoo r+

robodoo on (2025-01-13 15:49:24 UTC): @grindtildeath @smetl 'ci/upgrade_enterprise' failed on this reviewed PR.

smetl on (2025-01-23 13:12:25 UTC): @robodoo r+

"
2766514995,pull_request,closed,,[FW][FIX] sale: prevent warning on quotation template,"**Issue:**

A warning popup appears incorrectly when a user-defined default is set for the ""Quotation Template (Sales Order)"" field. This warning is only relevant when the company is changed while creating a quotation.

**Steps to reproduce the issue:**

1- Navigate to Settings > Technical > Actions > User-defined Defaults.
2- Create a new User-defined Default for the field ""Quotation Template (Sales Order)"" with a default value (in JSON format) of 1 .
3- Go to the Sales module.
4- Create a new quotation.

A warning with the title ""Warning for the change of your quotation's company"" is displayed (see screenshot attached), despite the company not being changed.
The onchange('company_id') method is triggered by the user-defined default for the quotation template.

<img src=""https://github.com/user-attachments/assets/5f046310-05b7-48ab-9781-1ba4a36f2beb"" width=400 />


opw-4244961

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#184713",fw-bot,2025-01-02 19:13:27+00:00,[],2025-01-17 14:01:28+00:00,2025-01-03 13:51:44+00:00,https://github.com/odoo/odoo/pull/192259,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568248699, 'issue_id': 2766514995, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192259.png)](https://mergebot.odoo.com/odoo/odoo/pull/192259)', 'created_at': datetime.datetime(2025, 1, 2, 19, 13, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568248716, 'issue_id': 2766514995, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 13, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568340713, 'issue_id': 2766514995, 'author': 'fw-bot', 'body': '@st-yes the next pull request (odoo/odoo#192267) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 30, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569145196, 'issue_id': 2766514995, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 12, 23, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:13:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192259.png)](https://mergebot.odoo.com/odoo/odoo/pull/192259)

fw-bot (Issue Creator) on (2025-01-02 19:13:29 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 20:30:21 UTC): @st-yes the next pull request (odoo/odoo#192267) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-01-03 12:23:55 UTC): @robodoo r+

"
2766513798,pull_request,closed,,[FW][FIX] project_todo: set by default project to False in todo,"Before this commit, when the user sets a project as a default value for his tasks, that default value will also be applied inside To-Do app because a to-do is in fact a private task (that is, a task without any project set).

This commit adds a default value inside the context of the main action used in To-Do to make sure the default value for `project_id` field in To-Do is false and nothing else.

Steps to reproduce
==================

1. Install Project app
2. Go to Project app
3. Select/create a project
4. Select/create and edit a task inside
5. Enable the debug mode
6. Click on debug menu and select `Set Default Values`
7. Apply `project = <your project selected/created>` and save
8. Go to To-Do app
9. Create a to-do

Expected Behavior
-----------------

A to-do should be created without any issue in the kanban view.

Current Behavior
----------------

A form view will be displayed inside a modal to create the to-do but the form view is in fact the one used in Project app and the project set is the one set as default value instead of having no project since the user is creating a to-do and not a task inside that project.

Forward-Port-Of: odoo/odoo#192205
Forward-Port-Of: odoo/odoo#191583",fw-bot,2025-01-02 19:12:20+00:00,[],2025-01-22 13:23:22+00:00,2025-01-08 13:04:29+00:00,https://github.com/odoo/odoo/pull/192258,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568247401, 'issue_id': 2766513798, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192258.png)](https://mergebot.odoo.com/odoo/odoo/pull/192258)', 'created_at': datetime.datetime(2025, 1, 2, 19, 12, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568247409, 'issue_id': 2766513798, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 12, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:12:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192258.png)](https://mergebot.odoo.com/odoo/odoo/pull/192258)

fw-bot (Issue Creator) on (2025-01-02 19:12:22 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766509679,pull_request,closed,,[FW][FIX] base: add flag for Catalan language,"And compress the arabic language

Forward-Port-Of: odoo/odoo#192210",fw-bot,2025-01-02 19:08:40+00:00,[],2025-01-17 09:44:21+00:00,2025-01-03 09:08:41+00:00,https://github.com/odoo/odoo/pull/192257,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568243555, 'issue_id': 2766509679, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192257.png)](https://mergebot.odoo.com/odoo/odoo/pull/192257)', 'created_at': datetime.datetime(2025, 1, 2, 19, 8, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568243563, 'issue_id': 2766509679, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 8, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:08:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192257.png)](https://mergebot.odoo.com/odoo/odoo/pull/192257)

fw-bot (Issue Creator) on (2025-01-02 19:08:42 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766508868,pull_request,closed,,[FW][REF] hw_posbox_homepage: move all update tools to update page,"Update core code could be updated from ""Update"" page and IoT Handlers from ""Log Levels"" page.

Now, all update tools are moved to update page.

Backport of: odoo/odoo#190338

Task: 4395958

Forward-Port-Of: odoo/odoo#191886",fw-bot,2025-01-02 19:08:00+00:00,[],2025-01-17 11:46:41+00:00,2025-01-03 11:44:27+00:00,https://github.com/odoo/odoo/pull/192256,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568242856, 'issue_id': 2766508868, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192256.png)](https://mergebot.odoo.com/odoo/odoo/pull/192256)', 'created_at': datetime.datetime(2025, 1, 2, 19, 8, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568242866, 'issue_id': 2766508868, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 8, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568328279, 'issue_id': 2766508868, 'author': 'fw-bot', 'body': '@loouis-t @Ysoroko the next pull request (odoo/odoo#192266) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 20, 23, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568838766, 'issue_id': 2766508868, 'author': 'loouis-t', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 8, 20, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:08:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192256.png)](https://mergebot.odoo.com/odoo/odoo/pull/192256)

fw-bot (Issue Creator) on (2025-01-02 19:08:02 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 20:23:05 UTC): @loouis-t @Ysoroko the next pull request (odoo/odoo#192266) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loouis-t on (2025-01-03 08:20:03 UTC): @robodoo r+

"
2766507478,pull_request,closed,,[FW][FIX] hr_gamification: allow badge granting through badge card,"**Issue:**
Badges granted to employees don't display the link to access employee card.
https://github.com/user-attachments/assets/d8de916d-4f24-4ebb-b312-4e17d4c79bbb

**Expected:**
Magic button on badges cards should lead to the rewarded employee if any.

**Steps to reproduce:**
- Activate Employees and Gamification apps;
- Configure an employee;
- Configure a badge to grant through `Employees / Configuration / Challenges / Badges`;
- Grant the badge and select the employee;
- See all counters increase but the magic button's one.

**Cause:**
The employee_id is not set on the `GamificationBadgeUserWizard` during creation state so `values` never contain an employee_id if retrieved on `self`.

**Fix:**
Retrieve the user's employee id through the selected user entity.
https://github.com/user-attachments/assets/a0076e85-cd66-421a-992f-2c89afb07ad8


opw-4366690

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190097",fw-bot,2025-01-02 19:06:44+00:00,[],2025-01-17 01:17:27+00:00,2025-01-03 01:12:46+00:00,https://github.com/odoo/odoo/pull/192255,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568241448, 'issue_id': 2766507478, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192255.png)](https://mergebot.odoo.com/odoo/odoo/pull/192255)', 'created_at': datetime.datetime(2025, 1, 2, 19, 6, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568241462, 'issue_id': 2766507478, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 6, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:06:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192255.png)](https://mergebot.odoo.com/odoo/odoo/pull/192255)

fw-bot (Issue Creator) on (2025-01-02 19:06:46 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766504038,pull_request,closed,,[FW][FIX] l10n_in_withholding: show tds entry button on paid payment,"Before This Commit:
- The TDS Entry button is visible only in `In Process` state.

After This Commit:
- The TDS Entry button is visible in both `In Process` and `Paid` state.

Task: 4432364

Forward-Port-Of: odoo/odoo#191977",fw-bot,2025-01-02 19:03:48+00:00,[],2025-01-17 05:46:46+00:00,2025-01-03 05:31:48+00:00,https://github.com/odoo/odoo/pull/192254,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568237932, 'issue_id': 2766504038, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192254.png)](https://mergebot.odoo.com/odoo/odoo/pull/192254)', 'created_at': datetime.datetime(2025, 1, 2, 19, 3, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568237955, 'issue_id': 2766504038, 'author': 'fw-bot', 'body': '@niai-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192245\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 3, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568671262, 'issue_id': 2766504038, 'author': 'niai-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 4, 11, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 19:03:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192254.png)](https://mergebot.odoo.com/odoo/odoo/pull/192254)

fw-bot (Issue Creator) on (2025-01-02 19:03:50 UTC): @niai-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192245

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

niai-odoo on (2025-01-03 04:11:52 UTC): @robodoo r+

"
2766448203,pull_request,closed,,[FW][FIX] web: ARIA attributes of field widgets not ported correctly to OWL,"When field widgets were ported to OWL in 48ef812a, a few ARIA attributes
were not adapted correctly. For instance, in the statusbar widget, the
title was ported as an `aria-label` attribute (""Current state"" and ""Not
active state""), which overrides the actual status name.

This commit fixes the above issue by removing the incorrect `aria-label`
attributes and fixing logic for other ones like `aria-checked`.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192197
Forward-Port-Of: odoo/odoo#183447",fw-bot,2025-01-02 18:17:03+00:00,[],2025-01-17 10:03:20+00:00,2025-01-03 10:00:36+00:00,https://github.com/odoo/odoo/pull/192253,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568180533, 'issue_id': 2766448203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192253.png)](https://mergebot.odoo.com/odoo/odoo/pull/192253)', 'created_at': datetime.datetime(2025, 1, 2, 18, 17, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568180560, 'issue_id': 2766448203, 'author': 'fw-bot', 'body': '@luisg123v @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 18, 17, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568782326, 'issue_id': 2766448203, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 7, 14, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 18:17:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192253.png)](https://mergebot.odoo.com/odoo/odoo/pull/192253)

fw-bot (Issue Creator) on (2025-01-02 18:17:11 UTC): @luisg123v @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-01-03 07:14:44 UTC): @robodoo r+

"
2766429017,pull_request,closed,,"[FW][FIX] l10n_ar_withholding, l10n_ar: ar taxes refactor","_l10n_ar_withholding_:
1) Make not required ""WTH Tax"" (l10n_ar_tax_type) field in account.tax form view if ""Argentina Tax Type"" (l10n_ar_type_tax_use) is 'customer' or 'supplier'. So, if the tax is not for argentina withholding then the ""WTH Tax"" field will not be required.
2) ""Earnings WTH  A"" tax is deleted because is not used any more.
3) Earnings WTH taxes have ""VAT 21%"" as ""Tax Group"", in this pr is changed to ""Withholding"" tax group.
4) Change IIBB Withholding and Earnings 'name' and 'description' fields on account.tax model. Delete words ""incurred"" or ""applied"", change word 'earnings' to 'profits'. Also adapt translations. WTH SUSS and WTH Earnings taxes are duplicated, delete both taxes from addons/l10n_ar_withholding/data/template/account.tax-ar_ri.csv. IIBB withholdings and perception state names abreviations are changed, for example: old name --> IIBB WTH Chubut I, new name --> IIBB WTH CHT 0%.
5) Update addons/l10n_ar_withholding/data/template/account.tax-ar_ex.csv external ids with new state name abreviations and also profits withholding taxes (example: old id --> ex_tax_withholding_profits_regimen_31_insc, new id: ex_tax_withholding_profits_regimen_31_insc).
6) Change 'amount_type' from 'fixed' to 'percent' on taxes on addons/l10n_ar/data/template/account.tax-ar_ex.csv
7) Create file addons/l10n_ar_withholding/data/template/account.tax-ar_base.csv with iibb withholding iibb incurred taxes and delete those taxes from addons/l10n_ar_withholding/data/template/account.tax-ar_ri.csv
8) Add on file addons/l10n_ar_withholding/data/template/account.tax-ar_ex.csv iibb withholding applied taxes and profits withholding applied taxes . Delete those taxes from addons/l10n_ar_withholding/data/template/account.tax-ar_ri.csv .
9) Rename tax group file from addons/l10n_ar_withholding/data/template/account.tax.group-ar_ri.csv to addons/l10n_ar_withholding/data/template/account.tax.group-ar_base.csv
10) Adapt addons/l10n_ar_withholding/demo/account_demo.py and addons/l10n_ar_withholding/tests/test_withholding_ar_ri.py with the new external ids.

_l10n_ar_:

Change perception 'name', 'description' and 'invoice_label' fields on account.tax model. On field 'name' set the same state abbreviation as abbreviations applied on withholding ar taxes. On the field 'description' delete the word ""applied or incurred"". On field 'invoice_label' delete the last letter (I or A). Also translations are adapted.

_**Task Adhoc side**_: 43411
_**Task Latam side**_: 1289



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187752",fw-bot,2025-01-02 18:03:15+00:00,[],2025-01-17 15:28:38+00:00,2025-01-03 15:23:52+00:00,https://github.com/odoo/odoo/pull/192252,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568162631, 'issue_id': 2766429017, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192252.png)](https://mergebot.odoo.com/odoo/odoo/pull/192252)', 'created_at': datetime.datetime(2025, 1, 2, 18, 3, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568162648, 'issue_id': 2766429017, 'author': 'fw-bot', 'body': '@pablohmontenegro @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192236\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 18, 3, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568952894, 'issue_id': 2766429017, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 9, 44, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 18:03:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192252.png)](https://mergebot.odoo.com/odoo/odoo/pull/192252)

fw-bot (Issue Creator) on (2025-01-02 18:03:17 UTC): @pablohmontenegro @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192236

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-01-03 09:44:45 UTC): @robodoo r+

"
2766425558,pull_request,closed,,[FW][FIX] account: Allow skipping bank account creation on reconciliation,"Description of the issue/feature this PR addresses:

This commit introduces system parameter to skip the creation of bank account in the reconciliation of bank statements.

The issue it can solve happens when 2 different commercial entities use the same paying partner (ie a partner that is not a subcontact) to pay their invoices.

When an invoice is paid by the paying partner, Odoo will store the account number that was used for the transfer on account.bank.statement.line. When this statement line is reconciled with an invoice, if the bank account was not stored on the partner previously, a res.partner.bank will be created automatically.
When another payment is coming from the same bank account, Odoo will then select the partner linked to the bank account that it did store previously, even if the payment was for an invoice linked to another partner, and it will not propose the proper invoice in the reconciliation widget, even if it uses an exact match on the payment reference number.

Having a parameter allowing to skip creation of the bank account in Odoo will allow the reconciliation to be based striclty on the reference number.

Current behavior before PR:

Bank account is stored and wrong invoices are proposed by the reconciliation widget

Desired behavior after PR is merged:

Allow to avoid storing bank account and having wrong invoices are proposed by the reconciliation widget


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#173546
Forward-Port-Of: odoo/odoo#168029",fw-bot,2025-01-02 18:00:18+00:00,[],2025-01-27 17:38:53+00:00,2025-01-13 17:29:15+00:00,https://github.com/odoo/odoo/pull/192251,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568159132, 'issue_id': 2766425558, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192251.png)](https://mergebot.odoo.com/odoo/odoo/pull/192251)', 'created_at': datetime.datetime(2025, 1, 2, 18, 0, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568159152, 'issue_id': 2766425558, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 18, 0, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568253221, 'issue_id': 2766425558, 'author': 'fw-bot', 'body': '@grindtildeath @smetl the next pull request (odoo/odoo#192260) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 19, 17, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587371104, 'issue_id': 2766425558, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 13, 15, 10, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 18:00:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192251.png)](https://mergebot.odoo.com/odoo/odoo/pull/192251)

fw-bot (Issue Creator) on (2025-01-02 18:00:25 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 19:17:26 UTC): @grindtildeath @smetl the next pull request (odoo/odoo#192260) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-01-13 15:10:58 UTC): @robodoo r+

"
2766420515,pull_request,closed,,[FW][FIX] hr_gamification: allow badge granting through badge card,"**Issue:**
Badges granted to employees don't display the link to access employee card.
https://github.com/user-attachments/assets/d8de916d-4f24-4ebb-b312-4e17d4c79bbb

**Expected:**
Magic button on badges cards should lead to the rewarded employee if any.

**Steps to reproduce:**
- Activate Employees and Gamification apps;
- Configure an employee;
- Configure a badge to grant through `Employees / Configuration / Challenges / Badges`;
- Grant the badge and select the employee;
- See all counters increase but the magic button's one.

**Cause:**
The employee_id is not set on the `GamificationBadgeUserWizard` during creation state so `values` never contain an employee_id if retrieved on `self`.

**Fix:**
Retrieve the user's employee id through the selected user entity.
https://github.com/user-attachments/assets/a0076e85-cd66-421a-992f-2c89afb07ad8


opw-4366690

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190097",fw-bot,2025-01-02 17:56:42+00:00,[],2025-01-17 01:17:23+00:00,2025-01-03 00:48:46+00:00,https://github.com/odoo/odoo/pull/192250,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568154252, 'issue_id': 2766420515, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192250.png)](https://mergebot.odoo.com/odoo/odoo/pull/192250)', 'created_at': datetime.datetime(2025, 1, 2, 17, 56, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568154262, 'issue_id': 2766420515, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 56, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:56:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192250.png)](https://mergebot.odoo.com/odoo/odoo/pull/192250)

fw-bot (Issue Creator) on (2025-01-02 17:56:43 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766419987,pull_request,closed,,[FW][FIX] base: add flag for Catalan language,"And compress the arabic language

Forward-Port-Of: odoo/odoo#192210",fw-bot,2025-01-02 17:56:14+00:00,[],2025-01-17 09:44:21+00:00,2025-01-03 09:12:13+00:00,https://github.com/odoo/odoo/pull/192249,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568153827, 'issue_id': 2766419987, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192249.png)](https://mergebot.odoo.com/odoo/odoo/pull/192249)', 'created_at': datetime.datetime(2025, 1, 2, 17, 56, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568153838, 'issue_id': 2766419987, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 56, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568812116, 'issue_id': 2766419987, 'author': 'robodoo', 'body': '@mart-e staging failed: ci/runbot on e67960e80aaaef0a5bd6c50cccdd8568f30d661e (view more at https://runbot.odoo.com/runbot/build/72794027)', 'created_at': datetime.datetime(2025, 1, 3, 7, 52, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568813012, 'issue_id': 2766419987, 'author': 'mart-e', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 1, 3, 7, 53, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:56:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192249.png)](https://mergebot.odoo.com/odoo/odoo/pull/192249)

fw-bot (Issue Creator) on (2025-01-02 17:56:16 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-03 07:52:10 UTC): @mart-e staging failed: ci/runbot on e67960e80aaaef0a5bd6c50cccdd8568f30d661e (view more at https://runbot.odoo.com/runbot/build/72794027)

mart-e on (2025-01-03 07:53:14 UTC): robodoo retry

"
2766419173,pull_request,closed,,[FW][FIX] sale: prevent warning on quotation template,"**Issue:**

A warning popup appears incorrectly when a user-defined default is set for the ""Quotation Template (Sales Order)"" field. This warning is only relevant when the company is changed while creating a quotation.

**Steps to reproduce the issue:**

1- Navigate to Settings > Technical > Actions > User-defined Defaults.
2- Create a new User-defined Default for the field ""Quotation Template (Sales Order)"" with a default value (in JSON format) of 1 .
3- Go to the Sales module.
4- Create a new quotation.

A warning with the title ""Warning for the change of your quotation's company"" is displayed (see screenshot attached), despite the company not being changed.
The onchange('company_id') method is triggered by the user-defined default for the quotation template.

<img src=""https://github.com/user-attachments/assets/5f046310-05b7-48ab-9781-1ba4a36f2beb"" width=400 />


opw-4244961

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#184713",fw-bot,2025-01-02 17:55:33+00:00,[],2025-01-17 16:19:59+00:00,2025-01-03 16:16:05+00:00,https://github.com/odoo/odoo/pull/192248,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568153142, 'issue_id': 2766419173, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192248.png)](https://mergebot.odoo.com/odoo/odoo/pull/192248)', 'created_at': datetime.datetime(2025, 1, 2, 17, 55, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568153158, 'issue_id': 2766419173, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 55, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569144147, 'issue_id': 2766419173, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 12, 22, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:55:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192248.png)](https://mergebot.odoo.com/odoo/odoo/pull/192248)

fw-bot (Issue Creator) on (2025-01-02 17:55:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-01-03 12:22:57 UTC): @robodoo r+

"
2766418847,pull_request,closed,,[FW][REF] hw_posbox_homepage: move all update tools to update page,"Update core code could be updated from ""Update"" page and IoT Handlers from ""Log Levels"" page.

Now, all update tools are moved to update page.

Backport of: odoo/odoo#190338

Task: 4395958

Forward-Port-Of: odoo/odoo#191886",fw-bot,2025-01-02 17:55:15+00:00,[],2025-01-17 10:48:51+00:00,2025-01-03 10:30:23+00:00,https://github.com/odoo/odoo/pull/192247,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568152797, 'issue_id': 2766418847, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192247.png)](https://mergebot.odoo.com/odoo/odoo/pull/192247)', 'created_at': datetime.datetime(2025, 1, 2, 17, 55, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568152811, 'issue_id': 2766418847, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 55, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:55:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192247.png)](https://mergebot.odoo.com/odoo/odoo/pull/192247)

fw-bot (Issue Creator) on (2025-01-02 17:55:17 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766415234,pull_request,closed,,[FIX] pos_loyalty: prevent access error in multi-company gift card use,"Before this commit, if a gift card was created in another company and the gift card program was not assigned to any company, using the gift card in another company resulted in an error.

opw-4422730

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-02 17:52:03+00:00,[],2025-02-06 11:20:35+00:00,2025-01-23 11:18:11+00:00,https://github.com/odoo/odoo/pull/192246,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2568149453, 'issue_id': 2766415234, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192246.png)](https://mergebot.odoo.com/odoo/odoo/pull/192246)', 'created_at': datetime.datetime(2025, 1, 2, 17, 52, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575106017, 'issue_id': 2766415234, 'author': 'caburj', 'body': 'How about making sure the gift card has empty company field? Then the card may be usable between companies, right?', 'created_at': datetime.datetime(2025, 1, 7, 11, 58, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575142287, 'issue_id': 2766415234, 'author': 'pedrambiria', 'body': '@caburj the access error is because of accessing the `source_pos_order_id` which is not accessible in another company. The only way to reproduce it is to have empty company in the gift card program.', 'created_at': datetime.datetime(2025, 1, 7, 12, 18, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601987023, 'issue_id': 2766415234, 'author': 'pedrambiria', 'body': '@caburj Could you please review this pr?', 'created_at': datetime.datetime(2025, 1, 20, 10, 14, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609421285, 'issue_id': 2766415234, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 23, 10, 20, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:52:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192246.png)](https://mergebot.odoo.com/odoo/odoo/pull/192246)

caburj on (2025-01-07 11:58:02 UTC): How about making sure the gift card has empty company field? Then the card may be usable between companies, right?

pedrambiria (Issue Creator) on (2025-01-07 12:18:14 UTC): @caburj the access error is because of accessing the `source_pos_order_id` which is not accessible in another company. The only way to reproduce it is to have empty company in the gift card program.

pedrambiria (Issue Creator) on (2025-01-20 10:14:55 UTC): @caburj Could you please review this pr?

caburj on (2025-01-23 10:20:46 UTC): robodoo r+

"
2766414141,pull_request,closed,,[FW][FIX] l10n_in_withholding: show tds entry button on paid payment,"Before This Commit:
- The TDS Entry button is visible only in `In Process` state.

After This Commit:
- The TDS Entry button is visible in both `In Process` and `Paid` state.

Task: 4432364

Forward-Port-Of: odoo/odoo#191977",fw-bot,2025-01-02 17:51:08+00:00,[],2025-01-17 05:46:45+00:00,2025-01-03 05:25:55+00:00,https://github.com/odoo/odoo/pull/192245,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568148543, 'issue_id': 2766414141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192245.png)](https://mergebot.odoo.com/odoo/odoo/pull/192245)', 'created_at': datetime.datetime(2025, 1, 2, 17, 51, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568148557, 'issue_id': 2766414141, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 51, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:51:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192245.png)](https://mergebot.odoo.com/odoo/odoo/pull/192245)

fw-bot (Issue Creator) on (2025-01-02 17:51:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766412833,pull_request,closed,,[FW][PERF] sale_expense: add missing index on `sale_order_id`,"## Description
`sale.order._compute_expense_count` does a `_read_group` with a domain only based on `sale_order_id`, which is an unindexed FKey, leading to a guaranteed `Seq.Scan`. This `_compute_expense_count` is used to compute the count of related expenses for a `sale.order`, shown as a smart button on the form view, which is a frequent operation.

## Reference
task-3977983

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191004",fw-bot,2025-01-02 17:49:58+00:00,[],2025-01-17 18:58:08+00:00,2025-01-03 18:49:00+00:00,https://github.com/odoo/odoo/pull/192244,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568147049, 'issue_id': 2766412833, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192244.png)](https://mergebot.odoo.com/odoo/odoo/pull/192244)', 'created_at': datetime.datetime(2025, 1, 2, 17, 49, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568147068, 'issue_id': 2766412833, 'author': 'fw-bot', 'body': '@pivi-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192235\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568890729, 'issue_id': 2766412833, 'author': 'pivi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 9, 6, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:49:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192244.png)](https://mergebot.odoo.com/odoo/odoo/pull/192244)

fw-bot (Issue Creator) on (2025-01-02 17:50:00 UTC): @pivi-odoo @oco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192235

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pivi-odoo on (2025-01-03 09:06:09 UTC): @robodoo r+

"
2766408364,pull_request,open,,[FIX] digest: convert kpi to users company currency,"Assuming that incoming kps are given in the digest.company.currency field and that we want to give them in the user.company.currency (recipient's company's currency) we need to convert them to the user's company currency before sending the digest email.

Reproduce
---

- have two companies
	- usd_company (currency set to USD)
		- usd_company has usd_user
	- aed_company (currency set to AED)
		- aed_company uses ""United Arab Emirates"" Fiscal Package
		- aed_company has a aed_usd_digest (in aed company but sent to ""usd users""):
			- all_digest KPIs are ""all sales"" and ""revenue""
			- usd_user is a recipient of the aed_usd_digest
- admin makes a sale order for 100 AED (105 with tax), confirms it and creates an invoice
- Digest email is sent to usd_user, recent revenue is shown in USD which is desired, but it isn't converted correctly (105 AED is around 28 USD )

opw-4399055

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",nd-dew,2025-01-02 17:46:03+00:00,[],2025-02-03 14:09:15+00:00,,https://github.com/odoo/odoo/pull/192243,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2568142627, 'issue_id': 2766408364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192243.png)](https://mergebot.odoo.com/odoo/odoo/pull/192243)', 'created_at': datetime.datetime(2025, 1, 2, 17, 46, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:46:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192243.png)](https://mergebot.odoo.com/odoo/odoo/pull/192243)

"
2766401333,pull_request,closed,,[FW][FIX] sales: computing sales team in invoice,"Versions
16.0+

Description of the issue/feature this PR addresses:

The issue occurs when selecting a partner in an invoice, the sales team is not correctly computed. The problem arises because the default_team_id is not passed as a parameter to the context when the partner is selected, which works correctly in sales orders but fails in invoices.

Current behavior before PR:

When modifying the partner_id in an invoice, the sales team is not recomputed, leading to incorrect or missing sales team assignment.

Desired behavior after PR is merged:

After this PR is merged, modifying the partner_id on an invoice will correctly recompute the sales team by passing the default_team_id in the context, ensuring consistent behavior between invoices and sales orders.

I will now provide a short video demonstrating the error. This issue is replicable if none of the sales teams have any members assigned.
https://drive.google.com/file/d/15mUpXvdlVpGZXW976PK7EVYH6X4sm2CJ/view?usp=sharing

PR of v16 https://github.com/odoo/odoo/pull/180961

Forward-Port-Of: odoo/odoo#191674
Forward-Port-Of: odoo/odoo#181244",fw-bot,2025-01-02 17:39:53+00:00,[],2025-01-17 14:01:27+00:00,2025-01-03 13:51:39+00:00,https://github.com/odoo/odoo/pull/192242,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568135760, 'issue_id': 2766401333, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192242.png)](https://mergebot.odoo.com/odoo/odoo/pull/192242)', 'created_at': datetime.datetime(2025, 1, 2, 17, 40, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568135777, 'issue_id': 2766401333, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 17, 40, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568145430, 'issue_id': 2766401333, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 2, 17, 48, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568606103, 'issue_id': 2766401333, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv this forward port of odoo/odoo#181244 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 3, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569016856, 'issue_id': 2766401333, 'author': 'fw-bot', 'body': '@feg-adhoc @Feyensv this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 3, 10, 35, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569019212, 'issue_id': 2766401333, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 10, 36, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:40:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192242.png)](https://mergebot.odoo.com/odoo/odoo/pull/192242)

fw-bot (Issue Creator) on (2025-01-02 17:40:16 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 17:48:33 UTC): @feg-adhoc @Feyensv ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-03 02:01:35 UTC): @feg-adhoc @Feyensv this forward port of odoo/odoo#181244 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-03 10:35:06 UTC): @feg-adhoc @Feyensv this PR was modified / updated and has become a normal PR. It must be merged directly.

Feyensv on (2025-01-03 10:36:57 UTC): @robodoo r+

"
2766391599,pull_request,closed,,[FIX] mail: ease click on quick action of chat window,"Click on quick ation button in Chat window header was a bit tedious in desktop. This happens because the clickable area is 24px x 24px.

This commit makes it easier by increasing to 28px x 28px, thanks to explicit `p-1` on buttons. This ain't much but this gives less frustration to use chat window quick actions.


<img width=""601"" alt=""Screenshot 2025-01-02 at 18 23 47"" src=""https://github.com/user-attachments/assets/b0c09d0c-906b-43b9-b8f7-6fb954c34998"" />
",alexkuhn,2025-01-02 17:31:27+00:00,[],2025-01-03 10:55:43+00:00,2025-01-02 20:33:07+00:00,https://github.com/odoo/odoo/pull/192241,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568125236, 'issue_id': 2766391599, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192241.png)](https://mergebot.odoo.com/odoo/odoo/pull/192241)', 'created_at': datetime.datetime(2025, 1, 2, 17, 31, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:31:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192241.png)](https://mergebot.odoo.com/odoo/odoo/pull/192241)

"
2766387228,pull_request,closed,,[IMP] l10n_es_edi_tbai: Batuz modelo 140,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jco-odoo,2025-01-02 17:27:46+00:00,[],2025-02-03 16:10:34+00:00,2025-02-03 16:10:34+00:00,https://github.com/odoo/odoo/pull/192240,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568120744, 'issue_id': 2766387228, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192240.png)](https://mergebot.odoo.com/odoo/odoo/pull/192240)', 'created_at': datetime.datetime(2025, 1, 2, 17, 27, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577573037, 'issue_id': 2766387228, 'author': 'jco-odoo', 'body': 'Ready for review', 'created_at': datetime.datetime(2025, 1, 8, 12, 37, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587646392, 'issue_id': 2766387228, 'author': 'jco-odoo', 'body': 'Translations still wip and we were lagging behind on them.', 'created_at': datetime.datetime(2025, 1, 13, 16, 48, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629091861, 'issue_id': 2766387228, 'author': 'jco-odoo', 'body': ""@RicGR98 Translations updated, rebased as we needed to use ref as the vendor bill's name and the logic for when it is freelancer is changed as you can have company NIFs with a letter in the end, so we used a regex to check that it does not start with a letter (or optionally ES) - >actually that it is 8 digits and a letter."", 'created_at': datetime.datetime(2025, 2, 1, 20, 2, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631145732, 'issue_id': 2766387228, 'author': 'RicGR98', 'body': 'LGTM, thanks !\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 23, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 17:27:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192240.png)](https://mergebot.odoo.com/odoo/odoo/pull/192240)

jco-odoo (Issue Creator) on (2025-01-08 12:37:08 UTC): Ready for review

jco-odoo (Issue Creator) on (2025-01-13 16:48:41 UTC): Translations still wip and we were lagging behind on them.

jco-odoo (Issue Creator) on (2025-02-01 20:02:34 UTC): @RicGR98 Translations updated, rebased as we needed to use ref as the vendor bill's name and the logic for when it is freelancer is changed as you can have company NIFs with a letter in the end, so we used a regex to check that it does not start with a letter (or optionally ES) - >actually that it is 8 digits and a letter.

RicGR98 on (2025-02-03 14:23:28 UTC): LGTM, thanks !

@robodoo r+

"
2766348680,pull_request,closed,,[FW][FIX] point_of_sale: cheapest tax included,"Tax included in price were not taken into account when using a loyalty
program applying on the cheapest product.

Steps to reproduce:
-------------------
* Create a loyalty program that apply 10% reward on cheapest product
* Create a product A that has 10% tax included in price
* Open PoS and add this product to the order (make sure this is the 
cheapest in the order)
> Observation: The discount is not taking the tax into account

opw-4243827

Forward-Port-Of: odoo/odoo#192030
Forward-Port-Of: odoo/odoo#189612",fw-bot,2025-01-02 16:57:13+00:00,[],2025-01-20 17:30:32+00:00,2025-01-06 17:26:11+00:00,https://github.com/odoo/odoo/pull/192239,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568081278, 'issue_id': 2766348680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192239.png)](https://mergebot.odoo.com/odoo/odoo/pull/192239)', 'created_at': datetime.datetime(2025, 1, 2, 16, 57, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568081298, 'issue_id': 2766348680, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 57, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572798569, 'issue_id': 2766348680, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 10, 17, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:57:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192239.png)](https://mergebot.odoo.com/odoo/odoo/pull/192239)

fw-bot (Issue Creator) on (2025-01-02 16:57:15 UTC): @robinengels @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-06 10:17:12 UTC): @robodoo r+

"
2766348299,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: UI changes","This PR applies several changes to the Point of sale UI.

## Description of the changes

### Generic changes
- Switch from box to a bordered design
- Remove unneeded borders

### Table selector screen
- Remove custom style from order count badge and use default BS design ;
- **(FIX)** Fix an issue preventing users from scrolling vertically the kanban floor view on mobile ;


### Product screen
- Review the numpad structure, use `::after` pseudo-elements to manage the borders ; 
- Review product cards design
   - Change the aspect-ratio of the product image to from `1/1` to `4/3` ;
   - Display the category color as a `border-bottom` instead of `background-color` ;
   - **(FIX)** Fix an issue related to products cards having =/= height depending on the content ;
      - Define a `min-height` for product cards without images ;
   - Product modal: remove the alert with VAT/Price and display them in the table underneath ;
     - Switch the table with the info from table to grid ;

### Orders screen
- Display the type of order (eat in/take out/delivery) as a badge ;

### Others
- Adapt several tests according to UI changes

task-id: 4331054

enterprise PR: odoo/enterprise#76263

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191929",fw-bot,2025-01-02 16:56:56+00:00,[],2025-01-22 13:01:03+00:00,2025-01-08 13:01:27+00:00,https://github.com/odoo/odoo/pull/192238,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2568081097, 'issue_id': 2766348299, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192238.png)](https://mergebot.odoo.com/odoo/odoo/pull/192238)', 'created_at': datetime.datetime(2025, 1, 2, 16, 57, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568081135, 'issue_id': 2766348299, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom cherrypicking of pull request odoo/odoo#191929 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.js\nAuto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/navbar/navbar.xml\nAuto-merging addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.xml\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_restaurant/static/src/app/screens/floor_screen/floor_screen.scss\nAuto-merging addons/pos_restaurant/static/src/app/screens/floor_screen/floor_screen.xml\nAuto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.xml\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 57, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193886, 'issue_id': 2766348299, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom this forward port of odoo/odoo#191929 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574249449, 'issue_id': 2766348299, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom this forward port of odoo/odoo#191929 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 1, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576557844, 'issue_id': 2766348299, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom this forward port of odoo/odoo#191929 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577348144, 'issue_id': 2766348299, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 8, 10, 38, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:57:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192238.png)](https://mergebot.odoo.com/odoo/odoo/pull/192238)

fw-bot (Issue Creator) on (2025-01-02 16:57:07 UTC): @manv-afk @davidmonnom cherrypicking of pull request odoo/odoo#191929 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.js
Auto-merging addons/point_of_sale/static/src/app/components/navbar/navbar.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/navbar/navbar.xml
Auto-merging addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/components/popups/product_info_popup/product_info_popup.xml
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.xml
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_restaurant/static/src/app/screens/floor_screen/floor_screen.scss
Auto-merging addons/pos_restaurant/static/src/app/screens/floor_screen/floor_screen.xml
Auto-merging addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.xml
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/screens/split_bill_screen/split_bill_screen.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 03:07:04 UTC): @manv-afk @davidmonnom this forward port of odoo/odoo#191929 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-07 02:01:39 UTC): @manv-afk @davidmonnom this forward port of odoo/odoo#191929 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:01:30 UTC): @manv-afk @davidmonnom this forward port of odoo/odoo#191929 is awaiting action (not merged or closed).

manv-afk on (2025-01-08 10:38:40 UTC): @robodoo r+

"
2766331297,pull_request,closed,,[FW][FIX] html_editor: link popover does not opens in firefox,"**Current behavior before PR:**

- In Firefox, the user-select: none style disabled text selection and prevented
  the cursor from being placed inside a button. This caused the button click to
  fail in opening the link popover.

**Desired behavior after PR is merged:**

- The user-select property for the btn class is changed from none to auto.
  This allows users to place the cursor inside the button-styled link, enabling
  editing and ensuring the link popover can be opened as expected.

task:4358091


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188928",fw-bot,2025-01-02 16:44:35+00:00,[],2025-01-17 20:12:28+00:00,2025-01-03 20:04:13+00:00,https://github.com/odoo/odoo/pull/192237,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568063620, 'issue_id': 2766331297, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192237.png)](https://mergebot.odoo.com/odoo/odoo/pull/192237)', 'created_at': datetime.datetime(2025, 1, 2, 16, 44, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568063632, 'issue_id': 2766331297, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192217\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 44, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568916826, 'issue_id': 2766331297, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 9, 15, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:44:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192237.png)](https://mergebot.odoo.com/odoo/odoo/pull/192237)

fw-bot (Issue Creator) on (2025-01-02 16:44:37 UTC): @dhba-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192217

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-01-03 09:15:47 UTC): @robodoo r+

"
2766325417,pull_request,closed,,"[FW][FIX] l10n_ar_withholding, l10n_ar: ar taxes refactor","_l10n_ar_withholding_:
1) Make not required ""WTH Tax"" (l10n_ar_tax_type) field in account.tax form view if ""Argentina Tax Type"" (l10n_ar_type_tax_use) is 'customer' or 'supplier'. So, if the tax is not for argentina withholding then the ""WTH Tax"" field will not be required.
2) ""Earnings WTH  A"" tax is deleted because is not used any more.
3) Earnings WTH taxes have ""VAT 21%"" as ""Tax Group"", in this pr is changed to ""Withholding"" tax group.
4) Change IIBB Withholding and Earnings 'name' and 'description' fields on account.tax model. Delete words ""incurred"" or ""applied"", change word 'earnings' to 'profits'. Also adapt translations. WTH SUSS and WTH Earnings taxes are duplicated, delete both taxes from addons/l10n_ar_withholding/data/template/account.tax-ar_ri.csv. IIBB withholdings and perception state names abreviations are changed, for example: old name --> IIBB WTH Chubut I, new name --> IIBB WTH CHT 0%.
5) Update addons/l10n_ar_withholding/data/template/account.tax-ar_ex.csv external ids with new state name abreviations and also profits withholding taxes (example: old id --> ex_tax_withholding_profits_regimen_31_insc, new id: ex_tax_withholding_profits_regimen_31_insc).
6) Change 'amount_type' from 'fixed' to 'percent' on taxes on addons/l10n_ar/data/template/account.tax-ar_ex.csv
7) Create file addons/l10n_ar_withholding/data/template/account.tax-ar_base.csv with iibb withholding iibb incurred taxes and delete those taxes from addons/l10n_ar_withholding/data/template/account.tax-ar_ri.csv
8) Add on file addons/l10n_ar_withholding/data/template/account.tax-ar_ex.csv iibb withholding applied taxes and profits withholding applied taxes . Delete those taxes from addons/l10n_ar_withholding/data/template/account.tax-ar_ri.csv .
9) Rename tax group file from addons/l10n_ar_withholding/data/template/account.tax.group-ar_ri.csv to addons/l10n_ar_withholding/data/template/account.tax.group-ar_base.csv
10) Adapt addons/l10n_ar_withholding/demo/account_demo.py and addons/l10n_ar_withholding/tests/test_withholding_ar_ri.py with the new external ids.

_l10n_ar_:

Change perception 'name', 'description' and 'invoice_label' fields on account.tax model. On field 'name' set the same state abbreviation as abbreviations applied on withholding ar taxes. On the field 'description' delete the word ""applied or incurred"". On field 'invoice_label' delete the last letter (I or A). Also translations are adapted.

_**Task Adhoc side**_: 43411
_**Task Latam side**_: 1289



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187752",fw-bot,2025-01-02 16:40:08+00:00,[],2025-01-17 13:51:33+00:00,2025-01-03 13:44:47+00:00,https://github.com/odoo/odoo/pull/192236,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568057539, 'issue_id': 2766325417, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192236.png)](https://mergebot.odoo.com/odoo/odoo/pull/192236)', 'created_at': datetime.datetime(2025, 1, 2, 16, 40, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568057555, 'issue_id': 2766325417, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 40, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:40:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192236.png)](https://mergebot.odoo.com/odoo/odoo/pull/192236)

fw-bot (Issue Creator) on (2025-01-02 16:40:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766325201,pull_request,closed,,[FW][PERF] sale_expense: add missing index on `sale_order_id`,"## Description
`sale.order._compute_expense_count` does a `_read_group` with a domain only based on `sale_order_id`, which is an unindexed FKey, leading to a guaranteed `Seq.Scan`. This `_compute_expense_count` is used to compute the count of related expenses for a `sale.order`, shown as a smart button on the form view, which is a frequent operation.

## Reference
task-3977983

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191004",fw-bot,2025-01-02 16:39:59+00:00,[],2025-01-17 12:24:10+00:00,2025-01-03 12:16:00+00:00,https://github.com/odoo/odoo/pull/192235,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568057504, 'issue_id': 2766325201, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192235.png)](https://mergebot.odoo.com/odoo/odoo/pull/192235)', 'created_at': datetime.datetime(2025, 1, 2, 16, 40, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568057519, 'issue_id': 2766325201, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 40, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:40:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192235.png)](https://mergebot.odoo.com/odoo/odoo/pull/192235)

fw-bot (Issue Creator) on (2025-01-02 16:40:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766324896,pull_request,closed,,[FW][FIX] hr_gamification: allow badge granting through badge card,"**Issue:**
Badges granted to employees don't display the link to access employee card.
https://github.com/user-attachments/assets/d8de916d-4f24-4ebb-b312-4e17d4c79bbb

**Expected:**
Magic button on badges cards should lead to the rewarded employee if any.

**Steps to reproduce:**
- Activate Employees and Gamification apps;
- Configure an employee;
- Configure a badge to grant through `Employees / Configuration / Challenges / Badges`;
- Grant the badge and select the employee;
- See all counters increase but the magic button's one.

**Cause:**
The employee_id is not set on the `GamificationBadgeUserWizard` during creation state so `values` never contain an employee_id if retrieved on `self`.

**Fix:**
Retrieve the user's employee id through the selected user entity.
https://github.com/user-attachments/assets/a0076e85-cd66-421a-992f-2c89afb07ad8


opw-4366690

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190097",fw-bot,2025-01-02 16:39:44+00:00,[],2025-01-17 01:17:24+00:00,2025-01-03 00:51:28+00:00,https://github.com/odoo/odoo/pull/192234,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568056972, 'issue_id': 2766324896, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192234.png)](https://mergebot.odoo.com/odoo/odoo/pull/192234)', 'created_at': datetime.datetime(2025, 1, 2, 16, 39, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568056998, 'issue_id': 2766324896, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 39, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:39:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192234.png)](https://mergebot.odoo.com/odoo/odoo/pull/192234)

fw-bot (Issue Creator) on (2025-01-02 16:39:46 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766322554,pull_request,closed,,[FIX] account: translate tax tags,"The tax tags are translatable but never translated automatically because they are generated dynamically from the tax report.

This commit aims at improving this by translating automatically the tags that match exactly the name of the tax report line, for instance in Israel.",william-andre,2025-01-02 16:37:52+00:00,[],2025-01-28 15:37:27+00:00,2025-01-14 15:28:46+00:00,https://github.com/odoo/odoo/pull/192233,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568054522, 'issue_id': 2766322554, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192233.png)](https://mergebot.odoo.com/odoo/odoo/pull/192233)', 'created_at': datetime.datetime(2025, 1, 2, 16, 37, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2589690958, 'issue_id': 2766322554, 'author': 'robodoo', 'body': ""@william-andre @oco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 14, 11, 39, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:37:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192233.png)](https://mergebot.odoo.com/odoo/odoo/pull/192233)

robodoo on (2025-01-14 11:39:48 UTC): @william-andre @oco-odoo 'ci/runbot' failed on this reviewed PR.

"
2766321588,pull_request,closed,,[FIX] pos_restaurant: pos calling himself,"When syncing an order, the server sends a notification via websocket to inform the other pos connected to this websocket that they should load the data relative to this order. The problem was that the pos that was sending the information, was also receiving it, and was paying attention to the message when it should not. It was then resending its current order with wrong information.

task-id: 4444255

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adgu-odoo,2025-01-02 16:37:07+00:00,[],2025-01-16 21:56:39+00:00,2025-01-02 21:52:40+00:00,https://github.com/odoo/odoo/pull/192232,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2568053510, 'issue_id': 2766321588, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192232.png)](https://mergebot.odoo.com/odoo/odoo/pull/192232)', 'created_at': datetime.datetime(2025, 1, 2, 16, 37, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:37:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192232.png)](https://mergebot.odoo.com/odoo/odoo/pull/192232)

"
2766318335,pull_request,closed,,[FIX] point_of_sale: set confirm button as default in number popup,"Before this commit, when the number popup was opened, pressing any key would select the ""1"" button by default. This caused the number ""1"" to be added to the buffer when pressing ""Enter"" while typing numbers with the keyboard.

This behavior was particularly problematic when entering the PIN code for employee login, leading to incorrect entries.

Additionally, a small modification was made to prevent the incorrect password alert from appearing when the popup is closed.

opw-4428481

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-01-02 16:34:45+00:00,[],2025-01-21 16:57:15+00:00,2025-01-07 16:47:45+00:00,https://github.com/odoo/odoo/pull/192231,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2568050256, 'issue_id': 2766318335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192231.png)](https://mergebot.odoo.com/odoo/odoo/pull/192231)', 'created_at': datetime.datetime(2025, 1, 2, 16, 34, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575575409, 'issue_id': 2766318335, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 7, 15, 27, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:34:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192231.png)](https://mergebot.odoo.com/odoo/odoo/pull/192231)

caburj on (2025-01-07 15:27:24 UTC): robodoo r+

"
2766317826,pull_request,closed,,[FW][FIX] sale: skip combo test if menu is not accessible,"### Description of the issue this PR addresses:

Test TestSaleComboConfigurator.test_sale_combo_configurator (introduced with #186645) depends on the Sale menu being shown, but it isn't if the sale_management module is not installed. This change skips this test in this case.

### Current behavior before PR:

The test fails on odoo.sh with custom modules that only depend on sale and not sale_management.

### Desired behavior after PR is merged:

The test succeeds in the condition mentionned above.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192148",fw-bot,2025-01-02 16:34:22+00:00,[],2025-01-16 20:20:24+00:00,2025-01-02 20:18:54+00:00,https://github.com/odoo/odoo/pull/192230,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568049725, 'issue_id': 2766317826, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192230.png)](https://mergebot.odoo.com/odoo/odoo/pull/192230)', 'created_at': datetime.datetime(2025, 1, 2, 16, 34, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568049741, 'issue_id': 2766317826, 'author': 'fw-bot', 'body': '@jhemono @Feyensv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192215\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 34, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568058933, 'issue_id': 2766317826, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 2, 16, 41, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:34:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192230.png)](https://mergebot.odoo.com/odoo/odoo/pull/192230)

fw-bot (Issue Creator) on (2025-01-02 16:34:24 UTC): @jhemono @Feyensv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192215

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-02 16:41:12 UTC): @robodoo r+

"
2766316436,pull_request,closed,,[FW][FIX] spreadsheet: Remove data validation in production,"Following #184846, the data validation is no longer necessary in a production context.
Moreover, it currently limits some capacities for the user to user the history of the spreadsheets.
Eg:

- Create a new field with studio
- Add a datasouce in a spreadsheet which relies on that field
- make a bunch of revision
- Delete the field you created
- Go back to the spreadsheet
- Open the version history and try to ""make a copy"" of some recent revision

=> it will throw as you try to create a spreadsheet with invalid fields

However, the data validation still make sense to alert developpers to adapts dashboards
when they change the schema of some tables. This revision deactivates the data validation
on production which ensures that the last point is still respected while developping
(will be detected by runbot tests).

Task: 4363803

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188792",fw-bot,2025-01-02 16:33:22+00:00,[],2025-01-16 20:20:24+00:00,2025-01-02 20:18:50+00:00,https://github.com/odoo/odoo/pull/192229,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568048432, 'issue_id': 2766316436, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192229.png)](https://mergebot.odoo.com/odoo/odoo/pull/192229)', 'created_at': datetime.datetime(2025, 1, 2, 16, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568048453, 'issue_id': 2766316436, 'author': 'fw-bot', 'body': '@rrahir @LucasLefevre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192219\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 33, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568091027, 'issue_id': 2766316436, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 2, 17, 4, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:33:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192229.png)](https://mergebot.odoo.com/odoo/odoo/pull/192229)

fw-bot (Issue Creator) on (2025-01-02 16:33:24 UTC): @rrahir @LucasLefevre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192219

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rrahir on (2025-01-02 17:04:41 UTC): @robodoo r+

"
2766296674,pull_request,closed,,[FIX] point_of_sale: currency of journal items corresponding to payments,"Issue:
When the POS has a different currency than the company, the journal entry created after an order contains receivable lines for each payment method used, but their amounts are incorrect.

Steps to reproduce:
- Setup a pos.config that uses a journal that has different currency than the company.  E.g. company currency = $, pos journal currency = euro. This means that the shop will be in a different currency than the containing company.
- Make sure that the payment method points to a journal that has no specific currency. ( The default payment methods has that.)
- Open a session, make an order and close the session.
- [ISSUE] The journal entry contains receivable lines per payment method used but it's amount is wrong. It is in the currency of the company but with wrong value. We should make sure that the amount is correct and that it's properly reconciled to the payment object.

Solution:
This commit ensures that product and variant prices are converted to the correct currency, and that cash bank statement line amounts are converted to the journal currency when needed.

task-4398787
task-4409966

",stva-odoo,2025-01-02 16:18:42+00:00,[],2025-01-28 15:58:39+00:00,2025-01-28 15:58:39+00:00,https://github.com/odoo/odoo/pull/192228,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2568027776, 'issue_id': 2766296674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192228.png)](https://mergebot.odoo.com/odoo/odoo/pull/192228)', 'created_at': datetime.datetime(2025, 1, 2, 16, 18, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:18:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192228.png)](https://mergebot.odoo.com/odoo/odoo/pull/192228)

"
2766285475,pull_request,open,,[FW][16.0] [FIX] privacy_lookup: Hide the action from users without access to the wizard,"**Steps to reproduce:**

1. Log in with a non-admin users
2. Open any Partner from
3. Click on Actions > Privacy Lookup

**Bug:**

```
You are not allowed to access 'Privacy Lookup Wizard' (privacy.lookup.wizard)
records.

This operation is allowed for the following groups:
	- Administration/Settings

Contact your administrator to request access if necessary.
```

**Expected behavior:**

The error message is correct. This feature should only be available to Administrator users. Therefore, the action should be hidden accordingly.

See: 

- https://github.com/odoo/odoo/blob/16.0/addons/privacy_lookup/security/ir.model.access.csv#L2

---

ping @tivisse 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#150748",fw-bot,2025-01-02 16:10:36+00:00,[],2025-01-22 02:02:21+00:00,,https://github.com/odoo/odoo/pull/192227,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2568016124, 'issue_id': 2766285475, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192227.png)](https://mergebot.odoo.com/odoo/odoo/pull/192227)', 'created_at': datetime.datetime(2025, 1, 2, 16, 10, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568016131, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 10, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568062749, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 2, 16, 43, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572194463, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574250046, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 7, 2, 2, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576558409, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 8, 2, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579019117, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 9, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581588425, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 10, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585000804, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 11, 2, 1, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585541974, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 12, 2, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588621574, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 14, 2, 2, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606120375, 'issue_id': 2766285475, 'author': 'fw-bot', 'body': '@ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 22, 2, 2, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:10:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192227.png)](https://mergebot.odoo.com/odoo/odoo/pull/192227)

fw-bot (Issue Creator) on (2025-01-02 16:10:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 16:43:58 UTC): @ivantodorovich @tivisse ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-06 03:07:50 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-07 02:02:06 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-08 02:02:00 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-09 02:01:47 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-10 02:01:53 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-11 02:01:50 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-12 02:02:23 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-14 02:02:27 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-01-22 02:02:20 UTC): @ivantodorovich @tivisse this forward port of odoo/odoo#150748 is awaiting action (not merged or closed).

"
2766279127,pull_request,open,,[IMP] sale_loyalty: PoS like reward button,"At the moment it is not possible currently to know if there are available rewards or not on a SO.

This commits hides the rewards button on a `sale.order` form if there isn't any reward to claim.

task-4414973

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lipiraux,2025-01-02 16:05:59+00:00,[],2025-02-07 14:20:40+00:00,,https://github.com/odoo/odoo/pull/192226,"[('RD', 'research & development, internal work')]","[{'comment_id': 2568009450, 'issue_id': 2766279127, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192226.png)](https://mergebot.odoo.com/odoo/odoo/pull/192226)', 'created_at': datetime.datetime(2025, 1, 2, 16, 6, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:06:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192226.png)](https://mergebot.odoo.com/odoo/odoo/pull/192226)

"
2766278962,pull_request,closed,,[FW][FIX] l10n_fr: various typos in codes of new accounts,"Some accounts got the wrong code, while the id rightly changed




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191844
Forward-Port-Of: odoo/odoo#191826",fw-bot,2025-01-02 16:05:52+00:00,[],2025-01-16 18:57:39+00:00,2025-01-02 18:54:56+00:00,https://github.com/odoo/odoo/pull/192225,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2568009201, 'issue_id': 2766278962, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192225.png)](https://mergebot.odoo.com/odoo/odoo/pull/192225)', 'created_at': datetime.datetime(2025, 1, 2, 16, 5, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568009233, 'issue_id': 2766278962, 'author': 'fw-bot', 'body': '@gawa-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192204\n* odoo/odoo#192188\n* odoo/odoo#192176\n* odoo/odoo#192168\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 16, 5, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 16:05:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192225.png)](https://mergebot.odoo.com/odoo/odoo/pull/192225)

fw-bot (Issue Creator) on (2025-01-02 16:05:54 UTC): @gawa-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192204
* odoo/odoo#192188
* odoo/odoo#192176
* odoo/odoo#192168

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766268177,pull_request,closed,,[IMP] project: force some menuitems to be in one line in project kanban,task-4441540,xavierbol,2025-01-02 15:58:14+00:00,[],2025-01-20 20:54:03+00:00,2025-01-06 20:21:14+00:00,https://github.com/odoo/odoo/pull/192224,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2567997458, 'issue_id': 2766268177, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192224.png)](https://mergebot.odoo.com/odoo/odoo/pull/192224)', 'created_at': datetime.datetime(2025, 1, 2, 15, 58, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573517589, 'issue_id': 2766268177, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 16, 57, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:58:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192224.png)](https://mergebot.odoo.com/odoo/odoo/pull/192224)

xavierbol (Issue Creator) on (2025-01-06 16:57:21 UTC): robodoo r+

"
2766238554,pull_request,closed,,[FW][FIX] project: remove project field always invisible in task form view,"Before this commit, when we do an xpath to place something around the project field in the task form view, the xpath will select the first field found and the project field is actually defined twice in the task form view, once always invisible outside the content of the form view and the other is displayed in the view.

This commit removes the first project field defined in the task form view since it is not really needed to have that field in invisible since the project field is always visible and so always available in the task form view.

task-4420743

Forward-Port-Of: odoo/odoo#192179",fw-bot,2025-01-02 15:40:04+00:00,[],2025-01-02 15:59:08+00:00,2025-01-02 15:59:04+00:00,https://github.com/odoo/odoo/pull/192223,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2567967664, 'issue_id': 2766238554, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192223.png)](https://mergebot.odoo.com/odoo/odoo/pull/192223)', 'created_at': datetime.datetime(2025, 1, 2, 15, 40, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567967673, 'issue_id': 2766238554, 'author': 'fw-bot', 'body': '@xavierbol cherrypicking of pull request odoo/odoo#192179 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit c146c71bbd062d86bce2aa23e58e55a924a54d7a.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 40, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:40:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192223.png)](https://mergebot.odoo.com/odoo/odoo/pull/192223)

fw-bot (Issue Creator) on (2025-01-02 15:40:15 UTC): @xavierbol cherrypicking of pull request odoo/odoo#192179 failed.

stdout:
```
You are currently cherry-picking commit c146c71bbd062d86bce2aa23e58e55a924a54d7a.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766225185,pull_request,closed,,[FIX] spreadsheet: import list xml_id,"Steps to reproduce:
- insert a list of timesheets in a spreadsheet
- reload the spreadsheet
- right click on a list cell
- click on ""See record""

=> it's not the correct form view

Task: 4444541


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-02 15:31:26+00:00,[],2025-01-17 15:06:14+00:00,2025-01-03 15:03:44+00:00,https://github.com/odoo/odoo/pull/192222,"[('RD', 'research & development, internal work')]","[{'comment_id': 2567954057, 'issue_id': 2766225185, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192222.png)](https://mergebot.odoo.com/odoo/odoo/pull/192222)', 'created_at': datetime.datetime(2025, 1, 2, 15, 31, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569066366, 'issue_id': 2766225185, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 11, 16, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:31:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192222.png)](https://mergebot.odoo.com/odoo/odoo/pull/192222)

rrahir on (2025-01-03 11:16:11 UTC): @robodoo r+

"
2766211808,pull_request,closed,,[IMP] account: Allow Powerpoint attachment from mail alias,"Problem
---------
Currently, powerpoints attachments received by a mail alias are deleted. We want to allow them.

Solution
---------
Add the relevant mimetypes to the white list.

no-task
no-opw

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aboo-odoo,2025-01-02 15:22:47+00:00,[],2025-01-17 10:48:47+00:00,2025-01-03 10:24:12+00:00,https://github.com/odoo/odoo/pull/192221,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2567940843, 'issue_id': 2766211808, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192221.png)](https://mergebot.odoo.com/odoo/odoo/pull/192221)', 'created_at': datetime.datetime(2025, 1, 2, 15, 22, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:22:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192221.png)](https://mergebot.odoo.com/odoo/odoo/pull/192221)

"
2766202509,pull_request,closed,,[FW][FIX] l10n_fr: remove is_france_country,"Description of the issue/feature this PR addresses:
The field **is_france_country** was added to the **l10n_fr.res_company_form_l10n_fr** view with the invisible attribute set to 1. This caused an error on Odoo SH due to commit #162009. Since fields used in Python expressions are automatically added to the view, we do not need to keep it.

Current behavior before PR:
When you enable tests for the module l10n_fr, you have the following error : 

Please indicate why the always invisible fields are present in the view, or remove the field tag.
Addons: 'l10n_fr'   Views: ['res_company_form_l10n_fr']

Desired behavior after PR is merged:

Pass the test test_uncommented_invisible_field


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191944",fw-bot,2025-01-02 15:16:52+00:00,[],2025-01-20 23:47:06+00:00,2025-01-06 22:51:48+00:00,https://github.com/odoo/odoo/pull/192220,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567931734, 'issue_id': 2766202509, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192220.png)](https://mergebot.odoo.com/odoo/odoo/pull/192220)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931749, 'issue_id': 2766202509, 'author': 'fw-bot', 'body': '@cro-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#191944 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_fr/views/res_company_views.xml\nCONFLICT (content): Merge conflict in addons/l10n_fr/views/res_company_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572193875, 'issue_id': 2766202509, 'author': 'fw-bot', 'body': '@cro-odoo @gawa-odoo this forward port of odoo/odoo#191944 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 6, 3, 7, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572627337, 'issue_id': 2766202509, 'author': 'cro-odoo', 'body': '@gawa-odoo I had to repush a new commit (view was modified by this PR https://github.com/odoo/odoo/pull/183301 )', 'created_at': datetime.datetime(2025, 1, 6, 9, 4, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572849711, 'issue_id': 2766202509, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 6, 10, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192220.png)](https://mergebot.odoo.com/odoo/odoo/pull/192220)

fw-bot (Issue Creator) on (2025-01-02 15:16:54 UTC): @cro-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#191944 failed.

stdout:
```
Auto-merging addons/l10n_fr/views/res_company_views.xml
CONFLICT (content): Merge conflict in addons/l10n_fr/views/res_company_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-06 03:07:02 UTC): @cro-odoo @gawa-odoo this forward port of odoo/odoo#191944 is awaiting action (not merged or closed).

cro-odoo on (2025-01-06 09:04:25 UTC): @gawa-odoo I had to repush a new commit (view was modified by this PR https://github.com/odoo/odoo/pull/183301 )

gawa-odoo on (2025-01-06 10:47:00 UTC): @robodoo r+

"
2766202351,pull_request,closed,,[FW][FIX] spreadsheet: Remove data validation in production,"Following #184846, the data validation is no longer necessary in a production context.
Moreover, it currently limits some capacities for the user to user the history of the spreadsheets.
Eg:

- Create a new field with studio
- Add a datasouce in a spreadsheet which relies on that field
- make a bunch of revision
- Delete the field you created
- Go back to the spreadsheet
- Open the version history and try to ""make a copy"" of some recent revision

=> it will throw as you try to create a spreadsheet with invalid fields

However, the data validation still make sense to alert developpers to adapts dashboards
when they change the schema of some tables. This revision deactivates the data validation
on production which ensures that the last point is still respected while developping
(will be detected by runbot tests).

Task: 4363803

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188792",fw-bot,2025-01-02 15:16:46+00:00,[],2025-01-16 20:12:43+00:00,2025-01-02 19:36:46+00:00,https://github.com/odoo/odoo/pull/192219,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567931576, 'issue_id': 2766202351, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192219.png)](https://mergebot.odoo.com/odoo/odoo/pull/192219)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931594, 'issue_id': 2766202351, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192219.png)](https://mergebot.odoo.com/odoo/odoo/pull/192219)

fw-bot (Issue Creator) on (2025-01-02 15:16:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766202174,pull_request,closed,,[FW][IMP] base_vat: Issue with RUT validation (UY),"- Implemented proper validation logic for Uruguayan VAT numbers (RUT).
- Now supports VAT numbers starting with '22', addressing previous validation issues.
- Corrections in l10n_uy tests due to changes in logic.

Task: 1292
adhoc-task-side: 45613




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192116
Forward-Port-Of: odoo/odoo#191066",fw-bot,2025-01-02 15:16:39+00:00,[],2025-01-16 20:12:42+00:00,2025-01-02 19:36:42+00:00,https://github.com/odoo/odoo/pull/192218,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2567931537, 'issue_id': 2766202174, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192218.png)](https://mergebot.odoo.com/odoo/odoo/pull/192218)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931555, 'issue_id': 2766202174, 'author': 'fw-bot', 'body': '@zaoral @antoine162 cherrypicking of pull request odoo/odoo#191066 failed.\n\nstdout:\n```\nAuto-merging addons/base_vat/i18n/es.po\nCONFLICT (content): Merge conflict in addons/base_vat/i18n/es.po\nAuto-merging addons/base_vat/models/res_partner.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568088584, 'issue_id': 2766202174, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 2, 17, 2, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192218.png)](https://mergebot.odoo.com/odoo/odoo/pull/192218)

fw-bot (Issue Creator) on (2025-01-02 15:16:47 UTC): @zaoral @antoine162 cherrypicking of pull request odoo/odoo#191066 failed.

stdout:
```
Auto-merging addons/base_vat/i18n/es.po
CONFLICT (content): Merge conflict in addons/base_vat/i18n/es.po
Auto-merging addons/base_vat/models/res_partner.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

antoine162 on (2025-01-02 17:02:53 UTC): @robodoo r+

"
2766201995,pull_request,closed,,[FW][FIX] html_editor: link popover does not opens in firefox,"**Current behavior before PR:**

- In Firefox, the user-select: none style disabled text selection and prevented
  the cursor from being placed inside a button. This caused the button click to
  fail in opening the link popover.

**Desired behavior after PR is merged:**

- The user-select property for the btn class is changed from none to auto.
  This allows users to place the cursor inside the button-styled link, enabling
  editing and ensuring the link popover can be opened as expected.

task:4358091


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#188928",fw-bot,2025-01-02 15:16:32+00:00,[],2025-01-17 12:24:10+00:00,2025-01-03 12:16:04+00:00,https://github.com/odoo/odoo/pull/192217,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567931479, 'issue_id': 2766201995, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192217.png)](https://mergebot.odoo.com/odoo/odoo/pull/192217)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931518, 'issue_id': 2766201995, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192217.png)](https://mergebot.odoo.com/odoo/odoo/pull/192217)

fw-bot (Issue Creator) on (2025-01-02 15:16:45 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766201787,pull_request,closed,,[FW][FIX] sale: fix catalog display price,"Steps:
- install sale and activate pricelists
- activate discounts from setting
- create a product with price 100
- create a pricelist with of 2% discount on the product
- create a sale order with the new pricelist
- open the new product in catalog and add 1 quantity

Issue:
- the price for the product changes from 98 to 100 after adding quantity

Cause:
- the display price in catalog comes from either SOL price unit or computed from SO pricelist_id. When discounts setting is active the SOL price_unit is pricelist price without discount else with discount. Hence when first time the catalog is loaded it is computed from SO's pricelist and after adding a quantity it takes pricelist price without discount from SOL

Fix:
- Updated `_update_order_line_info` so it will always take the pricelist computed price and not SOL unit_price

opw - 4345503
opw - 4406373

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191171",fw-bot,2025-01-02 15:16:25+00:00,[],2025-01-17 16:01:15+00:00,2025-01-03 15:56:19+00:00,https://github.com/odoo/odoo/pull/192216,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567931437, 'issue_id': 2766201787, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192216.png)](https://mergebot.odoo.com/odoo/odoo/pull/192216)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931460, 'issue_id': 2766201787, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568007187, 'issue_id': 2766201787, 'author': 'fw-bot', 'body': '@dere-odoo @Feyensv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 2, 16, 4, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192216.png)](https://mergebot.odoo.com/odoo/odoo/pull/192216)

fw-bot (Issue Creator) on (2025-01-02 15:16:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 16:04:31 UTC): @dere-odoo @Feyensv ci/runbot failed on this forward-port PR

"
2766201518,pull_request,closed,,[FW][FIX] sale: skip combo test if menu is not accessible,"### Description of the issue this PR addresses:

Test TestSaleComboConfigurator.test_sale_combo_configurator (introduced with #186645) depends on the Sale menu being shown, but it isn't if the sale_management module is not installed. This change skips this test in this case.

### Current behavior before PR:

The test fails on odoo.sh with custom modules that only depend on sale and not sale_management.

### Desired behavior after PR is merged:

The test succeeds in the condition mentionned above.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192148",fw-bot,2025-01-02 15:16:18+00:00,[],2025-01-16 18:41:23+00:00,2025-01-02 18:17:05+00:00,https://github.com/odoo/odoo/pull/192215,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567931399, 'issue_id': 2766201518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192215.png)](https://mergebot.odoo.com/odoo/odoo/pull/192215)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931420, 'issue_id': 2766201518, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192215.png)](https://mergebot.odoo.com/odoo/odoo/pull/192215)

fw-bot (Issue Creator) on (2025-01-02 15:16:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766201309,pull_request,closed,,[FW][PERF] hr_expense: add missing index on `sheet_id`,"## Why
- Inverse of the One2many `expense_line_ids`, the ORM will search on it to resolve the read on the field
- Used as a traversable dependency of a few compute methods (`@api. depends('sheet_id.xxx')`), index will be hit when ORM resolves the computation of dependencies to know what compute method to call when the dependency changed.
- Frequently used as the traversal field of related fields, index will be hit when reading on the field in SQL in `_traverse_related_sql`.
- Using Full index, as there aren't many `NULL`/`False` entries, as it's moslty pending expense lines that are pending for reporting. So a search on the NULL criteria (done in `get_expenses_to_submit`) will hit the index.

## Reference
task-3977983

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191025",fw-bot,2025-01-02 15:16:12+00:00,[],2025-01-17 13:51:33+00:00,2025-01-03 13:44:52+00:00,https://github.com/odoo/odoo/pull/192214,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2567931362, 'issue_id': 2766201309, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192214.png)](https://mergebot.odoo.com/odoo/odoo/pull/192214)', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567931372, 'issue_id': 2766201309, 'author': 'fw-bot', 'body': '@pivi-odoo @oco-odoo cherrypicking of pull request odoo/odoo#191025 failed.\n\nstdout:\n```\nAuto-merging addons/hr_expense/models/hr_expense.py\nCONFLICT (content): Merge conflict in addons/hr_expense/models/hr_expense.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 16, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568906976, 'issue_id': 2766201309, 'author': 'pivi-odoo', 'body': 'Conflict was due to the addition of `tracking=True` on the field. Patch remains the same.\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 1, 3, 9, 11, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:16:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192214.png)](https://mergebot.odoo.com/odoo/odoo/pull/192214)

fw-bot (Issue Creator) on (2025-01-02 15:16:40 UTC): @pivi-odoo @oco-odoo cherrypicking of pull request odoo/odoo#191025 failed.

stdout:
```
Auto-merging addons/hr_expense/models/hr_expense.py
CONFLICT (content): Merge conflict in addons/hr_expense/models/hr_expense.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pivi-odoo on (2025-01-03 09:11:54 UTC): Conflict was due to the addition of `tracking=True` on the field. Patch remains the same.

@robodoo r+

"
2766199036,pull_request,closed,,[FW][FIX] hr_gamification: allow badge granting through badge card,"**Issue:**
Badges granted to employees don't display the link to access employee card.
https://github.com/user-attachments/assets/d8de916d-4f24-4ebb-b312-4e17d4c79bbb

**Expected:**
Magic button on badges cards should lead to the rewarded employee if any.

**Steps to reproduce:**
- Activate Employees and Gamification apps;
- Configure an employee;
- Configure a badge to grant through `Employees / Configuration / Challenges / Badges`;
- Grant the badge and select the employee;
- See all counters increase but the magic button's one.

**Cause:**
The employee_id is not set on the `GamificationBadgeUserWizard` during creation state so `values` never contain an employee_id if retrieved on `self`.

**Fix:**
Retrieve the user's employee id through the selected user entity.
https://github.com/user-attachments/assets/a0076e85-cd66-421a-992f-2c89afb07ad8


opw-4366690

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190097",fw-bot,2025-01-02 15:15:06+00:00,[],2025-01-17 01:17:26+00:00,2025-01-03 00:53:49+00:00,https://github.com/odoo/odoo/pull/192213,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567928472, 'issue_id': 2766199036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192213.png)](https://mergebot.odoo.com/odoo/odoo/pull/192213)', 'created_at': datetime.datetime(2025, 1, 2, 15, 15, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567928498, 'issue_id': 2766199036, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 15, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:15:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192213.png)](https://mergebot.odoo.com/odoo/odoo/pull/192213)

fw-bot (Issue Creator) on (2025-01-02 15:15:08 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2766192778,pull_request,closed,,[FW][FIX] hr_expense: handle undefined main attachment,"A temporary issue may occur when the attachment of an expense report is deleted.

Steps to reproduce:
- Create an expense and add an attachment.
- Create the report.
- On the report, delete the attachment.
- Try to click on the expense line.

An error ""TypeError: Cannot read properties of  undefined (reading 'checksum')"" is raised. The problem is resolved as soon as the page is reloaded.

This fix ensures the case is handled when one clicks before the page is reloaded.

opw-4355488

Forward-Port-Of: odoo/odoo#190430",fw-bot,2025-01-02 15:11:06+00:00,[],2025-01-17 16:35:24+00:00,2025-01-03 16:31:12+00:00,https://github.com/odoo/odoo/pull/192212,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2567922250, 'issue_id': 2766192778, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192212.png)](https://mergebot.odoo.com/odoo/odoo/pull/192212)', 'created_at': datetime.datetime(2025, 1, 2, 15, 11, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567922268, 'issue_id': 2766192778, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 15, 11, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568012262, 'issue_id': 2766192778, 'author': 'fw-bot', 'body': '@LouisGobert @oco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 2, 16, 7, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:11:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192212.png)](https://mergebot.odoo.com/odoo/odoo/pull/192212)

fw-bot (Issue Creator) on (2025-01-02 15:11:08 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-02 16:07:54 UTC): @LouisGobert @oco-odoo ci/runbot failed on this forward-port PR

"
2766190996,pull_request,open,,"[IMP] purchase, sale, stock: Make internal warnings non-blocking, turn them into alert boxes","Current behavior before PR: Warnings set by the user in the purchase, sale and stock modules for the partners and the products are blocking and intrusive.

Desired behavior after PR is merged: Warnings are no longer blocking popups but merely polite informational messages at the top of the form view. Stock picking warnings are called instructions. Separate invoice warnings no longer exist; they use purchase/sale warnings instead.

Task ID: [4268689](https://www.odoo.com/odoo/project/966/tasks/4268689)",lugr-odoo,2025-01-02 15:10:00+00:00,[],2025-02-07 14:25:12+00:00,,https://github.com/odoo/odoo/pull/192211,"[('RD', 'research & development, internal work')]","[{'comment_id': 2567920528, 'issue_id': 2766190996, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192211.png)](https://mergebot.odoo.com/odoo/odoo/pull/192211)', 'created_at': datetime.datetime(2025, 1, 2, 15, 10, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:10:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192211.png)](https://mergebot.odoo.com/odoo/odoo/pull/192211)

"
2766190071,pull_request,closed,,[FIX] base: add flag for Catalan language,And compress the arabic language,mart-e,2025-01-02 15:09:24+00:00,[],2025-01-16 18:02:48+00:00,2025-01-02 17:56:10+00:00,https://github.com/odoo/odoo/pull/192210,"[('RD', 'research & development, internal work')]","[{'comment_id': 2567919624, 'issue_id': 2766190071, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192210.png)](https://mergebot.odoo.com/odoo/odoo/pull/192210)', 'created_at': datetime.datetime(2025, 1, 2, 15, 9, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567929722, 'issue_id': 2766190071, 'author': 'mart-e', 'body': '@robodoo r+\r\ncc @oomsveta @ticodoo if you have similar requests', 'created_at': datetime.datetime(2025, 1, 2, 15, 15, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:09:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192210.png)](https://mergebot.odoo.com/odoo/odoo/pull/192210)

mart-e (Issue Creator) on (2025-01-02 15:15:38 UTC): @robodoo r+
cc @oomsveta @ticodoo if you have similar requests

"
2766179867,pull_request,open,,[IMP] rpc: serialize 64-bits signed int in xmlrpc,"At the moment, the xmlrpc layer refuses to serialize integers that wouldn't fit in a 32 bits signed integers. This is as per the latest xmlrpc standard[^1] (2003) which documents serialization of integers up to 32 bits integers. Larger integers (i.e. larger than 2e9) are not supported, and python's xmlrpc raises an OverflowError for them.

This is problematic as we now have several models with several billion records, where many record ids don't fit in 32 bits signed integers.

In this work we overload the xmlrpc serialiation of python's `int()` to serialize integers that don't fit in 32 bits using some unofficial but well supported extended data types: `<i8>` and `<biginteger>`.

* `<i8>` stores 64 bits signed integers (Java Long, C int32_t).
* `<biginteger>` stores un-limited integers (Python int).

Enabling serialization of bigger integers server-side is a required step to allow clients compatiblity, but because they are not part of the 2003 standard, those data types might not be recognized by all clients. See the compatibility matrix bellow[^2]:

language             | i8  | biginteger
-------------------- | --- | ----------
[python3]            | yes | yes
[ruby-xmlrpc]        | yes | no
[javascript jayson]  | no  | no
[php laminas-xmlrpc] | yes | no
[java apache-xmlrpc] | yes | no

[python3]: https://docs.python.org/3/library/xmlrpc.html
[ruby-xmlrpc]: https://packages.ubuntu.com/jammy/ruby-xmlrpc
[javascript jayson]: https://www.npmjs.com/package/jayson
[php laminas-xmlrpc]: https://github.com/laminas/laminas-xmlrpc
[java apache-xmlrpc]: https://ws.apache.org/xmlrpc/index.html
[^1]: https://xmlrpc.com/spec.md
[^2]: crude study of the source code of each library",Julien00859,2025-01-02 15:02:42+00:00,[],2025-01-06 13:27:21+00:00,,https://github.com/odoo/odoo/pull/192209,"[('RD', 'research & development, internal work')]","[{'comment_id': 2567909728, 'issue_id': 2766179867, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192209.png)](https://mergebot.odoo.com/odoo/odoo/pull/192209)', 'created_at': datetime.datetime(2025, 1, 2, 15, 2, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:02:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192209.png)](https://mergebot.odoo.com/odoo/odoo/pull/192209)

"
2766178031,pull_request,closed,,[FIX] pos_sale: separate downpayment for fixed tax,"When a product has a fixed tax, there should be a separate downpayment line for the fixed tax amount.

Steps to reproduce:
-------------------
* Create a fixed tax of 1€
* Assign this tax to any product
* Create a sale order with this product
* Open PoS and make a downpayment of 10%
> Observation: There is only one downpayment line with the total amount
  of the product and the fixed tax combined.

opw-4252104",robinengels,2025-01-02 15:01:30+00:00,[],2025-01-24 15:20:31+00:00,2025-01-10 15:16:28+00:00,https://github.com/odoo/odoo/pull/192208,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2567907873, 'issue_id': 2766178031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192208.png)](https://mergebot.odoo.com/odoo/odoo/pull/192208)', 'created_at': datetime.datetime(2025, 1, 2, 15, 1, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 15:01:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192208.png)](https://mergebot.odoo.com/odoo/odoo/pull/192208)

"
2766174299,pull_request,closed,,[FW][IMP] SECURITY.md: deprecate version 15.0 support,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192143",fw-bot,2025-01-02 14:59:03+00:00,[],2025-01-16 18:57:39+00:00,2025-01-02 18:54:46+00:00,https://github.com/odoo/odoo/pull/192207,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2567904189, 'issue_id': 2766174299, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192207.png)](https://mergebot.odoo.com/odoo/odoo/pull/192207)', 'created_at': datetime.datetime(2025, 1, 2, 14, 59, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567904205, 'issue_id': 2766174299, 'author': 'fw-bot', 'body': '@hamo-odoo @flvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#192193\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 2, 14, 59, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567905525, 'issue_id': 2766174299, 'author': 'hamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 2, 15, 0, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-02 14:59:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/192207.png)](https://mergebot.odoo.com/odoo/odoo/pull/192207)

fw-bot (Issue Creator) on (2025-01-02 14:59:05 UTC): @hamo-odoo @flvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#192193

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hamo-odoo on (2025-01-02 15:00:01 UTC): @robodoo r+

"
