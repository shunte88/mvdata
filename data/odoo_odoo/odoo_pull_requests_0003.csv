id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2827962546,pull_request,closed,,[FW][FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195569",fw-bot,2025-02-03 16:18:09+00:00,[],2025-02-04 09:10:00+00:00,2025-02-04 09:09:59+00:00,https://github.com/odoo/odoo/pull/196281,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631460859, 'issue_id': 2827962546, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196281.png)](https://mergebot.odoo.com/odoo/odoo/pull/196281)', 'created_at': datetime.datetime(2025, 2, 3, 16, 18, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631460881, 'issue_id': 2827962546, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 18, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:18:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196281.png)](https://mergebot.odoo.com/odoo/odoo/pull/196281)

fw-bot (Issue Creator) on (2025-02-03 16:18:12 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827951960,pull_request,closed,,[FW][FIX] web: don't apply domain to subfields in export dialog,"**Steps to reproduce**
1. Have Stock and Sales installed.
2. Go to the Sales list view of products, have more than 1 page of products.
3. Select all the products on the current page by checking the checkbox
on the first line. After that, click on ""Select all"" to select all
products.
4. Actions > Export
5. Select ""Products"" (`product_variant_ids`) and then ""Products/Stock Quant""
(`stock_quant_ids`).
`ValueError: Invalid field stock.quant.sale_ok in leaf ('sale_ok', '=', True)`

**Change**
Only use the domain of the list view to filter fields when the export dialog
is opened. The domain should only be used for that and not when `getExportFields`
is called when clicking on one of the children fields of the root model.

opw-4408457

Forward-Port-Of: odoo/odoo#193567",fw-bot,2025-02-03 16:13:33+00:00,[],2025-02-04 09:05:04+00:00,2025-02-04 09:05:04+00:00,https://github.com/odoo/odoo/pull/196280,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631449066, 'issue_id': 2827951960, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196280.png)](https://mergebot.odoo.com/odoo/odoo/pull/196280)', 'created_at': datetime.datetime(2025, 2, 3, 16, 13, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631449107, 'issue_id': 2827951960, 'author': 'fw-bot', 'body': '@taqu-odoo @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196242\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 13, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631506907, 'issue_id': 2827951960, 'author': 'taqu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 36, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:13:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196280.png)](https://mergebot.odoo.com/odoo/odoo/pull/196280)

fw-bot (Issue Creator) on (2025-02-03 16:13:35 UTC): @taqu-odoo @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196242

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

taqu-odoo on (2025-02-03 16:36:36 UTC): robodoo r+

"
2827950058,pull_request,open,,[IMP] test: flush after each transactional test,"Flush at the end of each tests to check that the data can be written to the database. Without this, we may have a test running fine and crash when executing in reality when we try to flush/commit.

odoo/enterprise#78423

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-03 16:12:43+00:00,[],2025-02-06 12:59:09+00:00,,https://github.com/odoo/odoo/pull/196279,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631447089, 'issue_id': 2827950058, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196279.png)](https://mergebot.odoo.com/odoo/odoo/pull/196279)', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633276650, 'issue_id': 2827950058, 'author': 'Xavier-Do', 'body': ""We already thought about doing that but it is adding an important overhead. We should test that with a multi-build to have a better idea of the additional time but I think that it is around 20-60 minutes total. (your last build is 80 more minutes than the master but I wouldn't take conclusion on a single value)\r\n\r\nI started a [batch with autorebase](https://runbot.odoo.com/runbot/batch/1792575) to have another value to compare with.\r\n\r\nThe conclusion at the time was that if some tests are not testing what they expect, most test have the correct assertions at the end and usually the values to flush are not relevant. If you test a compute, you don't need to flush it to assert the value in memory is the correct one, making the test faster.  It is still open to discussion of course but this is why we currently don't have a systematic flush at the end of each test."", 'created_at': datetime.datetime(2025, 2, 4, 9, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633305390, 'issue_id': 2827950058, 'author': 'kmagusiak', 'body': ""> We already thought about doing that but it is adding an important overhead. We should test that with a multi-build to have a better idea of the additional time but I think that it is around 20-60 minutes total. (your last build is 80 more minutes than the master but I wouldn't take conclusion on a single value)\r\n> \r\n> I started a [batch with autorebase](https://runbot.odoo.com/runbot/batch/1792575) to have another value to compare with.\r\n> \r\n> The conclusion at the time was that if some tests are not testing what they expect, most test have the correct assertions at the end and usually the values to flush are not relevant. If you test a compute, you don't need to flush it to assert the value in memory is the correct one, making the test faster. It is still open to discussion of course but this is why we currently don't have a systematic flush at the end of each test.\r\n\r\nCompared to some other builds, I estimate the overhead to around 5% (which I aggree is not small).\r\nIt is a topic that was once discussed and I made this change to test it. Although most tests do what is needed, it is interesting for regression testing.\r\n\r\nFeel free to close it the overhead is too big."", 'created_at': datetime.datetime(2025, 2, 4, 9, 14, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:12:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196279.png)](https://mergebot.odoo.com/odoo/odoo/pull/196279)

Xavier-Do on (2025-02-04 09:02:23 UTC): We already thought about doing that but it is adding an important overhead. We should test that with a multi-build to have a better idea of the additional time but I think that it is around 20-60 minutes total. (your last build is 80 more minutes than the master but I wouldn't take conclusion on a single value)

I started a [batch with autorebase](https://runbot.odoo.com/runbot/batch/1792575) to have another value to compare with.

The conclusion at the time was that if some tests are not testing what they expect, most test have the correct assertions at the end and usually the values to flush are not relevant. If you test a compute, you don't need to flush it to assert the value in memory is the correct one, making the test faster.  It is still open to discussion of course but this is why we currently don't have a systematic flush at the end of each test.

kmagusiak (Issue Creator) on (2025-02-04 09:14:52 UTC): Compared to some other builds, I estimate the overhead to around 5% (which I aggree is not small).
It is a topic that was once discussed and I made this change to test it. Although most tests do what is needed, it is interesting for regression testing.

Feel free to close it the overhead is too big.

"
2827950031,pull_request,open,,[FW][IMP] l10n_es_edi_tbai: Batuz modelo 140,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192240",fw-bot,2025-02-03 16:12:42+00:00,[],2025-02-03 17:00:28+00:00,,https://github.com/odoo/odoo/pull/196278,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631446945, 'issue_id': 2827950031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196278.png)](https://mergebot.odoo.com/odoo/odoo/pull/196278)', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631447000, 'issue_id': 2827950031, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:12:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196278.png)](https://mergebot.odoo.com/odoo/odoo/pull/196278)

fw-bot (Issue Creator) on (2025-02-03 16:12:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827949295,pull_request,closed,,[FW][FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945

Forward-Port-Of: odoo/odoo#196173
Forward-Port-Of: odoo/odoo#195554",fw-bot,2025-02-03 16:12:23+00:00,[],2025-02-04 11:32:32+00:00,2025-02-04 11:32:32+00:00,https://github.com/odoo/odoo/pull/196277,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631446161, 'issue_id': 2827949295, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196277.png)](https://mergebot.odoo.com/odoo/odoo/pull/196277)', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631446178, 'issue_id': 2827949295, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:12:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196277.png)](https://mergebot.odoo.com/odoo/odoo/pull/196277)

fw-bot (Issue Creator) on (2025-02-03 16:12:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827948464,pull_request,closed,,"[FW][FIX] point_of_sale, pos_settle_due: prevent creation of empty orders","Before this commit, depositing money for a customer with a zero balance could result in the creation of an empty order upon refreshing the browser. This issue arose because empty orders without payments were being synchronized, leading to unintended empty orders in the system.

This commit addresses the problem by ensuring that empty orders without payments are not synchronized and prevents the creation of such empty orders during the deposit process.

opw-4483049

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195850
Forward-Port-Of: odoo/odoo#195468",fw-bot,2025-02-03 16:12:02+00:00,[],2025-02-07 15:47:45+00:00,2025-02-07 15:47:45+00:00,https://github.com/odoo/odoo/pull/196276,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631445314, 'issue_id': 2827948464, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196276.png)](https://mergebot.odoo.com/odoo/odoo/pull/196276)', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631445375, 'issue_id': 2827948464, 'author': 'fw-bot', 'body': '@pedrambiria @caburj while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78421) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641264340, 'issue_id': 2827948464, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 22, 27, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641367391, 'issue_id': 2827948464, 'author': 'robodoo', 'body': '@pedrambiria @caburj staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74635420)', 'created_at': datetime.datetime(2025, 2, 6, 23, 47, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642963523, 'issue_id': 2827948464, 'author': 'pedrambiria', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 7, 13, 34, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:12:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196276.png)](https://mergebot.odoo.com/odoo/odoo/pull/196276)

fw-bot (Issue Creator) on (2025-02-03 16:12:06 UTC): @pedrambiria @caburj while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78421) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-06 22:27:26 UTC): robodoo r+

robodoo on (2025-02-06 23:47:45 UTC): @pedrambiria @caburj staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74635420)

pedrambiria on (2025-02-07 13:34:58 UTC): robodoo retry

"
2827946430,pull_request,closed,,[FW][FIX] html_editor: preserve p tag inside li when changing tag,"Description of the issue this PR addresses:

Current behavior before PR:

When converting paragraph related elements (other than the `<p>` tag itself) to a `<p>` tag, the tag would be unwrapped.

Desired behavior after PR is merged:

The tag is now converted directly to a `<p>` tag without unwrapping it.

task-4488784

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194146",fw-bot,2025-02-03 16:11:10+00:00,[],2025-02-04 07:00:48+00:00,2025-02-04 07:00:48+00:00,https://github.com/odoo/odoo/pull/196275,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631443383, 'issue_id': 2827946430, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196275.png)](https://mergebot.odoo.com/odoo/odoo/pull/196275)', 'created_at': datetime.datetime(2025, 2, 3, 16, 11, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631443408, 'issue_id': 2827946430, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 11, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:11:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196275.png)](https://mergebot.odoo.com/odoo/odoo/pull/196275)

fw-bot (Issue Creator) on (2025-02-03 16:11:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827945633,pull_request,open,,[FW][FIX] point_of_sale: prevent showing archived products,"Before this commit, when a product used in a paid order was archived, loading the paid order would cause the product to appear on the product screen.

opw-4493666

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194900",fw-bot,2025-02-03 16:10:50+00:00,[],2025-02-06 14:23:04+00:00,,https://github.com/odoo/odoo/pull/196274,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631443299, 'issue_id': 2827945633, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196274.png)](https://mergebot.odoo.com/odoo/odoo/pull/196274)', 'created_at': datetime.datetime(2025, 2, 3, 16, 11, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631443326, 'issue_id': 2827945633, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#194900 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/product_product.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/product_product.js\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nAuto-merging addons/pos_event/static/src/app/models/product_template.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 11, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:11:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196274.png)](https://mergebot.odoo.com/odoo/odoo/pull/196274)

fw-bot (Issue Creator) on (2025-02-03 16:11:19 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#194900 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/product_product.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/product_product.js
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
Auto-merging addons/pos_event/static/src/app/models/product_template.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827944222,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: better display of the EAS field,"Let's increase the label size since the EAS are quite long.

task-no

Before:
![image](https://github.com/user-attachments/assets/9dc51ce9-37e3-4c33-8f7f-d076d246360d)

After:
![image](https://github.com/user-attachments/assets/384ebe11-3b7d-4723-b8b5-a1927cdbdd15)

Forward-Port-Of: odoo/odoo#196153",fw-bot,2025-02-03 16:10:12+00:00,[],2025-02-06 13:33:58+00:00,2025-02-06 13:33:58+00:00,https://github.com/odoo/odoo/pull/196273,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2631440544, 'issue_id': 2827944222, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196273.png)](https://mergebot.odoo.com/odoo/odoo/pull/196273)', 'created_at': datetime.datetime(2025, 2, 3, 16, 10, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631440648, 'issue_id': 2827944222, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl cherrypicking of pull request odoo/odoo#196153 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/account_edi_ubl_cii/static/src/scss/account_edi_ubl_cii.scss deleted in d9a9e7e7e85498de9b53ae514a34b61b8e94afe0 and modified in 27f582279da77e3958fa1320fef11301f2ed1f71.  Version 27f582279da77e3958fa1320fef11301f2ed1f71 of addons/account_edi_ubl_cii/static/src/scss/account_edi_ubl_cii.scss left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 10, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:10:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196273.png)](https://mergebot.odoo.com/odoo/odoo/pull/196273)

fw-bot (Issue Creator) on (2025-02-03 16:10:16 UTC): @clbr-odoo @smetl cherrypicking of pull request odoo/odoo#196153 failed.

stdout:
```
CONFLICT (modify/delete): addons/account_edi_ubl_cii/static/src/scss/account_edi_ubl_cii.scss deleted in d9a9e7e7e85498de9b53ae514a34b61b8e94afe0 and modified in 27f582279da77e3958fa1320fef11301f2ed1f71.  Version 27f582279da77e3958fa1320fef11301f2ed1f71 of addons/account_edi_ubl_cii/static/src/scss/account_edi_ubl_cii.scss left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827940109,pull_request,closed,,[FW][FIX] html_editor: fix avatar flicker on collaborative updates,"### Steps to reproduce:

- Open the same document in two tabs.
- Press Enter multiple times in one tab.
- Observe the avatar flickers on the other tab with each Enter press.

### Description of the issue/feature this PR addresses:

- `refreshSelection` replaced `this.avatarOverlay` children and re-appended the avatar element in `drawPeerAvatar`, causing flicker.

### Desired behavior after PR is merged:

- The avatar no longer flickers when pressing Enter.

task-4367144

Forward-Port-Of: odoo/odoo#192130",fw-bot,2025-02-03 16:08:24+00:00,[],2025-02-04 09:04:51+00:00,2025-02-04 09:04:50+00:00,https://github.com/odoo/odoo/pull/196272,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631435872, 'issue_id': 2827940109, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196272.png)](https://mergebot.odoo.com/odoo/odoo/pull/196272)', 'created_at': datetime.datetime(2025, 2, 3, 16, 8, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631435912, 'issue_id': 2827940109, 'author': 'fw-bot', 'body': '@adch-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196244\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 8, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631445386, 'issue_id': 2827940109, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 12, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:08:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196272.png)](https://mergebot.odoo.com/odoo/odoo/pull/196272)

fw-bot (Issue Creator) on (2025-02-03 16:08:26 UTC): @adch-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196244

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-02-03 16:12:06 UTC): @robodoo r+

"
2827937104,pull_request,open,,[FIX] account_peppol: refresh token reuse err message,"Lately we have been encountering increasing issues with on-prem databases which are being duplicated without running neutralization scripts, and thus when one of the two instances renews its refresh token, the other database's refresh token gets out of sync and we end up with a cryptic error `Invalid signature for request to the account_edi proxy`.

1. Prod and Staging both have refresh token RT1
2. Staging needs new refresh token: sends RT1 to IAP and gets RT2
3. IAP invalidates RT1
4. Prod still has RT1 and tries to refresh
5. IAP rejects RT1 because it is no longer aware of RT1
6. Test cannot get a new token and loses access with this error as the signature is no longer valid

This commit simply improves this error message and redirects users to odoo support.

task-4531587",antonrom1,2025-02-03 16:07:16+00:00,[],2025-02-05 07:55:18+00:00,,https://github.com/odoo/odoo/pull/196271,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631432913, 'issue_id': 2827937104, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196271.png)](https://mergebot.odoo.com/odoo/odoo/pull/196271)', 'created_at': datetime.datetime(2025, 2, 3, 16, 7, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:07:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196271.png)](https://mergebot.odoo.com/odoo/odoo/pull/196271)

"
2827935435,pull_request,open,,[IMP] hr_holidays_attendance: extra hours available text wrap,"A new `div` tag was added to wrap the `Extra Hours Available` text after separating it from the parent tag and making the parent a sibling of the new `div` tag. The same `invisible` attribute was added to the tag.

task-4526451

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ataha1,2025-02-03 16:06:34+00:00,[],2025-02-06 13:01:51+00:00,,https://github.com/odoo/odoo/pull/196270,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631431077, 'issue_id': 2827935435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196270.png)](https://mergebot.odoo.com/odoo/odoo/pull/196270)', 'created_at': datetime.datetime(2025, 2, 3, 16, 6, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:06:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196270.png)](https://mergebot.odoo.com/odoo/odoo/pull/196270)

"
2827932302,pull_request,closed,,[FW][FIX] l10n_it_edi: prevent error when downloading invoice,"This error occurs when an invoice is not initially sent to the tax agency, but we later attempt to print it and send it to the agency.

Steps to reproduce:
---
- Install ``l10n_it_edi`` module
- Switch to ``IT Company``
- Create Customers Invoice > ``Confirm`` > ``Print & Send``
- Disable ``Send to Tax Agency`` > ``Print & Send``
- Now again ``Print & Send`` and ``Print & Send``

Traceback:
---
``KeyError: 'l10n_it_edi_values'``

This commit resolves the error by checking that ``l10n_it_edi_values`` is present in ``move_data``.

sentry-6191573767

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192438",fw-bot,2025-02-03 16:05:20+00:00,[],2025-02-04 09:05:00+00:00,2025-02-04 09:05:00+00:00,https://github.com/odoo/odoo/pull/196269,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631427578, 'issue_id': 2827932302, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196269.png)](https://mergebot.odoo.com/odoo/odoo/pull/196269)', 'created_at': datetime.datetime(2025, 2, 3, 16, 5, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631427622, 'issue_id': 2827932302, 'author': 'fw-bot', 'body': '@aamo-odoo @epictete this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196238\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 5, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631435900, 'issue_id': 2827932302, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 8, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:05:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196269.png)](https://mergebot.odoo.com/odoo/odoo/pull/196269)

fw-bot (Issue Creator) on (2025-02-03 16:05:22 UTC): @aamo-odoo @epictete this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196238

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-02-03 16:08:26 UTC): @robodoo r+

"
2827927975,pull_request,closed,,[FW][FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390

Forward-Port-Of: odoo/odoo#195808
Forward-Port-Of: odoo/odoo#195555",fw-bot,2025-02-03 16:03:29+00:00,[],2025-02-04 10:32:13+00:00,2025-02-04 10:32:13+00:00,https://github.com/odoo/odoo/pull/196268,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631422901, 'issue_id': 2827927975, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196268.png)](https://mergebot.odoo.com/odoo/odoo/pull/196268)', 'created_at': datetime.datetime(2025, 2, 3, 16, 3, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631422939, 'issue_id': 2827927975, 'author': 'fw-bot', 'body': '@alsh-odoo @ethanrobv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196241\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 3, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632913704, 'issue_id': 2827927975, 'author': 'alsh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 5, 28, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:03:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196268.png)](https://mergebot.odoo.com/odoo/odoo/pull/196268)

fw-bot (Issue Creator) on (2025-02-03 16:03:31 UTC): @alsh-odoo @ethanrobv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196241

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alsh-odoo on (2025-02-04 05:28:18 UTC): @robodoo r+

"
2827926393,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed problems in exported XML precision,"There were problems reported on some invoices caused by rounding errors.
This PR solves these problems, and adds more test cases to the precision unit tests.

task-4464702
task-4509607




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195681
Forward-Port-Of: odoo/odoo#194813",fw-bot,2025-02-03 16:02:51+00:00,[],2025-02-04 09:04:55+00:00,2025-02-04 09:04:55+00:00,https://github.com/odoo/odoo/pull/196267,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631421087, 'issue_id': 2827926393, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196267.png)](https://mergebot.odoo.com/odoo/odoo/pull/196267)', 'created_at': datetime.datetime(2025, 2, 3, 16, 2, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631421109, 'issue_id': 2827926393, 'author': 'fw-bot', 'body': '@hsal-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196239\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 2, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631427897, 'issue_id': 2827926393, 'author': 'hsal-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 5, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:02:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196267.png)](https://mergebot.odoo.com/odoo/odoo/pull/196267)

fw-bot (Issue Creator) on (2025-02-03 16:02:53 UTC): @hsal-odoo @jco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196239

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hsal-odoo on (2025-02-03 16:05:28 UTC): @robodoo r+

"
2827918667,pull_request,closed,,[FW][FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196012",fw-bot,2025-02-03 15:59:43+00:00,[],2025-02-04 11:58:45+00:00,2025-02-04 11:58:37+00:00,https://github.com/odoo/odoo/pull/196266,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631412830, 'issue_id': 2827918667, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196266.png)](https://mergebot.odoo.com/odoo/odoo/pull/196266)', 'created_at': datetime.datetime(2025, 2, 3, 15, 59, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631412860, 'issue_id': 2827918667, 'author': 'fw-bot', 'body': '@nim-odoo @xmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196235\n* odoo/odoo#196204\n* odoo/odoo#196174\n* odoo/odoo#196150\n* odoo/odoo#196135\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 59, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633003449, 'issue_id': 2827918667, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 35, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:59:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196266.png)](https://mergebot.odoo.com/odoo/odoo/pull/196266)

fw-bot (Issue Creator) on (2025-02-03 15:59:45 UTC): @nim-odoo @xmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196235
* odoo/odoo#196204
* odoo/odoo#196174
* odoo/odoo#196150
* odoo/odoo#196135

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xmo-odoo on (2025-02-04 06:35:12 UTC): @robodoo r+

"
2827917026,pull_request,closed,,"[FW][FIX] hr_holidays: no activity when ""Notified Time Off Officer"" empty","steps to reproduce:
-Create a new time off type.
-Set the approval radio button to either ""By Time Off Officer"" or ""By Employee's Approver and Time Off Officer.""
-Leave the ""Notified Time Off Officer"" field empty. 
-Try to create a new allocation for the newly created time off type. 
-Notice that an activity is created for the user who created the allocation.

cause:
When the ""Notified Time Off Officer"" field is left empty, no activity or email should be created.

solution:
Remove self.env.user.ids to prevent the creation of an activity for the user.

task-4351747

Forward-Port-Of: odoo/odoo#189407",fw-bot,2025-02-03 15:59:02+00:00,[],2025-02-04 09:04:46+00:00,2025-02-04 09:04:46+00:00,https://github.com/odoo/odoo/pull/196265,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631411153, 'issue_id': 2827917026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196265.png)](https://mergebot.odoo.com/odoo/odoo/pull/196265)', 'created_at': datetime.datetime(2025, 2, 3, 15, 59, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631411191, 'issue_id': 2827917026, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196234\n* odoo/odoo#196202\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 59, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631422791, 'issue_id': 2827917026, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 3, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:59:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196265.png)](https://mergebot.odoo.com/odoo/odoo/pull/196265)

fw-bot (Issue Creator) on (2025-02-03 15:59:04 UTC): @dhka-odoo @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196234
* odoo/odoo#196202

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-03 16:03:27 UTC): @robodoo r+

"
2827906177,pull_request,open,,"[FIX] mrp: ""BOM overview"" button stopped crashing with products of dynamic attributes variants","Steps to reproduce the bug:
 - Ceate a product
 - add a new attribute with ""variant creation mode"" = ""Dynamic""
 - create a BoM for this product
 - Click on the BoM smart button then BoM overview smart button

Problem:
Traceback is raise, because in the BoM overview it creates a BoM report, and it adds the operational lines(operations) to the report, some operations are skipped based on the function `_match_all_variant_values` that checks if the product has all the variant values. This function expects a product to run on, but in case of dynamic attribute a product will only be created if it is included in a sales order, hence the product is empty and the function raise the exception.

Since the BoM report is for the product variants, then we can skip the operational line if no product is used in the BoM, and hence the `_match_all_variant_values` won't be called over empty product.

opw-4518723

**Possible approaches for the Issue**:
   1- Change the product variable in the bom object in the _get_bom_data function to be the product.template instead of the concrete product, this will affect many other functions in the generating of the bom report as **_get_resupply_route_info** function that calls **_get_rules_from_location** which is not a function on the 'product.template' model. 
   Considering that approach requires anticipating the case of having the product.template in the bom in all the sections in the bom report.

  2- Keep the porduct in the bom object empty one since we don't have with dynamic attributes. And we just skip operational lines if the porduct is empty so the **_match_all_variant_values** is not called. [**IMPLEMENTED**]
  (This change doesn't require more changes as everything will be still working with the expected model type 'product.product' but the operations and other data will be empty in the report which make sense because they are variant related )

Current behavior before PR: the app show error whenever a BoM overview smart button is clicked for a BoM of a product with dynamic attribute variants

Desired behavior after PR is merged: The BoM overview report should be shown normally with no problems.




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hyhevic,2025-02-03 15:55:18+00:00,[],2025-02-04 08:40:31+00:00,,https://github.com/odoo/odoo/pull/196264,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631401299, 'issue_id': 2827906177, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196264.png)](https://mergebot.odoo.com/odoo/odoo/pull/196264)', 'created_at': datetime.datetime(2025, 2, 3, 15, 55, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:55:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196264.png)](https://mergebot.odoo.com/odoo/odoo/pull/196264)

"
2827876639,pull_request,open,,[FIX] l10n_jo_edi: Fixed special tax amount across different tax groups,"Handling special tax amount across different tax groups was not done correctly before this commit.

task-4536450




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hsal-odoo,2025-02-03 15:43:56+00:00,[],2025-02-03 16:00:14+00:00,,https://github.com/odoo/odoo/pull/196263,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631371506, 'issue_id': 2827876639, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196263.png)](https://mergebot.odoo.com/odoo/odoo/pull/196263)', 'created_at': datetime.datetime(2025, 2, 3, 15, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631380819, 'issue_id': 2827876639, 'author': 'hsal-odoo', 'body': '@robodoo up to saas-17.4', 'created_at': datetime.datetime(2025, 2, 3, 15, 47, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631380957, 'issue_id': 2827876639, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 2, 3, 15, 47, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631382141, 'issue_id': 2827876639, 'author': 'hsal-odoo', 'body': '@jco-odoo The fix was applied on v18.0 and later versions in this PR https://github.com/odoo/odoo/pull/195681', 'created_at': datetime.datetime(2025, 2, 3, 15, 48, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:44:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196263.png)](https://mergebot.odoo.com/odoo/odoo/pull/196263)

hsal-odoo (Issue Creator) on (2025-02-03 15:47:38 UTC): @robodoo up to saas-17.4

robodoo on (2025-02-03 15:47:41 UTC): Forward-porting to 'saas-17.4'.

hsal-odoo (Issue Creator) on (2025-02-03 15:48:09 UTC): @jco-odoo The fix was applied on v18.0 and later versions in this PR https://github.com/odoo/odoo/pull/195681

"
2827852050,pull_request,closed,,[FW][FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193255",fw-bot,2025-02-03 15:33:58+00:00,[],2025-02-04 08:32:56+00:00,2025-02-04 08:32:56+00:00,https://github.com/odoo/odoo/pull/196262,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631345122, 'issue_id': 2827852050, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196262.png)](https://mergebot.odoo.com/odoo/odoo/pull/196262)', 'created_at': datetime.datetime(2025, 2, 3, 15, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631345146, 'issue_id': 2827852050, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:34:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196262.png)](https://mergebot.odoo.com/odoo/odoo/pull/196262)

fw-bot (Issue Creator) on (2025-02-03 15:34:00 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827832947,pull_request,closed,,[FIX] l10n_es: reset price_include_override,On https://github.com/odoo/odoo/commit/06d3ef5853aa0a93ac2de1642fd11ea191a3bbd3 price_include_override were erroneously removed,jbw-odoo,2025-02-03 15:26:22+00:00,[],2025-02-06 10:02:56+00:00,2025-02-06 10:02:56+00:00,https://github.com/odoo/odoo/pull/196261,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631324566, 'issue_id': 2827832947, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196261.png)](https://mergebot.odoo.com/odoo/odoo/pull/196261)', 'created_at': datetime.datetime(2025, 2, 3, 15, 26, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:26:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196261.png)](https://mergebot.odoo.com/odoo/odoo/pull/196261)

"
2827825611,pull_request,open,,[FIX] stock: 2-step delivery destination location,"to reproduce:
=============
- make warehouse with 2-step delivery
- create contact with Customer Location = Partners/Customers/Test (make sure location type = Customer location)
- create a sale order with this contact
- confirm the sale order
- confirm first delivery -> the second delivery is created but the destination location is set to **Partners/Customers** instead of **Partners/Customers/Test**

Problem:
========
- starting from 17.2 the second pick is created after validating the first one at creation used vals received from the move has the wrong destination location, it will be recomputed after creating the second pick but it's too late to change the destination location of the second pick

Solution:
=========
- recompute the destination location of move when preparing vals of the second pick

opw-4374075

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",abla001,2025-02-03 15:23:25+00:00,[],2025-02-03 16:00:18+00:00,,https://github.com/odoo/odoo/pull/196260,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631316770, 'issue_id': 2827825611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196260.png)](https://mergebot.odoo.com/odoo/odoo/pull/196260)', 'created_at': datetime.datetime(2025, 2, 3, 15, 23, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:23:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196260.png)](https://mergebot.odoo.com/odoo/odoo/pull/196260)

"
2827820453,pull_request,closed,,[FW][IMP] hr_recruitment: change some demo emails,"Change questionable emails for 2 users.

Make new demo CV for them as well because we only had the
binary pdfs.
Raw latex can be found at (google drive):
* https://drive.google.com/file/d/1AyRguPcTRrt_7ySXAYE3L9TP4mHnwMNs/view?usp=drive_link
* https://drive.google.com/file/d/1e-2JlO3hEbaf6haFTF5TdCy6kx73xOgX/view?usp=drive_link

task-4507003

Forward-Port-Of: odoo/odoo#194804",fw-bot,2025-02-03 15:21:23+00:00,[],2025-02-04 11:50:20+00:00,2025-02-04 11:50:20+00:00,https://github.com/odoo/odoo/pull/196259,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631311169, 'issue_id': 2827820453, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196259.png)](https://mergebot.odoo.com/odoo/odoo/pull/196259)', 'created_at': datetime.datetime(2025, 2, 3, 15, 21, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631311202, 'issue_id': 2827820453, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 21, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:21:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196259.png)](https://mergebot.odoo.com/odoo/odoo/pull/196259)

fw-bot (Issue Creator) on (2025-02-03 15:21:25 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827819621,pull_request,closed,,[FW][FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648

Forward-Port-Of: odoo/odoo#196159
Forward-Port-Of: odoo/odoo#193239",fw-bot,2025-02-03 15:21:04+00:00,[],2025-02-07 12:49:34+00:00,2025-02-07 12:49:34+00:00,https://github.com/odoo/odoo/pull/196258,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631310303, 'issue_id': 2827819621, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196258.png)](https://mergebot.odoo.com/odoo/odoo/pull/196258)', 'created_at': datetime.datetime(2025, 2, 3, 15, 21, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631310336, 'issue_id': 2827819621, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 21, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636573330, 'issue_id': 2827819621, 'author': 'robodoo', 'body': '@shsa-odoo @bvr-odoo staging failed: ci/runbot on f0ec2905f89975f83730a812d380b944548572d7 (view more at https://runbot.odoo.com/runbot/build/74530600)', 'created_at': datetime.datetime(2025, 2, 5, 12, 17, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642301715, 'issue_id': 2827819621, 'author': 'bvr-odoo', 'body': '@shsa-odoo this one is not merged, could you check please', 'created_at': datetime.datetime(2025, 2, 7, 8, 57, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642400683, 'issue_id': 2827819621, 'author': 'shsa-odoo', 'body': '@bvr-odoo Weird :sweat_smile:  All checks have passed, i looked up the build for this branch and everything seems good too :\r\nBuild : https://runbot.odoo.com/runbot/bundle/saas-17-2-16-0-prevent-tab-duplication-shsa-413484-fw-345262\r\n![image](https://github.com/user-attachments/assets/ccd8a8ab-c191-4e9a-8f8a-fab314792701)\r\nI am wondering How from 18.0 the code is merged without saas-17.2 does runbot skips like that ?\r\nLet me rebase and push it again .', 'created_at': datetime.datetime(2025, 2, 7, 9, 26, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642404708, 'issue_id': 2827819621, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 9, 28, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642606864, 'issue_id': 2827819621, 'author': 'shsa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 11, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:21:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196258.png)](https://mergebot.odoo.com/odoo/odoo/pull/196258)

fw-bot (Issue Creator) on (2025-02-03 15:21:06 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-05 12:17:31 UTC): @shsa-odoo @bvr-odoo staging failed: ci/runbot on f0ec2905f89975f83730a812d380b944548572d7 (view more at https://runbot.odoo.com/runbot/build/74530600)

bvr-odoo on (2025-02-07 08:57:43 UTC): @shsa-odoo this one is not merged, could you check please

shsa-odoo on (2025-02-07 09:26:49 UTC): @bvr-odoo Weird :sweat_smile:  All checks have passed, i looked up the build for this branch and everything seems good too :
Build : https://runbot.odoo.com/runbot/bundle/saas-17-2-16-0-prevent-tab-duplication-shsa-413484-fw-345262
![image](https://github.com/user-attachments/assets/ccd8a8ab-c191-4e9a-8f8a-fab314792701)
I am wondering How from 18.0 the code is merged without saas-17.2 does runbot skips like that ?
Let me rebase and push it again .

fw-bot (Issue Creator) on (2025-02-07 09:28:40 UTC): @shsa-odoo @bvr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

shsa-odoo on (2025-02-07 11:06:00 UTC): @robodoo r+

"
2827810022,pull_request,closed,,[FIX] hr: message post departure reason traceback,"Since the function message_post on mail thread has been built to be called on exactly one record and the function write on employee is for multiple records, we need to call it for each employee we are writing on.

It has been introduced in: https://github.com/odoo/odoo/pull/143217

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pimodoo,2025-02-03 15:17:05+00:00,[],2025-02-05 09:40:45+00:00,2025-02-05 09:40:45+00:00,https://github.com/odoo/odoo/pull/196257,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631299466, 'issue_id': 2827810022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196257.png)](https://mergebot.odoo.com/odoo/odoo/pull/196257)', 'created_at': datetime.datetime(2025, 2, 3, 15, 17, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631307470, 'issue_id': 2827810022, 'author': 'pimodoo', 'body': '@Flotchet @Bertrand2 Hello,\r\n\r\nDoes this PR looks good to you?', 'created_at': datetime.datetime(2025, 2, 3, 15, 20, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635987894, 'issue_id': 2827810022, 'author': 'pimodoo', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 2, 5, 7, 50, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635987943, 'issue_id': 2827810022, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 5, 7, 50, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:17:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196257.png)](https://mergebot.odoo.com/odoo/odoo/pull/196257)

pimodoo (Issue Creator) on (2025-02-03 15:20:04 UTC): @Flotchet @Bertrand2 Hello,

Does this PR looks good to you?

pimodoo (Issue Creator) on (2025-02-05 07:50:56 UTC): @robodoo r+ rebase-ff

robodoo on (2025-02-05 07:50:58 UTC): Merge method set to rebase and fast-forward.

"
2827807562,pull_request,open,,[FW][FIX] l10n_ar: price unit precision digits on invoice report.,"**Description of the issue/feature this PR addresses**:
If ""Product Price"" Decimal Accuracy has more than 2 digits, then the unit price on the printed report has only 2 digits when Argentinean invoice report is printed and this causes that quantity * price on each invoice line does not result the amount shown on the ""Amount"" column.

**Steps to reproduce**:
1) Log ing with admin user on runbot odoo enterprise 16 instance, activate developer mode and install l10n_ar module.

2) Take position on company ""Responsable Inscripto"", go to menu ""Setting / Technical / Database Structure / Decimal Accuracy"" and set 4 digits for ""Product Price"".
![image](https://github.com/odoo/odoo/assets/89547436/ecb124fc-826c-4225-a1ff-c777b0d26037)

3) Create customer invoice to partner ""Consumidor Final Anónimo"" (if the partner is ""Consumidor Final Anónimo"" then taxes are not discriminated on the printed invoice report --> document type = ""FACTURAS B""). The invoice must have an invoice line with product price with 4 digits, for example: quantity 3000, price 65.3057 and tax ""IVA 21%"".
![image](https://github.com/odoo/odoo/assets/89547436/ce6de3ad-e827-4056-96bf-df66964878c7)

4) Confirm and print the invoice
![image](https://github.com/odoo/odoo/assets/89547436/1297e96a-851a-402a-90d3-503a74479592)
The result of quantity * price is not the amount shown on the printed invoice (3000 * 79.03 != 237059.69)

**Current behavior before PR**:
If ""Product Price"" Decimal Accuracy has more than 2 digits, then the unit price on the printed report has only 2 digits when Argentinean invoice report is printed and this causes that quantity * price on each invoice line does not result the amount shown on the amount column.

**Desired behavior after PR is merged**:
If ""Product Price"" Decimal Accuracy has more than 2 digits, then the unit price on the printed report has the same quantity of digits set on ""Product Price"" Decimal Accuracy when Argentinean invoice report is printed.

Ticket Adhoc side: 77471
Task latam: 1226


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#171131",fw-bot,2025-02-03 15:16:04+00:00,[],2025-02-03 20:12:05+00:00,,https://github.com/odoo/odoo/pull/196256,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631296692, 'issue_id': 2827807562, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196256.png)](https://mergebot.odoo.com/odoo/odoo/pull/196256)', 'created_at': datetime.datetime(2025, 2, 3, 15, 16, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631296757, 'issue_id': 2827807562, 'author': 'fw-bot', 'body': '@pablohmontenegro @smetl cherrypicking of pull request odoo/odoo#171131 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_ar/tests/common.py\nAuto-merging addons/l10n_ar/tests/test_manual.py\nCONFLICT (content): Merge conflict in addons/l10n_ar/tests/test_manual.py\nAuto-merging addons/l10n_ar/views/report_invoice.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 16, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631971873, 'issue_id': 2827807562, 'author': 'pablohmontenegro', 'body': '@smetl  Please let me know if you need help with this fw that has conflicts.', 'created_at': datetime.datetime(2025, 2, 3, 20, 12, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:16:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196256.png)](https://mergebot.odoo.com/odoo/odoo/pull/196256)

fw-bot (Issue Creator) on (2025-02-03 15:16:08 UTC): @pablohmontenegro @smetl cherrypicking of pull request odoo/odoo#171131 failed.

stdout:
```
Auto-merging addons/l10n_ar/tests/common.py
Auto-merging addons/l10n_ar/tests/test_manual.py
CONFLICT (content): Merge conflict in addons/l10n_ar/tests/test_manual.py
Auto-merging addons/l10n_ar/views/report_invoice.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pablohmontenegro on (2025-02-03 20:12:04 UTC): @smetl  Please let me know if you need help with this fw that has conflicts.

"
2827806426,pull_request,closed,,[FW][FIX] web_editor: color not getting applied on single selected cell,"**Current behaviour before PR:**

When single cell is selected in a table, trying to apply color closes color palette and color is not getting applied
on it. This happens because applying color on single cell changes selection and cell gets deselected in `_onSelectionChange`.

**Desired behaviour after PR:**

Now, it is possible to apply color on a single cell.

task-3433784




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#173845",fw-bot,2025-02-03 15:15:36+00:00,[],2025-02-05 15:34:00+00:00,2025-02-05 15:34:00+00:00,https://github.com/odoo/odoo/pull/196255,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631295415, 'issue_id': 2827806426, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196255.png)](https://mergebot.odoo.com/odoo/odoo/pull/196255)', 'created_at': datetime.datetime(2025, 2, 3, 15, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631295443, 'issue_id': 2827806426, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#173845 failed.\n\n* 1069baf89a6988f71d9d55ab97e4e0667e9bbbd4 <- on this commit\n* ed2ec8843f0ac16d0e6957553c2558496738efe4\n* aa8f97c8d05da5b3a3403bd2b2371b028aecc3dc\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636306294, 'issue_id': 2827806426, 'author': 'adsa-odoo', 'body': '@dmo-odoo Ping!', 'created_at': datetime.datetime(2025, 2, 5, 10, 16, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636795581, 'issue_id': 2827806426, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 0, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:15:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196255.png)](https://mergebot.odoo.com/odoo/odoo/pull/196255)

fw-bot (Issue Creator) on (2025-02-03 15:15:38 UTC): @adsa-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#173845 failed.

* 1069baf89a6988f71d9d55ab97e4e0667e9bbbd4 <- on this commit
* ed2ec8843f0ac16d0e6957553c2558496738efe4
* aa8f97c8d05da5b3a3403bd2b2371b028aecc3dc

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/wysiwyg/wysiwyg.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adsa-odoo on (2025-02-05 10:16:58 UTC): @dmo-odoo Ping!

dmo-odoo on (2025-02-05 13:00:35 UTC): @robodoo r+

"
2827805596,pull_request,closed,,[FW][FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357

Forward-Port-Of: odoo/odoo#195777",fw-bot,2025-02-03 15:15:17+00:00,[],2025-02-04 07:52:33+00:00,2025-02-04 07:52:33+00:00,https://github.com/odoo/odoo/pull/196254,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631294758, 'issue_id': 2827805596, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196254.png)](https://mergebot.odoo.com/odoo/odoo/pull/196254)', 'created_at': datetime.datetime(2025, 2, 3, 15, 15, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631294783, 'issue_id': 2827805596, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 15, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:15:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196254.png)](https://mergebot.odoo.com/odoo/odoo/pull/196254)

fw-bot (Issue Creator) on (2025-02-03 15:15:23 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827801406,pull_request,open,,[FIX] point_of_sale: fix incorrect count in session report,"[FIX] point_of_sale: fix incorrect count in session report

- In POS, open a register and add Product A with a price of 100. Proceed with the payment using a card.

- Close the register, increase the cash count by 20, and reduce the card count to 80.

In the session report, the difference in the card payment is not displayed correctly. It shows the expected amount as 100 and the counted amount as 100, whereas it should be expected at 100 and counted at 80.

Commit https://github.com/odoo/odoo/commit/01b87f1230beac0568f4e3b1b76e547909506892#diff-143d17de807d23650088a8c12f0a5b5cc2246b1b51e0bb7634e85247b6e535ea  made journal entry optional for payments and removed the `synchronize_from_moves` method from `account_payment`. This mean that there is no longer a synchronization between account_payment and its potential journal entries. The source (here pos_session) is now responsible for creating and linking the moves to the payment. The amount field of account_payment, which is used to construct the session report and created in `_create_combine_account_payment` was not updated with the new balance created in `_apply_diff_on_account_payment_move`.

opw-4494656



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",gteboul,2025-02-03 15:13:53+00:00,[],2025-02-04 13:54:10+00:00,,https://github.com/odoo/odoo/pull/196253,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631290427, 'issue_id': 2827801406, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196253.png)](https://mergebot.odoo.com/odoo/odoo/pull/196253)', 'created_at': datetime.datetime(2025, 2, 3, 15, 13, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:13:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196253.png)](https://mergebot.odoo.com/odoo/odoo/pull/196253)

"
2827793829,pull_request,open,,"[FIX]{*_}loyalty,sale: fix amount per tax","Commit db12319e8b3b662a1498ee9a519fbced457174cc introduced a wrong behaviour for the discounts applied to an order when they are fixed or depending on the number of points. With this commit, the taxes applied would the ones set on the reward product if at least one line in the sale order had these taxes. Disregarding any other taxes applied, or not setting taxes at all. This was done to facilitate the reading of a sale order.

Accounting wise, this is wrong. A product is paid less, so less taxes needs to be recorded. It's not optimization, it's regulation.

Reverting part of db12319e8b3b662a1498ee9a519fbced457174cc to evaluate how to ease the user life without having them getting on the warpath of their accountant.

opw-4486030

TODO in master: take off taxes fields.
",Demesmaeker,2025-02-03 15:11:11+00:00,[],2025-02-07 09:34:34+00:00,,https://github.com/odoo/odoo/pull/196252,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631282449, 'issue_id': 2827793829, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196252.png)](https://mergebot.odoo.com/odoo/odoo/pull/196252)', 'created_at': datetime.datetime(2025, 2, 3, 15, 11, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633231828, 'issue_id': 2827793829, 'author': 'Demesmaeker', 'body': ""Hello @smetl \r\nHere it is, for now, I reverted the problematic comportment and uses the same as when we are doing a percentage discount, as we do get a discount factor anyway. So in the end, I don't have a lot of questions for this PR. We should still see how taxes are applied depending on the program, in case there were other oversights like this one. :slightly_smiling_face:"", 'created_at': datetime.datetime(2025, 2, 4, 8, 42, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:11:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196252.png)](https://mergebot.odoo.com/odoo/odoo/pull/196252)

Demesmaeker (Issue Creator) on (2025-02-04 08:42:09 UTC): Hello @smetl 
Here it is, for now, I reverted the problematic comportment and uses the same as when we are doing a percentage discount, as we do get a discount factor anyway. So in the end, I don't have a lot of questions for this PR. We should still see how taxes are applied depending on the program, in case there were other oversights like this one. :slightly_smiling_face:

"
2827791832,pull_request,open,,[FIX] point_of_sale: Don't archive POS config's default pricelist,"A pricelist can be archived even if it's been used as the default pricelist for some POS config. Since the archived pricelist will be filtered out from the available pricelists, trying to write on the record might trigger the error 
`The default pricelist must be included in the available pricelists.`

This can happen during an upgrade, when a record is being updated making the upgrade fail.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",filisbits,2025-02-03 15:10:25+00:00,[],2025-02-03 16:42:41+00:00,,https://github.com/odoo/odoo/pull/196251,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631280268, 'issue_id': 2827791832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196251.png)](https://mergebot.odoo.com/odoo/odoo/pull/196251)', 'created_at': datetime.datetime(2025, 2, 3, 15, 10, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631512878, 'issue_id': 2827791832, 'author': 'filisbits', 'body': ""I'm not very sure about this fix and I'm no expert in the POS module, so let me know if there's a better approach."", 'created_at': datetime.datetime(2025, 2, 3, 16, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:10:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196251.png)](https://mergebot.odoo.com/odoo/odoo/pull/196251)

filisbits (Issue Creator) on (2025-02-03 16:39:00 UTC): I'm not very sure about this fix and I'm no expert in the POS module, so let me know if there's a better approach.

"
2827785209,pull_request,closed,,[IMP] base: cron fields should not always aggregate,"Description of the issue/feature this PR addresses:
Add aggregators on the ir.cron model


task-4544612


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-03 15:07:54+00:00,[],2025-02-04 09:03:25+00:00,2025-02-04 08:25:07+00:00,https://github.com/odoo/odoo/pull/196250,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631270460, 'issue_id': 2827785209, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196250.png)](https://mergebot.odoo.com/odoo/odoo/pull/196250)', 'created_at': datetime.datetime(2025, 2, 3, 15, 7, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632989709, 'issue_id': 2827785209, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nThx @kmagusiak', 'created_at': datetime.datetime(2025, 2, 4, 6, 25, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:07:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196250.png)](https://mergebot.odoo.com/odoo/odoo/pull/196250)

ryv-odoo on (2025-02-04 06:25:15 UTC): @robodoo r+
Thx @kmagusiak

"
2827775191,pull_request,closed,,[FIX] website: fix datepickerInitialized variable name,"When the website form public widget was converted into interactions in [1], the variable that tracks the initialization of datepickers was wronly named.

This commit fixes that name.

[1]: https://github.com/odoo/odoo/commit/b9b3a605e0f4c5da3a258c980107d6162da7f44f

task-4367641
",bso-odoo,2025-02-03 15:04:37+00:00,[],2025-02-04 07:43:22+00:00,2025-02-04 07:43:22+00:00,https://github.com/odoo/odoo/pull/196249,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2631256634, 'issue_id': 2827775191, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196249.png)](https://mergebot.odoo.com/odoo/odoo/pull/196249)', 'created_at': datetime.datetime(2025, 2, 3, 15, 4, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631273322, 'issue_id': 2827775191, 'author': 'ged-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 15, 8, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:04:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196249.png)](https://mergebot.odoo.com/odoo/odoo/pull/196249)

ged-odoo on (2025-02-03 15:08:32 UTC): robodoo r+

"
2827765601,pull_request,open,,[FW][FIX] base: show all groups menu in group view,"Scenario: set a menu to be visible only to a group you don't have
Result: the menu is not shown in the list of menu on the group form view

Why: in 17.0, web_read was added that is adding a search for ordering
results of x2many according to order in specification. This is
interfering with custom code of ir.ui.menu that is filtering out menu
that are not visible (in the interface) to you.

Fix: add context key that bypass the ir.ui.menu filtering in the
res.groups window action.

opw-4376374

Forward-Port-Of: odoo/odoo#195329",fw-bot,2025-02-03 15:00:54+00:00,[],2025-02-03 16:00:32+00:00,,https://github.com/odoo/odoo/pull/196248,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631246033, 'issue_id': 2827765601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196248.png)](https://mergebot.odoo.com/odoo/odoo/pull/196248)', 'created_at': datetime.datetime(2025, 2, 3, 15, 0, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631246057, 'issue_id': 2827765601, 'author': 'fw-bot', 'body': '@nle-odoo this PR targets 18.0 and is the last of the forward-port chain containing:\n* odoo/odoo#196221\n* odoo/odoo#195917\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 15, 0, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 15:00:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196248.png)](https://mergebot.odoo.com/odoo/odoo/pull/196248)

fw-bot (Issue Creator) on (2025-02-03 15:00:56 UTC): @nle-odoo this PR targets 18.0 and is the last of the forward-port chain containing:
* odoo/odoo#196221
* odoo/odoo#195917

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827750679,pull_request,open,,"[IMP] stock, product_expiry: inventory report bugfixes","7. The expiration date no longer displays the (arbitrarily determined) time in delivery slips.

Task ID: [3981936](https://www.odoo.com/odoo/project/966/tasks/3981936)",lugr-odoo,2025-02-03 14:55:07+00:00,[],2025-02-03 15:00:11+00:00,,https://github.com/odoo/odoo/pull/196246,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631230600, 'issue_id': 2827750679, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196246.png)](https://mergebot.odoo.com/odoo/odoo/pull/196246)', 'created_at': datetime.datetime(2025, 2, 3, 14, 55, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:55:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196246.png)](https://mergebot.odoo.com/odoo/odoo/pull/196246)

"
2827731068,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: better display of the EAS field,"Let's increase the label size since the EAS are quite long.

task-no

Before:
![image](https://github.com/user-attachments/assets/9dc51ce9-37e3-4c33-8f7f-d076d246360d)

After:
![image](https://github.com/user-attachments/assets/384ebe11-3b7d-4723-b8b5-a1927cdbdd15)

Forward-Port-Of: odoo/odoo#196153",fw-bot,2025-02-03 14:47:30+00:00,[],2025-02-04 11:32:21+00:00,2025-02-04 11:32:20+00:00,https://github.com/odoo/odoo/pull/196245,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631210484, 'issue_id': 2827731068, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196245.png)](https://mergebot.odoo.com/odoo/odoo/pull/196245)', 'created_at': datetime.datetime(2025, 2, 3, 14, 47, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631210525, 'issue_id': 2827731068, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 47, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631440574, 'issue_id': 2827731068, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl the next pull request (odoo/odoo#196273) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 10, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633263663, 'issue_id': 2827731068, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 56, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:47:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196245.png)](https://mergebot.odoo.com/odoo/odoo/pull/196245)

fw-bot (Issue Creator) on (2025-02-03 14:47:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 16:10:14 UTC): @clbr-odoo @smetl the next pull request (odoo/odoo#196273) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-02-04 08:56:42 UTC): @robodoo r+

"
2827730247,pull_request,closed,,[FW][FIX] html_editor: fix avatar flicker on collaborative updates,"### Steps to reproduce:

- Open the same document in two tabs.
- Press Enter multiple times in one tab.
- Observe the avatar flickers on the other tab with each Enter press.

### Description of the issue/feature this PR addresses:

- `refreshSelection` replaced `this.avatarOverlay` children and re-appended the avatar element in `drawPeerAvatar`, causing flicker.

### Desired behavior after PR is merged:

- The avatar no longer flickers when pressing Enter.

task-4367144

Forward-Port-Of: odoo/odoo#192130",fw-bot,2025-02-03 14:47:10+00:00,[],2025-02-04 04:10:31+00:00,2025-02-04 04:10:31+00:00,https://github.com/odoo/odoo/pull/196244,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631209579, 'issue_id': 2827730247, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196244.png)](https://mergebot.odoo.com/odoo/odoo/pull/196244)', 'created_at': datetime.datetime(2025, 2, 3, 14, 47, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631209607, 'issue_id': 2827730247, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 47, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:47:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196244.png)](https://mergebot.odoo.com/odoo/odoo/pull/196244)

fw-bot (Issue Creator) on (2025-02-03 14:47:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827729744,pull_request,open,,"[REF] point_of_sale, pos_*: one model per file","*: pos_mrp, pos_sale, pos_self_order

See commit title.

",davidmonnom,2025-02-03 14:46:58+00:00,[],2025-02-03 15:00:14+00:00,,https://github.com/odoo/odoo/pull/196243,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631209114, 'issue_id': 2827729744, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196243.png)](https://mergebot.odoo.com/odoo/odoo/pull/196243)', 'created_at': datetime.datetime(2025, 2, 3, 14, 47, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:47:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196243.png)](https://mergebot.odoo.com/odoo/odoo/pull/196243)

"
2827729415,pull_request,closed,,[FW][FIX] web: don't apply domain to subfields in export dialog,"**Steps to reproduce**
1. Have Stock and Sales installed.
2. Go to the Sales list view of products, have more than 1 page of products.
3. Select all the products on the current page by checking the checkbox
on the first line. After that, click on ""Select all"" to select all
products.
4. Actions > Export
5. Select ""Products"" (`product_variant_ids`) and then ""Products/Stock Quant""
(`stock_quant_ids`).
`ValueError: Invalid field stock.quant.sale_ok in leaf ('sale_ok', '=', True)`

**Change**
Only use the domain of the list view to filter fields when the export dialog
is opened. The domain should only be used for that and not when `getExportFields`
is called when clicking on one of the children fields of the root model.

opw-4408457

Forward-Port-Of: odoo/odoo#193567",fw-bot,2025-02-03 14:46:50+00:00,[],2025-02-04 04:10:42+00:00,2025-02-04 04:10:42+00:00,https://github.com/odoo/odoo/pull/196242,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631208688, 'issue_id': 2827729415, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196242.png)](https://mergebot.odoo.com/odoo/odoo/pull/196242)', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631208717, 'issue_id': 2827729415, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:46:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196242.png)](https://mergebot.odoo.com/odoo/odoo/pull/196242)

fw-bot (Issue Creator) on (2025-02-03 14:46:52 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827728588,pull_request,closed,,[FW][FIX] stock: fix traceback when the user tries to create a new putawaay rules,"Currently, a traceback is occurring when the user tries to create
a new put-away record and remove the `location_in_id`.

To reproduce this issue:

1) Install Inventory
2) Enable multi-step routes from inventory settings 
3) Create a new putaway rules record from inventory configuration 
4) Remove the `when product arrives in` value

Error:-
```
TypeError: startswith first arg must be str or a tuple of str, not bool
```

When the user removes the `location_in_id`, an onchange method `_onchange_location_in` triggers.

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/product_strategy.py#L80-L83

We get the `loc_in` value as an empty recordset, because the user removed the `location_in_id` value.

So it will lead to the above traceback from the below line

https://github.com/odoo/odoo/blob/239d18c8689d38e11783716b7e14a5204daed98a/addons/stock/models/stock_location.py#L453-L455

sentry-6210564390

Forward-Port-Of: odoo/odoo#195808
Forward-Port-Of: odoo/odoo#195555",fw-bot,2025-02-03 14:46:29+00:00,[],2025-02-04 07:00:59+00:00,2025-02-04 07:00:59+00:00,https://github.com/odoo/odoo/pull/196241,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631207801, 'issue_id': 2827728588, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196241.png)](https://mergebot.odoo.com/odoo/odoo/pull/196241)', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631207830, 'issue_id': 2827728588, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:46:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196241.png)](https://mergebot.odoo.com/odoo/odoo/pull/196241)

fw-bot (Issue Creator) on (2025-02-03 14:46:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827727691,pull_request,closed,,[FW][IMP] account: Add a way to force manual tax/base amounts to the taxes computation,"---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195003",fw-bot,2025-02-03 14:46:08+00:00,[],2025-02-05 10:15:57+00:00,2025-02-05 10:15:57+00:00,https://github.com/odoo/odoo/pull/196240,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631206933, 'issue_id': 2827727691, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196240.png)](https://mergebot.odoo.com/odoo/odoo/pull/196240)', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631207005, 'issue_id': 2827727691, 'author': 'fw-bot', 'body': '@smetl @clbr-odoo cherrypicking of pull request odoo/odoo#195003 failed.\n\n* 83162fc608e51163ad9a46ba9293383142f4ad7d\n* fd3a3f07d47d53089b1ea12886973796576f0301 <- on this commit\n* 825c173d7b4b2ab0cc70529afdec31b7d9a0436b\n\nstdout:\n```\nAuto-merging addons/account/models/account_tax.py\nAuto-merging addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order_line.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634212677, 'issue_id': 2827727691, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 14, 50, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634403053, 'issue_id': 2827727691, 'author': 'robodoo', 'body': '@smetl @clbr-odoo linked pull request(s) odoo/enterprise#78409 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 4, 16, 0, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:46:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196240.png)](https://mergebot.odoo.com/odoo/odoo/pull/196240)

fw-bot (Issue Creator) on (2025-02-03 14:46:12 UTC): @smetl @clbr-odoo cherrypicking of pull request odoo/odoo#195003 failed.

* 83162fc608e51163ad9a46ba9293383142f4ad7d
* fd3a3f07d47d53089b1ea12886973796576f0301 <- on this commit
* 825c173d7b4b2ab0cc70529afdec31b7d9a0436b

stdout:
```
Auto-merging addons/account/models/account_tax.py
Auto-merging addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order_line.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-02-04 14:50:56 UTC): @robodoo r+

robodoo on (2025-02-04 16:00:04 UTC): @smetl @clbr-odoo linked pull request(s) odoo/enterprise#78409 not ready. Linked PRs are not staged until all of them are ready.

"
2827726452,pull_request,closed,,[FW][FIX] l10n_jo_edi: Fixed problems in exported XML precision,"There were problems reported on some invoices caused by rounding errors.
This PR solves these problems, and adds more test cases to the precision unit tests.

task-4464702
task-4509607




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195681
Forward-Port-Of: odoo/odoo#194813",fw-bot,2025-02-03 14:45:39+00:00,[],2025-02-04 04:10:23+00:00,2025-02-04 04:10:23+00:00,https://github.com/odoo/odoo/pull/196239,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631205634, 'issue_id': 2827726452, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196239.png)](https://mergebot.odoo.com/odoo/odoo/pull/196239)', 'created_at': datetime.datetime(2025, 2, 3, 14, 45, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631205663, 'issue_id': 2827726452, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 45, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:45:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196239.png)](https://mergebot.odoo.com/odoo/odoo/pull/196239)

fw-bot (Issue Creator) on (2025-02-03 14:45:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827725154,pull_request,closed,,[FW][FIX] l10n_it_edi: prevent error when downloading invoice,"This error occurs when an invoice is not initially sent to the tax agency, but we later attempt to print it and send it to the agency.

Steps to reproduce:
---
- Install ``l10n_it_edi`` module
- Switch to ``IT Company``
- Create Customers Invoice > ``Confirm`` > ``Print & Send``
- Disable ``Send to Tax Agency`` > ``Print & Send``
- Now again ``Print & Send`` and ``Print & Send``

Traceback:
---
``KeyError: 'l10n_it_edi_values'``

This commit resolves the error by checking that ``l10n_it_edi_values`` is present in ``move_data``.

sentry-6191573767

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192438",fw-bot,2025-02-03 14:45:09+00:00,[],2025-02-04 04:10:27+00:00,2025-02-04 04:10:27+00:00,https://github.com/odoo/odoo/pull/196238,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631204953, 'issue_id': 2827725154, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196238.png)](https://mergebot.odoo.com/odoo/odoo/pull/196238)', 'created_at': datetime.datetime(2025, 2, 3, 14, 45, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631204982, 'issue_id': 2827725154, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 45, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:45:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196238.png)](https://mergebot.odoo.com/odoo/odoo/pull/196238)

fw-bot (Issue Creator) on (2025-02-03 14:45:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827724263,pull_request,closed,,[FW][FIX] web: action service: soft_reload: reload correct record,"From a list or kanban view with several records, open a record in form view. Then use the pager to navigate to another record. From this point, execute the `soft_reload` client action (e.g. call a python method from a view button, which returns that client action). This client action is supposed to reload the current controller (the form view in this case), without reloading the whole webclient.

Before this commit, the form was indeed reloaded, but the reloaded record was the one we opened first, not the one we reached after navigating with the pager. With this commit, the correct record is reloaded.

Issue spotted for task-3935688

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195907",fw-bot,2025-02-03 14:44:48+00:00,[],2025-02-04 09:46:41+00:00,2025-02-04 09:46:41+00:00,https://github.com/odoo/odoo/pull/196237,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631204892, 'issue_id': 2827724263, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196237.png)](https://mergebot.odoo.com/odoo/odoo/pull/196237)', 'created_at': datetime.datetime(2025, 2, 3, 14, 45, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631204917, 'issue_id': 2827724263, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 45, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631294855, 'issue_id': 2827724263, 'author': 'fw-bot', 'body': '@aab-odoo @jpp-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 15, 15, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:45:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196237.png)](https://mergebot.odoo.com/odoo/odoo/pull/196237)

fw-bot (Issue Creator) on (2025-02-03 14:45:23 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 15:15:24 UTC): @aab-odoo @jpp-odoo ci/runbot failed on this forward-port PR

"
2827723145,pull_request,open,,[IMP] hr_skills: avoid skill type without skill and level,"With this commit a skill type need to have at least one skill and one level.

With this changes, the widget boolean_toggle_load needs to be changed because it was not possible anymore to save the record to retrieve the right default level's value.
To solve this issue, a new field computed, no-readonly, no-stored is introduced. With this compute the frontend send to the backend the default level.

task-4467338
Special thanks to @FrancoisGe and @aab-odoo for their help on this task :D

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mepe-odoo,2025-02-03 14:44:21+00:00,[],2025-02-05 11:58:05+00:00,,https://github.com/odoo/odoo/pull/196236,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631202270, 'issue_id': 2827723145, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196236.png)](https://mergebot.odoo.com/odoo/odoo/pull/196236)', 'created_at': datetime.datetime(2025, 2, 3, 14, 44, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:44:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196236.png)](https://mergebot.odoo.com/odoo/odoo/pull/196236)

"
2827721399,pull_request,closed,,[FW][FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196012",fw-bot,2025-02-03 14:43:48+00:00,[],2025-02-04 04:10:14+00:00,2025-02-04 04:10:14+00:00,https://github.com/odoo/odoo/pull/196235,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631200804, 'issue_id': 2827721399, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196235.png)](https://mergebot.odoo.com/odoo/odoo/pull/196235)', 'created_at': datetime.datetime(2025, 2, 3, 14, 43, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631200837, 'issue_id': 2827721399, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 43, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631276151, 'issue_id': 2827721399, 'author': 'nim-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 15, 9, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:43:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196235.png)](https://mergebot.odoo.com/odoo/odoo/pull/196235)

fw-bot (Issue Creator) on (2025-02-03 14:43:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nim-odoo on (2025-02-03 15:09:01 UTC): robodoo r+

"
2827720612,pull_request,closed,,"[FW][FIX] hr_holidays: no activity when ""Notified Time Off Officer"" empty","steps to reproduce:
-Create a new time off type.
-Set the approval radio button to either ""By Time Off Officer"" or ""By Employee's Approver and Time Off Officer.""
-Leave the ""Notified Time Off Officer"" field empty. 
-Try to create a new allocation for the newly created time off type. 
-Notice that an activity is created for the user who created the allocation.

cause:
When the ""Notified Time Off Officer"" field is left empty, no activity or email should be created.

solution:
Remove self.env.user.ids to prevent the creation of an activity for the user.

task-4351747

Forward-Port-Of: odoo/odoo#189407",fw-bot,2025-02-03 14:43:29+00:00,[],2025-02-04 04:10:19+00:00,2025-02-04 04:10:18+00:00,https://github.com/odoo/odoo/pull/196234,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631200001, 'issue_id': 2827720612, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196234.png)](https://mergebot.odoo.com/odoo/odoo/pull/196234)', 'created_at': datetime.datetime(2025, 2, 3, 14, 43, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631200026, 'issue_id': 2827720612, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 43, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:43:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196234.png)](https://mergebot.odoo.com/odoo/odoo/pull/196234)

fw-bot (Issue Creator) on (2025-02-03 14:43:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827712697,pull_request,closed,,[FW][FIX] web: fix export for inherited properties,"Try to export one selected product.product generate a traceback due to the `_get_property_fields` that doesn't manage inherited properties.


opw-4438752

Forward-Port-Of: odoo/odoo#195787",fw-bot,2025-02-03 14:40:37+00:00,[],2025-02-04 10:32:41+00:00,2025-02-04 10:32:41+00:00,https://github.com/odoo/odoo/pull/196233,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631192452, 'issue_id': 2827712697, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196233.png)](https://mergebot.odoo.com/odoo/odoo/pull/196233)', 'created_at': datetime.datetime(2025, 2, 3, 14, 40, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631192481, 'issue_id': 2827712697, 'author': 'fw-bot', 'body': '@ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196208\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 40, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632990343, 'issue_id': 2827712697, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 25, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:40:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196233.png)](https://mergebot.odoo.com/odoo/odoo/pull/196233)

fw-bot (Issue Creator) on (2025-02-03 14:40:39 UTC): @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196208

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-02-04 06:25:47 UTC): @robodoo r+

"
2827710979,pull_request,closed,,[FW][FIX] pos_loyalty: avoid setting expiration date,"In commit https://github.com/odoo/odoo/commit/837e67e82d4cf662b2dcd5d5750253dbc080bd96 we prevent setting expiration date
on `loyalty` type programs for UI and wanted to ensure expiration
date is not set on loyalty cards.

This PR remove a line which is setting expiration date on
`loyalty` type program in POS which missed during forward port
PR https://github.com/odoo/odoo/pull/183044

Forward-Port-Of: odoo/odoo#196121",fw-bot,2025-02-03 14:39:57+00:00,[],2025-02-04 10:32:01+00:00,2025-02-04 10:32:01+00:00,https://github.com/odoo/odoo/pull/196232,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631190625, 'issue_id': 2827710979, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196232.png)](https://mergebot.odoo.com/odoo/odoo/pull/196232)', 'created_at': datetime.datetime(2025, 2, 3, 14, 39, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631190647, 'issue_id': 2827710979, 'author': 'fw-bot', 'body': '@kcv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196213\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 39, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632790478, 'issue_id': 2827710979, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 4, 29, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:39:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196232.png)](https://mergebot.odoo.com/odoo/odoo/pull/196232)

fw-bot (Issue Creator) on (2025-02-03 14:39:59 UTC): @kcv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196213

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-02-04 04:29:21 UTC): @robodoo r+

"
2827705738,pull_request,open,,[FW][FIX] website: facebook snippet visibility on mobile,"Revert changes from [commit] due to `m.facebook.com` using 'X-Frame-Options' header set to 'deny', which prevented iframe embedding across domains. META has now fixed this issue, so this PR restores the snippet's visibility on mobile devices.

[commit]: https://github.com/odoo/odoo/commit/588f910da03d6284a57c2fab8fd042ef3169666f

task-4507102

Forward-Port-Of: odoo/odoo#196108
Forward-Port-Of: odoo/odoo#194843",fw-bot,2025-02-03 14:38:00+00:00,[],2025-02-03 15:00:29+00:00,,https://github.com/odoo/odoo/pull/196231,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631185651, 'issue_id': 2827705738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196231.png)](https://mergebot.odoo.com/odoo/odoo/pull/196231)', 'created_at': datetime.datetime(2025, 2, 3, 14, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631185688, 'issue_id': 2827705738, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196211\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 38, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:38:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196231.png)](https://mergebot.odoo.com/odoo/odoo/pull/196231)

fw-bot (Issue Creator) on (2025-02-03 14:38:03 UTC): @shsa-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196211

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827703195,pull_request,closed,,[FW][FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195962",fw-bot,2025-02-03 14:37:02+00:00,[],2025-02-04 09:04:39+00:00,2025-02-04 09:04:39+00:00,https://github.com/odoo/odoo/pull/196230,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631183148, 'issue_id': 2827703195, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196230.png)](https://mergebot.odoo.com/odoo/odoo/pull/196230)', 'created_at': datetime.datetime(2025, 2, 3, 14, 37, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631183186, 'issue_id': 2827703195, 'author': 'fw-bot', 'body': '@rousseldenis @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196216\n* odoo/odoo#196098\n* odoo/odoo#196096\n* odoo/odoo#196093\n* odoo/odoo#196091\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 37, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631563085, 'issue_id': 2827703195, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 59, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:37:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196230.png)](https://mergebot.odoo.com/odoo/odoo/pull/196230)

fw-bot (Issue Creator) on (2025-02-03 14:37:04 UTC): @rousseldenis @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196216
* odoo/odoo#196098
* odoo/odoo#196096
* odoo/odoo#196093
* odoo/odoo#196091

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-02-03 16:59:51 UTC): @robodoo r+

"
2827691047,pull_request,closed,,[FW][FIX] uom: be able to modify the UoM on product template,"The constraint to change the main UoM of a product has been removed.
Globally on advanced case, it will result in a data corruption.

There is two different use case when modifying the UoM of product.
First, the user wants to manage the product flow to handle a different packaging
by default (e.g. unit to pack of 6). In this case, the previous
documents (SO/PO/...) can be trust and we need to update the current inventory
in consequence (30 units -> 5 pack of 6).
Second, he made a mistake or install the UoM setting and wants to update
the everything at once. In this case we set the new UoM everywhere and
we don't do any re-computation.

Both flows are valid use cases but we choose to handle the second for a
better on boarding of new users.

In order to do it, we check if all the documents are in the base UoM and
if it's possible to modify them everywhere without any computation. If
not, we block as before. If yes, we update all the stored many2one for
UoM accordingly.

Forward-Port-Of: odoo/odoo#195052",fw-bot,2025-02-03 14:32:16+00:00,[],2025-02-04 23:35:44+00:00,2025-02-04 23:35:44+00:00,https://github.com/odoo/odoo/pull/196229,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631170559, 'issue_id': 2827691047, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196229.png)](https://mergebot.odoo.com/odoo/odoo/pull/196229)', 'created_at': datetime.datetime(2025, 2, 3, 14, 32, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631170631, 'issue_id': 2827691047, 'author': 'fw-bot', 'body': '@amoyaux this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 32, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633456804, 'issue_id': 2827691047, 'author': 'amoyaux', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 17, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:32:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196229.png)](https://mergebot.odoo.com/odoo/odoo/pull/196229)

fw-bot (Issue Creator) on (2025-02-03 14:32:21 UTC): @amoyaux this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

amoyaux on (2025-02-04 10:17:22 UTC): @robodoo r+

"
2827652729,pull_request,closed,,[FW][FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193255",fw-bot,2025-02-03 14:19:08+00:00,[],2025-02-04 08:36:36+00:00,2025-02-04 08:36:36+00:00,https://github.com/odoo/odoo/pull/196228,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631134364, 'issue_id': 2827652729, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196228.png)](https://mergebot.odoo.com/odoo/odoo/pull/196228)', 'created_at': datetime.datetime(2025, 2, 3, 14, 19, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631134390, 'issue_id': 2827652729, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 14, 19, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:19:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196228.png)](https://mergebot.odoo.com/odoo/odoo/pull/196228)

fw-bot (Issue Creator) on (2025-02-03 14:19:10 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827641998,pull_request,open,,[FIX] mrp: correctly update MO consumption quantities on kit BoM update,"Issue
-----
When using the ""Update BOM"" button for a confirmed manufacturing order, quantities for components derived from kit products are incorrectly updated to the kit product's bom instead of the new required quantity.

Steps to reproduce
-----
- Install Manufacturing app
- Ensure Lots are enabled in the Inventory settings
- Create 3 products, ""Kit"", ""Consumable"" and ""Final""
- Create a Bill of Materials for ""Kit""
    - Add ""Consumable"" as a component, with a required quantity of 2
    - Set the BoM Type to Kit
- Create a Bill of Materials for ""Final""
    - Add ""Kit"" as a component, with a required quantity of 2
- Create a Manufacturing Order for 1 unit of ""Final""
    - Use the freshly created BoM for the MO
- Confirm the MO
- Open the BoM (click the link in the form)
- Update the quantity of the bom line to 3 (for component ""Kit"") & save the BoM
- Go back to the MO and click ""Udate BoM"" -> The ""To Consume"" quantity changes from 4 to 2 instead of 6

Cause
-----
When the MO is in confirmed state, the lines cannot simply be unlinked like draft ones. Instead, the bom is exploded and the new values are computed using the child bom quantities instead of the exploded quantities. We can just use the exploded quantities as those are correctly computed.

-----
Ticket:
opw-4473337
",vandroogenbd,2025-02-03 14:15:14+00:00,[],2025-02-07 10:30:30+00:00,,https://github.com/odoo/odoo/pull/196227,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631124409, 'issue_id': 2827641998, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196227.png)](https://mergebot.odoo.com/odoo/odoo/pull/196227)', 'created_at': datetime.datetime(2025, 2, 3, 14, 15, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 14:15:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196227.png)](https://mergebot.odoo.com/odoo/odoo/pull/196227)

"
2827601063,pull_request,closed,,[FIX] website_slides: course changes in the middle of the tour,"The slide course member tour tests use a channel called `Basics of Gardening - Test`. When the course is completed, clicking on `End course` will redirect the user to the courses home page. Since there is already a course (from demo data) called `Basics of Gardening`, the selector in the tour test actually selects this as the first match not the test course and the tour continues with the wrong course. It doesn't crash because both demo and test courses are public, so it's possible for demo and portal users to access them anyway and add/update a comment is done on the demo course.

By this commit:
 - Demo data is removed in the tests to ensure that there is no collision between demo data and test data.
 - Since there are no predefined messages in the test data (the tour flow relied on the demo data messages before), the `update` does not happen in the tour without demo data. Some extra steps are also added to check the update message .

",maki-odoo,2025-02-03 13:59:49+00:00,[],2025-02-04 14:19:32+00:00,2025-02-04 14:12:57+00:00,https://github.com/odoo/odoo/pull/196226,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631084900, 'issue_id': 2827601063, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196226.png)](https://mergebot.odoo.com/odoo/odoo/pull/196226)', 'created_at': datetime.datetime(2025, 2, 3, 13, 59, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634090092, 'issue_id': 2827601063, 'author': 'maki-odoo', 'body': 'Moved to V.18.0 odoo/odoo#196445', 'created_at': datetime.datetime(2025, 2, 4, 14, 12, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:59:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196226.png)](https://mergebot.odoo.com/odoo/odoo/pull/196226)

maki-odoo (Issue Creator) on (2025-02-04 14:12:57 UTC): Moved to V.18.0 odoo/odoo#196445

"
2827587423,pull_request,open,,[IMP] web: improve visual x2many kanban on small screen,"task-4480558

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rfr-odoo,2025-02-03 13:54:55+00:00,['rfr-odoo'],2025-02-04 08:21:57+00:00,,https://github.com/odoo/odoo/pull/196225,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631073150, 'issue_id': 2827587423, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196225.png)](https://mergebot.odoo.com/odoo/odoo/pull/196225)', 'created_at': datetime.datetime(2025, 2, 3, 13, 54, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:54:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196225.png)](https://mergebot.odoo.com/odoo/odoo/pull/196225)

"
2827575161,pull_request,open,,[IMP] point_of_sale: various UI changes,"This commit brings a few UI refinements for POS module:

- Navbar: Improved UI to better handle certain scenarios
- Orderline: Adjusted spacing for a cleaner layout
- Partner list: Fixed scrolling issues on certain devices
- Numpad dropdown: Ensured proper positioning
- Floor screen: Improved code structure for better maintainability
- Misc.: Fine-tuned padding/margins/buttons

task-4547675

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xlu-odoo,2025-02-03 13:50:26+00:00,[],2025-02-05 14:13:29+00:00,,https://github.com/odoo/odoo/pull/196224,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631061621, 'issue_id': 2827575161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196224.png)](https://mergebot.odoo.com/odoo/odoo/pull/196224)', 'created_at': datetime.datetime(2025, 2, 3, 13, 50, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:50:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196224.png)](https://mergebot.odoo.com/odoo/odoo/pull/196224)

"
2827561381,pull_request,closed,,[FIX] point_of_sale: prevent error with 0 decimal places,"Before this commit, if a currency had zero decimal places, it would cause an error when selling products.

opw-4543742

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-02-03 13:44:55+00:00,[],2025-02-03 17:46:19+00:00,2025-02-03 17:46:19+00:00,https://github.com/odoo/odoo/pull/196223,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631048244, 'issue_id': 2827561381, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196223.png)](https://mergebot.odoo.com/odoo/odoo/pull/196223)', 'created_at': datetime.datetime(2025, 2, 3, 13, 44, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631056791, 'issue_id': 2827561381, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 48, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631127420, 'issue_id': 2827561381, 'author': 'robodoo', 'body': ""@pedrambiria @adgu-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 14, 16, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631213216, 'issue_id': 2827561381, 'author': 'adwid', 'body': ""Hello @pedrambiria \r\n\r\nIt seems the issue is affecting a lot of people so thx for the quick fix\r\nBut, for the same reason, can you also protect the use case with a test ? It's definitely worth it\r\n(In this PR or another IMP one, if you want to make the fix merge as fast as possible)\r\n\r\nThx\r\n\r\ncc @adgu-odoo"", 'created_at': datetime.datetime(2025, 2, 3, 14, 48, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631232415, 'issue_id': 2827561381, 'author': 'pedrambiria', 'body': '@adwid Hello,\r\nIndeed, a test is required, but I’m working to resolve the issue as quickly as possible.', 'created_at': datetime.datetime(2025, 2, 3, 14, 55, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631334230, 'issue_id': 2827561381, 'author': 'pedrambiria', 'body': 'robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 15, 30, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631334323, 'issue_id': 2827561381, 'author': 'robodoo', 'body': '@pedrambiria retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 2, 3, 15, 30, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:44:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196223.png)](https://mergebot.odoo.com/odoo/odoo/pull/196223)

adgu-odoo on (2025-02-03 13:48:32 UTC): robodoo r+

robodoo on (2025-02-03 14:16:28 UTC): @pedrambiria @adgu-odoo 'ci/runbot' failed on this reviewed PR.

adwid on (2025-02-03 14:48:31 UTC): Hello @pedrambiria 

It seems the issue is affecting a lot of people so thx for the quick fix
But, for the same reason, can you also protect the use case with a test ? It's definitely worth it
(In this PR or another IMP one, if you want to make the fix merge as fast as possible)

Thx

cc @adgu-odoo

pedrambiria (Issue Creator) on (2025-02-03 14:55:51 UTC): @adwid Hello,
Indeed, a test is required, but I’m working to resolve the issue as quickly as possible.

pedrambiria (Issue Creator) on (2025-02-03 15:30:01 UTC): robodoo retry

robodoo on (2025-02-03 15:30:04 UTC): @pedrambiria retry makes no sense when the PR is not in error.

"
2827559588,pull_request,open,,[FIX] purchase_stock: no extra SVL on return of return with exch. diff,"**Current behavior:**
For `real_time`, `avco` prod:
When posting the bill of a reception which originated from a PO with a foreign currency, if a return for the receipt was generated as well as a return for that return, there will be an extraneous SVL created which illogically affects the product's `standard_price` (product value has increased from nowhere).

**Expected behavior:**
The product cost prior to posting the bill and after posting the bill is equal.

**Steps to reproduce:**
1. Create an `avco` + `real_time` costing/valuated productA

2. Activate 2 additional currencies + give them unique exchange rates

3. Create a purchase order in the first of the two additional currencies, for `N` units of productA at $`price_unit`

4. Confirm the PO -> receive the product

5. Create another purchase order in the second of the two currencies, again `N` units @ $`price_unit`

6. Confirm + receive, then generate a return for this reception

7. Generate a return for the return of step 6

8. Note the current `standar_price` of ProductA

9. For the second purchase order (the one with the returns) create the vendor bill

10. Observe that the `standard_price` of ProductA has increased without any legitimate basis

**Cause of the issue:**
In `_generate_price_difference_vals`:
https://github.com/odoo/odoo/blob/55658e7f43375d7e1af07293e2cd9d1cc4b33883/addons/purchase_stock/models/account_move_line.py#L307-L314 We operate with the assumption that, because we are in a return of a return, any existing pdiff will have already been compensated for- so we take the POL price unit at face value to compare with the AML price unit.

But, in case the POL and AML are in different currencies, this will fail to prevent a pdiff SVL from being created.

**Fix:**
Convert the purchase line's returned price unit to the currency used by the layer for which we are finding the pdiff.

opw-4334372",ethanrobv,2025-02-03 13:44:08+00:00,[],2025-02-04 13:14:52+00:00,,https://github.com/odoo/odoo/pull/196222,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631046521, 'issue_id': 2827559588, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196222.png)](https://mergebot.odoo.com/odoo/odoo/pull/196222)', 'created_at': datetime.datetime(2025, 2, 3, 13, 44, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:44:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196222.png)](https://mergebot.odoo.com/odoo/odoo/pull/196222)

"
2827551410,pull_request,open,,[FW][FIX] base: show all groups menu in group view,"Scenario: set a menu to be visible only to a group you don't have
Result: the menu is not shown in the list of menu on the group form view

Why: in 17.0, web_read was added that is adding a search for ordering
results of x2many according to order in specification. This is
interfering with custom code of ir.ui.menu that is filtering out menu
that are not visible (in the interface) to you.

Fix: add context key that bypass the ir.ui.menu filtering in the
res.groups window action.

opw-4376374

Forward-Port-Of: odoo/odoo#195329",fw-bot,2025-02-03 13:40:47+00:00,[],2025-02-03 14:00:17+00:00,,https://github.com/odoo/odoo/pull/196221,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631038315, 'issue_id': 2827551410, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196221.png)](https://mergebot.odoo.com/odoo/odoo/pull/196221)', 'created_at': datetime.datetime(2025, 2, 3, 13, 40, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631038332, 'issue_id': 2827551410, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 40, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:40:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196221.png)](https://mergebot.odoo.com/odoo/odoo/pull/196221)

fw-bot (Issue Creator) on (2025-02-03 13:40:49 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827547960,pull_request,closed,,[FW][FIX] web: correctly detect empty fields,"At two different places, we try to determine if the value of an html field is empty. To do so, we create a node on the fly and set its innerHTML to that value. Then, we check if the element has a non-empty innerText. However, this doesn't work as expected if the given value is a text instead of a markuped html. This commit fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196036
Forward-Port-Of: odoo/odoo#195909",fw-bot,2025-02-03 13:39:22+00:00,[],2025-02-03 14:46:03+00:00,2025-02-03 14:46:03+00:00,https://github.com/odoo/odoo/pull/196220,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631035220, 'issue_id': 2827547960, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196220.png)](https://mergebot.odoo.com/odoo/odoo/pull/196220)', 'created_at': datetime.datetime(2025, 2, 3, 13, 39, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631035241, 'issue_id': 2827547960, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 39, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631148664, 'issue_id': 2827547960, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 14, 24, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:39:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196220.png)](https://mergebot.odoo.com/odoo/odoo/pull/196220)

fw-bot (Issue Creator) on (2025-02-03 13:39:32 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 14:24:33 UTC): @aab-odoo @kebeclibre ci/runbot failed on this forward-port PR

"
2827533710,pull_request,open,,"[IMP] point_of_sale, *:  introduce dark mode","*: pos_loyalty, pos_restaurant, pos_sms

This commit adds dark mode support to the POS (Point of Sale) module

Requires: https://github.com/odoo/enterprise/pull/78400

Task-4488031

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xlu-odoo,2025-02-03 13:33:28+00:00,[],2025-02-07 16:13:45+00:00,,https://github.com/odoo/odoo/pull/196219,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631020939, 'issue_id': 2827533710, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196219.png)](https://mergebot.odoo.com/odoo/odoo/pull/196219)', 'created_at': datetime.datetime(2025, 2, 3, 13, 33, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:33:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196219.png)](https://mergebot.odoo.com/odoo/odoo/pull/196219)

"
2827504038,pull_request,closed,,[MOV] base: move create menu wizard in its own file,"Does not really belong to ir.model.
",tde-banana-odoo,2025-02-03 13:21:15+00:00,[],2025-02-04 11:58:59+00:00,2025-02-04 11:58:59+00:00,https://github.com/odoo/odoo/pull/196218,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2630992604, 'issue_id': 2827504038, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196218.png)](https://mergebot.odoo.com/odoo/odoo/pull/196218)', 'created_at': datetime.datetime(2025, 2, 3, 13, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633060645, 'issue_id': 2827504038, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 12, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:21:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196218.png)](https://mergebot.odoo.com/odoo/odoo/pull/196218)

tde-banana-odoo (Issue Creator) on (2025-02-04 07:12:35 UTC): @robodoo r+

"
2827497451,pull_request,closed,,[FIX] sale_pdf_quote_builder: prevent error when uploading document,"When attempting to upload a file in the ``Quotation Templates`` without saving the template first, an error occurs in the terminal.

Steps to reproduce:
---
- Install the ``sale_management`` module
- Sales > Configuration > Sales Order > Quotation Templates
- Create New > Add a name(Don't save)> Quote Builder > Click on Upload
- Try to upload a file

Traceback:
---
``ValueError: invalid literal for int() with base 10: 'false'``

Previous Behaviour:
---
When entering the name of ``Quotation Templates`` (Don't Save), the Notebook page of ``Quote Builder`` appears, and an error occurs upon uploading the document.

Solution:
---
Initially, we were checking for invisibility based on the name. However, we now display the view when an ID is retrieved, ensuring the page remains hidden until it is saved.

sentry-5963406254

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-02-03 13:18:28+00:00,[],2025-02-06 15:43:40+00:00,2025-02-06 15:43:40+00:00,https://github.com/odoo/odoo/pull/196217,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630986413, 'issue_id': 2827497451, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196217.png)](https://mergebot.odoo.com/odoo/odoo/pull/196217)', 'created_at': datetime.datetime(2025, 2, 3, 13, 18, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639719682, 'issue_id': 2827497451, 'author': 'aamo-odoo', 'body': ""> Indeed, nice catch! Wouldn't it be even better to force-save when uploading a document?\r\n\r\nI don't think it works that way, as the `Quote Builder` notebook page appears only after the record is saved. As the `Quotation Template` ID is required in the document when adding a document to it.\r\n\r\nAnd the button is dynamic. When I tried adding `force_save` at [1], where the upload button is called, it didn’t work.\r\n\r\n[1]- https://github.com/odoo/odoo/blob/4946ecdbcca45118c44dadda70352a4a20206a74/addons/sale_pdf_quote_builder/static/src/js/quotation_document_kanban/quotation_document_kanban_widget.xml#L8-L15"", 'created_at': datetime.datetime(2025, 2, 6, 12, 40, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:18:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196217.png)](https://mergebot.odoo.com/odoo/odoo/pull/196217)

aamo-odoo (Issue Creator) on (2025-02-06 12:40:35 UTC): I don't think it works that way, as the `Quote Builder` notebook page appears only after the record is saved. As the `Quotation Template` ID is required in the document when adding a document to it.

And the button is dynamic. When I tried adding `force_save` at [1], where the upload button is called, it didn’t work.

[1]- https://github.com/odoo/odoo/blob/4946ecdbcca45118c44dadda70352a4a20206a74/addons/sale_pdf_quote_builder/static/src/js/quotation_document_kanban/quotation_document_kanban_widget.xml#L8-L15

"
2827489024,pull_request,closed,,[FW][FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195962",fw-bot,2025-02-03 13:15:04+00:00,[],2025-02-04 04:10:46+00:00,2025-02-04 04:10:46+00:00,https://github.com/odoo/odoo/pull/196216,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630978206, 'issue_id': 2827489024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196216.png)](https://mergebot.odoo.com/odoo/odoo/pull/196216)', 'created_at': datetime.datetime(2025, 2, 3, 13, 15, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630978225, 'issue_id': 2827489024, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 15, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:15:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196216.png)](https://mergebot.odoo.com/odoo/odoo/pull/196216)

fw-bot (Issue Creator) on (2025-02-03 13:15:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827483543,pull_request,closed,,[FW][FIX] web: prevent crash on website editor,"__Current behavior before commit:__
jQuery has been removed from `web.assets_backend` in [`b8fc93e`][1], now it's dynamically added with the `ensureJQuery` method. A lot of customers put `web/static/lib/jquery/jquery.js` in `web.assets_backend` (using custom modules) but not `web/static/src/legacy/js/libs/jquery.js`. Therefore `ensureJQuery` doesn't fetch `web._assets_jquery` and therefore
`web/static/src/legacy/js/libs/jquery.js` is never included.

__Description of the fix:__
If jQuery is present, check if the method `getScrollingElement` is defined in jQuery.fn. If not load `/web/static/src/legacy/js/libs/jquery.js`.

__Steps to reproduce the issue in local:__
1. Add back ""web/static/lib/jquery/jquery.js"" in the `web.assets_backend` entry of `addons/web/\_\_manifest\_\_.py` to simulate that a customer added it in a custom module.
2. Open the database and Refresh Assets in the debug menu
3. Try to open the editor Crash: ""TypeError: $(...).getScrollingElement is not a function""

opw-4499576

[1]: https://github.com/odoo/odoo/commit/b8fc93ea97b8

Forward-Port-Of: odoo/odoo#195092",fw-bot,2025-02-03 13:12:40+00:00,[],2025-02-04 07:42:31+00:00,2025-02-04 07:42:31+00:00,https://github.com/odoo/odoo/pull/196215,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630973076, 'issue_id': 2827483543, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196215.png)](https://mergebot.odoo.com/odoo/odoo/pull/196215)', 'created_at': datetime.datetime(2025, 2, 3, 13, 12, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630973094, 'issue_id': 2827483543, 'author': 'fw-bot', 'body': '@Dj0ulo @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195350\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 12, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630976431, 'issue_id': 2827483543, 'author': 'Dj0ulo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 14, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:12:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196215.png)](https://mergebot.odoo.com/odoo/odoo/pull/196215)

fw-bot (Issue Creator) on (2025-02-03 13:12:41 UTC): @Dj0ulo @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195350

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Dj0ulo on (2025-02-03 13:14:16 UTC): @robodoo r+

"
2827482813,pull_request,closed,,"[FW][FIX] digest, various: fix URLs to new format","Some URLs in the digest emails are currently broken due to an outdated URL format.

### Steps to reproduce

* Install `digest` and `crm` modules
* Go to Settings > Technical > Digest Emails
* Select the ""Your Odoo Periodic Digest"" digest and send it
* Check the sent email and click on any of the ""Open Email"" links

You should encounter an error indicating that the action does not exist.

Although the reproduction steps use the `crm` module as an example, this issue occurs with all the modules listed in the title.

### Cause

The ""Open Report"" URLs were not updated to account for the new URL format.

opw-4405288
opw-4502625

Forward-Port-Of: odoo/odoo#193997",fw-bot,2025-02-03 13:12:21+00:00,[],2025-02-04 04:10:01+00:00,2025-02-04 04:10:01+00:00,https://github.com/odoo/odoo/pull/196214,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630972367, 'issue_id': 2827482813, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196214.png)](https://mergebot.odoo.com/odoo/odoo/pull/196214)', 'created_at': datetime.datetime(2025, 2, 3, 13, 12, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630972384, 'issue_id': 2827482813, 'author': 'fw-bot', 'body': '@ushyme @epictete cherrypicking of pull request odoo/odoo#193997 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/digest.py\nCONFLICT (content): Merge conflict in addons/account/models/digest.py\nAuto-merging addons/crm/models/digest.py\nCONFLICT (content): Merge conflict in addons/crm/models/digest.py\nAuto-merging addons/hr_recruitment/models/digest.py\nAuto-merging addons/point_of_sale/models/digest.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/digest.py\nAuto-merging addons/project/models/digest_digest.py\nCONFLICT (content): Merge conflict in addons/project/models/digest_digest.py\nAuto-merging addons/sale_management/models/digest.py\nCONFLICT (content): Merge conflict in addons/sale_management/models/digest.py\nAuto-merging addons/website_sale/models/digest.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 12, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630995277, 'issue_id': 2827482813, 'author': 'ushyme', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 22, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:12:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196214.png)](https://mergebot.odoo.com/odoo/odoo/pull/196214)

fw-bot (Issue Creator) on (2025-02-03 13:12:23 UTC): @ushyme @epictete cherrypicking of pull request odoo/odoo#193997 failed.

stdout:
```
Auto-merging addons/account/models/digest.py
CONFLICT (content): Merge conflict in addons/account/models/digest.py
Auto-merging addons/crm/models/digest.py
CONFLICT (content): Merge conflict in addons/crm/models/digest.py
Auto-merging addons/hr_recruitment/models/digest.py
Auto-merging addons/point_of_sale/models/digest.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/digest.py
Auto-merging addons/project/models/digest_digest.py
CONFLICT (content): Merge conflict in addons/project/models/digest_digest.py
Auto-merging addons/sale_management/models/digest.py
CONFLICT (content): Merge conflict in addons/sale_management/models/digest.py
Auto-merging addons/website_sale/models/digest.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ushyme on (2025-02-03 13:22:30 UTC): @robodoo r+

"
2827482079,pull_request,closed,,[FW][FIX] pos_loyalty: avoid setting expiration date,"In commit https://github.com/odoo/odoo/commit/837e67e82d4cf662b2dcd5d5750253dbc080bd96 we prevent setting expiration date
on `loyalty` type programs for UI and wanted to ensure expiration
date is not set on loyalty cards.

This PR remove a line which is setting expiration date on
`loyalty` type program in POS which missed during forward port
PR https://github.com/odoo/odoo/pull/183044

Forward-Port-Of: odoo/odoo#196121",fw-bot,2025-02-03 13:12:02+00:00,[],2025-02-04 07:00:43+00:00,2025-02-04 07:00:43+00:00,https://github.com/odoo/odoo/pull/196213,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630971670, 'issue_id': 2827482079, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196213.png)](https://mergebot.odoo.com/odoo/odoo/pull/196213)', 'created_at': datetime.datetime(2025, 2, 3, 13, 12, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630971692, 'issue_id': 2827482079, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 12, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:12:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196213.png)](https://mergebot.odoo.com/odoo/odoo/pull/196213)

fw-bot (Issue Creator) on (2025-02-03 13:12:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827481752,pull_request,open,,[FIX] l10n_es_edi_facturae: only show FACe section on invoice for ES companies,"We should show the FACe/Factura-e section on invoice when the related company is located in Spain.

opw-4397651

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xavieralt,2025-02-03 13:11:55+00:00,[],2025-02-03 14:00:29+00:00,,https://github.com/odoo/odoo/pull/196212,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2630971471, 'issue_id': 2827481752, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196212.png)](https://mergebot.odoo.com/odoo/odoo/pull/196212)', 'created_at': datetime.datetime(2025, 2, 3, 13, 11, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:11:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196212.png)](https://mergebot.odoo.com/odoo/odoo/pull/196212)

"
2827480847,pull_request,open,,[FW][FIX] website: facebook snippet visibility on mobile,"Revert changes from [commit] due to `m.facebook.com` using 'X-Frame-Options' header set to 'deny', which prevented iframe embedding across domains. META has now fixed this issue, so this PR restores the snippet's visibility on mobile devices.

[commit]: https://github.com/odoo/odoo/commit/588f910da03d6284a57c2fab8fd042ef3169666f

task-4507102

Forward-Port-Of: odoo/odoo#196108
Forward-Port-Of: odoo/odoo#194843",fw-bot,2025-02-03 13:11:33+00:00,[],2025-02-03 14:00:30+00:00,,https://github.com/odoo/odoo/pull/196211,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630970443, 'issue_id': 2827480847, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196211.png)](https://mergebot.odoo.com/odoo/odoo/pull/196211)', 'created_at': datetime.datetime(2025, 2, 3, 13, 11, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630970465, 'issue_id': 2827480847, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 11, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:11:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196211.png)](https://mergebot.odoo.com/odoo/odoo/pull/196211)

fw-bot (Issue Creator) on (2025-02-03 13:11:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827480051,pull_request,closed,,[FW][FIX] point_of_sale: cancel order sends empty ticket to the kitchen,"steps to reproduce:
===
- open POS 
- make an order 
- click on order
- open this order 
- delete order lines 
- click on order (negatives qty) 

Issue:
===
- insufficient data to display in receipt

fixed:
===
- configured data required to print

task: 4507218

Forward-Port-Of: odoo/odoo#194975",fw-bot,2025-02-03 13:11:13+00:00,[],2025-02-04 15:16:35+00:00,2025-02-04 15:16:35+00:00,https://github.com/odoo/odoo/pull/196210,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630969670, 'issue_id': 2827480051, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196210.png)](https://mergebot.odoo.com/odoo/odoo/pull/196210)', 'created_at': datetime.datetime(2025, 2, 3, 13, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630969693, 'issue_id': 2827480051, 'author': 'fw-bot', 'body': '@djip-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#194975 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/utils/order_change.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633728238, 'issue_id': 2827480051, 'author': 'djip-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 14, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:11:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196210.png)](https://mergebot.odoo.com/odoo/odoo/pull/196210)

fw-bot (Issue Creator) on (2025-02-03 13:11:14 UTC): @djip-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#194975 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/utils/order_change.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

djip-odoo on (2025-02-04 12:14:20 UTC): robodoo r+

"
2827479267,pull_request,closed,,[FW][FIX] marketing_card: make page titles translatable,"[opw-4421055](https://www.odoo.com/odoo/project.task/4504454)

Forward-Port-Of: odoo/odoo#195911
Forward-Port-Of: odoo/odoo#195786",fw-bot,2025-02-03 13:10:53+00:00,[],2025-02-04 18:09:33+00:00,2025-02-04 18:09:33+00:00,https://github.com/odoo/odoo/pull/196209,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630968877, 'issue_id': 2827479267, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196209.png)](https://mergebot.odoo.com/odoo/odoo/pull/196209)', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630968915, 'issue_id': 2827479267, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta cherrypicking of pull request odoo/odoo#195786 failed.\n\nstdout:\n```\nAuto-merging addons/marketing_card/i18n/marketing_card.pot\nCONFLICT (content): Merge conflict in addons/marketing_card/i18n/marketing_card.pot\nAuto-merging addons/marketing_card/views/card_campaign_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633538154, 'issue_id': 2827479267, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 48, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:10:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196209.png)](https://mergebot.odoo.com/odoo/odoo/pull/196209)

fw-bot (Issue Creator) on (2025-02-03 13:10:55 UTC): @dylankiss @oomsveta cherrypicking of pull request odoo/odoo#195786 failed.

stdout:
```
Auto-merging addons/marketing_card/i18n/marketing_card.pot
CONFLICT (content): Merge conflict in addons/marketing_card/i18n/marketing_card.pot
Auto-merging addons/marketing_card/views/card_campaign_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-04 10:48:54 UTC): @robodoo r+

"
2827478522,pull_request,closed,,[FW][FIX] web: fix export for inherited properties,"Try to export one selected product.product generate a traceback due to the `_get_property_fields` that doesn't manage inherited properties.


opw-4438752

Forward-Port-Of: odoo/odoo#195787",fw-bot,2025-02-03 13:10:34+00:00,[],2025-02-04 08:25:11+00:00,2025-02-04 08:25:11+00:00,https://github.com/odoo/odoo/pull/196208,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630968146, 'issue_id': 2827478522, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196208.png)](https://mergebot.odoo.com/odoo/odoo/pull/196208)', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630968171, 'issue_id': 2827478522, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:10:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196208.png)](https://mergebot.odoo.com/odoo/odoo/pull/196208)

fw-bot (Issue Creator) on (2025-02-03 13:10:36 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827477798,pull_request,open,,[FW][FIX] l10n_ar_withholding: use disposable data during coa update,"### Steps to reproduce the issue:

1. Create two Argentinian Companies
2. In _Accounting > Configuration > Settings_ select the following Fiscal Localization Package for both companies: _Argentina - Argentine Generic Chart of Accounts for Exempt Individuals_
2. In _Accounting > Configuration > Accounting > Chart of Accounts_, duplicate an account and change its code to 6.0.0.00.020
3. Install _Argentina - Payment Withholdings_
4. The following issue occurs:

### Explanation:

In `_l10n_ar_withholding_post_init`, for each company, we will compare a previously created dict to the existing accounts. If an account already exists, the data is removed from the dict, and since it is created before we start looping through the Companies to make the comparison, any removed data is removed for the companies that follow as well.

### Fix reasoning:

We will copy the original dict to keep a safe version of the data and only modify the copy during the comparison process.

opw-4446501

Forward-Port-Of: odoo/odoo#195475
Forward-Port-Of: odoo/odoo#194329",fw-bot,2025-02-03 13:10:15+00:00,[],2025-02-03 14:00:35+00:00,,https://github.com/odoo/odoo/pull/196207,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630967347, 'issue_id': 2827477798, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196207.png)](https://mergebot.odoo.com/odoo/odoo/pull/196207)', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630967377, 'issue_id': 2827477798, 'author': 'fw-bot', 'body': '@stpa-odoo @william-andre cherrypicking of pull request odoo/odoo#194329 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_ar_withholding/__init__.py\nCONFLICT (content): Merge conflict in addons/l10n_ar_withholding/__init__.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 10, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:10:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196207.png)](https://mergebot.odoo.com/odoo/odoo/pull/196207)

fw-bot (Issue Creator) on (2025-02-03 13:10:17 UTC): @stpa-odoo @william-andre cherrypicking of pull request odoo/odoo#194329 failed.

stdout:
```
Auto-merging addons/l10n_ar_withholding/__init__.py
CONFLICT (content): Merge conflict in addons/l10n_ar_withholding/__init__.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827476953,pull_request,closed,,[FW][FIX] stock_picking_batch: create a new wave for SML with 0 quantity,"Steps to reproduce the bug:
- Enable the multi-step route.
- Go to the Delivery Operation Type:
    - Enable ""Automatic Batches"". - Enable ""Wave Grouping"". - Product Category: All
- Create two storable products: ""P1"" and ""P2"".
- Create a first delivery:
    - One unit of P1.
    - Mark it as ""To Do"" → a wave transfer is created.
- Create a second delivery:
    - One unit of P2.
    - Mark it as ""To Do"" → it is added to the first wave.
- Go to the wave:
     - Update the quantity of P2 to 0.
- Validate the wave

Problem:
The picking of P2 is detached but not linked to a new wave.

opw-4444263

Forward-Port-Of: odoo/odoo#192771",fw-bot,2025-02-03 13:09:54+00:00,[],2025-02-04 15:16:40+00:00,2025-02-04 15:16:39+00:00,https://github.com/odoo/odoo/pull/196206,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630966562, 'issue_id': 2827476953, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196206.png)](https://mergebot.odoo.com/odoo/odoo/pull/196206)', 'created_at': datetime.datetime(2025, 2, 3, 13, 9, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630966582, 'issue_id': 2827476953, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 9, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631057637, 'issue_id': 2827476953, 'author': 'fw-bot', 'body': '@DjamelTouati ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 13, 48, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633447527, 'issue_id': 2827476953, 'author': 'fw-bot', 'body': '@DjamelTouati this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 4, 10, 13, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633758897, 'issue_id': 2827476953, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 27, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:09:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196206.png)](https://mergebot.odoo.com/odoo/odoo/pull/196206)

fw-bot (Issue Creator) on (2025-02-03 13:09:56 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 13:48:52 UTC): @DjamelTouati ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-04 10:13:26 UTC): @DjamelTouati this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-02-04 12:27:34 UTC): robodoo r+

"
2827475707,pull_request,closed,,"[FW][FIX] l10n_es,l10n_es_edi_facturae : Update Taxes and modelo 390","This fix updates the taxes and the modelo 390 tax report

Task: 4453629

Enterprise PR: https://github.com/odoo/enterprise/pull/77941

Forward-Port-Of: odoo/odoo#196101
Forward-Port-Of: odoo/odoo#195380",fw-bot,2025-02-03 13:09:23+00:00,[],2025-02-05 01:09:10+00:00,2025-02-05 01:09:10+00:00,https://github.com/odoo/odoo/pull/196205,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630966140, 'issue_id': 2827475707, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196205.png)](https://mergebot.odoo.com/odoo/odoo/pull/196205)', 'created_at': datetime.datetime(2025, 2, 3, 13, 9, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630966176, 'issue_id': 2827475707, 'author': 'fw-bot', 'body': '@jbw-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195380 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es/__manifest__.py\nAuto-merging addons/l10n_es/data/template/account.fiscal.position-es_common.csv\nAuto-merging addons/l10n_es/data/template/account.tax-es_common.csv\nCONFLICT (content): Merge conflict in addons/l10n_es/data/template/account.tax-es_common.csv\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 9, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634309863, 'issue_id': 2827475707, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 26, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:09:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196205.png)](https://mergebot.odoo.com/odoo/odoo/pull/196205)

fw-bot (Issue Creator) on (2025-02-03 13:09:44 UTC): @jbw-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195380 failed.

stdout:
```
Auto-merging addons/l10n_es/__manifest__.py
Auto-merging addons/l10n_es/data/template/account.fiscal.position-es_common.csv
Auto-merging addons/l10n_es/data/template/account.tax-es_common.csv
CONFLICT (content): Merge conflict in addons/l10n_es/data/template/account.tax-es_common.csv

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jbw-odoo on (2025-02-04 15:26:29 UTC): robodoo r+

"
2827474474,pull_request,closed,,[FW][FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196012",fw-bot,2025-02-03 13:08:53+00:00,[],2025-02-03 17:46:18+00:00,2025-02-03 17:46:18+00:00,https://github.com/odoo/odoo/pull/196204,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630966085, 'issue_id': 2827474474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196204.png)](https://mergebot.odoo.com/odoo/odoo/pull/196204)', 'created_at': datetime.datetime(2025, 2, 3, 13, 9, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630966102, 'issue_id': 2827474474, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631056311, 'issue_id': 2827474474, 'author': 'fw-bot', 'body': '@nim-odoo @xmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 13, 48, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:09:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196204.png)](https://mergebot.odoo.com/odoo/odoo/pull/196204)

fw-bot (Issue Creator) on (2025-02-03 13:09:42 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 13:48:21 UTC): @nim-odoo @xmo-odoo ci/runbot failed on this forward-port PR

"
2827470667,pull_request,closed,,[FW][FIX] im_livechat: Fix error when opening Messages systray menu,"Description of the issue/feature this PR addresses:
- After an internal user (without Live Chat application access) interacted with chatbot from website, he will not be able to click on the Messages icon on the top-right menu anymore:
![image](https://github.com/user-attachments/assets/a8b96c5f-b409-4a35-8c79-90f7cf97b09c)
- Cause: Internal user without Live Chat application access cannot read on model `chatbot.script.step`, so when system calls `mail_channel.chatbot_current_step_id`, security error occurs.
- Solution: Use `sudo` on `mail_channel` variable to avoid security error.

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190201
Forward-Port-Of: odoo/odoo#174611",fw-bot,2025-02-03 13:07:14+00:00,[],2025-02-06 01:30:17+00:00,2025-02-06 01:30:17+00:00,https://github.com/odoo/odoo/pull/196203,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630960425, 'issue_id': 2827470667, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196203.png)](https://mergebot.odoo.com/odoo/odoo/pull/196203)', 'created_at': datetime.datetime(2025, 2, 3, 13, 7, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630960454, 'issue_id': 2827470667, 'author': 'fw-bot', 'body': '@phamgiang2510 @tsm-odoo cherrypicking of pull request odoo/odoo#174611 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/tests/chatbot_common.py\nAuto-merging addons/im_livechat/tests/test_message.py\nCONFLICT (content): Merge conflict in addons/im_livechat/tests/test_message.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 7, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:07:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196203.png)](https://mergebot.odoo.com/odoo/odoo/pull/196203)

fw-bot (Issue Creator) on (2025-02-03 13:07:16 UTC): @phamgiang2510 @tsm-odoo cherrypicking of pull request odoo/odoo#174611 failed.

stdout:
```
Auto-merging addons/im_livechat/tests/chatbot_common.py
Auto-merging addons/im_livechat/tests/test_message.py
CONFLICT (content): Merge conflict in addons/im_livechat/tests/test_message.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827469827,pull_request,closed,,"[FW][FIX] hr_holidays: no activity when ""Notified Time Off Officer"" empty","steps to reproduce:
-Create a new time off type.
-Set the approval radio button to either ""By Time Off Officer"" or ""By Employee's Approver and Time Off Officer.""
-Leave the ""Notified Time Off Officer"" field empty. 
-Try to create a new allocation for the newly created time off type. 
-Notice that an activity is created for the user who created the allocation.

cause:
When the ""Notified Time Off Officer"" field is left empty, no activity or email should be created.

solution:
Remove self.env.user.ids to prevent the creation of an activity for the user.

task-4351747

Forward-Port-Of: odoo/odoo#189407",fw-bot,2025-02-03 13:06:53+00:00,[],2025-02-03 17:46:20+00:00,2025-02-03 17:46:20+00:00,https://github.com/odoo/odoo/pull/196202,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630959572, 'issue_id': 2827469827, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196202.png)](https://mergebot.odoo.com/odoo/odoo/pull/196202)', 'created_at': datetime.datetime(2025, 2, 3, 13, 6, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630959606, 'issue_id': 2827469827, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 6, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631059457, 'issue_id': 2827469827, 'author': 'fw-bot', 'body': '@dhka-odoo @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 13, 49, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:06:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196202.png)](https://mergebot.odoo.com/odoo/odoo/pull/196202)

fw-bot (Issue Creator) on (2025-02-03 13:06:55 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 13:49:38 UTC): @dhka-odoo @tivisse ci/runbot failed on this forward-port PR

"
2827468674,pull_request,closed,,[FW][ADD] l10n_ro_edi_etransport: send transport data to eTransport platform,"Romania requires its companies to send information of all transports of goods on Romanian territory to a specific web service on their eTransport platform.

This commit implements a way to gather all the necessary data needed to send the eTransport document and the actual sending of this document to the eTransport platform.

Authentication:
the authentication needed to interact with the eTransport platform is the same as (and was already implemented in) the l10n_ro_efactura module. see [eFactura PR](https://github.com/odoo/odoo/pull/144061)

eTransport flow:
- Add the necessary eTransport data to a delivery
- send the eTransport document to ANAF
- the document gets processed by ANAF
- Fetch the status of the document:
    - which can result in an error, in which case the flow starts again from the beginning with the corrected data
    - or in a success

 task-id: 3810735

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194858
Forward-Port-Of: odoo/odoo#170080",fw-bot,2025-02-03 13:06:23+00:00,[],2025-02-06 17:59:21+00:00,2025-02-06 17:59:20+00:00,https://github.com/odoo/odoo/pull/196201,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630959178, 'issue_id': 2827468674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196201.png)](https://mergebot.odoo.com/odoo/odoo/pull/196201)', 'created_at': datetime.datetime(2025, 2, 3, 13, 6, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630959206, 'issue_id': 2827468674, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 6, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631047149, 'issue_id': 2827468674, 'author': 'fw-bot', 'body': '@AllePilli @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 13, 44, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631383948, 'issue_id': 2827468674, 'author': 'fw-bot', 'body': '@AllePilli @smetl this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 15, 48, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639074136, 'issue_id': 2827468674, 'author': 'AllePilli', 'body': '@odoo/rd-security Fw-port. Nothing changed regarding the security part', 'created_at': datetime.datetime(2025, 2, 6, 7, 48, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639348762, 'issue_id': 2827468674, 'author': 'xmo-odoo', 'body': '@robodoo override=ci/security', 'created_at': datetime.datetime(2025, 2, 6, 9, 58, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639726091, 'issue_id': 2827468674, 'author': 'AllePilli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 43, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:06:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196201.png)](https://mergebot.odoo.com/odoo/odoo/pull/196201)

fw-bot (Issue Creator) on (2025-02-03 13:06:46 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 13:44:28 UTC): @AllePilli @smetl ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 15:48:49 UTC): @AllePilli @smetl this PR was modified / updated and has become a normal PR. It must be merged directly.

AllePilli on (2025-02-06 07:48:47 UTC): @odoo/rd-security Fw-port. Nothing changed regarding the security part

xmo-odoo on (2025-02-06 09:58:23 UTC): @robodoo override=ci/security

AllePilli on (2025-02-06 12:43:17 UTC): @robodoo r+

"
2827465320,pull_request,closed,,[FW][FIX] pos_sale: update quotation delivered qty,"When settling a quotation (unconfirmed sale order) from the POS, the
delivered quantity was not updated in the quotation.

Steps to reproduce:
-------------------
* Make a sale order but don't confirm it
* Go to the POS and settle the quotation
> Observation: The delivered quantity is not updated in the quotation

Why the fix:
------------
If the quotation was not confirmed no move lines were created, so the
`has_valued_moves` was False and no move lines were created for the PoS
order. And because the pos order has no move lines the quotation was not
updated with the delivered quantity.

opw-4479862

Forward-Port-Of: odoo/odoo#194420",fw-bot,2025-02-03 13:04:54+00:00,[],2025-02-03 13:49:01+00:00,2025-02-03 13:49:01+00:00,https://github.com/odoo/odoo/pull/196200,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630954956, 'issue_id': 2827465320, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196200.png)](https://mergebot.odoo.com/odoo/odoo/pull/196200)', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630955040, 'issue_id': 2827465320, 'author': 'fw-bot', 'body': '@robinengels @caburj cherrypicking of pull request odoo/odoo#194420 failed.\n\nstdout:\n```\nAuto-merging addons/pos_sale/models/stock_picking.py\nCONFLICT (content): Merge conflict in addons/pos_sale/models/stock_picking.py\nAuto-merging addons/pos_sale/static/tests/tours/pos_sale_tour.js\nAuto-merging addons/pos_sale/tests/test_pos_sale_flow.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631057928, 'issue_id': 2827465320, 'author': 'robinengels', 'body': 'master version of this fix : https://github.com/odoo/odoo/pull/194518', 'created_at': datetime.datetime(2025, 2, 3, 13, 48, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:04:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196200.png)](https://mergebot.odoo.com/odoo/odoo/pull/196200)

fw-bot (Issue Creator) on (2025-02-03 13:04:57 UTC): @robinengels @caburj cherrypicking of pull request odoo/odoo#194420 failed.

stdout:
```
Auto-merging addons/pos_sale/models/stock_picking.py
CONFLICT (content): Merge conflict in addons/pos_sale/models/stock_picking.py
Auto-merging addons/pos_sale/static/tests/tours/pos_sale_tour.js
Auto-merging addons/pos_sale/tests/test_pos_sale_flow.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-02-03 13:48:59 UTC): master version of this fix : https://github.com/odoo/odoo/pull/194518

"
2827464638,pull_request,closed,,[FW][FIX] web: Prevent users from using json field in the field_selector,"Steps:
    - Install `purchase` or any other model with analytic_mixin
    - Install `analytic`
    - Install `web_studio`
    - Enable analytic in configuration
    - Add a new approval on 'button_confirm' in `purchase.order`
    - Set a domain with analytic_distribution e.g
    -   - e.g. (""order_line.analytic_distribution"", ""="", ""Administrative"")
    - Click on Refresh button
    - The refresh button preview shows x records
    - Create a new purchase.order
    - Add analytic on optional column
    - Add a new product with analytic_distribution Administrative
    - Try to use `button_confirm`
    - Approval is not working while the refresh shows record is available

The json fields, in particular the `analytic_distribution` fields, are not designed to be searched via a `filtered_domain` (which is what studio approval uses to check whether or not a button can be used by the current user), this is currently a technical limitation.

To avoid any future problems, this commit prevents users from using a json field to search on them, since this is not supported.

opw-4416646

Forward-Port-Of: odoo/odoo#195972
Forward-Port-Of: odoo/odoo#195765",fw-bot,2025-02-03 13:04:35+00:00,[],2025-02-04 07:42:40+00:00,2025-02-04 07:42:40+00:00,https://github.com/odoo/odoo/pull/196199,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630954198, 'issue_id': 2827464638, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196199.png)](https://mergebot.odoo.com/odoo/odoo/pull/196199)', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630954228, 'issue_id': 2827464638, 'author': 'fw-bot', 'body': '@abz-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196170\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630961138, 'issue_id': 2827464638, 'author': 'abz-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 7, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630976832, 'issue_id': 2827464638, 'author': 'robodoo', 'body': ""@abz-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 13, 14, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:04:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196199.png)](https://mergebot.odoo.com/odoo/odoo/pull/196199)

fw-bot (Issue Creator) on (2025-02-03 13:04:37 UTC): @abz-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196170

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abz-odoo on (2025-02-03 13:07:34 UTC): @robodoo r+

robodoo on (2025-02-03 13:14:26 UTC): @abz-odoo @polymorphe57 'ci/runbot' failed on this reviewed PR.

"
2827463974,pull_request,closed,,"[FW][FIX] mass_mailing: avoid automatic unsubscribe from mail,","add intercalate unsubscription page

Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

--

The current unsubscription destination page for emails makes it unclear for the user whether they've been unsubscribed or not.

This is because the ""unsubscription confirmed"" box is placed below the ""manage subscription settings"" box on the confirmation page.

To avoid confusion, while ensuring current Studio customizations to stable instances are not impacted, the unsubscription confirmation page will clarify that the user is unsubscribed and offer the option to manage unsubscriptions by reaching the destination page.

task-4364446

X-original-commit: 52b3f53485e3977dea86e7514f2cc1952840af25

Forward-Port-Of: #195913

Forward-Port-Of: odoo/odoo#196128",fw-bot,2025-02-03 13:04:17+00:00,[],2025-02-04 11:58:50+00:00,2025-02-04 11:58:50+00:00,https://github.com/odoo/odoo/pull/196198,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630953420, 'issue_id': 2827463974, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196198.png)](https://mergebot.odoo.com/odoo/odoo/pull/196198)', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630953451, 'issue_id': 2827463974, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631149585, 'issue_id': 2827463974, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 14, 24, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:04:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196198.png)](https://mergebot.odoo.com/odoo/odoo/pull/196198)

fw-bot (Issue Creator) on (2025-02-03 13:04:19 UTC): @creaturemusings @std-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 14:24:52 UTC): @creaturemusings @std-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2827463139,pull_request,closed,,"[FW][IMP] account{,_edi_ubl_cii,_peppol}: Misc improvements","Miscellanous improvements to the Print & Send and to Peppol onboarding:

- Nicer translation, warning messages.
- Let the bank account be editable when the invoice is posted. Only make it readonly when the invoice is sent.
- Some UX change of the EAS fields.
- Print & Send: check ""email"" by default, even when no email is set. We also go back to the default behavior and let a modal open when the email is not set. This will be improved in the generic feature in the future.
- Print & Send: Rename ""Recipients"" to ""To"".
- Add a ""Print"" button to invoice form so that it prints the PDF.
- Update the EAS mapping per country.
- EAS renaming to be more user-friendly.
- Add a Print button to quickly preview the PDF.
!this does not trigger a Print & Send wizard => no declaration to government.
- Rename Print & Send to ""Send"" as we did in 18.1+ already.

task-4478365

Forward-Port-Of: odoo/odoo#195905
Forward-Port-Of: odoo/odoo#195069",fw-bot,2025-02-03 13:03:56+00:00,[],2025-02-04 19:52:42+00:00,2025-02-04 19:52:40+00:00,https://github.com/odoo/odoo/pull/196197,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2630952641, 'issue_id': 2827463139, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196197.png)](https://mergebot.odoo.com/odoo/odoo/pull/196197)', 'created_at': datetime.datetime(2025, 2, 3, 13, 3, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630952690, 'issue_id': 2827463139, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl cherrypicking of pull request odoo/odoo#195069 failed.\n\nstdout:\n```\nAuto-merging addons/account/i18n/account.pot\nAuto-merging addons/account/models/account_move.py\nAuto-merging addons/account/models/account_move_send.py\nAuto-merging addons/account/tests/test_account_move_send.py\nAuto-merging addons/account/views/account_move_views.xml\nCONFLICT (modify/delete): addons/account_edi_ubl_cii/i18n/de.po deleted in 8b5247249fbf7ec51207bcf32fea6bbe5c4d6297 and modified in f5e9e811e00e9119e1923172e0c13be213905fc3.  Version f5e9e811e00e9119e1923172e0c13be213905fc3 of addons/account_edi_ubl_cii/i18n/de.po left in tree.\nCONFLICT (modify/delete): addons/account_edi_ubl_cii/i18n/fr.po deleted in 8b5247249fbf7ec51207bcf32fea6bbe5c4d6297 and modified in f5e9e811e00e9119e1923172e0c13be213905fc3.  Version f5e9e811e00e9119e1923172e0c13be213905fc3 of addons/account_edi_ubl_cii/i18n/fr.po left in tree.\nCONFLICT (modify/delete): addons/account_edi_ubl_cii/i18n/nl.po deleted in 8b5247249fbf7ec51207bcf32fea6bbe5c4d6297 and modified in f5e9e811e00e9119e1923172e0c13be213905fc3.  Version f5e9e811e00e9119e1923172e0c13be213905fc3 of addons/account_edi_ubl_cii/i18n/nl.po left in tree.\nAuto-merging addons/account_peppol/__manifest__.py\nAuto-merging addons/account_peppol/i18n/account_peppol.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633847555, 'issue_id': 2827463139, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 4, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:03:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196197.png)](https://mergebot.odoo.com/odoo/odoo/pull/196197)

fw-bot (Issue Creator) on (2025-02-03 13:04:00 UTC): @clbr-odoo @smetl cherrypicking of pull request odoo/odoo#195069 failed.

stdout:
```
Auto-merging addons/account/i18n/account.pot
Auto-merging addons/account/models/account_move.py
Auto-merging addons/account/models/account_move_send.py
Auto-merging addons/account/tests/test_account_move_send.py
Auto-merging addons/account/views/account_move_views.xml
CONFLICT (modify/delete): addons/account_edi_ubl_cii/i18n/de.po deleted in 8b5247249fbf7ec51207bcf32fea6bbe5c4d6297 and modified in f5e9e811e00e9119e1923172e0c13be213905fc3.  Version f5e9e811e00e9119e1923172e0c13be213905fc3 of addons/account_edi_ubl_cii/i18n/de.po left in tree.
CONFLICT (modify/delete): addons/account_edi_ubl_cii/i18n/fr.po deleted in 8b5247249fbf7ec51207bcf32fea6bbe5c4d6297 and modified in f5e9e811e00e9119e1923172e0c13be213905fc3.  Version f5e9e811e00e9119e1923172e0c13be213905fc3 of addons/account_edi_ubl_cii/i18n/fr.po left in tree.
CONFLICT (modify/delete): addons/account_edi_ubl_cii/i18n/nl.po deleted in 8b5247249fbf7ec51207bcf32fea6bbe5c4d6297 and modified in f5e9e811e00e9119e1923172e0c13be213905fc3.  Version f5e9e811e00e9119e1923172e0c13be213905fc3 of addons/account_edi_ubl_cii/i18n/nl.po left in tree.
Auto-merging addons/account_peppol/__manifest__.py
Auto-merging addons/account_peppol/i18n/account_peppol.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clbr-odoo on (2025-02-04 13:04:41 UTC): @robodoo r+

"
2827461989,pull_request,closed,,[FW][FIX] point_of_sale: ensure reloading of data,"If the session id is outdated in the frontend, we need to ensure the reloading of data.

Now we check if the session id is up to date before loading data and if not we load the new session.

Forward-Port-Of: odoo/odoo#195953",fw-bot,2025-02-03 13:03:26+00:00,[],2025-02-04 07:43:04+00:00,2025-02-04 07:43:04+00:00,https://github.com/odoo/odoo/pull/196196,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2630951447, 'issue_id': 2827461989, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196196.png)](https://mergebot.odoo.com/odoo/odoo/pull/196196)', 'created_at': datetime.datetime(2025, 2, 3, 13, 3, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630951467, 'issue_id': 2827461989, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#195953 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 3, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631375014, 'issue_id': 2827461989, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 15, 45, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:03:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196196.png)](https://mergebot.odoo.com/odoo/odoo/pull/196196)

fw-bot (Issue Creator) on (2025-02-03 13:03:28 UTC): @davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#195953 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-03 15:45:23 UTC): @robodoo r+

"
2827461238,pull_request,closed,,[FW][FIX] point_of_sale: fix mocked function,"Fix args missing in a mocked method in the test.

rb error: 114229

Forward-Port-Of: odoo/odoo#196044",fw-bot,2025-02-03 13:03:07+00:00,[],2025-02-04 09:05:19+00:00,2025-02-04 09:05:19+00:00,https://github.com/odoo/odoo/pull/196195,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2630950689, 'issue_id': 2827461238, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196195.png)](https://mergebot.odoo.com/odoo/odoo/pull/196195)', 'created_at': datetime.datetime(2025, 2, 3, 13, 3, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630950757, 'issue_id': 2827461238, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#196044 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/tests/test_frontend.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 3, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631964033, 'issue_id': 2827461238, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 20, 8, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:03:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196195.png)](https://mergebot.odoo.com/odoo/odoo/pull/196195)

fw-bot (Issue Creator) on (2025-02-03 13:03:10 UTC): @davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#196044 failed.

stdout:
```
Auto-merging addons/point_of_sale/tests/test_frontend.py
CONFLICT (content): Merge conflict in addons/point_of_sale/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-03 20:08:23 UTC): @robodoo r+

"
2827459970,pull_request,closed,,[FW][FIX] web: don't aggregate grouped by fields,"This commit fixes an issue where if the user applies a group by on an aggregatable field (an integer like color_index for example), this field is also registered as an aggregator in the webReadGroup call and this leads to nonsensical results by the orm. After this commit, the group by field is automatically excluded from aggregators so the issue cannot happen.

task-4491839

Forward-Port-Of: odoo/odoo#196082
Forward-Port-Of: odoo/odoo#195623",fw-bot,2025-02-03 13:02:34+00:00,[],2025-02-04 07:42:35+00:00,2025-02-04 07:42:35+00:00,https://github.com/odoo/odoo/pull/196194,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630949411, 'issue_id': 2827459970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196194.png)](https://mergebot.odoo.com/odoo/odoo/pull/196194)', 'created_at': datetime.datetime(2025, 2, 3, 13, 2, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630949442, 'issue_id': 2827459970, 'author': 'fw-bot', 'body': '@juliusc2066 @jum-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631192028, 'issue_id': 2827459970, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 40, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:02:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196194.png)](https://mergebot.odoo.com/odoo/odoo/pull/196194)

fw-bot (Issue Creator) on (2025-02-03 13:02:39 UTC): @juliusc2066 @jum-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

juliusc2066 on (2025-02-03 14:40:29 UTC): @robodoo r+

"
2827458804,pull_request,closed,,[FW] 17.0 hr holidays fix accrual carryover amount lole,"Fixes two bugs on carry over amount:

reset accrual carryover to lost state:

steps:
- set the carry over to ""carry over with maximum""
- set a number of days to carry over and save
- set the carry over type back to ""None""
-> You still carry over the amount of days you typed in instead of 0

always carryover the cap:

steps:
- create an accrual plan with:
        - 21 days per year alloc
        - start immediate
        - 28 days cap
        - carryover with max 7 days
- create allocation for the current year (1/1/XXXX)
- take 15 days holidays -> 6 days left on the alloc
- check the leaves left for next year -> 28 days, should be 27 (21 + 6)

This happened because the carry-over calculation didn't take into account
the number of days left on the allocation and always carried over the cap.

Forward-Port-Of: odoo/odoo#196061
Forward-Port-Of: odoo/odoo#188621",fw-bot,2025-02-03 13:02:04+00:00,[],2025-02-04 06:27:25+00:00,2025-02-04 06:27:25+00:00,https://github.com/odoo/odoo/pull/196193,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630949304, 'issue_id': 2827458804, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196193.png)](https://mergebot.odoo.com/odoo/odoo/pull/196193)', 'created_at': datetime.datetime(2025, 2, 3, 13, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630949330, 'issue_id': 2827458804, 'author': 'fw-bot', 'body': '@loleloup @Bertrand2 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631180240, 'issue_id': 2827458804, 'author': 'loleloup', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 35, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 13:02:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196193.png)](https://mergebot.odoo.com/odoo/odoo/pull/196193)

fw-bot (Issue Creator) on (2025-02-03 13:02:36 UTC): @loleloup @Bertrand2 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

loleloup on (2025-02-03 14:35:57 UTC): @robodoo r+

"
2827451126,pull_request,closed,,[FW][FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.

Forward-Port-Of: odoo/odoo#195520
Forward-Port-Of: odoo/odoo#194500",fw-bot,2025-02-03 12:59:23+00:00,[],2025-02-04 06:27:21+00:00,2025-02-04 06:27:21+00:00,https://github.com/odoo/odoo/pull/196192,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2630923989, 'issue_id': 2827451126, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196192.png)](https://mergebot.odoo.com/odoo/odoo/pull/196192)', 'created_at': datetime.datetime(2025, 2, 3, 12, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630924397, 'issue_id': 2827451126, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/common.py\nAuto-merging odoo/addons/base/models/res_currency.py\nCONFLICT (content): Merge conflict in odoo/addons/base/models/res_currency.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 59, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630956796, 'issue_id': 2827451126, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 5, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:59:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196192.png)](https://mergebot.odoo.com/odoo/odoo/pull/196192)

fw-bot (Issue Creator) on (2025-02-03 12:59:26 UTC): @william-andre @gawa-odoo cherrypicking of pull request odoo/odoo#194500 failed.

stdout:
```
Auto-merging addons/account/tests/common.py
Auto-merging odoo/addons/base/models/res_currency.py
CONFLICT (content): Merge conflict in odoo/addons/base/models/res_currency.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-02-03 13:05:43 UTC): @robodoo r+

"
2827443008,pull_request,closed,,[FW][FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193255",fw-bot,2025-02-03 12:56:43+00:00,[],2025-02-04 08:06:04+00:00,2025-02-04 08:06:03+00:00,https://github.com/odoo/odoo/pull/196191,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630898670, 'issue_id': 2827443008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196191.png)](https://mergebot.odoo.com/odoo/odoo/pull/196191)', 'created_at': datetime.datetime(2025, 2, 3, 12, 56, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630898718, 'issue_id': 2827443008, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 56, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:56:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196191.png)](https://mergebot.odoo.com/odoo/odoo/pull/196191)

fw-bot (Issue Creator) on (2025-02-03 12:56:45 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827440494,pull_request,closed,,[FIX] mail: add seen indicators on message with only attachments,"Before this PR, messages with only attachments did not show the seen message indicator.
It is shown on the message body, which is missing in this case.

This PR shows the message seen indicator inside the attachment list if it's the only content of the message.

",phenix-factory,2025-02-03 12:55:50+00:00,[],2025-02-05 10:55:56+00:00,2025-02-04 09:46:52+00:00,https://github.com/odoo/odoo/pull/196190,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630892681, 'issue_id': 2827440494, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196190.png)](https://mergebot.odoo.com/odoo/odoo/pull/196190)', 'created_at': datetime.datetime(2025, 2, 3, 12, 55, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:55:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196190.png)](https://mergebot.odoo.com/odoo/odoo/pull/196190)

"
2827439882,pull_request,closed,,[FW][FIX] pos_hr: fix traceback when opening cashier dialog,"Description of the issue/feature this PR addresses:
- Fixed an issue where changing the cashier with no available cashiers caused a traceback due to an undefined `this.dialog` Replaced it with the correct `dialog` reference.

## step to reproduce
- install `point of sale` 
- setup a new point_of_sale , as shown

![pos config](https://github.com/user-attachments/assets/9a700c6d-2fe9-4008-85b2-13b917f44dd4)

- start session in that pos.
- try to change the cashier

Current behavior before PR:
![pos change cashier](https://github.com/user-attachments/assets/148d7ed8-7361-4a83-99dc-89de98e3358d)


Desired behavior after PR is merged:
![expected behaviour](https://github.com/user-attachments/assets/01c74270-390e-4f51-a04e-396fbab9c8b8)




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195993",fw-bot,2025-02-03 12:55:35+00:00,[],2025-02-04 10:32:29+00:00,2025-02-04 10:32:29+00:00,https://github.com/odoo/odoo/pull/196189,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630890210, 'issue_id': 2827439882, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196189.png)](https://mergebot.odoo.com/odoo/odoo/pull/196189)', 'created_at': datetime.datetime(2025, 2, 3, 12, 55, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630890361, 'issue_id': 2827439882, 'author': 'fw-bot', 'body': '@aksi-odoo @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196169\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 55, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632951094, 'issue_id': 2827439882, 'author': 'aksi-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 0, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:55:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196189.png)](https://mergebot.odoo.com/odoo/odoo/pull/196189)

fw-bot (Issue Creator) on (2025-02-03 12:55:37 UTC): @aksi-odoo @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196169

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aksi-odoo on (2025-02-04 06:00:59 UTC): @robodoo r+

"
2827433758,pull_request,open,,[FIX] web_editor: preserve video selector parameters,"**Step to reproduce :**

1. Drop Video snippet
2. double click on snippet & toggle on few options ( i.e. loop )
3. save the video configuration
4. again double click on snippet & open video configurator
5. save without doing any changes -> you will see the options is reset, now.

**Issue:**

When we modify the options and click the add button, the ""videoSelector"" component is destroyed, resulting in the selected parameters being reset.

**Solution:**

Now, when no options are provided, we derive the options from the URL if any options are present.

task-4529118
",visp-odoo,2025-02-03 12:53:34+00:00,[],2025-02-03 13:00:16+00:00,,https://github.com/odoo/odoo/pull/196188,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630876320, 'issue_id': 2827433758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196188.png)](https://mergebot.odoo.com/odoo/odoo/pull/196188)', 'created_at': datetime.datetime(2025, 2, 3, 12, 53, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:53:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196188.png)](https://mergebot.odoo.com/odoo/odoo/pull/196188)

"
2827421039,pull_request,closed,,[FW][FIX] mass_mailing: make unsubcription page work in website,"A recent change modified the unsubscription flow to make it more resilient to automated security agents. Unfortunately, the implementation of this change breaks if the Website module is installed, and the flow becomes unusable.

This commit makes it so that the unsubscription flow works once more, without compromising on resilience to security agents.

task-4364446

Forward-Port-Of: odoo/odoo#196154",fw-bot,2025-02-03 12:49:01+00:00,[],2025-02-03 16:38:27+00:00,2025-02-03 16:38:27+00:00,https://github.com/odoo/odoo/pull/196187,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630856924, 'issue_id': 2827421039, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196187.png)](https://mergebot.odoo.com/odoo/odoo/pull/196187)', 'created_at': datetime.datetime(2025, 2, 3, 12, 49, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630856952, 'issue_id': 2827421039, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo cherrypicking of pull request odoo/odoo#196154 failed.\n\nstdout:\n```\nAuto-merging addons/mass_mailing/controllers/main.py\nCONFLICT (content): Merge conflict in addons/mass_mailing/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 49, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631074560, 'issue_id': 2827421039, 'author': 'std-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 55, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:49:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196187.png)](https://mergebot.odoo.com/odoo/odoo/pull/196187)

fw-bot (Issue Creator) on (2025-02-03 12:49:03 UTC): @creaturemusings @std-odoo cherrypicking of pull request odoo/odoo#196154 failed.

stdout:
```
Auto-merging addons/mass_mailing/controllers/main.py
CONFLICT (content): Merge conflict in addons/mass_mailing/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

std-odoo on (2025-02-03 13:55:32 UTC): @robodoo r+

"
2827420898,pull_request,open,,[IMP] html_editor: image toolbar refinement,"Description of the feature this PR addresses:

This PR makes the following adjustments to the image toolbar:

1. Updates the icon for image padding.
2. Combines the image size buttons into a single dropdown.
3. Replaces the ""Replace"" buttons with a fa-exchange icon and reposition it further down the sequence.

task-4441005

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deso-odoo,2025-02-03 12:48:57+00:00,[],2025-02-03 13:00:18+00:00,,https://github.com/odoo/odoo/pull/196186,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630856844, 'issue_id': 2827420898, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196186.png)](https://mergebot.odoo.com/odoo/odoo/pull/196186)', 'created_at': datetime.datetime(2025, 2, 3, 12, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:49:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196186.png)](https://mergebot.odoo.com/odoo/odoo/pull/196186)

"
2827395255,pull_request,open,,"[FIX] project_task,hr_recruitment: include ticket author in stage update email BACKPORT","Backport of the original issue (ref.1) with the following message:

The issue occurs when an email is sent to create a `project.task`. If the sender of the email is an existing user, this user is later set as the author of any outgoing emails related to that task. Since the system is configured to skip sending emails to the author, no email is delivered to the sender in this scenario.

Reproduce
---
- -i project,contacts
- add `example.com` to domains in the settings
-  create new project with an alias: `project@example.com`
	- Have a stage with some ""Email Template"" set
- send email creating project tasks as a portal user
- BUG: email about stage update is NOT sent (even tho task appeared in stage)

(ref.1)
[FIX] project_task,hr_recruitment: include ticket author in stage update email c1a430a6ee8ade9c27a0c01d8840139942e168ef

opw-3941928
opw-4262422",nd-dew,2025-02-03 12:37:57+00:00,[],2025-02-03 13:00:19+00:00,,https://github.com/odoo/odoo/pull/196185,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2630832616, 'issue_id': 2827395255, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196185.png)](https://mergebot.odoo.com/odoo/odoo/pull/196185)', 'created_at': datetime.datetime(2025, 2, 3, 12, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630836398, 'issue_id': 2827395255, 'author': 'nd-dew', 'body': ""hey @abd-msyukyu-odoo, the duplicate of the issue happened in earlier version, so i'm just backporting it"", 'created_at': datetime.datetime(2025, 2, 3, 12, 39, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:38:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196185.png)](https://mergebot.odoo.com/odoo/odoo/pull/196185)

nd-dew (Issue Creator) on (2025-02-03 12:39:40 UTC): hey @abd-msyukyu-odoo, the duplicate of the issue happened in earlier version, so i'm just backporting it

"
2827367044,pull_request,closed,,[FW][FIX] web: correctly detect empty fields,"At two different places, we try to determine if the value of an html field is empty. To do so, we create a node on the fly and set its innerHTML to that value. Then, we check if the element has a non-empty innerText. However, this doesn't work as expected if the given value is a text instead of a markuped html. This commit fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196036
Forward-Port-Of: odoo/odoo#195909",fw-bot,2025-02-03 12:25:39+00:00,[],2025-02-03 14:46:18+00:00,2025-02-03 14:46:17+00:00,https://github.com/odoo/odoo/pull/196183,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630805503, 'issue_id': 2827367044, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196183.png)](https://mergebot.odoo.com/odoo/odoo/pull/196183)', 'created_at': datetime.datetime(2025, 2, 3, 12, 25, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630805528, 'issue_id': 2827367044, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 25, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631207260, 'issue_id': 2827367044, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 14, 46, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:25:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196183.png)](https://mergebot.odoo.com/odoo/odoo/pull/196183)

fw-bot (Issue Creator) on (2025-02-03 12:25:41 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 14:46:17 UTC): @aab-odoo @kebeclibre this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2827347769,pull_request,closed,,[IMP] l10n_br_website_sale: always display b2b for Brazil,"This commit make brazilen fields always display in address
form even though b2b fields settings disabled from edition
because in LATAM country `ID Type` and `ID Number` field
are required for billing.

Also revert wrong fixed PR https://github.com/odoo/odoo/pull/194110

task-3628329",kcv-odoo,2025-02-03 12:17:00+00:00,[],2025-02-06 08:26:41+00:00,2025-02-06 08:26:40+00:00,https://github.com/odoo/odoo/pull/196182,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630786396, 'issue_id': 2827347769, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196182.png)](https://mergebot.odoo.com/odoo/odoo/pull/196182)', 'created_at': datetime.datetime(2025, 2, 3, 12, 17, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630850075, 'issue_id': 2827347769, 'author': 'guva-odoo', 'body': '🤷\u200d♂️', 'created_at': datetime.datetime(2025, 2, 3, 12, 45, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631390251, 'issue_id': 2827347769, 'author': 'vbe-odoo', 'body': 'Hello @kcv-odoo thanks for the PR.\r\nIndeed, the ID Type and ID Number are required in BR in B2C and B2B transactions, NF-e (electronic invoice) requires these 2 fields in both scenarios.\r\n\r\nJust one improvement we could apply is, that when B2B is OFF we can remove the field ""Company Name"", as that one is not required when in B2C mode. See screenshot below:\r\n![image](https://github.com/user-attachments/assets/48e8578e-97ff-4e28-9044-c1f2a953c2b6)\r\n\r\n\r\nThanks\r\ncc\' @guva-odoo', 'created_at': datetime.datetime(2025, 2, 3, 15, 51, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633021461, 'issue_id': 2827347769, 'author': 'kcv-odoo', 'body': ""Hello @vbe-odoo \r\n\r\nTo hide` Company Name` field when setting we need to change the way currently the logic build also have to move that field outside b2b fields block which is in stable is not good because we need to change logic from Ecommerce (website_sale) and since Company Name isn't really blocking any flow and same thing happen with other localisations where we used this logic to always display b2b (AR, EC, PE, CO, ...) and it is not blocking so I am thinking can't we improve that in master because in 17.0 changing view of Ecommerce would be cause issues in any potential customization  \r\nWhat do you think?\r\n\r\nHave a nice day!"", 'created_at': datetime.datetime(2025, 2, 4, 6, 48, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634176690, 'issue_id': 2827347769, 'author': 'vbe-odoo', 'body': ""> Hello @vbe-odoo\r\n> \r\n> To hide` Company Name` field when setting we need to change the way currently the logic build also have to move that field outside b2b fields block which is in stable is not good because we need to change logic from Ecommerce (website_sale) and since Company Name isn't really blocking any flow and same thing happen with other localisations where we used this logic to always display b2b (AR, EC, PE, CO, ...) and it is not blocking so I am thinking can't we improve that in master because in 17.0 changing view of Ecommerce would be cause issues in any potential customization What do you think?\r\n> \r\n> Have a nice day!\r\n\r\n@kcv-odoo totally agree with you, let's try to see if we can improve this in Master.\r\nFor now, we can add it as you said, it is not blocking.\r\nThanks!"", 'created_at': datetime.datetime(2025, 2, 4, 14, 39, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638866156, 'issue_id': 2827347769, 'author': 'kcv-odoo', 'body': 'Hello @clbr-odoo Can you review this? Thank you!', 'created_at': datetime.datetime(2025, 2, 6, 5, 23, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639009606, 'issue_id': 2827347769, 'author': 'robodoo', 'body': '@kcv-odoo @clbr-odoo because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 6, 7, 12, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639009848, 'issue_id': 2827347769, 'author': 'clbr-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 6, 7, 12, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639009901, 'issue_id': 2827347769, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 6, 7, 12, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:17:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196182.png)](https://mergebot.odoo.com/odoo/odoo/pull/196182)

guva-odoo on (2025-02-03 12:45:53 UTC): 🤷‍♂️

vbe-odoo on (2025-02-03 15:51:09 UTC): Hello @kcv-odoo thanks for the PR.
Indeed, the ID Type and ID Number are required in BR in B2C and B2B transactions, NF-e (electronic invoice) requires these 2 fields in both scenarios.

Just one improvement we could apply is, that when B2B is OFF we can remove the field ""Company Name"", as that one is not required when in B2C mode. See screenshot below:
![image](https://github.com/user-attachments/assets/48e8578e-97ff-4e28-9044-c1f2a953c2b6)


Thanks
cc' @guva-odoo

kcv-odoo (Issue Creator) on (2025-02-04 06:48:04 UTC): Hello @vbe-odoo 

To hide` Company Name` field when setting we need to change the way currently the logic build also have to move that field outside b2b fields block which is in stable is not good because we need to change logic from Ecommerce (website_sale) and since Company Name isn't really blocking any flow and same thing happen with other localisations where we used this logic to always display b2b (AR, EC, PE, CO, ...) and it is not blocking so I am thinking can't we improve that in master because in 17.0 changing view of Ecommerce would be cause issues in any potential customization  
What do you think?

Have a nice day!

vbe-odoo on (2025-02-04 14:39:27 UTC): @kcv-odoo totally agree with you, let's try to see if we can improve this in Master.
For now, we can add it as you said, it is not blocking.
Thanks!

kcv-odoo (Issue Creator) on (2025-02-06 05:23:04 UTC): Hello @clbr-odoo Can you review this? Thank you!

robodoo on (2025-02-06 07:12:06 UTC): @kcv-odoo @clbr-odoo because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

clbr-odoo on (2025-02-06 07:12:16 UTC): @robodoo rebase-ff

robodoo on (2025-02-06 07:12:18 UTC): Merge method set to rebase and fast-forward.

"
2827342668,pull_request,open,,[IMP] maintenance: maintenance requests from equipment category to team,"- Remove mail inheritance from maintenance.equipment.category and apply it to maintenance.team to correctly associate aliases with maintenance teams instead of equipment categories.

task-4419646",temo-odoo,2025-02-03 12:14:36+00:00,[],2025-02-05 06:27:17+00:00,,https://github.com/odoo/odoo/pull/196181,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630781243, 'issue_id': 2827342668, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196181.png)](https://mergebot.odoo.com/odoo/odoo/pull/196181)', 'created_at': datetime.datetime(2025, 2, 3, 12, 14, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:14:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196181.png)](https://mergebot.odoo.com/odoo/odoo/pull/196181)

"
2827342296,pull_request,closed,,[FW][FIX] website: make labels in sidebar translatable,"Some labels in the website editor's sidebar were not translatable, while all the others were.

In this commit we make the following parts translatable:
- The header of the ""Field"" options
- The ""Custom Text"" new field name
- The ""Existing field"" header in the selection list of existing field
- ""Option"", ""Radio"", ""Checkbox"", and ""List"" for list-type fields

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#195942
Forward-Port-Of: odoo/odoo#194014",fw-bot,2025-02-03 12:14:27+00:00,[],2025-02-04 15:54:28+00:00,2025-02-04 15:54:28+00:00,https://github.com/odoo/odoo/pull/196180,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630780829, 'issue_id': 2827342296, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196180.png)](https://mergebot.odoo.com/odoo/odoo/pull/196180)', 'created_at': datetime.datetime(2025, 2, 3, 12, 14, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630780857, 'issue_id': 2827342296, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/snippets/s_website_form/options.js\nAuto-merging addons/website/static/src/xml/website_form_editor.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 14, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633529369, 'issue_id': 2827342296, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 45, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:14:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196180.png)](https://mergebot.odoo.com/odoo/odoo/pull/196180)

fw-bot (Issue Creator) on (2025-02-03 12:14:29 UTC): @dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/snippets/s_website_form/options.js
Auto-merging addons/website/static/src/xml/website_form_editor.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-04 10:45:25 UTC): @robodoo r+

"
2827330869,pull_request,open,,"[FIX] hr, hr_skills, hr_attendance: prevent error while loading the sample data","Currently, an error occurs when a user without Employees value tries to load the sample data in hr_attendance.

Steps to produce:

1) Install the hr and hr_attendance modules.
2) Create a user without Employees value.
3) Log in with the newly created user.
4) Open the hr_attendance module.
5) Attempt to load the sample data.
6) An error occurs.

ValueError
ParseError('while parsing /home/odoo/src/odoo/saas-18.1/addons/hr/data/scenarios /hr_scenario.xml:5, somewhere inside`)

This error occurs when a user tries to load sample data in the hr_attendance module without having the necessary Employees permissions due to security restrictions.

This commit resolves the issue by using sudo() to grant the necessary access to the user while loading data in hr.attendance, preventing a ParseError.

[1] -https://github.com/odoo/odoo/blob/9e5e1fc68001c71538ceb6d4033f2fd6f6f256ee/addons/hr/data/scenarios/hr_scenario.xml#L5-L8

sentry - 6264589252

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kkuj-odoo,2025-02-03 12:09:17+00:00,[],2025-02-03 13:00:25+00:00,,https://github.com/odoo/odoo/pull/196179,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630769650, 'issue_id': 2827330869, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196179.png)](https://mergebot.odoo.com/odoo/odoo/pull/196179)', 'created_at': datetime.datetime(2025, 2, 3, 12, 9, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:09:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196179.png)](https://mergebot.odoo.com/odoo/odoo/pull/196179)

"
2827313461,pull_request,open,,[FIX] website_sale: display VAT field for electronic invoicing in specific localizations,"In some localizations, such as Colombia and Ecuador, the VAT (Identification Number) is mandatory for all electronic invoices. To comply with these requirements, the VAT field is now displayed to users in billing mode when operating in these localizations.

For example, in Colombia, customers must provide both an Identification Type and an Identification Number (VAT) for electronic invoicing, as these details are mandatory for all sales. Additionally, these fields must also be visible and required for extra billing addresses.

The `show_vat` logic has been updated to ensure the VAT field is displayed and required for users in Colombia, Ecuador, and we can add it where electronic invoicing regulations apply.

opw-4309448



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-02-03 12:01:42+00:00,[],2025-02-06 13:03:01+00:00,,https://github.com/odoo/odoo/pull/196177,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2630751588, 'issue_id': 2827313461, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196177.png)](https://mergebot.odoo.com/odoo/odoo/pull/196177)', 'created_at': datetime.datetime(2025, 2, 3, 12, 1, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 12:01:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196177.png)](https://mergebot.odoo.com/odoo/odoo/pull/196177)

"
2827282944,pull_request,closed,,[FW][FIX] website_payment: public user tokenize donation feedback,"After commit ddda5d4a2623d03699d5cb6860d5c984807b6e3d public users were allowed to tokenize their payments with the exception of donation the tokenize field was forced to be False.
However Stripe threw an error when the received intent was different than the one on the frontend.

Fix:
Hide option to tokenize for unlogged in users for donations.

opw-4389881



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195001",fw-bot,2025-02-03 11:47:20+00:00,[],2025-02-04 06:26:45+00:00,2025-02-04 06:26:45+00:00,https://github.com/odoo/odoo/pull/196176,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630721992, 'issue_id': 2827282944, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196176.png)](https://mergebot.odoo.com/odoo/odoo/pull/196176)', 'created_at': datetime.datetime(2025, 2, 3, 11, 47, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630722025, 'issue_id': 2827282944, 'author': 'fw-bot', 'body': '@livaios this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195666\n* odoo/odoo#195650\n* odoo/odoo#195619\n* odoo/odoo#195591\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 47, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630838782, 'issue_id': 2827282944, 'author': 'livaios', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 40, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:47:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196176.png)](https://mergebot.odoo.com/odoo/odoo/pull/196176)

fw-bot (Issue Creator) on (2025-02-03 11:47:23 UTC): @livaios this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195666
* odoo/odoo#195650
* odoo/odoo#195619
* odoo/odoo#195591

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

livaios on (2025-02-03 12:40:48 UTC): @robodoo r+

"
2827280577,pull_request,open,,"[IMP] stock_picking_batch, stock_fleet: improve batch and dispatch management","With this commit
=======================

- Improved batch name by including the operation type in the sequence, allowing users to easily identify the batch at first sight.
- Hide the detailed operations page in the batch form view and adding a new smart button named 'Moves' to show all associated move lines.
- Displayed the end date in the batch form view when dispatch management is active.
- For inventory dashboard: - Filtered all batches based on operation type in the list view when clicking on the batches button. - Added a 'Transport Management' section for internal transfers, similar to Receipts and Delivery Orders.

Task - [4455158](https://www.odoo.com/odoo/my-tasks/4455158)
",dhha-odoo,2025-02-03 11:46:13+00:00,[],2025-02-04 11:00:58+00:00,,https://github.com/odoo/odoo/pull/196175,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630719745, 'issue_id': 2827280577, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196175.png)](https://mergebot.odoo.com/odoo/odoo/pull/196175)', 'created_at': datetime.datetime(2025, 2, 3, 11, 46, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:46:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196175.png)](https://mergebot.odoo.com/odoo/odoo/pull/196175)

"
2827277777,pull_request,closed,,[FW][FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196012",fw-bot,2025-02-03 11:44:56+00:00,[],2025-02-03 21:33:47+00:00,2025-02-03 21:33:47+00:00,https://github.com/odoo/odoo/pull/196174,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630717047, 'issue_id': 2827277777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196174.png)](https://mergebot.odoo.com/odoo/odoo/pull/196174)', 'created_at': datetime.datetime(2025, 2, 3, 11, 44, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630717067, 'issue_id': 2827277777, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 44, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:44:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196174.png)](https://mergebot.odoo.com/odoo/odoo/pull/196174)

fw-bot (Issue Creator) on (2025-02-03 11:44:58 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827277078,pull_request,closed,,[FW][FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945

Forward-Port-Of: odoo/odoo#195996
Forward-Port-Of: odoo/odoo#195554",fw-bot,2025-02-03 11:44:38+00:00,[],2025-02-03 16:10:33+00:00,2025-02-03 16:10:33+00:00,https://github.com/odoo/odoo/pull/196173,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630716398, 'issue_id': 2827277078, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196173.png)](https://mergebot.odoo.com/odoo/odoo/pull/196173)', 'created_at': datetime.datetime(2025, 2, 3, 11, 44, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630716431, 'issue_id': 2827277078, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#195554 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/tests/tours/snippets_all_drag_and_drop.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/snippets_all_drag_and_drop.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 44, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631112396, 'issue_id': 2827277078, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 10, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:44:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196173.png)](https://mergebot.odoo.com/odoo/odoo/pull/196173)

fw-bot (Issue Creator) on (2025-02-03 11:44:40 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#195554 failed.

stdout:
```
Auto-merging addons/website/static/tests/tours/snippets_all_drag_and_drop.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/snippets_all_drag_and_drop.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-03 14:10:43 UTC): @robodoo r+

"
2827276421,pull_request,closed,,[FW][FIX] mail: show discuss time in 24 or 12 based on browser locale,"Exact time are shown in discuss since version 18.0. Format was always 24-hour, which is ok for some users but not for others.

This commit uses time format of luxon browser based on user locale, so that this is the expected format as the user is used to see in all browser apps.

Note that we don't choose DB date format, because discuss app are used by many other users and the custom format on whole DB might make some users happy but others not. In particular, the default en_US language time format in Odoo uses 24-hour when lots of english americans are used and prefer 12-hour format. Using the locale format of browser, which tend to rely on OS settings, makes (almost) everyone happy.

Also the extra AM/PM could lead to size issue on small squashed messages, this commit also fixes it.

opw-4482727

Before / After
![Screenshot 2025-01-31 at 14 16 57](https://github.com/user-attachments/assets/c065c958-51aa-4845-b84f-e09b118ecbe0) ![Screenshot 2025-01-31 at 14 17 26](https://github.com/user-attachments/assets/042f1b11-61f8-4922-b606-f0c08b6d1d43)

Forward-Port-Of: odoo/odoo#195668",fw-bot,2025-02-03 11:44:20+00:00,[],2025-02-05 13:53:57+00:00,2025-02-05 13:53:50+00:00,https://github.com/odoo/odoo/pull/196172,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630715764, 'issue_id': 2827276421, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196172.png)](https://mergebot.odoo.com/odoo/odoo/pull/196172)', 'created_at': datetime.datetime(2025, 2, 3, 11, 44, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630715787, 'issue_id': 2827276421, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196148\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 44, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636433503, 'issue_id': 2827276421, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 10, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:44:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196172.png)](https://mergebot.odoo.com/odoo/odoo/pull/196172)

fw-bot (Issue Creator) on (2025-02-03 11:44:22 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196148

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-02-05 11:10:47 UTC): @robodoo r+

"
2827274805,pull_request,closed,,[FW][FIX] account: accept 'account.report_invoice' in _is_invoice_report,"### Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create a new invoice with a Swiss customer
- Confirm
- In the actions, select ""PDF without payments""
- The generated PDF has a blank page at the end

### Cause:
The report ""account.report_invoice"" does not have a field `is_invoice_report` set to `True`. When generating an invoice with Swiss localization. It reads the field `is_invoice_report` to add or not the QR code.

The bug appears after this [commit](https://github.com/odoo/odoo/commit/bb60952c944db27d71d7fe32ead2dff05c3fe922#diff-b6e108b605fbefba066e3b20f8e030ea78881bbed816f8ac5cb38e745c542739R50) which modified the `_is_invoice_report` method to use the field, but only added the field in ""account_invoices"". 

### Solution:
Set the field to True for the report.

opw-4467250

Forward-Port-Of: odoo/odoo#194911",fw-bot,2025-02-03 11:43:40+00:00,[],2025-02-06 09:42:23+00:00,2025-02-06 09:42:23+00:00,https://github.com/odoo/odoo/pull/196171,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630714265, 'issue_id': 2827274805, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196171.png)](https://mergebot.odoo.com/odoo/odoo/pull/196171)', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630714286, 'issue_id': 2827274805, 'author': 'fw-bot', 'body': '@mathcoutant @RicGR98 cherrypicking of pull request odoo/odoo#194911 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/test_account_move_send.py\nCONFLICT (content): Merge conflict in addons/account/tests/test_account_move_send.py\nAuto-merging addons/account/views/account_report.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:43:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196171.png)](https://mergebot.odoo.com/odoo/odoo/pull/196171)

fw-bot (Issue Creator) on (2025-02-03 11:43:44 UTC): @mathcoutant @RicGR98 cherrypicking of pull request odoo/odoo#194911 failed.

stdout:
```
Auto-merging addons/account/tests/test_account_move_send.py
CONFLICT (content): Merge conflict in addons/account/tests/test_account_move_send.py
Auto-merging addons/account/views/account_report.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827274075,pull_request,closed,,[FW][FIX] web: Prevent users from using json field in the field_selector,"Steps:
    - Install `purchase` or any other model with analytic_mixin
    - Install `analytic`
    - Install `web_studio`
    - Enable analytic in configuration
    - Add a new approval on 'button_confirm' in `purchase.order`
    - Set a domain with analytic_distribution e.g
    -   - e.g. (""order_line.analytic_distribution"", ""="", ""Administrative"")
    - Click on Refresh button
    - The refresh button preview shows x records
    - Create a new purchase.order
    - Add analytic on optional column
    - Add a new product with analytic_distribution Administrative
    - Try to use `button_confirm`
    - Approval is not working while the refresh shows record is available

The json fields, in particular the `analytic_distribution` fields, are not designed to be searched via a `filtered_domain` (which is what studio approval uses to check whether or not a button can be used by the current user), this is currently a technical limitation.

To avoid any future problems, this commit prevents users from using a json field to search on them, since this is not supported.

opw-4416646

Forward-Port-Of: odoo/odoo#195972
Forward-Port-Of: odoo/odoo#195765",fw-bot,2025-02-03 11:43:21+00:00,[],2025-02-03 17:42:57+00:00,2025-02-03 17:42:57+00:00,https://github.com/odoo/odoo/pull/196170,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630713759, 'issue_id': 2827274075, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196170.png)](https://mergebot.odoo.com/odoo/odoo/pull/196170)', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630713783, 'issue_id': 2827274075, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:43:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196170.png)](https://mergebot.odoo.com/odoo/odoo/pull/196170)

fw-bot (Issue Creator) on (2025-02-03 11:43:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827273368,pull_request,closed,,[FW][FIX] pos_hr: fix traceback when opening cashier dialog,"Description of the issue/feature this PR addresses:
- Fixed an issue where changing the cashier with no available cashiers caused a traceback due to an undefined `this.dialog` Replaced it with the correct `dialog` reference.

## step to reproduce
- install `point of sale` 
- setup a new point_of_sale , as shown

![pos config](https://github.com/user-attachments/assets/9a700c6d-2fe9-4008-85b2-13b917f44dd4)

- start session in that pos.
- try to change the cashier

Current behavior before PR:
![pos change cashier](https://github.com/user-attachments/assets/148d7ed8-7361-4a83-99dc-89de98e3358d)


Desired behavior after PR is merged:
![expected behaviour](https://github.com/user-attachments/assets/01c74270-390e-4f51-a04e-396fbab9c8b8)




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195993",fw-bot,2025-02-03 11:43:01+00:00,[],2025-02-04 08:24:58+00:00,2025-02-04 08:24:58+00:00,https://github.com/odoo/odoo/pull/196169,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630713701, 'issue_id': 2827273368, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196169.png)](https://mergebot.odoo.com/odoo/odoo/pull/196169)', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630713722, 'issue_id': 2827273368, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:43:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196169.png)](https://mergebot.odoo.com/odoo/odoo/pull/196169)

fw-bot (Issue Creator) on (2025-02-03 11:43:29 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827272383,pull_request,closed,,[FW][FIX] base: fallback first currency rate,"When creating a new database or activating a new currency, the first rate fetched will often be set only starting ""today"".

This can lead to issues when creating invoices in the past, especially if the conversion rate is very different from 1.

Instead of only using a fallback on 1, we also fallback on the oldest rate in the database if available.

Forward-Port-Of: odoo/odoo#195520
Forward-Port-Of: odoo/odoo#194500",fw-bot,2025-02-03 11:42:37+00:00,[],2025-02-03 21:45:35+00:00,2025-02-03 21:45:35+00:00,https://github.com/odoo/odoo/pull/196168,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630713610, 'issue_id': 2827272383, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196168.png)](https://mergebot.odoo.com/odoo/odoo/pull/196168)', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630713625, 'issue_id': 2827272383, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 43, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630924107, 'issue_id': 2827272383, 'author': 'fw-bot', 'body': '@william-andre @gawa-odoo the next pull request (odoo/odoo#196192) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 12, 59, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630957381, 'issue_id': 2827272383, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 5, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:43:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196168.png)](https://mergebot.odoo.com/odoo/odoo/pull/196168)

fw-bot (Issue Creator) on (2025-02-03 11:43:26 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 12:59:25 UTC): @william-andre @gawa-odoo the next pull request (odoo/odoo#196192) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-02-03 13:05:58 UTC): @robodoo r+

"
2827265783,pull_request,closed,,[FW][FIX] sale: round discount floats display,"## Versions:
17.0+
No fix needed in 16.0 as the discount was not displayed this way.

## Issue:
Discount descriptions contain long string floats while it should be truncated for human reading.

## Steps to reproduce:
- Activate `Discounts` through settings;
- Create a new sale order for any client with at least 1 product;
- Click the `Discount` button on the form;
- Apply a 7% `Global Discount`;
- Read the `Discount` product's description.

## Cause:
Some numbers cannot be represented correctly in Python (including 7, 3.3 etc.).

opw-4485316

Forward-Port-Of: odoo/odoo#195596
Forward-Port-Of: odoo/odoo#195328",fw-bot,2025-02-03 11:39:28+00:00,[],2025-02-04 06:26:41+00:00,2025-02-04 06:26:40+00:00,https://github.com/odoo/odoo/pull/196167,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630705431, 'issue_id': 2827265783, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196167.png)](https://mergebot.odoo.com/odoo/odoo/pull/196167)', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630705456, 'issue_id': 2827265783, 'author': 'fw-bot', 'body': '@barracudapps this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630789015, 'issue_id': 2827265783, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 18, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:39:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196167.png)](https://mergebot.odoo.com/odoo/odoo/pull/196167)

fw-bot (Issue Creator) on (2025-02-03 11:39:30 UTC): @barracudapps this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-02-03 12:18:16 UTC): @robodoo r+

"
2827265131,pull_request,closed,,[FW][FIX] point_of_sale: allow validation of zero-total orders,"Before this commit, a rounding error could leading to scenarios where
orders with a zero total could not be validated. For instance, adding
a product priced at $70 with a 15% tax included and then applying an
eWallet payment in PoS would result in a zero total. However, during
the payment step, the system erroneously prompted for an additional
zero-amount payment line, causing confusion and preventing order
validation.

opw-4487591

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195464
Forward-Port-Of: odoo/odoo#195258",fw-bot,2025-02-03 11:39:09+00:00,[],2025-02-04 19:52:47+00:00,2025-02-04 19:52:47+00:00,https://github.com/odoo/odoo/pull/196166,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630705008, 'issue_id': 2827265131, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196166.png)](https://mergebot.odoo.com/odoo/odoo/pull/196166)', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630705027, 'issue_id': 2827265131, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633950350, 'issue_id': 2827265131, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 32, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:39:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196166.png)](https://mergebot.odoo.com/odoo/odoo/pull/196166)

fw-bot (Issue Creator) on (2025-02-03 11:39:16 UTC): @pedrambiria @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-04 13:32:19 UTC): @robodoo r+

"
2827264443,pull_request,closed,,[FW][FIX] hr_holidays : Calculate duration of leave when flexible hours,"### Steps to reproduce:
	- Create a working schedule that is flexible
	- Assign this working schedule to an Employee
	- Create a time off type and set the request unit to be 'half day'
	- Create an allocation for the created time off type for the employee with the flexible working schedule
	- Create a leave for the mentioned employee with the created time off type for 1 day
	- Notice the duration of the leave is 2 days not 1

### Cause:
When creating a working schedule we compute the duration of the periods and since 'attendance.calendar_id.hours_per_day' won't have a value each period will be 1 day. https://github.com/odoo/odoo/blob/18.0/addons/resource/models/resource_calendar_attendance.py#L82

So, when getting the duration of the leave where its request_unit is not 'day' the duration will be the summation of the periods' duration of the working schedule for the employee which in this case will be 1 for each period -each day has 2 periods with the value of 1-

### Fix:
Check if the employee if on flexible hours we calcualte the duration as the difference between the date_to and date_from rounded up in days

opw-4309551

Forward-Port-Of: odoo/odoo#195634
Forward-Port-Of: odoo/odoo#195223",fw-bot,2025-02-03 11:38:50+00:00,[],2025-02-04 13:26:38+00:00,2025-02-04 13:26:38+00:00,https://github.com/odoo/odoo/pull/196165,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630704919, 'issue_id': 2827264443, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196165.png)](https://mergebot.odoo.com/odoo/odoo/pull/196165)', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630704931, 'issue_id': 2827264443, 'author': 'fw-bot', 'body': '@yoba-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630736252, 'issue_id': 2827264443, 'author': 'yoba-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 11, 54, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630799304, 'issue_id': 2827264443, 'author': 'robodoo', 'body': ""@yoba-odoo @Bertrand2 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 12, 22, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633627400, 'issue_id': 2827264443, 'author': 'yoba-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 11, 26, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633627477, 'issue_id': 2827264443, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 2, 4, 11, 26, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:39:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196165.png)](https://mergebot.odoo.com/odoo/odoo/pull/196165)

fw-bot (Issue Creator) on (2025-02-03 11:39:14 UTC): @yoba-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yoba-odoo on (2025-02-03 11:54:28 UTC): @robodoo r+

robodoo on (2025-02-03 12:22:56 UTC): @yoba-odoo @Bertrand2 'ci/runbot' failed on this reviewed PR.

yoba-odoo on (2025-02-04 11:26:37 UTC): @robodoo r+

robodoo on (2025-02-04 11:26:39 UTC): This PR is already reviewed, reviewing it again is useless.

"
2827264438,pull_request,open,,[FIX] website: hide website dropdown on the home page when only one website remains,"Steps to reproduce:
1. Go to Configuration → Websites.
2. Keep only one website and delete the rest.

Issue:
1. Go to homepage. The website dropdown is still shown in the top bar, even though there’s only one website to pick from.
2. Go to Configuration → Menus and create a new menu. The Website field is still visible, even though there’s only one website to pick from.

Reason:
The Multi-Website group (website.group_multi_website) is added via implied groups whenever more than one website exists. However, we are not removing that group when only one website remains due to a caching issue.

Fix:
1. On the home page, the website dropdown is displayed only if more than one website exists.
2. In the website menu form, if only one website exists, it is automatically selected as the default value in the Website dropdown.

This PR aims to hide website dropdown on the home page when only one website exists and sets the default website in the website menu form if there is only one option.

task-4350420",chdh-odoo,2025-02-03 11:38:50+00:00,[],2025-02-07 09:27:01+00:00,,https://github.com/odoo/odoo/pull/196164,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630704959, 'issue_id': 2827264438, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196164.png)](https://mergebot.odoo.com/odoo/odoo/pull/196164)', 'created_at': datetime.datetime(2025, 2, 3, 11, 39, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:39:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196164.png)](https://mergebot.odoo.com/odoo/odoo/pull/196164)

"
2827262511,pull_request,closed,,[FW][FIX] website: fix required fields conditionally hidden,"Steps to Reproduce:

- Go to the website editor.
- Add a form to the page.
- Select the form and change the default action from ""Send an email"" to ""Create an opportunity.""
- Select the ""Subject"" field.
- Set the visibility condition of the ""Subject"" field to ""visible only if the phone number is set.""
- Since this is a mandatory field, define a default value for the ""Subject"" field.
- Save the changes.
- Fill out the form but leave the phone number field empty so that the ""Subject"" field does not appear.
- Attempt to submit the form.
- Bug: the form is not sent and there is an error message.

The error occurs preventing the record from being created because all required fields are not present, we should use the default value as it has been provided.

This commit prevents adding the ""disabled"" attribute to inputs that are required for models.

opw-4447039

Forward-Port-Of: odoo/odoo#195952
Forward-Port-Of: odoo/odoo#194902",fw-bot,2025-02-03 11:37:57+00:00,[],2025-02-05 10:56:02+00:00,2025-02-05 10:56:01+00:00,https://github.com/odoo/odoo/pull/196163,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2630702088, 'issue_id': 2827262511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196163.png)](https://mergebot.odoo.com/odoo/odoo/pull/196163)', 'created_at': datetime.datetime(2025, 2, 3, 11, 37, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630702152, 'issue_id': 2827262511, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#194902 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/website/static/src/snippets/s_website_form/000.js deleted in 08c43f2e7429ba04f1921acca2f1e0d7447e871c and modified in aba62c047bafe32217a4f4f87aa7832199d4aa96.  Version aba62c047bafe32217a4f4f87aa7832199d4aa96 of addons/website/static/src/snippets/s_website_form/000.js left in tree.\nAuto-merging addons/website/static/tests/tours/website_form_editor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633862544, 'issue_id': 2827262511, 'author': 'bvr-odoo', 'body': 'Dear @SergeBayet Could you re-check please', 'created_at': datetime.datetime(2025, 2, 4, 13, 11, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636050733, 'issue_id': 2827262511, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 25, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:37:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196163.png)](https://mergebot.odoo.com/odoo/odoo/pull/196163)

fw-bot (Issue Creator) on (2025-02-03 11:38:00 UTC): @bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#194902 failed.

stdout:
```
CONFLICT (modify/delete): addons/website/static/src/snippets/s_website_form/000.js deleted in 08c43f2e7429ba04f1921acca2f1e0d7447e871c and modified in aba62c047bafe32217a4f4f87aa7832199d4aa96.  Version aba62c047bafe32217a4f4f87aa7832199d4aa96 of addons/website/static/src/snippets/s_website_form/000.js left in tree.
Auto-merging addons/website/static/tests/tours/website_form_editor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-04 13:11:15 UTC): Dear @SergeBayet Could you re-check please

SergeBayet on (2025-02-05 08:25:46 UTC): @robodoo r+

"
2827246511,pull_request,closed,,[FW][FIX] product_margin: correct product margin report,"- Create a customer invoice with **Product A** priced at 1000 and a quantity of 2.

- Add a line with **Product A** at the same price but with a quantity of -1. Confirm the invoice.

In the product margin report, the `total_margin` for **Product A** is shown as 3000, even though we only sold for 1000 (as shown in the balance report). A similar issue occurs when a line on an invoice has a negative price, for instance, due to a discount on a sales order.

Similarly:

- Create a vendor bill with **Product B**, with a cost of 1000 and a quantity of 2.

- Add a line with **Product B**, with the same cost but a quantity of -1.

In the product margin report, the `total_cost` for **Product B** is shown as 3000, even though we only bought for 1000.

In `_compute_product_margin_fields_values`, the SQL query takes the absolute value of the balance of every account move line to compute `total`. This means negative values become positive and are added to the positive values instead of canceling each other out, creating the above issues. As a result, the product margin report does not align with the balance sheet.

The absolute value is used because `total` is used to compute statistics related to both `out_invoice` (e.g., turnover) and `in_invoice` (e.g., total cost), which both need to be positive. However, the same result can be achieved by inverting the sign for `out_invoice`.

opw-4342691



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195453
Forward-Port-Of: odoo/odoo#193440",fw-bot,2025-02-03 11:30:25+00:00,[],2025-02-04 19:52:52+00:00,2025-02-04 19:52:52+00:00,https://github.com/odoo/odoo/pull/196162,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630685660, 'issue_id': 2827246511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196162.png)](https://mergebot.odoo.com/odoo/odoo/pull/196162)', 'created_at': datetime.datetime(2025, 2, 3, 11, 30, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630685686, 'issue_id': 2827246511, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196149\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 30, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630761275, 'issue_id': 2827246511, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 12, 6, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633474974, 'issue_id': 2827246511, 'author': 'fw-bot', 'body': '@gteboul @jbw-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 4, 10, 23, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633891348, 'issue_id': 2827246511, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 20, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:30:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196162.png)](https://mergebot.odoo.com/odoo/odoo/pull/196162)

fw-bot (Issue Creator) on (2025-02-03 11:30:27 UTC): @gteboul @jbw-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196149

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 12:06:04 UTC): @gteboul @jbw-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-04 10:23:55 UTC): @gteboul @jbw-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

gteboul on (2025-02-04 13:20:07 UTC): @robodoo r+

"
2827207112,pull_request,closed,,[FIX] stock: Prevent Draft moves on Done picking,"## How to Reproduce:
- Create products P1 & P2, storable
- Create receipt picking for 1 unit of P1 -> Confirm
- Open receipt in 2 browser tabs.
- In Tab 1, add a new operation line for 1 unit of P2. !Do Not Save!
- In Tab 2, validate the receipt.
- In Tab 1, save. => Picking went from Ready -> Done -> Ready. Move P1 state = 'done' while move P2 state ='assigned'

## Solution:
When a move is added to a Done picking, we change the state of the move to done, and the move is treated like it was added to a Done unlocked picking.

OPW-3919976
",DavidFesquet,2025-02-03 11:13:01+00:00,[],2025-02-07 18:03:52+00:00,2025-02-07 18:03:52+00:00,https://github.com/odoo/odoo/pull/196161,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2630647659, 'issue_id': 2827207112, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196161.png)](https://mergebot.odoo.com/odoo/odoo/pull/196161)', 'created_at': datetime.datetime(2025, 2, 3, 11, 13, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643387540, 'issue_id': 2827207112, 'author': 'ticodoo', 'body': ""LGTM. It's a bit of an edge use case that isn't covered by the current `default_get` logic, but doesn't hurt to have a double check I guess :shrug: \r\n\r\n@robodoo r+"", 'created_at': datetime.datetime(2025, 2, 7, 16, 19, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:13:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196161.png)](https://mergebot.odoo.com/odoo/odoo/pull/196161)

ticodoo on (2025-02-07 16:19:57 UTC): LGTM. It's a bit of an edge use case that isn't covered by the current `default_get` logic, but doesn't hurt to have a double check I guess :shrug: 

@robodoo r+

"
2827206193,pull_request,closed,,[FW][FIX] web: correctly detect empty fields,"At two different places, we try to determine if the value of an html field is empty. To do so, we create a node on the fly and set its innerHTML to that value. Then, we check if the element has a non-empty innerText. However, this doesn't work as expected if the given value is a text instead of a markuped html. This commit fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196036
Forward-Port-Of: odoo/odoo#195909",fw-bot,2025-02-03 11:12:37+00:00,[],2025-02-03 14:46:15+00:00,2025-02-03 14:46:15+00:00,https://github.com/odoo/odoo/pull/196160,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630646724, 'issue_id': 2827206193, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196160.png)](https://mergebot.odoo.com/odoo/odoo/pull/196160)', 'created_at': datetime.datetime(2025, 2, 3, 11, 12, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630646748, 'issue_id': 2827206193, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 12, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:12:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196160.png)](https://mergebot.odoo.com/odoo/odoo/pull/196160)

fw-bot (Issue Creator) on (2025-02-03 11:12:39 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827201876,pull_request,closed,,[FW][FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648

Forward-Port-Of: odoo/odoo#193239",fw-bot,2025-02-03 11:10:45+00:00,[],2025-02-03 15:20:46+00:00,2025-02-03 15:20:46+00:00,https://github.com/odoo/odoo/pull/196159,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630642512, 'issue_id': 2827201876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196159.png)](https://mergebot.odoo.com/odoo/odoo/pull/196159)', 'created_at': datetime.datetime(2025, 2, 3, 11, 10, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630642544, 'issue_id': 2827201876, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#193239 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/utils/utils.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/utils/utils.js\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/test/spec/editor.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 10, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630957546, 'issue_id': 2827201876, 'author': 'shsa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 6, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:10:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196159.png)](https://mergebot.odoo.com/odoo/odoo/pull/196159)

fw-bot (Issue Creator) on (2025-02-03 11:10:46 UTC): @shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#193239 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/utils/utils.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/utils/utils.js
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/test/spec/editor.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

shsa-odoo on (2025-02-03 13:06:03 UTC): @robodoo r+

"
2827184298,pull_request,open,,[FIX] pos_self_order: 'False' in unique code for self order,"Steps:
===
- Open the restaurant's POS system.
- Configure it for self-invoicing with QR code + link.
- Access the restaurant's mobile menu.
- Place an order and download the receipt.

Issue:
===
- The receipt shows an incorrect unique code.
- The QR code and link redirect to `undefined/pos/ticket`.

Fix:
===
- Corrected the system to generate a valid unique code for each order.
- Fixed the QR code and link to properly redirect to the correct page.

Task: 4512074",djip-odoo,2025-02-03 11:03:01+00:00,[],2025-02-03 12:00:31+00:00,,https://github.com/odoo/odoo/pull/196158,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630625076, 'issue_id': 2827184298, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196158.png)](https://mergebot.odoo.com/odoo/odoo/pull/196158)', 'created_at': datetime.datetime(2025, 2, 3, 11, 3, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 11:03:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196158.png)](https://mergebot.odoo.com/odoo/odoo/pull/196158)

"
2827133551,pull_request,closed,,[REF] mrp: extract MO domain from _run_manufacture,"Refactor the `_run_manufacture` method in the `stock.rule` model to have a separate method to build the domain used to find an existing manufacturing order that can handle the procurement request. Having a separate method provides an easier way to extend the domain in other modules. A similar approach is already used in the `_run_buy` method.

Description of the issue/feature this PR addresses:
Patching the entire `_run_manufacture` method is required to change the MO domain.

Current behavior before PR:
The domain is built inside the `_run_manufacture` method

Desired behavior after PR is merged:
The domain is built in a dedicated method that can be easily overwritten in custom modules.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",azl-odoo,2025-02-03 10:40:55+00:00,[],2025-02-04 10:39:44+00:00,2025-02-04 10:39:44+00:00,https://github.com/odoo/odoo/pull/196156,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630574333, 'issue_id': 2827133551, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196156.png)](https://mergebot.odoo.com/odoo/odoo/pull/196156)', 'created_at': datetime.datetime(2025, 2, 3, 10, 40, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633214441, 'issue_id': 2827133551, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 33, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:40:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196156.png)](https://mergebot.odoo.com/odoo/odoo/pull/196156)

amoyaux on (2025-02-04 08:33:31 UTC): robodoo r+

"
2827122762,pull_request,open,,[FIX] project: prevent empty groups in gantt view group by customer,"Steps to Reproduce
- Open Tasks in the Gantt view.
- Grouped the tasks by Customer.
- `YourCompany` still appears as an empty group.

Cause
- After merged this commit: https://github.com/odoo/odoo/pull/194673/commits/5c2e8c58290571a9d8e59e2602db6493b381945e, This change caused the `filter_domain_leaf()` function now returns   `[(1, '=', 1)]` as the default domain. However, the `_change_operator`  method does not correctly handle the `(1, '=', 1)` leaf, resulting in empty groups being displayed.

Solution
- Skip the leaf `(1, '=', 1)` in `_change_operator` to prevent empty groups from appearing in the Gantt view.

task-4244705

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mjvi-odoo,2025-02-03 10:36:16+00:00,['mjvi-odoo'],2025-02-04 06:17:47+00:00,,https://github.com/odoo/odoo/pull/196155,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630563279, 'issue_id': 2827122762, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196155.png)](https://mergebot.odoo.com/odoo/odoo/pull/196155)', 'created_at': datetime.datetime(2025, 2, 3, 10, 36, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:36:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196155.png)](https://mergebot.odoo.com/odoo/odoo/pull/196155)

"
2827122092,pull_request,closed,,[FIX] mass_mailing: make unsubcription page work in website,"A recent change modified the unsubscription flow to make it more resilient to automated security agents. Unfortunately, the implementation of this change breaks if the Website module is installed, and the flow becomes unusable.

This commit makes it so that the unsubscription flow works once more, without compromising on resilience to security agents.

task-4364446
",creaturemusings,2025-02-03 10:35:57+00:00,[],2025-02-03 12:48:46+00:00,2025-02-03 12:48:46+00:00,https://github.com/odoo/odoo/pull/196154,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630562486, 'issue_id': 2827122092, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196154.png)](https://mergebot.odoo.com/odoo/odoo/pull/196154)', 'created_at': datetime.datetime(2025, 2, 3, 10, 35, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630591246, 'issue_id': 2827122092, 'author': 'std-odoo', 'body': '@robodoo up to saas-17.5', 'created_at': datetime.datetime(2025, 2, 3, 10, 47, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630591359, 'issue_id': 2827122092, 'author': 'robodoo', 'body': ""@std-odoo there is no branch 'saas-17.5', it can't be used as a forward port target."", 'created_at': datetime.datetime(2025, 2, 3, 10, 47, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630592140, 'issue_id': 2827122092, 'author': 'std-odoo', 'body': '@robodoo up to 18.0', 'created_at': datetime.datetime(2025, 2, 3, 10, 48, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630592220, 'issue_id': 2827122092, 'author': 'robodoo', 'body': ""Forward-porting to '18.0'."", 'created_at': datetime.datetime(2025, 2, 3, 10, 48, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:35:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196154.png)](https://mergebot.odoo.com/odoo/odoo/pull/196154)

std-odoo on (2025-02-03 10:47:57 UTC): @robodoo up to saas-17.5

robodoo on (2025-02-03 10:47:59 UTC): @std-odoo there is no branch 'saas-17.5', it can't be used as a forward port target.

std-odoo on (2025-02-03 10:48:20 UTC): @robodoo up to 18.0

robodoo on (2025-02-03 10:48:22 UTC): Forward-porting to '18.0'.

"
2827117362,pull_request,closed,,[FIX] account_edi_ubl_cii: better display of the EAS field,"Let's increase the label size since the EAS are quite long.

task-no

Before:
![image](https://github.com/user-attachments/assets/9dc51ce9-37e3-4c33-8f7f-d076d246360d)

After:
![image](https://github.com/user-attachments/assets/384ebe11-3b7d-4723-b8b5-a1927cdbdd15)
",clbr-odoo,2025-02-03 10:33:55+00:00,[],2025-02-03 14:44:33+00:00,2025-02-03 14:44:32+00:00,https://github.com/odoo/odoo/pull/196153,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630557828, 'issue_id': 2827117362, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196153.png)](https://mergebot.odoo.com/odoo/odoo/pull/196153)', 'created_at': datetime.datetime(2025, 2, 3, 10, 33, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630626245, 'issue_id': 2827117362, 'author': 'robodoo', 'body': ""@clbr-odoo @smetl 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 11, 3, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:33:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196153.png)](https://mergebot.odoo.com/odoo/odoo/pull/196153)

robodoo on (2025-02-03 11:03:34 UTC): @clbr-odoo @smetl 'ci/runbot' failed on this reviewed PR.

"
2827100082,pull_request,closed,,[FIX] mail: better message highlight,"The current message highlight isn't really visible in dark mode. It's also not really visible at all, and it ""breaks"" the UI by making the other messages a bit less visible.

This PR removes the translation and creates a highlight animation.

Task-4543530

![image](https://github.com/user-attachments/assets/42b7e6da-1208-4c67-b23b-588e3191ce44)
",phenix-factory,2025-02-03 10:26:25+00:00,[],2025-02-05 11:18:21+00:00,2025-02-05 10:54:11+00:00,https://github.com/odoo/odoo/pull/196152,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630540570, 'issue_id': 2827100082, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196152.png)](https://mergebot.odoo.com/odoo/odoo/pull/196152)', 'created_at': datetime.datetime(2025, 2, 3, 10, 26, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631169256, 'issue_id': 2827100082, 'author': 'Atovange', 'body': '![image](https://github.com/user-attachments/assets/daa3b92d-c9b2-4bbf-8688-c4a22b635eb4)\r\n\r\nI think Alex showed me something like this at some point.', 'created_at': datetime.datetime(2025, 2, 3, 14, 31, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631200767, 'issue_id': 2827100082, 'author': 'phenix-factory', 'body': '> I think Alex showed me something like this at some point.\r\n\r\n@Atovange yes, this is to introduce the concept, we can improve it after with whatever design we want. Design considerations are always messy and a waste of time. This is to remove the ""jump"" animation and introduce a highlight.', 'created_at': datetime.datetime(2025, 2, 3, 14, 43, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636396150, 'issue_id': 2827100082, 'author': 'phenix-factory', 'body': '> The current highlight visual is far better than this one.\r\n\r\n:face_exhaling:', 'created_at': datetime.datetime(2025, 2, 5, 10, 54, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636449546, 'issue_id': 2827100082, 'author': 'alexkuhn', 'body': ""I'm not against making some tweaks to improve it, but to clarify what's better with current visual and this one was worse:\r\n- transform animation makes a visual move, it attracts looking at the part that moved. Removing this animation is a regression\r\n- animation time from 2sec. to 3sec. feels slow and boring.\r\n- suggested color change is too much: the highlight should be visible but not overpowering with the rest of UI.\r\n\r\nI think that motivation for change is dark theme. I think we could make the shadow effect greying in dark theme specifically, so the transform effect is more visible."", 'created_at': datetime.datetime(2025, 2, 5, 11, 18, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:26:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196152.png)](https://mergebot.odoo.com/odoo/odoo/pull/196152)

Atovange on (2025-02-03 14:31:51 UTC): ![image](https://github.com/user-attachments/assets/daa3b92d-c9b2-4bbf-8688-c4a22b635eb4)

I think Alex showed me something like this at some point.

phenix-factory (Issue Creator) on (2025-02-03 14:43:49 UTC): @Atovange yes, this is to introduce the concept, we can improve it after with whatever design we want. Design considerations are always messy and a waste of time. This is to remove the ""jump"" animation and introduce a highlight.

phenix-factory (Issue Creator) on (2025-02-05 10:54:11 UTC): :face_exhaling:

alexkuhn on (2025-02-05 11:18:19 UTC): I'm not against making some tweaks to improve it, but to clarify what's better with current visual and this one was worse:
- transform animation makes a visual move, it attracts looking at the part that moved. Removing this animation is a regression
- animation time from 2sec. to 3sec. feels slow and boring.
- suggested color change is too much: the highlight should be visible but not overpowering with the rest of UI.

I think that motivation for change is dark theme. I think we could make the shadow effect greying in dark theme specifically, so the transform effect is more visible.

"
2827093678,pull_request,closed,,[IMP] point_of_sale:  increase preparation ticket text size,"This commit increases the text size of the ordered product and notes on the preparation ticket, ensuring better readability.

task-4535901
",stva-odoo,2025-02-03 10:23:47+00:00,[],2025-02-05 02:45:45+00:00,2025-02-05 02:45:45+00:00,https://github.com/odoo/odoo/pull/196151,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630533761, 'issue_id': 2827093678, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196151.png)](https://mergebot.odoo.com/odoo/odoo/pull/196151)', 'created_at': datetime.datetime(2025, 2, 3, 10, 23, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:23:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196151.png)](https://mergebot.odoo.com/odoo/odoo/pull/196151)

"
2827092304,pull_request,closed,,[FW][FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196012",fw-bot,2025-02-03 10:23:10+00:00,[],2025-02-03 17:50:36+00:00,2025-02-03 17:50:35+00:00,https://github.com/odoo/odoo/pull/196150,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630532226, 'issue_id': 2827092304, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196150.png)](https://mergebot.odoo.com/odoo/odoo/pull/196150)', 'created_at': datetime.datetime(2025, 2, 3, 10, 23, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630532249, 'issue_id': 2827092304, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 23, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:23:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196150.png)](https://mergebot.odoo.com/odoo/odoo/pull/196150)

fw-bot (Issue Creator) on (2025-02-03 10:23:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827082921,pull_request,closed,,[FW][FIX] product_margin: correct product margin report,"- Create a customer invoice with **Product A** priced at 1000 and a quantity of 2.

- Add a line with **Product A** at the same price but with a quantity of -1. Confirm the invoice.

In the product margin report, the `total_margin` for **Product A** is shown as 3000, even though we only sold for 1000 (as shown in the balance report). A similar issue occurs when a line on an invoice has a negative price, for instance, due to a discount on a sales order.

Similarly:

- Create a vendor bill with **Product B**, with a cost of 1000 and a quantity of 2.

- Add a line with **Product B**, with the same cost but a quantity of -1.

In the product margin report, the `total_cost` for **Product B** is shown as 3000, even though we only bought for 1000.

In `_compute_product_margin_fields_values`, the SQL query takes the absolute value of the balance of every account move line to compute `total`. This means negative values become positive and are added to the positive values instead of canceling each other out, creating the above issues. As a result, the product margin report does not align with the balance sheet.

The absolute value is used because `total` is used to compute statistics related to both `out_invoice` (e.g., turnover) and `in_invoice` (e.g., total cost), which both need to be positive. However, the same result can be achieved by inverting the sign for `out_invoice`.

opw-4342691



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195453
Forward-Port-Of: odoo/odoo#193440",fw-bot,2025-02-03 10:19:00+00:00,[],2025-02-05 18:48:07+00:00,2025-02-05 18:48:07+00:00,https://github.com/odoo/odoo/pull/196149,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630522724, 'issue_id': 2827082921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196149.png)](https://mergebot.odoo.com/odoo/odoo/pull/196149)', 'created_at': datetime.datetime(2025, 2, 3, 10, 19, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630522746, 'issue_id': 2827082921, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 19, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633475036, 'issue_id': 2827082921, 'author': 'fw-bot', 'body': ""@gteboul @jbw-odoo child PR odoo/odoo#196162 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 4, 10, 23, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636794775, 'issue_id': 2827082921, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 0, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:19:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196149.png)](https://mergebot.odoo.com/odoo/odoo/pull/196149)

fw-bot (Issue Creator) on (2025-02-03 10:19:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 10:23:57 UTC): @gteboul @jbw-odoo child PR odoo/odoo#196162 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

gteboul on (2025-02-05 13:00:14 UTC): @robodoo r+

"
2827082189,pull_request,closed,,[FW][FIX] mail: show discuss time in 24 or 12 based on browser locale,"Exact time are shown in discuss since version 18.0. Format was always 24-hour, which is ok for some users but not for others.

This commit uses time format of luxon browser based on user locale, so that this is the expected format as the user is used to see in all browser apps.

Note that we don't choose DB date format, because discuss app are used by many other users and the custom format on whole DB might make some users happy but others not. In particular, the default en_US language time format in Odoo uses 24-hour when lots of english americans are used and prefer 12-hour format. Using the locale format of browser, which tend to rely on OS settings, makes (almost) everyone happy.

Also the extra AM/PM could lead to size issue on small squashed messages, this commit also fixes it.

opw-4482727

Before / After
![Screenshot 2025-01-31 at 14 16 57](https://github.com/user-attachments/assets/c065c958-51aa-4845-b84f-e09b118ecbe0) ![Screenshot 2025-01-31 at 14 17 26](https://github.com/user-attachments/assets/042f1b11-61f8-4922-b606-f0c08b6d1d43)

Forward-Port-Of: odoo/odoo#195668",fw-bot,2025-02-03 10:18:41+00:00,[],2025-02-05 13:21:14+00:00,2025-02-05 13:21:14+00:00,https://github.com/odoo/odoo/pull/196148,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630522045, 'issue_id': 2827082189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196148.png)](https://mergebot.odoo.com/odoo/odoo/pull/196148)', 'created_at': datetime.datetime(2025, 2, 3, 10, 18, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630522068, 'issue_id': 2827082189, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 18, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:18:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196148.png)](https://mergebot.odoo.com/odoo/odoo/pull/196148)

fw-bot (Issue Creator) on (2025-02-03 10:18:45 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827081491,pull_request,closed,,[FW][FIX] website: fix required fields conditionally hidden,"Steps to Reproduce:

- Go to the website editor.
- Add a form to the page.
- Select the form and change the default action from ""Send an email"" to ""Create an opportunity.""
- Select the ""Subject"" field.
- Set the visibility condition of the ""Subject"" field to ""visible only if the phone number is set.""
- Since this is a mandatory field, define a default value for the ""Subject"" field.
- Save the changes.
- Fill out the form but leave the phone number field empty so that the ""Subject"" field does not appear.
- Attempt to submit the form.
- Bug: the form is not sent and there is an error message.

The error occurs preventing the record from being created because all required fields are not present, we should use the default value as it has been provided.

This commit prevents adding the ""disabled"" attribute to inputs that are required for models.

opw-4447039

Forward-Port-Of: odoo/odoo#195952
Forward-Port-Of: odoo/odoo#194902",fw-bot,2025-02-03 10:18:22+00:00,[],2025-02-03 14:32:05+00:00,2025-02-03 14:32:05+00:00,https://github.com/odoo/odoo/pull/196147,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630521397, 'issue_id': 2827081491, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196147.png)](https://mergebot.odoo.com/odoo/odoo/pull/196147)', 'created_at': datetime.datetime(2025, 2, 3, 10, 18, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630521410, 'issue_id': 2827081491, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 18, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630702105, 'issue_id': 2827081491, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet the next pull request (odoo/odoo#196163) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 11, 37, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630831200, 'issue_id': 2827081491, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 37, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:18:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196147.png)](https://mergebot.odoo.com/odoo/odoo/pull/196147)

fw-bot (Issue Creator) on (2025-02-03 10:18:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 11:37:59 UTC): @bvr-odoo @SergeBayet the next pull request (odoo/odoo#196163) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-03 12:37:21 UTC): @robodoo r+

"
2827067372,pull_request,closed,,[FW][FIX] hr_timesheet: fix the validation error on create in form,"Steps to reproduce:

- Open any editable project from portal
- Open any task
- Create a task using Form New button.
- Give the changes and save

Issue:

- A validation error

Reason:

- The timesheets ids field in project sharing view has readonly attruibute which
it shouldn't have.
- Due to this changes are fetched and context in evaluated this field
becomes writable.

Fix:

- Remove the readonly attribute as timesheet_ids is already a readonly field
in portal side.

task- 4494040

Forward-Port-Of: odoo/odoo#195102
Forward-Port-Of: odoo/odoo#194465",fw-bot,2025-02-03 10:12:14+00:00,[],2025-02-03 21:21:45+00:00,2025-02-03 21:21:45+00:00,https://github.com/odoo/odoo/pull/196146,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630506835, 'issue_id': 2827067372, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196146.png)](https://mergebot.odoo.com/odoo/odoo/pull/196146)', 'created_at': datetime.datetime(2025, 2, 3, 10, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630506851, 'issue_id': 2827067372, 'author': 'fw-bot', 'body': '@kthe-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196134\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630609444, 'issue_id': 2827067372, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 56, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630619011, 'issue_id': 2827067372, 'author': 'robodoo', 'body': ""@kthe-odoo @xavierbol 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 11, 0, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:12:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196146.png)](https://mergebot.odoo.com/odoo/odoo/pull/196146)

fw-bot (Issue Creator) on (2025-02-03 10:12:18 UTC): @kthe-odoo @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196134

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavierbol on (2025-02-03 10:56:11 UTC): robodoo r+

robodoo on (2025-02-03 11:00:19 UTC): @kthe-odoo @xavierbol 'ci/runbot' failed on this reviewed PR.

"
2827060749,pull_request,closed,,[FW][FIX] base: Fix a traceback with the partner merging wizard,"Description of the issue/feature this PR addresses:

Fix a traceback with the partner merging wizard.

Current behavior before PR:

Currently, the partner merging wizard doesn't support fields of type `reference`, because this type of field is never used by Odoo on model `res.partner`.
This will never happend in native Odoo, but some external addons can trigger this traceback.

Desired behavior after PR is merged:

The traceback is fixed and reference fields are treated like any others field types.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195432",fw-bot,2025-02-03 10:09:21+00:00,[],2025-02-03 21:21:50+00:00,2025-02-03 21:21:50+00:00,https://github.com/odoo/odoo/pull/196145,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630499950, 'issue_id': 2827060749, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196145.png)](https://mergebot.odoo.com/odoo/odoo/pull/196145)', 'created_at': datetime.datetime(2025, 2, 3, 10, 9, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630499981, 'issue_id': 2827060749, 'author': 'fw-bot', 'body': '@BurkhalterY @ryv-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196028\n* odoo/odoo#196014\n* odoo/odoo#195997\n* odoo/odoo#195980\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 9, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630570926, 'issue_id': 2827060749, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 39, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:09:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196145.png)](https://mergebot.odoo.com/odoo/odoo/pull/196145)

fw-bot (Issue Creator) on (2025-02-03 10:09:23 UTC): @BurkhalterY @ryv-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196028
* odoo/odoo#196014
* odoo/odoo#195997
* odoo/odoo#195980

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ryv-odoo on (2025-02-03 10:39:37 UTC): @robodoo r+

"
2827044909,pull_request,closed,,[FW][IMP] im_livechat: Change arrow to 'continue' when livechat ended,"**Purpose of the PR:**

Change the arrow icon to 'Continue' when a live chat conversation has ended to improve user clarity.

task-4535875

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196072",fw-bot,2025-02-03 10:02:57+00:00,[],2025-02-04 05:12:50+00:00,2025-02-03 21:21:56+00:00,https://github.com/odoo/odoo/pull/196144,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630484971, 'issue_id': 2827044909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196144.png)](https://mergebot.odoo.com/odoo/odoo/pull/196144)', 'created_at': datetime.datetime(2025, 2, 3, 10, 3, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630485000, 'issue_id': 2827044909, 'author': 'fw-bot', 'body': '@jayp-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 3, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630530360, 'issue_id': 2827044909, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 22, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:03:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196144.png)](https://mergebot.odoo.com/odoo/odoo/pull/196144)

fw-bot (Issue Creator) on (2025-02-03 10:03:16 UTC): @jayp-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jayp-odoo on (2025-02-03 10:22:24 UTC): @robodoo r+

"
2827043840,pull_request,closed,,[FW][FIX] point_of_sale: handle offline POS traceback,"Steps to Reproduce:
===================
- Open a POS session and go offline.
- Create orders and print receipts at the receipt screen.
- Restore the internet connection and bring the POS online.
- A traceback occurs during synchronization.

Before this commit:
=====================
A traceback occurred when making a POS order, printing a receipt in offline
mode, and later going online.
The issue arose because the nb_print field was updated via a backend write call
to restrict payment method edits. However, during offline mode, the order_id
was a string, causing the traceback.

After this commit:
===================
- The backend write call for nb_print is bypassed in offline mode. Instead, the
 `nb_print` count is updated on the frontend. When the order syncs after going
  online, the increased `nb_print` value prevents payment method edits as
  expected.
- Removed the nb_print validation constrains from payment lines. Validation is
  already handled in the write method of pos.order. This change avoids
  validation errors when syncing orders from offline to online, where
  nb_print = 1 and payment lines exist. The write method ensures proper handling
  during order creation.
- A `Connection Lost` error message is displayed when attempting to send
  orders to the kitchen while in offline mode.

Task-4504625

Forward-Port-Of: odoo/odoo#196060
Forward-Port-Of: odoo/odoo#194694",fw-bot,2025-02-03 10:02:38+00:00,[],2025-02-04 06:27:07+00:00,2025-02-04 06:27:07+00:00,https://github.com/odoo/odoo/pull/196143,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630484903, 'issue_id': 2827043840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196143.png)](https://mergebot.odoo.com/odoo/odoo/pull/196143)', 'created_at': datetime.datetime(2025, 2, 3, 10, 3, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630484930, 'issue_id': 2827043840, 'author': 'fw-bot', 'body': '@jipr-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 10, 3, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631052127, 'issue_id': 2827043840, 'author': 'jipr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 46, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:03:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196143.png)](https://mergebot.odoo.com/odoo/odoo/pull/196143)

fw-bot (Issue Creator) on (2025-02-03 10:03:14 UTC): @jipr-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jipr-odoo on (2025-02-03 13:46:37 UTC): @robodoo r+

"
2827041838,pull_request,open,,[IMP] project: improve milestone icon color for kanban card,"This commit enhances the milestone icon colors on kanban and list view. After this update the behavior is as follows:
let there are 3 un-reached milestones in a project then:
- If one of them misses the deadline and task is not done then it should display red. 
- If no milestone misses the deadline and any tasks in the closed stage it should display green.
- and when all milestones are still in progress it should display as muted

task-4444627



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rajh-odoo,2025-02-03 10:02:04+00:00,[],2025-02-07 08:56:22+00:00,,https://github.com/odoo/odoo/pull/196142,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630482171, 'issue_id': 2827041838, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196142.png)](https://mergebot.odoo.com/odoo/odoo/pull/196142)', 'created_at': datetime.datetime(2025, 2, 3, 10, 2, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 10:02:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196142.png)](https://mergebot.odoo.com/odoo/odoo/pull/196142)

"
2827032527,pull_request,closed,,[FW][FIX] survey: fix final leaderboard screen,"[FIX] survey: fix final leaderboard layout

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)

The stats only occupies a small portion of the width and the button are very close to the title.

We solve the problem by enlarging the stats like the previous result screens to get a layout similar as in v16.0.

[FIX] documents: fix close buttons

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)
- Click on the ""Close"" button

Nothing happens while it should close the session and get back to the survey form.

Actually, the code was closing the session but failed to get back to the survey as it was using ""window.history.back()"" and the button ""create session"" launches the session in a new tab that has no history as all the survey happens on the same URL. We solve the problem by reloading the page instead. As the session is closed, the page then displays ""Thank you"".

We change slightly the tour as it expects that at the end, the close button leads to the survey back-end form (as it checks the presence of the button ""Create Session"" which is the action ""action_start_session""). But as the session is started in a new tab, we have decided that it is better to display the final ""Thank you"" screen rather than returning to the back-end survey form as this is meant to be displayed in public.

[FIX] documents: fix infinite line when max score is 0

How to reproduce:
- Create a live survey
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the wrong answer to the question

At the end of the survey, the score bar size is very big (multiple time of the screen width).

We solve the problem by avoiding dividing by 0.

Task-4381603

Forward-Port-Of: odoo/odoo#195706
Forward-Port-Of: odoo/odoo#190442",fw-bot,2025-02-03 09:59:10+00:00,[],2025-02-04 06:27:16+00:00,2025-02-04 06:27:16+00:00,https://github.com/odoo/odoo/pull/196141,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630474914, 'issue_id': 2827032527, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196141.png)](https://mergebot.odoo.com/odoo/odoo/pull/196141)', 'created_at': datetime.datetime(2025, 2, 3, 9, 59, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630474946, 'issue_id': 2827032527, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196052\n* odoo/odoo#196034\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 9, 59, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631091765, 'issue_id': 2827032527, 'author': 'flch-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 2, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 09:59:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196141.png)](https://mergebot.odoo.com/odoo/odoo/pull/196141)

fw-bot (Issue Creator) on (2025-02-03 09:59:13 UTC): @pyduf @flch-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196052
* odoo/odoo#196034

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

flch-odoo on (2025-02-03 14:02:37 UTC): @robodoo r+

"
2826998726,pull_request,closed,,"[FW][FIX] purchase_stock,stock_account: no exch. diff. if future correction AMLs","**Current behavior:**
With Anglo-Saxon accounting, for some tracked product, with FIFO and real-time valuation:

Making a purchase order in some foreign currency, having some exchange rate for today, receiving the product, then dating the vendor bill to some future date with a different exchange rate will result in exchange difference journal entries when the bill is posted.

**Expected behavior:**
We shouldn't see exchange difference entries, as there are pending corrective valuation entries which have simply not been posted yet.

Reconciliation should be deferred until these moves are no longer in draft.

**Steps to reproduce:**
1. Activate another currency, define some rate for today and another (different) rate for tomorrow

2. Create a product with FIFO and real-time costing & valuation

3. Create an initial purchase for the product, receive then bill normally

4. Create another purchase order and receive the product

5. Create the invoice, set the invoie date for tomorrow

6. Post the invoice -> Open the `Exchange Difference` journal to see the entries which should not have been generated

**Cause of the issue:**
After creating the AMLs which represent the difference in reception/bill unit price of the product, they are caught here: https://github.com/odoo/odoo/blob/971400771a31c05641a8672f6b1d85afaa9c4a19/addons/account/models/account_move.py#L3575 and designated as future moves, not to be posted at this time.

At the end of the `_post()` stack: https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L229 where there would normally be some `correction_amls`, they weren't created here because the AMLs for the price diff were not posted- so the price diff entry is generated.

**Fix:**
Wait for pending (`state == 'draft'`) AMLs that are part of some `AccountMove`'s valuation to be no longer in draft before allowing reconciliation with a currency exchange difference.

opw-4266652

Forward-Port-Of: odoo/odoo#195073
Forward-Port-Of: odoo/odoo#193971",fw-bot,2025-02-03 09:49:08+00:00,[],2025-02-04 15:54:40+00:00,2025-02-04 15:54:40+00:00,https://github.com/odoo/odoo/pull/196140,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2630451761, 'issue_id': 2826998726, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196140.png)](https://mergebot.odoo.com/odoo/odoo/pull/196140)', 'created_at': datetime.datetime(2025, 2, 3, 9, 49, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630451849, 'issue_id': 2826998726, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#193971 failed.\n\nstdout:\n```\nAuto-merging addons/purchase_stock/tests/test_anglo_saxon_valuation_reconciliation.py\nCONFLICT (content): Merge conflict in addons/purchase_stock/tests/test_anglo_saxon_valuation_reconciliation.py\nAuto-merging addons/stock_account/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 9, 49, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633999834, 'issue_id': 2826998726, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 41, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 09:49:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196140.png)](https://mergebot.odoo.com/odoo/odoo/pull/196140)

fw-bot (Issue Creator) on (2025-02-03 09:49:11 UTC): @ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#193971 failed.

stdout:
```
Auto-merging addons/purchase_stock/tests/test_anglo_saxon_valuation_reconciliation.py
CONFLICT (content): Merge conflict in addons/purchase_stock/tests/test_anglo_saxon_valuation_reconciliation.py
Auto-merging addons/stock_account/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-02-04 13:41:48 UTC): @robodoo r+

"
2826954360,pull_request,closed,,[FIX] base: missing autoprefix key for ormcache,"During the adaptation of the autoprefix PR [1], the new parameter wasn't added to the ORM cache key description which can lead to mismatching between the prefixed and non-prefixed version of a same bundle.

This commit adds the missing key.

[1]: https://github.com/odoo/odoo/pull/193043
",pparidans,2025-02-03 09:36:16+00:00,['pparidans'],2025-02-04 06:27:03+00:00,2025-02-04 06:27:03+00:00,https://github.com/odoo/odoo/pull/196139,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2630422447, 'issue_id': 2826954360, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196139.png)](https://mergebot.odoo.com/odoo/odoo/pull/196139)', 'created_at': datetime.datetime(2025, 2, 3, 9, 36, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 09:36:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196139.png)](https://mergebot.odoo.com/odoo/odoo/pull/196139)

"
2826912268,pull_request,open,,[FIX] base: ir_actions_report: always get PDF in debug=0,"Before this commit here was a discrepancy between getting a report from the Web interface in debug=assets and in debug=0 In debug=assets, some parts of the report were invisible, namely the footer.

Following efforts made by 7c4e591d58dd2b882f0c237d52490b2756c94203, this commit forces the PDF rendering in debug=0 mode

Some behaviors are left mysterious though.
The web.minimal_layout has a <base /> node to make sure every resources is fetched by wkhtml from that origin. It seems that wkhtmltopdf actually makes a fetch request to that raw url with unspecified debug mode. The session being open, ir_qweb is in debug mode anyway, which makes that rpc rendering the main page in debug=assets. For some reason, probably time and memory, that call is responsible for hiding some parts of the report in PDF.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kebeclibre,2025-02-03 09:22:56+00:00,[],2025-02-07 08:19:29+00:00,,https://github.com/odoo/odoo/pull/196138,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630391122, 'issue_id': 2826912268, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196138.png)](https://mergebot.odoo.com/odoo/odoo/pull/196138)', 'created_at': datetime.datetime(2025, 2, 3, 9, 22, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637474130, 'issue_id': 2826912268, 'author': 'kebeclibre', 'body': ""@Gorash \r\n@xmo-odoo \r\nReady to review.\r\n\r\nThe ping to / was due to a css function url triggered with no parameter (legal in CSS)\r\nThe copy of the session that we saw @xmo-odoo is not present in 16.0, but i'll make sure to adapt my code in the forward port\r\nI'll also try to modify the new report layouts that have been merged along the way"", 'created_at': datetime.datetime(2025, 2, 5, 16, 49, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 09:22:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196138.png)](https://mergebot.odoo.com/odoo/odoo/pull/196138)

kebeclibre (Issue Creator) on (2025-02-05 16:49:09 UTC): @Gorash 
@xmo-odoo 
Ready to review.

The ping to / was due to a css function url triggered with no parameter (legal in CSS)
The copy of the session that we saw @xmo-odoo is not present in 16.0, but i'll make sure to adapt my code in the forward port
I'll also try to modify the new report layouts that have been merged along the way

"
2826894272,pull_request,open,,[FIX] web_editor: fix confusing overlay action buttons,"The overlay action buttons for sending a snippet to the back or front in the website editor were unclear. This commit adds tooltips to these buttons, providing better clarity on their functionality.

Steps to reproduce issue:
1. drop text-block using website editor.
2. click on the text-block and increase the no. of columns to 3.
3. convert to grid mode.
4. now click on the text-block and check the action buttons for send back and bring front.

Before this PR:
- It was confusing to identify which button would send the snippet to the back or bring it to the front. Additionally, the icons were
insufficient in conveying the button's purpose

After this PR:
- Tooltips have been added to the overlay action buttons, providing clear descriptions of their functions. along with this added tooltip to the rest of the overlay action buttons.

task-4497684",panv-odoo,2025-02-03 09:17:15+00:00,[],2025-02-05 10:27:18+00:00,,https://github.com/odoo/odoo/pull/196137,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630378157, 'issue_id': 2826894272, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196137.png)](https://mergebot.odoo.com/odoo/odoo/pull/196137)', 'created_at': datetime.datetime(2025, 2, 3, 9, 17, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 09:17:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196137.png)](https://mergebot.odoo.com/odoo/odoo/pull/196137)

"
2826840714,pull_request,open,,[IMP] mail: Adapt /help command to the new canned responses trigger,"**Current behavior before PR:**

Previously, the shortcut was triggered using `:shortcut`, which has now been updated to `::shortcut` on /help command.


**Desired behavior after PR is merged:**

to align with the new trigger format for canned responses it is changed to `::shortcut`. Additionally, a message has been added: 'Type :emoji: to insert an emoji in your message' to help users.

task-4531300

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-02-03 09:00:55+00:00,[],2025-02-03 10:00:16+00:00,,https://github.com/odoo/odoo/pull/196136,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630338581, 'issue_id': 2826840714, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196136.png)](https://mergebot.odoo.com/odoo/odoo/pull/196136)', 'created_at': datetime.datetime(2025, 2, 3, 9, 0, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 09:00:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196136.png)](https://mergebot.odoo.com/odoo/odoo/pull/196136)

"
2826821824,pull_request,closed,,[FW][FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196012",fw-bot,2025-02-03 08:54:47+00:00,[],2025-02-03 16:38:41+00:00,2025-02-03 16:38:41+00:00,https://github.com/odoo/odoo/pull/196135,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630324967, 'issue_id': 2826821824, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196135.png)](https://mergebot.odoo.com/odoo/odoo/pull/196135)', 'created_at': datetime.datetime(2025, 2, 3, 8, 54, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630324996, 'issue_id': 2826821824, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 8, 54, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 08:54:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196135.png)](https://mergebot.odoo.com/odoo/odoo/pull/196135)

fw-bot (Issue Creator) on (2025-02-03 08:54:49 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2826818256,pull_request,closed,,[FW][FIX] hr_timesheet: fix the validation error on create in form,"Steps to reproduce:

- Open any editable project from portal
- Open any task
- Create a task using Form New button.
- Give the changes and save

Issue:

- A validation error

Reason:

- The timesheets ids field in project sharing view has readonly attruibute which
it shouldn't have.
- Due to this changes are fetched and context in evaluated this field
becomes writable.

Fix:

- Remove the readonly attribute as timesheet_ids is already a readonly field
in portal side.

task- 4494040

Forward-Port-Of: odoo/odoo#195102
Forward-Port-Of: odoo/odoo#194465",fw-bot,2025-02-03 08:53:38+00:00,[],2025-02-03 13:02:24+00:00,2025-02-03 13:02:24+00:00,https://github.com/odoo/odoo/pull/196134,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630322586, 'issue_id': 2826818256, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196134.png)](https://mergebot.odoo.com/odoo/odoo/pull/196134)', 'created_at': datetime.datetime(2025, 2, 3, 8, 53, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630322604, 'issue_id': 2826818256, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 8, 53, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 08:53:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196134.png)](https://mergebot.odoo.com/odoo/odoo/pull/196134)

fw-bot (Issue Creator) on (2025-02-03 08:53:40 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2826751008,pull_request,closed,,"[FW][FIX] purchase_stock,stock_account: no exch. diff. if future correction AMLs","**Current behavior:**
With Anglo-Saxon accounting, for some tracked product, with FIFO and real-time valuation:

Making a purchase order in some foreign currency, having some exchange rate for today, receiving the product, then dating the vendor bill to some future date with a different exchange rate will result in exchange difference journal entries when the bill is posted.

**Expected behavior:**
We shouldn't see exchange difference entries, as there are pending corrective valuation entries which have simply not been posted yet.

Reconciliation should be deferred until these moves are no longer in draft.

**Steps to reproduce:**
1. Activate another currency, define some rate for today and another (different) rate for tomorrow

2. Create a product with FIFO and real-time costing & valuation

3. Create an initial purchase for the product, receive then bill normally

4. Create another purchase order and receive the product

5. Create the invoice, set the invoie date for tomorrow

6. Post the invoice -> Open the `Exchange Difference` journal to see the entries which should not have been generated

**Cause of the issue:**
After creating the AMLs which represent the difference in reception/bill unit price of the product, they are caught here: https://github.com/odoo/odoo/blob/971400771a31c05641a8672f6b1d85afaa9c4a19/addons/account/models/account_move.py#L3575 and designated as future moves, not to be posted at this time.

At the end of the `_post()` stack: https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L229 where there would normally be some `correction_amls`, they weren't created here because the AMLs for the price diff were not posted- so the price diff entry is generated.

**Fix:**
Wait for pending (`state == 'draft'`) AMLs that are part of some `AccountMove`'s valuation to be no longer in draft before allowing reconciliation with a currency exchange difference.

opw-4266652

Forward-Port-Of: odoo/odoo#195073
Forward-Port-Of: odoo/odoo#193971",fw-bot,2025-02-03 08:30:52+00:00,[],2025-02-03 16:25:54+00:00,2025-02-03 16:25:54+00:00,https://github.com/odoo/odoo/pull/196133,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2630276298, 'issue_id': 2826751008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196133.png)](https://mergebot.odoo.com/odoo/odoo/pull/196133)', 'created_at': datetime.datetime(2025, 2, 3, 8, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630276318, 'issue_id': 2826751008, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 8, 30, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630451792, 'issue_id': 2826751008, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow the next pull request (odoo/odoo#196140) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 9, 49, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631107348, 'issue_id': 2826751008, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 8, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 08:30:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196133.png)](https://mergebot.odoo.com/odoo/odoo/pull/196133)

fw-bot (Issue Creator) on (2025-02-03 08:30:54 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 09:49:10 UTC): @ethanrobv @Whenrow the next pull request (odoo/odoo#196140) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-02-03 14:08:42 UTC): @robodoo r+

"
2826737883,pull_request,closed,,"[FW][FIX] uom,*: fix UoM refactor issues","This PR is a follow-up for odoo/odoo#184131 and fixes some of the issues introduced by that change.

Enterprise PR: odoo/enterprise#78169

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195727",fw-bot,2025-02-03 08:26:36+00:00,[],2025-02-03 22:48:44+00:00,2025-02-03 22:48:44+00:00,https://github.com/odoo/odoo/pull/196132,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2630269082, 'issue_id': 2826737883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196132.png)](https://mergebot.odoo.com/odoo/odoo/pull/196132)', 'created_at': datetime.datetime(2025, 2, 3, 8, 27, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630269096, 'issue_id': 2826737883, 'author': 'fw-bot', 'body': '@mohammadhossam @amoyaux cherrypicking of pull request odoo/odoo#195727 failed.\n\n* ee768c5f5d46a0133c5735277ad6eaddcc462729 <- on this commit\n* 0e853400877daade687052fccd8160b6479a35e4\n* 498cd692708cdeed211cd4180a6c6989fea39b9e\n\nstdout:\n```\nAuto-merging addons/product/i18n/product.pot\nCONFLICT (content): Merge conflict in addons/product/i18n/product.pot\nAuto-merging addons/product/views/product_template_views.xml\nAuto-merging addons/stock/views/product_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 8, 27, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630528574, 'issue_id': 2826737883, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 21, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 08:27:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196132.png)](https://mergebot.odoo.com/odoo/odoo/pull/196132)

fw-bot (Issue Creator) on (2025-02-03 08:27:16 UTC): @mohammadhossam @amoyaux cherrypicking of pull request odoo/odoo#195727 failed.

* ee768c5f5d46a0133c5735277ad6eaddcc462729 <- on this commit
* 0e853400877daade687052fccd8160b6479a35e4
* 498cd692708cdeed211cd4180a6c6989fea39b9e

stdout:
```
Auto-merging addons/product/i18n/product.pot
CONFLICT (content): Merge conflict in addons/product/i18n/product.pot
Auto-merging addons/product/views/product_template_views.xml
Auto-merging addons/stock/views/product_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohammadhossam on (2025-02-03 10:21:36 UTC): robodoo r+

"
2826736958,pull_request,closed,,[FW][FIX] website_sale_slides: fix allow course product issue,"Steps:
- Install E-learning app and E-commerce app.
- Go to E-commerce setting and make Ecommerce access to logged in user.
- Try to add a course with on payment setting with out login.

Issue:
User can't able to add course in cart.

Cause:
- No specific condition to allow adding course type product into cart.

Fix:
- Add condition to allow course product add into account even with Ecommerce access is `logged in user`.

opw-4384616

Forward-Port-Of: odoo/odoo#196075
Forward-Port-Of: odoo/odoo#191103",fw-bot,2025-02-03 08:26:16+00:00,[],2025-02-03 12:40:09+00:00,2025-02-03 12:40:09+00:00,https://github.com/odoo/odoo/pull/196131,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630269041, 'issue_id': 2826736958, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196131.png)](https://mergebot.odoo.com/odoo/odoo/pull/196131)', 'created_at': datetime.datetime(2025, 2, 3, 8, 27, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630269058, 'issue_id': 2826736958, 'author': 'fw-bot', 'body': '@kcv-odoo @awa-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 8, 27, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630270866, 'issue_id': 2826736958, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 28, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 08:27:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196131.png)](https://mergebot.odoo.com/odoo/odoo/pull/196131)

fw-bot (Issue Creator) on (2025-02-03 08:27:15 UTC): @kcv-odoo @awa-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-02-03 08:28:12 UTC): @robodoo r+

"
2826714203,pull_request,open,,[FIX] html_editor: update selection after text insertion,"**Problem**:
When pasting text containing line breaks (`\n`), after executing `this.dependencies.dom.insert(modifiedTextFragment);`, the selection collapses to the end of the newly inserted content. At this step, `selection` becomes stale and needs to be updated.

**Solution**:
Update the selection after inserting the text node.

**Steps to Reproduce**:
1. Copy text content with line breaks (`\n`).
2. Select some text in the editor.
3. Paste the copied text.
4. Traceback.

opw-4481257

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-03 08:15:14+00:00,[],2025-02-07 23:16:44+00:00,,https://github.com/odoo/odoo/pull/196130,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2630245694, 'issue_id': 2826714203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196130.png)](https://mergebot.odoo.com/odoo/odoo/pull/196130)', 'created_at': datetime.datetime(2025, 2, 3, 8, 15, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642458855, 'issue_id': 2826714203, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 53, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644303788, 'issue_id': 2826714203, 'author': 'robodoo', 'body': '@walidsahli @dmo-odoo staging failed: ci/runbot on 27ec94a3f113bae6ad0580c7437e72da0f64dfb5 (view more at https://runbot.odoo.com/runbot/build/74716626)', 'created_at': datetime.datetime(2025, 2, 7, 23, 16, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 08:15:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196130.png)](https://mergebot.odoo.com/odoo/odoo/pull/196130)

dmo-odoo on (2025-02-07 09:53:44 UTC): @robodoo r+

robodoo on (2025-02-07 23:16:43 UTC): @walidsahli @dmo-odoo staging failed: ci/runbot on 27ec94a3f113bae6ad0580c7437e72da0f64dfb5 (view more at https://runbot.odoo.com/runbot/build/74716626)

"
2826668402,pull_request,closed,,"[FIX] mass_mailing: avoid automatic unsubscribe from mail,","add intercalate unsubscription page

Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

--

The current unsubscription destination page for emails makes it unclear for the user whether they've been unsubscribed or not.

This is because the ""unsubscription confirmed"" box is placed below the ""manage subscription settings"" box on the confirmation page.

To avoid confusion, while ensuring current Studio customizations to stable instances are not impacted, the unsubscription confirmation page will clarify that the user is unsubscribed and offer the option to manage unsubscriptions by reaching the destination page.

task-4364446

X-original-commit: 52b3f53485e3977dea86e7514f2cc1952840af25

Forward-Port-Of: #195913",creaturemusings,2025-02-03 07:49:48+00:00,[],2025-02-03 13:02:34+00:00,2025-02-03 13:02:34+00:00,https://github.com/odoo/odoo/pull/196128,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630200703, 'issue_id': 2826668402, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196128.png)](https://mergebot.odoo.com/odoo/odoo/pull/196128)', 'created_at': datetime.datetime(2025, 2, 3, 7, 49, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 07:49:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196128.png)](https://mergebot.odoo.com/odoo/odoo/pull/196128)

"
2826656544,pull_request,closed,,"[FIX] mass_mailing: avoid automatic unsubscribe from mail,","add intercalate unsubscription page

Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

--

The current unsubscription destination page for emails makes it unclear for the user whether they've been unsubscribed or not.

This is because the ""unsubscription confirmed"" box is placed below the ""manage subscription settings"" box on the confirmation page.

To avoid confusion, while ensuring current Studio customizations to stable instances are not impacted, the unsubscription confirmation page will clarify that the user is unsubscribed and offer the option to manage unsubscriptions by reaching the destination page.

task-4364446

X-original-commit: 52b3f53485e3977dea86e7514f2cc1952840af25

Forward-Port-Of: #195913
",creaturemusings,2025-02-03 07:43:07+00:00,[],2025-02-03 07:48:26+00:00,2025-02-03 07:48:25+00:00,https://github.com/odoo/odoo/pull/196127,[],"[{'comment_id': 2630189883, 'issue_id': 2826656544, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196127.png)](https://mergebot.odoo.com/odoo/odoo/pull/196127)', 'created_at': datetime.datetime(2025, 2, 3, 7, 43, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630192087, 'issue_id': 2826656544, 'author': 'creaturemusings', 'body': '@robodoo up to master', 'created_at': datetime.datetime(2025, 2, 3, 7, 44, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630192157, 'issue_id': 2826656544, 'author': 'robodoo', 'body': ""Forward-porting to 'master'."", 'created_at': datetime.datetime(2025, 2, 3, 7, 44, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630196977, 'issue_id': 2826656544, 'author': 'std-odoo', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 2, 3, 7, 47, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630198461, 'issue_id': 2826656544, 'author': 'creaturemusings', 'body': 'wrong branch name', 'created_at': datetime.datetime(2025, 2, 3, 7, 48, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 07:43:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196127.png)](https://mergebot.odoo.com/odoo/odoo/pull/196127)

creaturemusings (Issue Creator) on (2025-02-03 07:44:30 UTC): @robodoo up to master

robodoo on (2025-02-03 07:44:33 UTC): Forward-porting to 'master'.

std-odoo on (2025-02-03 07:47:28 UTC): @robodoo r-

creaturemusings (Issue Creator) on (2025-02-03 07:48:25 UTC): wrong branch name

"
2826644736,pull_request,closed,,[FW][FIX] web: fix unit test error_checker,"Before this commit, the error_checker asserting that a JS unit test run failed performed a strict equality with an outdated string on error logs.

Now, the message has been changed, flagged explicitly as something that shouldn't be changed and the presence of that message is checked accross the entire message for robustness.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195947",fw-bot,2025-02-03 07:36:12+00:00,[],2025-02-03 14:06:08+00:00,2025-02-03 14:06:06+00:00,https://github.com/odoo/odoo/pull/196126,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630178858, 'issue_id': 2826644736, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196126.png)](https://mergebot.odoo.com/odoo/odoo/pull/196126)', 'created_at': datetime.datetime(2025, 2, 3, 7, 36, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630178876, 'issue_id': 2826644736, 'author': 'fw-bot', 'body': '@jum-odoo @aab-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196062\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 7, 36, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630333216, 'issue_id': 2826644736, 'author': 'jum-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 58, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 07:36:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196126.png)](https://mergebot.odoo.com/odoo/odoo/pull/196126)

fw-bot (Issue Creator) on (2025-02-03 07:36:14 UTC): @jum-odoo @aab-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196062

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jum-odoo on (2025-02-03 08:58:37 UTC): @robodoo r+

"
2826624619,pull_request,closed,,[FIX] payment_razorpay: prevent error when webhook secret  is not provided,"This error occurs when a user does not enter a Webhook Secret. As a result, when processing the payment, the missing secret causes the verification to fail, leading to a payment failure.

- Install the `eCommerce` module without demo data and with Indian localization.
- Install `Razorpay payment provider` and activate `developer mode`.
- Add `Key ID` and `Key Secret` in Razorpay payment `provider`.
- Set up webhook in Razorpay dashboard with a random `Webhook Secret`.
- Go to the `website`, add the product to the cart, and proceed to payment using
 `UPI`.`

`Error: 'bool' object has no attribute 'encode'`

This issue occurs because the Webhook Secret is missing, returning False and causing payment verification to fail.

This commit solves the error by handling missing `Webhook Secret` values by
logging a warning and skipping the signature check instead of returning a False.

Sentry: 6208134651

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",shka-odoo,2025-02-03 07:24:37+00:00,[],2025-02-07 14:23:01+00:00,2025-02-07 14:23:01+00:00,https://github.com/odoo/odoo/pull/196125,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630160865, 'issue_id': 2826624619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196125.png)](https://mergebot.odoo.com/odoo/odoo/pull/196125)', 'created_at': datetime.datetime(2025, 2, 3, 7, 24, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633328811, 'issue_id': 2826624619, 'author': 'shka-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\n\r\nPlease review this PR.\r\n\r\nThanks.', 'created_at': datetime.datetime(2025, 2, 4, 9, 25, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642750233, 'issue_id': 2826624619, 'author': 'kcv-odoo', 'body': 'Hello @AntoineVDV \r\nI guess we need to make webhook required when `Key Id` and `Key Secret` is set to ensure old flow works without any issue. What do you think? :thinking:', 'created_at': datetime.datetime(2025, 2, 7, 12, 9, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642856674, 'issue_id': 2826624619, 'author': 'AntoineVDV', 'body': ""We can't easily make a field required when there is a button to fill the same field. We'll improve that behavior at the same time as Stripe, Authorize.net, and others."", 'created_at': datetime.datetime(2025, 2, 7, 13, 4, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 07:24:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196125.png)](https://mergebot.odoo.com/odoo/odoo/pull/196125)

shka-odoo (Issue Creator) on (2025-02-04 09:25:08 UTC): Hello @odoo/sentry_reviewers 

Please review this PR.

Thanks.

kcv-odoo on (2025-02-07 12:09:07 UTC): Hello @AntoineVDV 
I guess we need to make webhook required when `Key Id` and `Key Secret` is set to ensure old flow works without any issue. What do you think? :thinking:

AntoineVDV on (2025-02-07 13:04:37 UTC): We can't easily make a field required when there is a button to fill the same field. We'll improve that behavior at the same time as Stripe, Authorize.net, and others.

"
2826614111,pull_request,closed,,[FW][FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506

Forward-Port-Of: odoo/odoo#195941
Forward-Port-Of: odoo/odoo#195743",fw-bot,2025-02-03 07:18:35+00:00,[],2025-02-03 14:06:12+00:00,2025-02-03 14:06:11+00:00,https://github.com/odoo/odoo/pull/196124,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2630151479, 'issue_id': 2826614111, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196124.png)](https://mergebot.odoo.com/odoo/odoo/pull/196124)', 'created_at': datetime.datetime(2025, 2, 3, 7, 18, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630151490, 'issue_id': 2826614111, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196117\n* odoo/odoo#196112\n* odoo/odoo#196021\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 7, 18, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630182690, 'issue_id': 2826614111, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 38, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 07:18:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196124.png)](https://mergebot.odoo.com/odoo/odoo/pull/196124)

fw-bot (Issue Creator) on (2025-02-03 07:18:37 UTC): @SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196117
* odoo/odoo#196112
* odoo/odoo#196021

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-02-03 07:38:35 UTC): @robodoo r+

"
2826580488,pull_request,open,,"[FIX] hr, hr_attendance: prevent parseError while loading the sample data","Currently, an error occurs when a user without contact creation access tries to load the sample data in hr_attendance.

Steps to produce:

1) Install the hr and hr_attendance modules.
2) Create a user without contact creation access.
3) Log in with the newly created user.
4) Open the hr_attendance module.
5) Attempt to load the sample data.
6) An error occurs.

ValueError
ParseError(`while parsing /home/odoo/src/odoo/saas-18.1/addons/hr/data/scenarios /hr_scenario.xml:79, somewhere inside`)

This error occurs when a user tries to load sample data in the hr_attendance module without having contact creation access due to security restrictions.

This commit resolves the issue by using `sudo()` to grant the necessary access to the user while loading data in `hr.attendance`.

[1] -https://github.com/odoo/odoo/blob/b286d47554f6eec940e1d69e9400cb2f359031b6/addons/hr/data/scenarios/hr_scenario.xml#L79-L93

sentry - 6152261332

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kkuj-odoo,2025-02-03 06:58:47+00:00,[],2025-02-03 12:44:38+00:00,,https://github.com/odoo/odoo/pull/196123,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630121130, 'issue_id': 2826580488, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196123.png)](https://mergebot.odoo.com/odoo/odoo/pull/196123)', 'created_at': datetime.datetime(2025, 2, 3, 6, 58, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630847229, 'issue_id': 2826580488, 'author': 'kkuj-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\nCould you please review this PR 🙂\r\nThanks', 'created_at': datetime.datetime(2025, 2, 3, 12, 44, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 06:58:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196123.png)](https://mergebot.odoo.com/odoo/odoo/pull/196123)

kkuj-odoo (Issue Creator) on (2025-02-03 12:44:36 UTC): Hello @odoo/sentry_reviewers
Could you please review this PR 🙂
Thanks

"
2826553209,pull_request,open,,[IMP] point_of_sale: prevent cancellation of future orders,"Before this commit:
===
- Orders with a preset time in the future (not for today) were automatically canceled in the preparation display when the session was closed.

After this commit:
===
- Future-dated orders are no longer canceled in the preparation display when closing the session.

related-https://github.com/odoo/enterprise/pull/78345
task-4523422
",meji-odoo,2025-02-03 06:41:47+00:00,[],2025-02-03 07:00:12+00:00,,https://github.com/odoo/odoo/pull/196122,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630096159, 'issue_id': 2826553209, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196122.png)](https://mergebot.odoo.com/odoo/odoo/pull/196122)', 'created_at': datetime.datetime(2025, 2, 3, 6, 41, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 06:41:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196122.png)](https://mergebot.odoo.com/odoo/odoo/pull/196122)

"
2826453982,pull_request,closed,,[FIX] pos_loyalty: avoid setting expiration date,"In commit https://github.com/odoo/odoo/commit/837e67e82d4cf662b2dcd5d5750253dbc080bd96 we prevent setting expiration date
on `loyalty` type programs for UI and wanted to ensure expiration
date is not set on loyalty cards.

This PR remove a line which is setting expiration date on
`loyalty` type program in POS which missed during forward port
PR https://github.com/odoo/odoo/pull/183044",kcv-odoo,2025-02-03 05:28:49+00:00,[],2025-02-03 13:08:44+00:00,2025-02-03 13:08:44+00:00,https://github.com/odoo/odoo/pull/196121,"[('RD', 'research & development, internal work')]","[{'comment_id': 2630011411, 'issue_id': 2826453982, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196121.png)](https://mergebot.odoo.com/odoo/odoo/pull/196121)', 'created_at': datetime.datetime(2025, 2, 3, 5, 28, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630315907, 'issue_id': 2826453982, 'author': 'kcv-odoo', 'body': '@Demesmaeker Done! Thank you :sparkles: \r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 50, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 05:28:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196121.png)](https://mergebot.odoo.com/odoo/odoo/pull/196121)

kcv-odoo (Issue Creator) on (2025-02-03 08:50:25 UTC): @Demesmaeker Done! Thank you :sparkles: 

@robodoo r+

"
2826437249,pull_request,closed,,[FW][FIX] website: prevent font from reverting after custom font upload,"Steps to reproduce:

1. Go to Website -> Edit -> Theme section.
2. Choose a predefined font family for the paragraph, such as ""Arvo"".
4. Return to the font family dropdown and click on ""Add a Custom Font"".
Notice that the selected font reverts to the ""default/system"" font.

Issue:
The issue occurs because when a predefined ""we-button"" is selected from the dropdown menu(we-button with value i.e. data attributes defined), its value is passed to widgetValue. However, when the ""Add a Custom Font"" button is clicked(which does not have value i.e. data attributes are not defined), the ""we-button"" value changes to an empty string, which is then passed into widgetValue. As a result, it triggers refreshBundle with the empty string and resets to the default value.

Solution:
This PR ensures that `_refreshBundles` is not triggered until the widgetValue has a valid (non-empty) value. This prevents the font from being reverted to the default.

task-4373983

Forward-Port-Of: odoo/odoo#195848
Forward-Port-Of: odoo/odoo#190329",fw-bot,2025-02-03 05:15:32+00:00,[],2025-02-03 12:40:20+00:00,2025-02-03 12:40:20+00:00,https://github.com/odoo/odoo/pull/196120,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2629985476, 'issue_id': 2826437249, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196120.png)](https://mergebot.odoo.com/odoo/odoo/pull/196120)', 'created_at': datetime.datetime(2025, 2, 3, 5, 15, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629985493, 'issue_id': 2826437249, 'author': 'fw-bot', 'body': '@paru-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196058\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 5, 15, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 05:15:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196120.png)](https://mergebot.odoo.com/odoo/odoo/pull/196120)

fw-bot (Issue Creator) on (2025-02-03 05:15:34 UTC): @paru-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196058

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2826394083,pull_request,closed,,[FIX] hr_recruitment: prevent error when installing the Recruitment module,"Currently, an error occurs when upgrading the `hr_recruitment` module, if the `sms` module is not installed.

Steps to produce:
- Install `hr_recruitment`.
- Uninstall `sms`.
- Upgrade `hr_recruitment`.
- Observe the error.

```
ParseError:  while parsing /home/odoo/src/odoo/saas18.1/addons/hr_recruitment/
views/hr_candidate_views.xml:220
Invalid template name “sms.composer” in action definition.

View error context:
'-no context-'
```

An error occurs when attempting to access the `sms.composer` - [1], without ensuring `sms` module is installed. If `sms` is not installed, this causes a `ParseError` when installing `hr_recruitment`.

[1] - https://github.com/odoo/odoo/blob/eb1b38723363b4dc54dbfadaed2831d41f688c29/addons/hr_recruitment/views/hr_candidate_views.xml#L222

This commit resolves the issue by adding `sms` module as a dependency, ensuring that `hr_recruitment` has the required model installed.

sentry - 6258561025

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adip-odoo,2025-02-03 04:45:43+00:00,[],2025-02-05 08:34:56+00:00,2025-02-05 08:34:50+00:00,https://github.com/odoo/odoo/pull/196119,"[('RD', 'research & development, internal work')]","[{'comment_id': 2629906146, 'issue_id': 2826394083, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196119.png)](https://mergebot.odoo.com/odoo/odoo/pull/196119)', 'created_at': datetime.datetime(2025, 2, 3, 4, 45, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630076930, 'issue_id': 2826394083, 'author': 'adip-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\n\r\nPlease review this PR.\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 2, 3, 6, 25, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636044774, 'issue_id': 2826394083, 'author': 'Bertrand2', 'body': ""This should already be fixed by odoo/odoo#194647 . Can you ensure that it's the case?"", 'created_at': datetime.datetime(2025, 2, 5, 8, 22, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 04:45:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196119.png)](https://mergebot.odoo.com/odoo/odoo/pull/196119)

adip-odoo (Issue Creator) on (2025-02-03 06:25:50 UTC): Hello @odoo/sentry_reviewers

Please review this PR.

Thanks!

Bertrand2 on (2025-02-05 08:22:40 UTC): This should already be fixed by odoo/odoo#194647 . Can you ensure that it's the case?

"
2825956305,pull_request,closed,,[FW][FIX] website: clean keywords in SEO dialog,"Steps to reproduce:

- Edit a page
- open ""Optimize SEO"" dialog
- Add a tag with a parenthesis. eg. ""Webinar Tools (OBS, YouTube)""
- Save
- Reload the page
- Reopen the ""Optimize SEO"" dialog
- ... crash

Since [1], the application crashes because keywords are dynamically used in a regular expression, and special characters (e.g., parentheses) are not properly escaped.

We address the keywords issues by escaping control characters before using them in the regular expression to prevent crashes.

[1]: https://github.com/odoo/odoo/commit/ac55f2bb113ecf7c774fe6e96d28e716184a97d1#diff-b51336c1ad97255bfb3646f013327eca1904ca194078f4ce671e517096233c58

task-4420262

Forward-Port-Of: odoo/odoo#195940
Forward-Port-Of: odoo/odoo#194976",fw-bot,2025-02-02 18:57:36+00:00,[],2025-02-03 08:27:05+00:00,2025-02-03 08:27:05+00:00,https://github.com/odoo/odoo/pull/196118,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2629513662, 'issue_id': 2825956305, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196118.png)](https://mergebot.odoo.com/odoo/odoo/pull/196118)', 'created_at': datetime.datetime(2025, 2, 2, 18, 57, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629513667, 'issue_id': 2825956305, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196114\n* odoo/odoo#196018\n* odoo/odoo#196004\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 18, 57, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729897, 'issue_id': 2825956305, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo this forward port of odoo/odoo#194976 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630131305, 'issue_id': 2825956305, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 5, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 18:57:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196118.png)](https://mergebot.odoo.com/odoo/odoo/pull/196118)

fw-bot (Issue Creator) on (2025-02-02 18:57:38 UTC): @SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196114
* odoo/odoo#196018
* odoo/odoo#196004

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:04 UTC): @SergeBayet @bvr-odoo this forward port of odoo/odoo#194976 is awaiting action (not merged or closed).

SergeBayet on (2025-02-03 07:05:06 UTC): @robodoo r+

"
2825945547,pull_request,closed,,[FW][FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506

Forward-Port-Of: odoo/odoo#195941
Forward-Port-Of: odoo/odoo#195743",fw-bot,2025-02-02 18:33:07+00:00,[],2025-02-03 10:02:49+00:00,2025-02-03 10:02:49+00:00,https://github.com/odoo/odoo/pull/196117,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2629505645, 'issue_id': 2825945547, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196117.png)](https://mergebot.odoo.com/odoo/odoo/pull/196117)', 'created_at': datetime.datetime(2025, 2, 2, 18, 33, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629505649, 'issue_id': 2825945547, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 18, 33, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629518645, 'issue_id': 2825945547, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 2, 19, 12, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728875, 'issue_id': 2825945547, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo this forward port of odoo/odoo#195743 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 18:33:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196117.png)](https://mergebot.odoo.com/odoo/odoo/pull/196117)

fw-bot (Issue Creator) on (2025-02-02 18:33:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 19:12:16 UTC): @SergeBayet @bvr-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 02:01:15 UTC): @SergeBayet @bvr-odoo this forward port of odoo/odoo#195743 is awaiting action (not merged or closed).

"
2825945412,pull_request,closed,,[FW][FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

Forward-Port-Of: odoo/odoo#195949",fw-bot,2025-02-02 18:32:49+00:00,[],2025-02-03 08:26:56+00:00,2025-02-03 08:26:56+00:00,https://github.com/odoo/odoo/pull/196116,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2629505541, 'issue_id': 2825945412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196116.png)](https://mergebot.odoo.com/odoo/odoo/pull/196116)', 'created_at': datetime.datetime(2025, 2, 2, 18, 32, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629505550, 'issue_id': 2825945412, 'author': 'fw-bot', 'body': '@SergeBayet @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196111\n* odoo/odoo#196092\n* odoo/odoo#196090\n* odoo/odoo#196083\n* odoo/odoo#196063\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 18, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629517381, 'issue_id': 2825945412, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 19, 8, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629544731, 'issue_id': 2825945412, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/l10n on 8988ab37ac54eccab28270279d0f7b0661d7f55d (view more at https://runbot.odoo.com/runbot/build/74354789)', 'created_at': datetime.datetime(2025, 2, 2, 20, 33, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630119668, 'issue_id': 2825945412, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 2, 3, 6, 57, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 18:32:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196116.png)](https://mergebot.odoo.com/odoo/odoo/pull/196116)

fw-bot (Issue Creator) on (2025-02-02 18:32:51 UTC): @SergeBayet @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196111
* odoo/odoo#196092
* odoo/odoo#196090
* odoo/odoo#196083
* odoo/odoo#196063

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-02-02 19:08:40 UTC): @robodoo r+

robodoo on (2025-02-02 20:33:56 UTC): @SergeBayet @qsm-odoo staging failed: ci/l10n on 8988ab37ac54eccab28270279d0f7b0661d7f55d (view more at https://runbot.odoo.com/runbot/build/74354789)

d-fence on (2025-02-03 06:57:45 UTC): robodoo retry
(failing test deactivated)

"
2825929948,pull_request,closed,,[FIX] portal: prevent unintended scrolling behavior in Chatter,"Since [1] ensures that the Chatter is positioned under the page header, the introduction of the new ""sidebar"" header template caused misplacement when scrolling.

This commit adds a check to avoid applying padding when the header is a sidebar (o_header_sidebar), preventing unintended scrolling behavior in the sidebar layout.

Steps to reproduce:

- Install the Sales module.
- On a sales order, add some comments in the Chatter.
- Click on Preview.
- Edit the header template and select the last option, ""Sidebar"".
- Save the changes.
- Scroll down and observe that the Chatter disappears.

opw-4515419

[1]: https://github.com/odoo/odoo/commit/368eb78a9cedfce0802b64fd2782e1c018541e40
",SergeBayet,2025-02-02 17:59:03+00:00,[],2025-02-03 17:46:19+00:00,2025-02-03 17:46:19+00:00,https://github.com/odoo/odoo/pull/196115,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2629493159, 'issue_id': 2825929948, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196115.png)](https://mergebot.odoo.com/odoo/odoo/pull/196115)', 'created_at': datetime.datetime(2025, 2, 2, 17, 59, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630816830, 'issue_id': 2825929948, 'author': 'bso-odoo', 'body': '@robodoo delegate=bvr-odoo', 'created_at': datetime.datetime(2025, 2, 3, 12, 30, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631331656, 'issue_id': 2825929948, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 15, 29, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 17:59:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196115.png)](https://mergebot.odoo.com/odoo/odoo/pull/196115)

bso-odoo on (2025-02-03 12:30:48 UTC): @robodoo delegate=bvr-odoo

bvr-odoo on (2025-02-03 15:29:03 UTC): @robodoo r+

"
2825927886,pull_request,closed,,[FW][FIX] website: clean keywords in SEO dialog,"Steps to reproduce:

- Edit a page
- open ""Optimize SEO"" dialog
- Add a tag with a parenthesis. eg. ""Webinar Tools (OBS, YouTube)""
- Save
- Reload the page
- Reopen the ""Optimize SEO"" dialog
- ... crash

Since [1], the application crashes because keywords are dynamically used in a regular expression, and special characters (e.g., parentheses) are not properly escaped.

We address the keywords issues by escaping control characters before using them in the regular expression to prevent crashes.

[1]: https://github.com/odoo/odoo/commit/ac55f2bb113ecf7c774fe6e96d28e716184a97d1#diff-b51336c1ad97255bfb3646f013327eca1904ca194078f4ce671e517096233c58

task-4420262

Forward-Port-Of: odoo/odoo#195940
Forward-Port-Of: odoo/odoo#194976",fw-bot,2025-02-02 17:54:27+00:00,[],2025-02-03 08:26:22+00:00,2025-02-03 08:26:22+00:00,https://github.com/odoo/odoo/pull/196114,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2629491549, 'issue_id': 2825927886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196114.png)](https://mergebot.odoo.com/odoo/odoo/pull/196114)', 'created_at': datetime.datetime(2025, 2, 2, 17, 54, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629491554, 'issue_id': 2825927886, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 17, 54, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 17:54:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196114.png)](https://mergebot.odoo.com/odoo/odoo/pull/196114)

fw-bot (Issue Creator) on (2025-02-02 17:54:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2825922408,pull_request,open,,[FIX] resource: show weekend shifts sent by email,"### Issue:
- When assigning weekend shifts to an employee with flexible hours, the weekend shifts don't appear when clicking on 
`View Your Planning` of the planning email.

### Steps to reproduce:
- Create a new employee with flexible hours.
- In the Planning app, create a new shift for the employee on a weekend.-Publish and send the shifts.
- In emails, click on the email sent to the employee, then click `View Your Planning`.
- The weekend shifts don't appear.

### Solutions:
- When clicking on the `View Your Planning` link, the request is processed by the controller at:
    `@http.route(['/planning/<string:planning_token>/<string:employee_token>'], type='http', auth=""public"", website=True)`
- This controller invokes the `_planning_get` method, which in turn calls the `_get_valid_work_intervals` method.
- In the `_get_valid_work_intervals` method, I check if the calendar has flexible hours to return the whole interval.

opw-4378797

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kawkb,2025-02-02 17:43:08+00:00,[],2025-02-03 13:30:02+00:00,,https://github.com/odoo/odoo/pull/196113,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2629486953, 'issue_id': 2825922408, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196113.png)](https://mergebot.odoo.com/odoo/odoo/pull/196113)', 'created_at': datetime.datetime(2025, 2, 2, 17, 43, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 17:43:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196113.png)](https://mergebot.odoo.com/odoo/odoo/pull/196113)

"
2825918606,pull_request,closed,,[FW][FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506

Forward-Port-Of: odoo/odoo#195941
Forward-Port-Of: odoo/odoo#195743",fw-bot,2025-02-02 17:34:22+00:00,[],2025-02-03 11:42:21+00:00,2025-02-03 11:42:21+00:00,https://github.com/odoo/odoo/pull/196112,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2629484045, 'issue_id': 2825918606, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196112.png)](https://mergebot.odoo.com/odoo/odoo/pull/196112)', 'created_at': datetime.datetime(2025, 2, 2, 17, 34, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629484048, 'issue_id': 2825918606, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 17, 34, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 17:34:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196112.png)](https://mergebot.odoo.com/odoo/odoo/pull/196112)

fw-bot (Issue Creator) on (2025-02-02 17:34:24 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2825915577,pull_request,closed,,[FW][FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

Forward-Port-Of: odoo/odoo#195949",fw-bot,2025-02-02 17:27:40+00:00,[],2025-02-03 10:02:28+00:00,2025-02-03 10:02:28+00:00,https://github.com/odoo/odoo/pull/196111,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2629481534, 'issue_id': 2825915577, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196111.png)](https://mergebot.odoo.com/odoo/odoo/pull/196111)', 'created_at': datetime.datetime(2025, 2, 2, 17, 27, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629481539, 'issue_id': 2825915577, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 17, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629534095, 'issue_id': 2825915577, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/l10n on 3e4c1ae93f4b6616903a654e0c970e83cf013d89 (view more at https://runbot.odoo.com/runbot/build/74354557)', 'created_at': datetime.datetime(2025, 2, 2, 20, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630139828, 'issue_id': 2825915577, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 17:27:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196111.png)](https://mergebot.odoo.com/odoo/odoo/pull/196111)

fw-bot (Issue Creator) on (2025-02-02 17:27:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-02 20:01:32 UTC): @SergeBayet @qsm-odoo staging failed: ci/l10n on 3e4c1ae93f4b6616903a654e0c970e83cf013d89 (view more at https://runbot.odoo.com/runbot/build/74354557)

robodoo on (2025-02-03 07:11:00 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2825908003,pull_request,closed,,[FIX] hr_recruitment: fix applications count,"To reproduce:
=============
- create 3 applications for same candidate
- open one application and archive/refuse it
- refresh the page -> smart button **Other Applications** displays 2
- click on the smart button -> only 2 applications are listed

Problem:
=======
- when refreshing the page, the context is lost so `other_applications_count` is computed without `active_test=False` so non active records are excluded
- when clicking on the smart button, the current record is excluded from the domain

Solution:
=========
- compute `other_applications_count` with `active_test=False`
- add the current record in the domain when clicking on the smart button

opw-4488834

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",abla001,2025-02-02 17:13:44+00:00,[],2025-02-04 15:09:48+00:00,2025-02-04 15:09:48+00:00,https://github.com/odoo/odoo/pull/196110,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2629476812, 'issue_id': 2825908003, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196110.png)](https://mergebot.odoo.com/odoo/odoo/pull/196110)', 'created_at': datetime.datetime(2025, 2, 2, 17, 13, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 17:13:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196110.png)](https://mergebot.odoo.com/odoo/odoo/pull/196110)

"
2825770004,pull_request,open,,[FW][FIX] pos_loyalty: multiple reward quantity,"Before this commit:
===================
- when creating a discount and loyalty program type coupon with rules for
 minimum quantity and purchase equals 1, along with a specific product reward,
 `multiple reward order lines` were erroneously generated if the coupon balance
 exceeded 1.
- upon refreshing the page, the reward line quantity would increment incorrectly.

After this commit:
==================
- with this commit, only one reward order line is created per coupon application, and the coupon now correctly applies only once, resolving the previous inconsistencies.

task - 3869549

Forward-Port-Of: odoo/odoo#196100
Forward-Port-Of: odoo/odoo#162359",fw-bot,2025-02-02 12:14:14+00:00,[],2025-02-03 09:24:46+00:00,,https://github.com/odoo/odoo/pull/196109,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2629371156, 'issue_id': 2825770004, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196109.png)](https://mergebot.odoo.com/odoo/odoo/pull/196109)', 'created_at': datetime.datetime(2025, 2, 2, 12, 14, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629371159, 'issue_id': 2825770004, 'author': 'fw-bot', 'body': '@jipr-odoo @caburj cherrypicking of pull request odoo/odoo#162359 failed.\n\nstdout:\n```\nAuto-merging addons/pos_loyalty/static/src/overrides/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/models/pos_order.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 2, 12, 14, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-02 12:14:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196109.png)](https://mergebot.odoo.com/odoo/odoo/pull/196109)

fw-bot (Issue Creator) on (2025-02-02 12:14:16 UTC): @jipr-odoo @caburj cherrypicking of pull request odoo/odoo#162359 failed.

stdout:
```
Auto-merging addons/pos_loyalty/static/src/overrides/models/pos_order.js
CONFLICT (content): Merge conflict in addons/pos_loyalty/static/src/overrides/models/pos_order.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2825388492,pull_request,closed,,[FW][FIX] website: facebook snippet visibility on mobile,"Revert changes from [commit] due to `m.facebook.com` using 'X-Frame-Options' header set to 'deny', which prevented iframe embedding across domains. META has now fixed this issue, so this PR restores the snippet's visibility on mobile devices.

[commit]: https://github.com/odoo/odoo/commit/588f910da03d6284a57c2fab8fd042ef3169666f

task-4507102

Forward-Port-Of: odoo/odoo#196104
Forward-Port-Of: odoo/odoo#194843",fw-bot,2025-02-01 19:34:35+00:00,[],2025-02-03 13:08:43+00:00,2025-02-03 13:08:43+00:00,https://github.com/odoo/odoo/pull/196108,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2629083024, 'issue_id': 2825388492, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196108.png)](https://mergebot.odoo.com/odoo/odoo/pull/196108)', 'created_at': datetime.datetime(2025, 2, 1, 19, 34, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629083028, 'issue_id': 2825388492, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194843 failed.\n\nstdout:\n```\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/scss/website.scss\nCONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 19, 34, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730031, 'issue_id': 2825388492, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this forward port of odoo/odoo#194843 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630470267, 'issue_id': 2825388492, 'author': 'shsa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 57, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 19:34:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196108.png)](https://mergebot.odoo.com/odoo/odoo/pull/196108)

fw-bot (Issue Creator) on (2025-02-01 19:34:37 UTC): @shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194843 failed.

stdout:
```
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/scss/website.scss
CONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:12 UTC): @shsa-odoo @bvr-odoo this forward port of odoo/odoo#194843 is awaiting action (not merged or closed).

shsa-odoo on (2025-02-03 09:57:14 UTC): @robodoo r+

"
2825346686,pull_request,open,,[IMP] phone_validation: enhance phone number formatting in ResPartner,"Description of the issue/feature this PR addresses:
This PR improves the handling of phone number formatting in the ResPartner model. Previously, phone number formatting was not consistently applied, especially during partner creation. This could lead to inconsistencies in phone number 
formats across the system.

Current behavior before PR:
- Phone numbers were not automatically formatted when creating new partners.

Desired behavior after PR is merged:
- Phone numbers are automatically formatted to the international standard when new partners are created.
- This change should not negatively impact existing installations.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elierwclik,2025-02-01 18:07:12+00:00,[],2025-02-05 16:42:05+00:00,,https://github.com/odoo/odoo/pull/196107,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2629051781, 'issue_id': 2825346686, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196107.png)](https://mergebot.odoo.com/odoo/odoo/pull/196107)', 'created_at': datetime.datetime(2025, 2, 1, 18, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630289918, 'issue_id': 2825346686, 'author': 'tde-banana-odoo', 'body': 'Hello,\r\n\r\nPartner inherit from mail.thread.phone mixin which means you can use `phone_sanitized` field. Phone field is updated in an onchange to be used when editing through a form but we consider data entered through import, ... should not be changed.\r\n\r\nCheers !', 'created_at': datetime.datetime(2025, 2, 3, 8, 37, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631591039, 'issue_id': 2825346686, 'author': 'elierwclik', 'body': '> Hello,\r\n> \r\n> Partner inherit from mail.thread.phone mixin which means you can use `phone_sanitized` field. Phone field is updated in an onchange to be used when editing through a form but we consider data entered through import, ... should not be changed.\r\n> \r\n> Cheers !\r\n\r\nHello,\r\n\r\nSo do you think it would be advisable to format the phone numbers coming from the address form in `website_sale` to ensure that all numbers are saved in the correct international format, from the `website_sale` addon? This would ensure consistency and proper validation of data entered by users.\r\n\r\nRegards!!!', 'created_at': datetime.datetime(2025, 2, 3, 17, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633117205, 'issue_id': 2825346686, 'author': 'tde-banana-odoo', 'body': ""Don't know website sale flow and use case to be honest. Not sure what you expect, but a validation could be added. I don't think website_sale depends on phone_validation so it has no phone_sanitized field available. That can be checked with ecommerce team anyway, it is not my functional expertise.\r\n\r\nCheers !"", 'created_at': datetime.datetime(2025, 2, 4, 7, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634183228, 'issue_id': 2825346686, 'author': 'elierwclik', 'body': ""> Don't know website sale flow and use case to be honest. Not sure what you expect, but a validation could be added. I don't think website_sale depends on phone_validation so it has no phone_sanitized field available. That can be checked with ecommerce team anyway, it is not my functional expertise.\n> \n> \n> \n> Cheers !\n\nI understand, then I will upload the changes to see what the team says, thank you."", 'created_at': datetime.datetime(2025, 2, 4, 14, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636168574, 'issue_id': 2825346686, 'author': 'reth-odoo', 'body': 'The only issue I see is that if your formatting library is out of date (as has happened on the SAAS in the past...) you might prevent newly-valid numbers from making a purchase if you require a valid number in your form. But admittedly, the formatting library should always be up to date in an ideal world.', 'created_at': datetime.datetime(2025, 2, 5, 9, 19, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637454039, 'issue_id': 2825346686, 'author': 'elierwclik', 'body': '> The only issue I see is that if your formatting library is out of date (as has happened on the SAAS in the past...) you might prevent newly-valid numbers from making a purchase if you require a valid number in your form. But admittedly, the formatting library should always be up to date in an ideal world.\r\n\r\nYes haha, well I already uploaded the changes for `website_sale` , I added validations so that it does not affect the flow in case of getting an error when formatting the number.', 'created_at': datetime.datetime(2025, 2, 5, 16, 40, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 18:07:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196107.png)](https://mergebot.odoo.com/odoo/odoo/pull/196107)

tde-banana-odoo on (2025-02-03 08:37:48 UTC): Hello,

Partner inherit from mail.thread.phone mixin which means you can use `phone_sanitized` field. Phone field is updated in an onchange to be used when editing through a form but we consider data entered through import, ... should not be changed.

Cheers !

elierwclik (Issue Creator) on (2025-02-03 17:11:14 UTC): Hello,

So do you think it would be advisable to format the phone numbers coming from the address form in `website_sale` to ensure that all numbers are saved in the correct international format, from the `website_sale` addon? This would ensure consistency and proper validation of data entered by users.

Regards!!!

tde-banana-odoo on (2025-02-04 07:42:00 UTC): Don't know website sale flow and use case to be honest. Not sure what you expect, but a validation could be added. I don't think website_sale depends on phone_validation so it has no phone_sanitized field available. That can be checked with ecommerce team anyway, it is not my functional expertise.

Cheers !

elierwclik (Issue Creator) on (2025-02-04 14:41:00 UTC): I understand, then I will upload the changes to see what the team says, thank you.

reth-odoo on (2025-02-05 09:19:07 UTC): The only issue I see is that if your formatting library is out of date (as has happened on the SAAS in the past...) you might prevent newly-valid numbers from making a purchase if you require a valid number in your form. But admittedly, the formatting library should always be up to date in an ideal world.

elierwclik (Issue Creator) on (2025-02-05 16:40:59 UTC): Yes haha, well I already uploaded the changes for `website_sale` , I added validations so that it does not affect the flow in case of getting an error when formatting the number.

"
2825308808,pull_request,open,,[FIX] account: improve support for overriding sequence regex,"Current behavior before PR:
 - If a sequence_override_regex is set to a custom year regex, the default year_range regex is used instead if it matches the invoice name too.
 - Creating a new invoice fails if the custom sequence regex doesn't accept an empty or draft (i.e. '/') invoice name.

Desired behavior after PR is merged:
 - If a sequence_override_regex is set, the default regexes are never used. 
 - Creating a new invoice succeeds even if the custom sequence regex doesn't accept an empty or draft (i.e. '/') invoice name.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",m7913d,2025-02-01 16:48:32+00:00,[],2025-02-05 17:11:50+00:00,,https://github.com/odoo/odoo/pull/196106,"[('CLA', 'Contributor License Agreement'), ('Accounting', '')]","[{'comment_id': 2629023872, 'issue_id': 2825308808, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196106.png)](https://mergebot.odoo.com/odoo/odoo/pull/196106)', 'created_at': datetime.datetime(2025, 2, 1, 16, 48, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637536670, 'issue_id': 2825308808, 'author': 'm7913d', 'body': '@alialfie Is this PR something that would be accepted as bug fix for branch 16? Or should I target another branch?', 'created_at': datetime.datetime(2025, 2, 5, 17, 11, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 16:48:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196106.png)](https://mergebot.odoo.com/odoo/odoo/pull/196106)

m7913d (Issue Creator) on (2025-02-05 17:11:49 UTC): @alialfie Is this PR something that would be accepted as bug fix for branch 16? Or should I target another branch?

"
2825294105,pull_request,open,,[FIX] Account: make customer/vendor field required in payment form.,"
Description of the issue/feature this PR addresses:
User able to create and post payments without selecting customer/vendor.

Current behavior before PR:
Ability to create payments with selecting partner.

Desired behavior after PR is merged:
Prevent user to create a payment without customer/vendor.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MohsenWaleed,2025-02-01 16:17:05+00:00,[],2025-02-01 17:00:13+00:00,,https://github.com/odoo/odoo/pull/196105,"[('Accounting', '')]","[{'comment_id': 2629012993, 'issue_id': 2825294105, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196105.png)](https://mergebot.odoo.com/odoo/odoo/pull/196105)', 'created_at': datetime.datetime(2025, 2, 1, 16, 17, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 16:17:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196105.png)](https://mergebot.odoo.com/odoo/odoo/pull/196105)

"
2825173655,pull_request,closed,,[FW][FIX] website: facebook snippet visibility on mobile,"Revert changes from [commit] due to `m.facebook.com` using 'X-Frame-Options' header set to 'deny', which prevented iframe embedding across domains. META has now fixed this issue, so this PR restores the snippet's visibility on mobile devices.

[commit]: https://github.com/odoo/odoo/commit/588f910da03d6284a57c2fab8fd042ef3169666f

task-4507102

Forward-Port-Of: odoo/odoo#195853
Forward-Port-Of: odoo/odoo#194843",fw-bot,2025-02-01 12:05:54+00:00,[],2025-02-01 19:34:22+00:00,2025-02-01 19:34:22+00:00,https://github.com/odoo/odoo/pull/196104,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628926067, 'issue_id': 2825173655, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196104.png)](https://mergebot.odoo.com/odoo/odoo/pull/196104)', 'created_at': datetime.datetime(2025, 2, 1, 12, 5, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628926078, 'issue_id': 2825173655, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194843 failed.\n\nstdout:\n```\nAuto-merging addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/scss/website.scss\nCONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss\nAuto-merging addons/website/static/src/snippets/s_facebook_page/options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 12, 5, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629058964, 'issue_id': 2825173655, 'author': 'shsa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 18, 25, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 12:05:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196104.png)](https://mergebot.odoo.com/odoo/odoo/pull/196104)

fw-bot (Issue Creator) on (2025-02-01 12:05:57 UTC): @shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194843 failed.

stdout:
```
Auto-merging addons/website/i18n/website.pot
Auto-merging addons/website/static/src/scss/website.scss
CONFLICT (content): Merge conflict in addons/website/static/src/scss/website.scss
Auto-merging addons/website/static/src/snippets/s_facebook_page/options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

shsa-odoo on (2025-02-01 18:25:41 UTC): @robodoo r+

"
2825146903,pull_request,open,,[FW][FIX] website: facebook snippet visibility on mobile,"Revert changes from [commit] due to `m.facebook.com` using 'X-Frame-Options' header set to 'deny', which prevented iframe embedding across domains. META has now fixed this issue, so this PR restores the snippet's visibility on mobile devices.

[commit]: https://github.com/odoo/odoo/commit/588f910da03d6284a57c2fab8fd042ef3169666f

task-4507102

Forward-Port-Of: odoo/odoo#195853
Forward-Port-Of: odoo/odoo#194843",fw-bot,2025-02-01 11:06:58+00:00,[],2025-02-03 02:02:14+00:00,,https://github.com/odoo/odoo/pull/196103,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628907172, 'issue_id': 2825146903, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196103.png)](https://mergebot.odoo.com/odoo/odoo/pull/196103)', 'created_at': datetime.datetime(2025, 2, 1, 11, 6, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628907177, 'issue_id': 2825146903, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 11, 6, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628926070, 'issue_id': 2825146903, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo the next pull request (odoo/odoo#196104) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 12, 5, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730053, 'issue_id': 2825146903, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this forward port of odoo/odoo#194843 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 11:06:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196103.png)](https://mergebot.odoo.com/odoo/odoo/pull/196103)

fw-bot (Issue Creator) on (2025-02-01 11:06:59 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 12:05:56 UTC): @shsa-odoo @bvr-odoo the next pull request (odoo/odoo#196104) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:13 UTC): @shsa-odoo @bvr-odoo this forward port of odoo/odoo#194843 is awaiting action (not merged or closed).

"
2825109551,pull_request,open,,"[IMP] account, pos, stock, l10n_pt*: implement requirements for PT certification","This commit implements many requirements for Portugal, for Accounting, PoS and Inventory.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mairasalazar,2025-02-01 09:47:06+00:00,[],2025-02-01 10:00:11+00:00,,https://github.com/odoo/odoo/pull/196102,"[('RD', 'research & development, internal work')]","[{'comment_id': 2628880711, 'issue_id': 2825109551, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196102.png)](https://mergebot.odoo.com/odoo/odoo/pull/196102)', 'created_at': datetime.datetime(2025, 2, 1, 9, 47, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 09:47:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196102.png)](https://mergebot.odoo.com/odoo/odoo/pull/196102)

"
2825086313,pull_request,closed,,"[FW][FIX] l10n_es,l10n_es_edi_facturae : Update Taxes and modelo 390","This fix updates the taxes and the modelo 390 tax report

Task: 4453629

Enterprise PR: https://github.com/odoo/enterprise/pull/77941

Forward-Port-Of: odoo/odoo#196064
Forward-Port-Of: odoo/odoo#195380",fw-bot,2025-02-01 08:58:29+00:00,[],2025-02-03 13:08:38+00:00,2025-02-03 13:08:37+00:00,https://github.com/odoo/odoo/pull/196101,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628864039, 'issue_id': 2825086313, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196101.png)](https://mergebot.odoo.com/odoo/odoo/pull/196101)', 'created_at': datetime.datetime(2025, 2, 1, 8, 58, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628864045, 'issue_id': 2825086313, 'author': 'fw-bot', 'body': '@jbw-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195380 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es/__manifest__.py\nAuto-merging addons/l10n_es/data/template/account.tax-es_common.csv\nCONFLICT (content): Merge conflict in addons/l10n_es/data/template/account.tax-es_common.csv\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 8, 58, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628892944, 'issue_id': 2825086313, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 10, 23, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628893826, 'issue_id': 2825086313, 'author': 'robodoo', 'body': ""@jbw-odoo @jco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 1, 10, 26, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630275991, 'issue_id': 2825086313, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 30, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 08:58:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196101.png)](https://mergebot.odoo.com/odoo/odoo/pull/196101)

fw-bot (Issue Creator) on (2025-02-01 08:58:33 UTC): @jbw-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195380 failed.

stdout:
```
Auto-merging addons/l10n_es/__manifest__.py
Auto-merging addons/l10n_es/data/template/account.tax-es_common.csv
CONFLICT (content): Merge conflict in addons/l10n_es/data/template/account.tax-es_common.csv

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jbw-odoo on (2025-02-01 10:23:36 UTC): robodoo r+

robodoo on (2025-02-01 10:26:29 UTC): @jbw-odoo @jco-odoo 'ci/runbot' failed on this reviewed PR.

jbw-odoo on (2025-02-03 08:30:44 UTC): robodoo r+

"
2824999988,pull_request,closed,,[FW][FIX] pos_loyalty: multiple reward quantity,"Before this commit:
===================
- when creating a discount and loyalty program type coupon with rules for
 minimum quantity and purchase equals 1, along with a specific product reward,
 `multiple reward order lines` were erroneously generated if the coupon balance
 exceeded 1.
- upon refreshing the page, the reward line quantity would increment incorrectly.

After this commit:
==================
- with this commit, only one reward order line is created per coupon application, and the coupon now correctly applies only once, resolving the previous inconsistencies.

task - 3869549

Forward-Port-Of: odoo/odoo#162359",fw-bot,2025-02-01 06:20:50+00:00,[],2025-02-02 12:13:51+00:00,2025-02-02 12:13:51+00:00,https://github.com/odoo/odoo/pull/196100,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628804938, 'issue_id': 2824999988, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196100.png)](https://mergebot.odoo.com/odoo/odoo/pull/196100)', 'created_at': datetime.datetime(2025, 2, 1, 6, 20, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628804943, 'issue_id': 2824999988, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 6, 20, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628805856, 'issue_id': 2824999988, 'author': 'fw-bot', 'body': '@jipr-odoo @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 1, 6, 23, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628810390, 'issue_id': 2824999988, 'author': 'fw-bot', 'body': '@jipr-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 1, 6, 36, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629348120, 'issue_id': 2824999988, 'author': 'jipr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 11, 8, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 06:20:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196100.png)](https://mergebot.odoo.com/odoo/odoo/pull/196100)

fw-bot (Issue Creator) on (2025-02-01 06:20:52 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 06:23:34 UTC): @jipr-odoo @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-01 06:36:43 UTC): @jipr-odoo @caburj this PR was modified / updated and has become a normal PR. It must be merged directly.

jipr-odoo on (2025-02-02 11:08:17 UTC): @robodoo r+

"
2824922824,pull_request,closed,,[FW][FIX] point_of_sale: enable import of orders with missing relations,"Before this commit, importing an exported order through the PoS UI failed due to missing relations in the imported order data.

opw-4237952

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#183379",fw-bot,2025-02-01 04:46:51+00:00,[],2025-02-04 09:55:52+00:00,2025-02-04 09:55:52+00:00,https://github.com/odoo/odoo/pull/196099,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628769714, 'issue_id': 2824922824, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196099.png)](https://mergebot.odoo.com/odoo/odoo/pull/196099)', 'created_at': datetime.datetime(2025, 2, 1, 4, 46, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628769724, 'issue_id': 2824922824, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 4, 46, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628782038, 'issue_id': 2824922824, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 1, 5, 18, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 04:46:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196099.png)](https://mergebot.odoo.com/odoo/odoo/pull/196099)

fw-bot (Issue Creator) on (2025-02-01 04:46:54 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 05:18:08 UTC): @pedrambiria @davidmonnom ci/runbot failed on this forward-port PR

"
2824668772,pull_request,closed,,[FW][FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195962",fw-bot,2025-02-01 00:55:32+00:00,[],2025-02-03 19:00:21+00:00,2025-02-03 19:00:21+00:00,https://github.com/odoo/odoo/pull/196098,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628640775, 'issue_id': 2824668772, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196098.png)](https://mergebot.odoo.com/odoo/odoo/pull/196098)', 'created_at': datetime.datetime(2025, 2, 1, 0, 55, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628640792, 'issue_id': 2824668772, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 1, 0, 55, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628669527, 'issue_id': 2824668772, 'author': 'fw-bot', 'body': '@rousseldenis @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 1, 1, 34, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-01 00:55:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196098.png)](https://mergebot.odoo.com/odoo/odoo/pull/196098)

fw-bot (Issue Creator) on (2025-02-01 00:55:33 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 01:34:44 UTC): @rousseldenis @william-andre ci/runbot failed on this forward-port PR

"
2824575672,pull_request,closed,,[FW][FIX] website_event_track: Ignore colorless tags on the proposal form,"Colorless tags are always hidden in the frontend interface, this allows
to manage them in backend without showing them.

Since there's no filter on the `websiteEventTrackProposalFormTags` widget,
those tags were still selectable from the website, resulting in the
following issues:
- Adding useless noise in the selection.
- Letting users select tags that are not intended to be selected.
- Users could also wrongly select a tag instead of the intended one.

Forward-Port-Of: odoo/odoo#195856",fw-bot,2025-01-31 23:36:56+00:00,[],2025-02-03 14:06:16+00:00,2025-02-03 14:06:16+00:00,https://github.com/odoo/odoo/pull/196097,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2628570533, 'issue_id': 2824575672, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196097.png)](https://mergebot.odoo.com/odoo/odoo/pull/196097)', 'created_at': datetime.datetime(2025, 1, 31, 23, 36, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628570539, 'issue_id': 2824575672, 'author': 'fw-bot', 'body': '@arbaes @jeh-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196080\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 23, 36, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628616081, 'issue_id': 2824575672, 'author': 'fw-bot', 'body': '@arbaes @jeh-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 1, 0, 28, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628689330, 'issue_id': 2824575672, 'author': 'fw-bot', 'body': '@arbaes @jeh-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 1, 2, 6, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630289020, 'issue_id': 2824575672, 'author': 'jeh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 37, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 23:36:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196097.png)](https://mergebot.odoo.com/odoo/odoo/pull/196097)

fw-bot (Issue Creator) on (2025-01-31 23:36:58 UTC): @arbaes @jeh-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196080

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 00:28:16 UTC): @arbaes @jeh-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-01 02:06:46 UTC): @arbaes @jeh-odoo ci/runbot failed on this forward-port PR

jeh-odoo on (2025-02-03 08:37:24 UTC): @robodoo r+

"
2824572323,pull_request,closed,,[FW][FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195962",fw-bot,2025-01-31 23:33:31+00:00,[],2025-02-03 21:33:57+00:00,2025-02-03 21:33:57+00:00,https://github.com/odoo/odoo/pull/196096,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628567634, 'issue_id': 2824572323, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196096.png)](https://mergebot.odoo.com/odoo/odoo/pull/196096)', 'created_at': datetime.datetime(2025, 1, 31, 23, 33, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628567643, 'issue_id': 2824572323, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 23, 33, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 23:33:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196096.png)](https://mergebot.odoo.com/odoo/odoo/pull/196096)

fw-bot (Issue Creator) on (2025-01-31 23:33:35 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824548488,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: tour for testing synchronisation","Before we had no solution to test the synchronisation of the pos. In classic tours websocket are not supported. And we cannot launch two tours in parallel.

This commit add the possibility to load test assets in the PoS during our development. That's allow us to launch tour in loop in two different browser and test the synchronisation by creating orders, payment etc.

Tour assets are only added by adding `&tours=True` in the URL of the PoS interface.

Forward-Port-Of: odoo/odoo#195344",fw-bot,2025-01-31 23:10:50+00:00,[],2025-02-03 19:45:45+00:00,2025-02-03 19:45:45+00:00,https://github.com/odoo/odoo/pull/196095,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628547204, 'issue_id': 2824548488, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196095.png)](https://mergebot.odoo.com/odoo/odoo/pull/196095)', 'created_at': datetime.datetime(2025, 1, 31, 23, 10, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628547222, 'issue_id': 2824548488, 'author': 'fw-bot', 'body': '@davidmonnom @caburj cherrypicking of pull request odoo/odoo#195344 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/__manifest__.py\nAuto-merging addons/point_of_sale/controllers/main.py\nAuto-merging addons/point_of_sale/static/src/app/pos_app.js\nCONFLICT (file location): addons/point_of_sale/static/tests/tours/fake_tours.js added in 68a8e6f0247b8f185aa733d99ee5d1aefdd0ca12 inside a directory that was renamed in cbe71f06df143a180dcc3d92df96d180aa96db15, suggesting it should perhaps be moved to addons/point_of_sale/static/tests/pos/tours/fake_tours.js.\nAuto-merging addons/point_of_sale/views/pos_assets_index.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/views/pos_assets_index.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 23, 10, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631112350, 'issue_id': 2824548488, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 14, 10, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 23:10:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196095.png)](https://mergebot.odoo.com/odoo/odoo/pull/196095)

fw-bot (Issue Creator) on (2025-01-31 23:10:51 UTC): @davidmonnom @caburj cherrypicking of pull request odoo/odoo#195344 failed.

stdout:
```
Auto-merging addons/point_of_sale/__manifest__.py
Auto-merging addons/point_of_sale/controllers/main.py
Auto-merging addons/point_of_sale/static/src/app/pos_app.js
CONFLICT (file location): addons/point_of_sale/static/tests/tours/fake_tours.js added in 68a8e6f0247b8f185aa733d99ee5d1aefdd0ca12 inside a directory that was renamed in cbe71f06df143a180dcc3d92df96d180aa96db15, suggesting it should perhaps be moved to addons/point_of_sale/static/tests/pos/tours/fake_tours.js.
Auto-merging addons/point_of_sale/views/pos_assets_index.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/views/pos_assets_index.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-03 14:10:42 UTC): @robodoo r+

"
2824548244,pull_request,closed,,"[FW][FIX] base,web: save update_related_model_id","Before this commit, the resource_ref field of a server action can disappear when the action is saved.

This is due to the following:
- the update_related_model_id is a computed stored READONLY field which leads to it not being included in the web_save rpc and is therefore not saved on the record

The fix consists to ensure the update_related_model_id is saved by making it readonly=False, which is usually what we want when we have a computed stored field.

Task: opw-4513803

Forward-Port-Of: odoo/odoo#195367
Forward-Port-Of: odoo/odoo#195124",fw-bot,2025-01-31 23:10:30+00:00,[],2025-02-04 05:37:00+00:00,2025-02-04 05:37:00+00:00,https://github.com/odoo/odoo/pull/196094,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628546932, 'issue_id': 2824548244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196094.png)](https://mergebot.odoo.com/odoo/odoo/pull/196094)', 'created_at': datetime.datetime(2025, 1, 31, 23, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628546945, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 23, 10, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628587380, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 23, 56, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684681, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629122713, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 1, 21, 31, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201433, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729605, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630316625, 'issue_id': 2824548244, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 8, 50, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632074208, 'issue_id': 2824548244, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 21, 5, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 23:10:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196094.png)](https://mergebot.odoo.com/odoo/odoo/pull/196094)

fw-bot (Issue Creator) on (2025-01-31 23:10:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 23:56:36 UTC): @brboi @ryv-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-01 02:00:58 UTC): @brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 21:31:10 UTC): @brboi @ryv-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 02:01:03 UTC): @brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:49 UTC): @brboi @ryv-odoo this forward port of odoo/odoo#195124 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 08:50:47 UTC): @brboi @ryv-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

brboi on (2025-02-03 21:05:35 UTC): @robodoo r+

"
2824484703,pull_request,closed,,[FW][FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195962",fw-bot,2025-01-31 22:12:45+00:00,[],2025-02-03 19:02:12+00:00,2025-02-03 19:02:11+00:00,https://github.com/odoo/odoo/pull/196093,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628487283, 'issue_id': 2824484703, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196093.png)](https://mergebot.odoo.com/odoo/odoo/pull/196093)', 'created_at': datetime.datetime(2025, 1, 31, 22, 12, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628487293, 'issue_id': 2824484703, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 22, 12, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 22:12:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196093.png)](https://mergebot.odoo.com/odoo/odoo/pull/196093)

fw-bot (Issue Creator) on (2025-01-31 22:12:46 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824458242,pull_request,closed,,[FW][FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

Forward-Port-Of: odoo/odoo#195949",fw-bot,2025-01-31 21:52:01+00:00,[],2025-02-03 08:53:18+00:00,2025-02-03 08:53:18+00:00,https://github.com/odoo/odoo/pull/196092,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628461306, 'issue_id': 2824458242, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196092.png)](https://mergebot.odoo.com/odoo/odoo/pull/196092)', 'created_at': datetime.datetime(2025, 1, 31, 21, 52, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628461316, 'issue_id': 2824458242, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 21, 52, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628500931, 'issue_id': 2824458242, 'author': 'fw-bot', 'body': '@SergeBayet @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 22, 24, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629532662, 'issue_id': 2824458242, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/l10n on 2e2303e3a77610821649aee448248382d7398d4e (view more at https://runbot.odoo.com/runbot/build/74354585)', 'created_at': datetime.datetime(2025, 2, 2, 19, 57, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630127225, 'issue_id': 2824458242, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 2, 3, 7, 2, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 21:52:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196092.png)](https://mergebot.odoo.com/odoo/odoo/pull/196092)

fw-bot (Issue Creator) on (2025-01-31 21:52:03 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 22:24:22 UTC): @SergeBayet @qsm-odoo ci/runbot failed on this forward-port PR

robodoo on (2025-02-02 19:57:05 UTC): @SergeBayet @qsm-odoo staging failed: ci/l10n on 2e2303e3a77610821649aee448248382d7398d4e (view more at https://runbot.odoo.com/runbot/build/74354585)

d-fence on (2025-02-03 07:02:18 UTC): robodoo retry
(failing test deactivated)

"
2824379080,pull_request,closed,,[FW][FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195962",fw-bot,2025-01-31 20:55:35+00:00,[],2025-02-03 19:02:44+00:00,2025-02-03 19:02:44+00:00,https://github.com/odoo/odoo/pull/196091,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628383372, 'issue_id': 2824379080, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196091.png)](https://mergebot.odoo.com/odoo/odoo/pull/196091)', 'created_at': datetime.datetime(2025, 1, 31, 20, 55, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628383382, 'issue_id': 2824379080, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 20, 55, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 20:55:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196091.png)](https://mergebot.odoo.com/odoo/odoo/pull/196091)

fw-bot (Issue Creator) on (2025-01-31 20:55:37 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824341555,pull_request,closed,,[FW][FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

Forward-Port-Of: odoo/odoo#195949",fw-bot,2025-01-31 20:27:32+00:00,[],2025-02-02 20:22:53+00:00,2025-02-02 20:22:53+00:00,https://github.com/odoo/odoo/pull/196090,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628344544, 'issue_id': 2824341555, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196090.png)](https://mergebot.odoo.com/odoo/odoo/pull/196090)', 'created_at': datetime.datetime(2025, 1, 31, 20, 27, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628344565, 'issue_id': 2824341555, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 20, 27, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 20:27:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196090.png)](https://mergebot.odoo.com/odoo/odoo/pull/196090)

fw-bot (Issue Creator) on (2025-01-31 20:27:34 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824333484,pull_request,closed,,[FW][FIX] stock: 'Pick From' could create sml with picking_id to False,"When opening a new (virtual) 'stock.move' to create a 'stock.move.line' and directly validating the picking afterward, the created 'stock.move.line' was not directly associated to the picking_id. This happens because the virtual record does not have the picking_id because this field is not present on the tree view.

One impact of this issue has is that the stock.move.line created doesn't show on the Delivery Slip report.

## HOW TO REPRODUCE

https://github.com/odoo/odoo/assets/29302288/5c17e601-4d67-4515-8d5a-286460b9a9cd

- On TODO picking, do the following steps WITHOUT CLICKING ON SAVE
- Operations -> Add a line: (demand 0, quantity 0)
- Click on 'Open Move' button (fa-list icon)
- Popup 'Open: Stock move': Add a line
- Popup 'Add line: <product>': click on 'New'
- Popup 'Create Move Line': click on 'Save & Close'
- Popup 'Open: Stock move': set Quantity = 1, click on 'Save & Close'
- Validate picking -> Create backorder => Check picking move_line_ids = EMPTY

## Solution
Add picking_id field on view_picking_form -> move_ids_without_package tree view (Operations list).

OPW-3974109

Forward-Port-Of: odoo/odoo#171766",fw-bot,2025-01-31 20:21:45+00:00,[],2025-02-03 10:02:44+00:00,2025-02-03 10:02:44+00:00,https://github.com/odoo/odoo/pull/196089,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628336461, 'issue_id': 2824333484, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196089.png)](https://mergebot.odoo.com/odoo/odoo/pull/196089)', 'created_at': datetime.datetime(2025, 1, 31, 20, 21, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628336477, 'issue_id': 2824333484, 'author': 'fw-bot', 'body': '@DavidFesquet @Whenrow this PR targets saas-18.1 and is the last of the forward-port chain containing:\n* odoo/odoo#196084\n* odoo/odoo#196066\n* odoo/odoo#196046\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 20, 21, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630143692, 'issue_id': 2824333484, 'author': 'DavidFesquet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 13, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 20:21:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196089.png)](https://mergebot.odoo.com/odoo/odoo/pull/196089)

fw-bot (Issue Creator) on (2025-01-31 20:21:47 UTC): @DavidFesquet @Whenrow this PR targets saas-18.1 and is the last of the forward-port chain containing:
* odoo/odoo#196084
* odoo/odoo#196066
* odoo/odoo#196046

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DavidFesquet on (2025-02-03 07:13:37 UTC): @robodoo r+

"
2824312530,pull_request,open,,[IMP] web: smart date inputs enhancements,"#### Some new enhancements on the smart date input:

Improved Auto-Check for Time Units:
> Years: years, year, yrs, yr, y
> Months: months, month, m
> Weeks: weeks, week, w
> Days: days, day, d

New Time Units Supported:
> Hours: hours, hour, hrs, hr, h
> Minutes: minutes, minute, mins, min, x

Date Navigation Shortcuts:
> Now: today, td, current, curr, crnt, now, 0
> Tomorrow: tomorrow, tmrw, tmr, next day, nextday, nxtday
> Yesterday: yesterday, ystr, yester, previous day, prev day, prevday

Chain of Inputs Supported:
> Example: +1 year -2 months +3 weeks -40 hrs or +1y -2m +3w -40h will adjust the date/time accordingly.

Add/Subtract from Specific Date:
> Example: 2025-01-01, +2 years +6 months or 2025-01-01, +2y +6m will result in 2027-07-01.
> Example: 2025-01-01 00:00:00, +2 hrs +30 mins or 2025-01-01 00:00:00, +2h +30x will result in 2025-01-01 02:30:00

Description of the issue/feature this PR addresses:
New enhancements on the smart date input

Current behavior before PR:
Accepts years, months, weeks, days (y|m|w|d) as smarts inputs

Desired behavior after PR is merged:
Improved Auto-Check for Date Units, New Time Units Supported, Date Navigation Shortcuts, Chain of Inputs Supported, Add/Subtract from Specific Date



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",RajeelZahid,2025-01-31 20:06:47+00:00,[],2025-01-31 20:09:19+00:00,,https://github.com/odoo/odoo/pull/196088,[],"[{'comment_id': 2628311481, 'issue_id': 2824312530, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196088.png)](https://mergebot.odoo.com/odoo/odoo/pull/196088)', 'created_at': datetime.datetime(2025, 1, 31, 20, 6, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 20:06:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196088.png)](https://mergebot.odoo.com/odoo/odoo/pull/196088)

"
2824285972,pull_request,closed,,[FW][FIX] stock: account for context in product.template quantities calculation,"Currently, the available and forecasted product quantities are not always calculated correctly across multiple warehouses.

### Steps to reproduce

1. Install the `stock` and `point_of_sale` modules.
2. Ensure that a product exists in multiple warehouses, with different quantities in each warehouse.
3. Make sure the product is available in the POS.
4. Start the POS.
5. Find the product and click the ""i"" button in the top-right corner to view more details.

Expected Behavior: The system should display the correct available and forecasted quantities for each warehouse. Actual Behavior: All warehouses incorrectly show the same available and forecasted quantities.

### Cause

The system retrieves product quantities by reading the `qty_available` and `virtual_available` fields on the product template record, applying a `warehouse_id` context key for each warehouse (see [here](https://github.com/odoo/odoo/blob/afac1319a2bf230ec0702a7822fca405638fc38b/addons/point_of_sale/models/product_template.py#L215-L221)). However, these fields are computed and do not depend on the context, meaning only the quantities for the first warehouse are computed correctly. For all other warehouses, the values are retrieved from the cache, resulting in all warehouses displaying the same quantities.

opw-4421070

Forward-Port-Of: odoo/odoo#195730",fw-bot,2025-01-31 19:54:03+00:00,[],2025-02-03 08:27:01+00:00,2025-02-03 08:27:01+00:00,https://github.com/odoo/odoo/pull/196087,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2628265767, 'issue_id': 2824285972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196087.png)](https://mergebot.odoo.com/odoo/odoo/pull/196087)', 'created_at': datetime.datetime(2025, 1, 31, 19, 54, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628265797, 'issue_id': 2824285972, 'author': 'fw-bot', 'body': '@ushyme @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 54, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630119973, 'issue_id': 2824285972, 'author': 'ushyme', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 6, 57, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:54:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196087.png)](https://mergebot.odoo.com/odoo/odoo/pull/196087)

fw-bot (Issue Creator) on (2025-01-31 19:54:05 UTC): @ushyme @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ushyme on (2025-02-03 06:57:59 UTC): @robodoo r+

"
2824285116,pull_request,open,,[FW][FIX] l10n_es_edi_tbai: allow billing user to send edi cancels,"Before this patch, if a billing user (without any administration settings level) tried to cancel a posted invoice and clicked on the ""Process now"" button, they got an exception.

In particular, it happened because those users shouldn't have access to stuff such as the certificate, its password or the contents of the sent EDI attachment.

However, they should be able to post the documents using whatever configuration the sysadmin saved. Thus, I use some `sudo()` calls and add a test to assert it won't break anymore.

**How to test functionally:**
1. Configure a Spanish company.
2. Install `l10n_es_edi_tbai` and configure it.
3. Switch to a user that only has ""Invoicing / Billing"" permissions.
4. Post an invoice.
5. Send it to tbai.
6. Request EDI cancellation.
7. Send it to tbai.
8. It should work now.

@moduon MT-8894 OPW-4535149


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195981",fw-bot,2025-01-31 19:53:38+00:00,[],2025-01-31 20:00:12+00:00,,https://github.com/odoo/odoo/pull/196086,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628264529, 'issue_id': 2824285116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196086.png)](https://mergebot.odoo.com/odoo/odoo/pull/196086)', 'created_at': datetime.datetime(2025, 1, 31, 19, 53, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628264551, 'issue_id': 2824285116, 'author': 'fw-bot', 'body': '@Yajo @jco-odoo cherrypicking of pull request odoo/odoo#195981 failed.\n\nstdout:\n```\nAuto-merging addons/account_edi/tests/common.py\nAuto-merging addons/l10n_es_edi_sii/models/account_edi_format.py\nCONFLICT (content): Merge conflict in addons/l10n_es_edi_sii/models/account_edi_format.py\nAuto-merging addons/l10n_es_edi_tbai/models/account_edi_format.py\nAuto-merging addons/l10n_es_edi_tbai/tests/common.py\nAuto-merging addons/l10n_es_edi_tbai/tests/test_edi_web_services.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 53, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:53:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196086.png)](https://mergebot.odoo.com/odoo/odoo/pull/196086)

fw-bot (Issue Creator) on (2025-01-31 19:53:39 UTC): @Yajo @jco-odoo cherrypicking of pull request odoo/odoo#195981 failed.

stdout:
```
Auto-merging addons/account_edi/tests/common.py
Auto-merging addons/l10n_es_edi_sii/models/account_edi_format.py
CONFLICT (content): Merge conflict in addons/l10n_es_edi_sii/models/account_edi_format.py
Auto-merging addons/l10n_es_edi_tbai/models/account_edi_format.py
Auto-merging addons/l10n_es_edi_tbai/tests/common.py
Auto-merging addons/l10n_es_edi_tbai/tests/test_edi_web_services.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824260408,pull_request,closed,,[FW][FIX] stock_picking_batch: prevent traceback when sorting by zip,"Issue Before This Commit:
============================
   
   A traceback occurs when attempting to sort pickings by zip if any picking has
   a False or empty zip value.

Steps to Reproduce:
=====================
1. Install the stock_fleet module.
2. Navigate to Batch Transfer in the Stock module under the Operations tab.
3. Create a new batch and add pickings, ensuring some have a zip value while others do not.
4. Save the batch, which triggers a traceback error: TypeError: '<' not supported between instances of 'bool' and 'str'.

With This Commit:
=====================

  The issue occurred because sorting directly on the zip caused an error
  when the zip was False. this fix ensures that sorting treats zip as an empty
  string () when it is False, preventing the error.

task - [4535113](https://www.odoo.com/odoo/my-tasks/4535113)

Forward-Port-Of: odoo/odoo#195957",fw-bot,2025-01-31 19:39:33+00:00,[],2025-02-03 22:48:49+00:00,2025-02-03 22:48:49+00:00,https://github.com/odoo/odoo/pull/196085,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2628230044, 'issue_id': 2824260408, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196085.png)](https://mergebot.odoo.com/odoo/odoo/pull/196085)', 'created_at': datetime.datetime(2025, 1, 31, 19, 39, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628230077, 'issue_id': 2824260408, 'author': 'fw-bot', 'body': '@dhha-odoo @amoyaux this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196069\n* odoo/odoo#196053\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 39, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630704100, 'issue_id': 2824260408, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 11, 38, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:39:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196085.png)](https://mergebot.odoo.com/odoo/odoo/pull/196085)

fw-bot (Issue Creator) on (2025-01-31 19:39:35 UTC): @dhha-odoo @amoyaux this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196069
* odoo/odoo#196053

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dhha-odoo on (2025-02-03 11:38:57 UTC): robodoo r+

"
2824225893,pull_request,closed,,[FW][FIX] stock: 'Pick From' could create sml with picking_id to False,"When opening a new (virtual) 'stock.move' to create a 'stock.move.line' and directly validating the picking afterward, the created 'stock.move.line' was not directly associated to the picking_id. This happens because the virtual record does not have the picking_id because this field is not present on the tree view.

One impact of this issue has is that the stock.move.line created doesn't show on the Delivery Slip report.

## HOW TO REPRODUCE

https://github.com/odoo/odoo/assets/29302288/5c17e601-4d67-4515-8d5a-286460b9a9cd

- On TODO picking, do the following steps WITHOUT CLICKING ON SAVE
- Operations -> Add a line: (demand 0, quantity 0)
- Click on 'Open Move' button (fa-list icon)
- Popup 'Open: Stock move': Add a line
- Popup 'Add line: <product>': click on 'New'
- Popup 'Create Move Line': click on 'Save & Close'
- Popup 'Open: Stock move': set Quantity = 1, click on 'Save & Close'
- Validate picking -> Create backorder => Check picking move_line_ids = EMPTY

## Solution
Add picking_id field on view_picking_form -> move_ids_without_package tree view (Operations list).

OPW-3974109

Forward-Port-Of: odoo/odoo#171766",fw-bot,2025-01-31 19:21:07+00:00,[],2025-02-03 11:42:20+00:00,2025-02-03 11:42:19+00:00,https://github.com/odoo/odoo/pull/196084,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628124682, 'issue_id': 2824225893, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196084.png)](https://mergebot.odoo.com/odoo/odoo/pull/196084)', 'created_at': datetime.datetime(2025, 1, 31, 19, 21, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628124694, 'issue_id': 2824225893, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 21, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:21:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196084.png)](https://mergebot.odoo.com/odoo/odoo/pull/196084)

fw-bot (Issue Creator) on (2025-01-31 19:21:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824216260,pull_request,closed,,[FW][FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

Forward-Port-Of: odoo/odoo#195949",fw-bot,2025-01-31 19:16:09+00:00,[],2025-02-02 20:21:54+00:00,2025-02-02 20:21:54+00:00,https://github.com/odoo/odoo/pull/196083,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628117211, 'issue_id': 2824216260, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196083.png)](https://mergebot.odoo.com/odoo/odoo/pull/196083)', 'created_at': datetime.datetime(2025, 1, 31, 19, 16, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628117245, 'issue_id': 2824216260, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 16, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:16:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196083.png)](https://mergebot.odoo.com/odoo/odoo/pull/196083)

fw-bot (Issue Creator) on (2025-01-31 19:16:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824207675,pull_request,closed,,[FW][FIX] web: don't aggregate grouped by fields,"This commit fixes an issue where if the user applies a group by on an aggregatable field (an integer like color_index for example), this field is also registered as an aggregator in the webReadGroup call and this leads to nonsensical results by the orm. After this commit, the group by field is automatically excluded from aggregators so the issue cannot happen.

task-4491839

Forward-Port-Of: odoo/odoo#195871
Forward-Port-Of: odoo/odoo#195623",fw-bot,2025-01-31 19:10:21+00:00,[],2025-02-03 13:02:00+00:00,2025-02-03 13:02:00+00:00,https://github.com/odoo/odoo/pull/196082,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628108354, 'issue_id': 2824207675, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196082.png)](https://mergebot.odoo.com/odoo/odoo/pull/196082)', 'created_at': datetime.datetime(2025, 1, 31, 19, 10, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628108374, 'issue_id': 2824207675, 'author': 'fw-bot', 'body': '@juliusc2066 @jum-odoo cherrypicking of pull request odoo/odoo#195623 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/model/relational_model/relational_model.js\nAuto-merging addons/web/static/tests/views/kanban/kanban_view.test.js\nCONFLICT (content): Merge conflict in addons/web/static/tests/views/kanban/kanban_view.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 10, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728932, 'issue_id': 2824207675, 'author': 'fw-bot', 'body': '@juliusc2066 @jum-odoo this forward port of odoo/odoo#195623 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630529685, 'issue_id': 2824207675, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 22, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:10:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196082.png)](https://mergebot.odoo.com/odoo/odoo/pull/196082)

fw-bot (Issue Creator) on (2025-01-31 19:10:23 UTC): @juliusc2066 @jum-odoo cherrypicking of pull request odoo/odoo#195623 failed.

stdout:
```
Auto-merging addons/web/static/src/model/relational_model/relational_model.js
Auto-merging addons/web/static/tests/views/kanban/kanban_view.test.js
CONFLICT (content): Merge conflict in addons/web/static/tests/views/kanban/kanban_view.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:18 UTC): @juliusc2066 @jum-odoo this forward port of odoo/odoo#195623 is awaiting action (not merged or closed).

juliusc2066 on (2025-02-03 10:22:05 UTC): @robodoo r+

"
2824207123,pull_request,closed,,[FW][FIX] account: report builder line sequences,"Issue:
 When using the enterprise version, and configuring an accounting report with the report
 builder, issues might arise when changing the sequence of lines (using the drag and drop feature).
 Combined with the enterprise PR, this commit solves the issue by returning the lines ordered by sequence.

 Enterprise PR: https://github.com/odoo/odoo/pull/187907#pullrequestreview-2581564549

task-4328098
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195851
Forward-Port-Of: odoo/odoo#187907",fw-bot,2025-01-31 19:10:00+00:00,[],2025-02-04 09:46:45+00:00,2025-02-04 09:46:45+00:00,https://github.com/odoo/odoo/pull/196081,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628107870, 'issue_id': 2824207123, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196081.png)](https://mergebot.odoo.com/odoo/odoo/pull/196081)', 'created_at': datetime.datetime(2025, 1, 31, 19, 10, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628107897, 'issue_id': 2824207123, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78332) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 10, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730939, 'issue_id': 2824207123, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo this forward port of odoo/odoo#187907 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633151402, 'issue_id': 2824207123, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 0, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:10:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196081.png)](https://mergebot.odoo.com/odoo/odoo/pull/196081)

fw-bot (Issue Creator) on (2025-01-31 19:10:04 UTC): @hupo-odoo @oco-odoo while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78332) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:03:11 UTC): @hupo-odoo @oco-odoo this forward port of odoo/odoo#187907 is awaiting action (not merged or closed).

hupo-odoo on (2025-02-04 08:00:37 UTC): @robodoo r+

"
2824206018,pull_request,closed,,[FW][FIX] website_event_track: Ignore colorless tags on the proposal form,"Colorless tags are always hidden in the frontend interface, this allows
to manage them in backend without showing them.

Since there's no filter on the `websiteEventTrackProposalFormTags` widget,
those tags were still selectable from the website, resulting in the
following issues:
- Adding useless noise in the selection.
- Letting users select tags that are not intended to be selected.
- Users could also wrongly select a tag instead of the intended one.

Forward-Port-Of: odoo/odoo#195856",fw-bot,2025-01-31 19:09:13+00:00,[],2025-02-03 11:38:40+00:00,2025-02-03 11:38:40+00:00,https://github.com/odoo/odoo/pull/196080,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628106615, 'issue_id': 2824206018, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196080.png)](https://mergebot.odoo.com/odoo/odoo/pull/196080)', 'created_at': datetime.datetime(2025, 1, 31, 19, 9, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628106631, 'issue_id': 2824206018, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 9, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628228044, 'issue_id': 2824206018, 'author': 'fw-bot', 'body': '@arbaes @jeh-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 19, 39, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628489068, 'issue_id': 2824206018, 'author': 'fw-bot', 'body': '@arbaes @jeh-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 22, 14, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:09:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196080.png)](https://mergebot.odoo.com/odoo/odoo/pull/196080)

fw-bot (Issue Creator) on (2025-01-31 19:09:14 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 19:39:07 UTC): @arbaes @jeh-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 22:14:15 UTC): @arbaes @jeh-odoo ci/runbot failed on this forward-port PR

"
2824205592,pull_request,closed,,[FW][FIX] *: tours,"In this commit, we fix multiple tours on step that can cause non deterministic behaviors by adding additionnal steps to ensure tour is well on the way to taking the right path.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195973",fw-bot,2025-01-31 19:08:54+00:00,[],2025-02-05 02:56:34+00:00,2025-02-05 02:56:34+00:00,https://github.com/odoo/odoo/pull/196079,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628106151, 'issue_id': 2824205592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196079.png)](https://mergebot.odoo.com/odoo/odoo/pull/196079)', 'created_at': datetime.datetime(2025, 1, 31, 19, 8, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628106166, 'issue_id': 2824205592, 'author': 'fw-bot', 'body': '@pipu-odoo @iucapad cherrypicking of pull request odoo/odoo#195973 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js\nAuto-merging addons/test_website/static/tests/tours/restricted_editor.js\nAuto-merging addons/website/static/src/js/tours/tour_utils.js\nAuto-merging addons/website/static/tests/tours/edit_link_popover.js\nAuto-merging addons/website/static/tests/tours/edit_menus.js\nAuto-merging addons/website/static/tests/tours/snippet_popup_display_on_click.js\nAuto-merging addons/website/static/tests/tours/website_form_editor.js\nAuto-merging addons/website/tests/test_ui.py\nAuto-merging addons/website_crm/static/tests/tours/website_crm.js\nAuto-merging addons/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 8, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633855027, 'issue_id': 2824205592, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 7, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:08:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196079.png)](https://mergebot.odoo.com/odoo/odoo/pull/196079)

fw-bot (Issue Creator) on (2025-01-31 19:08:56 UTC): @pipu-odoo @iucapad cherrypicking of pull request odoo/odoo#195973 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js
Auto-merging addons/test_website/static/tests/tours/restricted_editor.js
Auto-merging addons/website/static/src/js/tours/tour_utils.js
Auto-merging addons/website/static/tests/tours/edit_link_popover.js
Auto-merging addons/website/static/tests/tours/edit_menus.js
Auto-merging addons/website/static/tests/tours/snippet_popup_display_on_click.js
Auto-merging addons/website/static/tests/tours/website_form_editor.js
Auto-merging addons/website/tests/test_ui.py
Auto-merging addons/website_crm/static/tests/tours/website_crm.js
Auto-merging addons/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-02-04 13:07:57 UTC): @robodoo r+

"
2824204680,pull_request,closed,,[FW][IMP] point_of_sale: prevent duplicate tracking number,"Before this commit, refreshing the browser and creating a new order could yield a duplicate tracking number, causing confusion. This commit addresses the issue by preventing the sequence from resetting within the same session on a single device.

opw-4501048

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194495",fw-bot,2025-01-31 19:08:15+00:00,[],2025-02-06 14:04:28+00:00,2025-02-06 14:04:28+00:00,https://github.com/odoo/odoo/pull/196078,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628105722, 'issue_id': 2824204680, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196078.png)](https://mergebot.odoo.com/odoo/odoo/pull/196078)', 'created_at': datetime.datetime(2025, 1, 31, 19, 8, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628105742, 'issue_id': 2824204680, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#194495 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 8, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639920911, 'issue_id': 2824204680, 'author': 'pedrambiria', 'body': 'it has been fixed in this version', 'created_at': datetime.datetime(2025, 2, 6, 14, 4, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:08:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196078.png)](https://mergebot.odoo.com/odoo/odoo/pull/196078)

fw-bot (Issue Creator) on (2025-01-31 19:08:38 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#194495 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-06 14:04:28 UTC): it has been fixed in this version

"
2824204217,pull_request,closed,,[FW][FIX] pos_sale: update quotation delivered qty,"When settling a quotation (unconfirmed sale order) from the POS, the
delivered quantity was not updated in the quotation.

Steps to reproduce:
-------------------
* Make a sale order but don't confirm it
* Go to the POS and settle the quotation
> Observation: The delivered quantity is not updated in the quotation

Why the fix:
------------
If the quotation was not confirmed no move lines were created, so the
`has_valued_moves` was False and no move lines were created for the PoS
order. And because the pos order has no move lines the quotation was not
updated with the delivered quantity.

opw-4479862

Forward-Port-Of: odoo/odoo#194420",fw-bot,2025-01-31 19:07:56+00:00,[],2025-02-03 19:45:49+00:00,2025-02-03 19:45:49+00:00,https://github.com/odoo/odoo/pull/196077,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628105676, 'issue_id': 2824204217, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196077.png)](https://mergebot.odoo.com/odoo/odoo/pull/196077)', 'created_at': datetime.datetime(2025, 1, 31, 19, 8, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628105691, 'issue_id': 2824204217, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 8, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628215036, 'issue_id': 2824204217, 'author': 'fw-bot', 'body': '@robinengels @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 19, 37, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630954975, 'issue_id': 2824204217, 'author': 'fw-bot', 'body': '@robinengels @caburj the next pull request (odoo/odoo#196200) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 13, 4, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631024885, 'issue_id': 2824204217, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 13, 35, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:08:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196077.png)](https://mergebot.odoo.com/odoo/odoo/pull/196077)

fw-bot (Issue Creator) on (2025-01-31 19:08:36 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 19:37:26 UTC): @robinengels @caburj ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 13:04:56 UTC): @robinengels @caburj the next pull request (odoo/odoo#196200) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-02-03 13:35:09 UTC): @robodoo r+

"
2824194243,pull_request,closed,,[FW][FIX] l10n_br_website_sale: b2b fields error,"The b2b fields are still required in the portal form
even if the ""Show b2b fields"" is deactivated

Steps:

- From the website editor, on the checkout form,
  unselect the ""Show b2b fields"" setting
- Log out and go to ecommerce
- Add a product to card and checkout
- Fill the address form with a Brazilian address
-> Error: ""Some required fields are empty.""

With this commit, we add the field `vat` to the mandatory fields only if
the option ""Show b2b"" fields is activated.

opw-4403161

Forward-Port-Of: odoo/odoo#195888
Forward-Port-Of: odoo/odoo#194110",fw-bot,2025-01-31 19:01:12+00:00,[],2025-02-03 10:00:49+00:00,2025-02-03 10:00:49+00:00,https://github.com/odoo/odoo/pull/196076,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2628094215, 'issue_id': 2824194243, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196076.png)](https://mergebot.odoo.com/odoo/odoo/pull/196076)', 'created_at': datetime.datetime(2025, 1, 31, 19, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628094233, 'issue_id': 2824194243, 'author': 'fw-bot', 'body': '@guva-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196059\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730276, 'issue_id': 2824194243, 'author': 'fw-bot', 'body': '@guva-odoo @clbr-odoo this forward port of odoo/odoo#194110 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630206679, 'issue_id': 2824194243, 'author': 'guva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 53, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:01:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196076.png)](https://mergebot.odoo.com/odoo/odoo/pull/196076)

fw-bot (Issue Creator) on (2025-01-31 19:01:14 UTC): @guva-odoo @clbr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196059

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:27 UTC): @guva-odoo @clbr-odoo this forward port of odoo/odoo#194110 is awaiting action (not merged or closed).

guva-odoo on (2025-02-03 07:53:39 UTC): @robodoo r+

"
2824192627,pull_request,closed,,[FW][FIX] website_sale_slides: fix allow course product issue,"Steps:
- Install E-learning app and E-commerce app.
- Go to E-commerce setting and make Ecommerce access to logged in user.
- Try to add a course with on payment setting with out login.

Issue:
User can't able to add course in cart.

Cause:
- No specific condition to allow adding course type product into cart.

Fix:
- Add condition to allow course product add into account even with Ecommerce access is `logged in user`.

opw-4384616

Forward-Port-Of: odoo/odoo#191103",fw-bot,2025-01-31 19:00:10+00:00,[],2025-02-03 08:26:16+00:00,2025-02-03 08:26:16+00:00,https://github.com/odoo/odoo/pull/196075,"[('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628092539, 'issue_id': 2824192627, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196075.png)](https://mergebot.odoo.com/odoo/odoo/pull/196075)', 'created_at': datetime.datetime(2025, 1, 31, 19, 0, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628092559, 'issue_id': 2824192627, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 19, 0, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628185541, 'issue_id': 2824192627, 'author': 'fw-bot', 'body': '@kcv-odoo @awa-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 19, 33, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629288283, 'issue_id': 2824192627, 'author': 'fw-bot', 'body': '@kcv-odoo @awa-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 2, 8, 1, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630040643, 'issue_id': 2824192627, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 5, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 19:00:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196075.png)](https://mergebot.odoo.com/odoo/odoo/pull/196075)

fw-bot (Issue Creator) on (2025-01-31 19:00:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 19:33:51 UTC): @kcv-odoo @awa-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 08:01:04 UTC): @kcv-odoo @awa-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

kcv-odoo on (2025-02-03 05:56:00 UTC): @robodoo r+

"
2824182031,pull_request,closed,,[FW][FIX] account: Add context key to prevent exchange diff but not recur…,"…sively

The 'no_exchange_difference' is used to prevent exchange diff in the whole reconciliation. However, the reconciliation is recursive when dealing with CABA entries. From the bank reconciliation widget, we want to prevent the exchange diff only for the top reconciliation but not recursively. Otherwise, the CABA entry ends up with a residual amount but considered as fully reconciled.

Instead, this commit introduces a new context key: 'no_exchange_difference_no_recursive'.

task-id: 4531511

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195814",fw-bot,2025-01-31 18:53:21+00:00,[],2025-02-03 17:49:53+00:00,2025-02-03 17:49:53+00:00,https://github.com/odoo/odoo/pull/196074,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628079680, 'issue_id': 2824182031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196074.png)](https://mergebot.odoo.com/odoo/odoo/pull/196074)', 'created_at': datetime.datetime(2025, 1, 31, 18, 53, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628079869, 'issue_id': 2824182031, 'author': 'fw-bot', 'body': '@smetl @oco-odoo cherrypicking of pull request odoo/odoo#195814 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move_line.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move_line.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 53, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631425033, 'issue_id': 2824182031, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 16, 4, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:53:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196074.png)](https://mergebot.odoo.com/odoo/odoo/pull/196074)

fw-bot (Issue Creator) on (2025-01-31 18:53:25 UTC): @smetl @oco-odoo cherrypicking of pull request odoo/odoo#195814 failed.

stdout:
```
Auto-merging addons/account/models/account_move_line.py
CONFLICT (content): Merge conflict in addons/account/models/account_move_line.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-02-03 16:04:17 UTC): @robodoo r+

"
2824152434,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when loading product suppliers,"Previously, opening the product info popup would fail if a product had multiple sellers with the same name but different prices and delays.

opw-4472861

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195682
Forward-Port-Of: odoo/odoo#195617",fw-bot,2025-01-31 18:33:52+00:00,[],2025-02-04 09:55:52+00:00,2025-02-04 09:55:52+00:00,https://github.com/odoo/odoo/pull/196073,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628048250, 'issue_id': 2824152434, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196073.png)](https://mergebot.odoo.com/odoo/odoo/pull/196073)', 'created_at': datetime.datetime(2025, 1, 31, 18, 33, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628048269, 'issue_id': 2824152434, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 33, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628112017, 'issue_id': 2824152434, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 19, 12, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201265, 'issue_id': 2824152434, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo this forward port of odoo/odoo#195617 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728960, 'issue_id': 2824152434, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo this forward port of odoo/odoo#195617 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632387767, 'issue_id': 2824152434, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo the next pull request (odoo/odoo#196341) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 23, 12, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633172027, 'issue_id': 2824152434, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 12, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:33:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196073.png)](https://mergebot.odoo.com/odoo/odoo/pull/196073)

fw-bot (Issue Creator) on (2025-01-31 18:33:54 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 19:12:44 UTC): @pedrambiria @vlst-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 02:00:46 UTC): @pedrambiria @vlst-odoo this forward port of odoo/odoo#195617 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:20 UTC): @pedrambiria @vlst-odoo this forward port of odoo/odoo#195617 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 23:12:34 UTC): @pedrambiria @vlst-odoo the next pull request (odoo/odoo#196341) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-04 08:12:14 UTC): @robodoo r+

"
2824142474,pull_request,closed,,[IMP] im_livechat: Change arrow to 'continue' when livechat ended,"**Purpose of the PR:**

Change the arrow icon to 'Continue' when a live chat conversation has ended to improve user clarity.

task-4535875

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",jayp-odoo,2025-01-31 18:27:18+00:00,[],2025-02-05 11:10:01+00:00,2025-02-03 10:02:33+00:00,https://github.com/odoo/odoo/pull/196072,"[('RD', 'research & development, internal work')]","[{'comment_id': 2628038153, 'issue_id': 2824142474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196072.png)](https://mergebot.odoo.com/odoo/odoo/pull/196072)', 'created_at': datetime.datetime(2025, 1, 31, 18, 27, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629468566, 'issue_id': 2824142474, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 16, 47, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629468579, 'issue_id': 2824142474, 'author': 'robodoo', 'body': '@jayp-odoo draft PRs can not be approved.', 'created_at': datetime.datetime(2025, 2, 2, 16, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629468854, 'issue_id': 2824142474, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 16, 48, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629477784, 'issue_id': 2824142474, 'author': 'robodoo', 'body': '@jayp-odoo staging failed: ci/runbot on dd754602b63f4e3959b175c1309d0065e692c416 (view more at https://runbot.odoo.com/runbot/build/74354091)', 'created_at': datetime.datetime(2025, 2, 2, 17, 16, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630140619, 'issue_id': 2824142474, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 11, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:27:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196072.png)](https://mergebot.odoo.com/odoo/odoo/pull/196072)

jayp-odoo (Issue Creator) on (2025-02-02 16:47:57 UTC): @robodoo r+

robodoo on (2025-02-02 16:48:00 UTC): @jayp-odoo draft PRs can not be approved.

jayp-odoo (Issue Creator) on (2025-02-02 16:48:51 UTC): @robodoo r+

robodoo on (2025-02-02 17:16:36 UTC): @jayp-odoo staging failed: ci/runbot on dd754602b63f4e3959b175c1309d0065e692c416 (view more at https://runbot.odoo.com/runbot/build/74354091)

robodoo on (2025-02-03 07:11:34 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2824138093,pull_request,closed,,[FW][FIX] account: prevent error on opening catalog,"This error occurs when we click on the ``Catalog`` button in move lines.

Steps to reproduce:
---
- Install ``Invoicing`` module
- Open NEW invoice > Click on ``Catalog`` in Invoice lines

Traceback:
---
```
IndexError: list index out of range
  File ""odoo/http.py"", line 2406, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1934, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1997, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1964, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2214, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 334, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 733, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/web/controllers/dataset.py"", line 31, in call_kw
    return call_kw(request.env[model], method, args, kwargs)
  File ""odoo/service/model.py"", line 51, in call_kw
    ids, args = args[0], args[1:]
```

The issue arises because the absence of the ``@api.model`` decorator in the original implementation prevents Odoo's ORM from properly recognizing the method as a ``model method``. To resolve this, the ``@api.model`` decorator was added above the ``search_read`` method.

sentry-6232832214

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195268",fw-bot,2025-01-31 18:24:29+00:00,[],2025-01-31 20:52:56+00:00,2025-01-31 20:52:56+00:00,https://github.com/odoo/odoo/pull/196071,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2628033929, 'issue_id': 2824138093, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196071.png)](https://mergebot.odoo.com/odoo/odoo/pull/196071)', 'created_at': datetime.datetime(2025, 1, 31, 18, 24, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628033949, 'issue_id': 2824138093, 'author': 'fw-bot', 'body': '@aamo-odoo @adwid this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 24, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628037739, 'issue_id': 2824138093, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 18, 27, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:24:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196071.png)](https://mergebot.odoo.com/odoo/odoo/pull/196071)

fw-bot (Issue Creator) on (2025-01-31 18:24:31 UTC): @aamo-odoo @adwid this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-01-31 18:27:05 UTC): @robodoo r+

"
2824131698,pull_request,closed,,[FW][FIX] website_sale: resolve product reorder issue in shop editor,"**Steps to Reproduce:**
- Navigate to /shop .
- Open editor mode and select a product.
- Use the reorder widget from the editor panel to change the product's position.
- Notice the product jumps 2 positions instead of 1 when reordered.

**Issue:**
- Two products, 'Warranty' and 'Chair Floor Protection', have the same website_sequence. This causes the reorder logic to malfunction, making products jump 2 positions when one is placed in front or behind these two.

**Fix:**
- Updated the website_sequence of conflicting products to ensure all products have unique values.

**Affected Versions:** 16.0~master
opw-4150099

Forward-Port-Of: odoo/odoo#195880
Forward-Port-Of: odoo/odoo#191297",fw-bot,2025-01-31 18:20:16+00:00,[],2025-02-03 08:26:47+00:00,2025-02-03 08:26:47+00:00,https://github.com/odoo/odoo/pull/196070,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2628027385, 'issue_id': 2824131698, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196070.png)](https://mergebot.odoo.com/odoo/odoo/pull/196070)', 'created_at': datetime.datetime(2025, 1, 31, 18, 20, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628027404, 'issue_id': 2824131698, 'author': 'fw-bot', 'body': '@mash-odoo @Feyensv this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196051\n* odoo/odoo#196033\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 20, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730726, 'issue_id': 2824131698, 'author': 'fw-bot', 'body': '@mash-odoo @Feyensv this forward port of odoo/odoo#191297 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629897403, 'issue_id': 2824131698, 'author': 'mash-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 4, 37, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:20:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196070.png)](https://mergebot.odoo.com/odoo/odoo/pull/196070)

fw-bot (Issue Creator) on (2025-01-31 18:20:20 UTC): @mash-odoo @Feyensv this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196051
* odoo/odoo#196033

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:55 UTC): @mash-odoo @Feyensv this forward port of odoo/odoo#191297 is awaiting action (not merged or closed).

mash-odoo on (2025-02-03 04:37:02 UTC): @robodoo r+

"
2824130240,pull_request,closed,,[FW][FIX] stock_picking_batch: prevent traceback when sorting by zip,"Issue Before This Commit:
============================
   
   A traceback occurs when attempting to sort pickings by zip if any picking has
   a False or empty zip value.

Steps to Reproduce:
=====================
1. Install the stock_fleet module.
2. Navigate to Batch Transfer in the Stock module under the Operations tab.
3. Create a new batch and add pickings, ensuring some have a zip value while others do not.
4. Save the batch, which triggers a traceback error: TypeError: '<' not supported between instances of 'bool' and 'str'.

With This Commit:
=====================

  The issue occurred because sorting directly on the zip caused an error
  when the zip was False. this fix ensures that sorting treats zip as an empty
  string () when it is False, preventing the error.

task - [4535113](https://www.odoo.com/odoo/my-tasks/4535113)

Forward-Port-Of: odoo/odoo#195957",fw-bot,2025-01-31 18:19:21+00:00,[],2025-02-04 07:00:39+00:00,2025-02-04 07:00:39+00:00,https://github.com/odoo/odoo/pull/196069,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628025804, 'issue_id': 2824130240, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196069.png)](https://mergebot.odoo.com/odoo/odoo/pull/196069)', 'created_at': datetime.datetime(2025, 1, 31, 18, 19, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628025819, 'issue_id': 2824130240, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 19, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628771182, 'issue_id': 2824130240, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 4, 49, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628788571, 'issue_id': 2824130240, 'author': 'robodoo', 'body': '@dhha-odoo @amoyaux staging failed: ci/runbot on 255e8e9576afe5e4bc4e5c4f748c4da2d8cd8697 (view more at https://runbot.odoo.com/runbot/build/74323059)', 'created_at': datetime.datetime(2025, 2, 1, 5, 37, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630710001, 'issue_id': 2824130240, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 11, 41, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630710072, 'issue_id': 2824130240, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 2, 3, 11, 41, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632789171, 'issue_id': 2824130240, 'author': 'dhha-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 4, 4, 27, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:19:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196069.png)](https://mergebot.odoo.com/odoo/odoo/pull/196069)

fw-bot (Issue Creator) on (2025-01-31 18:19:23 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dhha-odoo on (2025-02-01 04:49:39 UTC): robodoo r+

robodoo on (2025-02-01 05:37:49 UTC): @dhha-odoo @amoyaux staging failed: ci/runbot on 255e8e9576afe5e4bc4e5c4f748c4da2d8cd8697 (view more at https://runbot.odoo.com/runbot/build/74323059)

dhha-odoo on (2025-02-03 11:41:40 UTC): robodoo r+

robodoo on (2025-02-03 11:41:43 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

dhha-odoo on (2025-02-04 04:27:46 UTC): @robodoo retry

"
2824123078,pull_request,closed,,[FW][FIX] mrp: assert time value with a delta,"Comparing times may give false error because of the precision and time to run a test. This commit adds a delta into which two datetime are considered the same in order to not make the test failing by mistake.

runbot : 112119

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195457",fw-bot,2025-01-31 18:14:41+00:00,[],2025-02-06 15:05:32+00:00,2025-02-06 15:05:32+00:00,https://github.com/odoo/odoo/pull/196068,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628018529, 'issue_id': 2824123078, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196068.png)](https://mergebot.odoo.com/odoo/odoo/pull/196068)', 'created_at': datetime.datetime(2025, 1, 31, 18, 14, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628018544, 'issue_id': 2824123078, 'author': 'fw-bot', 'body': '@Whenrow cherrypicking of pull request odoo/odoo#195457 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 14, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639269555, 'issue_id': 2824123078, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 31, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:14:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196068.png)](https://mergebot.odoo.com/odoo/odoo/pull/196068)

fw-bot (Issue Creator) on (2025-01-31 18:14:42 UTC): @Whenrow cherrypicking of pull request odoo/odoo#195457 failed.

stdout:
```
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Whenrow on (2025-02-06 09:31:03 UTC): robodoo r+

"
2824120540,pull_request,closed,,[FW][FIX] sale_stock: use only SOL linked COGS lines to get price unit,"**Current behavior:**
With a FIFO + real-time product, `ProductA`:
Creating a sale order with multiple order lines for ProductA,
processing the resulting delivery in 2 separate pickings via
backorder (1st delivery for the 1st line, 2nd delivery for the
2nd line), then invoicing the delivered product separately
result in an invoice with invoice lines which do not reflect the
value of the product at delivery time.

**Expected behavior:**
The SVLs generated from the deliveries should inform the
generated AccountMoves.

**Steps to reproduce:**
1. `FIFO-prod`: FIFO and real-time valuation & costing

2. Receive 12 units of `FIFO-prod` @ $100 per

3. Create a sale order with order lines:
* `FIFO-prod` `10 units` `price_unit=$100`
* `FIFO-prod` `2 units` `price_unit=$100`

4. Confirm the sale order, on the delivery, only receive the
first move for the 10 qty, backorder the other 2 qty

5. Receive the backorder, create an invoice- edit the invoice
lines so that 5/10 of line 1 and 2/2 of line 2 are invoiced,
then post/confirm

6. Edit the `standard_price` of `FIFO-prod` (e.g., $100 -> $50)

7. Create another invoice for the remaining quantity and post

8. Observe that the COGs lines on the invoice have been
calculated with a different price unit than the other invoice &
unit_price for the out SVLs

**Cause of the issue:**
When getting the price unit of a given anglo saxon invoice line,
there is no check that all the collected COGS lines are linked
to the sale order line which corresponds to the product and
product_qty that we are attempting to value.

This creates an imbalance in the qty calculation later here:
https://github.com/odoo/odoo/blob/f2728b2fe13a355ecb301a3714639b8a07f418b4/addons/stock_account/models/stock_valuation_layer.py#L202-L211
when the valuation is actually performed.

**Fix:**
Only consider posted COGS lines for the sale order line with the
product qty that is getting valued when calculating
`qty_invoiced`.

opw-4321363

Forward-Port-Of: odoo/odoo#195046",fw-bot,2025-01-31 18:13:02+00:00,[],2025-02-06 16:51:56+00:00,2025-02-06 16:51:56+00:00,https://github.com/odoo/odoo/pull/196067,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628015764, 'issue_id': 2824120540, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196067.png)](https://mergebot.odoo.com/odoo/odoo/pull/196067)', 'created_at': datetime.datetime(2025, 1, 31, 18, 13, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628015779, 'issue_id': 2824120540, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 13, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628091218, 'issue_id': 2824120540, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 18, 59, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630155688, 'issue_id': 2824120540, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 7, 21, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639859112, 'issue_id': 2824120540, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 39, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:13:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196067.png)](https://mergebot.odoo.com/odoo/odoo/pull/196067)

fw-bot (Issue Creator) on (2025-01-31 18:13:04 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 18:59:21 UTC): @ethanrobv @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 07:21:23 UTC): @ethanrobv @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

ethanrobv on (2025-02-06 13:39:22 UTC): @robodoo r+

"
2824114750,pull_request,closed,,[FW][FIX] stock: 'Pick From' could create sml with picking_id to False,"When opening a new (virtual) 'stock.move' to create a 'stock.move.line' and directly validating the picking afterward, the created 'stock.move.line' was not directly associated to the picking_id. This happens because the virtual record does not have the picking_id because this field is not present on the tree view.

One impact of this issue has is that the stock.move.line created doesn't show on the Delivery Slip report.

## HOW TO REPRODUCE

https://github.com/odoo/odoo/assets/29302288/5c17e601-4d67-4515-8d5a-286460b9a9cd

- On TODO picking, do the following steps WITHOUT CLICKING ON SAVE
- Operations -> Add a line: (demand 0, quantity 0)
- Click on 'Open Move' button (fa-list icon)
- Popup 'Open: Stock move': Add a line
- Popup 'Add line: <product>': click on 'New'
- Popup 'Create Move Line': click on 'Save & Close'
- Popup 'Open: Stock move': set Quantity = 1, click on 'Save & Close'
- Validate picking -> Create backorder => Check picking move_line_ids = EMPTY

## Solution
Add picking_id field on view_picking_form -> move_ids_without_package tree view (Operations list).

OPW-3974109

Forward-Port-Of: odoo/odoo#171766",fw-bot,2025-01-31 18:09:18+00:00,[],2025-02-03 10:18:40+00:00,2025-02-03 10:18:40+00:00,https://github.com/odoo/odoo/pull/196066,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2628009689, 'issue_id': 2824114750, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196066.png)](https://mergebot.odoo.com/odoo/odoo/pull/196066)', 'created_at': datetime.datetime(2025, 1, 31, 18, 9, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628009706, 'issue_id': 2824114750, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 9, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:09:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196066.png)](https://mergebot.odoo.com/odoo/odoo/pull/196066)

fw-bot (Issue Creator) on (2025-01-31 18:09:20 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824114290,pull_request,closed,,[FW] 16.0 fix cannot drop search block in dutch bvr,"Since the class `s_searchbar_input` was translated into Dutch by a
translator on Transifex.
<sub>See screenshot of the Website `nl.po` file </sub>↓
<kbd>![image](https://github.com/user-attachments/assets/053f084b-30cf-42d3-9c13-7387b777b88f)</kbd>

It is no longer possible to drop the searchbar
block onto a webpage when Odoo's language is set to Dutch.

In this PR, we add `t-translation=""off""` in the xpath that adds
this class to the list of droppable element selectors, so it won't be
translated anymore. We also do the same for other xpath-ed classes that
don’t have `t-translation=""off""`, to prevent the same issue elsewhere.

Since the class is already translated in the existing databases, in
stable versions, we add the class a second time to the list of droppable
element selectors. This second class won't be translated, which will fix
the issue for Dutch users.

[opw-4461785](https://www.odoo.com/web#id=4461785&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

-----------
Note: This PR also fix 2 minor bugs:
- The text on the button to install a block overflows when translated into certain languages that make it longer.
<kbd>![image](https://github.com/user-attachments/assets/0532c186-c081-4e95-a853-1873e50005ff)</kbd>
- The `Embed code` block ""Click on Edit..."" message is not visible on dark background.
<kbd>![image](https://github.com/user-attachments/assets/16510ffb-7a2e-4eaa-b5f7-40f0e9d9a943)</kbd>

Forward-Port-Of: odoo/odoo#195854
Forward-Port-Of: odoo/odoo#193819",fw-bot,2025-01-31 18:08:59+00:00,[],2025-02-03 16:01:37+00:00,2025-02-03 16:01:37+00:00,https://github.com/odoo/odoo/pull/196065,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628009198, 'issue_id': 2824114290, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196065.png)](https://mergebot.odoo.com/odoo/odoo/pull/196065)', 'created_at': datetime.datetime(2025, 1, 31, 18, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628009258, 'issue_id': 2824114290, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.\n\n* 61e4aaa2e70a077bce6abfa66aec1ebe9db139f9\n* 831dada3f3659648a851c5f8d355ddc07f81fcf0\n* 7560e471cb63eb0c87d662f387f3d3aea2c741ad <- on this commit\n\nstdout:\n```\nAuto-merging addons/website/i18n/nl.po\nAuto-merging addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/views/snippets/s_searchbar.xml\nAuto-merging addons/website/views/snippets/s_website_form.xml\nAuto-merging addons/website_mass_mailing/views/snippets_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 9, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730454, 'issue_id': 2824114290, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#193819 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630835821, 'issue_id': 2824114290, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 39, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:09:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196065.png)](https://mergebot.odoo.com/odoo/odoo/pull/196065)

fw-bot (Issue Creator) on (2025-01-31 18:09:03 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.

* 61e4aaa2e70a077bce6abfa66aec1ebe9db139f9
* 831dada3f3659648a851c5f8d355ddc07f81fcf0
* 7560e471cb63eb0c87d662f387f3d3aea2c741ad <- on this commit

stdout:
```
Auto-merging addons/website/i18n/nl.po
Auto-merging addons/website/i18n/website.pot
Auto-merging addons/website/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/views/snippets/s_searchbar.xml
Auto-merging addons/website/views/snippets/s_website_form.xml
Auto-merging addons/website_mass_mailing/views/snippets_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:39 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#193819 is awaiting action (not merged or closed).

bvr-odoo on (2025-02-03 12:39:24 UTC): @robodoo r+

"
2824111192,pull_request,closed,,"[FW][FIX] l10n_es,l10n_es_edi_facturae : Update Taxes and modelo 390","This fix updates the taxes and the modelo 390 tax report

Task: 4453629

Enterprise PR: https://github.com/odoo/enterprise/pull/77941

Forward-Port-Of: odoo/odoo#195380",fw-bot,2025-01-31 18:06:56+00:00,[],2025-02-01 08:58:14+00:00,2025-02-01 08:58:14+00:00,https://github.com/odoo/odoo/pull/196064,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2628005810, 'issue_id': 2824111192, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196064.png)](https://mergebot.odoo.com/odoo/odoo/pull/196064)', 'created_at': datetime.datetime(2025, 1, 31, 18, 6, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628005886, 'issue_id': 2824111192, 'author': 'fw-bot', 'body': '@jbw-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195380 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_es/__manifest__.py\nAuto-merging addons/l10n_es/data/template/account.tax-es_common.csv\nCONFLICT (content): Merge conflict in addons/l10n_es/data/template/account.tax-es_common.csv\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628807140, 'issue_id': 2824111192, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 6, 27, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628818067, 'issue_id': 2824111192, 'author': 'robodoo', 'body': '@jbw-odoo @jco-odoo linked pull request(s) odoo/enterprise#78319 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 1, 7, 0, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:06:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196064.png)](https://mergebot.odoo.com/odoo/odoo/pull/196064)

fw-bot (Issue Creator) on (2025-01-31 18:07:00 UTC): @jbw-odoo @jco-odoo cherrypicking of pull request odoo/odoo#195380 failed.

stdout:
```
Auto-merging addons/l10n_es/__manifest__.py
Auto-merging addons/l10n_es/data/template/account.tax-es_common.csv
CONFLICT (content): Merge conflict in addons/l10n_es/data/template/account.tax-es_common.csv

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jbw-odoo on (2025-02-01 06:27:29 UTC): robodoo r+

robodoo on (2025-02-01 07:00:06 UTC): @jbw-odoo @jco-odoo linked pull request(s) odoo/enterprise#78319 not ready. Linked PRs are not staged until all of them are ready.

"
2824101881,pull_request,closed,,[FW][FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

Forward-Port-Of: odoo/odoo#195949",fw-bot,2025-01-31 18:01:00+00:00,[],2025-02-03 09:48:36+00:00,2025-02-03 09:48:36+00:00,https://github.com/odoo/odoo/pull/196063,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627995715, 'issue_id': 2824101881, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196063.png)](https://mergebot.odoo.com/odoo/odoo/pull/196063)', 'created_at': datetime.datetime(2025, 1, 31, 18, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627995729, 'issue_id': 2824101881, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629529300, 'issue_id': 2824101881, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/runbot on 77aa63fa28d1146cea11dec85171d102a860bf9e (view more at https://runbot.odoo.com/runbot/build/74354646)', 'created_at': datetime.datetime(2025, 2, 2, 19, 45, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630215380, 'issue_id': 2824101881, 'author': 'SergeBayet', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 7, 58, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 18:01:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196063.png)](https://mergebot.odoo.com/odoo/odoo/pull/196063)

fw-bot (Issue Creator) on (2025-01-31 18:01:02 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-02 19:45:44 UTC): @SergeBayet @qsm-odoo staging failed: ci/runbot on 77aa63fa28d1146cea11dec85171d102a860bf9e (view more at https://runbot.odoo.com/runbot/build/74354646)

SergeBayet on (2025-02-03 07:58:56 UTC): @robodoo retry

"
2824077173,pull_request,closed,,[FW][FIX] web: fix unit test error_checker,"Before this commit, the error_checker asserting that a JS unit test run failed performed a strict equality with an outdated string on error logs.

Now, the message has been changed, flagged explicitly as something that shouldn't be changed and the presence of that message is checked accross the entire message for robustness.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195947",fw-bot,2025-01-31 17:47:31+00:00,[],2025-02-03 11:38:51+00:00,2025-02-03 11:38:51+00:00,https://github.com/odoo/odoo/pull/196062,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627915020, 'issue_id': 2824077173, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196062.png)](https://mergebot.odoo.com/odoo/odoo/pull/196062)', 'created_at': datetime.datetime(2025, 1, 31, 17, 47, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627915126, 'issue_id': 2824077173, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 47, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628042254, 'issue_id': 2824077173, 'author': 'fw-bot', 'body': '@jum-odoo @aab-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 18, 30, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:47:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196062.png)](https://mergebot.odoo.com/odoo/odoo/pull/196062)

fw-bot (Issue Creator) on (2025-01-31 17:47:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 18:30:01 UTC): @jum-odoo @aab-odoo ci/runbot failed on this forward-port PR

"
2824076128,pull_request,closed,,[FW] 17.0 hr holidays fix accrual carryover amount lole,"Fixes two bugs on carry over amount:

reset accrual carryover to lost state:

steps:
- set the carry over to ""carry over with maximum""
- set a number of days to carry over and save
- set the carry over type back to ""None""
-> You still carry over the amount of days you typed in instead of 0

always carryover the cap:

steps:
- create an accrual plan with:
        - 21 days per year alloc
        - start immediate
        - 28 days cap
        - carryover with max 7 days
- create allocation for the current year (1/1/XXXX)
- take 15 days holidays -> 6 days left on the alloc
- check the leaves left for next year -> 28 days, should be 27 (21 + 6)

This happened because the carry-over calculation didn't take into account
the number of days left on the allocation and always carried over the cap.

Forward-Port-Of: odoo/odoo#190917
Forward-Port-Of: odoo/odoo#188621",fw-bot,2025-01-31 17:47:02+00:00,[],2025-02-03 13:01:53+00:00,2025-02-03 13:01:53+00:00,https://github.com/odoo/odoo/pull/196061,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627911200, 'issue_id': 2824076128, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196061.png)](https://mergebot.odoo.com/odoo/odoo/pull/196061)', 'created_at': datetime.datetime(2025, 1, 31, 17, 47, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627911274, 'issue_id': 2824076128, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 47, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628003617, 'issue_id': 2824076128, 'author': 'fw-bot', 'body': '@loleloup @Bertrand2 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 18, 5, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630324932, 'issue_id': 2824076128, 'author': 'fw-bot', 'body': '@loleloup @Bertrand2 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 3, 8, 54, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630534597, 'issue_id': 2824076128, 'author': 'loleloup', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 24, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:47:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196061.png)](https://mergebot.odoo.com/odoo/odoo/pull/196061)

fw-bot (Issue Creator) on (2025-01-31 17:47:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 18:05:39 UTC): @loleloup @Bertrand2 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 08:54:47 UTC): @loleloup @Bertrand2 this PR was modified / updated and has become a normal PR. It must be merged directly.

loleloup on (2025-02-03 10:24:13 UTC): @robodoo r+

"
2824075651,pull_request,closed,,[FW][FIX] point_of_sale: handle offline POS traceback,"Steps to Reproduce:
===================
- Open a POS session and go offline.
- Create orders and print receipts at the receipt screen.
- Restore the internet connection and bring the POS online.
- A traceback occurs during synchronization.

Before this commit:
=====================
A traceback occurred when making a POS order, printing a receipt in offline
mode, and later going online.
The issue arose because the nb_print field was updated via a backend write call
to restrict payment method edits. However, during offline mode, the order_id
was a string, causing the traceback.

After this commit:
===================
- The backend write call for nb_print is bypassed in offline mode. Instead, the
 `nb_print` count is updated on the frontend. When the order syncs after going
  online, the increased `nb_print` value prevents payment method edits as
  expected.
- Removed the nb_print validation constrains from payment lines. Validation is
  already handled in the write method of pos.order. This change avoids
  validation errors when syncing orders from offline to online, where
  nb_print = 1 and payment lines exist. The write method ensures proper handling
  during order creation.
- A `Connection Lost` error message is displayed when attempting to send
  orders to the kitchen while in offline mode.

Task-4504625

Forward-Port-Of: odoo/odoo#194694",fw-bot,2025-01-31 17:46:44+00:00,[],2025-02-03 10:02:24+00:00,2025-02-03 10:02:24+00:00,https://github.com/odoo/odoo/pull/196060,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2627909336, 'issue_id': 2824075651, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196060.png)](https://mergebot.odoo.com/odoo/odoo/pull/196060)', 'created_at': datetime.datetime(2025, 1, 31, 17, 46, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627909426, 'issue_id': 2824075651, 'author': 'fw-bot', 'body': '@jipr-odoo @davidmonnom cherrypicking of pull request odoo/odoo#194694 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_payment.py\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 46, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629395351, 'issue_id': 2824075651, 'author': 'jipr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 13, 23, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629413791, 'issue_id': 2824075651, 'author': 'robodoo', 'body': '@jipr-odoo @davidmonnom staging failed: ci/l10n on c10d6c8ab33b9dd65942383005508b9c636173c6 (view more at https://runbot.odoo.com/runbot/build/74353863)', 'created_at': datetime.datetime(2025, 2, 2, 14, 14, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630139869, 'issue_id': 2824075651, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 11, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:46:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196060.png)](https://mergebot.odoo.com/odoo/odoo/pull/196060)

fw-bot (Issue Creator) on (2025-01-31 17:46:48 UTC): @jipr-odoo @davidmonnom cherrypicking of pull request odoo/odoo#194694 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_payment.py
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jipr-odoo on (2025-02-02 13:23:53 UTC): @robodoo r+

robodoo on (2025-02-02 14:14:21 UTC): @jipr-odoo @davidmonnom staging failed: ci/l10n on c10d6c8ab33b9dd65942383005508b9c636173c6 (view more at https://runbot.odoo.com/runbot/build/74353863)

robodoo on (2025-02-03 07:11:01 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2824074571,pull_request,closed,,[FW][FIX] l10n_br_website_sale: b2b fields error,"The b2b fields are still required in the portal form
even if the ""Show b2b fields"" is deactivated

Steps:

- From the website editor, on the checkout form,
  unselect the ""Show b2b fields"" setting
- Log out and go to ecommerce
- Add a product to card and checkout
- Fill the address form with a Brazilian address
-> Error: ""Some required fields are empty.""

With this commit, we add the field `vat` to the mandatory fields only if
the option ""Show b2b"" fields is activated.

opw-4403161

Forward-Port-Of: odoo/odoo#195888
Forward-Port-Of: odoo/odoo#194110",fw-bot,2025-01-31 17:46:15+00:00,[],2025-02-03 10:03:00+00:00,2025-02-03 10:03:00+00:00,https://github.com/odoo/odoo/pull/196059,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627908980, 'issue_id': 2824074571, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196059.png)](https://mergebot.odoo.com/odoo/odoo/pull/196059)', 'created_at': datetime.datetime(2025, 1, 31, 17, 46, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627909058, 'issue_id': 2824074571, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 46, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:46:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196059.png)](https://mergebot.odoo.com/odoo/odoo/pull/196059)

fw-bot (Issue Creator) on (2025-01-31 17:46:45 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824073798,pull_request,closed,,[FW][FIX] website: prevent font from reverting after custom font upload,"Steps to reproduce:

1. Go to Website -> Edit -> Theme section.
2. Choose a predefined font family for the paragraph, such as ""Arvo"".
4. Return to the font family dropdown and click on ""Add a Custom Font"".
Notice that the selected font reverts to the ""default/system"" font.

Issue:
The issue occurs because when a predefined ""we-button"" is selected from the dropdown menu(we-button with value i.e. data attributes defined), its value is passed to widgetValue. However, when the ""Add a Custom Font"" button is clicked(which does not have value i.e. data attributes are not defined), the ""we-button"" value changes to an empty string, which is then passed into widgetValue. As a result, it triggers refreshBundle with the empty string and resets to the default value.

Solution:
This PR ensures that `_refreshBundles` is not triggered until the widgetValue has a valid (non-empty) value. This prevents the font from being reverted to the default.

task-4373983

Forward-Port-Of: odoo/odoo#195848
Forward-Port-Of: odoo/odoo#190329",fw-bot,2025-01-31 17:45:57+00:00,[],2025-02-03 11:39:08+00:00,2025-02-03 11:39:08+00:00,https://github.com/odoo/odoo/pull/196058,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627908777, 'issue_id': 2824073798, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196058.png)](https://mergebot.odoo.com/odoo/odoo/pull/196058)', 'created_at': datetime.datetime(2025, 1, 31, 17, 46, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627908849, 'issue_id': 2824073798, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 46, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628043367, 'issue_id': 2824073798, 'author': 'fw-bot', 'body': '@paru-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 18, 30, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730810, 'issue_id': 2824073798, 'author': 'fw-bot', 'body': '@paru-odoo @qsm-odoo this forward port of odoo/odoo#190329 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:46:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196058.png)](https://mergebot.odoo.com/odoo/odoo/pull/196058)

fw-bot (Issue Creator) on (2025-01-31 17:46:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 18:30:44 UTC): @paru-odoo @qsm-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 02:03:02 UTC): @paru-odoo @qsm-odoo this forward port of odoo/odoo#190329 is awaiting action (not merged or closed).

"
2824038672,pull_request,open,,[IMP] stock: forecast ui improvement,WIP,rare-odoo,2025-01-31 17:25:55+00:00,[],2025-02-05 10:40:38+00:00,,https://github.com/odoo/odoo/pull/196057,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627860285, 'issue_id': 2824038672, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196057.png)](https://mergebot.odoo.com/odoo/odoo/pull/196057)', 'created_at': datetime.datetime(2025, 1, 31, 17, 25, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:25:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196057.png)](https://mergebot.odoo.com/odoo/odoo/pull/196057)

"
2824029503,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when loading product suppliers,"Previously, opening the product info popup would fail if a product had multiple sellers with the same name but different prices and delays.

opw-4472861

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195682
Forward-Port-Of: odoo/odoo#195617",fw-bot,2025-01-31 17:20:14+00:00,[],2025-02-04 10:01:37+00:00,2025-02-04 10:01:36+00:00,https://github.com/odoo/odoo/pull/196056,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627850772, 'issue_id': 2824029503, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196056.png)](https://mergebot.odoo.com/odoo/odoo/pull/196056)', 'created_at': datetime.datetime(2025, 1, 31, 17, 20, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627850794, 'issue_id': 2824029503, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 20, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:20:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196056.png)](https://mergebot.odoo.com/odoo/odoo/pull/196056)

fw-bot (Issue Creator) on (2025-01-31 17:20:15 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2824011981,pull_request,closed,,[FW][FIX] website_sale_slides: fix allow course product issue,"Steps:
- Install E-learning app and E-commerce app.
- Go to E-commerce setting and make Ecommerce access to logged in user.
- Try to add a course with on payment setting with out login.

Issue:
User can't able to add course in cart.

Cause:
- No specific condition to allow adding course type product into cart.

Fix:
- Add condition to allow course product add into account even with Ecommerce access is `logged in user`.

opw-4384616

Forward-Port-Of: odoo/odoo#191103",fw-bot,2025-01-31 17:09:57+00:00,[],2025-02-03 08:53:19+00:00,2025-02-03 08:53:19+00:00,https://github.com/odoo/odoo/pull/196055,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627832135, 'issue_id': 2824011981, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196055.png)](https://mergebot.odoo.com/odoo/odoo/pull/196055)', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627832157, 'issue_id': 2824011981, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627889828, 'issue_id': 2824011981, 'author': 'fw-bot', 'body': '@kcv-odoo @awa-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 17, 43, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629288293, 'issue_id': 2824011981, 'author': 'fw-bot', 'body': ""@kcv-odoo @awa-odoo child PR odoo/odoo#196075 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 2, 8, 1, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629289231, 'issue_id': 2824011981, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 8, 4, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629297145, 'issue_id': 2824011981, 'author': 'robodoo', 'body': '@kcv-odoo @awa-odoo staging failed: ci/runbot on 5a61a350e738ee2ec5c020b03dbea1596e622516 (view more at https://runbot.odoo.com/runbot/build/74353334)', 'created_at': datetime.datetime(2025, 2, 2, 8, 29, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629968328, 'issue_id': 2824011981, 'author': 'kcv-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 5, 0, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:09:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196055.png)](https://mergebot.odoo.com/odoo/odoo/pull/196055)

fw-bot (Issue Creator) on (2025-01-31 17:09:59 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 17:43:22 UTC): @kcv-odoo @awa-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 08:01:06 UTC): @kcv-odoo @awa-odoo child PR odoo/odoo#196075 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

kcv-odoo on (2025-02-02 08:04:04 UTC): @robodoo r+

robodoo on (2025-02-02 08:29:28 UTC): @kcv-odoo @awa-odoo staging failed: ci/runbot on 5a61a350e738ee2ec5c020b03dbea1596e622516 (view more at https://runbot.odoo.com/runbot/build/74353334)

kcv-odoo on (2025-02-03 05:00:34 UTC): @robodoo retry

"
2824011394,pull_request,open,,[IMP] l10n_it_edi_proxy: Qualified Signature provider Namirial,"[WIP]

See odoo/iap-apps#978

Task [link](https://www.odoo.com/odoo/project/967/tasks/4477745)
task-4477745",lordkrandel,2025-01-31 17:09:39+00:00,[],2025-02-04 10:39:59+00:00,,https://github.com/odoo/odoo/pull/196054,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627831595, 'issue_id': 2824011394, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196054.png)](https://mergebot.odoo.com/odoo/odoo/pull/196054)', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:09:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196054.png)](https://mergebot.odoo.com/odoo/odoo/pull/196054)

"
2824011254,pull_request,closed,,[FW][FIX] stock_picking_batch: prevent traceback when sorting by zip,"Issue Before This Commit:
============================
   
   A traceback occurs when attempting to sort pickings by zip if any picking has
   a False or empty zip value.

Steps to Reproduce:
=====================
1. Install the stock_fleet module.
2. Navigate to Batch Transfer in the Stock module under the Operations tab.
3. Create a new batch and add pickings, ensuring some have a zip value while others do not.
4. Save the batch, which triggers a traceback error: TypeError: '<' not supported between instances of 'bool' and 'str'.

With This Commit:
=====================

  The issue occurred because sorting directly on the zip caused an error
  when the zip was False. this fix ensures that sorting treats zip as an empty
  string () when it is False, preventing the error.

task - [4535113](https://www.odoo.com/odoo/my-tasks/4535113)

Forward-Port-Of: odoo/odoo#195957",fw-bot,2025-01-31 17:09:34+00:00,[],2025-02-03 11:42:19+00:00,2025-02-03 11:42:19+00:00,https://github.com/odoo/odoo/pull/196053,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627831362, 'issue_id': 2824011254, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196053.png)](https://mergebot.odoo.com/odoo/odoo/pull/196053)', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627831373, 'issue_id': 2824011254, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628766842, 'issue_id': 2824011254, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 4, 39, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628806564, 'issue_id': 2824011254, 'author': 'robodoo', 'body': '@dhha-odoo @amoyaux staging failed: ci/runbot on 352edad28ca597f280713cf4a5aa9299148080a2 (view more at https://runbot.odoo.com/runbot/build/74323331)', 'created_at': datetime.datetime(2025, 2, 1, 6, 25, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629995877, 'issue_id': 2824011254, 'author': 'dhha-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 5, 25, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629995909, 'issue_id': 2824011254, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 2, 3, 5, 25, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630138423, 'issue_id': 2824011254, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 10, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630697124, 'issue_id': 2824011254, 'author': 'dhha-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 11, 35, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630697268, 'issue_id': 2824011254, 'author': 'robodoo', 'body': '@dhha-odoo retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 2, 3, 11, 35, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:09:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196053.png)](https://mergebot.odoo.com/odoo/odoo/pull/196053)

fw-bot (Issue Creator) on (2025-01-31 17:09:36 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dhha-odoo on (2025-02-01 04:39:23 UTC): robodoo r+

robodoo on (2025-02-01 06:25:40 UTC): @dhha-odoo @amoyaux staging failed: ci/runbot on 352edad28ca597f280713cf4a5aa9299148080a2 (view more at https://runbot.odoo.com/runbot/build/74323331)

dhha-odoo on (2025-02-03 05:25:31 UTC): robodoo r+

robodoo on (2025-02-03 05:25:33 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

robodoo on (2025-02-03 07:10:01 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

dhha-odoo on (2025-02-03 11:35:34 UTC): @robodoo retry

robodoo on (2025-02-03 11:35:37 UTC): @dhha-odoo retry makes no sense when the PR is not in error.

"
2824010708,pull_request,closed,,[FW][FIX] survey: fix final leaderboard screen,"[FIX] survey: fix final leaderboard layout

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)

The stats only occupies a small portion of the width and the button are very close to the title.

We solve the problem by enlarging the stats like the previous result screens to get a layout similar as in v16.0.

[FIX] documents: fix close buttons

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)
- Click on the ""Close"" button

Nothing happens while it should close the session and get back to the survey form.

Actually, the code was closing the session but failed to get back to the survey as it was using ""window.history.back()"" and the button ""create session"" launches the session in a new tab that has no history as all the survey happens on the same URL. We solve the problem by reloading the page instead. As the session is closed, the page then displays ""Thank you"".

We change slightly the tour as it expects that at the end, the close button leads to the survey back-end form (as it checks the presence of the button ""Create Session"" which is the action ""action_start_session""). But as the session is started in a new tab, we have decided that it is better to display the final ""Thank you"" screen rather than returning to the back-end survey form as this is meant to be displayed in public.

[FIX] documents: fix infinite line when max score is 0

How to reproduce:
- Create a live survey
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the wrong answer to the question

At the end of the survey, the score bar size is very big (multiple time of the screen width).

We solve the problem by avoiding dividing by 0.

Task-4381603

Forward-Port-Of: odoo/odoo#195706
Forward-Port-Of: odoo/odoo#190442",fw-bot,2025-01-31 17:09:15+00:00,[],2025-02-04 02:17:10+00:00,2025-02-04 02:17:10+00:00,https://github.com/odoo/odoo/pull/196052,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627830930, 'issue_id': 2824010708, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196052.png)](https://mergebot.odoo.com/odoo/odoo/pull/196052)', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627830962, 'issue_id': 2824010708, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 9, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627979185, 'issue_id': 2824010708, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 17, 54, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201995, 'issue_id': 2824010708, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo this forward port of odoo/odoo#190442 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730799, 'issue_id': 2824010708, 'author': 'fw-bot', 'body': '@pyduf @flch-odoo this forward port of odoo/odoo#190442 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:09:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196052.png)](https://mergebot.odoo.com/odoo/odoo/pull/196052)

fw-bot (Issue Creator) on (2025-01-31 17:09:20 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 17:54:54 UTC): @pyduf @flch-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-02 02:01:56 UTC): @pyduf @flch-odoo this forward port of odoo/odoo#190442 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:00 UTC): @pyduf @flch-odoo this forward port of odoo/odoo#190442 is awaiting action (not merged or closed).

"
2824005950,pull_request,closed,,[FW][FIX] website_sale: resolve product reorder issue in shop editor,"**Steps to Reproduce:**
- Navigate to /shop .
- Open editor mode and select a product.
- Use the reorder widget from the editor panel to change the product's position.
- Notice the product jumps 2 positions instead of 1 when reordered.

**Issue:**
- Two products, 'Warranty' and 'Chair Floor Protection', have the same website_sequence. This causes the reorder logic to malfunction, making products jump 2 positions when one is placed in front or behind these two.

**Fix:**
- Updated the website_sequence of conflicting products to ensure all products have unique values.

**Affected Versions:** 16.0~master
opw-4150099

Forward-Port-Of: odoo/odoo#195880
Forward-Port-Of: odoo/odoo#191297",fw-bot,2025-01-31 17:06:30+00:00,[],2025-02-03 08:26:34+00:00,2025-02-03 08:26:34+00:00,https://github.com/odoo/odoo/pull/196051,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627825975, 'issue_id': 2824005950, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196051.png)](https://mergebot.odoo.com/odoo/odoo/pull/196051)', 'created_at': datetime.datetime(2025, 1, 31, 17, 6, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627825997, 'issue_id': 2824005950, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630014220, 'issue_id': 2824005950, 'author': 'robodoo', 'body': '@mash-odoo @Feyensv staging failed: ci/runbot on c2d716ac29b55135e28d7e1a563723bfc296df51 (view more at https://runbot.odoo.com/runbot/build/74381988)', 'created_at': datetime.datetime(2025, 2, 3, 5, 31, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630134493, 'issue_id': 2824005950, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 7, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:06:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196051.png)](https://mergebot.odoo.com/odoo/odoo/pull/196051)

fw-bot (Issue Creator) on (2025-01-31 17:06:32 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-03 05:31:17 UTC): @mash-odoo @Feyensv staging failed: ci/runbot on c2d716ac29b55135e28d7e1a563723bfc296df51 (view more at https://runbot.odoo.com/runbot/build/74381988)

robodoo on (2025-02-03 07:07:17 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2823997263,pull_request,closed,,[FW][FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

Forward-Port-Of: odoo/odoo#195859",fw-bot,2025-01-31 17:01:37+00:00,[],2025-02-07 10:53:53+00:00,2025-02-04 13:24:55+00:00,https://github.com/odoo/odoo/pull/196050,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2627816827, 'issue_id': 2823997263, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196050.png)](https://mergebot.odoo.com/odoo/odoo/pull/196050)', 'created_at': datetime.datetime(2025, 1, 31, 17, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627816853, 'issue_id': 2823997263, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#195859 failed.\n\nstdout:\n```\nAuto-merging addons/website_blog/static/src/scss/website_blog.scss\nCONFLICT (content): Merge conflict in addons/website_blog/static/src/scss/website_blog.scss\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 17, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630842157, 'issue_id': 2823997263, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 42, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631058955, 'issue_id': 2823997263, 'author': 'robodoo', 'body': '@bvr-odoo @qsm-odoo staging failed: ci/runbot on 6f28f99814387933fbe0841efd8f2144415b0b65 (view more at https://runbot.odoo.com/runbot/build/74399357)', 'created_at': datetime.datetime(2025, 2, 3, 13, 49, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633297018, 'issue_id': 2823997263, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 11, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633297099, 'issue_id': 2823997263, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 2, 4, 9, 11, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633299649, 'issue_id': 2823997263, 'author': 'bvr-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 4, 9, 12, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 17:01:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196050.png)](https://mergebot.odoo.com/odoo/odoo/pull/196050)

fw-bot (Issue Creator) on (2025-01-31 17:01:38 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#195859 failed.

stdout:
```
Auto-merging addons/website_blog/static/src/scss/website_blog.scss
CONFLICT (content): Merge conflict in addons/website_blog/static/src/scss/website_blog.scss

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-03 12:42:20 UTC): @robodoo r+

robodoo on (2025-02-03 13:49:26 UTC): @bvr-odoo @qsm-odoo staging failed: ci/runbot on 6f28f99814387933fbe0841efd8f2144415b0b65 (view more at https://runbot.odoo.com/runbot/build/74399357)

bvr-odoo on (2025-02-04 09:11:13 UTC): @robodoo r+

robodoo on (2025-02-04 09:11:15 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

bvr-odoo on (2025-02-04 09:12:21 UTC): @robodoo retry

"
2823990210,pull_request,open,,[FW][FIX] sale_stock: use only SOL linked COGS lines to get price unit,"**Current behavior:**
With a FIFO + real-time product, `ProductA`:
Creating a sale order with multiple order lines for ProductA,
processing the resulting delivery in 2 separate pickings via
backorder (1st delivery for the 1st line, 2nd delivery for the
2nd line), then invoicing the delivered product separately
result in an invoice with invoice lines which do not reflect the
value of the product at delivery time.

**Expected behavior:**
The SVLs generated from the deliveries should inform the
generated AccountMoves.

**Steps to reproduce:**
1. `FIFO-prod`: FIFO and real-time valuation & costing

2. Receive 12 units of `FIFO-prod` @ $100 per

3. Create a sale order with order lines:
* `FIFO-prod` `10 units` `price_unit=$100`
* `FIFO-prod` `2 units` `price_unit=$100`

4. Confirm the sale order, on the delivery, only receive the
first move for the 10 qty, backorder the other 2 qty

5. Receive the backorder, create an invoice- edit the invoice
lines so that 5/10 of line 1 and 2/2 of line 2 are invoiced,
then post/confirm

6. Edit the `standard_price` of `FIFO-prod` (e.g., $100 -> $50)

7. Create another invoice for the remaining quantity and post

8. Observe that the COGs lines on the invoice have been
calculated with a different price unit than the other invoice &
unit_price for the out SVLs

**Cause of the issue:**
When getting the price unit of a given anglo saxon invoice line,
there is no check that all the collected COGS lines are linked
to the sale order line which corresponds to the product and
product_qty that we are attempting to value.

This creates an imbalance in the qty calculation later here:
https://github.com/odoo/odoo/blob/f2728b2fe13a355ecb301a3714639b8a07f418b4/addons/stock_account/models/stock_valuation_layer.py#L202-L211
when the valuation is actually performed.

**Fix:**
Only consider posted COGS lines for the sale order line with the
product qty that is getting valued when calculating
`qty_invoiced`.

opw-4321363

Forward-Port-Of: odoo/odoo#195046",fw-bot,2025-01-31 16:57:54+00:00,[],2025-02-03 07:21:25+00:00,,https://github.com/odoo/odoo/pull/196049,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627809627, 'issue_id': 2823990210, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196049.png)](https://mergebot.odoo.com/odoo/odoo/pull/196049)', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627809654, 'issue_id': 2823990210, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630155722, 'issue_id': 2823990210, 'author': 'fw-bot', 'body': ""@ethanrobv @Whenrow child PR odoo/odoo#196067 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 3, 7, 21, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:57:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196049.png)](https://mergebot.odoo.com/odoo/odoo/pull/196049)

fw-bot (Issue Creator) on (2025-01-31 16:57:56 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 07:21:24 UTC): @ethanrobv @Whenrow child PR odoo/odoo#196067 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2823989576,pull_request,closed,,"[FW][FIX] l10n_es,l10n_es_edi_facturae : Update Taxes and modelo 390","This fix updates the taxes and the modelo 390 tax report

Task: 4453629

Enterprise PR: https://github.com/odoo/enterprise/pull/77941

Forward-Port-Of: odoo/odoo#195380",fw-bot,2025-01-31 16:57:33+00:00,[],2025-02-01 09:54:23+00:00,2025-02-01 09:54:23+00:00,https://github.com/odoo/odoo/pull/196048,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627809020, 'issue_id': 2823989576, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196048.png)](https://mergebot.odoo.com/odoo/odoo/pull/196048)', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627809060, 'issue_id': 2823989576, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628005826, 'issue_id': 2823989576, 'author': 'fw-bot', 'body': '@jbw-odoo @jco-odoo the next pull request (odoo/odoo#196064) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 6, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628859507, 'issue_id': 2823989576, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 8, 45, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:57:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196048.png)](https://mergebot.odoo.com/odoo/odoo/pull/196048)

fw-bot (Issue Creator) on (2025-01-31 16:57:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 18:06:59 UTC): @jbw-odoo @jco-odoo the next pull request (odoo/odoo#196064) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jbw-odoo on (2025-02-01 08:45:59 UTC): robodoo r+

"
2823988769,pull_request,closed,,[FW] 16.0 fix cannot drop search block in dutch bvr,"Since the class `s_searchbar_input` was translated into Dutch by a
translator on Transifex.
<sub>See screenshot of the Website `nl.po` file </sub>↓
<kbd>![image](https://github.com/user-attachments/assets/053f084b-30cf-42d3-9c13-7387b777b88f)</kbd>

It is no longer possible to drop the searchbar
block onto a webpage when Odoo's language is set to Dutch.

In this PR, we add `t-translation=""off""` in the xpath that adds
this class to the list of droppable element selectors, so it won't be
translated anymore. We also do the same for other xpath-ed classes that
don’t have `t-translation=""off""`, to prevent the same issue elsewhere.

Since the class is already translated in the existing databases, in
stable versions, we add the class a second time to the list of droppable
element selectors. This second class won't be translated, which will fix
the issue for Dutch users.

[opw-4461785](https://www.odoo.com/web#id=4461785&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

-----------
Note: This PR also fix 2 minor bugs:
- The text on the button to install a block overflows when translated into certain languages that make it longer.
<kbd>![image](https://github.com/user-attachments/assets/0532c186-c081-4e95-a853-1873e50005ff)</kbd>
- The `Embed code` block ""Click on Edit..."" message is not visible on dark background.
<kbd>![image](https://github.com/user-attachments/assets/16510ffb-7a2e-4eaa-b5f7-40f0e9d9a943)</kbd>

Forward-Port-Of: odoo/odoo#195854
Forward-Port-Of: odoo/odoo#193819",fw-bot,2025-01-31 16:57:07+00:00,[],2025-02-03 10:57:49+00:00,2025-02-03 10:57:49+00:00,https://github.com/odoo/odoo/pull/196047,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627808204, 'issue_id': 2823988769, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196047.png)](https://mergebot.odoo.com/odoo/odoo/pull/196047)', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627808232, 'issue_id': 2823988769, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628009218, 'issue_id': 2823988769, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo the next pull request (odoo/odoo#196065) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 18, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730433, 'issue_id': 2823988769, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#193819 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630418909, 'issue_id': 2823988769, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 34, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:57:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196047.png)](https://mergebot.odoo.com/odoo/odoo/pull/196047)

fw-bot (Issue Creator) on (2025-01-31 16:57:11 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 18:09:01 UTC): @bvr-odoo @qsm-odoo the next pull request (odoo/odoo#196065) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:38 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#193819 is awaiting action (not merged or closed).

bvr-odoo on (2025-02-03 09:34:50 UTC): @robodoo r+

"
2823988179,pull_request,closed,,[FW][FIX] stock: 'Pick From' could create sml with picking_id to False,"When opening a new (virtual) 'stock.move' to create a 'stock.move.line' and directly validating the picking afterward, the created 'stock.move.line' was not directly associated to the picking_id. This happens because the virtual record does not have the picking_id because this field is not present on the tree view.

One impact of this issue has is that the stock.move.line created doesn't show on the Delivery Slip report.

## HOW TO REPRODUCE

https://github.com/odoo/odoo/assets/29302288/5c17e601-4d67-4515-8d5a-286460b9a9cd

- On TODO picking, do the following steps WITHOUT CLICKING ON SAVE
- Operations -> Add a line: (demand 0, quantity 0)
- Click on 'Open Move' button (fa-list icon)
- Popup 'Open: Stock move': Add a line
- Popup 'Add line: <product>': click on 'New'
- Popup 'Create Move Line': click on 'Save & Close'
- Popup 'Open: Stock move': set Quantity = 1, click on 'Save & Close'
- Validate picking -> Create backorder => Check picking move_line_ids = EMPTY

## Solution
Add picking_id field on view_picking_form -> move_ids_without_package tree view (Operations list).

OPW-3974109

Forward-Port-Of: odoo/odoo#171766",fw-bot,2025-01-31 16:56:48+00:00,[],2025-02-03 08:20:12+00:00,2025-02-03 08:20:12+00:00,https://github.com/odoo/odoo/pull/196046,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627808151, 'issue_id': 2823988179, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196046.png)](https://mergebot.odoo.com/odoo/odoo/pull/196046)', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627808174, 'issue_id': 2823988179, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 57, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:57:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196046.png)](https://mergebot.odoo.com/odoo/odoo/pull/196046)

fw-bot (Issue Creator) on (2025-01-31 16:57:09 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823964588,pull_request,closed,,[FW][FIX] stock: cancel move upstream,"Currently the different documents are responsible on the move's cancelation. E.g. cancel a SO will delete all the pickings with the same procurement group. Cancel a PO will cancel the receipt an all the moves destination.

But in inter company transaction or inter warehouse. The source document is a stock.move directly (or a rr but it's already unlink) Some users delete the receipt from another warehouse but the delivery on the other still exists. So it let pickings that are never cancel in other companies/warehouses.

This commit and an option to allow the cancel propagate upstream. It's hidden under the `stock.cancel_moves_origin` system parameter in order to avoid a huge behavior modification for other users.

opw-3274939

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195575
Forward-Port-Of: odoo/odoo#186730",fw-bot,2025-01-31 16:43:31+00:00,[],2025-02-05 15:20:20+00:00,2025-02-05 15:20:20+00:00,https://github.com/odoo/odoo/pull/196045,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627782007, 'issue_id': 2823964588, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196045.png)](https://mergebot.odoo.com/odoo/odoo/pull/196045)', 'created_at': datetime.datetime(2025, 1, 31, 16, 43, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627782024, 'issue_id': 2823964588, 'author': 'fw-bot', 'body': '@amoyaux @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195839\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 43, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636842028, 'issue_id': 2823964588, 'author': 'Whenrow', 'body': 'robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 2, 5, 13, 21, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636842155, 'issue_id': 2823964588, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 5, 13, 21, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:43:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196045.png)](https://mergebot.odoo.com/odoo/odoo/pull/196045)

fw-bot (Issue Creator) on (2025-01-31 16:43:33 UTC): @amoyaux @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195839

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Whenrow on (2025-02-05 13:21:46 UTC): robodoo r+ rebase-ff

robodoo on (2025-02-05 13:21:49 UTC): Merge method set to rebase and fast-forward.

"
2823942171,pull_request,closed,,[FIX] point_of_sale: fix mocked function,"Fix args missing in a mocked method in the test.

rb error: 114229

",davidmonnom,2025-01-31 16:31:27+00:00,[],2025-02-03 13:02:05+00:00,2025-02-03 13:02:05+00:00,https://github.com/odoo/odoo/pull/196044,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627757655, 'issue_id': 2823942171, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196044.png)](https://mergebot.odoo.com/odoo/odoo/pull/196044)', 'created_at': datetime.datetime(2025, 1, 31, 16, 31, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630476915, 'issue_id': 2823942171, 'author': 'robodoo', 'body': '@davidmonnom @vlst-odoo linked pull request(s) odoo/enterprise#78305 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 3, 10, 0, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:31:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196044.png)](https://mergebot.odoo.com/odoo/odoo/pull/196044)

robodoo on (2025-02-03 10:00:03 UTC): @davidmonnom @vlst-odoo linked pull request(s) odoo/enterprise#78305 not ready. Linked PRs are not staged until all of them are ready.

"
2823924124,pull_request,open,,[FW][FIX] point_of_sale: handle an error when process a pos order,"Currently, the error occurs when the system cannot fully process the POS Order

This error occurs during the process of the POS Order, So replace a logger error a message with a logger warning message at [1] to prevent more error logs in a terminal.

link [1]:https://github.com/odoo/odoo/blob/3be513d5cc89ad4fefb84fabd8c9089f9ef95aa2/addons/point_of_sale/models/pos_order.py#L147

Sentry-5315326414

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#177518",fw-bot,2025-01-31 16:24:08+00:00,[],2025-01-31 17:00:17+00:00,,https://github.com/odoo/odoo/pull/196043,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627739457, 'issue_id': 2823924124, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196043.png)](https://mergebot.odoo.com/odoo/odoo/pull/196043)', 'created_at': datetime.datetime(2025, 1, 31, 16, 24, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627739498, 'issue_id': 2823924124, 'author': 'fw-bot', 'body': '@mega-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 24, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:24:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196043.png)](https://mergebot.odoo.com/odoo/odoo/pull/196043)

fw-bot (Issue Creator) on (2025-01-31 16:24:10 UTC): @mega-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823923257,pull_request,closed,,"[FW][FIX] product, website_sale: fall back on geoip country for pricelists","Versions
--------
- 17.0+

Steps
-----
1. Ensure `geoip` works (or patch the `_get_geoip_country_code` method);
2. create two pricelists for the website;
3. first should be restricted to EU countries & use EUR;
4. second one shouldn't be restricted to any country & use USD;
5. log in as a Portal user without address details from a EU IP;
6. open the shop.

Issue
-----
The prices are displayed in USD.

Cause
-----
The geoip country is taken into account for public users, but not for partners. Instead it relies on the partner's country_id, which could be empty.

Solution
--------
When computing the `property_product_pricelist`, add the geoip country to the context. Use this value in the fallback for partners without specific pricelist property set, and without a `country_id`.

opw-4398543

Forward-Port-Of: odoo/odoo#195801
Forward-Port-Of: odoo/odoo#194885",fw-bot,2025-01-31 16:23:49+00:00,[],2025-02-03 12:40:25+00:00,2025-02-03 12:40:25+00:00,https://github.com/odoo/odoo/pull/196042,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2627738686, 'issue_id': 2823923257, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196042.png)](https://mergebot.odoo.com/odoo/odoo/pull/196042)', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627738706, 'issue_id': 2823923257, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#194885 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale/models/website.py\nCONFLICT (content): Merge conflict in addons/website_sale/models/website.py\nAuto-merging addons/website_sale/tests/test_website_sale_pricelist.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201648, 'issue_id': 2823923257, 'author': 'fw-bot', 'body': '@lvsz this forward port of odoo/odoo#194885 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729982, 'issue_id': 2823923257, 'author': 'fw-bot', 'body': '@lvsz this forward port of odoo/odoo#194885 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630289903, 'issue_id': 2823923257, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 37, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:23:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196042.png)](https://mergebot.odoo.com/odoo/odoo/pull/196042)

fw-bot (Issue Creator) on (2025-01-31 16:23:51 UTC): @lvsz cherrypicking of pull request odoo/odoo#194885 failed.

stdout:
```
Auto-merging addons/website_sale/models/website.py
CONFLICT (content): Merge conflict in addons/website_sale/models/website.py
Auto-merging addons/website_sale/tests/test_website_sale_pricelist.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:01:18 UTC): @lvsz this forward port of odoo/odoo#194885 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:09 UTC): @lvsz this forward port of odoo/odoo#194885 is awaiting action (not merged or closed).

lvsz on (2025-02-03 08:37:48 UTC): robodoo r+

"
2823922392,pull_request,closed,,[FW][FIX] mrp: compute correctly bom cost in MO overview,"Steps to reproduce the bug:
- Create a workcenter “WC1”:
    - Cost by hour: 60
    - Setup time: 10 min
    - Cleanup time: 10 min
    - Time Efficiency: 85

- Create a storable product “P1” with the following BoM:
    - Operation: OP1 -> 60 min in WC1

- Create a MO to produce one unit of P1:
    - Confirm the MO
    - Go to the MO overview

Problem:
Time Efficiency, setup, and cleanup times are not taken into account in
the BoM Cost calculation.
The calculation should be the same as in the BoM overview. The purpose
of the BoM cost in the MO overview is to provide information for
comparison with the real cost, in case the user has modified certain
parameters during production.

Attention: There may be a slight difference in the calculation of
""mo_cost"" and ""bom_cost"" because the expected duration is rounded to
two digits in the work order. This affects the mo_cost calculation
since it relies directly on this field,


opw-4478070

Forward-Port-Of: odoo/odoo#195838
Forward-Port-Of: odoo/odoo#195493",fw-bot,2025-01-31 16:23:30+00:00,[],2025-02-03 10:00:40+00:00,2025-02-03 10:00:40+00:00,https://github.com/odoo/odoo/pull/196041,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627737877, 'issue_id': 2823922392, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196041.png)](https://mergebot.odoo.com/odoo/odoo/pull/196041)', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627737899, 'issue_id': 2823922392, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729110, 'issue_id': 2823922392, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this forward port of odoo/odoo#195493 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630198864, 'issue_id': 2823922392, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 48, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:23:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196041.png)](https://mergebot.odoo.com/odoo/odoo/pull/196041)

fw-bot (Issue Creator) on (2025-01-31 16:23:33 UTC): @DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:28 UTC): @DjamelTouati @Whenrow this forward port of odoo/odoo#195493 is awaiting action (not merged or closed).

DjamelTouati on (2025-02-03 07:48:43 UTC): robodoo r+

"
2823921823,pull_request,closed,,[FW][FIX] stock: clean context before scrap validation,"Steps to reproduce the bug:
- Create a storable product “P1”:
    - UoM: g
- Go to inventory > operation > Scrap:
    - Create a new one: - product: P1 - UoM: KG - Quantity: 1

- Validate the scrap
- A wizard is triggered indicating insufficient stock quantity.
- validate it

Problem:
The quantity in the scrap is updated to 1000 kg, and the related move is created with a quantity of 1000 kg.

opw-4485849

Forward-Port-Of: odoo/odoo#195840
Forward-Port-Of: odoo/odoo#194012",fw-bot,2025-01-31 16:23:12+00:00,[],2025-02-03 10:00:44+00:00,2025-02-03 10:00:44+00:00,https://github.com/odoo/odoo/pull/196040,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627737204, 'issue_id': 2823921823, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196040.png)](https://mergebot.odoo.com/odoo/odoo/pull/196040)', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627737219, 'issue_id': 2823921823, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730338, 'issue_id': 2823921823, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this forward port of odoo/odoo#194012 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630199356, 'issue_id': 2823921823, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 49, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:23:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196040.png)](https://mergebot.odoo.com/odoo/odoo/pull/196040)

fw-bot (Issue Creator) on (2025-01-31 16:23:14 UTC): @DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:31 UTC): @DjamelTouati @Whenrow this forward port of odoo/odoo#194012 is awaiting action (not merged or closed).

DjamelTouati on (2025-02-03 07:49:01 UTC): robodoo r+

"
2823921214,pull_request,closed,,[FW][FIX] point_of_sale: fix duplicate report line,"If you sell a product that has multiple pos categories, the report would contain as many lines as the number of categories.

Steps to reproduce:
-------------------
* Create product A with atleast 2 pos categories
* Make a sale in PoS with this product
* Go to PoS order report and click on the graph
* This will open a view containing all the lines of the report
> Observation: You have multiple lines for the same order

Why the fix:
------------
To avoid this issue, we select only the first category of the product.

opw-4451101

Forward-Port-Of: odoo/odoo#195969
Forward-Port-Of: odoo/odoo#195097",fw-bot,2025-01-31 16:22:54+00:00,[],2025-02-04 02:56:14+00:00,2025-02-04 02:56:14+00:00,https://github.com/odoo/odoo/pull/196039,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627736845, 'issue_id': 2823921214, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196039.png)](https://mergebot.odoo.com/odoo/odoo/pull/196039)', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627736860, 'issue_id': 2823921214, 'author': 'fw-bot', 'body': '@robinengels @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630513372, 'issue_id': 2823921214, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 15, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:23:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196039.png)](https://mergebot.odoo.com/odoo/odoo/pull/196039)

fw-bot (Issue Creator) on (2025-01-31 16:23:02 UTC): @robinengels @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-02-03 10:15:04 UTC): @robodoo r+

"
2823920619,pull_request,closed,,[FW][FIX] mail: improve regex finding unfollow nodes,"Notification layout contain a somehow-fake node holding a generic
unfollow link. It is dynamically replaced at sending time to make
it recipient-specific.

In a lot of cases we don't need that unfollow URL and the node should
be removed. This is done using a regex to avoid parshing HTML. Current
regex can be improved, notably to avoid backtracking. When having
bodies with lot of span, timing become quite bad.

Our use cases are simple, either old <span id=""mail_unfollow"">..</span>
either new <span t-if=""show_unfollow"" id=""mail_unfollow"">..</span>
layouts. Regex can be therefore be simplified.

Note that we support ""two"" kind of nodes mainly to maintain support
of custom / copied / frozen notification layouts.

Followup of https://github.com/odoo/odoo/pull/189741

Task-4529263

Forward-Port-Of: odoo/odoo#195729",fw-bot,2025-01-31 16:22:35+00:00,[],2025-01-31 19:03:07+00:00,2025-01-31 19:03:07+00:00,https://github.com/odoo/odoo/pull/196038,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627736798, 'issue_id': 2823920619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196038.png)](https://mergebot.odoo.com/odoo/odoo/pull/196038)', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627736816, 'issue_id': 2823920619, 'author': 'fw-bot', 'body': '@tde-banana-odoo @odony this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 23, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627896893, 'issue_id': 2823920619, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 17, 44, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:23:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196038.png)](https://mergebot.odoo.com/odoo/odoo/pull/196038)

fw-bot (Issue Creator) on (2025-01-31 16:23:01 UTC): @tde-banana-odoo @odony this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-01-31 17:44:48 UTC): @robodoo r+

"
2823883096,pull_request,open,,[IMP] hr: hide hr_contract_type menu,"- by default hide the hr_contract_type menu item
- Show it under the contract section in configuration once hr_contract is installed

Task: 4536000



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-31 16:05:12+00:00,[],2025-02-03 06:29:44+00:00,,https://github.com/odoo/odoo/pull/196037,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627698555, 'issue_id': 2823883096, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196037.png)](https://mergebot.odoo.com/odoo/odoo/pull/196037)', 'created_at': datetime.datetime(2025, 1, 31, 16, 5, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:05:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196037.png)](https://mergebot.odoo.com/odoo/odoo/pull/196037)

"
2823880507,pull_request,closed,,[FW][FIX] web: correctly detect empty fields,"At two different places, we try to determine if the value of an html field is empty. To do so, we create a node on the fly and set its innerHTML to that value. Then, we check if the element has a non-empty innerText. However, this doesn't work as expected if the given value is a text instead of a markuped html. This commit fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195909",fw-bot,2025-01-31 16:04:19+00:00,[],2025-02-03 11:12:15+00:00,2025-02-03 11:12:15+00:00,https://github.com/odoo/odoo/pull/196036,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2627696554, 'issue_id': 2823880507, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196036.png)](https://mergebot.odoo.com/odoo/odoo/pull/196036)', 'created_at': datetime.datetime(2025, 1, 31, 16, 4, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627696575, 'issue_id': 2823880507, 'author': 'fw-bot', 'body': '@aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195909 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/web/static/src/legacy/js/views/kanban/kanban_record.js deleted in f2728b2fe13a355ecb301a3714639b8a07f418b4 and modified in 567d19822831b9f5c6f81c8ada2aed75affcee86.  Version 567d19822831b9f5c6f81c8ada2aed75affcee86 of addons/web/static/src/legacy/js/views/kanban/kanban_record.js left in tree.\nAuto-merging addons/web/static/src/views/kanban/kanban_record.js\nCONFLICT (content): Merge conflict in addons/web/static/src/views/kanban/kanban_record.js\nAuto-merging addons/web/static/src/webclient/actions/action_service.js\nCONFLICT (content): Merge conflict in addons/web/static/src/webclient/actions/action_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 4, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630295833, 'issue_id': 2823880507, 'author': 'robodoo', 'body': ""@aab-odoo @kebeclibre 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 8, 40, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:04:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196036.png)](https://mergebot.odoo.com/odoo/odoo/pull/196036)

fw-bot (Issue Creator) on (2025-01-31 16:04:21 UTC): @aab-odoo @kebeclibre cherrypicking of pull request odoo/odoo#195909 failed.

stdout:
```
CONFLICT (modify/delete): addons/web/static/src/legacy/js/views/kanban/kanban_record.js deleted in f2728b2fe13a355ecb301a3714639b8a07f418b4 and modified in 567d19822831b9f5c6f81c8ada2aed75affcee86.  Version 567d19822831b9f5c6f81c8ada2aed75affcee86 of addons/web/static/src/legacy/js/views/kanban/kanban_record.js left in tree.
Auto-merging addons/web/static/src/views/kanban/kanban_record.js
CONFLICT (content): Merge conflict in addons/web/static/src/views/kanban/kanban_record.js
Auto-merging addons/web/static/src/webclient/actions/action_service.js
CONFLICT (content): Merge conflict in addons/web/static/src/webclient/actions/action_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-03 08:40:38 UTC): @aab-odoo @kebeclibre 'ci/runbot' failed on this reviewed PR.

"
2823879824,pull_request,closed,,[FW][IMP] delivery: update `hs_code` field help text and pot files,"Since HS Code field is now also used in USPS connector, the help text of `hs_code` field on `product_template` needs to be updated. Also the POT file containing module titles and descriptions is updated.

Task-3759325

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#187405",fw-bot,2025-01-31 16:03:57+00:00,[],2025-02-04 20:40:57+00:00,2025-02-04 20:40:57+00:00,https://github.com/odoo/odoo/pull/196035,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2627695872, 'issue_id': 2823879824, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196035.png)](https://mergebot.odoo.com/odoo/odoo/pull/196035)', 'created_at': datetime.datetime(2025, 1, 31, 16, 3, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627695916, 'issue_id': 2823879824, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow cherrypicking of pull request odoo/odoo#187405 failed.\n\nstdout:\n```\nAuto-merging addons/delivery/i18n/delivery.pot\nCONFLICT (content): Merge conflict in addons/delivery/i18n/delivery.pot\nAuto-merging addons/stock_delivery/models/product_template.py\nAuto-merging odoo/addons/base/i18n/base.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 16, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631316503, 'issue_id': 2823879824, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 15, 23, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631365662, 'issue_id': 2823879824, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 15, 41, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631557859, 'issue_id': 2823879824, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 16, 57, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631681942, 'issue_id': 2823879824, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 17, 53, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633756983, 'issue_id': 2823879824, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 26, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 16:03:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196035.png)](https://mergebot.odoo.com/odoo/odoo/pull/196035)

fw-bot (Issue Creator) on (2025-01-31 16:04:01 UTC): @mohammadhossam @Whenrow cherrypicking of pull request odoo/odoo#187405 failed.

stdout:
```
Auto-merging addons/delivery/i18n/delivery.pot
CONFLICT (content): Merge conflict in addons/delivery/i18n/delivery.pot
Auto-merging addons/stock_delivery/models/product_template.py
Auto-merging odoo/addons/base/i18n/base.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohammadhossam on (2025-02-03 15:23:22 UTC): robodoo r+

robodoo on (2025-02-03 15:41:44 UTC): @mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-03 16:57:42 UTC): @mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-03 17:53:15 UTC): @mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR.

mohammadhossam on (2025-02-04 12:26:39 UTC): robodoo r+

"
2823856559,pull_request,closed,,[FW][FIX] survey: fix final leaderboard screen,"[FIX] survey: fix final leaderboard layout

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)

The stats only occupies a small portion of the width and the button are very close to the title.

We solve the problem by enlarging the stats like the previous result screens to get a layout similar as in v16.0.

[FIX] documents: fix close buttons

- Install survey
- Create a survey “Live Session”
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the question correctly
- On the survey manager, go to the end of the survey (Final leaderboard)
- Click on the ""Close"" button

Nothing happens while it should close the session and get back to the survey form.

Actually, the code was closing the session but failed to get back to the survey as it was using ""window.history.back()"" and the button ""create session"" launches the session in a new tab that has no history as all the survey happens on the same URL. We solve the problem by reloading the page instead. As the session is closed, the page then displays ""Thank you"".

We change slightly the tour as it expects that at the end, the close button leads to the survey back-end form (as it checks the presence of the button ""Create Session"" which is the action ""action_start_session""). But as the session is started in a new tab, we have decided that it is better to display the final ""Thank you"" screen rather than returning to the back-end survey form as this is meant to be displayed in public.

[FIX] documents: fix infinite line when max score is 0

How to reproduce:
- Create a live survey
- Add a “Single Line Text Box” and check “Save as user nickname”
- Add a second question (ex.: multiple choice with 1 correct, score: 1)
- Click on “Create Live Session”
- Join the session with another browser
- Answer the wrong answer to the question

At the end of the survey, the score bar size is very big (multiple time of the screen width).

We solve the problem by avoiding dividing by 0.

Task-4381603

Forward-Port-Of: odoo/odoo#195706
Forward-Port-Of: odoo/odoo#190442",fw-bot,2025-01-31 15:53:28+00:00,[],2025-02-03 16:10:32+00:00,2025-02-03 16:10:32+00:00,https://github.com/odoo/odoo/pull/196034,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627673498, 'issue_id': 2823856559, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196034.png)](https://mergebot.odoo.com/odoo/odoo/pull/196034)', 'created_at': datetime.datetime(2025, 1, 31, 15, 53, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627673522, 'issue_id': 2823856559, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 53, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:53:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196034.png)](https://mergebot.odoo.com/odoo/odoo/pull/196034)

fw-bot (Issue Creator) on (2025-01-31 15:53:30 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823855392,pull_request,closed,,[FW][FIX] website_sale: resolve product reorder issue in shop editor,"**Steps to Reproduce:**
- Navigate to /shop .
- Open editor mode and select a product.
- Use the reorder widget from the editor panel to change the product's position.
- Notice the product jumps 2 positions instead of 1 when reordered.

**Issue:**
- Two products, 'Warranty' and 'Chair Floor Protection', have the same website_sequence. This causes the reorder logic to malfunction, making products jump 2 positions when one is placed in front or behind these two.

**Fix:**
- Updated the website_sequence of conflicting products to ensure all products have unique values.

**Affected Versions:** 16.0~master
opw-4150099

Forward-Port-Of: odoo/odoo#195880
Forward-Port-Of: odoo/odoo#191297",fw-bot,2025-01-31 15:53:09+00:00,[],2025-02-03 08:53:19+00:00,2025-02-03 08:53:19+00:00,https://github.com/odoo/odoo/pull/196033,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627673131, 'issue_id': 2823855392, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196033.png)](https://mergebot.odoo.com/odoo/odoo/pull/196033)', 'created_at': datetime.datetime(2025, 1, 31, 15, 53, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627673153, 'issue_id': 2823855392, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 53, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630005172, 'issue_id': 2823855392, 'author': 'robodoo', 'body': '@mash-odoo @Feyensv staging failed: ci/l10n on ccc9fa9473b37a5fa0761c9022844d63ababa98e (view more at https://runbot.odoo.com/runbot/build/74381652)', 'created_at': datetime.datetime(2025, 2, 3, 5, 27, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630126436, 'issue_id': 2823855392, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 2, 3, 7, 1, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:53:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196033.png)](https://mergebot.odoo.com/odoo/odoo/pull/196033)

fw-bot (Issue Creator) on (2025-01-31 15:53:20 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-03 05:27:44 UTC): @mash-odoo @Feyensv staging failed: ci/l10n on ccc9fa9473b37a5fa0761c9022844d63ababa98e (view more at https://runbot.odoo.com/runbot/build/74381652)

d-fence on (2025-02-03 07:01:47 UTC): robodoo retry
(failing test deactivated)

"
2823838268,pull_request,closed,,[FW][FIX] account: error when downloading pdf of a draft invoice,"Steps to reproduce the error:
- Create a new invoice. Don't confirm it.
- Go to list view of invoices.
- Select that invoice > Download > PDF

Traceback: ""AttributeError: 'bool' object has no attribute 'replace'""

`_get_move_display_name` can be used instead as it already handles draft invoices.

sentry-6191644587

Forward-Port-Of: odoo/odoo#194866",fw-bot,2025-01-31 15:44:16+00:00,[],2025-01-31 19:03:00+00:00,2025-01-31 19:03:00+00:00,https://github.com/odoo/odoo/pull/196032,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627654335, 'issue_id': 2823838268, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196032.png)](https://mergebot.odoo.com/odoo/odoo/pull/196032)', 'created_at': datetime.datetime(2025, 1, 31, 15, 44, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627654355, 'issue_id': 2823838268, 'author': 'fw-bot', 'body': '@alialfie @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195842\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 44, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627663335, 'issue_id': 2823838268, 'author': 'alialfie', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 48, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:44:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196032.png)](https://mergebot.odoo.com/odoo/odoo/pull/196032)

fw-bot (Issue Creator) on (2025-01-31 15:44:18 UTC): @alialfie @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195842

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alialfie on (2025-01-31 15:48:41 UTC): @robodoo r+

"
2823824361,pull_request,closed,,[FW][FIX] stock: allow creation of lotless quant with quantity,"### Steps to reproduce:

- Create a storable product tracked by lot/serial
- Click on ""On Hand""
- Create a new line with 10 ""On Hand Quantity"" WITHOUT lot/serial
- Go back to the product: The ""On Hand"" quantity is still at 0.
- Click back to the ""On Hand"": the quantity of the line is back to 0.

### Cause of the issue:

When a new line is created and the ""On Hand Quantity"" is edited from the `view_stock_quant_tree` view, we actually performs a create of the stock.quant followed by a write on the `inventory_quantity_auto_apply`. At this point the 'quantity' field of the new quant is not set and the `action_apply_inventory` of the `inventory_quantity_auto_apply` is expected to create and validate a move line in order to update our quant quantities here:
https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L230-L235 However, this steps will never be performed as we return the call before the `_apply_invetory` because our quant is set without lots: https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L447-L449 https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L465-L477

### Fix:

Since the return value of the `action_apply_inventory` is only expected to be used in the `view_stock_quant_tree_editable` (Inventory adjustment ) where it is not possible to set the `inventory_quantity_auto_apply` inventory, we skip this return in case the calls has been performed from setting the `inventory_quantity_auto_apply` and proceed with the `_apply_inventory`.

opw-4428050
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194068",fw-bot,2025-01-31 15:37:51+00:00,[],2025-02-03 10:02:53+00:00,2025-02-03 10:02:53+00:00,https://github.com/odoo/odoo/pull/196031,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627640482, 'issue_id': 2823824361, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196031.png)](https://mergebot.odoo.com/odoo/odoo/pull/196031)', 'created_at': datetime.datetime(2025, 1, 31, 15, 37, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627640498, 'issue_id': 2823824361, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this PR targets saas-18.1 and is the last of the forward-port chain containing:\n* odoo/odoo#195904\n* odoo/odoo#195898\n* odoo/odoo#195887\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 37, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730302, 'issue_id': 2823824361, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this forward port of odoo/odoo#194068 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630191581, 'issue_id': 2823824361, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 44, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:37:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196031.png)](https://mergebot.odoo.com/odoo/odoo/pull/196031)

fw-bot (Issue Creator) on (2025-01-31 15:37:53 UTC): @lase-odoo @Whenrow this PR targets saas-18.1 and is the last of the forward-port chain containing:
* odoo/odoo#195904
* odoo/odoo#195898
* odoo/odoo#195887

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:28 UTC): @lase-odoo @Whenrow this forward port of odoo/odoo#194068 is awaiting action (not merged or closed).

lase-odoo on (2025-02-03 07:44:12 UTC): robodoo r+

"
2823821709,pull_request,open,,[FIX] mail: play sound when receiving new message,"Before this commit, when push notifications are enabled, receiving a new message in discuss, was not playing the ""new-message"" sound effect.

This happens because when notifying new message, it plays the sound at the very end of processing of notify. However, the notify code was early returning in case it detects that there's push notification handled by service worker.

This made sense because out-of-focus has also some code for the showing of push notification, but this is redundant with the service worker behaviour on receiving the push notifcation.

However, the sound playing is still desirable, even though the service worker lacks this part of feature.

This commit fixes the issue by playing the sound effect of new message early.

-- Extra info --

The behaviour of sendNotification in out-of-focus service has been changed to not play sound by default, so that there's no playing twice with fix. If some code previously intended to play sound, it must now explicitly pass `sound: true`.

Also the previous code was not taking into account the ""out-of-focus"" aspect of the feature. This commit also fixes it.",alexkuhn,2025-01-31 15:36:31+00:00,[],2025-02-06 14:04:47+00:00,,https://github.com/odoo/odoo/pull/196030,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627637735, 'issue_id': 2823821709, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196030.png)](https://mergebot.odoo.com/odoo/odoo/pull/196030)', 'created_at': datetime.datetime(2025, 1, 31, 15, 36, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633840486, 'issue_id': 2823821709, 'author': 'seb-odoo', 'body': ""I'm not sure that I understand the issue or that I agree with it.\r\n\r\nNot having a sound when a native notification is sent is on purpose, as we are delegating the notification handling to the browser/OS in that case."", 'created_at': datetime.datetime(2025, 2, 4, 13, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636424886, 'issue_id': 2823821709, 'author': 'alexkuhn', 'body': ""Personally I have alert sounds disabled because they bother me on macOS and we cannot disable per action or app.\r\n\r\nOn other web apps I think I hear their custom sound alert with push notification enabled, so I don't think they rely on system OS alert sound. I'll have to re-check to confirm it. In a sense the custom sound alert helps uniquely determine from which app the sound alert comes."", 'created_at': datetime.datetime(2025, 2, 5, 11, 7, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639920888, 'issue_id': 2823821709, 'author': 'seb-odoo', 'body': 'Alerts choices are highly user specific, we should just have settings for all of them allowing users to customize for their needs (and it should be per browser settings).', 'created_at': datetime.datetime(2025, 2, 6, 14, 4, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:36:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196030.png)](https://mergebot.odoo.com/odoo/odoo/pull/196030)

seb-odoo on (2025-02-04 13:01:29 UTC): I'm not sure that I understand the issue or that I agree with it.

Not having a sound when a native notification is sent is on purpose, as we are delegating the notification handling to the browser/OS in that case.

alexkuhn (Issue Creator) on (2025-02-05 11:07:01 UTC): Personally I have alert sounds disabled because they bother me on macOS and we cannot disable per action or app.

On other web apps I think I hear their custom sound alert with push notification enabled, so I don't think they rely on system OS alert sound. I'll have to re-check to confirm it. In a sense the custom sound alert helps uniquely determine from which app the sound alert comes.

seb-odoo on (2025-02-06 14:04:27 UTC): Alerts choices are highly user specific, we should just have settings for all of them allowing users to customize for their needs (and it should be per browser settings).

"
2823814227,pull_request,closed,,"[IMP] hw_posbox_homepage,hw_drivers: add qr codes","This PR adds a possibility to easily use smartphone QR codes scanning feature to configure their IoT Boxes

It adds QR codes to the hdmi connected screen which will help the user to connect their IoT Boxes / configure wifi / reach their IoT Box homepage

3 possible scenarios are covered:

**1. The IoT Box is connected to a wifi network**
- 1st QR code is displayed which, when scanned connects the user to the same wifi network as the IoT Box
- 2nd QR code is displayed which, when scanned redirects users to the IoT Box homepage
![image](https://github.com/user-attachments/assets/b46694ee-fe60-4128-b0ab-7caf1bb8c324)

**2. The IoT Box is connected to internet with ethernet cable**
- Since we don't have access to the network's ssid /password in this case, we only display one QR code which redirects to the IoT Box homepage along with a message ""Connect to the IoT Box network""
![image](https://github.com/user-attachments/assets/1f0dbcee-7d08-4c02-901b-c8cc359aa31a)

**3. The IoT Box is in access mode and has no internet connection**
- 1st QR code is displayed which, when scanned connects the user to the IoT Box access point wifi
- 2nd QR code is displayed which, when scanned redirects user to `10.11.12.1` access point homepage / wifi configuration page (this is needed as on the smartphones you don't necessarily get the the popup which offers you to open ""10.11.12.1"" page
![image](https://github.com/user-attachments/assets/7cb262d8-67ec-4fd0-ad83-c2e41d8d0c16)

task-4536759


",Ysoroko,2025-01-31 15:32:58+00:00,[],2025-02-04 18:09:38+00:00,2025-02-04 18:09:38+00:00,https://github.com/odoo/odoo/pull/196029,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627629894, 'issue_id': 2823814227, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196029.png)](https://mergebot.odoo.com/odoo/odoo/pull/196029)', 'created_at': datetime.datetime(2025, 1, 31, 15, 33, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630149992, 'issue_id': 2823814227, 'author': 'lse-odoo', 'body': '@Ysoroko \nThe logic that you have to generate the qr code looks a bit odd to me compared to what odoo usually use (in sales report etc).\nI think odoo define somewhere a URL route where you give the qr code value then it reply back the QR code image, I guess the logic would be simpler using this technique (if it is applicable on the IoT)', 'created_at': datetime.datetime(2025, 2, 3, 7, 17, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633676548, 'issue_id': 2823814227, 'author': 'Ysoroko', 'body': ""> @Ysoroko The logic that you have to generate the qr code looks a bit odd to me compared to what odoo usually use (in sales report etc). I think odoo define somewhere a URL route where you give the qr code value then it reply back the QR code image, I guess the logic would be simpler using this technique (if it is applicable on the IoT)\r\n\r\n![image](https://github.com/user-attachments/assets/8f68e25b-3a07-4138-81b8-0cd2377aaa51)\r\n\r\nAs discussed there is no db on the IoT Box so no model methods.\r\nSo instead of moving the existing method in a helper I'd rather keep my logic here"", 'created_at': datetime.datetime(2025, 2, 4, 11, 50, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:33:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196029.png)](https://mergebot.odoo.com/odoo/odoo/pull/196029)

lse-odoo on (2025-02-03 07:17:38 UTC): @Ysoroko 
The logic that you have to generate the qr code looks a bit odd to me compared to what odoo usually use (in sales report etc).
I think odoo define somewhere a URL route where you give the qr code value then it reply back the QR code image, I guess the logic would be simpler using this technique (if it is applicable on the IoT)

Ysoroko (Issue Creator) on (2025-02-04 11:50:47 UTC): ![image](https://github.com/user-attachments/assets/8f68e25b-3a07-4138-81b8-0cd2377aaa51)

As discussed there is no db on the IoT Box so no model methods.
So instead of moving the existing method in a helper I'd rather keep my logic here

"
2823798815,pull_request,closed,,[FW][FIX] base: Fix a traceback with the partner merging wizard,"Description of the issue/feature this PR addresses:

Fix a traceback with the partner merging wizard.

Current behavior before PR:

Currently, the partner merging wizard doesn't support fields of type `reference`, because this type of field is never used by Odoo on model `res.partner`.
This will never happend in native Odoo, but some external addons can trigger this traceback.

Desired behavior after PR is merged:

The traceback is fixed and reference fields are treated like any others field types.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195432",fw-bot,2025-01-31 15:26:04+00:00,[],2025-02-03 13:01:49+00:00,2025-02-03 13:01:49+00:00,https://github.com/odoo/odoo/pull/196028,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627614896, 'issue_id': 2823798815, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196028.png)](https://mergebot.odoo.com/odoo/odoo/pull/196028)', 'created_at': datetime.datetime(2025, 1, 31, 15, 26, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627614911, 'issue_id': 2823798815, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 26, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627670105, 'issue_id': 2823798815, 'author': 'fw-bot', 'body': '@BurkhalterY @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 15, 51, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630479063, 'issue_id': 2823798815, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630479388, 'issue_id': 2823798815, 'author': 'robodoo', 'body': '@ryv-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 10, 1, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:26:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196028.png)](https://mergebot.odoo.com/odoo/odoo/pull/196028)

fw-bot (Issue Creator) on (2025-01-31 15:26:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 15:51:56 UTC): @BurkhalterY @ryv-odoo ci/runbot failed on this forward-port PR

ryv-odoo on (2025-02-03 10:00:54 UTC): @robodoo r+

robodoo on (2025-02-03 10:01:01 UTC): @ryv-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2823788738,pull_request,open,,[IMP] hr_homeworking: install by default,"- remove the res_config for the model from hr
- add auto_install to module
- add button to populate all the days with moday value to ease the proces if all of them have same value

Task: 4535773



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-31 15:22:04+00:00,[],2025-02-03 06:23:26+00:00,,https://github.com/odoo/odoo/pull/196027,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627604582, 'issue_id': 2823788738, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196027.png)](https://mergebot.odoo.com/odoo/odoo/pull/196027)', 'created_at': datetime.datetime(2025, 1, 31, 15, 22, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:22:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196027.png)](https://mergebot.odoo.com/odoo/odoo/pull/196027)

"
2823762415,pull_request,closed,,[FW][FIX] mail: collapse call participants preserve image aspect ratio,"Avatar stack of call participants in discuss sidebar lacked preserving aspect ratio of image, so image may be squished.

This commit fixes the issue with `.o_object_fit_cover` used in all showings of avatars in discuss.

Before
![before](https://github.com/user-attachments/assets/25870f36-8cc4-458a-bde3-de7b8fc7d1b3)

After
![after](https://github.com/user-attachments/assets/d784644d-6fda-4dca-8890-780f37ecdbba)

Forward-Port-Of: odoo/odoo#195987",fw-bot,2025-01-31 15:11:15+00:00,[],2025-01-31 18:18:43+00:00,2025-01-31 17:50:36+00:00,https://github.com/odoo/odoo/pull/196026,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627580273, 'issue_id': 2823762415, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196026.png)](https://mergebot.odoo.com/odoo/odoo/pull/196026)', 'created_at': datetime.datetime(2025, 1, 31, 15, 11, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627580303, 'issue_id': 2823762415, 'author': 'fw-bot', 'body': '@alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 11, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627678913, 'issue_id': 2823762415, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 56, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:11:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196026.png)](https://mergebot.odoo.com/odoo/odoo/pull/196026)

fw-bot (Issue Creator) on (2025-01-31 15:11:17 UTC): @alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-31 15:56:08 UTC): @robodoo r+

"
2823761574,pull_request,closed,,[FW][FIX] web: fix favorite management undeterminism,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195724",fw-bot,2025-01-31 15:10:55+00:00,[],2025-01-31 17:50:40+00:00,2025-01-31 17:50:40+00:00,https://github.com/odoo/odoo/pull/196025,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627579307, 'issue_id': 2823761574, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196025.png)](https://mergebot.odoo.com/odoo/odoo/pull/196025)', 'created_at': datetime.datetime(2025, 1, 31, 15, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627579341, 'issue_id': 2823761574, 'author': 'fw-bot', 'body': '@kebeclibre @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627622269, 'issue_id': 2823761574, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 15, 29, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:11:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196025.png)](https://mergebot.odoo.com/odoo/odoo/pull/196025)

fw-bot (Issue Creator) on (2025-01-31 15:11:00 UTC): @kebeclibre @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

juliusc2066 on (2025-01-31 15:29:33 UTC): @robodoo r+

"
2823738100,pull_request,closed,,[FW][FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193255",fw-bot,2025-01-31 15:01:10+00:00,[],2025-02-03 15:20:39+00:00,2025-02-03 15:20:39+00:00,https://github.com/odoo/odoo/pull/196024,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627557343, 'issue_id': 2823738100, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196024.png)](https://mergebot.odoo.com/odoo/odoo/pull/196024)', 'created_at': datetime.datetime(2025, 1, 31, 15, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627557382, 'issue_id': 2823738100, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 15, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627634126, 'issue_id': 2823738100, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 15, 34, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630780086, 'issue_id': 2823738100, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 12, 14, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630780606, 'issue_id': 2823738100, 'author': 'robodoo', 'body': '@walidsahli you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 12, 14, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 15:01:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196024.png)](https://mergebot.odoo.com/odoo/odoo/pull/196024)

fw-bot (Issue Creator) on (2025-01-31 15:01:12 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 15:34:57 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

walidsahli on (2025-02-03 12:14:08 UTC): @robodoo r+

robodoo on (2025-02-03 12:14:22 UTC): @walidsahli you may want to rebuild or fix this PR as it has failed CI.

"
2823713973,pull_request,open,,Saas 18.1 sorted total lul,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",LucasLefevre,2025-01-31 14:52:21+00:00,[],2025-01-31 15:00:10+00:00,,https://github.com/odoo/odoo/pull/196023,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627538332, 'issue_id': 2823713973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196023.png)](https://mergebot.odoo.com/odoo/odoo/pull/196023)', 'created_at': datetime.datetime(2025, 1, 31, 14, 52, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:52:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196023.png)](https://mergebot.odoo.com/odoo/odoo/pull/196023)

"
2823707849,pull_request,closed,,[FW][FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195758
Forward-Port-Of: odoo/odoo#195316",fw-bot,2025-01-31 14:49:57+00:00,[],2025-02-03 12:40:30+00:00,2025-02-03 12:40:30+00:00,https://github.com/odoo/odoo/pull/196022,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627532515, 'issue_id': 2823707849, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196022.png)](https://mergebot.odoo.com/odoo/odoo/pull/196022)', 'created_at': datetime.datetime(2025, 1, 31, 14, 49, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627532549, 'issue_id': 2823707849, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195954\n* odoo/odoo#195813\n* odoo/odoo#195779\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 14, 49, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627592550, 'issue_id': 2823707849, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 15, 16, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729269, 'issue_id': 2823707849, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet this forward port of odoo/odoo#195316 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630396279, 'issue_id': 2823707849, 'author': 'anso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 25, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:49:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196022.png)](https://mergebot.odoo.com/odoo/odoo/pull/196022)

fw-bot (Issue Creator) on (2025-01-31 14:49:59 UTC): @anso-odoo @SergeBayet this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195954
* odoo/odoo#195813
* odoo/odoo#195779

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 15:16:56 UTC): @anso-odoo @SergeBayet this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-02-03 02:01:35 UTC): @anso-odoo @SergeBayet this forward port of odoo/odoo#195316 is awaiting action (not merged or closed).

anso-odoo on (2025-02-03 09:25:05 UTC): @robodoo r+

"
2823683604,pull_request,closed,,[FW][FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506

Forward-Port-Of: odoo/odoo#195941
Forward-Port-Of: odoo/odoo#195743",fw-bot,2025-01-31 14:39:20+00:00,[],2025-02-03 11:43:34+00:00,2025-02-03 11:43:34+00:00,https://github.com/odoo/odoo/pull/196021,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627510037, 'issue_id': 2823683604, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196021.png)](https://mergebot.odoo.com/odoo/odoo/pull/196021)', 'created_at': datetime.datetime(2025, 1, 31, 14, 39, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627510062, 'issue_id': 2823683604, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 14, 39, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627599981, 'issue_id': 2823683604, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 15, 20, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:39:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196021.png)](https://mergebot.odoo.com/odoo/odoo/pull/196021)

fw-bot (Issue Creator) on (2025-01-31 14:39:22 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 15:20:13 UTC): @SergeBayet @bvr-odoo ci/runbot failed on this forward-port PR

"
2823681489,pull_request,open,,[FIX] account: Prevent cancellation of already posted documents,"Description of the issue/feature this PR addresses:

This PR addresses the issue where a document in the 'posted' state could be canceled by users, causing inconsistencies when multiple users interact with the same record. Specifically, for the Argentina localization, invoices are sent to the tax regulatory organization (AFIP) once they are posted, and they cannot remain in a canceled state after being sent.

Current behavior before PR:

Users could cancel a document even if it was already posted, which could result in issues when the invoice was already sent to AFIP. Invoices sent to AFIP cannot be reverted to a canceled state, causing potential problems with tax reporting.

Desired behavior after PR is merged:

The document can no longer be canceled if it is already in the 'posted' state. A UserError will be raised to inform the user that cancellation is not allowed for posted documents, especially when they have been sent to AFIP. This ensures compliance with tax regulations and avoids inconsistencies.


Steps to reproduce the error:

1. User A creates a new invoice and leaves it in the 'draft' state.
2. User B also opens the same invoice in 'draft' state at the same time.
3. User A validates the invoice and posts it, triggering the sending of data to AFIP.
4. Before the system can confirm the posting, User B clicks the ""Cancel"" button to cancel the invoice.
5. The system allows User B to cancel the invoice, even though it has already been posted by User A and sent to AFIP, causing potential inconsistencies.

This issue arises when two users are consulting and interacting with the same invoice simultaneously: one validates and posts the invoice just a few seconds before the other tries to cancel it.

Video 
https://drive.google.com/file/d/17PQIX6Bc8hhMOZyRsHfEEDv-DI68Jchq/view

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rov-adhoc,2025-01-31 14:38:17+00:00,[],2025-02-07 08:37:27+00:00,,https://github.com/odoo/odoo/pull/196020,"[('Accounting', '')]","[{'comment_id': 2627507938, 'issue_id': 2823681489, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196020.png)](https://mergebot.odoo.com/odoo/odoo/pull/196020)', 'created_at': datetime.datetime(2025, 1, 31, 14, 38, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639655555, 'issue_id': 2823681489, 'author': 'rov-adhoc', 'body': ""> Thanks for the PR. It makes sense that we should not just be able to move from `posted` to `cancel`. But I think we could just backport the function from 17.0\r\n\r\n\r\nThanks for the review! I've made the change. Regards!!"", 'created_at': datetime.datetime(2025, 2, 6, 12, 12, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642258854, 'issue_id': 2823681489, 'author': 'svfu-odoo', 'body': 'Thanks for the update.\r\nBut does this change alone solve the issue functionally? Currently I think you can just reset a invoice sent to AFIP to draft. So the `button_cancel` would basically have the same effect as before.\r\nShould we not add sth. to `button_draft` in `l10n_ar_edi` to prevent resetting  a move sent to the AFIP back to draft?', 'created_at': datetime.datetime(2025, 2, 7, 8, 37, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:38:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196020.png)](https://mergebot.odoo.com/odoo/odoo/pull/196020)

rov-adhoc (Issue Creator) on (2025-02-06 12:12:19 UTC): Thanks for the review! I've made the change. Regards!!

svfu-odoo on (2025-02-07 08:37:26 UTC): Thanks for the update.
But does this change alone solve the issue functionally? Currently I think you can just reset a invoice sent to AFIP to draft. So the `button_cancel` would basically have the same effect as before.
Should we not add sth. to `button_draft` in `l10n_ar_edi` to prevent resetting  a move sent to the AFIP back to draft?

"
2823674972,pull_request,closed,,[FW][FIX] web: remove useless test steps,"Commit https://github.com/odoo/odoo/commit/98218629f88b619ca9c8013ecbffaa221d82531c introduced a test with two non-related steps (these steps were certainly copy-pasted from another test, in spreadsheet).
This commit removes these steps.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194832",fw-bot,2025-01-31 14:35:07+00:00,[],2025-01-31 17:50:27+00:00,2025-01-31 17:50:27+00:00,https://github.com/odoo/odoo/pull/196019,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627501337, 'issue_id': 2823674972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196019.png)](https://mergebot.odoo.com/odoo/odoo/pull/196019)', 'created_at': datetime.datetime(2025, 1, 31, 14, 35, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627501365, 'issue_id': 2823674972, 'author': 'fw-bot', 'body': '@pro-odoo @hokolomopo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195999\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 14, 35, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627509328, 'issue_id': 2823674972, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 38, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:35:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196019.png)](https://mergebot.odoo.com/odoo/odoo/pull/196019)

fw-bot (Issue Creator) on (2025-01-31 14:35:09 UTC): @pro-odoo @hokolomopo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195999

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pro-odoo on (2025-01-31 14:38:59 UTC): robodoo r+

"
2823666206,pull_request,closed,,[FW][FIX] website: clean keywords in SEO dialog,"Steps to reproduce:

- Edit a page
- open ""Optimize SEO"" dialog
- Add a tag with a parenthesis. eg. ""Webinar Tools (OBS, YouTube)""
- Save
- Reload the page
- Reopen the ""Optimize SEO"" dialog
- ... crash

Since [1], the application crashes because keywords are dynamically used in a regular expression, and special characters (e.g., parentheses) are not properly escaped.

We address the keywords issues by escaping control characters before using them in the regular expression to prevent crashes.

[1]: https://github.com/odoo/odoo/commit/ac55f2bb113ecf7c774fe6e96d28e716184a97d1#diff-b51336c1ad97255bfb3646f013327eca1904ca194078f4ce671e517096233c58

task-4420262

Forward-Port-Of: odoo/odoo#195940
Forward-Port-Of: odoo/odoo#194976",fw-bot,2025-01-31 14:31:17+00:00,[],2025-02-03 10:18:02+00:00,2025-02-03 10:18:02+00:00,https://github.com/odoo/odoo/pull/196018,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627492042, 'issue_id': 2823666206, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196018.png)](https://mergebot.odoo.com/odoo/odoo/pull/196018)', 'created_at': datetime.datetime(2025, 1, 31, 14, 31, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627492067, 'issue_id': 2823666206, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 14, 31, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627508742, 'issue_id': 2823666206, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 14, 38, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:31:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196018.png)](https://mergebot.odoo.com/odoo/odoo/pull/196018)

fw-bot (Issue Creator) on (2025-01-31 14:31:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 14:38:42 UTC): @SergeBayet @bvr-odoo ci/runbot failed on this forward-port PR

"
2823659354,pull_request,open,,[FIX] l10n_es_edi_sii: VAT 12% (agriculture) exemption in bills,"Currently, using the tax '12% agri' on a Vendor Bill makes the document
impossible to validate because of the error
`1166 - Valor del campo Tipoimpositivo no está incluido en la lista de
valores permitidos`

Steps to reproduce:
- Have l10n_es_edi_sii module installed and have a tax agency selected.
- Make a Bill using '12% agri' tax

Issue: When sending the bill for validation the error is raised.

This occurs because the field ""ClaveRegimenEspecialOTrascendencia"" is set to ""01"",
when it should be ""02"" for exempt taxes.
Also, in this case TipoImpositivo and CuotaSoportada should be replaced
by PorcentCompensacionREAGYP and ImporteCompensacionREAGYP
https://sede.agenciatributaria.gob.es/Sede/iva/regimenes-tributacion-iva/regimen-especial-agricultura-ganaderia-pesca/que-consiste-regimen-especial-agricultura-pesca.html
https://sede.agenciatributaria.gob.es/static_files/Sede/Procedimiento_ayuda/G417/FicherosSuministros/V_1_1/Validaciones_ErroresSII_v1.1.pdf

opw-4486190",agr-odoo,2025-01-31 14:28:02+00:00,[],2025-01-31 15:00:17+00:00,,https://github.com/odoo/odoo/pull/196017,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2627485389, 'issue_id': 2823659354, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196017.png)](https://mergebot.odoo.com/odoo/odoo/pull/196017)', 'created_at': datetime.datetime(2025, 1, 31, 14, 28, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:28:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196017.png)](https://mergebot.odoo.com/odoo/odoo/pull/196017)

"
2823656060,pull_request,closed,,[FW][FIX] analytic: do no re-create plan,"If Projects plan is removed we cannot let it be recreated in a module upgrade. If we allow so the new plan will create an unnecessary column in `account_analytic_line`. This would repeat each time the user upgrades the module in case the plan is removed before the upgrade. In principle this is not an issue, unless account_budget is also installed. In such case the new column for `budget_line` won't be created and that would cause errors.

Steps to reproduce
1. Install `account_budget`
2. Create a new Plan
3. Set the config parameter to the id of the new plan
4. Remove Projects plan
5. Upgrade analytic module
6. Try to create a new analytic account.

There is an error in the frontend
```
OwlError: The following error occurred in onWillStart: """"budget.line"".""x_plan3_id"" field is undefined.""
```

The problem is that since the new plan was created via an upgrade the post init hook of `account_budget` didn't run. Therefore the new column in `budget_line` was not created.

Notes:
* In step 4 above the column `x_plan2_id` in analytic line is left unused. This is not a problem per-se besides extra data dangling in the DB.
* We may argue that we should ensure that the column plan is created in a register_hook in `account_budget` but conceptually the relevant setting is the config parameter, recreating a plan that has no reason to exist could cause more issues down the line.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195778
Forward-Port-Of: odoo/odoo#195710",fw-bot,2025-01-31 14:26:24+00:00,[],2025-01-31 17:50:22+00:00,2025-01-31 17:50:22+00:00,https://github.com/odoo/odoo/pull/196016,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627482046, 'issue_id': 2823656060, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196016.png)](https://mergebot.odoo.com/odoo/odoo/pull/196016)', 'created_at': datetime.datetime(2025, 1, 31, 14, 26, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627482063, 'issue_id': 2823656060, 'author': 'fw-bot', 'body': '@aj-fuentes @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195998\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 14, 26, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627545753, 'issue_id': 2823656060, 'author': 'aj-fuentes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 55, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:26:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196016.png)](https://mergebot.odoo.com/odoo/odoo/pull/196016)

fw-bot (Issue Creator) on (2025-01-31 14:26:26 UTC): @aj-fuentes @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195998

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aj-fuentes on (2025-01-31 14:55:56 UTC): @robodoo r+

"
2823632402,pull_request,open,,[IMP] base: autovacuum progress API,"The `autovacuum` methods can now return if there are remaining records to be vacuumed. This allows to stop the function early and each function gets called a fair amount of times.

The cron responsible for autovacuum uses the progress API to signal whether it could process all funtions. It executes them in a random order now, so if one function is misbehaving (blocking), there is a lower probablility to starve the same set of functions at each call.

An example of implementation:
```python
@api.autovacuum
def _gc_something(self, limit=1000):
  # find records to remove (set a limit to avoid fetching all)
  records = self.search(..., limit=limit)
  records.unlink()
  # return number of records and whether there are remaining ones
  return len(records), len(records) == limit
```

task-4472661

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-31 14:18:36+00:00,[],2025-02-08 11:58:00+00:00,,https://github.com/odoo/odoo/pull/196015,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627464561, 'issue_id': 2823632402, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196015.png)](https://mergebot.odoo.com/odoo/odoo/pull/196015)', 'created_at': datetime.datetime(2025, 1, 31, 14, 18, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:18:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196015.png)](https://mergebot.odoo.com/odoo/odoo/pull/196015)

"
2823632277,pull_request,closed,,[FW][FIX] base: Fix a traceback with the partner merging wizard,"Description of the issue/feature this PR addresses:

Fix a traceback with the partner merging wizard.

Current behavior before PR:

Currently, the partner merging wizard doesn't support fields of type `reference`, because this type of field is never used by Odoo on model `res.partner`.
This will never happend in native Odoo, but some external addons can trigger this traceback.

Desired behavior after PR is merged:

The traceback is fixed and reference fields are treated like any others field types.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195432",fw-bot,2025-01-31 14:18:32+00:00,[],2025-02-03 13:08:44+00:00,2025-02-03 13:08:44+00:00,https://github.com/odoo/odoo/pull/196014,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627464381, 'issue_id': 2823632277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196014.png)](https://mergebot.odoo.com/odoo/odoo/pull/196014)', 'created_at': datetime.datetime(2025, 1, 31, 14, 18, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627464404, 'issue_id': 2823632277, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 14, 18, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:18:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196014.png)](https://mergebot.odoo.com/odoo/odoo/pull/196014)

fw-bot (Issue Creator) on (2025-01-31 14:18:34 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823600812,pull_request,closed,,"[IMP] point_of_sale,pos_event,pos_restaurant,pos_sale: mapping sub rec","Automatically mapping sub records of pos_order to be serialized in the pos_order model.
",davidmonnom,2025-01-31 14:06:26+00:00,[],2025-02-03 16:37:59+00:00,2025-02-03 16:37:59+00:00,https://github.com/odoo/odoo/pull/196013,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627437453, 'issue_id': 2823600812, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196013.png)](https://mergebot.odoo.com/odoo/odoo/pull/196013)', 'created_at': datetime.datetime(2025, 1, 31, 14, 6, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:06:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196013.png)](https://mergebot.odoo.com/odoo/odoo/pull/196013)

"
2823590378,pull_request,closed,,[FIX] core: log useful connection closes,"On a server with low activity, the log is bloated with messages containing `[...] Closed 0 connections`.

It is only useful to know if a connection was closed, so we skip logging otherwise.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",nim-odoo,2025-01-31 14:03:01+00:00,[],2025-02-03 08:54:31+00:00,2025-02-03 08:54:31+00:00,https://github.com/odoo/odoo/pull/196012,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627429978, 'issue_id': 2823590378, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196012.png)](https://mergebot.odoo.com/odoo/odoo/pull/196012)', 'created_at': datetime.datetime(2025, 1, 31, 14, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630216385, 'issue_id': 2823590378, 'author': 'xmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 59, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:03:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196012.png)](https://mergebot.odoo.com/odoo/odoo/pull/196012)

xmo-odoo on (2025-02-03 07:59:35 UTC): @robodoo r+

"
2823585214,pull_request,open,,[FIX] hr_holidays: fix leave duration for flex calendars,"Issue: we you have a flex calendar the time off duration will depend on the attendance_ids even if they are hidden from the calendar view

reporduce: create a new calendar and change the attendance before turing it into flex and then change the `hours_per_day`. then use this calendar on one of the employees and try to givce him a time off. the duration will be calculated based on the attendance you set before marking the calendar flex

Solve:
- update the `_get_durations` method to check if the calendar is flex and then use the `hours_per_day`

Notes:
this flex calendars does not have a weekdays and weekends so all the days that is selected in the leave would be counted

Task: 4535351


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-01-31 14:00:39+00:00,[],2025-02-06 12:31:01+00:00,,https://github.com/odoo/odoo/pull/196011,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627424951, 'issue_id': 2823585214, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196011.png)](https://mergebot.odoo.com/odoo/odoo/pull/196011)', 'created_at': datetime.datetime(2025, 1, 31, 14, 0, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 14:00:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196011.png)](https://mergebot.odoo.com/odoo/odoo/pull/196011)

"
2823577880,pull_request,closed,,[IMP] bus: remove bus legacy test helpers,"Now that most of the JS tests are converted to hoot, we can remove the legacy bus helpers.

part of task-3818666

enterprise: https://github.com/odoo/enterprise/pull/78291",tsm-odoo,2025-01-31 13:57:09+00:00,[],2025-02-04 11:59:35+00:00,2025-02-04 11:59:35+00:00,https://github.com/odoo/odoo/pull/196010,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2627417418, 'issue_id': 2823577880, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196010.png)](https://mergebot.odoo.com/odoo/odoo/pull/196010)', 'created_at': datetime.datetime(2025, 1, 31, 13, 57, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630326471, 'issue_id': 2823577880, 'author': 'zel-odoo', 'body': '🎊', 'created_at': datetime.datetime(2025, 2, 3, 8, 55, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630618540, 'issue_id': 2823577880, 'author': 'robodoo', 'body': '@tsm-odoo @seb-odoo linked pull request(s) odoo/enterprise#78291 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 3, 11, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631007090, 'issue_id': 2823577880, 'author': 'robodoo', 'body': ""@tsm-odoo @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 13, 27, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631115225, 'issue_id': 2823577880, 'author': 'robodoo', 'body': ""@tsm-odoo @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 3, 14, 11, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:57:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196010.png)](https://mergebot.odoo.com/odoo/odoo/pull/196010)

zel-odoo on (2025-02-03 08:55:31 UTC): 🎊

robodoo on (2025-02-03 11:00:07 UTC): @tsm-odoo @seb-odoo linked pull request(s) odoo/enterprise#78291 not ready. Linked PRs are not staged until all of them are ready.

robodoo on (2025-02-03 13:27:43 UTC): @tsm-odoo @seb-odoo 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-03 14:11:45 UTC): @tsm-odoo @seb-odoo 'ci/runbot' failed on this reviewed PR.

"
2823576146,pull_request,closed,,[FW][FIX] pos_loyalty: multiple reward quantity,"Before this commit:
===================
- when creating a discount and loyalty program type coupon with rules for
 minimum quantity and purchase equals 1, along with a specific product reward,
 `multiple reward order lines` were erroneously generated if the coupon balance
 exceeded 1.
- upon refreshing the page, the reward line quantity would increment incorrectly.

After this commit:
==================
- with this commit, only one reward order line is created per coupon application, and the coupon now correctly applies only once, resolving the previous inconsistencies.

task - 3869549

Forward-Port-Of: odoo/odoo#162359",fw-bot,2025-01-31 13:56:18+00:00,[],2025-02-03 16:38:19+00:00,2025-02-03 16:38:19+00:00,https://github.com/odoo/odoo/pull/196009,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627415427, 'issue_id': 2823576146, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196009.png)](https://mergebot.odoo.com/odoo/odoo/pull/196009)', 'created_at': datetime.datetime(2025, 1, 31, 13, 56, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627415446, 'issue_id': 2823576146, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 56, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627557901, 'issue_id': 2823576146, 'author': 'fw-bot', 'body': '@jipr-odoo @caburj ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 15, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628809505, 'issue_id': 2823576146, 'author': 'jipr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 1, 6, 34, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628810399, 'issue_id': 2823576146, 'author': 'fw-bot', 'body': ""@jipr-odoo @caburj child PR odoo/odoo#196100 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 1, 6, 36, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628817207, 'issue_id': 2823576146, 'author': 'robodoo', 'body': '@jipr-odoo @caburj staging failed: ci/runbot on d610702543ceaefd16acbecc827223ca83517820 (view more at https://runbot.odoo.com/runbot/build/74323460)', 'created_at': datetime.datetime(2025, 2, 1, 6, 57, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631076591, 'issue_id': 2823576146, 'author': 'jipr-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 13, 56, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:56:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196009.png)](https://mergebot.odoo.com/odoo/odoo/pull/196009)

fw-bot (Issue Creator) on (2025-01-31 13:56:20 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 15:01:25 UTC): @jipr-odoo @caburj ci/runbot failed on this forward-port PR

jipr-odoo on (2025-02-01 06:34:25 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-02-01 06:36:45 UTC): @jipr-odoo @caburj child PR odoo/odoo#196100 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

robodoo on (2025-02-01 06:57:07 UTC): @jipr-odoo @caburj staging failed: ci/runbot on d610702543ceaefd16acbecc827223ca83517820 (view more at https://runbot.odoo.com/runbot/build/74323460)

jipr-odoo on (2025-02-03 13:56:26 UTC): @robodoo retry

"
2823572342,pull_request,closed,,[FW][FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.

Forward-Port-Of: odoo/odoo#195793
Forward-Port-Of: odoo/odoo#195637",fw-bot,2025-01-31 13:54:28+00:00,[],2025-01-31 16:30:31+00:00,2025-01-31 16:30:31+00:00,https://github.com/odoo/odoo/pull/196008,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627411330, 'issue_id': 2823572342, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196008.png)](https://mergebot.odoo.com/odoo/odoo/pull/196008)', 'created_at': datetime.datetime(2025, 1, 31, 13, 54, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627411361, 'issue_id': 2823572342, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195991\n* odoo/odoo#195974\n* odoo/odoo#195873\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 54, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627413526, 'issue_id': 2823572342, 'author': 'Demesmaeker', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 13, 55, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627436857, 'issue_id': 2823572342, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 6, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627436942, 'issue_id': 2823572342, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 1, 31, 14, 6, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:54:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196008.png)](https://mergebot.odoo.com/odoo/odoo/pull/196008)

fw-bot (Issue Creator) on (2025-01-31 13:54:30 UTC): @lvsz @Demesmaeker this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195991
* odoo/odoo#195974
* odoo/odoo#195873

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Demesmaeker on (2025-01-31 13:55:29 UTC): @robodoo r+

lvsz on (2025-01-31 14:06:11 UTC): @robodoo r+

robodoo on (2025-01-31 14:06:14 UTC): This PR is already reviewed, reviewing it again is useless.

"
2823562923,pull_request,closed,,[FW][FIX] mail: display user avatar in push notifications instead of odooBot,"**Current behavior before PR:**

Push notifications displayed the Odoo Bot icon regardless of the actual message author.

**Desired behavior after PR is merged:**

The push notifications now correctly display the avatar of the message author.

Task-[4510479](https://www.odoo.com/odoo/project/1519/tasks/4510479)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195872
Forward-Port-Of: odoo/odoo#195219",fw-bot,2025-01-31 13:50:45+00:00,[],2025-02-04 08:01:43+00:00,2025-02-03 08:26:42+00:00,https://github.com/odoo/odoo/pull/196007,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627403940, 'issue_id': 2823562923, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196007.png)](https://mergebot.odoo.com/odoo/odoo/pull/196007)', 'created_at': datetime.datetime(2025, 1, 31, 13, 51, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627403962, 'issue_id': 2823562923, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 51, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201370, 'issue_id': 2823562923, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729478, 'issue_id': 2823562923, 'author': 'fw-bot', 'body': '@ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629910424, 'issue_id': 2823562923, 'author': 'ramh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 4, 50, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:51:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196007.png)](https://mergebot.odoo.com/odoo/odoo/pull/196007)

fw-bot (Issue Creator) on (2025-01-31 13:51:06 UTC): @ramh-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-02 02:00:57 UTC): @ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:43 UTC): @ramh-odoo @alexkuhn this forward port of odoo/odoo#195219 is awaiting action (not merged or closed).

ramh-odoo on (2025-02-03 04:50:09 UTC): @robodoo r+

"
2823562255,pull_request,open,,[FW][FIX] im_livechat: disable composer for transient chatbot thread,"The composer is disabled when not needed (chat bot steps not requiring user input) or when the live chat has ended. However, the composer is sometimes shown to the visitor even when the composer is disabled.

Steps to reproduce the issue:
- Go to the /contactus page
- Start the chat bot
- Composer is shown, while the bot doesn't expect any user input

In [1], we enabled the composer for operators even when the chat has ended. To do so, we check that the current user is not the visitor. However, temporary threads are missing some information such as channel members. As a result, the composer is shown to the visitor even if disabled when the thread is temporary. This PR modify this condition to handle temporary threads.

[1]: https://github.com/odoo/odoo/pull/195734

Forward-Port-Of: odoo/odoo#195945",fw-bot,2025-01-31 13:50:26+00:00,[],2025-01-31 14:00:16+00:00,,https://github.com/odoo/odoo/pull/196006,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627403871, 'issue_id': 2823562255, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196006.png)](https://mergebot.odoo.com/odoo/odoo/pull/196006)', 'created_at': datetime.datetime(2025, 1, 31, 13, 51, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627403897, 'issue_id': 2823562255, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 51, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:51:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196006.png)](https://mergebot.odoo.com/odoo/odoo/pull/196006)

fw-bot (Issue Creator) on (2025-01-31 13:51:05 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823539251,pull_request,open,,[IMP] mail: Hide unnecessary quick actions in deactivated WhatsApp channels,"PURPOSE

The purpose of this commit is to stop displaying unnecessary quick actions in deactivated WhatsApp channels.

SPECIFICATION

The `showAction` getter function is introduced in the composer. This function is overridden in WhatsApp to prevent actions like the emoji picker, GIF picker, etc. from being displayed. As a result, the WhatsApp Revive Conversation action button remains visible to users for deactivated WhatsApp channels.

TASK-3525549",aktr-odoo,2025-01-31 13:41:19+00:00,[],2025-02-04 09:13:41+00:00,,https://github.com/odoo/odoo/pull/196005,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627380219, 'issue_id': 2823539251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196005.png)](https://mergebot.odoo.com/odoo/odoo/pull/196005)', 'created_at': datetime.datetime(2025, 1, 31, 13, 41, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630320860, 'issue_id': 2823539251, 'author': 'aktr-odoo', 'body': 'Hello @reth-odoo \r\n\r\nThe requested changes have been made. Can you please have a look?', 'created_at': datetime.datetime(2025, 2, 3, 8, 52, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631037620, 'issue_id': 2823539251, 'author': 'aktr-odoo', 'body': 'Hello @reth-odoo\r\n\r\nThe requested changes have been made. Can you please have a look?', 'created_at': datetime.datetime(2025, 2, 3, 13, 40, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:41:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196005.png)](https://mergebot.odoo.com/odoo/odoo/pull/196005)

aktr-odoo (Issue Creator) on (2025-02-03 08:52:52 UTC): Hello @reth-odoo 

The requested changes have been made. Can you please have a look?

aktr-odoo (Issue Creator) on (2025-02-03 13:40:32 UTC): Hello @reth-odoo

The requested changes have been made. Can you please have a look?

"
2823481291,pull_request,closed,,[FW][FIX] website: clean keywords in SEO dialog,"Steps to reproduce:

- Edit a page
- open ""Optimize SEO"" dialog
- Add a tag with a parenthesis. eg. ""Webinar Tools (OBS, YouTube)""
- Save
- Reload the page
- Reopen the ""Optimize SEO"" dialog
- ... crash

Since [1], the application crashes because keywords are dynamically used in a regular expression, and special characters (e.g., parentheses) are not properly escaped.

We address the keywords issues by escaping control characters before using them in the regular expression to prevent crashes.

[1]: https://github.com/odoo/odoo/commit/ac55f2bb113ecf7c774fe6e96d28e716184a97d1#diff-b51336c1ad97255bfb3646f013327eca1904ca194078f4ce671e517096233c58

task-4420262

Forward-Port-Of: odoo/odoo#195940
Forward-Port-Of: odoo/odoo#194976",fw-bot,2025-01-31 13:23:08+00:00,[],2025-02-03 08:09:26+00:00,2025-02-03 08:09:25+00:00,https://github.com/odoo/odoo/pull/196004,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627331916, 'issue_id': 2823481291, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196004.png)](https://mergebot.odoo.com/odoo/odoo/pull/196004)', 'created_at': datetime.datetime(2025, 1, 31, 13, 23, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627331941, 'issue_id': 2823481291, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 23, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:23:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196004.png)](https://mergebot.odoo.com/odoo/odoo/pull/196004)

fw-bot (Issue Creator) on (2025-01-31 13:23:09 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823471918,pull_request,closed,,[FIX] website: correctly compute page of image gallery,"When image gallery was converted to interactions in [1], the page calculation for old version of the snippet was wrongly adapted.

This commit solves this by looking for the active element inside the list instead of looking for an array of active elements.

Steps to reproduce:
- Install 17.0
- Drop an Image Gallery and save
- Copy the page's HTML
- Install master
- Unarchive the 'image' asset records that are archived
- Paste the page's HTML

=> The miniatures did not behave normally, and access to a second page was given even if there was no such thing.

[1]: https://github.com/odoo/odoo/commit/b9b3a605e0f4c5da3a258c980107d6162da7f44f

task-4367641
",bso-odoo,2025-01-31 13:18:46+00:00,[],2025-01-31 17:50:31+00:00,2025-01-31 17:50:31+00:00,https://github.com/odoo/odoo/pull/196003,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2627323295, 'issue_id': 2823471918, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196003.png)](https://mergebot.odoo.com/odoo/odoo/pull/196003)', 'created_at': datetime.datetime(2025, 1, 31, 13, 18, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627687292, 'issue_id': 2823471918, 'author': 'ged-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 16, 0, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:18:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196003.png)](https://mergebot.odoo.com/odoo/odoo/pull/196003)

ged-odoo on (2025-01-31 16:00:09 UTC): robodoo r+

"
2823471800,pull_request,closed,,[FIX] html_editor: prevent using self-closing elements in editor,"**Problem**:
When content comes from the config containing self-closing tags,
the browser misinterprets them as they are not valid HTML,
leading to a broken template when displayed.

**Solution**:
Convert self-closing tags to explicitly opened and closed tags
when content is added to the editor.

**Steps to Reproduce**:
1. Open Email Templates > ""Sales: Order Confirmation"".
2. Inspect and observe that self-closing tags are not rendered correctly.

opw-4531812

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-01-31 13:18:42+00:00,[],2025-02-04 11:26:40+00:00,2025-02-04 11:26:40+00:00,https://github.com/odoo/odoo/pull/196002,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2627323176, 'issue_id': 2823471800, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196002.png)](https://mergebot.odoo.com/odoo/odoo/pull/196002)', 'created_at': datetime.datetime(2025, 1, 31, 13, 18, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633244805, 'issue_id': 2823471800, 'author': 'dmo-odoo', 'body': '@robodoo override=ci/security r+\r\nReason: This is the entry point of the editor. It is used from the html field, meaning the content comes from a field in the database that has been sanitized by the server.', 'created_at': datetime.datetime(2025, 2, 4, 8, 48, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:18:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196002.png)](https://mergebot.odoo.com/odoo/odoo/pull/196002)

dmo-odoo on (2025-02-04 08:48:10 UTC): @robodoo override=ci/security r+
Reason: This is the entry point of the editor. It is used from the html field, meaning the content comes from a field in the database that has been sanitized by the server.

"
2823464590,pull_request,closed,,"[IMP] uom,*: show ratio relative to product unit in uom widget","This commit changes the behavior of the widget created in 31d251f, so that it shows the ratio of the unit relative to the base unit of the current open or related product. The widget now uses `product_id` field to retrieve the related product to the current record, but the commit adds a new option to the widget `product_field` to pass the product field name in case it's different than `product_id`.

Task-4471379


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mohammadhossam,2025-01-31 13:15:41+00:00,[],2025-02-07 10:02:18+00:00,2025-02-07 09:55:32+00:00,https://github.com/odoo/odoo/pull/196001,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627316357, 'issue_id': 2823464590, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196001.png)](https://mergebot.odoo.com/odoo/odoo/pull/196001)', 'created_at': datetime.datetime(2025, 1, 31, 13, 15, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629365835, 'issue_id': 2823464590, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 12, 0, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629365874, 'issue_id': 2823464590, 'author': 'robodoo', 'body': '@mohammadhossam @amoyaux because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 2, 12, 0, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629378881, 'issue_id': 2823464590, 'author': 'robodoo', 'body': ""@mohammadhossam @amoyaux 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 2, 12, 35, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:15:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196001.png)](https://mergebot.odoo.com/odoo/odoo/pull/196001)

amoyaux on (2025-02-02 12:00:15 UTC): robodoo r+

robodoo on (2025-02-02 12:00:19 UTC): @mohammadhossam @amoyaux because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

robodoo on (2025-02-02 12:35:51 UTC): @mohammadhossam @amoyaux 'ci/template' failed on this reviewed PR.

"
2823433104,pull_request,open,,[FW][FIX] account_check_printing: specify which journal_id column to use,"This issue is not directly an Odoo issue, but it can create an issue if a custom module adds a field called journal_id to the account.payment model. There are no knock-on effects of this, because anyway the original developer should have specified the table. Additionally, it seems that there was a mild typo in the line before it that didn't affect anything. I see no harm in fixing it.

Description of the issue/feature this PR addresses:

Current behavior before PR:
No change in behavior.

Desired behavior after PR is merged:
No change in behavior.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195494",fw-bot,2025-01-31 13:04:46+00:00,[],2025-01-31 14:00:23+00:00,,https://github.com/odoo/odoo/pull/196000,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2627283968, 'issue_id': 2823433104, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196000.png)](https://mergebot.odoo.com/odoo/odoo/pull/196000)', 'created_at': datetime.datetime(2025, 1, 31, 13, 4, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627284053, 'issue_id': 2823433104, 'author': 'fw-bot', 'body': '@gabe-grinspan @RicGR98 cherrypicking of pull request odoo/odoo#195494 failed.\n\n* 93d93b40b86c78255526e8714956601e461427b2 <- on this commit\n* af192838003473cbc999feac1c8fdf825e43117f\n\nstdout:\n```\nAuto-merging addons/account_check_printing/models/account_payment.py\nCONFLICT (content): Merge conflict in addons/account_check_printing/models/account_payment.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 4, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:04:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196000.png)](https://mergebot.odoo.com/odoo/odoo/pull/196000)

fw-bot (Issue Creator) on (2025-01-31 13:04:49 UTC): @gabe-grinspan @RicGR98 cherrypicking of pull request odoo/odoo#195494 failed.

* 93d93b40b86c78255526e8714956601e461427b2 <- on this commit
* af192838003473cbc999feac1c8fdf825e43117f

stdout:
```
Auto-merging addons/account_check_printing/models/account_payment.py
CONFLICT (content): Merge conflict in addons/account_check_printing/models/account_payment.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823430511,pull_request,closed,,[FW][FIX] web: remove useless test steps,"Commit https://github.com/odoo/odoo/commit/98218629f88b619ca9c8013ecbffaa221d82531c introduced a test with two non-related steps (these steps were certainly copy-pasted from another test, in spreadsheet).
This commit removes these steps.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194832",fw-bot,2025-01-31 13:03:46+00:00,[],2025-01-31 16:22:33+00:00,2025-01-31 16:22:33+00:00,https://github.com/odoo/odoo/pull/195999,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627280618, 'issue_id': 2823430511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195999.png)](https://mergebot.odoo.com/odoo/odoo/pull/195999)', 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627280670, 'issue_id': 2823430511, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627406539, 'issue_id': 2823430511, 'author': 'fw-bot', 'body': '@pro-odoo @hokolomopo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 13, 52, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:03:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195999.png)](https://mergebot.odoo.com/odoo/odoo/pull/195999)

fw-bot (Issue Creator) on (2025-01-31 13:03:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 13:52:20 UTC): @pro-odoo @hokolomopo ci/runbot failed on this forward-port PR

"
2823429590,pull_request,closed,,[FW][FIX] analytic: do no re-create plan,"If Projects plan is removed we cannot let it be recreated in a module upgrade. If we allow so the new plan will create an unnecessary column in `account_analytic_line`. This would repeat each time the user upgrades the module in case the plan is removed before the upgrade. In principle this is not an issue, unless account_budget is also installed. In such case the new column for `budget_line` won't be created and that would cause errors.

Steps to reproduce
1. Install `account_budget`
2. Create a new Plan
3. Set the config parameter to the id of the new plan
4. Remove Projects plan
5. Upgrade analytic module
6. Try to create a new analytic account.

There is an error in the frontend
```
OwlError: The following error occurred in onWillStart: """"budget.line"".""x_plan3_id"" field is undefined.""
```

The problem is that since the new plan was created via an upgrade the post init hook of `account_budget` didn't run. Therefore the new column in `budget_line` was not created.

Notes:
* In step 4 above the column `x_plan2_id` in analytic line is left unused. This is not a problem per-se besides extra data dangling in the DB.
* We may argue that we should ensure that the column plan is created in a register_hook in `account_budget` but conceptually the relevant setting is the config parameter, recreating a plan that has no reason to exist could cause more issues down the line.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195778
Forward-Port-Of: odoo/odoo#195710",fw-bot,2025-01-31 13:03:26+00:00,[],2025-01-31 16:22:50+00:00,2025-01-31 16:22:50+00:00,https://github.com/odoo/odoo/pull/195998,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627279539, 'issue_id': 2823429590, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195998.png)](https://mergebot.odoo.com/odoo/odoo/pull/195998)', 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627279599, 'issue_id': 2823429590, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:03:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195998.png)](https://mergebot.odoo.com/odoo/odoo/pull/195998)

fw-bot (Issue Creator) on (2025-01-31 13:03:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823427827,pull_request,closed,,[FW][FIX] base: Fix a traceback with the partner merging wizard,"Description of the issue/feature this PR addresses:

Fix a traceback with the partner merging wizard.

Current behavior before PR:

Currently, the partner merging wizard doesn't support fields of type `reference`, because this type of field is never used by Odoo on model `res.partner`.
This will never happend in native Odoo, but some external addons can trigger this traceback.

Desired behavior after PR is merged:

The traceback is fixed and reference fields are treated like any others field types.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195432",fw-bot,2025-01-31 13:02:53+00:00,[],2025-02-03 13:06:20+00:00,2025-02-03 13:06:20+00:00,https://github.com/odoo/odoo/pull/195997,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627277960, 'issue_id': 2823427827, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195997.png)](https://mergebot.odoo.com/odoo/odoo/pull/195997)', 'created_at': datetime.datetime(2025, 1, 31, 13, 2, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627277988, 'issue_id': 2823427827, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 2, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 13:02:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195997.png)](https://mergebot.odoo.com/odoo/odoo/pull/195997)

fw-bot (Issue Creator) on (2025-01-31 13:02:55 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823410461,pull_request,closed,,[FW][FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945

Forward-Port-Of: odoo/odoo#195768
Forward-Port-Of: odoo/odoo#195554",fw-bot,2025-01-31 12:56:36+00:00,[],2025-02-03 11:43:38+00:00,2025-02-03 11:43:38+00:00,https://github.com/odoo/odoo/pull/195996,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627257204, 'issue_id': 2823410461, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195996.png)](https://mergebot.odoo.com/odoo/odoo/pull/195996)', 'created_at': datetime.datetime(2025, 1, 31, 12, 56, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627257233, 'issue_id': 2823410461, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 56, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627328801, 'issue_id': 2823410461, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 13, 21, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627369713, 'issue_id': 2823410461, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 13, 39, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729056, 'issue_id': 2823410461, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#195554 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630200339, 'issue_id': 2823410461, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 49, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:56:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195996.png)](https://mergebot.odoo.com/odoo/odoo/pull/195996)

fw-bot (Issue Creator) on (2025-01-31 12:56:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 13:21:37 UTC): @bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 13:39:06 UTC): @bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-02-03 02:01:25 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#195554 is awaiting action (not merged or closed).

bvr-odoo on (2025-02-03 07:49:37 UTC): @robodoo r+

"
2823407112,pull_request,open,,[FIX] mrp: delete stock moves when deleting MO,"Before Commit:
--------------------------
When deleting a Manufacturing Order (MO), its linked stock moves were not deleted with it.

With this Commit:
--------------------------
Now, deleting an MO also removes its related stock moves.

task-4532751",chha-odoo,2025-01-31 12:55:25+00:00,[],2025-02-03 10:05:44+00:00,,https://github.com/odoo/odoo/pull/195995,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627253688, 'issue_id': 2823407112, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195995.png)](https://mergebot.odoo.com/odoo/odoo/pull/195995)', 'created_at': datetime.datetime(2025, 1, 31, 12, 55, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:55:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195995.png)](https://mergebot.odoo.com/odoo/odoo/pull/195995)

"
2823400167,pull_request,closed,,"[FIX] base, *: allow access to restricted attachments with token","\* = web, point_of_sale, pos_self_order

A restricted attachment is an attachment linked to a record the current user cannot access, or linked to no record at all. The `check_access` methods allows access to such attachments, but the `check` and `_search` override methods forbid it.

By verifying `check_access` first (and if it passes never checking `access_token`), users might end up being blocked later in the flow even though they had a valid token.

Ideally `check_access` should be properly implemented for attachment, but it is out of the scope of this fix.

The fix is rather simple, call `_can_return_content` (which for attachment checks `access_token` and calls `check`) before `check_access`. The order is rather arbitrary. `_can_return_content` used to be slower and therefore called only when necessary, but it is no longer slow so it can be called first.

The opportunity is taken to clean the `pos` overrides:
- better check field name first before fetching the record
- use sudo when checking if access is allowed (otherwise it would raise for non-accessible records rather than returning False)

Follow-up of https://github.com/odoo/odoo/pull/186003 (which broke the access) and https://github.com/odoo/odoo/pull/193407 (which fixed performance and allowed to inverse the call order of the checks).
",seb-odoo,2025-01-31 12:53:17+00:00,['seb-odoo'],2025-02-05 04:43:51+00:00,2025-02-05 04:43:50+00:00,https://github.com/odoo/odoo/pull/195994,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2627246673, 'issue_id': 2823400167, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195994.png)](https://mergebot.odoo.com/odoo/odoo/pull/195994)', 'created_at': datetime.datetime(2025, 1, 31, 12, 53, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:53:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195994.png)](https://mergebot.odoo.com/odoo/odoo/pull/195994)

"
2823394201,pull_request,closed,,[FIX] pos_hr: fix traceback when opening cashier dialog,"
Description of the issue/feature this PR addresses:
- Fixed an issue where changing the cashier with no available cashiers caused a traceback due to an undefined `this.dialog` Replaced it with the correct `dialog` reference.

## step to reproduce
- install `point of sale` 
- setup a new point_of_sale , as shown

![pos config](https://github.com/user-attachments/assets/9a700c6d-2fe9-4008-85b2-13b917f44dd4)

- start session in that pos.
- try to change the cashier

Current behavior before PR:
![pos change cashier](https://github.com/user-attachments/assets/148d7ed8-7361-4a83-99dc-89de98e3358d)


Desired behavior after PR is merged:
![expected behaviour](https://github.com/user-attachments/assets/01c74270-390e-4f51-a04e-396fbab9c8b8)




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aksi-odoo,2025-01-31 12:51:36+00:00,[],2025-02-03 11:42:18+00:00,2025-02-03 11:42:18+00:00,https://github.com/odoo/odoo/pull/195993,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627239888, 'issue_id': 2823394201, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195993.png)](https://mergebot.odoo.com/odoo/odoo/pull/195993)', 'created_at': datetime.datetime(2025, 1, 31, 12, 51, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628645950, 'issue_id': 2823394201, 'author': 'robodoo', 'body': '@aksi-odoo @davidmonnom staging failed: ci/runbot on c03ab1bb5683cfd85c6fea0a5559710075b98023 (view more at https://runbot.odoo.com/runbot/build/74321049)', 'created_at': datetime.datetime(2025, 2, 1, 1, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630138456, 'issue_id': 2823394201, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 10, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:51:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195993.png)](https://mergebot.odoo.com/odoo/odoo/pull/195993)

robodoo on (2025-02-01 01:01:46 UTC): @aksi-odoo @davidmonnom staging failed: ci/runbot on c03ab1bb5683cfd85c6fea0a5559710075b98023 (view more at https://runbot.odoo.com/runbot/build/74321049)

robodoo on (2025-02-03 07:10:03 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2823329192,pull_request,closed,,[FW][FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.

Forward-Port-Of: odoo/odoo#195793
Forward-Port-Of: odoo/odoo#195637",fw-bot,2025-01-31 12:34:03+00:00,[],2025-01-31 16:22:20+00:00,2025-01-31 16:22:20+00:00,https://github.com/odoo/odoo/pull/195991,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627159256, 'issue_id': 2823329192, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195991.png)](https://mergebot.odoo.com/odoo/odoo/pull/195991)', 'created_at': datetime.datetime(2025, 1, 31, 12, 34, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627159292, 'issue_id': 2823329192, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 34, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:34:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195991.png)](https://mergebot.odoo.com/odoo/odoo/pull/195991)

fw-bot (Issue Creator) on (2025-01-31 12:34:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823314732,pull_request,closed,,[FW][FIX] web: respect X2many field context when order is present,"Issue:
If we have a X2many that allows to have inactive records (with `context={'active_test': False}` on the field definition) and we specify a specific order for this X2many in this view, web_read won't respect the context of the field and will filter out inactive records.

This is because to apply a specific order in the web_read, we use search(), which will filter out inactive records from the `corecords` recordset.

Fix:
We fix this by forcing active_test=False before calling search and reapplying the previous context immediately after.

Closes #194311

Forward-Port-Of: odoo/odoo#195646
Forward-Port-Of: odoo/odoo#194379",fw-bot,2025-01-31 12:30:02+00:00,[],2025-02-04 04:25:53+00:00,2025-02-04 04:25:53+00:00,https://github.com/odoo/odoo/pull/195990,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627134222, 'issue_id': 2823314732, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195990.png)](https://mergebot.odoo.com/odoo/odoo/pull/195990)', 'created_at': datetime.datetime(2025, 1, 31, 12, 30, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627134302, 'issue_id': 2823314732, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 30, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627242917, 'issue_id': 2823314732, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 12, 52, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685042, 'issue_id': 2823314732, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201747, 'issue_id': 2823314732, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730200, 'issue_id': 2823314732, 'author': 'fw-bot', 'body': '@aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630478284, 'issue_id': 2823314732, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 0, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630479299, 'issue_id': 2823314732, 'author': 'robodoo', 'body': '@ryv-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 10, 0, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:30:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195990.png)](https://mergebot.odoo.com/odoo/odoo/pull/195990)

fw-bot (Issue Creator) on (2025-01-31 12:30:04 UTC): @aab-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 12:52:20 UTC): @aab-odoo @ryv-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-01 02:01:17 UTC): @aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:30 UTC): @aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:23 UTC): @aab-odoo @ryv-odoo this forward port of odoo/odoo#194379 is awaiting action (not merged or closed).

ryv-odoo on (2025-02-03 10:00:35 UTC): @robodoo r+

robodoo on (2025-02-03 10:00:59 UTC): @ryv-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2823313519,pull_request,closed,,[FW][FIX] stock_account: avoid traceback when processing valuation lot,"Steps to reproduce the bug:
- Create a storable product “P1”:
    - Product category: “AVCO”
    - BoM:
        - Type: Kit
        - Components:
            - C1: Tracked by lot and valuated by lot
            - C2
- Create a purchase order:
    - 1 unit of P1 → Price: $10
- Confirm the PO

- Go to the reception:
    - Set a new lot (Lot_1) for C1
    - Validate the reception

Problem:
A traceback is triggered:
```
new_std_price = move_cost[lot]
~~~~~~~~~^^^^^ KeyError: stock.lot(19,)""
```

When validating the picking, the moves will first be validated, and then
the product price will be updated before the move is marked as done:
https://github.com/odoo/odoo/blob/168f4d75ef724ee99ffaf7884730facd8ed936bb/addons/stock_account/models/stock_move.py#L387-L388

The move cost is retrieved using the _get_price_unit function:
https://github.com/odoo/odoo/commit/2d933b83613ad52d76ab457201adecac6fcf184b#diff-ad6229e976ce0bd1592e805b88e9813ac4e3f6fb989d3dfb8dfb8b70af03cd58R403

However, since move.product_id is different from move.purchase_line,
the parent product will be treated as a kit, and the unit price of the
kit product will be used instead: https://github.com/odoo/odoo/blob/17.0/addons/purchase_mrp/models/stock_move.py#L19
Based on this, the unit price for each component is calculated using
the cost_share and the bom_lines quantities. This is then stored in a
dictionary with an empty record of the ```”stock.lot”``` model:

When attempting to access the dictionary using the lot key from the move,
no result is returned, leading to an error.
https://github.com/odoo/odoo/blob/2d933b83613ad52d76ab457201adecac6fcf184b/addons/stock_account/models/stock_move.py#L425

Solution:
The process should account for the fact that the move product is a
component of a kit. Therefore, the price should be directly retrieved
from the dictionary without requiring a key.

opw-4434390

Forward-Port-Of: odoo/odoo#195800
Forward-Port-Of: odoo/odoo#195303",fw-bot,2025-01-31 12:29:42+00:00,[],2025-01-31 16:30:19+00:00,2025-01-31 16:30:19+00:00,https://github.com/odoo/odoo/pull/195989,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627132679, 'issue_id': 2823313519, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195989.png)](https://mergebot.odoo.com/odoo/odoo/pull/195989)', 'created_at': datetime.datetime(2025, 1, 31, 12, 29, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627132711, 'issue_id': 2823313519, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 29, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627518340, 'issue_id': 2823313519, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 43, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:29:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195989.png)](https://mergebot.odoo.com/odoo/odoo/pull/195989)

fw-bot (Issue Creator) on (2025-01-31 12:29:51 UTC): @DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-01-31 14:43:25 UTC): robodoo r+

"
2823277659,pull_request,closed,,[FW][FIX] account: fix traceback when registering payment with no invoice date,"Currently, a traceback occurs when there is no invoice date and tries to register a payment
from actions.

To reproduce this issue:

1) Install accounting
2) Create a customer invoice with payment term having an early discount 
3) Make sure the invoice date to be empty
4) Add a line and from actions click pay

Error:-
```
TypeError: unsupported operand type(s) for +: 'bool' and 'relativedelta'
```

In account move, `invoice_date` is not required. So when the user tries to 
register a payment with payment term having an early discount and no invoice date, 
It leads to the above traceback from below line.

https://github.com/odoo/odoo/blob/ee48df7f33a3aeb1798bf5852be8c6d26a7db7fd/addons/account/models/account_payment_term.py#L256-L258

Indeed, a date is required to get an early discount date. 
so without date, we should not execute the `_get_last_discount_date` method.

In some other locations, it was managed in a similar manner as indicated in the below line.

https://github.com/odoo/odoo/blob/ee48df7f33a3aeb1798bf5852be8c6d26a7db7fd/addons/account/models/account_payment_term.py#L262-L264

We can resolve this issue by adding an additional check of invoice_date, 
Which makes the code more robust.

sentry-6149404219

Forward-Port-Of: odoo/odoo#190801",fw-bot,2025-01-31 12:19:05+00:00,[],2025-01-31 15:13:59+00:00,2025-01-31 15:13:59+00:00,https://github.com/odoo/odoo/pull/195988,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627076746, 'issue_id': 2823277659, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195988.png)](https://mergebot.odoo.com/odoo/odoo/pull/195988)', 'created_at': datetime.datetime(2025, 1, 31, 12, 19, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627076760, 'issue_id': 2823277659, 'author': 'fw-bot', 'body': '@alsh-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195796\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 19, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627078710, 'issue_id': 2823277659, 'author': 'alsh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 20, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:19:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195988.png)](https://mergebot.odoo.com/odoo/odoo/pull/195988)

fw-bot (Issue Creator) on (2025-01-31 12:19:06 UTC): @alsh-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195796

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alsh-odoo on (2025-01-31 12:20:12 UTC): @robodoo r+

"
2823271163,pull_request,closed,,[FIX] mail: collapse call participants preserve image aspect ratio,"Avatar stack of call participants in discuss sidebar lacked preserving aspect ratio of image, so image may be squished.

This commit fixes the issue with `.o_object_fit_cover` used in all showings of avatars in discuss.

Before
![before](https://github.com/user-attachments/assets/25870f36-8cc4-458a-bde3-de7b8fc7d1b3)

After
![after](https://github.com/user-attachments/assets/d784644d-6fda-4dca-8890-780f37ecdbba)

",alexkuhn,2025-01-31 12:16:40+00:00,[],2025-01-31 15:55:38+00:00,2025-01-31 15:10:58+00:00,https://github.com/odoo/odoo/pull/195987,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627072358, 'issue_id': 2823271163, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195987.png)](https://mergebot.odoo.com/odoo/odoo/pull/195987)', 'created_at': datetime.datetime(2025, 1, 31, 12, 16, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627189416, 'issue_id': 2823271163, 'author': 'robodoo', 'body': ""@alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 12, 39, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:16:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195987.png)](https://mergebot.odoo.com/odoo/odoo/pull/195987)

robodoo on (2025-01-31 12:39:25 UTC): @alexkuhn @tsm-odoo 'ci/runbot' failed on this reviewed PR.

"
2823229479,pull_request,closed,,[FW][FIX] l10n_tr: update taxes,"This commit will update some taxes:
- Update the purchase tax accounts
- Add new 0% EX tax
- Delete EX RS 20% & EX RS -20%

In the tax report:
- Change the name of the report
- Add a new record

task: 4244715




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195131
Forward-Port-Of: odoo/odoo#185947",fw-bot,2025-01-31 12:01:27+00:00,[],2025-02-05 09:22:33+00:00,2025-02-05 09:22:33+00:00,https://github.com/odoo/odoo/pull/195986,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2627043374, 'issue_id': 2823229479, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195986.png)](https://mergebot.odoo.com/odoo/odoo/pull/195986)', 'created_at': datetime.datetime(2025, 1, 31, 12, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627043443, 'issue_id': 2823229479, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#185947 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_tr/data/account_tax_report_data.xml\nCONFLICT (content): Merge conflict in addons/l10n_tr/data/account_tax_report_data.xml\nAuto-merging addons/l10n_tr/i18n/l10n_tr.pot\nCONFLICT (content): Merge conflict in addons/l10n_tr/i18n/l10n_tr.pot\nAuto-merging addons/l10n_tr/i18n/tr.po\nCONFLICT (content): Merge conflict in addons/l10n_tr/i18n/tr.po\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685550, 'issue_id': 2823229479, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202145, 'issue_id': 2823229479, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730993, 'issue_id': 2823229479, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635878818, 'issue_id': 2823229479, 'author': 'malb-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 7, 19, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 12:01:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195986.png)](https://mergebot.odoo.com/odoo/odoo/pull/195986)

fw-bot (Issue Creator) on (2025-01-31 12:01:31 UTC): @malb-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#185947 failed.

stdout:
```
Auto-merging addons/l10n_tr/data/account_tax_report_data.xml
CONFLICT (content): Merge conflict in addons/l10n_tr/data/account_tax_report_data.xml
Auto-merging addons/l10n_tr/i18n/l10n_tr.pot
CONFLICT (content): Merge conflict in addons/l10n_tr/i18n/l10n_tr.pot
Auto-merging addons/l10n_tr/i18n/tr.po
CONFLICT (content): Merge conflict in addons/l10n_tr/i18n/tr.po

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:47 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:11 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:15 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

malb-odoo on (2025-02-05 07:19:17 UTC): @robodoo r+

"
2823203750,pull_request,closed,,[FW][FIX] spreadsheet: don't reload with global filter,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195791",fw-bot,2025-01-31 11:51:36+00:00,[],2025-01-31 15:13:45+00:00,2025-01-31 15:13:44+00:00,https://github.com/odoo/odoo/pull/195985,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627026218, 'issue_id': 2823203750, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195985.png)](https://mergebot.odoo.com/odoo/odoo/pull/195985)', 'created_at': datetime.datetime(2025, 1, 31, 11, 51, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627026235, 'issue_id': 2823203750, 'author': 'fw-bot', 'body': '@LucasLefevre @pro-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195966\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 51, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627049032, 'issue_id': 2823203750, 'author': 'pro-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 4, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:51:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195985.png)](https://mergebot.odoo.com/odoo/odoo/pull/195985)

fw-bot (Issue Creator) on (2025-01-31 11:51:38 UTC): @LucasLefevre @pro-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195966

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pro-odoo on (2025-01-31 12:04:29 UTC): robodoo r+

"
2823198527,pull_request,closed,,[FW][FIX] pos_restaurant: creation of floor plan with create button,"Before this commit:
==========
- To create a new floor plan, the user must click the plus icon on the floor plan's create button; clicking anywhere else on the floor plan's create button was not working.

After this commit:
==========
- Users can click anywhere on the floor plan's create button to create a floor plan.

task-4517219

Forward-Port-Of: odoo/odoo#195544",fw-bot,2025-01-31 11:49:47+00:00,[],2025-02-03 08:26:52+00:00,2025-02-03 08:26:52+00:00,https://github.com/odoo/odoo/pull/195984,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2627022079, 'issue_id': 2823198527, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195984.png)](https://mergebot.odoo.com/odoo/odoo/pull/195984)', 'created_at': datetime.datetime(2025, 1, 31, 11, 49, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627022124, 'issue_id': 2823198527, 'author': 'fw-bot', 'body': '@paan-odoo @caburj this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195967\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 49, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629864939, 'issue_id': 2823198527, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 4, 12, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629979434, 'issue_id': 2823198527, 'author': 'robodoo', 'body': '@paan-odoo @caburj staging failed: ci/l10n on 99bc97724683b12df82ecb339fc0329f9c2bdbe1 (view more at https://runbot.odoo.com/runbot/build/74381529)', 'created_at': datetime.datetime(2025, 2, 3, 5, 9, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630118537, 'issue_id': 2823198527, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 2, 3, 6, 57, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:49:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195984.png)](https://mergebot.odoo.com/odoo/odoo/pull/195984)

fw-bot (Issue Creator) on (2025-01-31 11:49:49 UTC): @paan-odoo @caburj this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195967

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paan-odoo on (2025-02-03 04:12:17 UTC): @robodoo r+

robodoo on (2025-02-03 05:09:29 UTC): @paan-odoo @caburj staging failed: ci/l10n on 99bc97724683b12df82ecb339fc0329f9c2bdbe1 (view more at https://runbot.odoo.com/runbot/build/74381529)

d-fence on (2025-02-03 06:57:07 UTC): robodoo retry
(failing test deactivated)

"
2823187543,pull_request,closed,,[FW][FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945

Forward-Port-Of: odoo/odoo#195768
Forward-Port-Of: odoo/odoo#195554",fw-bot,2025-01-31 11:45:44+00:00,[],2025-02-03 09:40:16+00:00,2025-02-03 09:40:16+00:00,https://github.com/odoo/odoo/pull/195983,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627013769, 'issue_id': 2823187543, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195983.png)](https://mergebot.odoo.com/odoo/odoo/pull/195983)', 'created_at': datetime.datetime(2025, 1, 31, 11, 45, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627013784, 'issue_id': 2823187543, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 45, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627369841, 'issue_id': 2823187543, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo child PR odoo/odoo#195996 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 31, 13, 39, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729087, 'issue_id': 2823187543, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this forward port of odoo/odoo#195554 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630199640, 'issue_id': 2823187543, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 49, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:45:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195983.png)](https://mergebot.odoo.com/odoo/odoo/pull/195983)

fw-bot (Issue Creator) on (2025-01-31 11:45:46 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 13:39:07 UTC): @bvr-odoo @qsm-odoo child PR odoo/odoo#195996 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

fw-bot (Issue Creator) on (2025-02-03 02:01:26 UTC): @bvr-odoo @qsm-odoo this forward port of odoo/odoo#195554 is awaiting action (not merged or closed).

bvr-odoo on (2025-02-03 07:49:10 UTC): @robodoo r+

"
2823185229,pull_request,closed,,[FW][FIX] account_check_printing: specify which journal_id column to use,"This issue is not directly an Odoo issue, but it can create an issue if a custom module adds a field called journal_id to the account.payment model. There are no knock-on effects of this, because anyway the original developer should have specified the table. Additionally, it seems that there was a mild typo in the line before it that didn't affect anything. I see no harm in fixing it.

Description of the issue/feature this PR addresses:

Current behavior before PR:
No change in behavior.

Desired behavior after PR is merged:
No change in behavior.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195494",fw-bot,2025-01-31 11:45:00+00:00,[],2025-01-31 14:39:03+00:00,2025-01-31 14:39:03+00:00,https://github.com/odoo/odoo/pull/195982,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627012549, 'issue_id': 2823185229, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195982.png)](https://mergebot.odoo.com/odoo/odoo/pull/195982)', 'created_at': datetime.datetime(2025, 1, 31, 11, 45, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627012569, 'issue_id': 2823185229, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 45, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627283993, 'issue_id': 2823185229, 'author': 'fw-bot', 'body': '@gabe-grinspan @RicGR98 the next pull request (odoo/odoo#196000) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 13, 4, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627312831, 'issue_id': 2823185229, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 13, 14, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:45:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195982.png)](https://mergebot.odoo.com/odoo/odoo/pull/195982)

fw-bot (Issue Creator) on (2025-01-31 11:45:02 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 13:04:48 UTC): @gabe-grinspan @RicGR98 the next pull request (odoo/odoo#196000) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-01-31 13:14:15 UTC): @robodoo r+

"
2823184940,pull_request,closed,,[FIX] l10n_es_edi_tbai: allow billing user to send edi cancels,"Before this patch, if a billing user (without any administration settings level) tried to cancel a posted invoice and clicked on the ""Process now"" button, they got an exception.

In particular, it happened because those users shouldn't have access to stuff such as the certificate, its password or the contents of the sent EDI attachment.

However, they should be able to post the documents using whatever configuration the sysadmin saved. Thus, I use some `sudo()` calls and add a test to assert it won't break anymore.

**How to test functionally:**
1. Configure a Spanish company.
2. Install `l10n_es_edi_tbai` and configure it.
3. Switch to a user that only has ""Invoicing / Billing"" permissions.
4. Post an invoice.
5. Send it to tbai.
6. Request EDI cancellation.
7. Send it to tbai.
8. It should work now.

@moduon MT-8894 OPW-4535149


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",yajo,2025-01-31 11:44:50+00:00,[],2025-01-31 19:53:26+00:00,2025-01-31 19:53:26+00:00,https://github.com/odoo/odoo/pull/195981,[],"[{'comment_id': 2627012343, 'issue_id': 2823184940, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195981.png)](https://mergebot.odoo.com/odoo/odoo/pull/195981)', 'created_at': datetime.datetime(2025, 1, 31, 11, 44, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628020064, 'issue_id': 2823184940, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 18, 15, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:44:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195981.png)](https://mergebot.odoo.com/odoo/odoo/pull/195981)

jco-odoo on (2025-01-31 18:15:39 UTC): @robodoo r+

"
2823184053,pull_request,closed,,[FW][FIX] base: Fix a traceback with the partner merging wizard,"Description of the issue/feature this PR addresses:

Fix a traceback with the partner merging wizard.

Current behavior before PR:

Currently, the partner merging wizard doesn't support fields of type `reference`, because this type of field is never used by Odoo on model `res.partner`.
This will never happend in native Odoo, but some external addons can trigger this traceback.

Desired behavior after PR is merged:

The traceback is fixed and reference fields are treated like any others field types.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195432",fw-bot,2025-01-31 11:44:30+00:00,[],2025-02-03 12:14:16+00:00,2025-02-03 12:14:16+00:00,https://github.com/odoo/odoo/pull/195980,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2627012251, 'issue_id': 2823184053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195980.png)](https://mergebot.odoo.com/odoo/odoo/pull/195980)', 'created_at': datetime.datetime(2025, 1, 31, 11, 44, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627012272, 'issue_id': 2823184053, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 44, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:44:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195980.png)](https://mergebot.odoo.com/odoo/odoo/pull/195980)

fw-bot (Issue Creator) on (2025-01-31 11:44:53 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823182535,pull_request,open,,[FIX] web_editor: removing format doesn't remove font-size,"**Behavior before PR:**

When removing format using removeFormat button, font-size style is not getting removed from formatted text. This happens because in `removeFormat` method `editor.document.execCommand('removeFormat')` fails to remove styles applied through classes. To remove these styles, font-size classes should be removed.

**Behavior after PR is merged:**

Now font-size related classes will be removed when removing format and font-size style will be removed from formatted text.

task-4526026




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adsa-odoo,2025-01-31 11:44:03+00:00,[],2025-02-07 12:01:31+00:00,,https://github.com/odoo/odoo/pull/195979,"[('RD', 'research & development, internal work')]","[{'comment_id': 2627010816, 'issue_id': 2823182535, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195979.png)](https://mergebot.odoo.com/odoo/odoo/pull/195979)', 'created_at': datetime.datetime(2025, 1, 31, 11, 44, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:44:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195979.png)](https://mergebot.odoo.com/odoo/odoo/pull/195979)

"
2823119634,pull_request,closed,,[FIX] mail: do not show canned response button to visitors,"The ""insert a canned response"" button is displayed when the user has access to canned responses. It is the case if the user created the canned response or if he is a member of once of the authorized groups. However, it makes no sense to display canned response for public users. This PR ensures canned responses are only available to internal users.
",tsm-odoo,2025-01-31 11:20:10+00:00,[],2025-01-31 13:59:29+00:00,2025-01-31 13:38:14+00:00,https://github.com/odoo/odoo/pull/195977,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626969636, 'issue_id': 2823119634, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195977.png)](https://mergebot.odoo.com/odoo/odoo/pull/195977)', 'created_at': datetime.datetime(2025, 1, 31, 11, 20, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:20:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195977.png)](https://mergebot.odoo.com/odoo/odoo/pull/195977)

"
2823105197,pull_request,closed,,[FW][IMP] mail: quick reaction opens full picker on char keypress,"""Add reaction"" message action shows the quick reaction menu, which shows a nice listing of the most frequently used emoji.

Sometimes the desired emoji is not there, and it's clunky to click on ""+"" and then search.

This commit intercepts keydown that are not used for naviation in the quick reaction menu, so that it automatically opens the full emoji picker. That way, we can quickly search for the desired emoji for the message reaction

![Jan-30-2025 15-35-36](https://github.com/user-attachments/assets/ab92868e-5e89-4b65-ad98-0c5ee1a1c1eb)

Forward-Port-Of: odoo/odoo#195785",fw-bot,2025-01-31 11:15:01+00:00,[],2025-01-31 15:56:34+00:00,2025-01-31 15:13:12+00:00,https://github.com/odoo/odoo/pull/195976,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2626960036, 'issue_id': 2823105197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195976.png)](https://mergebot.odoo.com/odoo/odoo/pull/195976)', 'created_at': datetime.datetime(2025, 1, 31, 11, 15, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626960048, 'issue_id': 2823105197, 'author': 'fw-bot', 'body': '@alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 15, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626982833, 'issue_id': 2823105197, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 11, 27, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:15:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195976.png)](https://mergebot.odoo.com/odoo/odoo/pull/195976)

fw-bot (Issue Creator) on (2025-01-31 11:15:03 UTC): @alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-31 11:27:40 UTC): @robodoo r+

"
2823104557,pull_request,closed,,[FW][IMP] event: remove kiosk modal,"**Specifications:**
- remove modal when user click on registration desk and directly open desk view.
- Add an Install button in desk view

**After this PR:**
Modal will be removed while opening kiosk mode in event.

Task-4161336

Forward-Port-Of: odoo/odoo#195802
Forward-Port-Of: odoo/odoo#182299",fw-bot,2025-01-31 11:14:40+00:00,[],2025-02-07 12:20:07+00:00,2025-02-07 12:20:07+00:00,https://github.com/odoo/odoo/pull/195975,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2626959632, 'issue_id': 2823104557, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195975.png)](https://mergebot.odoo.com/odoo/odoo/pull/195975)', 'created_at': datetime.datetime(2025, 1, 31, 11, 14, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626959650, 'issue_id': 2823104557, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 14, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626970978, 'issue_id': 2823104557, 'author': 'nihp-odoo', 'body': 'Hello again @tde-banana-odoo :face_with_peeking_eye: \r\nShould we remove that unused template too (as we are in master)?\r\nThanks :blush:', 'created_at': datetime.datetime(2025, 1, 31, 11, 20, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627281288, 'issue_id': 2823104557, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 13, 3, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629731105, 'issue_id': 2823104557, 'author': 'fw-bot', 'body': '@nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#182299 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639214509, 'issue_id': 2823104557, 'author': 'nihp-odoo', 'body': 'Helloo @tde-banana-odoo \r\nCan I get a review on this one! I just wanted to be extra sure...\r\nThanks :smile:', 'created_at': datetime.datetime(2025, 2, 6, 9, 3, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642109785, 'issue_id': 2823104557, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 13, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642111666, 'issue_id': 2823104557, 'author': 'tde-banana-odoo', 'body': '@nihp-odoo yes it is ok, in master we can avoid the new template, remove unused actions, ... thanks !', 'created_at': datetime.datetime(2025, 2, 7, 7, 14, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:14:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195975.png)](https://mergebot.odoo.com/odoo/odoo/pull/195975)

fw-bot (Issue Creator) on (2025-01-31 11:14:50 UTC): @nihp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nihp-odoo on (2025-01-31 11:20:58 UTC): Hello again @tde-banana-odoo :face_with_peeking_eye: 
Should we remove that unused template too (as we are in master)?
Thanks :blush:

fw-bot (Issue Creator) on (2025-01-31 13:03:56 UTC): @nihp-odoo @tde-banana-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

fw-bot (Issue Creator) on (2025-02-03 02:03:23 UTC): @nihp-odoo @tde-banana-odoo this forward port of odoo/odoo#182299 is awaiting action (not merged or closed).

nihp-odoo on (2025-02-06 09:03:55 UTC): Helloo @tde-banana-odoo 
Can I get a review on this one! I just wanted to be extra sure...
Thanks :smile:

tde-banana-odoo on (2025-02-07 07:13:29 UTC): @robodoo r+

tde-banana-odoo on (2025-02-07 07:14:53 UTC): @nihp-odoo yes it is ok, in master we can avoid the new template, remove unused actions, ... thanks !

"
2823103670,pull_request,closed,,[FW][FIX] website_sale_loyalty: use float_compare to compare floats,"Versions
--------
- 16.0

Backport of https://github.com/odoo/odoo/pull/195266

Issue
-----
Use `float_compare` to compare floating point amounts on reward validation.

Forward-Port-Of: odoo/odoo#195793
Forward-Port-Of: odoo/odoo#195637",fw-bot,2025-01-31 11:14:22+00:00,[],2025-01-31 19:07:37+00:00,2025-01-31 19:07:37+00:00,https://github.com/odoo/odoo/pull/195974,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626959581, 'issue_id': 2823103670, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195974.png)](https://mergebot.odoo.com/odoo/odoo/pull/195974)', 'created_at': datetime.datetime(2025, 1, 31, 11, 14, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626959599, 'issue_id': 2823103670, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 14, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627022236, 'issue_id': 2823103670, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 11, 49, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:14:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195974.png)](https://mergebot.odoo.com/odoo/odoo/pull/195974)

fw-bot (Issue Creator) on (2025-01-31 11:14:48 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 11:49:51 UTC): @lvsz @Demesmaeker ci/runbot failed on this forward-port PR

"
2823071322,pull_request,closed,,[FIX] *: tours,"In this commit, we fix multiple tours on step that can cause non deterministic behaviors by adding additionnal steps to ensure tour is well on the way to taking the right path.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pipu-odoo,2025-01-31 11:03:13+00:00,[],2025-01-31 19:07:36+00:00,2025-01-31 19:07:36+00:00,https://github.com/odoo/odoo/pull/195973,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626938201, 'issue_id': 2823071322, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195973.png)](https://mergebot.odoo.com/odoo/odoo/pull/195973)', 'created_at': datetime.datetime(2025, 1, 31, 11, 3, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627395479, 'issue_id': 2823071322, 'author': 'Iucapad', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 13, 47, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:03:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195973.png)](https://mergebot.odoo.com/odoo/odoo/pull/195973)

Iucapad on (2025-01-31 13:47:09 UTC): @robodoo r+

"
2823069581,pull_request,closed,,[FW][FIX] web: Prevent users from using json field in the field_selector,"Steps:
    - Install `purchase` or any other model with analytic_mixin
    - Install `analytic`
    - Install `web_studio`
    - Enable analytic in configuration
    - Add a new approval on 'button_confirm' in `purchase.order`
    - Set a domain with analytic_distribution e.g
    -   - e.g. (""order_line.analytic_distribution"", ""="", ""Administrative"")
    - Click on Refresh button
    - The refresh button preview shows x records
    - Create a new purchase.order
    - Add analytic on optional column
    - Add a new product with analytic_distribution Administrative
    - Try to use `button_confirm`
    - Approval is not working while the refresh shows record is available

The json fields, in particular the `analytic_distribution` fields, are not designed to be searched via a `filtered_domain` (which is what studio approval uses to check whether or not a button can be used by the current user), this is currently a technical limitation.

To avoid any future problems, this commit prevents users from using a json field to search on them, since this is not supported.

opw-4416646

Forward-Port-Of: odoo/odoo#195916
Forward-Port-Of: odoo/odoo#195765",fw-bot,2025-01-31 11:02:41+00:00,[],2025-02-03 11:42:20+00:00,2025-02-03 11:42:20+00:00,https://github.com/odoo/odoo/pull/195972,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626937093, 'issue_id': 2823069581, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195972.png)](https://mergebot.odoo.com/odoo/odoo/pull/195972)', 'created_at': datetime.datetime(2025, 1, 31, 11, 2, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626937167, 'issue_id': 2823069581, 'author': 'fw-bot', 'body': '@abz-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#195765 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/core/model_field_selector/model_field_selector_popover.js\nCONFLICT (content): Merge conflict in addons/web/static/src/core/model_field_selector/model_field_selector_popover.js\nAuto-merging addons/web/static/tests/core/model_field_selector.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728831, 'issue_id': 2823069581, 'author': 'fw-bot', 'body': '@abz-odoo @polymorphe57 this forward port of odoo/odoo#195765 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630155919, 'issue_id': 2823069581, 'author': 'abz-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 21, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 11:02:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195972.png)](https://mergebot.odoo.com/odoo/odoo/pull/195972)

fw-bot (Issue Creator) on (2025-01-31 11:02:45 UTC): @abz-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#195765 failed.

stdout:
```
Auto-merging addons/web/static/src/core/model_field_selector/model_field_selector_popover.js
CONFLICT (content): Merge conflict in addons/web/static/src/core/model_field_selector/model_field_selector_popover.js
Auto-merging addons/web/static/tests/core/model_field_selector.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:12 UTC): @abz-odoo @polymorphe57 this forward port of odoo/odoo#195765 is awaiting action (not merged or closed).

abz-odoo on (2025-02-03 07:21:33 UTC): @robodoo r+

"
2823034752,pull_request,closed,,[IMP] point_of_sale: partner exact match search,"Before this commit, we was using fuzzy search which was creating a score for each partner and then sorting the partners based on that score. This was causing error in search result.

Now we use exact match search which will search for the exact match of the search string in the partner name, phone, mobile, email, street, city, state, country, zip, vat, and barcode.

taskId: 4517586


",davidmonnom,2025-01-31 10:46:20+00:00,[],2025-02-05 02:45:46+00:00,2025-02-05 02:45:46+00:00,https://github.com/odoo/odoo/pull/195971,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626904890, 'issue_id': 2823034752, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195971.png)](https://mergebot.odoo.com/odoo/odoo/pull/195971)', 'created_at': datetime.datetime(2025, 1, 31, 10, 46, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:46:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195971.png)](https://mergebot.odoo.com/odoo/odoo/pull/195971)

"
2823020153,pull_request,open,,[FW][FIX] stock_account: prevent lot valuation if quant without lot,"When Lot valuation is enabled on a product, it is not longer possible to create a move without lot. Hence, if you had a valued quantity without lot before enabling lot valuation, it was impossible to update or empty this quantity in any way. Leaving you with an unusable StockQuant. Furthermore, when enabling the lot valuation, no layer was created for the quants without lot, creating a permanent discrepancy between the stock and valuation. This discrepancy was still present even after disabling the lot valuation.

To fix this issue, we do not allow the lot valuation if there is a quant without lot in a valued location.
![image](https://github.com/user-attachments/assets/71dd7d28-9bba-4215-af2c-96daa8825825)


+ Fix negative lot error message

PREV:
![image](https://github.com/user-attachments/assets/42c7e297-8b1d-4a3c-acae-aed1954001e1)


NOW:
![image](https://github.com/user-attachments/assets/aa03b99a-a8b9-48e0-b7b8-a3d9286c4194)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194001",fw-bot,2025-01-31 10:38:59+00:00,[],2025-01-31 11:00:13+00:00,,https://github.com/odoo/odoo/pull/195970,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626889741, 'issue_id': 2823020153, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195970.png)](https://mergebot.odoo.com/odoo/odoo/pull/195970)', 'created_at': datetime.datetime(2025, 1, 31, 10, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626889762, 'issue_id': 2823020153, 'author': 'fw-bot', 'body': '@DavidFesquet @Whenrow cherrypicking of pull request odoo/odoo#194001 failed.\n\nstdout:\n```\nAuto-merging addons/stock_account/i18n/stock_account.pot\nCONFLICT (content): Merge conflict in addons/stock_account/i18n/stock_account.pot\nAuto-merging addons/stock_account/models/product.py\nAuto-merging addons/stock_account/tests/test_lot_valuation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 10, 39, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:39:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195970.png)](https://mergebot.odoo.com/odoo/odoo/pull/195970)

fw-bot (Issue Creator) on (2025-01-31 10:39:01 UTC): @DavidFesquet @Whenrow cherrypicking of pull request odoo/odoo#194001 failed.

stdout:
```
Auto-merging addons/stock_account/i18n/stock_account.pot
CONFLICT (content): Merge conflict in addons/stock_account/i18n/stock_account.pot
Auto-merging addons/stock_account/models/product.py
Auto-merging addons/stock_account/tests/test_lot_valuation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823019538,pull_request,closed,,[FW][FIX] point_of_sale: fix duplicate report line,"If you sell a product that has multiple pos categories, the report would contain as many lines as the number of categories.

Steps to reproduce:
-------------------
* Create product A with atleast 2 pos categories
* Make a sale in PoS with this product
* Go to PoS order report and click on the graph
* This will open a view containing all the lines of the report
> Observation: You have multiple lines for the same order

Why the fix:
------------
To avoid this issue, we select only the first category of the product.

opw-4451101

Forward-Port-Of: odoo/odoo#195097",fw-bot,2025-01-31 10:38:40+00:00,[],2025-01-31 16:22:29+00:00,2025-01-31 16:22:29+00:00,https://github.com/odoo/odoo/pull/195969,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626889092, 'issue_id': 2823019538, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195969.png)](https://mergebot.odoo.com/odoo/odoo/pull/195969)', 'created_at': datetime.datetime(2025, 1, 31, 10, 38, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626889118, 'issue_id': 2823019538, 'author': 'fw-bot', 'body': '@robinengels @caburj cherrypicking of pull request odoo/odoo#195097 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/report/pos_order_report.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/report/pos_order_report.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 10, 38, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627209870, 'issue_id': 2823019538, 'author': 'robinengels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 44, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:38:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195969.png)](https://mergebot.odoo.com/odoo/odoo/pull/195969)

fw-bot (Issue Creator) on (2025-01-31 10:38:42 UTC): @robinengels @caburj cherrypicking of pull request odoo/odoo#195097 failed.

stdout:
```
Auto-merging addons/point_of_sale/report/pos_order_report.py
CONFLICT (content): Merge conflict in addons/point_of_sale/report/pos_order_report.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robinengels on (2025-01-31 12:44:15 UTC): @robodoo r+

"
2823018887,pull_request,closed,,[FW][FIX] l10n_tr: update taxes,"This commit will update some taxes:
- Update the purchase tax accounts
- Add new 0% EX tax
- Delete EX RS 20% & EX RS -20%

In the tax report:
- Change the name of the report
- Add a new record

task: 4244715




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195131
Forward-Port-Of: odoo/odoo#185947",fw-bot,2025-01-31 10:38:21+00:00,[],2025-02-05 01:09:18+00:00,2025-02-05 01:09:18+00:00,https://github.com/odoo/odoo/pull/195968,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626888367, 'issue_id': 2823018887, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195968.png)](https://mergebot.odoo.com/odoo/odoo/pull/195968)', 'created_at': datetime.datetime(2025, 1, 31, 10, 38, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626888391, 'issue_id': 2823018887, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 10, 38, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626977773, 'issue_id': 2823018887, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 11, 24, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627043391, 'issue_id': 2823018887, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo the next pull request (odoo/odoo#195986) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 12, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628685572, 'issue_id': 2823018887, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629202161, 'issue_id': 2823018887, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629731015, 'issue_id': 2823018887, 'author': 'fw-bot', 'body': '@malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 3, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:38:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195968.png)](https://mergebot.odoo.com/odoo/odoo/pull/195968)

fw-bot (Issue Creator) on (2025-01-31 10:38:23 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 11:24:46 UTC): @malb-odoo @gawa-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 12:01:30 UTC): @malb-odoo @gawa-odoo the next pull request (odoo/odoo#195986) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:48 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:02:12 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:03:17 UTC): @malb-odoo @gawa-odoo this forward port of odoo/odoo#185947 is awaiting action (not merged or closed).

"
2823017986,pull_request,closed,,[FW][FIX] pos_restaurant: creation of floor plan with create button,"Before this commit:
==========
- To create a new floor plan, the user must click the plus icon on the floor plan's create button; clicking anywhere else on the floor plan's create button was not working.

After this commit:
==========
- Users can click anywhere on the floor plan's create button to create a floor plan.

task-4517219

Forward-Port-Of: odoo/odoo#195544",fw-bot,2025-01-31 10:38:00+00:00,[],2025-02-03 08:26:11+00:00,2025-02-03 08:26:11+00:00,https://github.com/odoo/odoo/pull/195967,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626887630, 'issue_id': 2823017986, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195967.png)](https://mergebot.odoo.com/odoo/odoo/pull/195967)', 'created_at': datetime.datetime(2025, 1, 31, 10, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626887647, 'issue_id': 2823017986, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 10, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629901743, 'issue_id': 2823017986, 'author': 'robodoo', 'body': '@paan-odoo @caburj staging failed: ci/runbot on d0c3b4eeb2a1dd53be670e5bfce27483b9bd1dc1 (view more at https://runbot.odoo.com/runbot/build/74381550)', 'created_at': datetime.datetime(2025, 2, 3, 4, 41, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629903852, 'issue_id': 2823017986, 'author': 'paan-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 3, 4, 43, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:38:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195967.png)](https://mergebot.odoo.com/odoo/odoo/pull/195967)

fw-bot (Issue Creator) on (2025-01-31 10:38:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-03 04:41:15 UTC): @paan-odoo @caburj staging failed: ci/runbot on d0c3b4eeb2a1dd53be670e5bfce27483b9bd1dc1 (view more at https://runbot.odoo.com/runbot/build/74381550)

paan-odoo on (2025-02-03 04:43:22 UTC): @robodoo retry

"
2823017350,pull_request,closed,,[FW][FIX] spreadsheet: don't reload with global filter,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195791",fw-bot,2025-01-31 10:37:41+00:00,[],2025-01-31 13:50:55+00:00,2025-01-31 13:50:55+00:00,https://github.com/odoo/odoo/pull/195966,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626887129, 'issue_id': 2823017350, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195966.png)](https://mergebot.odoo.com/odoo/odoo/pull/195966)', 'created_at': datetime.datetime(2025, 1, 31, 10, 37, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626887148, 'issue_id': 2823017350, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 10, 37, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:37:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195966.png)](https://mergebot.odoo.com/odoo/odoo/pull/195966)

fw-bot (Issue Creator) on (2025-01-31 10:37:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2823012620,pull_request,open,,"[IMP] point_of_sale, pos_*: remove the ‘skipped’ status from order lines","pos_* = post_restaurant

The “skipped” status was introduced to ensure that the kitchen prepares order lines only when requested by the waiter. This commit removes that status, as it will be replaced by the courses feature, which manages it more effectively, aligning with standard POS software practices.

task-4526151",stva-odoo,2025-01-31 10:35:21+00:00,[],2025-02-06 13:51:03+00:00,,https://github.com/odoo/odoo/pull/195965,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626882203, 'issue_id': 2823012620, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195965.png)](https://mergebot.odoo.com/odoo/odoo/pull/195965)', 'created_at': datetime.datetime(2025, 1, 31, 10, 35, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631414371, 'issue_id': 2823012620, 'author': 'stva-odoo', 'body': '@davidmonnom  :facepalm:', 'created_at': datetime.datetime(2025, 2, 3, 16, 0, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:35:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195965.png)](https://mergebot.odoo.com/odoo/odoo/pull/195965)

stva-odoo (Issue Creator) on (2025-02-03 16:00:19 UTC): @davidmonnom  :facepalm:

"
2822999630,pull_request,closed,,[FIX] mail: fix scheduled message cron infinitely failing,"Purpose:
--------
Currently, when posting a scheduled message failed due to an error,
the cron interrupts and will attempt to resend the message on each of its
subsequent runs and fail again, preventing any scheduled message to be
posted.

This commit changes the cron behavior to catch any exceptions raised during
message posting, notify the author of the message about the failure, and
delete the failed scheduled message. This prevents infinite retry attempts.

The notification to the author of the scheduled message contains the content
of the scheduled message. The rationale is that the posting might fail
because the user does not have access to the record it will be posted on
anymore, and won't be able to see the scheduled message again.

The scheduled messages will now be unlinked when unlinking the record on
which they are scheduled.

Task-4531402
",schoffeniels,2025-01-31 10:28:46+00:00,[],2025-02-05 21:57:08+00:00,2025-02-05 21:57:08+00:00,https://github.com/odoo/odoo/pull/195964,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626869113, 'issue_id': 2822999630, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195964.png)](https://mergebot.odoo.com/odoo/odoo/pull/195964)', 'created_at': datetime.datetime(2025, 1, 31, 10, 28, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636911375, 'issue_id': 2822999630, 'author': 'schoffeniels', 'body': 'Hello @tde-banana-odoo,\r\nThanks for the review, I added the suggested changes 🙂', 'created_at': datetime.datetime(2025, 2, 5, 13, 51, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637112990, 'issue_id': 2822999630, 'author': 'tde-banana-odoo', 'body': '@robodoo r+ rebase-merge\r\n\r\nThanks for followup !', 'created_at': datetime.datetime(2025, 2, 5, 15, 2, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637113098, 'issue_id': 2822999630, 'author': 'robodoo', 'body': 'Merge method set to rebase and merge, using the PR as merge commit message.', 'created_at': datetime.datetime(2025, 2, 5, 15, 2, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:28:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195964.png)](https://mergebot.odoo.com/odoo/odoo/pull/195964)

schoffeniels (Issue Creator) on (2025-02-05 13:51:43 UTC): Hello @tde-banana-odoo,
Thanks for the review, I added the suggested changes 🙂

tde-banana-odoo on (2025-02-05 15:02:40 UTC): @robodoo r+ rebase-merge

Thanks for followup !

robodoo on (2025-02-05 15:02:43 UTC): Merge method set to rebase and merge, using the PR as merge commit message.

"
2822998266,pull_request,open,,[FIX] hr_attendance: update translation file,"Some text was not translatable in the kiosk view mode of the HR attendance app. This commit contains the regenerated pot file for these texts to be translatable.

task-4526927
",romaincarlier4,2025-01-31 10:28:02+00:00,[],2025-01-31 11:00:20+00:00,,https://github.com/odoo/odoo/pull/195963,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626867647, 'issue_id': 2822998266, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195963.png)](https://mergebot.odoo.com/odoo/odoo/pull/195963)', 'created_at': datetime.datetime(2025, 1, 31, 10, 28, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:28:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195963.png)](https://mergebot.odoo.com/odoo/odoo/pull/195963)

"
2822969239,pull_request,closed,,[FIX] account: Ensure the bank_partner_id field is well recomputed,"In case of manipulations with new records, ensure the computation of bank_partner_id field is well recomputed if company is changed.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rousseldenis,2025-01-31 10:13:25+00:00,[],2025-01-31 20:55:20+00:00,2025-01-31 20:55:20+00:00,https://github.com/odoo/odoo/pull/195962,"[('Accounting', '')]","[{'comment_id': 2626837866, 'issue_id': 2822969239, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195962.png)](https://mergebot.odoo.com/odoo/odoo/pull/195962)', 'created_at': datetime.datetime(2025, 1, 31, 10, 13, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626863890, 'issue_id': 2822969239, 'author': 'rousseldenis', 'body': '@qdp-odoo @william-andre', 'created_at': datetime.datetime(2025, 1, 31, 10, 26, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:13:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195962.png)](https://mergebot.odoo.com/odoo/odoo/pull/195962)

rousseldenis (Issue Creator) on (2025-01-31 10:26:11 UTC): @qdp-odoo @william-andre

"
2822962336,pull_request,open,,[18.0][FIX] purchase: fix inherit_id on view_partner_property_form,"### Description of the issue/feature this PR addresses:

When installing a module updating the base partner form view, the consolidation of this view is failing, reporting it cannot locate the `property_supplier_payment_term_id` element in parent view. Indeed this field is coming from `account.view_partner_property_form` view, not `base.view_partner_property_form`.

### Current behavior before PR:

```python
Element '<field name=""property_supplier_payment_term_id"">' cannot be located in parent view

View error context:
{'file': '/odoo/external-src/sale-workflow/sale_wishlist/views/partner.xml',
 'line': 12,
 'name': 'res.partner.purchase.property.form.inherit',
 'view': ir.ui.view(6911,),
 'view.model': 'res.partner',
 'view.parent': ir.ui.view(5099,),
 'xmlid': 'res_partner_view_form'}
```

List of views making usage of `property_supplier_payment_term_id` element:
```
odoodb=# SELECT module, name, model, res_id, noupdate FROM ir_model_data WHERE model='ir.ui.view' AND res_id IN (SELECT id FROM ir_ui_view WHERE arch_db->>'en_US' ILIKE '%property_supplier_payment_term_id%' AND model='res.partner' AND active=true);
  module  |                  name                  |   model    | res_id | noupdate 
----------+----------------------------------------+------------+--------+----------
 sale     | res_partner_view_form_property_inherit | ir.ui.view |   7121 | f
 purchase | view_partner_property_form             | ir.ui.view |   6911 | f
(2 rows)

```

### Desired behavior after PR is merged:

Make the consolidation of view partner form working as expected, as it is done in `sale` module by using the right parent view to inherit the `property_supplier_payment_term_id` field.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sebalix,2025-01-31 10:09:55+00:00,[],2025-01-31 10:15:22+00:00,,https://github.com/odoo/odoo/pull/195961,[],"[{'comment_id': 2626830825, 'issue_id': 2822962336, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195961.png)](https://mergebot.odoo.com/odoo/odoo/pull/195961)', 'created_at': datetime.datetime(2025, 1, 31, 10, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626841719, 'issue_id': 2822962336, 'author': 'sebalix', 'body': 'Would it be better to split the inheritance of `property_supplier_payment_term_id` field in a dedicated view as it is done in `sale` module?', 'created_at': datetime.datetime(2025, 1, 31, 10, 15, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 10:09:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195961.png)](https://mergebot.odoo.com/odoo/odoo/pull/195961)

sebalix (Issue Creator) on (2025-01-31 10:15:20 UTC): Would it be better to split the inheritance of `property_supplier_payment_term_id` field in a dedicated view as it is done in `sale` module?

"
2822937967,pull_request,open,,[IMP] project: sub-tasks list on task kanban card improvements,"Before this commit:
New sub-tasks created from the Kanban card sub-task list appeared at the top of the list.
Pressing the Esc key did not exit the edit mode.
Done/canceled sub-tasks were not displayed until the view was refreshed. Missing task names were not highlighted and no error notification appeared.

After this commit
New sub-tasks created from the Kanban card sub-task list will appear at the bottom of the list.
Pressing the Esc key will exit the edit mode.
Done/canceled sub-tasks stay visible until the page is reloaded. If the task name is missing, it is highlighted in red and an error notification is shown.
The 'New' button is now labeled 'Add Sub-task'.
The placeholder text is now 'Write a task name'.

Task - 4461334",njor-odoo,2025-01-31 09:58:03+00:00,[],2025-02-07 13:41:30+00:00,,https://github.com/odoo/odoo/pull/195960,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626805402, 'issue_id': 2822937967, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195960.png)](https://mergebot.odoo.com/odoo/odoo/pull/195960)', 'created_at': datetime.datetime(2025, 1, 31, 9, 58, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627387130, 'issue_id': 2822937967, 'author': 'ppr-odoo', 'body': 'thanks for the work @njor-odoo .  I left some comments. Please look at them when you have time. \r\n\r\nWhen the input is empty, the bottom border should be red. This hasn’t been handled yet. We can do it like this.\r\n```\r\n     <input type=""text"" title=""Rename"" \r\n            class=\'o_input border-0 py-1\'\r\n            t-att-class=""{\'o_field_invalid border-danger\': state.isFieldInvalid }""\r\n            t-ref=\'subtaskCreateInput\'\r\n            t-att-value=""state.name""\r\n            t-att-placeholder=""placeholder""\r\n            t-on-input=""_onInput""\r\n            t-on-click=""_onClick""\r\n            t-on-change=""_onNameChanged""\r\n            t-att-disabled=""props.isReadonly""/>\r\n``` \r\nsubtask_kanban_create.xml', 'created_at': datetime.datetime(2025, 1, 31, 13, 43, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632823794, 'issue_id': 2822937967, 'author': 'njor-odoo', 'body': '> thanks for the work @njor-odoo . I left some comments. Please look at them when you have time.\r\n> \r\n> When the input is empty, the bottom border should be red. This hasn’t been handled yet. We can do it like this.\r\n> \r\n> ```\r\n>      <input type=""text"" title=""Rename"" \r\n>             class=\'o_input border-0 py-1\'\r\n>             t-att-class=""{\'o_field_invalid border-danger\': state.isFieldInvalid }""\r\n>             t-ref=\'subtaskCreateInput\'\r\n>             t-att-value=""state.name""\r\n>             t-att-placeholder=""placeholder""\r\n>             t-on-input=""_onInput""\r\n>             t-on-click=""_onClick""\r\n>             t-on-change=""_onNameChanged""\r\n>             t-att-disabled=""props.isReadonly""/>\r\n> ```\r\n> \r\n> subtask_kanban_create.xml\r\n\r\nThanks for your suggestion! I have made the changes based on your feedback. Let me know if there\'s anything else that needs to be adjusted.', 'created_at': datetime.datetime(2025, 2, 4, 4, 38, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:58:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195960.png)](https://mergebot.odoo.com/odoo/odoo/pull/195960)

ppr-odoo on (2025-01-31 13:43:30 UTC): thanks for the work @njor-odoo .  I left some comments. Please look at them when you have time. 

When the input is empty, the bottom border should be red. This hasn’t been handled yet. We can do it like this.
```
     <input type=""text"" title=""Rename"" 
            class='o_input border-0 py-1'
            t-att-class=""{'o_field_invalid border-danger': state.isFieldInvalid }""
            t-ref='subtaskCreateInput'
            t-att-value=""state.name""
            t-att-placeholder=""placeholder""
            t-on-input=""_onInput""
            t-on-click=""_onClick""
            t-on-change=""_onNameChanged""
            t-att-disabled=""props.isReadonly""/>
``` 
subtask_kanban_create.xml

njor-odoo (Issue Creator) on (2025-02-04 04:38:42 UTC): Thanks for your suggestion! I have made the changes based on your feedback. Let me know if there's anything else that needs to be adjusted.

"
2822933114,pull_request,open,,[FIX] hr: restrict access to 'HR Settings' & proper permissions in 'My Profile',"Steps:
- Go to 'My Profile'.
- Check the 'HR Settings' tab and other sections ('Resume', 'Work Information' and 'Private Information').

Issues:
- Users could edit 'HR Settings' without proper HR permissions.
- Approver fields were not editable even though self edit setting was on.

Fix:
- Restricted HR Settings edits to users with HR manager rights.
- Ensured all the fields in 'Resume', 'Work Information' and 'Private Information' are editable only with hr_employee_self_edit enabled.
- Approver related fields are now editable in 'Work Information' section.

Task-4319956

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:
",rame-odoo,2025-01-31 09:55:43+00:00,[],2025-02-05 10:46:43+00:00,,https://github.com/odoo/odoo/pull/195959,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626800689, 'issue_id': 2822933114, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195959.png)](https://mergebot.odoo.com/odoo/odoo/pull/195959)', 'created_at': datetime.datetime(2025, 1, 31, 9, 55, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:55:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195959.png)](https://mergebot.odoo.com/odoo/odoo/pull/195959)

"
2822918142,pull_request,open,,[16.0][REF] stock: refactor _create_backorder,"This PR refactors `_create_backorder `for better extensibility.
Related: https://github.com/OCA/manufacture/pull/1467

@qrtl QT5016",AungKoKoLin1997,2025-01-31 09:48:16+00:00,[],2025-02-01 02:04:47+00:00,,https://github.com/odoo/odoo/pull/195958,"[('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2626786005, 'issue_id': 2822918142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195958.png)](https://mergebot.odoo.com/odoo/odoo/pull/195958)', 'created_at': datetime.datetime(2025, 1, 31, 9, 48, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:48:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195958.png)](https://mergebot.odoo.com/odoo/odoo/pull/195958)

"
2822916604,pull_request,closed,,[FIX] stock_picking_batch: prevent traceback when sorting by zip,"Issue Before This Commit:
============================
   
   A traceback occurs when attempting to sort pickings by zip if any picking has
   a False or empty zip value.

Steps to Reproduce:
=====================
1. Install the stock_fleet module.
2. Navigate to Batch Transfer in the Stock module under the Operations tab.
3. Create a new batch and add pickings, ensuring some have a zip value while others do not.
4. Save the batch, which triggers a traceback error: TypeError: '<' not supported between instances of 'bool' and 'str'.

With This Commit:
=====================

  The issue occurred because sorting directly on the zip caused an error
  when the zip was False. this fix ensures that sorting treats zip as an empty
  string () when it is False, preventing the error.

task - [4535113](https://www.odoo.com/odoo/my-tasks/4535113)

",dhha-odoo,2025-01-31 09:47:30+00:00,[],2025-01-31 17:09:00+00:00,2025-01-31 17:09:00+00:00,https://github.com/odoo/odoo/pull/195957,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626784466, 'issue_id': 2822916604, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195957.png)](https://mergebot.odoo.com/odoo/odoo/pull/195957)', 'created_at': datetime.datetime(2025, 1, 31, 9, 47, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627041791, 'issue_id': 2822916604, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 0, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627041869, 'issue_id': 2822916604, 'author': 'robodoo', 'body': '@amoyaux draft PRs can not be approved.', 'created_at': datetime.datetime(2025, 1, 31, 12, 0, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627153148, 'issue_id': 2822916604, 'author': 'amoyaux', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 12, 33, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:47:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195957.png)](https://mergebot.odoo.com/odoo/odoo/pull/195957)

amoyaux on (2025-01-31 12:00:37 UTC): robodoo r+

robodoo on (2025-01-31 12:00:40 UTC): @amoyaux draft PRs can not be approved.

amoyaux on (2025-01-31 12:33:06 UTC): robodoo r+

"
2822915697,pull_request,open,,[IMP] l10n_tr: Auto Install Turkish language on l10n_tr install,"This **PR** auto installs the Turkish language upon installing `l10n_tr`.

TaskID:4504454

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sham-odoo,2025-01-31 09:47:02+00:00,[],2025-02-03 04:44:02+00:00,,https://github.com/odoo/odoo/pull/195956,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626783518, 'issue_id': 2822915697, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195956.png)](https://mergebot.odoo.com/odoo/odoo/pull/195956)', 'created_at': datetime.datetime(2025, 1, 31, 9, 47, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629904483, 'issue_id': 2822915697, 'author': 'sham-odoo', 'body': 'Hello @alialfie , on selecting the language as the interface language, this might disturb users with multi company environment. \r\nSilently activating the language will do the job. The country names are force translated to Turkish while in the XML template in eDespatch module.\r\nYou can refer it [here](https://github.com/odoo/odoo/pull/194384/files#diff-952d854c286a44f8735ca55c1b88fe6d8a902cf4b046bdacfd9bb5b2c614a39cR28)', 'created_at': datetime.datetime(2025, 2, 3, 4, 44, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:47:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195956.png)](https://mergebot.odoo.com/odoo/odoo/pull/195956)

sham-odoo (Issue Creator) on (2025-02-03 04:44:01 UTC): Hello @alialfie , on selecting the language as the interface language, this might disturb users with multi company environment. 
Silently activating the language will do the job. The country names are force translated to Turkish while in the XML template in eDespatch module.
You can refer it [here](https://github.com/odoo/odoo/pull/194384/files#diff-952d854c286a44f8735ca55c1b88fe6d8a902cf4b046bdacfd9bb5b2c614a39cR28)

"
2822912682,pull_request,closed,,[FW][FIX] web: Prevent users from using json field in the field_selector,"Steps:
    - Install `purchase` or any other model with analytic_mixin
    - Install `analytic`
    - Install `web_studio`
    - Enable analytic in configuration
    - Add a new approval on 'button_confirm' in `purchase.order`
    - Set a domain with analytic_distribution e.g
    -   - e.g. (""order_line.analytic_distribution"", ""="", ""Administrative"")
    - Click on Refresh button
    - The refresh button preview shows x records
    - Create a new purchase.order
    - Add analytic on optional column
    - Add a new product with analytic_distribution Administrative
    - Try to use `button_confirm`
    - Approval is not working while the refresh shows record is available

The json fields, in particular the `analytic_distribution` fields, are not designed to be searched via a `filtered_domain` (which is what studio approval uses to check whether or not a button can be used by the current user), this is currently a technical limitation.

To avoid any future problems, this commit prevents users from using a json field to search on them, since this is not supported.

opw-4416646

Forward-Port-Of: odoo/odoo#195916
Forward-Port-Of: odoo/odoo#195765",fw-bot,2025-01-31 09:45:57+00:00,[],2025-01-31 17:09:05+00:00,2025-01-31 17:09:04+00:00,https://github.com/odoo/odoo/pull/195955,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626780885, 'issue_id': 2822912682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195955.png)](https://mergebot.odoo.com/odoo/odoo/pull/195955)', 'created_at': datetime.datetime(2025, 1, 31, 9, 45, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626780906, 'issue_id': 2822912682, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 9, 45, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626937118, 'issue_id': 2822912682, 'author': 'fw-bot', 'body': '@abz-odoo @polymorphe57 the next pull request (odoo/odoo#195972) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 11, 2, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626967015, 'issue_id': 2822912682, 'author': 'abz-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 11, 18, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:45:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195955.png)](https://mergebot.odoo.com/odoo/odoo/pull/195955)

fw-bot (Issue Creator) on (2025-01-31 09:45:58 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 11:02:43 UTC): @abz-odoo @polymorphe57 the next pull request (odoo/odoo#195972) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abz-odoo on (2025-01-31 11:18:45 UTC): @robodoo r+

"
2822908162,pull_request,closed,,[FW][FIX] website: fix not available items in search results,"This commit fixes the width of not available items inside the search results list and the search result dropdown.

We achieve the fix by using the same approach used in this commit: https://github.com/odoo/odoo/commit/9ffbc8720b84f51d5d03a7e11c74c19b62cf46c0

opw-4444222
task-4517564

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195758
Forward-Port-Of: odoo/odoo#195316",fw-bot,2025-01-31 09:43:57+00:00,[],2025-01-31 16:22:46+00:00,2025-01-31 16:22:46+00:00,https://github.com/odoo/odoo/pull/195954,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626776195, 'issue_id': 2822908162, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195954.png)](https://mergebot.odoo.com/odoo/odoo/pull/195954)', 'created_at': datetime.datetime(2025, 1, 31, 9, 43, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626776214, 'issue_id': 2822908162, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 9, 43, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626869826, 'issue_id': 2822908162, 'author': 'fw-bot', 'body': '@anso-odoo @SergeBayet ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 10, 29, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627540531, 'issue_id': 2822908162, 'author': 'anso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 14, 53, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627592594, 'issue_id': 2822908162, 'author': 'fw-bot', 'body': ""@anso-odoo @SergeBayet child PR odoo/odoo#196022 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 1, 31, 15, 16, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:43:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195954.png)](https://mergebot.odoo.com/odoo/odoo/pull/195954)

fw-bot (Issue Creator) on (2025-01-31 09:43:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 10:29:12 UTC): @anso-odoo @SergeBayet ci/runbot failed on this forward-port PR

anso-odoo on (2025-01-31 14:53:25 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-01-31 15:16:57 UTC): @anso-odoo @SergeBayet child PR odoo/odoo#196022 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2822907244,pull_request,closed,,[FIX] point_of_sale: ensure reloading of data,"If the session id is outdated in the frontend, we need to ensure the reloading of data.

Now we check if the session id is up to date before loading data and if not we load the new session.


",davidmonnom,2025-01-31 09:43:38+00:00,[],2025-02-03 13:02:12+00:00,2025-02-03 13:02:12+00:00,https://github.com/odoo/odoo/pull/195953,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626775252, 'issue_id': 2822907244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195953.png)](https://mergebot.odoo.com/odoo/odoo/pull/195953)', 'created_at': datetime.datetime(2025, 1, 31, 9, 43, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:43:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195953.png)](https://mergebot.odoo.com/odoo/odoo/pull/195953)

"
2822902701,pull_request,closed,,[FW][FIX] website: fix required fields conditionally hidden,"Steps to Reproduce:

- Go to the website editor.
- Add a form to the page.
- Select the form and change the default action from ""Send an email"" to ""Create an opportunity.""
- Select the ""Subject"" field.
- Set the visibility condition of the ""Subject"" field to ""visible only if the phone number is set.""
- Since this is a mandatory field, define a default value for the ""Subject"" field.
- Save the changes.
- Fill out the form but leave the phone number field empty so that the ""Subject"" field does not appear.
- Attempt to submit the form.
- Bug: the form is not sent and there is an error message.

The error occurs preventing the record from being created because all required fields are not present, we should use the default value as it has been provided.

This commit prevents adding the ""disabled"" attribute to inputs that are required for models.

opw-4447039

Forward-Port-Of: odoo/odoo#195660
Forward-Port-Of: odoo/odoo#194902",fw-bot,2025-01-31 09:41:45+00:00,[],2025-02-03 10:18:03+00:00,2025-02-03 10:18:03+00:00,https://github.com/odoo/odoo/pull/195952,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626771123, 'issue_id': 2822902701, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195952.png)](https://mergebot.odoo.com/odoo/odoo/pull/195952)', 'created_at': datetime.datetime(2025, 1, 31, 9, 41, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626771206, 'issue_id': 2822902701, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#194902 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/snippets/s_website_form/000.js\nAuto-merging addons/website/static/tests/tours/website_form_editor.js\nCONFLICT (content): Merge conflict in addons/website/static/tests/tours/website_form_editor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 9, 41, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684875, 'issue_id': 2822902701, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201625, 'issue_id': 2822902701, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629475654, 'issue_id': 2822902701, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 2, 17, 10, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629492667, 'issue_id': 2822902701, 'author': 'robodoo', 'body': '@bvr-odoo @SergeBayet staging failed: ci/l10n on 190ff6b8e370ffe5c1a751de14c251ff1385d358 (view more at https://runbot.odoo.com/runbot/build/74354138)', 'created_at': datetime.datetime(2025, 2, 2, 17, 57, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729952, 'issue_id': 2822902701, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630127404, 'issue_id': 2822902701, 'author': 'd-fence', 'body': 'robodoo retry\r\n(failing test deactivated)', 'created_at': datetime.datetime(2025, 2, 3, 7, 2, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:41:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195952.png)](https://mergebot.odoo.com/odoo/odoo/pull/195952)

fw-bot (Issue Creator) on (2025-01-31 09:41:48 UTC): @bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#194902 failed.

stdout:
```
Auto-merging addons/website/static/src/snippets/s_website_form/000.js
Auto-merging addons/website/static/tests/tours/website_form_editor.js
CONFLICT (content): Merge conflict in addons/website/static/tests/tours/website_form_editor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:01:09 UTC): @bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:17 UTC): @bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).

SergeBayet on (2025-02-02 17:10:06 UTC): @robodoo r+

robodoo on (2025-02-02 17:57:40 UTC): @bvr-odoo @SergeBayet staging failed: ci/l10n on 190ff6b8e370ffe5c1a751de14c251ff1385d358 (view more at https://runbot.odoo.com/runbot/build/74354138)

fw-bot (Issue Creator) on (2025-02-03 02:02:07 UTC): @bvr-odoo @SergeBayet this forward port of odoo/odoo#194902 is awaiting action (not merged or closed).

d-fence on (2025-02-03 07:02:25 UTC): robodoo retry
(failing test deactivated)

"
2822896030,pull_request,open,,Master esg mane,Task-4517841,MissingNoShiny,2025-01-31 09:38:14+00:00,[],2025-02-07 16:11:04+00:00,,https://github.com/odoo/odoo/pull/195951,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626764319, 'issue_id': 2822896030, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195951.png)](https://mergebot.odoo.com/odoo/odoo/pull/195951)', 'created_at': datetime.datetime(2025, 1, 31, 9, 38, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:38:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195951.png)](https://mergebot.odoo.com/odoo/odoo/pull/195951)

"
2822890492,pull_request,closed,,[FIX] account: search_read overwrite misses @api.model,"The decorator is missing so RPC calls are failing on the model. Introduced by #186908.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-01-31 09:35:19+00:00,[],2025-02-03 08:39:21+00:00,2025-02-03 08:25:41+00:00,https://github.com/odoo/odoo/pull/195950,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626758849, 'issue_id': 2822890492, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195950.png)](https://mergebot.odoo.com/odoo/odoo/pull/195950)', 'created_at': datetime.datetime(2025, 1, 31, 9, 35, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626799960, 'issue_id': 2822890492, 'author': 'aboo-odoo', 'body': ""Isn't it the same PR as odoo/odoo/pull/195268 ?"", 'created_at': datetime.datetime(2025, 1, 31, 9, 55, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626929003, 'issue_id': 2822890492, 'author': 'kmagusiak', 'body': ""> Isn't it the same PR as [/pull/195268](https://github.com/odoo/odoo/pull/195268) ?\r\n\r\nIt is, any of them is ok."", 'created_at': datetime.datetime(2025, 1, 31, 10, 58, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630266065, 'issue_id': 2822890492, 'author': 'aboo-odoo', 'body': 'The other similar PR has been approved first :+1:', 'created_at': datetime.datetime(2025, 2, 3, 8, 25, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:35:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195950.png)](https://mergebot.odoo.com/odoo/odoo/pull/195950)

aboo-odoo on (2025-01-31 09:55:21 UTC): Isn't it the same PR as odoo/odoo/pull/195268 ?

kmagusiak (Issue Creator) on (2025-01-31 10:58:39 UTC): It is, any of them is ok.

aboo-odoo on (2025-02-03 08:25:41 UTC): The other similar PR has been approved first :+1:

"
2822884202,pull_request,closed,,[FIX] website: prevent duplicate URLs in sitemap generation,"Since [1], the `_enumerate_pages` method could include duplicate URLs in the sitemap due to bound method instances being treated as distinct functions. This issue became observable from 17.4, where the effect is more noticeable.

To fix this, `__func__` is used on `rule.endpoint.func`, ensuring that the same function is not processed multiple times, preventing redundant entries in the sitemap.

This fix is applied in 16.0 as the issue originates there.

Steps to reproduce (observable from 17.4):

- Install website_sale module
- Go to /sitemap.xml
- Observe that all the products and category urls are duplicated.

[1]: https://github.com/odoo/odoo/commit/1b52b00d2aa96b9360d50a0f0960f1febb5e607e

opw-4420398
task-4074719

",SergeBayet,2025-01-31 09:31:59+00:00,[],2025-02-03 09:43:52+00:00,2025-01-31 18:00:47+00:00,https://github.com/odoo/odoo/pull/195949,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2626752278, 'issue_id': 2822884202, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195949.png)](https://mergebot.odoo.com/odoo/odoo/pull/195949)', 'created_at': datetime.datetime(2025, 1, 31, 9, 32, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:32:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195949.png)](https://mergebot.odoo.com/odoo/odoo/pull/195949)

"
2822877632,pull_request,open,,[IMP] l10n_it_xml_export: Add XML export option for monthly tax report,"Description of the issue this commit addresses:

The Italian localization currently doesn't allow users to export the periodic
tax report to xml format. This feature is missing.

---

Desired ehavior after the commit is merged:

The Italian monthly tax report has a button that allows the user to export the
report to an xml format.

---

task-4507942

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Megaaaaaa,2025-01-31 09:28:36+00:00,[],2025-02-04 07:42:21+00:00,,https://github.com/odoo/odoo/pull/195948,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626745803, 'issue_id': 2822877632, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195948.png)](https://mergebot.odoo.com/odoo/odoo/pull/195948)', 'created_at': datetime.datetime(2025, 1, 31, 9, 28, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:28:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195948.png)](https://mergebot.odoo.com/odoo/odoo/pull/195948)

"
2822843987,pull_request,closed,,[FIX] web: fix unit test error_checker,"Before this commit, the error_checker asserting that a JS unit test run failed performed a strict equality with an outdated string on error logs.

Now, the message has been changed, flagged explicitly as something that shouldn't be changed and the presence of that message is checked accross the entire message for robustness.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jum-odoo,2025-01-31 09:11:07+00:00,[],2025-01-31 17:45:44+00:00,2025-01-31 17:45:44+00:00,https://github.com/odoo/odoo/pull/195947,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626713326, 'issue_id': 2822843987, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195947.png)](https://mergebot.odoo.com/odoo/odoo/pull/195947)', 'created_at': datetime.datetime(2025, 1, 31, 9, 11, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626818721, 'issue_id': 2822843987, 'author': 'robodoo', 'body': '@aab-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 31, 10, 4, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626989260, 'issue_id': 2822843987, 'author': 'robodoo', 'body': '@aab-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 1, 31, 11, 31, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:11:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195947.png)](https://mergebot.odoo.com/odoo/odoo/pull/195947)

robodoo on (2025-01-31 10:04:38 UTC): @aab-odoo you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-01-31 11:31:20 UTC): @aab-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2822831330,pull_request,closed,,[FIX] point_of_sale: traceback while add product and close session,"Steps:
===
1. open pos system.
2. add product and close session.
3. open register again and repeat the step 2

Issue:
===
- blank screen with traceback in the console.

Fix:
===
- changed the session and reference of the draft order of the previous session.

Task: 4518123
",djip-odoo,2025-01-31 09:04:24+00:00,[],2025-02-06 09:57:59+00:00,2025-02-06 09:57:59+00:00,https://github.com/odoo/odoo/pull/195946,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626700346, 'issue_id': 2822831330, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195946.png)](https://mergebot.odoo.com/odoo/odoo/pull/195946)', 'created_at': datetime.datetime(2025, 1, 31, 9, 4, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639347760, 'issue_id': 2822831330, 'author': 'djip-odoo', 'body': 'This issue is handled in this PR https://github.com/odoo/odoo/pull/195953.', 'created_at': datetime.datetime(2025, 2, 6, 9, 57, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 09:04:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195946.png)](https://mergebot.odoo.com/odoo/odoo/pull/195946)

djip-odoo (Issue Creator) on (2025-02-06 09:57:59 UTC): This issue is handled in this PR https://github.com/odoo/odoo/pull/195953.

"
2822818624,pull_request,closed,,[FIX] im_livechat: disable composer for transient chatbot thread,"The composer is disabled when not needed (chat bot steps not requiring user input) or when the live chat has ended. However, the composer is sometimes shown to the visitor even when the composer is disabled.

Steps to reproduce the issue:
- Go to the /contactus page
- Start the chat bot
- Composer is shown, while the bot doesn't expect any user input

In [1], we enabled the composer for operators even when the chat has ended. To do so, we check that the current user is not the visitor. However, temporary threads are missing some information such as channel members. As a result, the composer is shown to the visitor even if disabled when the thread is temporary. This PR modify this condition to handle temporary threads.

[1]: https://github.com/odoo/odoo/pull/195734",tsm-odoo,2025-01-31 08:57:34+00:00,[],2025-01-31 14:00:06+00:00,2025-01-31 13:50:19+00:00,https://github.com/odoo/odoo/pull/195945,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626687001, 'issue_id': 2822818624, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195945.png)](https://mergebot.odoo.com/odoo/odoo/pull/195945)', 'created_at': datetime.datetime(2025, 1, 31, 8, 57, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:57:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195945.png)](https://mergebot.odoo.com/odoo/odoo/pull/195945)

"
2822786818,pull_request,closed,,[FW][FIX] web: form tests: fix non deterministic tests,"Those tests are sometimes failing since [1]. This commit is essentially a partial backport of [2], from the hoot suite to the qunit one. The other suites changed in [2] were already fixed in this version.

[1] odoo/odoo#189147
[2] odoo/odoo#190157

runbot issue-109694

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195197",fw-bot,2025-01-31 08:39:20+00:00,[],2025-02-03 08:03:08+00:00,2025-02-03 08:03:07+00:00,https://github.com/odoo/odoo/pull/195944,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626654975, 'issue_id': 2822786818, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195944.png)](https://mergebot.odoo.com/odoo/odoo/pull/195944)', 'created_at': datetime.datetime(2025, 1, 31, 8, 39, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626655028, 'issue_id': 2822786818, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo cherrypicking of pull request odoo/odoo#195197 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/web/static/tests/views/form/form_view_tests.js deleted in 1d04105a4c26a66d98677bc82225d81087e592ca and modified in db6ca39437642ec6165d71b92e96eb2b3ca7f436.  Version db6ca39437642ec6165d71b92e96eb2b3ca7f436 of addons/web/static/tests/views/form/form_view_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 8, 39, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684589, 'issue_id': 2822786818, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201382, 'issue_id': 2822786818, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729516, 'issue_id': 2822786818, 'author': 'fw-bot', 'body': '@aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630222700, 'issue_id': 2822786818, 'author': 'aab-odoo', 'body': 'Issue was only in 17.2', 'created_at': datetime.datetime(2025, 2, 3, 8, 3, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:39:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195944.png)](https://mergebot.odoo.com/odoo/odoo/pull/195944)

fw-bot (Issue Creator) on (2025-01-31 08:39:23 UTC): @aab-odoo @pipu-odoo cherrypicking of pull request odoo/odoo#195197 failed.

stdout:
```
CONFLICT (modify/delete): addons/web/static/tests/views/form/form_view_tests.js deleted in 1d04105a4c26a66d98677bc82225d81087e592ca and modified in db6ca39437642ec6165d71b92e96eb2b3ca7f436.  Version db6ca39437642ec6165d71b92e96eb2b3ca7f436 of addons/web/static/tests/views/form/form_view_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-01 02:00:54 UTC): @aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:00:58 UTC): @aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:01:44 UTC): @aab-odoo @pipu-odoo this forward port of odoo/odoo#195197 is awaiting action (not merged or closed).

aab-odoo on (2025-02-03 08:03:07 UTC): Issue was only in 17.2

"
2822777062,pull_request,closed,,[FW][FIX] website: make labels in sidebar translatable,"Some labels in the website editor's sidebar were not translatable, while all the others were.

In this commit we make the following parts translatable:
- The header of the ""Field"" options
- The ""Custom Text"" new field name
- The ""Existing field"" header in the selection list of existing field
- ""Option"", ""Radio"", ""Checkbox"", and ""List"" for list-type fields

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#195818
Forward-Port-Of: odoo/odoo#194014",fw-bot,2025-01-31 08:33:18+00:00,[],2025-02-03 12:14:20+00:00,2025-02-03 12:14:20+00:00,https://github.com/odoo/odoo/pull/195942,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626644196, 'issue_id': 2822777062, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195942.png)](https://mergebot.odoo.com/odoo/odoo/pull/195942)', 'created_at': datetime.datetime(2025, 1, 31, 8, 33, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626644210, 'issue_id': 2822777062, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/snippets/s_website_form/options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 8, 33, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730316, 'issue_id': 2822777062, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo this forward port of odoo/odoo#194014 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630303658, 'issue_id': 2822777062, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 44, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:33:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195942.png)](https://mergebot.odoo.com/odoo/odoo/pull/195942)

fw-bot (Issue Creator) on (2025-01-31 08:33:20 UTC): @dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/snippets/s_website_form/options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:30 UTC): @dylankiss @qsm-odoo this forward port of odoo/odoo#194014 is awaiting action (not merged or closed).

dylankiss on (2025-02-03 08:44:21 UTC): @robodoo r+

"
2822776549,pull_request,closed,,[FW][FIX] web_editor: properly activate the previous snippet after removal,"Since [1] and later [2], the activation logic when removing a snippet relied on the `o_snippet_invisible` class to determine whether to activate the previous or next sibling. However, additional classes like `o_snippet_desktop_invisible` and `o_snippet_mobile_invisible` were introduced, making it insufficient to rely solely on `o_snippet_invisible``.

This commit ensures that the correct snippet is activated upon removal.

Steps to reproduce:

- Navigate to Web editor
- Drop text snippet 1
- Drop text snippet 2 and hide it for desktop
- Drop text snippet 3
- Remove text snippet 3
- Bug => text snippet 1 is not activated as expected

[1]: https://github.com/odoo/odoo/commit/2cdd95f140b6ec5f3b95ee19bde2f281de21f337
[2]: https://github.com/odoo/odoo/commit/2de0ad7259993f654ca8d826f5430f78090a28c5

task-4531506

Forward-Port-Of: odoo/odoo#195855
Forward-Port-Of: odoo/odoo#195743",fw-bot,2025-01-31 08:32:59+00:00,[],2025-01-31 14:38:58+00:00,2025-01-31 14:38:58+00:00,https://github.com/odoo/odoo/pull/195941,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626643574, 'issue_id': 2822776549, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195941.png)](https://mergebot.odoo.com/odoo/odoo/pull/195941)', 'created_at': datetime.datetime(2025, 1, 31, 8, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626643599, 'issue_id': 2822776549, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#195743 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/snippets.editor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 8, 33, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626818584, 'issue_id': 2822776549, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626878680, 'issue_id': 2822776549, 'author': 'robodoo', 'body': ""@SergeBayet @bvr-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 1, 31, 10, 33, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:33:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195941.png)](https://mergebot.odoo.com/odoo/odoo/pull/195941)

fw-bot (Issue Creator) on (2025-01-31 08:33:01 UTC): @SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#195743 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/snippets.editor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-31 10:04:34 UTC): @robodoo r+

robodoo on (2025-01-31 10:33:36 UTC): @SergeBayet @bvr-odoo 'ci/runbot' failed on this reviewed PR.

"
2822775777,pull_request,closed,,[FW][FIX] website: clean keywords in SEO dialog,"Steps to reproduce:

- Edit a page
- open ""Optimize SEO"" dialog
- Add a tag with a parenthesis. eg. ""Webinar Tools (OBS, YouTube)""
- Save
- Reload the page
- Reopen the ""Optimize SEO"" dialog
- ... crash

Since [1], the application crashes because keywords are dynamically used in a regular expression, and special characters (e.g., parentheses) are not properly escaped.

We address the keywords issues by escaping control characters before using them in the regular expression to prevent crashes.

[1]: https://github.com/odoo/odoo/commit/ac55f2bb113ecf7c774fe6e96d28e716184a97d1#diff-b51336c1ad97255bfb3646f013327eca1904ca194078f4ce671e517096233c58

task-4420262

Forward-Port-Of: odoo/odoo#195737
Forward-Port-Of: odoo/odoo#194976",fw-bot,2025-01-31 08:32:37+00:00,[],2025-01-31 13:22:54+00:00,2025-01-31 13:22:54+00:00,https://github.com/odoo/odoo/pull/195940,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626642813, 'issue_id': 2822775777, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195940.png)](https://mergebot.odoo.com/odoo/odoo/pull/195940)', 'created_at': datetime.datetime(2025, 1, 31, 8, 32, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626642831, 'issue_id': 2822775777, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#194976 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/components/dialog/seo.js\nCONFLICT (content): Merge conflict in addons/website/static/src/components/dialog/seo.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 8, 32, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626813228, 'issue_id': 2822775777, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 1, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:32:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195940.png)](https://mergebot.odoo.com/odoo/odoo/pull/195940)

fw-bot (Issue Creator) on (2025-01-31 08:32:39 UTC): @SergeBayet @bvr-odoo cherrypicking of pull request odoo/odoo#194976 failed.

stdout:
```
Auto-merging addons/website/static/src/components/dialog/seo.js
CONFLICT (content): Merge conflict in addons/website/static/src/components/dialog/seo.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-01-31 10:01:56 UTC): @robodoo r+

"
2822774364,pull_request,closed,,[FW][FIX] website: fix required fields conditionally hidden,"Steps to Reproduce:

- Go to the website editor.
- Add a form to the page.
- Select the form and change the default action from ""Send an email"" to ""Create an opportunity.""
- Select the ""Subject"" field.
- Set the visibility condition of the ""Subject"" field to ""visible only if the phone number is set.""
- Since this is a mandatory field, define a default value for the ""Subject"" field.
- Save the changes.
- Fill out the form but leave the phone number field empty so that the ""Subject"" field does not appear.
- Attempt to submit the form.
- Bug: the form is not sent and there is an error message.

The error occurs preventing the record from being created because all required fields are not present, we should use the default value as it has been provided.

This commit prevents adding the ""disabled"" attribute to inputs that are required for models.

opw-4447039

Forward-Port-Of: odoo/odoo#195660
Forward-Port-Of: odoo/odoo#194902",fw-bot,2025-01-31 08:32:01+00:00,[],2025-01-31 15:52:57+00:00,2025-01-31 15:52:57+00:00,https://github.com/odoo/odoo/pull/195939,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626641378, 'issue_id': 2822774364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195939.png)](https://mergebot.odoo.com/odoo/odoo/pull/195939)', 'created_at': datetime.datetime(2025, 1, 31, 8, 32, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626641411, 'issue_id': 2822774364, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 8, 32, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626771147, 'issue_id': 2822774364, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet the next pull request (odoo/odoo#195952) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 9, 41, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626849229, 'issue_id': 2822774364, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 18, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:32:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195939.png)](https://mergebot.odoo.com/odoo/odoo/pull/195939)

fw-bot (Issue Creator) on (2025-01-31 08:32:03 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 09:41:47 UTC): @bvr-odoo @SergeBayet the next pull request (odoo/odoo#195952) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-01-31 10:18:58 UTC): @robodoo r+

"
2822770890,pull_request,open,,[FIX] l10n_tr_nilvera_einvoice: amount in text,"This commit will add the amount residual in text in the note of the xml we sent to nilvera.
If the invoice is in another currency than Turkish Lira, we have to add two notes one for the amount in turkish lira and one in the other currency

task-4518269




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-01-31 08:30:43+00:00,[],2025-01-31 09:00:18+00:00,,https://github.com/odoo/odoo/pull/195938,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626638016, 'issue_id': 2822770890, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195938.png)](https://mergebot.odoo.com/odoo/odoo/pull/195938)', 'created_at': datetime.datetime(2025, 1, 31, 8, 30, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:30:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195938.png)](https://mergebot.odoo.com/odoo/odoo/pull/195938)

"
2822766809,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/97acb8b19 [REL] 18.1.5 Task: 0
https://github.com/odoo/o-spreadsheet/commit/4210ee378 [FIX] auto-complete: hide auto-complete when selecting a cell Task: 4022927
https://github.com/odoo/o-spreadsheet/commit/79e6457ce [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/44edb8365 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918
https://github.com/odoo/o-spreadsheet/commit/1f36f4e2d [FIX] pivot: use displayed value in computed measure Task: 4517312
https://github.com/odoo/o-spreadsheet/commit/a11ef279d [REL] 18.1.4 Task: 0
https://github.com/odoo/o-spreadsheet/commit/47d6c123e [FIX] session: useless snapshot on leave Task: 4356913
https://github.com/odoo/o-spreadsheet/commit/936b264ca [FIX] xlsx: fix data validation range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/9dbe36b4e [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/52dabf1e4 [FIX] xlsx: export data validation with unbounded range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/7ffac1e6e [REL] 18.1.3 Task: 0
https://github.com/odoo/o-spreadsheet/commit/7365956a3 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/14bd65a68 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/967f484a9 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/c2b340c95 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/a8ed632af [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/655904b57 [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/739edba84 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/817bf51d4 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:28:33+00:00,[],2025-01-31 13:50:46+00:00,2025-01-31 13:50:46+00:00,https://github.com/odoo/odoo/pull/195937,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626634215, 'issue_id': 2822766809, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 28, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626634256, 'issue_id': 2822766809, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195937.png)](https://mergebot.odoo.com/odoo/odoo/pull/195937)', 'created_at': datetime.datetime(2025, 1, 31, 8, 28, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626634283, 'issue_id': 2822766809, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 28, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626993775, 'issue_id': 2822766809, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 11, 33, 59, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:28:35 UTC): robodoo fw=no

robodoo on (2025-01-31 08:28:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195937.png)](https://mergebot.odoo.com/odoo/odoo/pull/195937)

robodoo on (2025-01-31 08:28:38 UTC): Disabled forward-porting.

rrahir on (2025-01-31 11:33:59 UTC): @robodoo r+

"
2822748980,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/97acb8b19 [REL] 18.1.5 Task: 0
https://github.com/odoo/o-spreadsheet/commit/4210ee378 [FIX] auto-complete: hide auto-complete when selecting a cell Task: 4022927
https://github.com/odoo/o-spreadsheet/commit/79e6457ce [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/44edb8365 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918
https://github.com/odoo/o-spreadsheet/commit/1f36f4e2d [FIX] pivot: use displayed value in computed measure Task: 4517312
https://github.com/odoo/o-spreadsheet/commit/a11ef279d [REL] 18.1.4 Task: 0
https://github.com/odoo/o-spreadsheet/commit/47d6c123e [FIX] session: useless snapshot on leave Task: 4356913
https://github.com/odoo/o-spreadsheet/commit/936b264ca [FIX] xlsx: fix data validation range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/9dbe36b4e [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/52dabf1e4 [FIX] xlsx: export data validation with unbounded range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/7ffac1e6e [REL] 18.1.3 Task: 0
https://github.com/odoo/o-spreadsheet/commit/7365956a3 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/14bd65a68 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/967f484a9 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/c2b340c95 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/a8ed632af [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/655904b57 [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/739edba84 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/817bf51d4 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:18:02+00:00,[],2025-01-31 08:27:10+00:00,2025-01-31 08:27:10+00:00,https://github.com/odoo/odoo/pull/195936,[],"[{'comment_id': 2626596449, 'issue_id': 2822748980, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 18, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626596519, 'issue_id': 2822748980, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195936.png)](https://mergebot.odoo.com/odoo/odoo/pull/195936)', 'created_at': datetime.datetime(2025, 1, 31, 8, 18, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626596585, 'issue_id': 2822748980, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 18, 6, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:18:04 UTC): robodoo fw=no

robodoo on (2025-01-31 08:18:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195936.png)](https://mergebot.odoo.com/odoo/odoo/pull/195936)

robodoo on (2025-01-31 08:18:06 UTC): Disabled forward-porting.

"
2822733165,pull_request,closed,,[IMP] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/efce84166 [REL] 18.2.0-alpha.5 Task: 0
https://github.com/odoo/o-spreadsheet/commit/4003642a5 [FIX] auto-complete: hide auto-complete when selecting a cell Task: 4022927
https://github.com/odoo/o-spreadsheet/commit/20a368675 [IMP] package: add sass support Task: 4501078
https://github.com/odoo/o-spreadsheet/commit/ab57c9779 [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/c5eb6aa45 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918
https://github.com/odoo/o-spreadsheet/commit/6e95b16af [FIX] pivot: use displayed value in computed measure Task: 4517312
https://github.com/odoo/o-spreadsheet/commit/6aea9d8c7 [REF] ErrorToolTip: make it non-generic Task: 4452745
https://github.com/odoo/o-spreadsheet/commit/dd0e85646 [IMP] errors: display error origin position Task: 4452745
https://github.com/odoo/o-spreadsheet/commit/3e2752001 [REF] tests: remove mock content editable helper Task: 4491759
https://github.com/odoo/o-spreadsheet/commit/be9e40b08 [REF] composer: extract selection from content editable helper
https://github.com/odoo/o-spreadsheet/commit/7c179b457 [REF] viewport: rename getter isPositionVisible Task: 0
https://github.com/odoo/o-spreadsheet/commit/4a29d2767 [FIX] demo data: fix last update Task: 0
https://github.com/odoo/o-spreadsheet/commit/ec2cb67cc [REF] Border: Change border internal mapping Task: 4458245

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:08:09+00:00,[],2025-01-31 13:42:51+00:00,2025-01-31 13:42:51+00:00,https://github.com/odoo/odoo/pull/195935,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2626560452, 'issue_id': 2822733165, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195935.png)](https://mergebot.odoo.com/odoo/odoo/pull/195935)', 'created_at': datetime.datetime(2025, 1, 31, 8, 8, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626560511, 'issue_id': 2822733165, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 8, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626560640, 'issue_id': 2822733165, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 8, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626566711, 'issue_id': 2822733165, 'author': 'pro-odoo', 'body': 'robodoo rebase-merge', 'created_at': datetime.datetime(2025, 1, 31, 8, 9, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626566887, 'issue_id': 2822733165, 'author': 'robodoo', 'body': 'Merge method set to rebase and merge, using the PR as merge commit message.', 'created_at': datetime.datetime(2025, 1, 31, 8, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626636240, 'issue_id': 2822733165, 'author': 'pro-odoo', 'body': '@robodoo override=ci/style\r\nOverride because the terms which trigger the warnings are used for custom class names or directly in inlined css.', 'created_at': datetime.datetime(2025, 1, 31, 8, 29, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626995362, 'issue_id': 2822733165, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 11, 34, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 08:08:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195935.png)](https://mergebot.odoo.com/odoo/odoo/pull/195935)

pro-odoo (Issue Creator) on (2025-01-31 08:08:13 UTC): robodoo fw=no

robodoo on (2025-01-31 08:08:15 UTC): Disabled forward-porting.

pro-odoo (Issue Creator) on (2025-01-31 08:09:54 UTC): robodoo rebase-merge

robodoo on (2025-01-31 08:09:57 UTC): Merge method set to rebase and merge, using the PR as merge commit message.

pro-odoo (Issue Creator) on (2025-01-31 08:29:43 UTC): @robodoo override=ci/style
Override because the terms which trigger the warnings are used for custom class names or directly in inlined css.

rrahir on (2025-01-31 11:34:53 UTC): @robodoo r+

"
2822732229,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/97acb8b19 [REL] 18.1.5 Task: 0
https://github.com/odoo/o-spreadsheet/commit/4210ee378 [FIX] auto-complete: hide auto-complete when selecting a cell Task: 4022927
https://github.com/odoo/o-spreadsheet/commit/79e6457ce [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/44edb8365 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918
https://github.com/odoo/o-spreadsheet/commit/1f36f4e2d [FIX] pivot: use displayed value in computed measure Task: 4517312
https://github.com/odoo/o-spreadsheet/commit/a11ef279d [REL] 18.1.4 Task: 0
https://github.com/odoo/o-spreadsheet/commit/47d6c123e [FIX] session: useless snapshot on leave Task: 4356913
https://github.com/odoo/o-spreadsheet/commit/936b264ca [FIX] xlsx: fix data validation range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/9dbe36b4e [REF] range: rename useFixedReference Task: 4506120
https://github.com/odoo/o-spreadsheet/commit/52dabf1e4 [FIX] xlsx: export data validation with unbounded range Task: 4505771
https://github.com/odoo/o-spreadsheet/commit/7ffac1e6e [REL] 18.1.3 Task: 0
https://github.com/odoo/o-spreadsheet/commit/7365956a3 [FIX] TextValueProvider: Avoid duplicate key in template Task: 4483494
https://github.com/odoo/o-spreadsheet/commit/14bd65a68 [FIX] formulas: binary search returning incorrect index for multiple exact matches Task: 4328300
https://github.com/odoo/o-spreadsheet/commit/967f484a9 [FIX] selection: drag and drop resized cols and rows Task: 4454025
https://github.com/odoo/o-spreadsheet/commit/c2b340c95 [FIX] popover: wrong position on updated popover Task: 3814260
https://github.com/odoo/o-spreadsheet/commit/a8ed632af [FIX] Selection: selection follows the moved header Task: 4461901
https://github.com/odoo/o-spreadsheet/commit/655904b57 [FIX] icons: Missing dimension on icon Task: 4461359
https://github.com/odoo/o-spreadsheet/commit/739edba84 [FIX] GridComposer: Fix CellReference pill display Task: 4501136
https://github.com/odoo/o-spreadsheet/commit/817bf51d4 [FIX] renderer: Fix grid rendering Task: 4448426

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:07:31+00:00,[],2025-01-31 08:17:06+00:00,2025-01-31 08:17:02+00:00,https://github.com/odoo/odoo/pull/195934,[],"[{'comment_id': 2626558198, 'issue_id': 2822732229, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 7, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626558280, 'issue_id': 2822732229, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195934.png)](https://mergebot.odoo.com/odoo/odoo/pull/195934)', 'created_at': datetime.datetime(2025, 1, 31, 8, 7, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626558317, 'issue_id': 2822732229, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 7, 35, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:07:33 UTC): robodoo fw=no

robodoo on (2025-01-31 08:07:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195934.png)](https://mergebot.odoo.com/odoo/odoo/pull/195934)

robodoo on (2025-01-31 08:07:35 UTC): Disabled forward-porting.

"
2822731183,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/f505971d4 [REL] 18.0.13 Task: 0
https://github.com/odoo/o-spreadsheet/commit/9d5251d0d [PERF] formulas: add a cache on linear search functions Task: 4080146
https://github.com/odoo/o-spreadsheet/commit/4ef9f2da1 [FIX] auto-complete: hide auto-complete when selecting a cell Task: 4022927
https://github.com/odoo/o-spreadsheet/commit/d131f1585 [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/7793d0931 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918
https://github.com/odoo/o-spreadsheet/commit/07ee8ab47 [FIX] pivot: use displayed value in computed measure Task: 4517312

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:06:49+00:00,[],2025-01-31 17:45:40+00:00,2025-01-31 17:45:40+00:00,https://github.com/odoo/odoo/pull/195933,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626555785, 'issue_id': 2822731183, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 6, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626555858, 'issue_id': 2822731183, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195933.png)](https://mergebot.odoo.com/odoo/odoo/pull/195933)', 'created_at': datetime.datetime(2025, 1, 31, 8, 6, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626555923, 'issue_id': 2822731183, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 6, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626752410, 'issue_id': 2822731183, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 32, 5, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:06:51 UTC): robodoo fw=no

robodoo on (2025-01-31 08:06:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195933.png)](https://mergebot.odoo.com/odoo/odoo/pull/195933)

robodoo on (2025-01-31 08:06:54 UTC): Disabled forward-porting.

rrahir on (2025-01-31 09:32:05 UTC): @robodoo r+

"
2822729851,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/54a344ada [REL] 17.4.20 Task: 0
https://github.com/odoo/o-spreadsheet/commit/21aff1031 [FIX] auto-complete: hide auto-complete when selecting a cell Task: 4022927
https://github.com/odoo/o-spreadsheet/commit/b3142c3bb [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/34df539d2 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:05:56+00:00,[],2025-01-31 15:53:01+00:00,2025-01-31 15:53:01+00:00,https://github.com/odoo/odoo/pull/195932,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626552482, 'issue_id': 2822729851, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 5, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626552554, 'issue_id': 2822729851, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195932.png)](https://mergebot.odoo.com/odoo/odoo/pull/195932)', 'created_at': datetime.datetime(2025, 1, 31, 8, 5, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626552696, 'issue_id': 2822729851, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 6, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626752215, 'issue_id': 2822729851, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 31, 58, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:05:58 UTC): robodoo fw=no

robodoo on (2025-01-31 08:05:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195932.png)](https://mergebot.odoo.com/odoo/odoo/pull/195932)

robodoo on (2025-01-31 08:06:01 UTC): Disabled forward-porting.

rrahir on (2025-01-31 09:31:58 UTC): @robodoo r+

"
2822728808,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/0bffee921 [REL] 17.2.34 Task: 0
https://github.com/odoo/o-spreadsheet/commit/0cb28d1e8 [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/230ca8ae2 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:05:12+00:00,[],2025-01-31 10:52:55+00:00,2025-01-31 10:52:55+00:00,https://github.com/odoo/odoo/pull/195931,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626549672, 'issue_id': 2822728808, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 5, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626549721, 'issue_id': 2822728808, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195931.png)](https://mergebot.odoo.com/odoo/odoo/pull/195931)', 'created_at': datetime.datetime(2025, 1, 31, 8, 5, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626549851, 'issue_id': 2822728808, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 5, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626751913, 'issue_id': 2822728808, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 31, 50, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:05:14 UTC): robodoo fw=no

robodoo on (2025-01-31 08:05:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195931.png)](https://mergebot.odoo.com/odoo/odoo/pull/195931)

robodoo on (2025-01-31 08:05:16 UTC): Disabled forward-porting.

rrahir on (2025-01-31 09:31:50 UTC): @robodoo r+

"
2822727614,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/a22bce25a [REL] 17.0.47 Task: 0
https://github.com/odoo/o-spreadsheet/commit/cb183eddb [FIX] locale: wrong parsing with ""."" thousand separator Task: 4525746
https://github.com/odoo/o-spreadsheet/commit/8d5855b64 [FIX] ui_sheet: batch resize commands in `AUTORESIZE_ROWS` Task: 4504918

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-01-31 08:04:27+00:00,[],2025-01-31 11:44:36+00:00,2025-01-31 11:44:36+00:00,https://github.com/odoo/odoo/pull/195930,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626546909, 'issue_id': 2822727614, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 1, 31, 8, 4, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626546984, 'issue_id': 2822727614, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195930.png)](https://mergebot.odoo.com/odoo/odoo/pull/195930)', 'created_at': datetime.datetime(2025, 1, 31, 8, 4, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626547064, 'issue_id': 2822727614, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 1, 31, 8, 4, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626751679, 'issue_id': 2822727614, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 31, 44, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-01-31 08:04:29 UTC): robodoo fw=no

robodoo on (2025-01-31 08:04:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195930.png)](https://mergebot.odoo.com/odoo/odoo/pull/195930)

robodoo on (2025-01-31 08:04:31 UTC): Disabled forward-porting.

rrahir on (2025-01-31 09:31:44 UTC): @robodoo r+

"
2822708025,pull_request,closed,,[FIX] tests: retore test-file behaviour,"Following #191388, the test-file behavior was broken. The commit introducing the issue fixes a case that was working before but was never specified (actually, it was a bug)

This commit reverts the previous fix to restore the test-tags behavior We could consider manage both cases, but it's not clear if it's worth it The / part of a tag was always meant to be a module (/base) and was extended to allow a more precise selection (/base/tests/test_ui.py) but it was never meant to be a filename or partial filepath (/test_ui.py)
",Xavier-Do,2025-01-31 07:53:38+00:00,[],2025-01-31 10:54:38+00:00,2025-01-31 10:54:37+00:00,https://github.com/odoo/odoo/pull/195929,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2626514241, 'issue_id': 2822708025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195929.png)](https://mergebot.odoo.com/odoo/odoo/pull/195929)', 'created_at': datetime.datetime(2025, 1, 31, 7, 53, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626664294, 'issue_id': 2822708025, 'author': 'Xavier-Do', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 44, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 07:53:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195929.png)](https://mergebot.odoo.com/odoo/odoo/pull/195929)

Xavier-Do (Issue Creator) on (2025-01-31 08:44:56 UTC): @robodoo r+

"
2822658875,pull_request,closed,,Master sass support rar,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pro-odoo,2025-01-31 07:24:39+00:00,[],2025-02-05 13:46:23+00:00,2025-02-05 13:46:23+00:00,https://github.com/odoo/odoo/pull/195928,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626473726, 'issue_id': 2822658875, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195928.png)](https://mergebot.odoo.com/odoo/odoo/pull/195928)', 'created_at': datetime.datetime(2025, 1, 31, 7, 24, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 07:24:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195928.png)](https://mergebot.odoo.com/odoo/odoo/pull/195928)

"
2822614297,pull_request,closed,,[FW][FIX] website: fix the old image gallery crash after upgrading,"Steps to reproduce:

- In V17.0 drag and drop an ""Image Gallery"" block into the page.
- Upgrade to 18.0
- Click on the last ""Image Gallery"" indicator and then quickly on the first one.
- Traceback: ""TypeError: Cannot read properties of null (reading 'classList') at Carousel._setActiveIndicatorElement ...""

This issue is caused by the front-end code of the image gallery, which updates the active indicator during a slide event. When the crash happens, it cannot find the active slide in the DOM.

After investigation, everything already works with Bootstrap, and the purpose of this code remains unclear. However, in the stable version, we are not taking any risks and will not modify it.

In this commit, we simply added a return; in case the active slide is not found.

opw-4519455

Forward-Port-Of: odoo/odoo#195606",fw-bot,2025-01-31 06:59:37+00:00,[],2025-01-31 13:53:12+00:00,2025-01-31 13:53:12+00:00,https://github.com/odoo/odoo/pull/195927,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2626443416, 'issue_id': 2822614297, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195927.png)](https://mergebot.odoo.com/odoo/odoo/pull/195927)', 'created_at': datetime.datetime(2025, 1, 31, 6, 59, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626443468, 'issue_id': 2822614297, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#195606 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/website/static/src/snippets/s_image_gallery/000.js deleted in 2a64b9293562217b0d47197ac2576432190627f4 and modified in 942da88b0e3cb75b911a12ea7a2708476ecc79fc.  Version 942da88b0e3cb75b911a12ea7a2708476ecc79fc of addons/website/static/src/snippets/s_image_gallery/000.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 6, 59, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627408173, 'issue_id': 2822614297, 'author': 'bvr-odoo', 'body': '@SergeBayet I close this one.\r\nfixed in master by https://github.com/odoo/odoo/pull/196003', 'created_at': datetime.datetime(2025, 1, 31, 13, 53, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 06:59:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195927.png)](https://mergebot.odoo.com/odoo/odoo/pull/195927)

fw-bot (Issue Creator) on (2025-01-31 06:59:40 UTC): @bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#195606 failed.

stdout:
```
CONFLICT (modify/delete): addons/website/static/src/snippets/s_image_gallery/000.js deleted in 2a64b9293562217b0d47197ac2576432190627f4 and modified in 942da88b0e3cb75b911a12ea7a2708476ecc79fc.  Version 942da88b0e3cb75b911a12ea7a2708476ecc79fc of addons/website/static/src/snippets/s_image_gallery/000.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-01-31 13:53:12 UTC): @SergeBayet I close this one.
fixed in master by https://github.com/odoo/odoo/pull/196003

"
2822611671,pull_request,open,,[IMP] point_of_sale: include free text attribute value on invoice,"In this commit:
===
- The free text attribute value is now displayed on the invoice alongside the product name.

task-4526756
",meji-odoo,2025-01-31 06:57:48+00:00,[],2025-02-03 11:52:47+00:00,,https://github.com/odoo/odoo/pull/195926,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626441174, 'issue_id': 2822611671, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195926.png)](https://mergebot.odoo.com/odoo/odoo/pull/195926)', 'created_at': datetime.datetime(2025, 1, 31, 6, 57, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 06:57:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195926.png)](https://mergebot.odoo.com/odoo/odoo/pull/195926)

"
2822467063,pull_request,open,,"[FIX] im_livechat, *: ensure 'question selection' step has answers","*= crm_livechat, website_livechat

**Current behavior before PR**:

It was possible to save a step with step_type set to ""question selection"" without any answers. However, this would cause an error when the bot was tested or executed.

**Desired behavior after PR is merged**:

A constraint has been added to ensure that a ""question selection"" step cannot be saved without at least one answer.

**task-id**:4522835

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",akap-odoo,2025-01-31 05:16:20+00:00,[],2025-01-31 06:12:27+00:00,,https://github.com/odoo/odoo/pull/195925,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626323291, 'issue_id': 2822467063, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195925.png)](https://mergebot.odoo.com/odoo/odoo/pull/195925)', 'created_at': datetime.datetime(2025, 1, 31, 5, 16, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 05:16:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195925.png)](https://mergebot.odoo.com/odoo/odoo/pull/195925)

"
2822455024,pull_request,closed,,[IMP] point_of_sale: align amounts in the payment screen,"In this commit:
==========
- Improved the alignment of the remaining amount, change amount, and payment line amount.
- Ensured all amounts were consistently aligned on the same line for better readability.

task-4517934
",paan-odoo,2025-01-31 05:05:33+00:00,[],2025-02-06 14:06:37+00:00,2025-02-06 14:06:37+00:00,https://github.com/odoo/odoo/pull/195924,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626311673, 'issue_id': 2822455024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195924.png)](https://mergebot.odoo.com/odoo/odoo/pull/195924)', 'created_at': datetime.datetime(2025, 1, 31, 5, 5, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 05:05:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195924.png)](https://mergebot.odoo.com/odoo/odoo/pull/195924)

"
2822438963,pull_request,open,,[IMP] various: add group by properties filter in search,"**Specifications :**
Add search group by **Properties** in following places:
- Event Attendees
- Employees
- Maintenance Equipment
- Products
- Fleet
- HR Applicant
- HR Candidate
- Repair
- Stock Lot
- Stock Picking

Task-3989993
",yagp-odoo,2025-01-31 04:50:11+00:00,[],2025-02-04 12:11:45+00:00,,https://github.com/odoo/odoo/pull/195923,"[('RD', 'research & development, internal work')]","[{'comment_id': 2626294545, 'issue_id': 2822438963, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195923.png)](https://mergebot.odoo.com/odoo/odoo/pull/195923)', 'created_at': datetime.datetime(2025, 1, 31, 4, 50, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 04:50:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195923.png)](https://mergebot.odoo.com/odoo/odoo/pull/195923)

"
2822430667,pull_request,closed,,[FW][FIX] mail: crash when navigating empty emoji picker,"Before this PR, pressing the right arrow key when the emoji picker was empty led to a crash.

Steps to reproduce:
- Open the picker
- Type a search that matches no emojis (""ezaeazeza"")
- Press the right arrow

This PR fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195828",fw-bot,2025-01-31 04:42:35+00:00,[],2025-01-31 11:27:19+00:00,2025-01-31 10:54:24+00:00,https://github.com/odoo/odoo/pull/195922,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2626286577, 'issue_id': 2822430667, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195922.png)](https://mergebot.odoo.com/odoo/odoo/pull/195922)', 'created_at': datetime.datetime(2025, 1, 31, 4, 42, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626286582, 'issue_id': 2822430667, 'author': 'fw-bot', 'body': '@tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 4, 42, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626576141, 'issue_id': 2822430667, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 12, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 04:42:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195922.png)](https://mergebot.odoo.com/odoo/odoo/pull/195922)

fw-bot (Issue Creator) on (2025-01-31 04:42:37 UTC): @tsm-odoo @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tsm-odoo on (2025-01-31 08:12:28 UTC): @robodoo r+

"
2822277168,pull_request,closed,,[FW][FIX] sale_loyalty: update coupon partner after login,"Versions
--------
- saas-17.4+

Steps
-----
1. Create a `next_order_coupons` loyalty program;
2. go to eCommerce as Public User;
3. add products to cart so that the program gets applied;
4. on checkout, log in as Portal User during delivery step;
5. finalize payment.

Issue
-----
Two coupons were created: one for Public User with 0 points, one with no partner and 1 point.

There should only be one coupon, and it should be linked to the logged in user.

Cause
-----
PR https://github.com/odoo/odoo/pull/163545 changed `next_order_coupons` programs to set a partner when created. Issue is when they get created as Public user, the next call to `_update_programs_and_rewards` when logged in will remove the point entries for that coupon, as it's linked to partner that doesn't match the sale order's: https://github.com/odoo/odoo/blob/278ce01fe1882ea424032dcf97c4d345816be96e/addons/sale_loyalty/models/sale_order.py#L867-L870

Solution
--------
Before checking whether to unlink the point entries, update the coupon's `partner_id` if it was created for Public User and the sale order itself is no longer linked to Public User.

Also when generating new coupons in `_update_programs_and_rewards`, link `next_order_coupons` to the customer to make it behave identical to coupons created via `__try_apply_program` (relevant when changing the SO customer from a one specific partner to another specific partner).

opw-4397753

Forward-Port-Of: odoo/odoo#194936",fw-bot,2025-01-31 02:09:50+00:00,[],2025-01-31 13:42:46+00:00,2025-01-31 13:42:46+00:00,https://github.com/odoo/odoo/pull/195921,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2626146309, 'issue_id': 2822277168, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195921.png)](https://mergebot.odoo.com/odoo/odoo/pull/195921)', 'created_at': datetime.datetime(2025, 1, 31, 2, 9, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626146316, 'issue_id': 2822277168, 'author': 'fw-bot', 'body': '@lvsz this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195918\n* odoo/odoo#195915\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 2, 9, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626980629, 'issue_id': 2822277168, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 11, 26, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 02:09:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195921.png)](https://mergebot.odoo.com/odoo/odoo/pull/195921)

fw-bot (Issue Creator) on (2025-01-31 02:09:52 UTC): @lvsz this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195918
* odoo/odoo#195915

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-01-31 11:26:25 UTC): @robodoo r+

"
2822271475,pull_request,closed,,[FW][FIX] websites_slides: allow pdf zoom in and out on phone,"Upon zooming in on the elearning slides view from the mobile by
finger pinch, the whole page zooms in and not just the content,
which causes the content quality to be still blurry.

To Reproduce on Runbot:
1.Go to eLearning module.
2.Go to ""Edit"" on any of the courses.
3.Add a pdf content.
4.From the phone, go to the website elearning for the same course.
4.Click on the pdf content we uploaded.
5.Try finger pinch zooming in, the document gets still blurry.
6.The issue seems to be that there's no finger pinch zoom in and out,
  and when you try doing that the whole page zooms in and out, not
  changing the quality of the document.

So, the solution was to make zoom in and out icon available on small
screen devices as well.

opw-3893275

Forward-Port-Of: odoo/odoo#178655",fw-bot,2025-01-31 02:04:44+00:00,[],2025-01-31 10:54:49+00:00,2025-01-31 10:54:49+00:00,https://github.com/odoo/odoo/pull/195920,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2626141616, 'issue_id': 2822271475, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195920.png)](https://mergebot.odoo.com/odoo/odoo/pull/195920)', 'created_at': datetime.datetime(2025, 1, 31, 2, 4, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626141626, 'issue_id': 2822271475, 'author': 'fw-bot', 'body': '@bikh-odoo @flch-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195919\n* odoo/odoo#195789\n* odoo/odoo#195767\n* odoo/odoo#195744\n* odoo/odoo#195719\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 2, 4, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626719742, 'issue_id': 2822271475, 'author': 'flch-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 14, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 02:04:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195920.png)](https://mergebot.odoo.com/odoo/odoo/pull/195920)

fw-bot (Issue Creator) on (2025-01-31 02:04:46 UTC): @bikh-odoo @flch-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195919
* odoo/odoo#195789
* odoo/odoo#195767
* odoo/odoo#195744
* odoo/odoo#195719

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

flch-odoo on (2025-01-31 09:14:43 UTC): @robodoo r+

"
2822162923,pull_request,closed,,[FW][FIX] websites_slides: allow pdf zoom in and out on phone,"Upon zooming in on the elearning slides view from the mobile by
finger pinch, the whole page zooms in and not just the content,
which causes the content quality to be still blurry.

To Reproduce on Runbot:
1.Go to eLearning module.
2.Go to ""Edit"" on any of the courses.
3.Add a pdf content.
4.From the phone, go to the website elearning for the same course.
4.Click on the pdf content we uploaded.
5.Try finger pinch zooming in, the document gets still blurry.
6.The issue seems to be that there's no finger pinch zoom in and out,
  and when you try doing that the whole page zooms in and out, not
  changing the quality of the document.

So, the solution was to make zoom in and out icon available on small
screen devices as well.

opw-3893275

Forward-Port-Of: odoo/odoo#178655",fw-bot,2025-01-31 00:44:31+00:00,[],2025-01-31 12:29:17+00:00,2025-01-31 12:29:17+00:00,https://github.com/odoo/odoo/pull/195919,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626031552, 'issue_id': 2822162923, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195919.png)](https://mergebot.odoo.com/odoo/odoo/pull/195919)', 'created_at': datetime.datetime(2025, 1, 31, 0, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626031569, 'issue_id': 2822162923, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 0, 44, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 00:44:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195919.png)](https://mergebot.odoo.com/odoo/odoo/pull/195919)

fw-bot (Issue Creator) on (2025-01-31 00:44:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2822161577,pull_request,closed,,[FW][FIX] sale_loyalty: update coupon partner after login,"Versions
--------
- saas-17.4+

Steps
-----
1. Create a `next_order_coupons` loyalty program;
2. go to eCommerce as Public User;
3. add products to cart so that the program gets applied;
4. on checkout, log in as Portal User during delivery step;
5. finalize payment.

Issue
-----
Two coupons were created: one for Public User with 0 points, one with no partner and 1 point.

There should only be one coupon, and it should be linked to the logged in user.

Cause
-----
PR https://github.com/odoo/odoo/pull/163545 changed `next_order_coupons` programs to set a partner when created. Issue is when they get created as Public user, the next call to `_update_programs_and_rewards` when logged in will remove the point entries for that coupon, as it's linked to partner that doesn't match the sale order's: https://github.com/odoo/odoo/blob/278ce01fe1882ea424032dcf97c4d345816be96e/addons/sale_loyalty/models/sale_order.py#L867-L870

Solution
--------
Before checking whether to unlink the point entries, update the coupon's `partner_id` if it was created for Public User and the sale order itself is no longer linked to Public User.

Also when generating new coupons in `_update_programs_and_rewards`, link `next_order_coupons` to the customer to make it behave identical to coupons created via `__try_apply_program` (relevant when changing the SO customer from a one specific partner to another specific partner).

opw-4397753

Forward-Port-Of: odoo/odoo#194936",fw-bot,2025-01-31 00:43:09+00:00,[],2025-01-31 13:50:42+00:00,2025-01-31 13:50:42+00:00,https://github.com/odoo/odoo/pull/195918,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2626030221, 'issue_id': 2822161577, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195918.png)](https://mergebot.odoo.com/odoo/odoo/pull/195918)', 'created_at': datetime.datetime(2025, 1, 31, 0, 43, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626030233, 'issue_id': 2822161577, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 0, 43, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-31 00:43:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195918.png)](https://mergebot.odoo.com/odoo/odoo/pull/195918)

fw-bot (Issue Creator) on (2025-01-31 00:43:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2822086109,pull_request,open,,[FW][FIX] base: show all groups menu in group view,"Scenario: set a menu to be visible only to a group you don't have
Result: the menu is not shown in the list of menu on the group form view

Why: in 17.0, web_read was added that is adding a search for ordering
results of x2many according to order in specification. This is
interfering with custom code of ir.ui.menu that is filtering out menu
that are not visible (in the interface) to you.

Fix: add context key that bypass the ir.ui.menu filtering in the
res.groups window action.

opw-4376374

Forward-Port-Of: odoo/odoo#195329",fw-bot,2025-01-30 23:49:34+00:00,[],2025-02-03 02:01:32+00:00,,https://github.com/odoo/odoo/pull/195917,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625957574, 'issue_id': 2822086109, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195917.png)](https://mergebot.odoo.com/odoo/odoo/pull/195917)', 'created_at': datetime.datetime(2025, 1, 30, 23, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625957585, 'issue_id': 2822086109, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 23, 49, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626030479, 'issue_id': 2822086109, 'author': 'fw-bot', 'body': '@nle-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 31, 0, 43, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729180, 'issue_id': 2822086109, 'author': 'fw-bot', 'body': '@nle-odoo this forward port of odoo/odoo#195329 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 23:49:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195917.png)](https://mergebot.odoo.com/odoo/odoo/pull/195917)

fw-bot (Issue Creator) on (2025-01-30 23:49:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 00:43:26 UTC): @nle-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-03 02:01:31 UTC): @nle-odoo this forward port of odoo/odoo#195329 is awaiting action (not merged or closed).

"
2822085656,pull_request,closed,,[FW][FIX] web: Prevent users from using json field in the field_selector,"Steps:
    - Install `purchase` or any other model with analytic_mixin
    - Install `analytic`
    - Install `web_studio`
    - Enable analytic in configuration
    - Add a new approval on 'button_confirm' in `purchase.order`
    - Set a domain with analytic_distribution e.g
    -   - e.g. (""order_line.analytic_distribution"", ""="", ""Administrative"")
    - Click on Refresh button
    - The refresh button preview shows x records
    - Create a new purchase.order
    - Add analytic on optional column
    - Add a new product with analytic_distribution Administrative
    - Try to use `button_confirm`
    - Approval is not working while the refresh shows record is available

The json fields, in particular the `analytic_distribution` fields, are not designed to be searched via a `filtered_domain` (which is what studio approval uses to check whether or not a button can be used by the current user), this is currently a technical limitation.

To avoid any future problems, this commit prevents users from using a json field to search on them, since this is not supported.

opw-4416646

Forward-Port-Of: odoo/odoo#195765",fw-bot,2025-01-30 23:49:16+00:00,[],2025-01-31 09:45:52+00:00,2025-01-31 09:45:52+00:00,https://github.com/odoo/odoo/pull/195916,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625957211, 'issue_id': 2822085656, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195916.png)](https://mergebot.odoo.com/odoo/odoo/pull/195916)', 'created_at': datetime.datetime(2025, 1, 30, 23, 49, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625957224, 'issue_id': 2822085656, 'author': 'fw-bot', 'body': '@abz-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#195765 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/core/model_field_selector/model_field_selector_popover.js\nCONFLICT (modify/delete): addons/web/static/tests/core/model_field_selector_tests.js deleted in 55e8ae7a025f6353f76ba059c48ab86659bf3fe8 and modified in 5875270da07c82f9009b53247c0c06e2582c540d.  Version 5875270da07c82f9009b53247c0c06e2582c540d of addons/web/static/tests/core/model_field_selector_tests.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 23, 49, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626470574, 'issue_id': 2822085656, 'author': 'abz-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 22, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 23:49:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195916.png)](https://mergebot.odoo.com/odoo/odoo/pull/195916)

fw-bot (Issue Creator) on (2025-01-30 23:49:18 UTC): @abz-odoo @polymorphe57 cherrypicking of pull request odoo/odoo#195765 failed.

stdout:
```
Auto-merging addons/web/static/src/core/model_field_selector/model_field_selector_popover.js
CONFLICT (modify/delete): addons/web/static/tests/core/model_field_selector_tests.js deleted in 55e8ae7a025f6353f76ba059c48ab86659bf3fe8 and modified in 5875270da07c82f9009b53247c0c06e2582c540d.  Version 5875270da07c82f9009b53247c0c06e2582c540d of addons/web/static/tests/core/model_field_selector_tests.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abz-odoo on (2025-01-31 07:22:12 UTC): @robodoo r+

"
2822019781,pull_request,closed,,[FW][FIX] sale_loyalty: update coupon partner after login,"Versions
--------
- saas-17.4+

Steps
-----
1. Create a `next_order_coupons` loyalty program;
2. go to eCommerce as Public User;
3. add products to cart so that the program gets applied;
4. on checkout, log in as Portal User during delivery step;
5. finalize payment.

Issue
-----
Two coupons were created: one for Public User with 0 points, one with no partner and 1 point.

There should only be one coupon, and it should be linked to the logged in user.

Cause
-----
PR https://github.com/odoo/odoo/pull/163545 changed `next_order_coupons` programs to set a partner when created. Issue is when they get created as Public user, the next call to `_update_programs_and_rewards` when logged in will remove the point entries for that coupon, as it's linked to partner that doesn't match the sale order's: https://github.com/odoo/odoo/blob/278ce01fe1882ea424032dcf97c4d345816be96e/addons/sale_loyalty/models/sale_order.py#L867-L870

Solution
--------
Before checking whether to unlink the point entries, update the coupon's `partner_id` if it was created for Public User and the sale order itself is no longer linked to Public User.

Also when generating new coupons in `_update_programs_and_rewards`, link `next_order_coupons` to the customer to make it behave identical to coupons created via `__try_apply_program` (relevant when changing the SO customer from a one specific partner to another specific partner).

opw-4397753

Forward-Port-Of: odoo/odoo#194936",fw-bot,2025-01-30 23:14:51+00:00,[],2025-01-31 17:45:43+00:00,2025-01-31 17:45:43+00:00,https://github.com/odoo/odoo/pull/195915,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625857657, 'issue_id': 2822019781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195915.png)](https://mergebot.odoo.com/odoo/odoo/pull/195915)', 'created_at': datetime.datetime(2025, 1, 30, 23, 14, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625857719, 'issue_id': 2822019781, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 23, 14, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 23:14:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195915.png)](https://mergebot.odoo.com/odoo/odoo/pull/195915)

fw-bot (Issue Creator) on (2025-01-30 23:14:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821990713,pull_request,closed,,[FW][FIX] web: add a few emoji shortcodes,"This commit adds a few shortcodes to emojis that felt missing such as `:coffee:`.

Also use single space in the emoji suggestion when an emoji has more than 1 shortcode, for consistency with emoji picker search placeholder and also `,` is distracting: emoji shortcodes have no whitespace so whitespace is enough of a separator.

Forward-Port-Of: odoo/odoo#195447",fw-bot,2025-01-30 23:00:03+00:00,[],2025-01-31 14:00:01+00:00,2025-01-31 13:42:42+00:00,https://github.com/odoo/odoo/pull/195914,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625791296, 'issue_id': 2821990713, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195914.png)](https://mergebot.odoo.com/odoo/odoo/pull/195914)', 'created_at': datetime.datetime(2025, 1, 30, 23, 0, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625791308, 'issue_id': 2821990713, 'author': 'fw-bot', 'body': '@phenix-factory @alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 23, 0, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625950856, 'issue_id': 2821990713, 'author': 'fw-bot', 'body': '@phenix-factory @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 23, 43, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626973362, 'issue_id': 2821990713, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 11, 22, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 23:00:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195914.png)](https://mergebot.odoo.com/odoo/odoo/pull/195914)

fw-bot (Issue Creator) on (2025-01-30 23:00:05 UTC): @phenix-factory @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 23:43:47 UTC): @phenix-factory @alexkuhn ci/runbot failed on this forward-port PR

alexkuhn on (2025-01-31 11:22:17 UTC): @robodoo r+

"
2821912031,pull_request,closed,,[FW][FIX] mass_mailing: avoid automatic unsubscribe from mail,"Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

task-4364446

Forward-Port-Of: odoo/odoo#195643
Forward-Port-Of: odoo/odoo#189561",fw-bot,2025-01-30 22:06:10+00:00,[],2025-01-31 17:45:43+00:00,2025-01-31 17:45:42+00:00,https://github.com/odoo/odoo/pull/195913,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625696174, 'issue_id': 2821912031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195913.png)](https://mergebot.odoo.com/odoo/odoo/pull/195913)', 'created_at': datetime.datetime(2025, 1, 30, 22, 6, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625696233, 'issue_id': 2821912031, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo cherrypicking of pull request odoo/odoo#189561 failed.\n\nstdout:\n```\nAuto-merging addons/mass_mailing/controllers/main.py\nAuto-merging addons/mass_mailing/i18n/mass_mailing.pot\nCONFLICT (content): Merge conflict in addons/mass_mailing/i18n/mass_mailing.pot\nAuto-merging addons/mass_mailing/models/mailing.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 22, 6, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626729521, 'issue_id': 2821912031, 'author': 'std-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 20, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 22:06:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195913.png)](https://mergebot.odoo.com/odoo/odoo/pull/195913)

fw-bot (Issue Creator) on (2025-01-30 22:06:13 UTC): @creaturemusings @std-odoo cherrypicking of pull request odoo/odoo#189561 failed.

stdout:
```
Auto-merging addons/mass_mailing/controllers/main.py
Auto-merging addons/mass_mailing/i18n/mass_mailing.pot
CONFLICT (content): Merge conflict in addons/mass_mailing/i18n/mass_mailing.pot
Auto-merging addons/mass_mailing/models/mailing.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

std-odoo on (2025-01-31 09:20:10 UTC): @robodoo r+

"
2821892865,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: the number sent in vendor bills should be the…,"… ref, not the name

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194714",fw-bot,2025-01-30 21:53:00+00:00,[],2025-01-31 06:50:00+00:00,2025-01-31 06:50:00+00:00,https://github.com/odoo/odoo/pull/195912,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625674929, 'issue_id': 2821892865, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195912.png)](https://mergebot.odoo.com/odoo/odoo/pull/195912)', 'created_at': datetime.datetime(2025, 1, 30, 21, 53, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625674951, 'issue_id': 2821892865, 'author': 'fw-bot', 'body': '@jco-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195906\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 21, 53, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625786914, 'issue_id': 2821892865, 'author': 'jco-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 22, 57, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 21:53:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195912.png)](https://mergebot.odoo.com/odoo/odoo/pull/195912)

fw-bot (Issue Creator) on (2025-01-30 21:53:02 UTC): @jco-odoo @rugo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195906

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jco-odoo on (2025-01-30 22:57:12 UTC): @robodoo r+

"
2821889974,pull_request,closed,,[FW][FIX] marketing_card: make page titles translatable,"[opw-4421055](https://www.odoo.com/odoo/project.task/4504454)

Forward-Port-Of: odoo/odoo#195786",fw-bot,2025-01-30 21:50:54+00:00,[],2025-02-03 13:08:41+00:00,2025-02-03 13:08:41+00:00,https://github.com/odoo/odoo/pull/195911,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625671503, 'issue_id': 2821889974, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195911.png)](https://mergebot.odoo.com/odoo/odoo/pull/195911)', 'created_at': datetime.datetime(2025, 1, 30, 21, 50, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625671522, 'issue_id': 2821889974, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta cherrypicking of pull request odoo/odoo#195786 failed.\n\nstdout:\n```\nAuto-merging addons/marketing_card/i18n/marketing_card.pot\nCONFLICT (content): Merge conflict in addons/marketing_card/i18n/marketing_card.pot\nAuto-merging addons/marketing_card/views/card_campaign_views.xml\nCONFLICT (content): Merge conflict in addons/marketing_card/views/card_campaign_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 21, 50, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728803, 'issue_id': 2821889974, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta this forward port of odoo/odoo#195786 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630289395, 'issue_id': 2821889974, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 8, 37, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 21:50:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195911.png)](https://mergebot.odoo.com/odoo/odoo/pull/195911)

fw-bot (Issue Creator) on (2025-01-30 21:50:56 UTC): @dylankiss @oomsveta cherrypicking of pull request odoo/odoo#195786 failed.

stdout:
```
Auto-merging addons/marketing_card/i18n/marketing_card.pot
CONFLICT (content): Merge conflict in addons/marketing_card/i18n/marketing_card.pot
Auto-merging addons/marketing_card/views/card_campaign_views.xml
CONFLICT (content): Merge conflict in addons/marketing_card/views/card_campaign_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:11 UTC): @dylankiss @oomsveta this forward port of odoo/odoo#195786 is awaiting action (not merged or closed).

dylankiss on (2025-02-03 08:37:34 UTC): @robodoo r+

"
2821856178,pull_request,open,,[FIX] mrp: correctly plan necessary workorders,"https://github.com/odoo/odoo/pull/112800 added a fix to ignore planning done or cancelled workorders. However it introduced an issue where any unfinished workorders before the ignored workorder will also be ignored and cause a traceback in certain workflows.

Steps to reproduce
-----
1. Create a manufacturing order, and add 2 workorders
2. Start and finish the 2nd workorder
3. Attempt to add a 3rd workorder
4. Traceback occurs
```
    'date_planned_start': min([workorder.leave_id.date_from for workorder in workorders]),
TypeError: '<' not supported between instances of 'datetime.datetime' and 'bool'
```

Cause
-----
This early continue added in https://github.com/odoo/odoo/pull/112800 is too eager: https://github.com/odoo/odoo/blob/f19b61b640c6623aad3269d8f0e515b5480e6880/addons/mrp/models/mrp_workorder.py#L525-L526
Although the specified workorder should be ignored, it could potentially have children (`workorder.blocked_by_workorder_ids`) that need to be planned.

Solution
-----
Remove the early continue and keep running `_plan_workorder` on the done/cancelled workorder. All of its children `workorder.blocked_by_workorder_ids` will be correctly planned in the recursive call, and the done/cancelled workorder will still be correctly ignored afterwards in this existing early return:
https://github.com/odoo/odoo/blob/f19b61b640c6623aad3269d8f0e515b5480e6880/addons/mrp/models/mrp_workorder.py#L529-L531
Also backport the fix from https://github.com/odoo/odoo/pull/123802 to handle the null `date_planned_finished` from the ignored workorder.

opw-4497704",juwu-odoo,2025-01-30 21:28:25+00:00,[],2025-02-06 13:16:18+00:00,,https://github.com/odoo/odoo/pull/195910,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2625633397, 'issue_id': 2821856178, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195910.png)](https://mergebot.odoo.com/odoo/odoo/pull/195910)', 'created_at': datetime.datetime(2025, 1, 30, 21, 28, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639434082, 'issue_id': 2821856178, 'author': 'Whenrow', 'body': '@juwu-odoo I would only patch the `max` but keep the `continue`. Thank you', 'created_at': datetime.datetime(2025, 2, 6, 10, 32, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639802509, 'issue_id': 2821856178, 'author': 'juwu-odoo', 'body': '> @juwu-odoo I would only patch the `max` but keep the `continue`. Thank you\n\n@Whenrow thanks for the review!\nWhy are we keeping the `continue`? If the `continue` is still there, then the traceback will still occur in the mentioned workflow...', 'created_at': datetime.datetime(2025, 2, 6, 13, 16, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 21:28:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195910.png)](https://mergebot.odoo.com/odoo/odoo/pull/195910)

Whenrow on (2025-02-06 10:32:20 UTC): @juwu-odoo I would only patch the `max` but keep the `continue`. Thank you

juwu-odoo (Issue Creator) on (2025-02-06 13:16:16 UTC): @Whenrow thanks for the review!
Why are we keeping the `continue`? If the `continue` is still there, then the traceback will still occur in the mentioned workflow...

"
2821829464,pull_request,closed,,[FIX] web: correctly detect empty fields,"At two different places, we try to determine if the value of an html field is empty. To do so, we create a node on the fly and set its innerHTML to that value. Then, we check if the element has a non-empty innerText. However, this doesn't work as expected if the given value is a text instead of a markuped html. This commit fixes the issue.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-30 21:11:12+00:00,[],2025-01-31 16:03:38+00:00,2025-01-31 16:03:38+00:00,https://github.com/odoo/odoo/pull/195909,"[('RD', 'research & development, internal work')]","[{'comment_id': 2625603421, 'issue_id': 2821829464, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195909.png)](https://mergebot.odoo.com/odoo/odoo/pull/195909)', 'created_at': datetime.datetime(2025, 1, 30, 21, 11, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627446368, 'issue_id': 2821829464, 'author': 'kebeclibre', 'body': '@fw-bot up to 17.0\r\n@robodoo r+ delegate+', 'created_at': datetime.datetime(2025, 1, 31, 14, 10, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 21:11:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195909.png)](https://mergebot.odoo.com/odoo/odoo/pull/195909)

kebeclibre on (2025-01-31 14:10:31 UTC): @fw-bot up to 17.0
@robodoo r+ delegate+

"
2821791366,pull_request,closed,,[FW][FIX] mass_mailing: avoid automatic unsubscribe from mail,"Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

task-4364446

Forward-Port-Of: odoo/odoo#195643
Forward-Port-Of: odoo/odoo#189561",fw-bot,2025-01-30 20:50:33+00:00,[],2025-01-31 08:43:56+00:00,2025-01-31 08:43:56+00:00,https://github.com/odoo/odoo/pull/195908,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625551895, 'issue_id': 2821791366, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195908.png)](https://mergebot.odoo.com/odoo/odoo/pull/195908)', 'created_at': datetime.datetime(2025, 1, 30, 20, 50, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625551917, 'issue_id': 2821791366, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 20, 50, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625696191, 'issue_id': 2821791366, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo the next pull request (odoo/odoo#195913) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 22, 6, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626448825, 'issue_id': 2821791366, 'author': 'std-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 3, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 20:50:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195908.png)](https://mergebot.odoo.com/odoo/odoo/pull/195908)

fw-bot (Issue Creator) on (2025-01-30 20:50:35 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 22:06:12 UTC): @creaturemusings @std-odoo the next pull request (odoo/odoo#195913) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

std-odoo on (2025-01-31 07:03:45 UTC): @robodoo r+

"
2821773609,pull_request,closed,,[FIX] web: action service: soft_reload: reload correct record,"From a list or kanban view with several records, open a record in form view. Then use the pager to navigate to another record. From this point, execute the `soft_reload` client action (e.g. call a python method from a view button, which returns that client action). This client action is supposed to reload the current controller (the form view in this case), without reloading the whole webclient.

Before this commit, the form was indeed reloaded, but the reloaded record was the one we opened first, not the one we reached after navigating with the pager. With this commit, the correct record is reloaded.

Issue spotted for task-3935688

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-01-30 20:40:15+00:00,[],2025-02-03 14:59:29+00:00,2025-02-03 14:44:28+00:00,https://github.com/odoo/odoo/pull/195907,"[('RD', 'research & development, internal work')]","[{'comment_id': 2625531908, 'issue_id': 2821773609, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195907.png)](https://mergebot.odoo.com/odoo/odoo/pull/195907)', 'created_at': datetime.datetime(2025, 1, 30, 20, 40, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626865677, 'issue_id': 2821773609, 'author': 'kebeclibre', 'body': 'robodoo delegate+', 'created_at': datetime.datetime(2025, 1, 31, 10, 27, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630543969, 'issue_id': 2821773609, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 10, 27, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630737005, 'issue_id': 2821773609, 'author': 'AntoineVDV', 'body': 'Works like a charm :+1:', 'created_at': datetime.datetime(2025, 2, 3, 11, 54, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 20:40:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195907.png)](https://mergebot.odoo.com/odoo/odoo/pull/195907)

kebeclibre on (2025-01-31 10:27:04 UTC): robodoo delegate+

jpp-odoo on (2025-02-03 10:27:55 UTC): @robodoo r+

AntoineVDV on (2025-02-03 11:54:51 UTC): Works like a charm :+1:

"
2821762364,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai: the number sent in vendor bills should be the…,"… ref, not the name

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194714",fw-bot,2025-01-30 20:33:39+00:00,[],2025-02-03 10:02:37+00:00,2025-02-03 10:02:37+00:00,https://github.com/odoo/odoo/pull/195906,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625520188, 'issue_id': 2821762364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195906.png)](https://mergebot.odoo.com/odoo/odoo/pull/195906)', 'created_at': datetime.datetime(2025, 1, 30, 20, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625520209, 'issue_id': 2821762364, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 20, 33, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626111865, 'issue_id': 2821762364, 'author': 'robodoo', 'body': '@jco-odoo @rugo-odoo staging failed: ci/runbot on fda217b5121b19ca399358fd1a689cbf9f90f759 (view more at https://runbot.odoo.com/runbot/build/74258745)', 'created_at': datetime.datetime(2025, 1, 31, 1, 46, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730098, 'issue_id': 2821762364, 'author': 'fw-bot', 'body': '@jco-odoo @rugo-odoo this forward port of odoo/odoo#194714 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630142822, 'issue_id': 2821762364, 'author': 'robodoo', 'body': ""This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish."", 'created_at': datetime.datetime(2025, 2, 3, 7, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 20:33:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195906.png)](https://mergebot.odoo.com/odoo/odoo/pull/195906)

fw-bot (Issue Creator) on (2025-01-30 20:33:41 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-31 01:46:23 UTC): @jco-odoo @rugo-odoo staging failed: ci/runbot on fda217b5121b19ca399358fd1a689cbf9f90f759 (view more at https://runbot.odoo.com/runbot/build/74258745)

fw-bot (Issue Creator) on (2025-02-03 02:02:17 UTC): @jco-odoo @rugo-odoo this forward port of odoo/odoo#194714 is awaiting action (not merged or closed).

robodoo on (2025-02-03 07:13:00 UTC): This staging failed for probably sprurious reasons, we've reset the PR, it should be re-staged soon-ish.

"
2821761849,pull_request,closed,,"[FW][IMP] account{,_edi_ubl_cii,_peppol}: Misc improvements","Miscellanous improvements to the Print & Send and to Peppol onboarding:

- Nicer translation, warning messages.
- Let the bank account be editable when the invoice is posted. Only make it readonly when the invoice is sent.
- Some UX change of the EAS fields.
- Print & Send: check ""email"" by default, even when no email is set. We also go back to the default behavior and let a modal open when the email is not set. This will be improved in the generic feature in the future.
- Print & Send: Rename ""Recipients"" to ""To"".
- Add a ""Print"" button to invoice form so that it prints the PDF.
- Update the EAS mapping per country.
- EAS renaming to be more user-friendly.
- Add a Print button to quickly preview the PDF.
!this does not trigger a Print & Send wizard => no declaration to government.
- Rename Print & Send to ""Send"" as we did in 18.1+ already.

task-4478365

Forward-Port-Of: odoo/odoo#195069",fw-bot,2025-01-30 20:33:20+00:00,[],2025-02-03 13:02:16+00:00,2025-02-03 13:02:16+00:00,https://github.com/odoo/odoo/pull/195905,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625519632, 'issue_id': 2821761849, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195905.png)](https://mergebot.odoo.com/odoo/odoo/pull/195905)', 'created_at': datetime.datetime(2025, 1, 30, 20, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625519684, 'issue_id': 2821761849, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl cherrypicking of pull request odoo/odoo#195069 failed.\n\nstdout:\n```\nAuto-merging addons/account/i18n/account.pot\nCONFLICT (content): Merge conflict in addons/account/i18n/account.pot\nAuto-merging addons/account/models/account_move.py\nAuto-merging addons/account/models/account_move_send.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move_send.py\nAuto-merging addons/account/static/src/js/tours/account.js\nCONFLICT (content): Merge conflict in addons/account/static/src/js/tours/account.js\nAuto-merging addons/account/tests/test_account_move_send.py\nCONFLICT (content): Merge conflict in addons/account/tests/test_account_move_send.py\nAuto-merging addons/account/views/account_move_views.xml\nCONFLICT (content): Merge conflict in addons/account/views/account_move_views.xml\nAuto-merging addons/account/wizard/account_move_send_wizard.py\nCONFLICT (content): Merge conflict in addons/account/wizard/account_move_send_wizard.py\nAuto-merging addons/account/wizard/account_move_send_wizard.xml\nCONFLICT (content): Merge conflict in addons/account/wizard/account_move_send_wizard.xml\nAuto-merging addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot\nAuto-merging addons/account_edi_ubl_cii/i18n/de.po\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/de.po\nAuto-merging addons/account_edi_ubl_cii/i18n/fr.po\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/fr.po\nAuto-merging addons/account_edi_ubl_cii/i18n/nl.po\nAuto-merging addons/account_edi_ubl_cii/models/account_edi_common.py\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/models/account_edi_common.py\nAuto-merging addons/account_edi_ubl_cii/models/res_partner.py\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/models/res_partner.py\nAuto-merging addons/account_peppol/i18n/account_peppol.pot\nCONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot\nAuto-merging addons/account_peppol/models/account_move_send.py\nAuto-merging addons/account_peppol/views/res_partner_views.xml\nAuto-merging addons/account_peppol/wizard/peppol_registration.py\nAuto-merging addons/account_peppol/wizard/peppol_registration_views.xml\nCONFLICT (content): Merge conflict in addons/account_peppol/wizard/peppol_registration_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 20, 33, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729698, 'issue_id': 2821761849, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl this forward port of odoo/odoo#195069 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630459507, 'issue_id': 2821761849, 'author': 'clbr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 9, 52, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630459613, 'issue_id': 2821761849, 'author': 'robodoo', 'body': '@clbr-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 3, 9, 52, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 20:33:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195905.png)](https://mergebot.odoo.com/odoo/odoo/pull/195905)

fw-bot (Issue Creator) on (2025-01-30 20:33:24 UTC): @clbr-odoo @smetl cherrypicking of pull request odoo/odoo#195069 failed.

stdout:
```
Auto-merging addons/account/i18n/account.pot
CONFLICT (content): Merge conflict in addons/account/i18n/account.pot
Auto-merging addons/account/models/account_move.py
Auto-merging addons/account/models/account_move_send.py
CONFLICT (content): Merge conflict in addons/account/models/account_move_send.py
Auto-merging addons/account/static/src/js/tours/account.js
CONFLICT (content): Merge conflict in addons/account/static/src/js/tours/account.js
Auto-merging addons/account/tests/test_account_move_send.py
CONFLICT (content): Merge conflict in addons/account/tests/test_account_move_send.py
Auto-merging addons/account/views/account_move_views.xml
CONFLICT (content): Merge conflict in addons/account/views/account_move_views.xml
Auto-merging addons/account/wizard/account_move_send_wizard.py
CONFLICT (content): Merge conflict in addons/account/wizard/account_move_send_wizard.py
Auto-merging addons/account/wizard/account_move_send_wizard.xml
CONFLICT (content): Merge conflict in addons/account/wizard/account_move_send_wizard.xml
Auto-merging addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot
Auto-merging addons/account_edi_ubl_cii/i18n/de.po
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/de.po
Auto-merging addons/account_edi_ubl_cii/i18n/fr.po
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/fr.po
Auto-merging addons/account_edi_ubl_cii/i18n/nl.po
Auto-merging addons/account_edi_ubl_cii/models/account_edi_common.py
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/models/account_edi_common.py
Auto-merging addons/account_edi_ubl_cii/models/res_partner.py
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/models/res_partner.py
Auto-merging addons/account_peppol/i18n/account_peppol.pot
CONFLICT (content): Merge conflict in addons/account_peppol/i18n/account_peppol.pot
Auto-merging addons/account_peppol/models/account_move_send.py
Auto-merging addons/account_peppol/views/res_partner_views.xml
Auto-merging addons/account_peppol/wizard/peppol_registration.py
Auto-merging addons/account_peppol/wizard/peppol_registration_views.xml
CONFLICT (content): Merge conflict in addons/account_peppol/wizard/peppol_registration_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:53 UTC): @clbr-odoo @smetl this forward port of odoo/odoo#195069 is awaiting action (not merged or closed).

clbr-odoo on (2025-02-03 09:52:34 UTC): @robodoo r+

robodoo on (2025-02-03 09:52:36 UTC): @clbr-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2821757646,pull_request,closed,,[FW][FIX] stock: allow creation of lotless quant with quantity,"### Steps to reproduce:

- Create a storable product tracked by lot/serial
- Click on ""On Hand""
- Create a new line with 10 ""On Hand Quantity"" WITHOUT lot/serial
- Go back to the product: The ""On Hand"" quantity is still at 0.
- Click back to the ""On Hand"": the quantity of the line is back to 0.

### Cause of the issue:

When a new line is created and the ""On Hand Quantity"" is edited from the `view_stock_quant_tree` view, we actually performs a create of the stock.quant followed by a write on the `inventory_quantity_auto_apply`. At this point the 'quantity' field of the new quant is not set and the `action_apply_inventory` of the `inventory_quantity_auto_apply` is expected to create and validate a move line in order to update our quant quantities here:
https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L230-L235 However, this steps will never be performed as we return the call before the `_apply_invetory` because our quant is set without lots: https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L447-L449 https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L465-L477

### Fix:

Since the return value of the `action_apply_inventory` is only expected to be used in the `view_stock_quant_tree_editable` (Inventory adjustment ) where it is not possible to set the `inventory_quantity_auto_apply` inventory, we skip this return in case the calls has been performed from setting the `inventory_quantity_auto_apply` and proceed with the `_apply_inventory`.

opw-4428050
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194068",fw-bot,2025-01-30 20:30:50+00:00,[],2025-02-03 11:42:22+00:00,2025-02-03 11:42:22+00:00,https://github.com/odoo/odoo/pull/195904,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625515101, 'issue_id': 2821757646, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195904.png)](https://mergebot.odoo.com/odoo/odoo/pull/195904)', 'created_at': datetime.datetime(2025, 1, 30, 20, 30, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625515117, 'issue_id': 2821757646, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 20, 30, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625587933, 'issue_id': 2821757646, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 21, 2, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 20:30:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195904.png)](https://mergebot.odoo.com/odoo/odoo/pull/195904)

fw-bot (Issue Creator) on (2025-01-30 20:30:52 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 21:02:16 UTC): @lase-odoo @Whenrow ci/runbot failed on this forward-port PR

"
2821700681,pull_request,closed,,[FW][FIX] base: prevent branding on wrapped nodes identified by xpath($0),"The $0 placeholder in templates is highly useful, but it is not considered when saving a view. For instance, the search icon in the shop search bar has an incorrect xpath:
`/data/xpath[3]/form/t[1]/div[1]/button[1]/i[1]`, where the inner `t[1]` actually points to another view through a `<t>$0</t>` containing the inherited view.

The method responsible for handling this replacement fails when the element is editable, causing a crash.

This commit ensures that when an xpath jumps to another template, it disallows the branding.

task-3609835

Forward-Port-Of: odoo/odoo#187760",fw-bot,2025-01-30 19:59:10+00:00,[],2025-01-31 08:07:13+00:00,2025-01-31 08:07:13+00:00,https://github.com/odoo/odoo/pull/195903,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625451019, 'issue_id': 2821700681, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195903.png)](https://mergebot.odoo.com/odoo/odoo/pull/195903)', 'created_at': datetime.datetime(2025, 1, 30, 19, 59, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625451035, 'issue_id': 2821700681, 'author': 'fw-bot', 'body': '@SergeBayet @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195889\n* odoo/odoo#195875\n* odoo/odoo#195858\n* odoo/odoo#195823\n* odoo/odoo#195788\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 59, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625532136, 'issue_id': 2821700681, 'author': 'fw-bot', 'body': '@SergeBayet @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 20, 40, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626408409, 'issue_id': 2821700681, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 6, 30, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:59:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195903.png)](https://mergebot.odoo.com/odoo/odoo/pull/195903)

fw-bot (Issue Creator) on (2025-01-30 19:59:12 UTC): @SergeBayet @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195889
* odoo/odoo#195875
* odoo/odoo#195858
* odoo/odoo#195823
* odoo/odoo#195788

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 20:40:25 UTC): @SergeBayet @qsm-odoo ci/runbot failed on this forward-port PR

SergeBayet on (2025-01-31 06:30:10 UTC): @robodoo r+

"
2821681592,pull_request,open,,[FIX] l10n_cl: document_type field visibility on localizations different than CL,"Description of the issue/feature this PR addresses:
This PR intends to fix an issue we encountered when you have CL localization installed with other LATAM localizations.
The problem is that l10n_cl is modifying the visibility of the field ""Document number"" to appear when necessary directly on latam_invoice_document view. This make that the field visibility is being changed on other localizations as well when you have both installed.

Current behavior before PR:
The ""Document Number"" field below ""Document Type"" should is present on uruguayan electronic invoices (where it should not be).

Desired behavior after PR is merged:
The ""Document Number"" field is present on chilean invoices as expected and not in uruguayan electronic invoices.

Steps to reproduce the error:
- Install l10n_uy
- On the UY company, go to Customer/Invoices section, create one, select a customer and check that you have an electronic journal selected. The field ""Document Number"" should not be present.
- Install l10n_cl
- Go to the previously created invoice and check that the field ""Document Number"" now appears. 

Ticket ADHOC side: 86491
Ticket Odoo side: 4505977


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jue-adhoc,2025-01-30 19:48:28+00:00,[],2025-02-04 18:17:21+00:00,,https://github.com/odoo/odoo/pull/195902,"[('Localization', 'about adapting the content to a specify country (usually chart of accounts)')]","[{'comment_id': 2625429879, 'issue_id': 2821681592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195902.png)](https://mergebot.odoo.com/odoo/odoo/pull/195902)', 'created_at': datetime.datetime(2025, 1, 30, 19, 48, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:48:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195902.png)](https://mergebot.odoo.com/odoo/odoo/pull/195902)

"
2821655053,pull_request,closed,,[FW][FIX] mass_mailing: avoid automatic unsubscribe from mail,"Email clients have begun implementing security measures to protect users from phishing by analyzing email links, and interacting with them (see task-3972953).

This has the side effect of automatically unsubscribing email recipients from mailing lists by clicking the link in the footer of the emails.

This commit adds an intermediate step to the process, by requiring users to click on a button before they are unsubscribed.

task-4364446

Forward-Port-Of: odoo/odoo#195643
Forward-Port-Of: odoo/odoo#189561",fw-bot,2025-01-30 19:33:32+00:00,[],2025-01-31 08:31:49+00:00,2025-01-31 08:31:49+00:00,https://github.com/odoo/odoo/pull/195901,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625400923, 'issue_id': 2821655053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195901.png)](https://mergebot.odoo.com/odoo/odoo/pull/195901)', 'created_at': datetime.datetime(2025, 1, 30, 19, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625400939, 'issue_id': 2821655053, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 33, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:33:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195901.png)](https://mergebot.odoo.com/odoo/odoo/pull/195901)

fw-bot (Issue Creator) on (2025-01-30 19:33:38 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821646898,pull_request,closed,,[FW][FIX] point_of_sale: assume refund if all lines are negative,"Assuming that an order is a refund with the presence of some negative lines is
not compatible with the current implementation of pos_loyalty rewards.

In this PR, we make an assumption that is valid in most cases than previous,
such that an order is a refund if all of its lines are negative.

Forward-Port-Of: odoo/odoo#195705",fw-bot,2025-01-30 19:29:06+00:00,[],2025-01-31 09:25:04+00:00,2025-01-31 09:25:04+00:00,https://github.com/odoo/odoo/pull/195900,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625391669, 'issue_id': 2821646898, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195900.png)](https://mergebot.odoo.com/odoo/odoo/pull/195900)', 'created_at': datetime.datetime(2025, 1, 30, 19, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625391692, 'issue_id': 2821646898, 'author': 'fw-bot', 'body': '@caburj @vlst-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195882\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 29, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626480510, 'issue_id': 2821646898, 'author': 'caburj', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 7, 29, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:29:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195900.png)](https://mergebot.odoo.com/odoo/odoo/pull/195900)

fw-bot (Issue Creator) on (2025-01-30 19:29:10 UTC): @caburj @vlst-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195882

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

caburj on (2025-01-31 07:29:57 UTC): robodoo r+

"
2821643646,pull_request,closed,,[FW][FIX] sale_pdf_quote_builder: multi compute,"This fix addresses a minor issue with the
`_compute_available_product_document_ids` method of `sale.order`, which doesn't fully support multi-compute.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193747",fw-bot,2025-01-30 19:27:16+00:00,[],2025-02-06 13:34:02+00:00,2025-02-06 13:34:02+00:00,https://github.com/odoo/odoo/pull/195899,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2625387986, 'issue_id': 2821643646, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195899.png)](https://mergebot.odoo.com/odoo/odoo/pull/195899)', 'created_at': datetime.datetime(2025, 1, 30, 19, 27, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625388079, 'issue_id': 2821643646, 'author': 'fw-bot', 'body': '@lipiraux @Feyensv cherrypicking of pull request odoo/odoo#193747 failed.\n\nstdout:\n```\nAuto-merging addons/sale_pdf_quote_builder/models/sale_order.py\nCONFLICT (content): Merge conflict in addons/sale_pdf_quote_builder/models/sale_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 27, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730474, 'issue_id': 2821643646, 'author': 'fw-bot', 'body': '@lipiraux @Feyensv this forward port of odoo/odoo#193747 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639222513, 'issue_id': 2821643646, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 7, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:27:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195899.png)](https://mergebot.odoo.com/odoo/odoo/pull/195899)

fw-bot (Issue Creator) on (2025-01-30 19:27:20 UTC): @lipiraux @Feyensv cherrypicking of pull request odoo/odoo#193747 failed.

stdout:
```
Auto-merging addons/sale_pdf_quote_builder/models/sale_order.py
CONFLICT (content): Merge conflict in addons/sale_pdf_quote_builder/models/sale_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:02:41 UTC): @lipiraux @Feyensv this forward port of odoo/odoo#193747 is awaiting action (not merged or closed).

Feyensv on (2025-02-06 09:07:30 UTC): @robodoo r+

"
2821629329,pull_request,closed,,[FW][FIX] stock: allow creation of lotless quant with quantity,"### Steps to reproduce:

- Create a storable product tracked by lot/serial
- Click on ""On Hand""
- Create a new line with 10 ""On Hand Quantity"" WITHOUT lot/serial
- Go back to the product: The ""On Hand"" quantity is still at 0.
- Click back to the ""On Hand"": the quantity of the line is back to 0.

### Cause of the issue:

When a new line is created and the ""On Hand Quantity"" is edited from the `view_stock_quant_tree` view, we actually performs a create of the stock.quant followed by a write on the `inventory_quantity_auto_apply`. At this point the 'quantity' field of the new quant is not set and the `action_apply_inventory` of the `inventory_quantity_auto_apply` is expected to create and validate a move line in order to update our quant quantities here:
https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L230-L235 However, this steps will never be performed as we return the call before the `_apply_invetory` because our quant is set without lots: https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L447-L449 https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L465-L477

### Fix:

Since the return value of the `action_apply_inventory` is only expected to be used in the `view_stock_quant_tree_editable` (Inventory adjustment ) where it is not possible to set the `inventory_quantity_auto_apply` inventory, we skip this return in case the calls has been performed from setting the `inventory_quantity_auto_apply` and proceed with the `_apply_inventory`.

opw-4428050
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194068",fw-bot,2025-01-30 19:19:29+00:00,[],2025-02-03 11:43:42+00:00,2025-02-03 11:43:42+00:00,https://github.com/odoo/odoo/pull/195898,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625372200, 'issue_id': 2821629329, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195898.png)](https://mergebot.odoo.com/odoo/odoo/pull/195898)', 'created_at': datetime.datetime(2025, 1, 30, 19, 19, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625372225, 'issue_id': 2821629329, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 19, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:19:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195898.png)](https://mergebot.odoo.com/odoo/odoo/pull/195898)

fw-bot (Issue Creator) on (2025-01-30 19:19:31 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821600911,pull_request,closed,,[FW][FIX] mail: increase max-height of message edit,"Edit of message was limited to 100px of height, which is too narrow especially when editing a message in chatter.

This 100px made sense when chat windows were small, but now there's no point to restrict as much.

This commit increases to up to 4 times the height, so 400px, giving much more room to edit long messages.

Before
<img width=""2557"" alt=""Screenshot 2025-01-30 at 16 17 23"" src=""https://github.com/user-attachments/assets/eee3e2a9-e8db-4c3a-a7b0-02999d9f4c0b"" />

After
<img width=""2558"" alt=""Screenshot 2025-01-30 at 16 17 00"" src=""https://github.com/user-attachments/assets/52a32b90-f8ce-4c51-9842-62a0d61307ef"" />

Forward-Port-Of: odoo/odoo#195825",fw-bot,2025-01-30 19:03:39+00:00,[],2025-01-31 10:12:09+00:00,2025-01-31 06:49:53+00:00,https://github.com/odoo/odoo/pull/195897,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625339713, 'issue_id': 2821600911, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195897.png)](https://mergebot.odoo.com/odoo/odoo/pull/195897)', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625339747, 'issue_id': 2821600911, 'author': 'fw-bot', 'body': '@alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625777633, 'issue_id': 2821600911, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 22, 50, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:03:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195897.png)](https://mergebot.odoo.com/odoo/odoo/pull/195897)

fw-bot (Issue Creator) on (2025-01-30 19:03:41 UTC): @alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-30 22:50:23 UTC): @robodoo r+

"
2821600370,pull_request,closed,,[FW][FIX] mail: delay chat window changes until chat hub is loaded,"Changes to chat window done before chat hub is loaded would either be overriden by the initial chat hub state, or overriding the initial state depending on when during the restore process the change would happen.

This commit ensures the initial state is always restored before doing other changes.

Forward-Port-Of: odoo/odoo#195237",fw-bot,2025-01-30 19:03:20+00:00,[],2025-01-31 10:12:03+00:00,2025-01-31 06:49:47+00:00,https://github.com/odoo/odoo/pull/195896,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2625339035, 'issue_id': 2821600370, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195896.png)](https://mergebot.odoo.com/odoo/odoo/pull/195896)', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625339057, 'issue_id': 2821600370, 'author': 'fw-bot', 'body': '@seb-odoo cherrypicking of pull request odoo/odoo#195237 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/static/src/core/common/thread_model_patch.js\nAuto-merging addons/im_livechat/static/tests/embed/livechat_service.test.js\nAuto-merging addons/mail/static/src/core/common/store_service.js\nAuto-merging addons/mail/static/src/core/common/thread_model.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/thread_model.js\nAuto-merging addons/mail/static/src/discuss/core/common/discuss_core_common_service.js\nAuto-merging addons/mail/static/src/discuss/core/common/thread_model_patch.js\nAuto-merging addons/mail/static/src/discuss/core/public_web/thread_model_patch.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:03:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195896.png)](https://mergebot.odoo.com/odoo/odoo/pull/195896)

fw-bot (Issue Creator) on (2025-01-30 19:03:22 UTC): @seb-odoo cherrypicking of pull request odoo/odoo#195237 failed.

stdout:
```
Auto-merging addons/im_livechat/static/src/core/common/thread_model_patch.js
Auto-merging addons/im_livechat/static/tests/embed/livechat_service.test.js
Auto-merging addons/mail/static/src/core/common/store_service.js
Auto-merging addons/mail/static/src/core/common/thread_model.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/thread_model.js
Auto-merging addons/mail/static/src/discuss/core/common/discuss_core_common_service.js
Auto-merging addons/mail/static/src/discuss/core/common/thread_model_patch.js
Auto-merging addons/mail/static/src/discuss/core/public_web/thread_model_patch.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821599760,pull_request,closed,,[FW][IMP] point_of_sale: ui improvements,"In this commit:
===
- Added the fa-fw class to the expand controls menu button for icon sizing.
- Reduced the size of the left pane to 10% for better screen utilization.
- Displayed product attribute names below the product name in the cart.
- Right-aligned the status in the ticket screen for improved layout consistency.

task-4486420

Forward-Port-Of: odoo/odoo#193896",fw-bot,2025-01-30 19:03:01+00:00,[],2025-01-31 06:50:22+00:00,2025-01-31 06:50:22+00:00,https://github.com/odoo/odoo/pull/195895,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625338385, 'issue_id': 2821599760, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195895.png)](https://mergebot.odoo.com/odoo/odoo/pull/195895)', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625338401, 'issue_id': 2821599760, 'author': 'fw-bot', 'body': '@meji-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626296626, 'issue_id': 2821599760, 'author': 'meji-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 4, 52, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:03:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195895.png)](https://mergebot.odoo.com/odoo/odoo/pull/195895)

fw-bot (Issue Creator) on (2025-01-30 19:03:03 UTC): @meji-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

meji-odoo on (2025-01-31 04:52:15 UTC): @robodoo r+

"
2821599179,pull_request,closed,,[FW][FIX] web: add a fallback if there is no previous controller,"- open a record with an URL: `/{model}/{id}`;
- delete or archive the record;

Before this commit, an empty form view was displayed, with an incorrect URL: `/{model}/new`. This form view was inconsistent, and would throw an error in some applications (such as accounting). Even if no error was thrown, an error would be thrown if the user clicked on the 'back' button.

This is not the correct behaviour, when deleting or archiving a record, the correct behaviour is :
- if a pager exists, display the next record;
- if not, return to the previous controller (the previous action, usually the multi-record view);

The issue here is that we don't have a previous action or a multi-record view.

Now, in this particular case, we will fallback to the default application.

opw-4354129

Forward-Port-Of: odoo/odoo#195795
Forward-Port-Of: odoo/odoo#195393",fw-bot,2025-01-30 19:02:42+00:00,[],2025-01-31 07:47:44+00:00,2025-01-31 05:39:37+00:00,https://github.com/odoo/odoo/pull/195894,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625337725, 'issue_id': 2821599179, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195894.png)](https://mergebot.odoo.com/odoo/odoo/pull/195894)', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625337752, 'issue_id': 2821599179, 'author': 'fw-bot', 'body': '@jpp-odoo @aab-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625339761, 'issue_id': 2821599179, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 19, 3, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:02:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195894.png)](https://mergebot.odoo.com/odoo/odoo/pull/195894)

fw-bot (Issue Creator) on (2025-01-30 19:02:44 UTC): @jpp-odoo @aab-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jpp-odoo on (2025-01-30 19:03:41 UTC): @robodoo r+

"
2821598619,pull_request,closed,,[FW][FIX] web: put default_group_by facet in front of others,"This commit simply shifts the default_group_by facet's position to the front so that users won't accidentally remove it using backspace (after a typo for example).

task-4523387

Forward-Port-Of: odoo/odoo#195630",fw-bot,2025-01-30 19:02:22+00:00,[],2025-01-31 05:39:41+00:00,2025-01-31 05:39:41+00:00,https://github.com/odoo/odoo/pull/195893,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625337075, 'issue_id': 2821598619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195893.png)](https://mergebot.odoo.com/odoo/odoo/pull/195893)', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625337115, 'issue_id': 2821598619, 'author': 'fw-bot', 'body': '@juliusc2066 @polymorphe57 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625342151, 'issue_id': 2821598619, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 19, 4, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:02:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195893.png)](https://mergebot.odoo.com/odoo/odoo/pull/195893)

fw-bot (Issue Creator) on (2025-01-30 19:02:26 UTC): @juliusc2066 @polymorphe57 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-01-30 19:04:50 UTC): @robodoo r+

"
2821597462,pull_request,closed,,[FW][IMP] base: improve test_uncommented_invisible_field error message,"### Description of the issue/feature this PR addresses:
Since this PR #162009, all uncommented invisible fields raise an error.
This commit improves the error message from the method `test_uncommented_invisible_field` by showing which line of the view should be removed/commented.

The error message before this commit :
```
Addons: 'module_name'   Views: ['view_name1', 'view_name2']
```

After:
```
Addon: 'module_name'
   View: view_name1
      Fields:
         <field name=""field1"" invisible=""1"">
         <field name=""field2"" invisible=""1"">
   View: view_name2
      Fields:
         <field name=""field1"" invisible=""1"">
```

The main benefit of this change is to display in a single test all uncommented fields that need to be fixed.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195746
Forward-Port-Of: odoo/odoo#195166",fw-bot,2025-01-30 19:01:54+00:00,[],2025-01-31 05:39:48+00:00,2025-01-31 05:39:48+00:00,https://github.com/odoo/odoo/pull/195892,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625336233, 'issue_id': 2821597462, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195892.png)](https://mergebot.odoo.com/odoo/odoo/pull/195892)', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625336261, 'issue_id': 2821597462, 'author': 'fw-bot', 'body': '@cro-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625580739, 'issue_id': 2821597462, 'author': 'cro-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 20, 58, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:02:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195892.png)](https://mergebot.odoo.com/odoo/odoo/pull/195892)

fw-bot (Issue Creator) on (2025-01-30 19:02:11 UTC): @cro-odoo @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

cro-odoo on (2025-01-30 20:58:09 UTC): @robodoo r+

"
2821596652,pull_request,closed,,[FW][FIX] web_tour: restore tour_automatic unit tests,"In [1], we commented out the tour_automatic unit test file in the
manifest to merge this PR as soon as possible. In this commit,
we uncomment this file.
The solution is to not patch browser.console because it can cause big
problems in the Hoot unit test engine.

Forward-Port-Of: odoo/odoo#195642
Forward-Port-Of: odoo/odoo#194359",fw-bot,2025-01-30 19:01:36+00:00,[],2025-01-31 12:12:12+00:00,2025-01-31 12:12:05+00:00,https://github.com/odoo/odoo/pull/195891,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625336164, 'issue_id': 2821596652, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195891.png)](https://mergebot.odoo.com/odoo/odoo/pull/195891)', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625336187, 'issue_id': 2821596652, 'author': 'fw-bot', 'body': '@pipu-odoo @jum-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626760187, 'issue_id': 2821596652, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 36, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:02:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195891.png)](https://mergebot.odoo.com/odoo/odoo/pull/195891)

fw-bot (Issue Creator) on (2025-01-30 19:02:09 UTC): @pipu-odoo @jum-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-01-31 09:36:06 UTC): @robodoo r+

"
2821596086,pull_request,closed,,[FW][IMP] l10n_in_ewaybill: restrict deletion of attachments,"In this commit:
We restrict the deletion of government related attachments for Ewaybill.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195701",fw-bot,2025-01-30 19:01:17+00:00,[],2025-01-31 06:50:04+00:00,2025-01-31 06:50:04+00:00,https://github.com/odoo/odoo/pull/195890,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625336108, 'issue_id': 2821596086, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195890.png)](https://mergebot.odoo.com/odoo/odoo/pull/195890)', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625336136, 'issue_id': 2821596086, 'author': 'fw-bot', 'body': '@hamo-odoo @jco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 2, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 19:02:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195890.png)](https://mergebot.odoo.com/odoo/odoo/pull/195890)

fw-bot (Issue Creator) on (2025-01-30 19:02:07 UTC): @hamo-odoo @jco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821569003,pull_request,closed,,[FW][FIX] base: prevent branding on wrapped nodes identified by xpath($0),"The $0 placeholder in templates is highly useful, but it is not considered when saving a view. For instance, the search icon in the shop search bar has an incorrect xpath:
`/data/xpath[3]/form/t[1]/div[1]/button[1]/i[1]`, where the inner `t[1]` actually points to another view through a `<t>$0</t>` containing the inherited view.

The method responsible for handling this replacement fails when the element is editable, causing a crash.

This commit ensures that when an xpath jumps to another template, it disallows the branding.

task-3609835

Forward-Port-Of: odoo/odoo#187760",fw-bot,2025-01-30 18:46:13+00:00,[],2025-01-31 12:29:22+00:00,2025-01-31 12:29:22+00:00,https://github.com/odoo/odoo/pull/195889,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625302264, 'issue_id': 2821569003, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195889.png)](https://mergebot.odoo.com/odoo/odoo/pull/195889)', 'created_at': datetime.datetime(2025, 1, 30, 18, 46, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625302287, 'issue_id': 2821569003, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 46, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626555103, 'issue_id': 2821569003, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/runbot on e1f704f632b567c28ef8f9fbfa01bf42cf7cdb3f (view more at https://runbot.odoo.com/runbot/build/74263390)', 'created_at': datetime.datetime(2025, 1, 31, 8, 6, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626649039, 'issue_id': 2821569003, 'author': 'qsm-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 31, 8, 36, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:46:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195889.png)](https://mergebot.odoo.com/odoo/odoo/pull/195889)

fw-bot (Issue Creator) on (2025-01-30 18:46:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-31 08:06:40 UTC): @SergeBayet @qsm-odoo staging failed: ci/runbot on e1f704f632b567c28ef8f9fbfa01bf42cf7cdb3f (view more at https://runbot.odoo.com/runbot/build/74263390)

qsm-odoo on (2025-01-31 08:36:01 UTC): @robodoo retry

"
2821516911,pull_request,closed,,[FW][FIX] l10n_br_website_sale: b2b fields error,"The b2b fields are still required in the portal form
even if the ""Show b2b fields"" is deactivated

Steps:

- From the website editor, on the checkout form,
  unselect the ""Show b2b fields"" setting
- Log out and go to ecommerce
- Add a product to card and checkout
- Fill the address form with a Brazilian address
-> Error: ""Some required fields are empty.""

With this commit, we add the field `vat` to the mandatory fields only if
the option ""Show b2b"" fields is activated.

opw-4403161

Forward-Port-Of: odoo/odoo#195792
Forward-Port-Of: odoo/odoo#194110",fw-bot,2025-01-30 18:18:05+00:00,[],2025-01-31 17:45:41+00:00,2025-01-31 17:45:41+00:00,https://github.com/odoo/odoo/pull/195888,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625243376, 'issue_id': 2821516911, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195888.png)](https://mergebot.odoo.com/odoo/odoo/pull/195888)', 'created_at': datetime.datetime(2025, 1, 30, 18, 18, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625243395, 'issue_id': 2821516911, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 18, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625303162, 'issue_id': 2821516911, 'author': 'fw-bot', 'body': '@guva-odoo @clbr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 18, 46, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626597075, 'issue_id': 2821516911, 'author': 'fw-bot', 'body': '@guva-odoo @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 1, 31, 8, 18, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626805035, 'issue_id': 2821516911, 'author': 'guva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 57, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:18:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195888.png)](https://mergebot.odoo.com/odoo/odoo/pull/195888)

fw-bot (Issue Creator) on (2025-01-30 18:18:07 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 18:46:38 UTC): @guva-odoo @clbr-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 08:18:14 UTC): @guva-odoo @clbr-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

guva-odoo on (2025-01-31 09:57:54 UTC): @robodoo r+

"
2821507541,pull_request,closed,,[FW][FIX] stock: allow creation of lotless quant with quantity,"### Steps to reproduce:

- Create a storable product tracked by lot/serial
- Click on ""On Hand""
- Create a new line with 10 ""On Hand Quantity"" WITHOUT lot/serial
- Go back to the product: The ""On Hand"" quantity is still at 0.
- Click back to the ""On Hand"": the quantity of the line is back to 0.

### Cause of the issue:

When a new line is created and the ""On Hand Quantity"" is edited from the `view_stock_quant_tree` view, we actually performs a create of the stock.quant followed by a write on the `inventory_quantity_auto_apply`. At this point the 'quantity' field of the new quant is not set and the `action_apply_inventory` of the `inventory_quantity_auto_apply` is expected to create and validate a move line in order to update our quant quantities here:
https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L230-L235 However, this steps will never be performed as we return the call before the `_apply_invetory` because our quant is set without lots: https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L447-L449 https://github.com/odoo/odoo/blob/e041e890b91e5bc515e1827683f073781788f253/addons/stock/models/stock_quant.py#L465-L477

### Fix:

Since the return value of the `action_apply_inventory` is only expected to be used in the `view_stock_quant_tree_editable` (Inventory adjustment ) where it is not possible to set the `inventory_quantity_auto_apply` inventory, we skip this return in case the calls has been performed from setting the `inventory_quantity_auto_apply` and proceed with the `_apply_inventory`.

opw-4428050
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194068",fw-bot,2025-01-30 18:13:15+00:00,[],2025-02-03 09:40:12+00:00,2025-02-03 09:40:12+00:00,https://github.com/odoo/odoo/pull/195887,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625233134, 'issue_id': 2821507541, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195887.png)](https://mergebot.odoo.com/odoo/odoo/pull/195887)', 'created_at': datetime.datetime(2025, 1, 30, 18, 13, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625233150, 'issue_id': 2821507541, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 13, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:13:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195887.png)](https://mergebot.odoo.com/odoo/odoo/pull/195887)

fw-bot (Issue Creator) on (2025-01-30 18:13:17 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821506084,pull_request,open,,[IMP] core: log model and method in xmlrpc/jsonrpc,"When calling /web/dataset/call_kw or /web/dataset/call_button, the model and method name are visible on the request path. This is information is very valuable and really helpful when debugging.

The model/method are actually not taken from the path, the information is actually serialized inside the request body which isn't log. It is the webclient who crafts those requests to include `/<model>/<method>` at the end.

It means that:

1. The information could be forged, to trick sysadmins.
2. Not all clients will add `/<model>/<method>` at the end of the path.
3. For the /jsonrpc and /xmlrpc endpoints, since the endpoints are standardized, it is not possible to use the same `/<path:path>` controller trick as call_wk/call_button.

In this work we introduce another global-ish variable `request_fragment` on the current thread which is reset for every request. When set, the value is used when logging the current request, the value is added after the path, as a fake URI fragment.

The fragment part of the URI is client side only, web client will truncate it from the URI when crafting the HTTP request. And is ignored by the server may a rogue client attempts to forge a request. This makes faking a fragment server-side a good candidate to include some more information.

See-Also: e9c633cb7e80 ([IMP] web: call call_kw with full route to help debugging)
See-Also: 7dadcdac5461 ([IMP] web: log model and method on call_button)

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Julien00859,2025-01-30 18:12:33+00:00,[],2025-02-03 16:01:31+00:00,,https://github.com/odoo/odoo/pull/195886,"[('RD', 'research & development, internal work')]","[{'comment_id': 2625231655, 'issue_id': 2821506084, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195886.png)](https://mergebot.odoo.com/odoo/odoo/pull/195886)', 'created_at': datetime.datetime(2025, 1, 30, 18, 12, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627669372, 'issue_id': 2821506084, 'author': 'Julien00859', 'body': ""> @kmagusiak\r\n[fixup Set the fragment on call_kw](https://github.com/odoo/odoo/pull/195886/commits/92674f8d40aaab5e54a996774a41d4d698d22b9c)\r\n\r\nOk then that's not what I want, I don't want duplicate in the logs :D"", 'created_at': datetime.datetime(2025, 1, 31, 15, 51, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628056644, 'issue_id': 2821506084, 'author': 'kmagusiak', 'body': ""> > @kmagusiak\r\n> > [fixup Set the fragment on call_kw](https://github.com/odoo/odoo/pull/195886/commits/92674f8d40aaab5e54a996774a41d4d698d22b9c)\r\n> \r\n> Ok then that's not what I want, I don't want duplicate in the logs :D\r\n\r\nWhy would you call using 'path' that is ignored? I think it is good to duplicate that info in this case."", 'created_at': datetime.datetime(2025, 1, 31, 18, 39, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:12:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195886.png)](https://mergebot.odoo.com/odoo/odoo/pull/195886)

Julien00859 (Issue Creator) on (2025-01-31 15:51:34 UTC): [fixup Set the fragment on call_kw](https://github.com/odoo/odoo/pull/195886/commits/92674f8d40aaab5e54a996774a41d4d698d22b9c)

Ok then that's not what I want, I don't want duplicate in the logs :D

kmagusiak on (2025-01-31 18:39:09 UTC): Why would you call using 'path' that is ignored? I think it is good to duplicate that info in this case.

"
2821505173,pull_request,closed,,[FW][FIX] hr_holidays: restore cancelled in domain,"In https://github.com/odoo/odoo/pull/127877, the active field was removed and replaced with state: cancel. This domain was modified but removed the check for the cancelled state.

opw-4420347

Forward-Port-Of: odoo/odoo#195078
Forward-Port-Of: odoo/odoo#194600",fw-bot,2025-01-30 18:12:09+00:00,[],2025-01-31 12:12:10+00:00,2025-01-31 12:11:56+00:00,https://github.com/odoo/odoo/pull/195885,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625230666, 'issue_id': 2821505173, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195885.png)](https://mergebot.odoo.com/odoo/odoo/pull/195885)', 'created_at': datetime.datetime(2025, 1, 30, 18, 12, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625230698, 'issue_id': 2821505173, 'author': 'fw-bot', 'body': '@goffauxs @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195867\n* odoo/odoo#195846\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 12, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626136444, 'issue_id': 2821505173, 'author': 'fw-bot', 'body': '@goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626739835, 'issue_id': 2821505173, 'author': 'Bertrand2', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 9, 25, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:12:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195885.png)](https://mergebot.odoo.com/odoo/odoo/pull/195885)

fw-bot (Issue Creator) on (2025-01-30 18:12:11 UTC): @goffauxs @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195867
* odoo/odoo#195846

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:46 UTC): @goffauxs @Bertrand2 this forward port of odoo/odoo#194600 is awaiting action (not merged or closed).

Bertrand2 on (2025-01-31 09:25:37 UTC): robodoo r+

"
2821500892,pull_request,closed,,[FW][FIX] sale_pdf_quote_builder: multi compute,"This fix addresses a minor issue with the
`_compute_available_product_document_ids` method of `sale.order`, which doesn't fully support multi-compute.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193747",fw-bot,2025-01-30 18:10:09+00:00,[],2025-01-31 13:50:35+00:00,2025-01-31 13:50:35+00:00,https://github.com/odoo/odoo/pull/195884,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625226283, 'issue_id': 2821500892, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195884.png)](https://mergebot.odoo.com/odoo/odoo/pull/195884)', 'created_at': datetime.datetime(2025, 1, 30, 18, 10, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625226304, 'issue_id': 2821500892, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625388013, 'issue_id': 2821500892, 'author': 'fw-bot', 'body': '@lipiraux @Feyensv the next pull request (odoo/odoo#195899) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 19, 27, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626894356, 'issue_id': 2821500892, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 10, 41, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:10:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195884.png)](https://mergebot.odoo.com/odoo/odoo/pull/195884)

fw-bot (Issue Creator) on (2025-01-30 18:10:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 19:27:18 UTC): @lipiraux @Feyensv the next pull request (odoo/odoo#195899) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-01-31 10:41:21 UTC): @robodoo r+

"
2821500261,pull_request,closed,,[FW][IMP] pos_hr: make edit payment button invisible on receipt print,"Before this commit:
===============
- The 'Edit Payment' button appears even after printing the receipt. (only when pos_hr installed)

After this commit:
===============
- The 'Edit Payment' button will disappear after printing the receipt.

task-4507326


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194999",fw-bot,2025-01-30 18:09:50+00:00,[],2025-02-04 09:46:30+00:00,2025-02-04 09:46:29+00:00,https://github.com/odoo/odoo/pull/195883,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625225707, 'issue_id': 2821500261, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195883.png)](https://mergebot.odoo.com/odoo/odoo/pull/195883)', 'created_at': datetime.datetime(2025, 1, 30, 18, 9, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625225784, 'issue_id': 2821500261, 'author': 'fw-bot', 'body': '@paso-odoo @caburj cherrypicking of pull request odoo/odoo#194999 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 9, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629729750, 'issue_id': 2821500261, 'author': 'fw-bot', 'body': '@paso-odoo @caburj this forward port of odoo/odoo#194999 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633064299, 'issue_id': 2821500261, 'author': 'paso-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 15, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:09:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195883.png)](https://mergebot.odoo.com/odoo/odoo/pull/195883)

fw-bot (Issue Creator) on (2025-01-30 18:09:56 UTC): @paso-odoo @caburj cherrypicking of pull request odoo/odoo#194999 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:57 UTC): @paso-odoo @caburj this forward port of odoo/odoo#194999 is awaiting action (not merged or closed).

paso-odoo on (2025-02-04 07:15:14 UTC): robodoo r+

"
2821499631,pull_request,closed,,[FW][FIX] point_of_sale: assume refund if all lines are negative,"Assuming that an order is a refund with the presence of some negative lines is
not compatible with the current implementation of pos_loyalty rewards.

In this PR, we make an assumption that is valid in most cases than previous,
such that an order is a refund if all of its lines are negative.

Forward-Port-Of: odoo/odoo#195705",fw-bot,2025-01-30 18:09:31+00:00,[],2025-01-31 11:14:23+00:00,2025-01-31 11:14:23+00:00,https://github.com/odoo/odoo/pull/195882,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625224988, 'issue_id': 2821499631, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195882.png)](https://mergebot.odoo.com/odoo/odoo/pull/195882)', 'created_at': datetime.datetime(2025, 1, 30, 18, 9, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625225073, 'issue_id': 2821499631, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 9, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:09:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195882.png)](https://mergebot.odoo.com/odoo/odoo/pull/195882)

fw-bot (Issue Creator) on (2025-01-30 18:09:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821487262,pull_request,closed,,[FW][FIX] web_editor: fix code view check in commitChanges,"**Problem**:
`this.state.showCodeView` cannot be relied upon because `toggleCodeView`
of `HtmlField` is never called in cases like mass mailing. Instead,
`MassMailingSnippetsMenu` forces code view without using the
`HtmlField` mechanism.

**Solution**:
Instead of checking `this.state.showCodeView`, directly check the
return value of `this._getCodeViewEl()` in `MassMailingHtmlField`.

**Steps to Reproduce**:
1. Add an Image-Text snippet.
2. Save the snippet.
3. Resize the image.
4. Switch to code view.
5. Save.
6. Observe that the class `o_modified_image_to_save` is not removed
   from the image.

opw-4406195

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195587
Forward-Port-Of: odoo/odoo#195539",fw-bot,2025-01-30 18:03:08+00:00,[],2025-01-31 05:39:53+00:00,2025-01-31 05:39:53+00:00,https://github.com/odoo/odoo/pull/195881,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625210644, 'issue_id': 2821487262, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195881.png)](https://mergebot.odoo.com/odoo/odoo/pull/195881)', 'created_at': datetime.datetime(2025, 1, 30, 18, 3, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625210675, 'issue_id': 2821487262, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#195863\n* odoo/odoo#195834\n* odoo/odoo#195805\n* odoo/odoo#195770\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 18, 3, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625671244, 'issue_id': 2821487262, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 21, 50, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 18:03:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195881.png)](https://mergebot.odoo.com/odoo/odoo/pull/195881)

fw-bot (Issue Creator) on (2025-01-30 18:03:10 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#195863
* odoo/odoo#195834
* odoo/odoo#195805
* odoo/odoo#195770

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-01-30 21:50:46 UTC): @robodoo r+

"
2821462842,pull_request,closed,,[FW][FIX] website_sale: resolve product reorder issue in shop editor,"**Steps to Reproduce:**
- Navigate to /shop .
- Open editor mode and select a product.
- Use the reorder widget from the editor panel to change the product's position.
- Notice the product jumps 2 positions instead of 1 when reordered.

**Issue:**
- Two products, 'Warranty' and 'Chair Floor Protection', have the same website_sequence. This causes the reorder logic to malfunction, making products jump 2 positions when one is placed in front or behind these two.

**Fix:**
- Updated the website_sequence of conflicting products to ensure all products have unique values.

**Affected Versions:** 16.0~master
opw-4150099

Forward-Port-Of: odoo/odoo#191297",fw-bot,2025-01-30 17:52:13+00:00,[],2025-01-31 15:53:06+00:00,2025-01-31 15:53:06+00:00,https://github.com/odoo/odoo/pull/195880,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2625186955, 'issue_id': 2821462842, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195880.png)](https://mergebot.odoo.com/odoo/odoo/pull/195880)', 'created_at': datetime.datetime(2025, 1, 30, 17, 52, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625187092, 'issue_id': 2821462842, 'author': 'fw-bot', 'body': '@mash-odoo @Feyensv cherrypicking of pull request odoo/odoo#191297 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/website_sale_product_configurator/data/demo.xml deleted in 08a4eb8e4c4b1742dbb0d2231b180d55ada6c883 and modified in 12cd74b85c897b7dec3a6d8643c7321ba51b9db6.  Version 12cd74b85c897b7dec3a6d8643c7321ba51b9db6 of addons/website_sale_product_configurator/data/demo.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 52, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:52:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195880.png)](https://mergebot.odoo.com/odoo/odoo/pull/195880)

fw-bot (Issue Creator) on (2025-01-30 17:52:18 UTC): @mash-odoo @Feyensv cherrypicking of pull request odoo/odoo#191297 failed.

stdout:
```
CONFLICT (modify/delete): addons/website_sale_product_configurator/data/demo.xml deleted in 08a4eb8e4c4b1742dbb0d2231b180d55ada6c883 and modified in 12cd74b85c897b7dec3a6d8643c7321ba51b9db6.  Version 12cd74b85c897b7dec3a6d8643c7321ba51b9db6 of addons/website_sale_product_configurator/data/demo.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2821429458,pull_request,closed,,[FW][FIX] im_livechat: avoid traceback when deleting a livechat channel,"Task-4504442

Forward-Port-Of: odoo/odoo#195750",fw-bot,2025-01-30 17:37:39+00:00,[],2025-02-03 10:00:53+00:00,2025-02-03 10:00:53+00:00,https://github.com/odoo/odoo/pull/195879,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625149237, 'issue_id': 2821429458, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195879.png)](https://mergebot.odoo.com/odoo/odoo/pull/195879)', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625149269, 'issue_id': 2821429458, 'author': 'fw-bot', 'body': '@phenix-factory this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629728852, 'issue_id': 2821429458, 'author': 'fw-bot', 'body': '@phenix-factory this forward port of odoo/odoo#195750 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 1, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630208939, 'issue_id': 2821429458, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 7, 55, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:37:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195879.png)](https://mergebot.odoo.com/odoo/odoo/pull/195879)

fw-bot (Issue Creator) on (2025-01-30 17:37:41 UTC): @phenix-factory this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 02:01:14 UTC): @phenix-factory this forward port of odoo/odoo#195750 is awaiting action (not merged or closed).

phenix-factory on (2025-02-03 07:55:05 UTC): @robodoo r+

"
2821428596,pull_request,closed,,[FW][FIX] mail: keep composer when livechat has ended for operator,"When a livechat has ended, it replaces the composer by ""This livechat conversation has ended"" for both visitor and operators.

This is good for visitor to make it very clear the conversation has ended, and they cannot post message again to the operator unless they initiate another livechat session.

Operators however sometimes need to do extra things after the conversation has ended, such as `/lead`. Because of the removal of composer, this was no longer possible.

This commit fixes the issue by keep showing the composer for livechat operators even when the conversation has ended.

Part of Task-4528331

Before / After
<img width=""383"" alt=""Screenshot 2025-01-30 at 11 25 49"" src=""https://github.com/user-attachments/assets/67ca2f71-180a-4545-9f41-2b3927884a66"" /> <img width=""384"" alt=""Screenshot 2025-01-30 at 11 25 37"" src=""https://github.com/user-attachments/assets/c3e93086-b3fc-4604-9dce-0931178eaeb7"" />

Forward-Port-Of: odoo/odoo#195734",fw-bot,2025-01-30 17:37:20+00:00,[],2025-01-31 10:11:57+00:00,2025-01-31 05:39:32+00:00,https://github.com/odoo/odoo/pull/195878,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625148736, 'issue_id': 2821428596, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195878.png)](https://mergebot.odoo.com/odoo/odoo/pull/195878)', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625148761, 'issue_id': 2821428596, 'author': 'fw-bot', 'body': '@alexkuhn this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625277411, 'issue_id': 2821428596, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 18, 34, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:37:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195878.png)](https://mergebot.odoo.com/odoo/odoo/pull/195878)

fw-bot (Issue Creator) on (2025-01-30 17:37:29 UTC): @alexkuhn this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-30 18:34:23 UTC): @robodoo r+

"
2821428006,pull_request,closed,,[FW][FIX] mail: ease click on call participant collapse button,"The click was on the icon rather than button, and since icon is very small this is quite hard to click.

This commit moves click handler to button, and also increase the click area of button without affecting it's position.

<img width=""292"" alt=""Screenshot 2025-01-30 at 11 57 29"" src=""https://github.com/user-attachments/assets/c8c5a8cd-f463-4440-a9ec-66b42a878aaa"" />

Before / After (click area)
<img width=""293"" alt=""Screenshot 2025-01-30 at 11 58 12"" src=""https://github.com/user-attachments/assets/4e9acb87-e9f8-406d-aa57-48039daa5db7"" /> <img width=""290"" alt=""Screenshot 2025-01-30 at 11 58 57 (2)"" src=""https://github.com/user-attachments/assets/9b00e5f4-eb02-435b-93ca-b503412727ec"" />

Forward-Port-Of: odoo/odoo#195745",fw-bot,2025-01-30 17:37:02+00:00,[],2025-01-31 10:11:30+00:00,2025-01-31 05:39:26+00:00,https://github.com/odoo/odoo/pull/195877,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625148662, 'issue_id': 2821428006, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195877.png)](https://mergebot.odoo.com/odoo/odoo/pull/195877)', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625148688, 'issue_id': 2821428006, 'author': 'fw-bot', 'body': '@alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625277941, 'issue_id': 2821428006, 'author': 'alexkuhn', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 30, 18, 34, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:37:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195877.png)](https://mergebot.odoo.com/odoo/odoo/pull/195877)

fw-bot (Issue Creator) on (2025-01-30 17:37:27 UTC): @alexkuhn @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alexkuhn on (2025-01-30 18:34:38 UTC): @robodoo r+

"
2821427381,pull_request,closed,,[FW][FIX] test_lint: fix list comprehension issue when assigned,"This commit add support for comprenhension expression on assign node

Forward-Port-Of: odoo/odoo#195638
Forward-Port-Of: odoo/odoo#194878",fw-bot,2025-01-30 17:36:42+00:00,[],2025-02-04 23:36:04+00:00,2025-02-04 23:36:04+00:00,https://github.com/odoo/odoo/pull/195876,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2625148563, 'issue_id': 2821427381, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195876.png)](https://mergebot.odoo.com/odoo/odoo/pull/195876)', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625148626, 'issue_id': 2821427381, 'author': 'fw-bot', 'body': '@flvr-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 37, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626135410, 'issue_id': 2821427381, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 1, 31, 2, 1, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628684909, 'issue_id': 2821427381, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 1, 2, 1, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629201666, 'issue_id': 2821427381, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 2, 2, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629730010, 'issue_id': 2821427381, 'author': 'fw-bot', 'body': '@flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).', 'created_at': datetime.datetime(2025, 2, 3, 2, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633702001, 'issue_id': 2821427381, 'author': 'flvr-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 3, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:37:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195876.png)](https://mergebot.odoo.com/odoo/odoo/pull/195876)

fw-bot (Issue Creator) on (2025-01-30 17:37:25 UTC): @flvr-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-31 02:01:40 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-01 02:01:10 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-02 02:01:20 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

fw-bot (Issue Creator) on (2025-02-03 02:02:10 UTC): @flvr-odoo this forward port of odoo/odoo#194878 is awaiting action (not merged or closed).

flvr-odoo on (2025-02-04 12:03:02 UTC): robodoo r+

"
2821417710,pull_request,closed,,[FW][FIX] base: prevent branding on wrapped nodes identified by xpath($0),"The $0 placeholder in templates is highly useful, but it is not considered when saving a view. For instance, the search icon in the shop search bar has an incorrect xpath:
`/data/xpath[3]/form/t[1]/div[1]/button[1]/i[1]`, where the inner `t[1]` actually points to another view through a `<t>$0</t>` containing the inherited view.

The method responsible for handling this replacement fails when the element is editable, causing a crash.

This commit ensures that when an xpath jumps to another template, it disallows the branding.

task-3609835

Forward-Port-Of: odoo/odoo#187760",fw-bot,2025-01-30 17:31:47+00:00,[],2025-01-31 17:45:38+00:00,2025-01-31 17:45:38+00:00,https://github.com/odoo/odoo/pull/195875,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625135172, 'issue_id': 2821417710, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195875.png)](https://mergebot.odoo.com/odoo/odoo/pull/195875)', 'created_at': datetime.datetime(2025, 1, 30, 17, 31, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625135219, 'issue_id': 2821417710, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 31, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626652061, 'issue_id': 2821417710, 'author': 'robodoo', 'body': '@SergeBayet @qsm-odoo staging failed: ci/runbot on 8c123e079d44c8afd9e29ea6f375fa8006611eda (view more at https://runbot.odoo.com/runbot/build/74264169)', 'created_at': datetime.datetime(2025, 1, 31, 8, 37, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626675274, 'issue_id': 2821417710, 'author': 'qsm-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 1, 31, 8, 51, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:31:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195875.png)](https://mergebot.odoo.com/odoo/odoo/pull/195875)

fw-bot (Issue Creator) on (2025-01-30 17:31:49 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-01-31 08:37:42 UTC): @SergeBayet @qsm-odoo staging failed: ci/runbot on 8c123e079d44c8afd9e29ea6f375fa8006611eda (view more at https://runbot.odoo.com/runbot/build/74264169)

qsm-odoo on (2025-01-31 08:51:12 UTC): @robodoo retry

"
2821415611,pull_request,closed,,[FW][FIX] website: fix the old image gallery crash after upgrading,"Steps to reproduce:

- In V17.0 drag and drop an ""Image Gallery"" block into the page.
- Upgrade to 18.0
- Click on the last ""Image Gallery"" indicator and then quickly on the first one.
- Traceback: ""TypeError: Cannot read properties of null (reading 'classList') at Carousel._setActiveIndicatorElement ...""

This issue is caused by the front-end code of the image gallery, which updates the active indicator during a slide event. When the crash happens, it cannot find the active slide in the DOM.

After investigation, everything already works with Bootstrap, and the purpose of this code remains unclear. However, in the stable version, we are not taking any risks and will not modify it.

In this commit, we simply added a return; in case the active slide is not found.

opw-4519455

Forward-Port-Of: odoo/odoo#195606",fw-bot,2025-01-30 17:30:42+00:00,[],2025-02-03 09:28:14+00:00,2025-01-31 12:29:26+00:00,https://github.com/odoo/odoo/pull/195874,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2625132669, 'issue_id': 2821415611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195874.png)](https://mergebot.odoo.com/odoo/odoo/pull/195874)', 'created_at': datetime.datetime(2025, 1, 30, 17, 30, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625132710, 'issue_id': 2821415611, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 30, 17, 30, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625214340, 'issue_id': 2821415611, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 1, 30, 18, 4, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626443428, 'issue_id': 2821415611, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet the next pull request (odoo/odoo#195927) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 1, 31, 6, 59, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626595985, 'issue_id': 2821415611, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 1, 31, 8, 17, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630403457, 'issue_id': 2821415611, 'author': 'fw-bot', 'body': ""@bvr-odoo @SergeBayet ancestor PR odoo/odoo#195827 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 2, 3, 9, 28, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-01-30 17:30:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/195874.png)](https://mergebot.odoo.com/odoo/odoo/pull/195874)

fw-bot (Issue Creator) on (2025-01-30 17:30:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-01-30 18:04:49 UTC): @bvr-odoo @SergeBayet ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-01-31 06:59:39 UTC): @bvr-odoo @SergeBayet the next pull request (odoo/odoo#195927) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-01-31 08:17:57 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-02-03 09:28:13 UTC): @bvr-odoo @SergeBayet ancestor PR odoo/odoo#195827 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

"
