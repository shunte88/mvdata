id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2833606675,pull_request,closed,,[FW][FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535

Forward-Port-Of: odoo/odoo#196486
Forward-Port-Of: odoo/odoo#196433",fw-bot,2025-02-05 17:57:45+00:00,[],2025-02-06 10:43:50+00:00,2025-02-06 10:43:50+00:00,https://github.com/odoo/odoo/pull/196686,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637642114, 'issue_id': 2833606675, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196686.png)](https://mergebot.odoo.com/odoo/odoo/pull/196686)', 'created_at': datetime.datetime(2025, 2, 5, 17, 57, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637642144, 'issue_id': 2833606675, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 57, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:57:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196686.png)](https://mergebot.odoo.com/odoo/odoo/pull/196686)

fw-bot (Issue Creator) on (2025-02-05 17:57:47 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833576229,pull_request,closed,,[FW][FIX] mail: fix Mail Failure icon,"Previously, the Mail Failure icon was a .JPG, which lacked transparency. While this was not noticeable in Odoo Light Mode, it resulted in a visible white background in Dark Mode.

This commit replaces the JPG with an SVG, ensuring proper transparency.

| Current (17.0) | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/7c87ab06-4675-4216-9132-f381dde4042d) | ![image](https://github.com/user-attachments/assets/53ec9b6b-da13-4ba5-a898-8a83d13e6eb7) |
| ![image](https://github.com/user-attachments/assets/ce40f4c8-b596-4eaf-a402-1fe4f987d7fa)   | ![image](https://github.com/user-attachments/assets/b0f99430-2975-4fcf-ad38-a585eb7c321b) | 


task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196400",fw-bot,2025-02-05 17:43:08+00:00,[],2025-02-05 23:11:15+00:00,2025-02-05 23:11:13+00:00,https://github.com/odoo/odoo/pull/196685,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637606848, 'issue_id': 2833576229, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196685.png)](https://mergebot.odoo.com/odoo/odoo/pull/196685)', 'created_at': datetime.datetime(2025, 2, 5, 17, 43, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637606871, 'issue_id': 2833576229, 'author': 'fw-bot', 'body': '@xlu-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196674\n* odoo/odoo#196652\n* odoo/odoo#196633\n* odoo/odoo#196615\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 43, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638094402, 'issue_id': 2833576229, 'author': 'xlu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 21, 47, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:43:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196685.png)](https://mergebot.odoo.com/odoo/odoo/pull/196685)

fw-bot (Issue Creator) on (2025-02-05 17:43:09 UTC): @xlu-odoo @alexkuhn this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196674
* odoo/odoo#196652
* odoo/odoo#196633
* odoo/odoo#196615

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xlu-odoo on (2025-02-05 21:47:23 UTC): @robodoo r+

"
2833570189,pull_request,closed,,[FW][FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

Forward-Port-Of: odoo/odoo#196452
Forward-Port-Of: odoo/odoo#195859",fw-bot,2025-02-05 17:39:57+00:00,[],2025-02-06 10:43:52+00:00,2025-02-06 10:43:52+00:00,https://github.com/odoo/odoo/pull/196684,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637600063, 'issue_id': 2833570189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196684.png)](https://mergebot.odoo.com/odoo/odoo/pull/196684)', 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637600082, 'issue_id': 2833570189, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639398451, 'issue_id': 2833570189, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 10, 19, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639398663, 'issue_id': 2833570189, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 2, 6, 10, 19, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:39:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196684.png)](https://mergebot.odoo.com/odoo/odoo/pull/196684)

fw-bot (Issue Creator) on (2025-02-05 17:39:58 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-06 10:19:08 UTC): @robodoo r+

robodoo on (2025-02-06 10:19:12 UTC): This PR is already reviewed, reviewing it again is useless.

"
2833569621,pull_request,closed,,[FW][FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196564
Forward-Port-Of: odoo/odoo#196376",fw-bot,2025-02-05 17:39:37+00:00,[],2025-02-06 09:09:39+00:00,2025-02-06 09:09:39+00:00,https://github.com/odoo/odoo/pull/196683,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637599395, 'issue_id': 2833569621, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196683.png)](https://mergebot.odoo.com/odoo/odoo/pull/196683)', 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637599417, 'issue_id': 2833569621, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:39:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196683.png)](https://mergebot.odoo.com/odoo/odoo/pull/196683)

fw-bot (Issue Creator) on (2025-02-05 17:39:39 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833569036,pull_request,closed,,"[FW][FIX] mrp{,_workorder}: ignore move raws without demand in reservation state","### Issue:

Curently, the reservation state of a production is computed from the status of the move raws that are not picked. This includes moves wihtout demands which should not infer with the reservation state at all.

### Steps to reproduce:

- In the settings, Enable ""Multi-Step Routes""
- Go to Inventory > Configuration > Warehouse Management > Warehouses
- Put your warehouse in 2 steps-manufacturing
- Create a final product (FP) tracked by Serial number, and 2 storable components: COMP1 and COMP2
- Create a BOM for FP:
  - Component lines:
    - 1 x COMP1
    - 0 x COMP2 !!
  - Operations:
    - OP1 with an instruction of type ""register production""
1. Create an MO for 1 x FP > Confirm
2. Validate the pick transfer for 1 unit of COMP1
> Currently OP1 is marked as ready
3. Mark the component line of COMP1 as ""picked""
#### > OP1 is in waiting status
Same result as 3:
3'. Go to the shopfloor > register production from the MO card
#### > This will pick the COMP1 raw move and OP1 will disappear because of the ""ready"" filter

### Cause of the issue:

Since you manufacture in 2 steps, the state of the raw move of COMP2 is waiting even though its demand is 0 (before and after you validated the pick move for COMP1). However, only non picked moves are considered to be relevant in the computation of the reservation state of the MO: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_production.py#L613-L621 Once you pick the COMP1 move which should be the only relevant one the reservation state of the MO becomes computed solely based on the state of the COMP2 raw move and becomes ""waiting"". In turns, this triggers a recomputation of the state of the workorders and flagging it as waiting: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_workorder.py#L148-L165

opw-4383004

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196517
Forward-Port-Of: odoo/odoo#196388",fw-bot,2025-02-05 17:39:18+00:00,[],2025-02-07 14:12:07+00:00,2025-02-07 14:12:06+00:00,https://github.com/odoo/odoo/pull/196682,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637598807, 'issue_id': 2833569036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196682.png)](https://mergebot.odoo.com/odoo/odoo/pull/196682)', 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637598829, 'issue_id': 2833569036, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:39:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196682.png)](https://mergebot.odoo.com/odoo/odoo/pull/196682)

fw-bot (Issue Creator) on (2025-02-05 17:39:22 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833533510,pull_request,closed,,[FW][FIX] stock: wrong result_package_id,"When forcefully unreserving then reserving products coming from a same package for multiple pickings, the source package is wrongly propagated as destination package on the multiple pickings.

To reproduce:
 - `-i sale_stock,sale_management`
 - Create a storable product (I) with 30 qty on hand
 - Create and confirm an internal transfer to put the product I in a pack (P)
 - Create and confirm two SO :
   - Sell 10 I
   - Sell 20 I
 - Check the 2 SO delivery pickings (D):
   - Each are reserved from pack P
   - They don't have any 'Destination Package' [Expected]
 - From the picking list view, by selecting the 2 pickings D :
   - 'Unreserve' them both
   - 'Check Availability' them both
 - Check the pickings D:
   - Each are reserved from pack P
   - Each have 'Destination Package' P [Faulty]

opw-4272573
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193745",fw-bot,2025-02-05 17:21:19+00:00,[],2025-02-06 15:05:04+00:00,2025-02-06 15:05:03+00:00,https://github.com/odoo/odoo/pull/196681,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637558876, 'issue_id': 2833533510, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196681.png)](https://mergebot.odoo.com/odoo/odoo/pull/196681)', 'created_at': datetime.datetime(2025, 2, 5, 17, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637558899, 'issue_id': 2833533510, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 21, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:21:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196681.png)](https://mergebot.odoo.com/odoo/odoo/pull/196681)

fw-bot (Issue Creator) on (2025-02-05 17:21:20 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833490223,pull_request,closed,,[FW][FIX] payment_adyen: log refusal reason for refused payments,"Versions
--------
- 17.0+

Steps
-----
1. Enable Adyen as payment provider in test mode;
2. do an eCommerce checkout;
3. select Adyen as payment option;
4. use the following card details[^1]:
    - card number: 4111111111111111
    - expiry: 03/30
    - cvc: 737
    - name on card: CARD_EXPIRED
5. click Pay Now;
6. check order chatter on the backend.

Issue
-----
> Error: Adyen: Received data with invalid payment state: Refused

Refusal shouldn't be an invalid payment state.

Cause
-----
Commit 04f75728fd3e accidentally removed an `elif` branch that was added by commit 4d340a330462e specifically to handle refused payments.

Solution
--------
Re-add the `elif` branch.

opw-4481602

[^1]: https://docs.adyen.com/development-resources/testing/result-codes#values-for-testing-result-reasons

Forward-Port-Of: odoo/odoo#196394",fw-bot,2025-02-05 17:01:14+00:00,[],2025-02-06 12:17:26+00:00,2025-02-06 12:17:26+00:00,https://github.com/odoo/odoo/pull/196680,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637510033, 'issue_id': 2833490223, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196680.png)](https://mergebot.odoo.com/odoo/odoo/pull/196680)', 'created_at': datetime.datetime(2025, 2, 5, 17, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637510058, 'issue_id': 2833490223, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 17, 1, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 17:01:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196680.png)](https://mergebot.odoo.com/odoo/odoo/pull/196680)

fw-bot (Issue Creator) on (2025-02-05 17:01:16 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833480185,pull_request,open,,[FW][FIX] web_editor: color not getting applied on single selected cell,"**Current behaviour before PR:**

When single cell is selected in a table, trying to apply color closes color palette and color is not getting applied
on it. This happens because applying color on single cell changes selection and cell gets deselected in `_onSelectionChange`.

**Desired behaviour after PR:**

Now, it is possible to apply color on a single cell.

task-3433784




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196255
Forward-Port-Of: odoo/odoo#173845",fw-bot,2025-02-05 16:56:41+00:00,[],2025-02-06 07:32:13+00:00,,https://github.com/odoo/odoo/pull/196679,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637498660, 'issue_id': 2833480185, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196679.png)](https://mergebot.odoo.com/odoo/odoo/pull/196679)', 'created_at': datetime.datetime(2025, 2, 5, 16, 56, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637498688, 'issue_id': 2833480185, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 56, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637677466, 'issue_id': 2833480185, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo the next pull request (odoo/odoo#196690) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 13, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:56:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196679.png)](https://mergebot.odoo.com/odoo/odoo/pull/196679)

fw-bot (Issue Creator) on (2025-02-05 16:56:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 18:13:44 UTC): @adsa-odoo @dmo-odoo the next pull request (odoo/odoo#196690) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833473430,pull_request,closed,,[FW][FIX] stock: allow picking validation of already reserved package,"### Steps to reproduce:

- In the settings enable: Multi-Step Routes, Operations > Packages
- Create a storable prodcut
- Update the on hand quantity:
  - 10 units in package PK
- Inventory > Configuration > Warehouse Management > Locations
- Create 2 warehouse locations: WH/LOC1, WH/LOC2
- Go to the barcode app and proceed with the scans:
    1. Scan the internal transfer picking type
    2. Scan WH/STOCK as a source location
    3. Scan the package name (PK)
    4. Scan WH/LOC1 as destination location
- Leave the barcode app without validation
- Go to the barcode app and proceed with the scans: i -> iii,  iv'. Scan WH/LOC2 as destination location
- Try to validate the picking
#### > Invalid operation: You cannot move the same package content more than once in the same transfer or split the same package into two location.

### Cause of the issue:

As both pickings were treated via the barcode app, they generated picked move lines related to the package. Both of these move lines have updated the reserved quantity of the stock.quant present in stock:
- WH/STOCK, quantity: 10, reserved_quantity: 20.

When you try to validate the second picking, you will launch an `_action_done` of its move line that will create a new quant in WH/LOC2 and update the quant in stock:
- WH/STOCK, quantity: 0, reserved_quantity: 10.
- WH/LOC2, quantity: 10, reserved_quantity: 0.

The error is raised just after since 2 quants with either a quantity or reserved quantity are found:
https://github.com/odoo/odoo/blob/6349fb0362d881672616bb4b800bd32be82f9a5f/addons/stock/models/stock_move.py#L1910-L1917

### Fix:

Since the check is made in order to check the consistency of result packages moved by the current validation the ""reserved_quantity"" should not matter.

opw-4456484
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193214",fw-bot,2025-02-05 16:53:33+00:00,[],2025-02-07 10:56:05+00:00,2025-02-07 10:56:05+00:00,https://github.com/odoo/odoo/pull/196678,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637491072, 'issue_id': 2833473430, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196678.png)](https://mergebot.odoo.com/odoo/odoo/pull/196678)', 'created_at': datetime.datetime(2025, 2, 5, 16, 53, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637491115, 'issue_id': 2833473430, 'author': 'fw-bot', 'body': '@lase-odoo @clesgow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196658\n* odoo/odoo#196634\n* odoo/odoo#196612\n* odoo/odoo#196603\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 53, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642150407, 'issue_id': 2833473430, 'author': 'clesgow', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 41, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:53:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196678.png)](https://mergebot.odoo.com/odoo/odoo/pull/196678)

fw-bot (Issue Creator) on (2025-02-05 16:53:36 UTC): @lase-odoo @clesgow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196658
* odoo/odoo#196634
* odoo/odoo#196612
* odoo/odoo#196603

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

clesgow on (2025-02-07 07:41:20 UTC): @robodoo r+

"
2833459169,pull_request,closed,,[FW][FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994

Forward-Port-Of: odoo/odoo#196487
Forward-Port-Of: odoo/odoo#196333",fw-bot,2025-02-05 16:47:30+00:00,[],2025-02-06 10:43:47+00:00,2025-02-06 10:43:47+00:00,https://github.com/odoo/odoo/pull/196677,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637470000, 'issue_id': 2833459169, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196677.png)](https://mergebot.odoo.com/odoo/odoo/pull/196677)', 'created_at': datetime.datetime(2025, 2, 5, 16, 47, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637470021, 'issue_id': 2833459169, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 47, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639084099, 'issue_id': 2833459169, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 7, 54, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639093053, 'issue_id': 2833459169, 'author': 'fw-bot', 'body': ""@DjamelTouati @Whenrow child PR odoo/odoo#196688 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 6, 8, 0, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:47:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196677.png)](https://mergebot.odoo.com/odoo/odoo/pull/196677)

fw-bot (Issue Creator) on (2025-02-05 16:47:32 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-06 07:54:57 UTC): robodoo r+

fw-bot (Issue Creator) on (2025-02-06 08:00:32 UTC): @DjamelTouati @Whenrow child PR odoo/odoo#196688 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2833447966,pull_request,closed,,[FW][FIX] web_editor: Prevent traceback deleting knowledge behavior element,"Deleting a knowledge_behavior element previously caused a traceback due to deleteRange() removing its nodes, leading to an error when attempting to destroy the oKnowledgeBehavior. This fix ensures proper handling of element deletion.

Task-4210216

Forward-Port-Of: odoo/odoo#196417
Forward-Port-Of: odoo/odoo#195451",fw-bot,2025-02-05 16:42:23+00:00,[],2025-02-05 21:08:09+00:00,2025-02-05 21:08:09+00:00,https://github.com/odoo/odoo/pull/196676,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637457564, 'issue_id': 2833447966, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196676.png)](https://mergebot.odoo.com/odoo/odoo/pull/196676)', 'created_at': datetime.datetime(2025, 2, 5, 16, 42, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637457586, 'issue_id': 2833447966, 'author': 'fw-bot', 'body': '@aath-odoo @abd-msyukyu-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#196665\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 42, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637896219, 'issue_id': 2833447966, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 19, 54, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:42:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196676.png)](https://mergebot.odoo.com/odoo/odoo/pull/196676)

fw-bot (Issue Creator) on (2025-02-05 16:42:25 UTC): @aath-odoo @abd-msyukyu-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#196665

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abd-msyukyu-odoo on (2025-02-05 19:54:57 UTC): @robodoo r+

"
2833447015,pull_request,closed,,[FW][FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535

Forward-Port-Of: odoo/odoo#196486
Forward-Port-Of: odoo/odoo#196433",fw-bot,2025-02-05 16:41:58+00:00,[],2025-02-06 10:32:04+00:00,2025-02-06 10:32:04+00:00,https://github.com/odoo/odoo/pull/196675,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637456497, 'issue_id': 2833447015, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196675.png)](https://mergebot.odoo.com/odoo/odoo/pull/196675)', 'created_at': datetime.datetime(2025, 2, 5, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637456522, 'issue_id': 2833447015, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:42:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196675.png)](https://mergebot.odoo.com/odoo/odoo/pull/196675)

fw-bot (Issue Creator) on (2025-02-05 16:42:00 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833429771,pull_request,closed,,[FW][FIX] mail: fix Mail Failure icon,"Previously, the Mail Failure icon was a .JPG, which lacked transparency. While this was not noticeable in Odoo Light Mode, it resulted in a visible white background in Dark Mode.

This commit replaces the JPG with an SVG, ensuring proper transparency.

| Current (17.0) | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/7c87ab06-4675-4216-9132-f381dde4042d) | ![image](https://github.com/user-attachments/assets/53ec9b6b-da13-4ba5-a898-8a83d13e6eb7) |
| ![image](https://github.com/user-attachments/assets/ce40f4c8-b596-4eaf-a402-1fe4f987d7fa)   | ![image](https://github.com/user-attachments/assets/b0f99430-2975-4fcf-ad38-a585eb7c321b) | 


task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196400",fw-bot,2025-02-05 16:34:24+00:00,[],2025-02-06 11:10:40+00:00,2025-02-06 11:10:39+00:00,https://github.com/odoo/odoo/pull/196674,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637437099, 'issue_id': 2833429771, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196674.png)](https://mergebot.odoo.com/odoo/odoo/pull/196674)', 'created_at': datetime.datetime(2025, 2, 5, 16, 34, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637437132, 'issue_id': 2833429771, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 34, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638227866, 'issue_id': 2833429771, 'author': 'robodoo', 'body': '@xlu-odoo @alexkuhn staging failed: ci/runbot on 415821922acea5787c2ab5bd52513442b419eda4 (view more at https://runbot.odoo.com/runbot/build/74572711)', 'created_at': datetime.datetime(2025, 2, 5, 23, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639133222, 'issue_id': 2833429771, 'author': 'xlu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 23, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639133312, 'issue_id': 2833429771, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 2, 6, 8, 23, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639134711, 'issue_id': 2833429771, 'author': 'xlu-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 6, 8, 23, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:34:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196674.png)](https://mergebot.odoo.com/odoo/odoo/pull/196674)

fw-bot (Issue Creator) on (2025-02-05 16:34:26 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-05 23:02:30 UTC): @xlu-odoo @alexkuhn staging failed: ci/runbot on 415821922acea5787c2ab5bd52513442b419eda4 (view more at https://runbot.odoo.com/runbot/build/74572711)

xlu-odoo on (2025-02-06 08:23:05 UTC): @robodoo r+

robodoo on (2025-02-06 08:23:07 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

xlu-odoo on (2025-02-06 08:23:52 UTC): @robodoo retry

"
2833412382,pull_request,open,,[FIX] account: Keep fiscal position when switching an invoice to a credit note,"  **Issue**
When converting an invoice into a credit note, the fiscal position is lost while other fields are retained.

Steps to Reproduce:

1. Go to Customer Invoices and create a new invoice.
2. Fill in all the necessary details, including the Fiscal Position.
3. Click on Switch into Invoice/Credit Note to convert the invoice into a credit note.
4. Observe that all data is transferred except for the Fiscal Position, which is missing.

Expected behavior: The Fiscal Position should be retained when converting an invoice to a credit note.
Actual behavior: all data is transferred except for the Fiscal Position, which is lost.

**Root Cause**

The issue occurs in the action_switch_move_type method. When switching move_type, the method does not explicitly retain fiscal_position_id. Unlike static fields such as incoterm_id, the fiscal position is often recomputed dynamically. Writing changes to move_type likely triggers onchange methods that reset the fiscal position, leading to its removal.

**Fix**
Explicitly preserving fiscal_position_id when updating move_type prevents Odoo’s automatic recomputation from clearing the field. This ensures that fiscal positions are consistently retained, maintaining expected accounting behavior.

opw-4497662


I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",csan-odoo,2025-02-05 16:26:55+00:00,[],2025-02-06 12:31:18+00:00,,https://github.com/odoo/odoo/pull/196673,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2637418491, 'issue_id': 2833412382, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196673.png)](https://mergebot.odoo.com/odoo/odoo/pull/196673)', 'created_at': datetime.datetime(2025, 2, 5, 16, 27, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:27:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196673.png)](https://mergebot.odoo.com/odoo/odoo/pull/196673)

"
2833409766,pull_request,open,,[FW][I18N] l10n_eu_oss: add translations,"Related to https://github.com/odoo/enterprise/pull/78533

Forward-Port-Of: odoo/odoo#196475
Forward-Port-Of: odoo/odoo#196447",fw-bot,2025-02-05 16:25:45+00:00,[],2025-02-06 09:49:23+00:00,,https://github.com/odoo/odoo/pull/196672,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637415187, 'issue_id': 2833409766, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196672.png)](https://mergebot.odoo.com/odoo/odoo/pull/196672)', 'created_at': datetime.datetime(2025, 2, 5, 16, 25, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637415251, 'issue_id': 2833409766, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196649\n* odoo/odoo#196536\n* odoo/odoo#196528\n* odoo/odoo#196524\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 16, 25, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639207459, 'issue_id': 2833409766, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 0, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639226727, 'issue_id': 2833409766, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 9, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639243993, 'issue_id': 2833409766, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 18, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639324600, 'issue_id': 2833409766, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 49, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:25:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196672.png)](https://mergebot.odoo.com/odoo/odoo/pull/196672)

fw-bot (Issue Creator) on (2025-02-05 16:25:49 UTC): @dylankiss @oomsveta this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196649
* odoo/odoo#196536
* odoo/odoo#196528
* odoo/odoo#196524

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 09:00:44 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:09:25 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:18:24 UTC): @dylankiss @oomsveta ci/upgrade_enterprise failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:49:21 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

"
2833369244,pull_request,open,,[FIX] sms: don't send SMS during module installation,"The installation of the demo data of module `industry_fsm_sale` module triggered the sending of an SMS.
Now, the SMS API is unavailable during module installation.
",lobaudoux,2025-02-05 16:08:22+00:00,['lobaudoux'],2025-02-05 17:00:20+00:00,,https://github.com/odoo/odoo/pull/196671,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637368507, 'issue_id': 2833369244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196671.png)](https://mergebot.odoo.com/odoo/odoo/pull/196671)', 'created_at': datetime.datetime(2025, 2, 5, 16, 8, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 16:08:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196671.png)](https://mergebot.odoo.com/odoo/odoo/pull/196671)

"
2833341472,pull_request,open,,[FIX] website_hr_recruitment_livechat: fix typo,"This PR aims to fix a typo introduced in Commit[^1]. With this commit, the front-end recruitment page now features a chatbot to help visitors. However, the first message sent by the bot has a typo in it.

task-4552457


[^1]: https://github.com/odoo/odoo/commit/94c65c489e88608a2bda301724567c7db480c9d4
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",chgo-odoo,2025-02-05 15:56:53+00:00,[],2025-02-05 16:04:12+00:00,,https://github.com/odoo/odoo/pull/196670,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637333855, 'issue_id': 2833341472, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196670.png)](https://mergebot.odoo.com/odoo/odoo/pull/196670)', 'created_at': datetime.datetime(2025, 2, 5, 15, 56, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637356626, 'issue_id': 2833341472, 'author': 'chgo-odoo', 'body': ""Hello @Bertrand2 👋 \r\n\r\nI spotted this minor typo on https://github.com/odoo/odoo/pull/193511\r\n\r\nI don't know if there is already a fix ongoing ?"", 'created_at': datetime.datetime(2025, 2, 5, 16, 4, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:56:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196670.png)](https://mergebot.odoo.com/odoo/odoo/pull/196670)

chgo-odoo (Issue Creator) on (2025-02-05 16:04:11 UTC): Hello @Bertrand2 👋 

I spotted this minor typo on https://github.com/odoo/odoo/pull/193511

I don't know if there is already a fix ongoing ?

"
2833328993,pull_request,closed,,[FW][FIX] web: blacklist attendance kiosk menu in clickbot,"Fixing Click All test broken since 662081ca3ad31170961eaf384f8aa2311d39f086

Forward-Port-Of: odoo/odoo#196460",fw-bot,2025-02-05 15:52:12+00:00,[],2025-02-06 08:06:38+00:00,2025-02-05 19:31:07+00:00,https://github.com/odoo/odoo/pull/196669,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637312573, 'issue_id': 2833328993, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196669.png)](https://mergebot.odoo.com/odoo/odoo/pull/196669)', 'created_at': datetime.datetime(2025, 2, 5, 15, 52, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637312602, 'issue_id': 2833328993, 'author': 'fw-bot', 'body': '@d-fence this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196639\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637608334, 'issue_id': 2833328993, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 17, 43, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:52:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196669.png)](https://mergebot.odoo.com/odoo/odoo/pull/196669)

fw-bot (Issue Creator) on (2025-02-05 15:52:15 UTC): @d-fence this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196639

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

d-fence on (2025-02-05 17:43:53 UTC): robodoo r+

"
2833318251,pull_request,closed,,[FW][FIX] portal: add modification of API keys expiration date,"Before this commit, for a portal user, the creation of an API key will always be valid for one day.

This commit adds the option of selecting a period for which the API key will be valid.

The periods proposed take into account of the user's group. Consequently, in the case of a portal user, the administrator must enter a maximum number of days for the portal group
(the `api_key_duration` field in the `res.groups` model).

opw-4414586

Forward-Port-Of: odoo/odoo#193168",fw-bot,2025-02-05 15:47:48+00:00,[],2025-02-05 19:31:03+00:00,2025-02-05 19:31:03+00:00,https://github.com/odoo/odoo/pull/196668,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637300787, 'issue_id': 2833318251, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196668.png)](https://mergebot.odoo.com/odoo/odoo/pull/196668)', 'created_at': datetime.datetime(2025, 2, 5, 15, 47, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637300810, 'issue_id': 2833318251, 'author': 'fw-bot', 'body': '@thle-odoo @beledouxdenis this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196642\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 47, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637598268, 'issue_id': 2833318251, 'author': 'beledouxdenis', 'body': ""I functionnaly tested to make sure it was working and there was no UI quirks while porting to master. It's fine.\r\n\r\nrobodoo r+"", 'created_at': datetime.datetime(2025, 2, 5, 17, 39, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:47:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196668.png)](https://mergebot.odoo.com/odoo/odoo/pull/196668)

fw-bot (Issue Creator) on (2025-02-05 15:47:50 UTC): @thle-odoo @beledouxdenis this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196642

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

beledouxdenis on (2025-02-05 17:39:05 UTC): I functionnaly tested to make sure it was working and there was no UI quirks while porting to master. It's fine.

robodoo r+

"
2833292601,pull_request,open,,[FIX] base: remove all cloc excluded records,"Steps to reproduce:
- Install any industry module;
- Uninstall the module;

Current behaviour:
Some records from the industry module (like a knowledge article) which have a second xmlid from `__cloc_exclude__` remain in the database after the uninstallation.

Expected behaviour:
After this commit, all records from the industry and their related `__cloc_exclude__` ir_model_data entries are removed.

task-4501067
",vava-odoo,2025-02-05 15:37:15+00:00,[],2025-02-06 10:35:29+00:00,,https://github.com/odoo/odoo/pull/196667,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637269042, 'issue_id': 2833292601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196667.png)](https://mergebot.odoo.com/odoo/odoo/pull/196667)', 'created_at': datetime.datetime(2025, 2, 5, 15, 37, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:37:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196667.png)](https://mergebot.odoo.com/odoo/odoo/pull/196667)

"
2833291637,pull_request,closed,,[FW][FIX] payment_adyen: log refusal reason for refused payments,"Versions
--------
- 17.0+

Steps
-----
1. Enable Adyen as payment provider in test mode;
2. do an eCommerce checkout;
3. select Adyen as payment option;
4. use the following card details[^1]:
    - card number: 4111111111111111
    - expiry: 03/30
    - cvc: 737
    - name on card: CARD_EXPIRED
5. click Pay Now;
6. check order chatter on the backend.

Issue
-----
> Error: Adyen: Received data with invalid payment state: Refused

Refusal shouldn't be an invalid payment state.

Cause
-----
Commit 04f75728fd3e accidentally removed an `elif` branch that was added by commit 4d340a330462e specifically to handle refused payments.

Solution
--------
Re-add the `elif` branch.

opw-4481602

[^1]: https://docs.adyen.com/development-resources/testing/result-codes#values-for-testing-result-reasons

Forward-Port-Of: odoo/odoo#196394",fw-bot,2025-02-05 15:36:50+00:00,[],2025-02-06 11:53:46+00:00,2025-02-06 11:53:46+00:00,https://github.com/odoo/odoo/pull/196666,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637267831, 'issue_id': 2833291637, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196666.png)](https://mergebot.odoo.com/odoo/odoo/pull/196666)', 'created_at': datetime.datetime(2025, 2, 5, 15, 36, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637267863, 'issue_id': 2833291637, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 36, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:36:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196666.png)](https://mergebot.odoo.com/odoo/odoo/pull/196666)

fw-bot (Issue Creator) on (2025-02-05 15:36:52 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833290891,pull_request,closed,,[FW][FIX] web_editor: Prevent traceback deleting knowledge behavior element,"Deleting a knowledge_behavior element previously caused a traceback due to deleteRange() removing its nodes, leading to an error when attempting to destroy the oKnowledgeBehavior. This fix ensures proper handling of element deletion.

Task-4210216

Forward-Port-Of: odoo/odoo#196417
Forward-Port-Of: odoo/odoo#195451",fw-bot,2025-02-05 15:36:31+00:00,[],2025-02-06 13:44:44+00:00,2025-02-06 13:44:44+00:00,https://github.com/odoo/odoo/pull/196665,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637266793, 'issue_id': 2833290891, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196665.png)](https://mergebot.odoo.com/odoo/odoo/pull/196665)', 'created_at': datetime.datetime(2025, 2, 5, 15, 36, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637266844, 'issue_id': 2833290891, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 36, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638095867, 'issue_id': 2833290891, 'author': 'robodoo', 'body': '@aath-odoo @abd-msyukyu-odoo staging failed: ci/runbot on 311ef9aa2fcfb7bf5780d2a999d77c4d7fa50b6e (view more at https://runbot.odoo.com/runbot/build/74571983)', 'created_at': datetime.datetime(2025, 2, 5, 21, 48, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639212935, 'issue_id': 2833290891, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 6, 9, 3, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:36:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196665.png)](https://mergebot.odoo.com/odoo/odoo/pull/196665)

fw-bot (Issue Creator) on (2025-02-05 15:36:33 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-05 21:48:18 UTC): @aath-odoo @abd-msyukyu-odoo staging failed: ci/runbot on 311ef9aa2fcfb7bf5780d2a999d77c4d7fa50b6e (view more at https://runbot.odoo.com/runbot/build/74571983)

abd-msyukyu-odoo on (2025-02-06 09:03:09 UTC): @robodoo retry

"
2833290006,pull_request,closed,,"[FW][FIX] mrp{,_subcontracting{,_purchase}}: handle mo date start write","**Current behavior:**
After commit https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44 all writes on `date_start` would silently
alter the written date value (totally unintuiative for a user &
undesired behavior regardless).

**Expected behavior:**
Only when handling indirect writes on `date_start` from a
linked-via-subcontract purchase order should we modify
`date_start` to account for the manufacture delay.

opw-4489485

Forward-Port-Of: odoo/odoo#195742",fw-bot,2025-02-05 15:36:10+00:00,[],2025-02-06 13:44:49+00:00,2025-02-06 13:44:49+00:00,https://github.com/odoo/odoo/pull/196664,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637265876, 'issue_id': 2833290006, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196664.png)](https://mergebot.odoo.com/odoo/odoo/pull/196664)', 'created_at': datetime.datetime(2025, 2, 5, 15, 36, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637265911, 'issue_id': 2833290006, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#195742 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/mrp_production.py\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\nAuto-merging addons/mrp_subcontracting/models/mrp_production.py\nAuto-merging addons/mrp_subcontracting/models/stock_move.py\nAuto-merging addons/mrp_subcontracting_purchase/tests/test_mrp_subcontracting_purchase.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 36, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639273832, 'issue_id': 2833290006, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 32, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:36:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196664.png)](https://mergebot.odoo.com/odoo/odoo/pull/196664)

fw-bot (Issue Creator) on (2025-02-05 15:36:12 UTC): @ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#195742 failed.

stdout:
```
Auto-merging addons/mrp/models/mrp_production.py
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py
Auto-merging addons/mrp_subcontracting/models/mrp_production.py
Auto-merging addons/mrp_subcontracting/models/stock_move.py
Auto-merging addons/mrp_subcontracting_purchase/tests/test_mrp_subcontracting_purchase.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-02-06 09:32:45 UTC): @robodoo r+

"
2833288727,pull_request,open,,[FW][FIX] mrp: allow finished lot production via quality checks,"### Steps to reproduce:

- Create a storable product FP tracked by SN with a BOM:
    - 1 Operation: - instruction: Register Production type (per product)
    - 1 x Comp (storable product in stock)
- Create and confirm an MO for one unit of FP.
- Go to the shopfoor app > open the instruction of your operation
- Type a non-existing serial number in the search bar > Create ""new_sn""
> This opens a form view of the stock.lot model
- Save and close the new stock.lot
> Invalid operation: You are not allowed to create or edit a lot or serial number for the components with the operation type
> ""Manufacturing"". To change this, go on the operation type and tick the box ""Create New Lots/Serial Numbers for
> Components""

#### Expected behavior:

The invalid operation should not be raised as the ""required"" option concerns only componenets and not final products.

### Cause of the issue:

Creating a stock lot will first launch a call of the `_check_create`: https://github.com/odoo/odoo/blob/c25d71f14fa168807f07cd88bed805d15db8add5/addons/stock/models/stock_lot.py#L150-L153 However, since this check does not verifies that the product for which we create the lot is indeed related to a component of the MO it will raise the invalid operation even for final products: https://github.com/odoo/odoo/blob/c25d71f14fa168807f07cd88bed805d15db8add5/addons/mrp/models/stock_lot.py#L11-L17

### Issue 2:

Currently, the `quickCreate` (""Create *sn_name*"") option of the lot field of te ""register production"" dialog calls a `name_create` that will set an error message in the logs as the product_id required field can not be provided neither in the vals or the context of the `name_create`.  You then fall back on the same form dialog than the ""Create and edit"".  The `quickCreate` option should therefore just be disabled.

Enterprise: https://github.com/odoo/enterprise/pull/77265

opw-4452747
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193965",fw-bot,2025-02-05 15:35:38+00:00,[],2025-02-05 16:00:18+00:00,,https://github.com/odoo/odoo/pull/196663,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637264541, 'issue_id': 2833288727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196663.png)](https://mergebot.odoo.com/odoo/odoo/pull/196663)', 'created_at': datetime.datetime(2025, 2, 5, 15, 35, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637264590, 'issue_id': 2833288727, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78632) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 35, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:35:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196663.png)](https://mergebot.odoo.com/odoo/odoo/pull/196663)

fw-bot (Issue Creator) on (2025-02-05 15:35:42 UTC): @lase-odoo @Whenrow while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78632) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833287511,pull_request,open,,[FW][IMP] test_mail: add variable in test mail template to reuse them,"We add the variable msg_id and references to the test mail template MAIL_EML_ATTACHMENT to allow to use it as a response to another mail. We also add ""subject"" to allow to use test-related subject.

Task-3707821

Forward-Port-Of: odoo/odoo#154332",fw-bot,2025-02-05 15:35:07+00:00,[],2025-02-06 16:00:08+00:00,,https://github.com/odoo/odoo/pull/196662,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637263180, 'issue_id': 2833287511, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196662.png)](https://mergebot.odoo.com/odoo/odoo/pull/196662)', 'created_at': datetime.datetime(2025, 2, 5, 15, 35, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637263271, 'issue_id': 2833287511, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 35, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637315822, 'issue_id': 2833287511, 'author': 'fw-bot', 'body': '@pyduf @std-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 15, 53, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639777187, 'issue_id': 2833287511, 'author': 'pyduf', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 5, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640105521, 'issue_id': 2833287511, 'author': 'pyduf', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640235853, 'issue_id': 2833287511, 'author': 'robodoo', 'body': '@pyduf @std-odoo linked pull request(s) odoo/enterprise#78631 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 6, 16, 0, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:35:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196662.png)](https://mergebot.odoo.com/odoo/odoo/pull/196662)

fw-bot (Issue Creator) on (2025-02-05 15:35:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 15:53:06 UTC): @pyduf @std-odoo ci/runbot failed on this forward-port PR

pyduf on (2025-02-06 13:05:40 UTC): @robodoo r+

pyduf on (2025-02-06 15:14:00 UTC): @robodoo r+

robodoo on (2025-02-06 16:00:07 UTC): @pyduf @std-odoo linked pull request(s) odoo/enterprise#78631 not ready. Linked PRs are not staged until all of them are ready.

"
2833286300,pull_request,closed,,[FW][FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535

Forward-Port-Of: odoo/odoo#196486
Forward-Port-Of: odoo/odoo#196433",fw-bot,2025-02-05 15:34:36+00:00,[],2025-02-06 10:50:03+00:00,2025-02-06 10:50:03+00:00,https://github.com/odoo/odoo/pull/196661,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637261829, 'issue_id': 2833286300, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196661.png)](https://mergebot.odoo.com/odoo/odoo/pull/196661)', 'created_at': datetime.datetime(2025, 2, 5, 15, 34, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637261855, 'issue_id': 2833286300, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 34, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:34:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196661.png)](https://mergebot.odoo.com/odoo/odoo/pull/196661)

fw-bot (Issue Creator) on (2025-02-05 15:34:38 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833285520,pull_request,open,,[FW][FIX] web_editor: color not getting applied on single selected cell,"**Current behaviour before PR:**

When single cell is selected in a table, trying to apply color closes color palette and color is not getting applied
on it. This happens because applying color on single cell changes selection and cell gets deselected in `_onSelectionChange`.


**Desired behaviour after PR:**

Now, it is possible to apply color on a single cell.

task-3433784




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196255
Forward-Port-Of: odoo/odoo#173845",fw-bot,2025-02-05 15:34:16+00:00,[],2025-02-06 07:30:56+00:00,,https://github.com/odoo/odoo/pull/196660,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637261673, 'issue_id': 2833285520, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196660.png)](https://mergebot.odoo.com/odoo/odoo/pull/196660)', 'created_at': datetime.datetime(2025, 2, 5, 15, 34, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637261701, 'issue_id': 2833285520, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 34, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:34:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196660.png)](https://mergebot.odoo.com/odoo/odoo/pull/196660)

fw-bot (Issue Creator) on (2025-02-05 15:34:34 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833280904,pull_request,closed,,[FW][FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994

Forward-Port-Of: odoo/odoo#196487
Forward-Port-Of: odoo/odoo#196333",fw-bot,2025-02-05 15:32:22+00:00,[],2025-02-06 10:31:55+00:00,2025-02-06 10:31:55+00:00,https://github.com/odoo/odoo/pull/196659,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637256145, 'issue_id': 2833280904, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196659.png)](https://mergebot.odoo.com/odoo/odoo/pull/196659)', 'created_at': datetime.datetime(2025, 2, 5, 15, 32, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637256168, 'issue_id': 2833280904, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 32, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:32:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196659.png)](https://mergebot.odoo.com/odoo/odoo/pull/196659)

fw-bot (Issue Creator) on (2025-02-05 15:32:23 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833278604,pull_request,closed,,[FW][FIX] stock: allow picking validation of already reserved package,"### Steps to reproduce:

- In the settings enable: Multi-Step Routes, Operations > Packages
- Create a storable prodcut
- Update the on hand quantity:
  - 10 units in package PK
- Inventory > Configuration > Warehouse Management > Locations
- Create 2 warehouse locations: WH/LOC1, WH/LOC2
- Go to the barcode app and proceed with the scans:
    1. Scan the internal transfer picking type
    2. Scan WH/STOCK as a source location
    3. Scan the package name (PK)
    4. Scan WH/LOC1 as destination location
- Leave the barcode app without validation
- Go to the barcode app and proceed with the scans: i -> iii,  iv'. Scan WH/LOC2 as destination location
- Try to validate the picking
#### > Invalid operation: You cannot move the same package content more than once in the same transfer or split the same package into two location.

### Cause of the issue:

As both pickings were treated via the barcode app, they generated picked move lines related to the package. Both of these move lines have updated the reserved quantity of the stock.quant present in stock:
- WH/STOCK, quantity: 10, reserved_quantity: 20.

When you try to validate the second picking, you will launch an `_action_done` of its move line that will create a new quant in WH/LOC2 and update the quant in stock:
- WH/STOCK, quantity: 0, reserved_quantity: 10.
- WH/LOC2, quantity: 10, reserved_quantity: 0.

The error is raised just after since 2 quants with either a quantity or reserved quantity are found:
https://github.com/odoo/odoo/blob/6349fb0362d881672616bb4b800bd32be82f9a5f/addons/stock/models/stock_move.py#L1910-L1917

### Fix:

Since the check is made in order to check the consistency of result packages moved by the current validation the ""reserved_quantity"" should not matter.

opw-4456484
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193214",fw-bot,2025-02-05 15:31:29+00:00,[],2025-02-07 11:10:15+00:00,2025-02-07 11:10:15+00:00,https://github.com/odoo/odoo/pull/196658,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637253793, 'issue_id': 2833278604, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196658.png)](https://mergebot.odoo.com/odoo/odoo/pull/196658)', 'created_at': datetime.datetime(2025, 2, 5, 15, 31, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637253815, 'issue_id': 2833278604, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 31, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:31:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196658.png)](https://mergebot.odoo.com/odoo/odoo/pull/196658)

fw-bot (Issue Creator) on (2025-02-05 15:31:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833265868,pull_request,open,,"[IMP] account{,_edi_ubl_cii,_peppol}: Misc imps of the Print & Send + Peppol onboarding","## Commit 1: [IMP] account{,_edi_ubl_cii,_peppol}: Misc imps of the Print & Send

- ""What is Peppol"" warning no longer appear on already sent invoices.
- Remove the warning related to already existing PDF. This will be improved
by the following task [1].
- Remove the warning related to bank accounts, this will be improved
in the next commit of this PR.
- Align warnings related to absence of EAS/Endpoint.
- Move the ""Test/Demo mode"" warning next to the ""by Peppol"" label.
- Remove the new ""Print"" button from draft invoices.

[1]: https://www.odoo.com/odoo/project/967/tasks/4498564
task-4478365

-----------------------------

## Commit 2: [FIX] account: Add translation for invoice pdf report field in form

task-no

-----------------------------

## Commit 3: [IMP] account_{edi_ubl_cii,peppol}: Stop setting automatically an invoice edi format

In previous refactor[1], we set automatically an invoice EDI format.
This decision was too zealous considering the overall state of e-invoicing
and now cause more frictions than necessary.
We therefore decided to remove the automatic computation of EDI format on
partners.

[1]: https://github.com/odoo/odoo/commit/9e769e1b11f22890e5245859053bc8dd31e42634

task-4478365

-----------------------------

## Commit 4: [FIX] account: remove partner_bank_id from readonly field of posted moves

In previous PR [1], we made the partner_bank_id field editable on
the invoice form as long as the move is not sent.
There was still a security check in place, let's remove it for this
field.

[1]: https://github.com/odoo/odoo/pull/195069
task-4478365

-----------------------------

## Commit 5: [IMP] account_edi_ubl_cii: use code ZZZ instead of 30 if no bank account is set

To generate a valid BIS3 format, if we put 30 - credit transfer as payment means,
we need to have a bank account set. If it's not the case, it will raise an error.
We improve the usability by changing that code to ZZZ - mutually defined if no
bank account is provided to the invoice.

This should improve the onboarding flow when no bank account is set yet.

task-4478365

-----------------------------

## Commit 6: [IMP] account_peppol: expand the countries where we display WhatIsPeppol banner

This list is based on recent usage statistics from OpenPeppol.

task-4478365
",clbr-odoo,2025-02-05 15:26:30+00:00,[],2025-02-07 14:25:45+00:00,,https://github.com/odoo/odoo/pull/196657,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637241030, 'issue_id': 2833265868, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196657.png)](https://mergebot.odoo.com/odoo/odoo/pull/196657)', 'created_at': datetime.datetime(2025, 2, 5, 15, 26, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:26:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196657.png)](https://mergebot.odoo.com/odoo/odoo/pull/196657)

"
2833246695,pull_request,closed,,[FIX] mrp: fix test_workcenter_with_resource_calendar_from_another_compa,"Running the “test_workcenter_with_resource_calendar_from_another_company”
without demo data occurs an error because the resource calendar.",DjamelTouati,2025-02-05 15:19:00+00:00,[],2025-02-06 10:31:59+00:00,2025-02-06 10:31:59+00:00,https://github.com/odoo/odoo/pull/196656,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637219366, 'issue_id': 2833246695, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196656.png)](https://mergebot.odoo.com/odoo/odoo/pull/196656)', 'created_at': datetime.datetime(2025, 2, 5, 15, 19, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639159570, 'issue_id': 2833246695, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 36, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:19:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196656.png)](https://mergebot.odoo.com/odoo/odoo/pull/196656)

Whenrow on (2025-02-06 08:36:34 UTC): robodoo r+

"
2833246627,pull_request,closed,,[FW][FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997

Forward-Port-Of: odoo/odoo#196590
Forward-Port-Of: odoo/odoo#193060",fw-bot,2025-02-05 15:18:58+00:00,[],2025-02-07 20:40:53+00:00,2025-02-07 20:40:53+00:00,https://github.com/odoo/odoo/pull/196655,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637219175, 'issue_id': 2833246627, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196655.png)](https://mergebot.odoo.com/odoo/odoo/pull/196655)', 'created_at': datetime.datetime(2025, 2, 5, 15, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637219217, 'issue_id': 2833246627, 'author': 'fw-bot', 'body': '@yagp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638855690, 'issue_id': 2833246627, 'author': 'yagp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 5, 12, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642075634, 'issue_id': 2833246627, 'author': 'yagp-odoo', 'body': '![](https://media1.tenor.com/m/oVVo4jxF18IAAAAd/mr-bean-mrbean.gif)', 'created_at': datetime.datetime(2025, 2, 7, 6, 47, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643073009, 'issue_id': 2833246627, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:19:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196655.png)](https://mergebot.odoo.com/odoo/odoo/pull/196655)

fw-bot (Issue Creator) on (2025-02-05 15:19:00 UTC): @yagp-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yagp-odoo on (2025-02-06 05:12:57 UTC): @robodoo r+

yagp-odoo on (2025-02-07 06:47:26 UTC): ![](https://media1.tenor.com/m/oVVo4jxF18IAAAAd/mr-bean-mrbean.gif)

tde-banana-odoo on (2025-02-07 14:23:16 UTC): @robodoo r+

"
2833245787,pull_request,closed,,[FW][FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763

Forward-Port-Of: odoo/odoo#196451
Forward-Port-Of: odoo/odoo#193008",fw-bot,2025-02-05 15:18:38+00:00,[],2025-02-06 15:18:18+00:00,2025-02-06 15:18:18+00:00,https://github.com/odoo/odoo/pull/196654,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637217982, 'issue_id': 2833245787, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196654.png)](https://mergebot.odoo.com/odoo/odoo/pull/196654)', 'created_at': datetime.datetime(2025, 2, 5, 15, 18, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637218029, 'issue_id': 2833245787, 'author': 'fw-bot', 'body': '@dery-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196632\n* odoo/odoo#196610\n* odoo/odoo#196600\n* odoo/odoo#196582\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 18, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639487675, 'issue_id': 2833245787, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 10, 56, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:18:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196654.png)](https://mergebot.odoo.com/odoo/odoo/pull/196654)

fw-bot (Issue Creator) on (2025-02-05 15:18:40 UTC): @dery-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196632
* odoo/odoo#196610
* odoo/odoo#196600
* odoo/odoo#196582

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-06 10:56:12 UTC): @robodoo r+

"
2833243939,pull_request,open,,[FW][FIX] hr: message post departure reason traceback,"Since the function message_post on mail thread has been built to be called on exactly one record and the function write on employee is for multiple records, we need to call it for each employee we are writing on.

It has been introduced in: https://github.com/odoo/odoo/pull/143217

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196257",fw-bot,2025-02-05 15:17:53+00:00,[],2025-02-05 16:00:29+00:00,,https://github.com/odoo/odoo/pull/196653,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637215152, 'issue_id': 2833243939, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196653.png)](https://mergebot.odoo.com/odoo/odoo/pull/196653)', 'created_at': datetime.datetime(2025, 2, 5, 15, 17, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637215219, 'issue_id': 2833243939, 'author': 'fw-bot', 'body': '@pimodoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196631\n* odoo/odoo#196609\n* odoo/odoo#196601\n* odoo/odoo#196581\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 17, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:17:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196653.png)](https://mergebot.odoo.com/odoo/odoo/pull/196653)

fw-bot (Issue Creator) on (2025-02-05 15:17:55 UTC): @pimodoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196631
* odoo/odoo#196609
* odoo/odoo#196601
* odoo/odoo#196581

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833232762,pull_request,closed,,[FW][FIX] mail: fix Mail Failure icon,"Previously, the Mail Failure icon was a .JPG, which lacked transparency. While this was not noticeable in Odoo Light Mode, it resulted in a visible white background in Dark Mode.

This commit replaces the JPG with an SVG, ensuring proper transparency.

| Current (17.0) | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/7c87ab06-4675-4216-9132-f381dde4042d) | ![image](https://github.com/user-attachments/assets/53ec9b6b-da13-4ba5-a898-8a83d13e6eb7) |
| ![image](https://github.com/user-attachments/assets/ce40f4c8-b596-4eaf-a402-1fe4f987d7fa)   | ![image](https://github.com/user-attachments/assets/b0f99430-2975-4fcf-ad38-a585eb7c321b) | 


task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196400",fw-bot,2025-02-05 15:13:49+00:00,[],2025-02-06 07:47:59+00:00,2025-02-06 07:47:59+00:00,https://github.com/odoo/odoo/pull/196652,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637177904, 'issue_id': 2833232762, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196652.png)](https://mergebot.odoo.com/odoo/odoo/pull/196652)', 'created_at': datetime.datetime(2025, 2, 5, 15, 13, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637177970, 'issue_id': 2833232762, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 15, 13, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:13:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196652.png)](https://mergebot.odoo.com/odoo/odoo/pull/196652)

fw-bot (Issue Creator) on (2025-02-05 15:13:51 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833199572,pull_request,open,,[FIX] html_editor: ensure text visibility when setting background color,"**Problem**:
When applying a light background color to a table cell, switching to dark mode changes the text color to white, making it invisible.

**Solution**:
When setting a background color on a block element, also apply the default text color. This ensures text remains visible in both light and dark modes.

**Steps to Reproduce**:
1. Add a table.
2. Change the background color of cells to white.
3. Switch to dark mode.
4. Observe that the text inside the cells is not visible.

opw-4546663

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-05 15:02:09+00:00,[],2025-02-07 14:49:13+00:00,,https://github.com/odoo/odoo/pull/196651,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2637111824, 'issue_id': 2833199572, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196651.png)](https://mergebot.odoo.com/odoo/odoo/pull/196651)', 'created_at': datetime.datetime(2025, 2, 5, 15, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643119202, 'issue_id': 2833199572, 'author': 'sebgeelen', 'body': ""Also, don't forget to open the PR. \r\nThis one is still in draft."", 'created_at': datetime.datetime(2025, 2, 7, 14, 37, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643142031, 'issue_id': 2833199572, 'author': 'walidsahli', 'body': '@sebgeelen Updated.', 'created_at': datetime.datetime(2025, 2, 7, 14, 47, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 15:02:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196651.png)](https://mergebot.odoo.com/odoo/odoo/pull/196651)

sebgeelen on (2025-02-07 14:37:32 UTC): Also, don't forget to open the PR. 
This one is still in draft.

walidsahli (Issue Creator) on (2025-02-07 14:47:17 UTC): @sebgeelen Updated.

"
2833189835,pull_request,closed,,[FW][FIX] hr_*: allow editing unapproved allocation requests,"The base.group_user did not have the access right to read overtime_id, which is necessary for filtering allocations that do not have a null overtime_id. The access right was granted to base.group_user only when the allocation state is either draft or confirm.

task-4452360

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196502
Forward-Port-Of: odoo/odoo#193797",fw-bot,2025-02-05 14:58:18+00:00,[],2025-02-06 13:55:45+00:00,2025-02-06 13:55:45+00:00,https://github.com/odoo/odoo/pull/196650,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637102543, 'issue_id': 2833189835, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196650.png)](https://mergebot.odoo.com/odoo/odoo/pull/196650)', 'created_at': datetime.datetime(2025, 2, 5, 14, 58, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637102570, 'issue_id': 2833189835, 'author': 'fw-bot', 'body': '@ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml\nAuto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nCONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nAuto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 58, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639478052, 'issue_id': 2833189835, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 10, 52, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639773970, 'issue_id': 2833189835, 'author': 'ataha1', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 4, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639774077, 'issue_id': 2833189835, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 2, 6, 13, 4, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:58:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196650.png)](https://mergebot.odoo.com/odoo/odoo/pull/196650)

fw-bot (Issue Creator) on (2025-02-05 14:58:50 UTC): @ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.

stdout:
```
Auto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml
Auto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
CONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
Auto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-06 10:52:02 UTC): @robodoo r+

ataha1 on (2025-02-06 13:04:16 UTC): @robodoo r+

robodoo on (2025-02-06 13:04:19 UTC): This PR is already reviewed, reviewing it again is useless.

"
2833177575,pull_request,open,,[FW][I18N] l10n_eu_oss: add translations,"Related to https://github.com/odoo/enterprise/pull/78533

Forward-Port-Of: odoo/odoo#196475
Forward-Port-Of: odoo/odoo#196447",fw-bot,2025-02-05 14:53:48+00:00,[],2025-02-06 09:17:08+00:00,,https://github.com/odoo/odoo/pull/196649,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637083722, 'issue_id': 2833177575, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196649.png)](https://mergebot.odoo.com/odoo/odoo/pull/196649)', 'created_at': datetime.datetime(2025, 2, 5, 14, 53, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637083790, 'issue_id': 2833177575, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 53, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639218620, 'issue_id': 2833177575, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 5, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639218641, 'issue_id': 2833177575, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 5, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639220750, 'issue_id': 2833177575, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 6, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639233478, 'issue_id': 2833177575, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 13, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639241230, 'issue_id': 2833177575, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 17, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:53:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196649.png)](https://mergebot.odoo.com/odoo/odoo/pull/196649)

fw-bot (Issue Creator) on (2025-02-05 14:53:52 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 09:05:41 UTC): @dylankiss @oomsveta ci/upgrade_enterprise failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:05:42 UTC): @dylankiss @oomsveta ci/template failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:06:41 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:13:52 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:17:06 UTC): @dylankiss @oomsveta ci/template failed on this forward-port PR

"
2833174410,pull_request,open,,[IMP] core: introduce website_image helper for cleaner XML definitions,"This commit introduces a new `<website_image/>` helper, simplifying XML
syntax for preloaded images.

- Added support for `<website_image/>`
- Updated RelaxNG schema to validate `<website_image/>`.
- if the name attribute is not provided, the name will be constructed
  from the id.

This improves readability and maintainability of image records in
website modules.

Ex:
```xml
<record id=""website.s_text_image_default_image"" model=""ir.attachment"">
    <field name=""public"" eval=""True""/>
    <field name=""name"">s_text_image_default_image.jpg</field>
    <field name=""res_model"">ir.ui.view</field>
    <field name=""type"">url</field>
    <field name=""url"">/website/static/src/img/snippets_demo/s_text_image.jpg</field>
</record>
````
is equivalent to:
```xml
<website_image id=""website.s_text_image_default_image""
 url=""/website/static/src/img/snippets_demo/s_text_image.jpg""/>
```

and

```xml
<record id=""website.library_image_team"" model=""ir.attachment"">
    <field name=""public"" eval=""True""/>
    <field name=""name"">team.jpg</field>
    <field name=""res_model"">ir.ui.view</field>
    <field name=""type"">url</field>
    <field name=""url"">/website/static/src/img/library/team.jpg</field>
</record>
```

is equivalent to

```xml
<website_image id=""website.library_image_team"" name=""team.jpg""
 url=""/website/static/src/img/library/team.jpg""/>
```

task-4552191",SergeBayet,2025-02-05 14:52:40+00:00,[],2025-02-07 12:55:40+00:00,,https://github.com/odoo/odoo/pull/196648,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637079948, 'issue_id': 2833174410, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196648.png)](https://mergebot.odoo.com/odoo/odoo/pull/196648)', 'created_at': datetime.datetime(2025, 2, 5, 14, 52, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:52:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196648.png)](https://mergebot.odoo.com/odoo/odoo/pull/196648)

"
2833142685,pull_request,open,,[IMP] fleet: improve odometer views and add mileage delta report,"In this PR:
- The kanban view for odometer has been removed as it does not convey useful information.
- The odometers are grouped by date by default.
- The report section allows to have some insights about the odometer values and the mileage delta between every month. The report takes care of which day of the month the odometer has been registered, and interpolate missing months values. - The odometer report can be accessed from the form view of the vehicle.

task-3389125",romaincarlier4,2025-02-05 14:42:01+00:00,[],2025-02-07 12:24:44+00:00,,https://github.com/odoo/odoo/pull/196647,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637046611, 'issue_id': 2833142685, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196647.png)](https://mergebot.odoo.com/odoo/odoo/pull/196647)', 'created_at': datetime.datetime(2025, 2, 5, 14, 42, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:42:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196647.png)](https://mergebot.odoo.com/odoo/odoo/pull/196647)

"
2833117187,pull_request,closed,,[FW][FIX] ressource: move @mail dependency in ressource_mail module,"Before this commit:
 1. Install `ressource` module
 2. In debug, open ""Run unit tests"" debug menu
 3. Error pop-up: 
```js
Global Error: stack trace available in the console
Missing dependencies: @mail/../tests/mail_test_helpers
```

After this commit:
 No error and units tests can proceed

Related runbot task: https://runbot.odoo.com/odoo/runbot.build.error/72187

Forward-Port-Of: odoo/odoo#196488
Forward-Port-Of: odoo/odoo#195824",fw-bot,2025-02-05 14:32:52+00:00,[],2025-02-06 15:43:19+00:00,2025-02-06 15:43:19+00:00,https://github.com/odoo/odoo/pull/196646,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637016902, 'issue_id': 2833117187, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196646.png)](https://mergebot.odoo.com/odoo/odoo/pull/196646)', 'created_at': datetime.datetime(2025, 2, 5, 14, 32, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637016980, 'issue_id': 2833117187, 'author': 'fw-bot', 'body': '@lse-odoo @seb-odoo cherrypicking of pull request odoo/odoo#195824 failed.\n\nstdout:\n```\nAuto-merging addons/resource_mail/static/tests/many2many_avatar_resource.test.js\nAuto-merging addons/resource_mail/static/tests/many2one_avatar_resource.test.js\nCONFLICT (content): Merge conflict in addons/resource_mail/static/tests/many2one_avatar_resource.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 32, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:32:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196646.png)](https://mergebot.odoo.com/odoo/odoo/pull/196646)

fw-bot (Issue Creator) on (2025-02-05 14:32:55 UTC): @lse-odoo @seb-odoo cherrypicking of pull request odoo/odoo#195824 failed.

stdout:
```
Auto-merging addons/resource_mail/static/tests/many2many_avatar_resource.test.js
Auto-merging addons/resource_mail/static/tests/many2one_avatar_resource.test.js
CONFLICT (content): Merge conflict in addons/resource_mail/static/tests/many2one_avatar_resource.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833113983,pull_request,closed,,[IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb
",flvr-odoo,2025-02-05 14:31:39+00:00,[],2025-02-06 12:40:36+00:00,2025-02-06 12:20:18+00:00,https://github.com/odoo/odoo/pull/196645,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637013618, 'issue_id': 2833113983, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196645.png)](https://mergebot.odoo.com/odoo/odoo/pull/196645)', 'created_at': datetime.datetime(2025, 2, 5, 14, 31, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637071683, 'issue_id': 2833113983, 'author': 'Xavier-Do', 'body': ""Shouldn't we target 16.0?"", 'created_at': datetime.datetime(2025, 2, 5, 14, 49, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639314582, 'issue_id': 2833113983, 'author': 'flvr-odoo', 'body': 'robodoo delegate=mwath', 'created_at': datetime.datetime(2025, 2, 6, 9, 45, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639719619, 'issue_id': 2833113983, 'author': 'flvr-odoo', 'body': 'robodoo fw=skipci', 'created_at': datetime.datetime(2025, 2, 6, 12, 40, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639719716, 'issue_id': 2833113983, 'author': 'robodoo', 'body': 'Not waiting for CI to create followup forward-ports.', 'created_at': datetime.datetime(2025, 2, 6, 12, 40, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:31:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196645.png)](https://mergebot.odoo.com/odoo/odoo/pull/196645)

Xavier-Do on (2025-02-05 14:49:57 UTC): Shouldn't we target 16.0?

flvr-odoo (Issue Creator) on (2025-02-06 09:45:33 UTC): robodoo delegate=mwath

flvr-odoo (Issue Creator) on (2025-02-06 12:40:33 UTC): robodoo fw=skipci

robodoo on (2025-02-06 12:40:35 UTC): Not waiting for CI to create followup forward-ports.

"
2833106156,pull_request,closed,,[FW][FIX] point_of_sale: initialize the synchronization class at startup,"Initialize the synchronization class at startup of the PoS before making any request to the server. This will ensure that the synchronization class is ready to handle the requests.

Forward-Port-Of: odoo/odoo#196450",fw-bot,2025-02-05 14:28:35+00:00,[],2025-02-06 11:11:33+00:00,2025-02-06 11:11:33+00:00,https://github.com/odoo/odoo/pull/196643,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637005405, 'issue_id': 2833106156, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196643.png)](https://mergebot.odoo.com/odoo/odoo/pull/196643)', 'created_at': datetime.datetime(2025, 2, 5, 14, 28, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637005466, 'issue_id': 2833106156, 'author': 'fw-bot', 'body': '@davidmonnom cherrypicking of pull request odoo/odoo#196450 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 28, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639298704, 'issue_id': 2833106156, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 39, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:28:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196643.png)](https://mergebot.odoo.com/odoo/odoo/pull/196643)

fw-bot (Issue Creator) on (2025-02-05 14:28:38 UTC): @davidmonnom cherrypicking of pull request odoo/odoo#196450 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/tests/pos/tours/utils/chrome_util.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-06 09:39:55 UTC): @robodoo r+

"
2833104768,pull_request,closed,,[FW][FIX] portal: add modification of API keys expiration date,"Before this commit, for a portal user, the creation of an API key will always be valid for one day.

This commit adds the option of selecting a period for which the API key will be valid.

The periods proposed take into account of the user's group. Consequently, in the case of a portal user, the administrator must enter a maximum number of days for the portal group
(the `api_key_duration` field in the `res.groups` model).

opw-4414586

Forward-Port-Of: odoo/odoo#193168",fw-bot,2025-02-05 14:28:04+00:00,[],2025-02-05 22:16:50+00:00,2025-02-05 22:16:49+00:00,https://github.com/odoo/odoo/pull/196642,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637003872, 'issue_id': 2833104768, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196642.png)](https://mergebot.odoo.com/odoo/odoo/pull/196642)', 'created_at': datetime.datetime(2025, 2, 5, 14, 28, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637003897, 'issue_id': 2833104768, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 28, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:28:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196642.png)](https://mergebot.odoo.com/odoo/odoo/pull/196642)

fw-bot (Issue Creator) on (2025-02-05 14:28:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833103827,pull_request,closed,,[FW][FIX] website: make labels in sidebar translatable,"Some labels in the website editor's sidebar were not translatable, while all the others were.

In this commit we make the following parts translatable:
- The header of the ""Field"" options
- The ""Custom Text"" new field name
- The ""Existing field"" header in the selection list of existing field
- ""Option"", ""Radio"", ""Checkbox"", and ""List"" for list-type fields

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#196467
Forward-Port-Of: odoo/odoo#194014",fw-bot,2025-02-05 14:27:43+00:00,[],2025-02-05 22:16:54+00:00,2025-02-05 22:16:54+00:00,https://github.com/odoo/odoo/pull/196641,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637003671, 'issue_id': 2833103827, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196641.png)](https://mergebot.odoo.com/odoo/odoo/pull/196641)', 'created_at': datetime.datetime(2025, 2, 5, 14, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637003698, 'issue_id': 2833103827, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/snippets/s_website_form/options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637093911, 'issue_id': 2833103827, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 14, 55, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:28:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196641.png)](https://mergebot.odoo.com/odoo/odoo/pull/196641)

fw-bot (Issue Creator) on (2025-02-05 14:28:00 UTC): @dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/snippets/s_website_form/options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-05 14:55:58 UTC): @robodoo r+

"
2833103269,pull_request,open,,[FIX] l10n_sa{_edi}: fix QR code without ZATCA,"**Steps to reproduce:**
- Install Accounting and l10n_sa_edi
- Switch to a Saudi Arabian company (e.g. SA Company)
- Duplicate ""Customer Invoices"" journal:
  * Default Income Account: 500001 Sales Account
  * Electronic invoicing: [disabled]
- Create a retention tax:
  * Name: Retention 10%
  * Amount: -10.00000%
  * Is Retention: [checked]

- Create an invoice:
  * Customer: [a Saudi Arabian contact] (e.g. ARAMCO Medinah Branch)
  * Journal: Customer Invoices
  * Invoice Lines:
    - Price: 100.00
    - Taxes: ""Sales Tax 15%"" + ""Retention 10%""
- Confirm the invoice
- Print the invoice
- Scan the QR code on the invoice with an app like ""E-invoice QR Reader""

=> In the QR code, the total amount of the invoice with VAT included is 115.00 and the total amount of the VAT is 15.00.
The amount of the retention tax is excluded from the total and the VAT amounts, which is the expected behavior.

- Create the exact same invoice with the duplicated journal without electronic invoicing
- Confirm the invoice
- Print the invoice
- Scan the QR code on the invoice

**Issue:**
In the QR code, the amount of the retention (-10.00) is taken into account.
The total amount of the invoice with VAT included is 105.00 and the total amount of the VAT is 5.00.
The QR code should provide the same amounts either the used journal has ""Electronic invoicing"" enabled or not.

**Cause:**
Depending on the presence of an electronic invoice document or not, the QR code is generated by the overriding compute method from ""l10_sa_edi"" or the original one in ""l10n_sa"".
However, the ""Is Retention"" field of the ""account.tax"" model is introduced by ""l10n_sa_edi"" module and when the QR code is computed by the original method, this field is not taken into account and the corresponding retention tax is wrongly handled like any other tax.

**Solution:**
Use the same total amounts than the ones computed in ""l10n_sa_edi"" (where retention tax are excluded) in the original compute method if ""l10n_sa_edi"" is installed.

opw-4525519



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kitan191,2025-02-05 14:27:31+00:00,[],2025-02-06 07:55:26+00:00,,https://github.com/odoo/odoo/pull/196640,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2637003594, 'issue_id': 2833103269, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196640.png)](https://mergebot.odoo.com/odoo/odoo/pull/196640)', 'created_at': datetime.datetime(2025, 2, 5, 14, 27, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:27:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196640.png)](https://mergebot.odoo.com/odoo/odoo/pull/196640)

"
2833102516,pull_request,closed,,[FW][FIX] web: blacklist attendance kiosk menu in clickbot,"Fixing Click All test broken since 662081ca3ad31170961eaf384f8aa2311d39f086

Forward-Port-Of: odoo/odoo#196460",fw-bot,2025-02-05 14:27:12+00:00,[],2025-02-06 08:06:20+00:00,2025-02-05 22:16:58+00:00,https://github.com/odoo/odoo/pull/196639,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637003488, 'issue_id': 2833102516, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196639.png)](https://mergebot.odoo.com/odoo/odoo/pull/196639)', 'created_at': datetime.datetime(2025, 2, 5, 14, 27, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637003528, 'issue_id': 2833102516, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 27, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:27:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196639.png)](https://mergebot.odoo.com/odoo/odoo/pull/196639)

fw-bot (Issue Creator) on (2025-02-05 14:27:56 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833081453,pull_request,closed,,[FW][FIX] odoo/tools: error processing Factur-X XML,"Description of the issue/feature this PR addresses:
This PR is to fix an issue encountered when copying information from an editor for a product for example, and pasting it on the product label. On Odoo the label was appearing fine but when the invoice was confirmed and sent, the XML file content is created with hidden characters.This produced the web service to return an error when trying to validate the electronic invoice. 

Current behavior before PR:
Special or hidden characters appear on the XML file of an electronic invoice.

Steps to reproduce:
1. Install Uruguay - Electronic Invoice module
2. Create EDI invoice, add special character to the description of the product you are using. Example used for testing (copy-paste it): ‭219179120011‬
3. Validate the invoice
4. Print and send it
5. Check ""DscItem"" field on the XML file created.

Here is a one minute [video](https://drive.google.com/file/d/18JcnKCbaq7cH_NVyPol4CWXHdqZAxAdo/view) reproducing the error on runbot.

Desired behavior after PR is merged:
These characters are cleaned up at the xml level on cleanup_xml_node method to avoid them to appear and prevent errors when validating the XML on localizations web services.

Related PR on v16 regarding the same issue in another context: https://github.com/odoo/odoo/pull/154509

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193047",fw-bot,2025-02-05 14:19:09+00:00,[],2025-02-07 07:02:38+00:00,2025-02-07 07:02:38+00:00,https://github.com/odoo/odoo/pull/196638,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636980743, 'issue_id': 2833081453, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196638.png)](https://mergebot.odoo.com/odoo/odoo/pull/196638)', 'created_at': datetime.datetime(2025, 2, 5, 14, 19, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636980806, 'issue_id': 2833081453, 'author': 'fw-bot', 'body': '@jue-adhoc @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196614\n* odoo/odoo#196599\n* odoo/odoo#196580\n* odoo/odoo#196562\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 19, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637168890, 'issue_id': 2833081453, 'author': 'fw-bot', 'body': '@jue-adhoc @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 15, 12, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641948886, 'issue_id': 2833081453, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 4, 58, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:19:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196638.png)](https://mergebot.odoo.com/odoo/odoo/pull/196638)

fw-bot (Issue Creator) on (2025-02-05 14:19:13 UTC): @jue-adhoc @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196614
* odoo/odoo#196599
* odoo/odoo#196580
* odoo/odoo#196562

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 15:12:56 UTC): @jue-adhoc @smetl ci/runbot failed on this forward-port PR

smetl on (2025-02-07 04:58:04 UTC): @robodoo r+

"
2833078215,pull_request,closed,,"[FIX] point_of_sale, pos_self_order: undefined channel name","Prevent subscription to undefined channel name in Self Order.


",davidmonnom,2025-02-05 14:17:48+00:00,[],2025-02-06 01:30:16+00:00,2025-02-06 01:30:16+00:00,https://github.com/odoo/odoo/pull/196637,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636977255, 'issue_id': 2833078215, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196637.png)](https://mergebot.odoo.com/odoo/odoo/pull/196637)', 'created_at': datetime.datetime(2025, 2, 5, 14, 17, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637310599, 'issue_id': 2833078215, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 15, 51, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:17:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196637.png)](https://mergebot.odoo.com/odoo/odoo/pull/196637)

adgu-odoo on (2025-02-05 15:51:30 UTC): robodoo r+

"
2833069206,pull_request,closed,,[FW][FIX] payment_adyen: log refusal reason for refused payments,"Versions
--------
- 17.0+

Steps
-----
1. Enable Adyen as payment provider in test mode;
2. do an eCommerce checkout;
3. select Adyen as payment option;
4. use the following card details[^1]:
    - card number: 4111111111111111
    - expiry: 03/30
    - cvc: 737
    - name on card: CARD_EXPIRED
5. click Pay Now;
6. check order chatter on the backend.

Issue
-----
> Error: Adyen: Received data with invalid payment state: Refused

Refusal shouldn't be an invalid payment state.

Cause
-----
Commit 04f75728fd3e accidentally removed an `elif` branch that was added by commit 4d340a330462e specifically to handle refused payments.

Solution
--------
Re-add the `elif` branch.

opw-4481602

[^1]: https://docs.adyen.com/development-resources/testing/result-codes#values-for-testing-result-reasons

Forward-Port-Of: odoo/odoo#196394",fw-bot,2025-02-05 14:14:19+00:00,[],2025-02-06 13:44:53+00:00,2025-02-06 13:44:53+00:00,https://github.com/odoo/odoo/pull/196636,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636968058, 'issue_id': 2833069206, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196636.png)](https://mergebot.odoo.com/odoo/odoo/pull/196636)', 'created_at': datetime.datetime(2025, 2, 5, 14, 14, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636968095, 'issue_id': 2833069206, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 14, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:14:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196636.png)](https://mergebot.odoo.com/odoo/odoo/pull/196636)

fw-bot (Issue Creator) on (2025-02-05 14:14:21 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833068292,pull_request,closed,,[FW][FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994

Forward-Port-Of: odoo/odoo#196487
Forward-Port-Of: odoo/odoo#196333",fw-bot,2025-02-05 14:13:57+00:00,[],2025-02-05 16:48:47+00:00,2025-02-05 16:48:47+00:00,https://github.com/odoo/odoo/pull/196635,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636967155, 'issue_id': 2833068292, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196635.png)](https://mergebot.odoo.com/odoo/odoo/pull/196635)', 'created_at': datetime.datetime(2025, 2, 5, 14, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636967193, 'issue_id': 2833068292, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637050780, 'issue_id': 2833068292, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 14, 43, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:14:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196635.png)](https://mergebot.odoo.com/odoo/odoo/pull/196635)

fw-bot (Issue Creator) on (2025-02-05 14:14:00 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-05 14:43:35 UTC): robodoo r+

"
2833039268,pull_request,closed,,[FW][FIX] stock: allow picking validation of already reserved package,"### Steps to reproduce:

- In the settings enable: Multi-Step Routes, Operations > Packages
- Create a storable prodcut
- Update the on hand quantity:
  - 10 units in package PK
- Inventory > Configuration > Warehouse Management > Locations
- Create 2 warehouse locations: WH/LOC1, WH/LOC2
- Go to the barcode app and proceed with the scans:
    1. Scan the internal transfer picking type
    2. Scan WH/STOCK as a source location
    3. Scan the package name (PK)
    4. Scan WH/LOC1 as destination location
- Leave the barcode app without validation
- Go to the barcode app and proceed with the scans: i -> iii,  iv'. Scan WH/LOC2 as destination location
- Try to validate the picking
#### > Invalid operation: You cannot move the same package content more than once in the same transfer or split the same package into two location.

### Cause of the issue:

As both pickings were treated via the barcode app, they generated picked move lines related to the package. Both of these move lines have updated the reserved quantity of the stock.quant present in stock:
- WH/STOCK, quantity: 10, reserved_quantity: 20.

When you try to validate the second picking, you will launch an `_action_done` of its move line that will create a new quant in WH/LOC2 and update the quant in stock:
- WH/STOCK, quantity: 0, reserved_quantity: 10.
- WH/LOC2, quantity: 10, reserved_quantity: 0.

The error is raised just after since 2 quants with either a quantity or reserved quantity are found:
https://github.com/odoo/odoo/blob/6349fb0362d881672616bb4b800bd32be82f9a5f/addons/stock/models/stock_move.py#L1910-L1917

### Fix:

Since the check is made in order to check the consistency of result packages moved by the current validation the ""reserved_quantity"" should not matter.

opw-4456484
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193214",fw-bot,2025-02-05 14:02:58+00:00,[],2025-02-07 09:03:31+00:00,2025-02-07 09:03:31+00:00,https://github.com/odoo/odoo/pull/196634,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636939309, 'issue_id': 2833039268, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196634.png)](https://mergebot.odoo.com/odoo/odoo/pull/196634)', 'created_at': datetime.datetime(2025, 2, 5, 14, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636939349, 'issue_id': 2833039268, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637036548, 'issue_id': 2833039268, 'author': 'fw-bot', 'body': '@lase-odoo @clesgow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 14, 39, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 14:02:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196634.png)](https://mergebot.odoo.com/odoo/odoo/pull/196634)

fw-bot (Issue Creator) on (2025-02-05 14:02:59 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 14:39:30 UTC): @lase-odoo @clesgow ci/runbot failed on this forward-port PR

"
2833024348,pull_request,closed,,[FW][FIX] mail: fix Mail Failure icon,"Previously, the Mail Failure icon was a .JPG, which lacked transparency. While this was not noticeable in Odoo Light Mode, it resulted in a visible white background in Dark Mode.

This commit replaces the JPG with an SVG, ensuring proper transparency.

| Current (17.0) | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/7c87ab06-4675-4216-9132-f381dde4042d) | ![image](https://github.com/user-attachments/assets/53ec9b6b-da13-4ba5-a898-8a83d13e6eb7) |
| ![image](https://github.com/user-attachments/assets/ce40f4c8-b596-4eaf-a402-1fe4f987d7fa)   | ![image](https://github.com/user-attachments/assets/b0f99430-2975-4fcf-ad38-a585eb7c321b) | 


task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196400",fw-bot,2025-02-05 13:57:00+00:00,[],2025-02-05 23:13:27+00:00,2025-02-05 23:13:27+00:00,https://github.com/odoo/odoo/pull/196633,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636924298, 'issue_id': 2833024348, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196633.png)](https://mergebot.odoo.com/odoo/odoo/pull/196633)', 'created_at': datetime.datetime(2025, 2, 5, 13, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636924323, 'issue_id': 2833024348, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637762510, 'issue_id': 2833024348, 'author': 'fw-bot', 'body': '@xlu-odoo @alexkuhn ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 18, 54, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:57:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196633.png)](https://mergebot.odoo.com/odoo/odoo/pull/196633)

fw-bot (Issue Creator) on (2025-02-05 13:57:02 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 18:54:13 UTC): @xlu-odoo @alexkuhn ci/runbot failed on this forward-port PR

"
2833019123,pull_request,closed,,[FW][FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763

Forward-Port-Of: odoo/odoo#196451
Forward-Port-Of: odoo/odoo#193008",fw-bot,2025-02-05 13:54:53+00:00,[],2025-02-06 12:38:34+00:00,2025-02-06 12:38:34+00:00,https://github.com/odoo/odoo/pull/196632,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636919263, 'issue_id': 2833019123, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196632.png)](https://mergebot.odoo.com/odoo/odoo/pull/196632)', 'created_at': datetime.datetime(2025, 2, 5, 13, 54, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636919295, 'issue_id': 2833019123, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 54, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:54:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196632.png)](https://mergebot.odoo.com/odoo/odoo/pull/196632)

fw-bot (Issue Creator) on (2025-02-05 13:54:55 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833014024,pull_request,open,,[FW][FIX] hr: message post departure reason traceback,"Since the function message_post on mail thread has been built to be called on exactly one record and the function write on employee is for multiple records, we need to call it for each employee we are writing on.

It has been introduced in: https://github.com/odoo/odoo/pull/143217

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196257",fw-bot,2025-02-05 13:52:53+00:00,[],2025-02-05 14:00:13+00:00,,https://github.com/odoo/odoo/pull/196631,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636914338, 'issue_id': 2833014024, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196631.png)](https://mergebot.odoo.com/odoo/odoo/pull/196631)', 'created_at': datetime.datetime(2025, 2, 5, 13, 52, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636914358, 'issue_id': 2833014024, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 52, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:52:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196631.png)](https://mergebot.odoo.com/odoo/odoo/pull/196631)

fw-bot (Issue Creator) on (2025-02-05 13:52:54 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833013758,pull_request,open,,"[IMP] base, web: add invisible field to menus","This commit adds the ability to conditionally render menus.

This is done by adding a new field: `web_invisible`. Note that, this field accepts Python expressions.

task-id: 4250356
",jpp-odoo,2025-02-05 13:52:46+00:00,[],2025-02-07 07:12:22+00:00,,https://github.com/odoo/odoo/pull/196630,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636914157, 'issue_id': 2833013758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196630.png)](https://mergebot.odoo.com/odoo/odoo/pull/196630)', 'created_at': datetime.datetime(2025, 2, 5, 13, 52, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:52:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196630.png)](https://mergebot.odoo.com/odoo/odoo/pull/196630)

"
2833010011,pull_request,closed,,[FW][FIX] spreadsheet_dashboard: Graphs in Mobile view aren't showed correctly,"When we display more than one chart in the mobile view, the height of the elements is being adjusted to fill 100%, which in some cases causes a size that makes it impossible to view the chart.

![image](https://github.com/user-attachments/assets/68ff7a94-dc92-484b-a96f-f843c00f6449)

To solve this, we have added a div that will encompass the chart and set a minimum height as defined in the spreadsheets, ensuring that the elements are always displayed correctly.

![image](https://github.com/user-attachments/assets/ed1fa34a-7d23-4853-b449-dcc0f95c78bd)

cc @Tecnativa TT50972

ping @chienandalu  @pedrobaeza 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196563
Forward-Port-Of: odoo/odoo#181335",fw-bot,2025-02-05 13:51:19+00:00,[],2025-02-05 16:48:43+00:00,2025-02-05 16:48:43+00:00,https://github.com/odoo/odoo/pull/196629,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636910464, 'issue_id': 2833010011, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196629.png)](https://mergebot.odoo.com/odoo/odoo/pull/196629)', 'created_at': datetime.datetime(2025, 2, 5, 13, 51, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636910480, 'issue_id': 2833010011, 'author': 'fw-bot', 'body': '@CarlosRoca13 @LucasLefevre this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 51, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636914973, 'issue_id': 2833010011, 'author': 'LucasLefevre', 'body': 'robodoo r+\r\n\r\nOn Wed, Feb 5, 2025 at 2:51\u202fPM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @CarlosRoca13 <https://github.com/CarlosRoca13> @LucasLefevre\r\n> <https://github.com/LucasLefevre> this PR targets master and is the last\r\n> of the forward-port chain.\r\n>\r\n> To merge the full chain, use\r\n>\r\n> @robodoo <https://github.com/robodoo> r+\r\n>\r\n> More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/196629#issuecomment-2636910480>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ACTHFEN3JNTPRSOOHHSNZQT2OIJPDAVCNFSM6AAAAABWRD4GZWVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMZWHEYTANBYGA>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 2, 5, 13, 53, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:51:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196629.png)](https://mergebot.odoo.com/odoo/odoo/pull/196629)

fw-bot (Issue Creator) on (2025-02-05 13:51:21 UTC): @CarlosRoca13 @LucasLefevre this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-02-05 13:53:09 UTC): robodoo r+

On Wed, Feb 5, 2025 at 2:51 PM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

"
2833009112,pull_request,open,,[FIX] point_of_sale: combo preparation receipt,"When sending combo products that contains different products with different pos categories, the receipt was not showing the products grouped by combo.

Steps to reproduce:
-------------------
* Create a combo product with different products with different pos categories
* Setup a preparation printer that will print all categories
* Open PoS and add at least 2 combo products with different selection
* Send the order to the kitchen
> Observation: The product on the receipt are grouped by product
  category instead of being grouped by combo.

Why the fix:
------------
Instead of sorting all product based on their category, we filter out the combo products first and sort the other products based on their category.

opw-4459211",robinengels,2025-02-05 13:50:57+00:00,[],2025-02-05 15:04:52+00:00,,https://github.com/odoo/odoo/pull/196628,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636909653, 'issue_id': 2833009112, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196628.png)](https://mergebot.odoo.com/odoo/odoo/pull/196628)', 'created_at': datetime.datetime(2025, 2, 5, 13, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:51:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196628.png)](https://mergebot.odoo.com/odoo/odoo/pull/196628)

"
2832999170,pull_request,open,,[FIX] l10n_in_ewaybill: fix traceback while unlinking attchments,"Currently, a traceback is occurring when the user tries to unlink an attachment.

To reproduce this issue:

1) Install `l10n_in_ewaybill`
2) Try to unlink any attachments from `settings/technical/attachments`

Error:-
```
AttributeError: 'super' object has no attribute '_unlink_except_government_document'
```

This error was occurring because of the latest changes from the below commit.

https://github.com/odoo/odoo/pull/195701/commits/f2a5024f6fb43110e1f0672db89df7c67f54412d

Here the method `_unlink_except_government_document` is actually defined in the `account_edi` module.

https://github.com/odoo/odoo/blob/dea5b91e6917fc52bd39bf77fcc59fd648635158/addons/account_edi/models/ir_attachment.py#L11

But in the above commit, a super call was used in `l10n_in_ewaybill`. 
Here the `l10n_in_ewaybill` module is not dependent on `account_edi` directly or indirectly.

https://github.com/odoo/odoo/blob/dea5b91e6917fc52bd39bf77fcc59fd648635158/addons/l10n_in_ewaybill/models/ir_attachment.py#L20

This will lead to the above traceback.

sentry-6272499414

",alsh-odoo,2025-02-05 13:46:50+00:00,[],2025-02-06 09:45:07+00:00,,https://github.com/odoo/odoo/pull/196627,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636899746, 'issue_id': 2832999170, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196627.png)](https://mergebot.odoo.com/odoo/odoo/pull/196627)', 'created_at': datetime.datetime(2025, 2, 5, 13, 46, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636904007, 'issue_id': 2832999170, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease look at this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 5, 13, 48, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639247100, 'issue_id': 2832999170, 'author': 'adwid', 'body': 'It looks better as long as the method can make sense outside of an ""EDI context"" (else, the method should actually be changed and moved in `in_edi`)\r\nBut I let the accounting team handle this', 'created_at': datetime.datetime(2025, 2, 6, 9, 19, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:46:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196627.png)](https://mergebot.odoo.com/odoo/odoo/pull/196627)

alsh-odoo (Issue Creator) on (2025-02-05 13:48:40 UTC): Ola @odoo/sentry_reviewers :wave: 

Please look at this PR

Thank You :slightly_smiling_face:

adwid on (2025-02-06 09:19:45 UTC): It looks better as long as the method can make sense outside of an ""EDI context"" (else, the method should actually be changed and moved in `in_edi`)
But I let the accounting team handle this

"
2832988761,pull_request,open,,"[FW][FIX] {purchase_,}stock: merge multi lingual POL created by the same RR","### Steps to reproduce:

- In the settings: - Add a second language say FR + Change the language - Enable Multi-step routes
- Put your warehouse in receipt in 2-steps.
- Create a storable product with a different FR name and a set vendor
- Click on the ""Reordering Rules"" smart button of the product form
- Create a reordering rule using the buy route for your product
- Add a quantity to reorder > ""Order Once""
- Open the associated purchase order in a second window
- Repeat the operation of adding a quantity to reorder > ""Order Once"" ** A new POL is created instead of being merged to the first one**

### Cause of the issue:

Clicking on Order once will trigger a call of the `_run_pull`. At the end of this call, a stock move will be created and confirmed but the user of the env will be replaced by a SUPERUSER_ID for access rights purposes:
https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L283-L286 However, while the move data's were correctly generated using the language of the user that clicked on order once:
https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L278 https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_rule.py#L315 The language that will be used during the action confirm to compare with the picking description in the procurement values will be the language of the new user that is the SUPERUSER_ID in en_US: https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/stock/models/stock_move.py#L1451-L1456 This will lead to a set (and incorrect) `product_description_variants` on that procurement. However, this value will be used to determine in the `_run_buy` if an existing POL could absorb the newly created need: https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/purchase_stock/models/stock_rule.py#L131-L135 https://github.com/odoo/odoo/blob/39d7207aae187d055f19c7bce41df8110c045185/addons/purchase_stock/models/purchase_order_line.py#L341-L350 Since already existing POL will not be found to match the incorrect `product_description_variants` a new one will be created on that same PO.

### Fix:

We do not rely on the language of the user in case it is the SUPERUSER_ID.

opw-4397376
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195339
Forward-Port-Of: odoo/odoo#192751",fw-bot,2025-02-05 13:42:30+00:00,[],2025-02-05 14:33:32+00:00,,https://github.com/odoo/odoo/pull/196626,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636889603, 'issue_id': 2832988761, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196626.png)](https://mergebot.odoo.com/odoo/odoo/pull/196626)', 'created_at': datetime.datetime(2025, 2, 5, 13, 42, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636889643, 'issue_id': 2832988761, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 42, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637019058, 'issue_id': 2832988761, 'author': 'fw-bot', 'body': '@lase-odoo @ticodoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 14, 33, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:42:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196626.png)](https://mergebot.odoo.com/odoo/odoo/pull/196626)

fw-bot (Issue Creator) on (2025-02-05 13:42:32 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 14:33:30 UTC): @lase-odoo @ticodoo ci/runbot failed on this forward-port PR

"
2832982344,pull_request,open,,[FIX][IMP] l10n_bo: Refactor chart of accounts and tax setup for Bolivia,"Description of the issue/feature this PR addresses:
The previous implementation of the Bolivian localization was based on Peruvian accounting standards, making it incompatible with local regulations. This PR refactors the module to align with Bolivian accounting and tax requirements.

Current behavior before PR:
- The module is currently developed by a Peruvian company and it does not meet Bolivian legal and fiscal requirements.
- The chart of accounts lacked key accounts needed for local compliance.
- Tax configurations and reports were not aligned with Bolivian tax regulations.
- Accounts, taxes, banks, states, and language formats were not properly adapted for Bolivia.

Desired behavior after PR is merged:
- The Chart of Accounts now includes 661 accounts, ensuring compliance with Bolivian standards.
- 67 tax configurations have been added to support local tax regulations.
- 9 current tax reports are included for accurate fiscal reporting.
- Bolivian banks information has been integrated.
- The Bolivian states have been added.
- Language formatting has been improved for better localization.

This update ensures the module is fully adapted to Bolivian requirements, improving accuracy and usability for businesses operating in Bolivia.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",SimonCapriles,2025-02-05 13:39:56+00:00,[],2025-02-05 14:00:20+00:00,,https://github.com/odoo/odoo/pull/196625,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2636883655, 'issue_id': 2832982344, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196625.png)](https://mergebot.odoo.com/odoo/odoo/pull/196625)', 'created_at': datetime.datetime(2025, 2, 5, 13, 39, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:39:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196625.png)](https://mergebot.odoo.com/odoo/odoo/pull/196625)

"
2832978405,pull_request,closed,,[FIX] account_edi_ubl_cii: Fix some EAS name,"Previous commit ([1]) tried to simplify with less technical names the Peppol EAS but introduced small errors.

[1]: https://github.com/odoo/odoo/commit/5c7eefed412e676c6ddf67f62bce514e5bade44c

task-no
",clbr-odoo,2025-02-05 13:38:22+00:00,['clbr-odoo'],2025-02-06 01:30:17+00:00,2025-02-06 01:30:17+00:00,https://github.com/odoo/odoo/pull/196624,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636880091, 'issue_id': 2832978405, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196624.png)](https://mergebot.odoo.com/odoo/odoo/pull/196624)', 'created_at': datetime.datetime(2025, 2, 5, 13, 38, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:38:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196624.png)](https://mergebot.odoo.com/odoo/odoo/pull/196624)

"
2832943731,pull_request,closed,,[FW][FIX] ressource: move @mail dependency in ressource_mail module,"Before this commit:
 1. Install `ressource` module
 2. In debug, open ""Run unit tests"" debug menu
 3. Error pop-up: 
```js
Global Error: stack trace available in the console
Missing dependencies: @mail/../tests/mail_test_helpers
```

After this commit:
 No error and units tests can proceed

Related runbot task: https://runbot.odoo.com/odoo/runbot.build.error/72187

Forward-Port-Of: odoo/odoo#196488
Forward-Port-Of: odoo/odoo#195824",fw-bot,2025-02-05 13:23:37+00:00,[],2025-02-06 12:17:26+00:00,2025-02-06 12:17:26+00:00,https://github.com/odoo/odoo/pull/196623,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636846228, 'issue_id': 2832943731, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196623.png)](https://mergebot.odoo.com/odoo/odoo/pull/196623)', 'created_at': datetime.datetime(2025, 2, 5, 13, 23, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636846250, 'issue_id': 2832943731, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 23, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637016923, 'issue_id': 2832943731, 'author': 'fw-bot', 'body': '@lse-odoo @seb-odoo the next pull request (odoo/odoo#196646) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 14, 32, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639268701, 'issue_id': 2832943731, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 30, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:23:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196623.png)](https://mergebot.odoo.com/odoo/odoo/pull/196623)

fw-bot (Issue Creator) on (2025-02-05 13:23:39 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 14:32:54 UTC): @lse-odoo @seb-odoo the next pull request (odoo/odoo#196646) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lse-odoo on (2025-02-06 09:30:22 UTC): @robodoo r+

"
2832938785,pull_request,closed,,[FW][IMP] account: allow only file drop,"This commit change a bit the behaviour of drag & drop feature in multiple account view. The main goal is to avoid users to drag and drop text in files drop zones. So now, if a user is dragging a text, we hide the files drop zones.

Linked:https://github.com/odoo/enterprise/pull/76565

opw-4366605

Forward-Port-Of: odoo/odoo#196551
Forward-Port-Of: odoo/odoo#193355",fw-bot,2025-02-05 13:21:28+00:00,[],2025-02-05 16:48:19+00:00,2025-02-05 16:48:19+00:00,https://github.com/odoo/odoo/pull/196622,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636841506, 'issue_id': 2832938785, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196622.png)](https://mergebot.odoo.com/odoo/odoo/pull/196622)', 'created_at': datetime.datetime(2025, 2, 5, 13, 21, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636841563, 'issue_id': 2832938785, 'author': 'fw-bot', 'body': '@igbe-odoo @h4818 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 13, 21, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637034209, 'issue_id': 2832938785, 'author': 'igbe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 14, 38, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:21:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196622.png)](https://mergebot.odoo.com/odoo/odoo/pull/196622)

fw-bot (Issue Creator) on (2025-02-05 13:21:32 UTC): @igbe-odoo @h4818 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

igbe-odoo on (2025-02-05 14:38:40 UTC): @robodoo r+

"
2832937987,pull_request,closed,,[IMP] core: add unaccent support to Index table object,"Allow to pass a callable (lambda) as the definition of a TableObject. This makes it possible to branch on registry.has_unaccent when adding compound/partial indexes with the new syntax introduced in 675c0711fb for instance.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Aurelienvd,2025-02-05 13:21:09+00:00,[],2025-02-07 19:15:37+00:00,2025-02-07 19:15:37+00:00,https://github.com/odoo/odoo/pull/196621,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2636841214, 'issue_id': 2832937987, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196621.png)](https://mergebot.odoo.com/odoo/odoo/pull/196621)', 'created_at': datetime.datetime(2025, 2, 5, 13, 21, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642835761, 'issue_id': 2832937987, 'author': 'ryv-odoo', 'body': '@robodoo r+\r\nThx @Aurelienvd and @kmagusiak', 'created_at': datetime.datetime(2025, 2, 7, 12, 53, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:21:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196621.png)](https://mergebot.odoo.com/odoo/odoo/pull/196621)

ryv-odoo on (2025-02-07 12:53:52 UTC): @robodoo r+
Thx @Aurelienvd and @kmagusiak

"
2832927973,pull_request,open,,[IMP] purchase_stock: monthy demand - WIP,"task-4536728
",svs-odoo,2025-02-05 13:16:39+00:00,[],2025-02-05 14:07:36+00:00,,https://github.com/odoo/odoo/pull/196620,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636831095, 'issue_id': 2832927973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196620.png)](https://mergebot.odoo.com/odoo/odoo/pull/196620)', 'created_at': datetime.datetime(2025, 2, 5, 13, 16, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:16:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196620.png)](https://mergebot.odoo.com/odoo/odoo/pull/196620)

"
2832911757,pull_request,open,,[IMP] l10n_jo_edi: partner identification,"Before this commit we had a schemeID equals to TN every time. But it should be equals to TN only if the partner is from 'JO' otherwise 'PN'

task: 4547131




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-02-05 13:09:39+00:00,[],2025-02-05 14:30:59+00:00,,https://github.com/odoo/odoo/pull/196619,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636815536, 'issue_id': 2832911757, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196619.png)](https://mergebot.odoo.com/odoo/odoo/pull/196619)', 'created_at': datetime.datetime(2025, 2, 5, 13, 9, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:09:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196619.png)](https://mergebot.odoo.com/odoo/odoo/pull/196619)

"
2832898641,pull_request,open,,[FIX] account_edi_ubl_cii: Add check for rule PEPPOL-COMMON-R042,opw-4477659,clbr-odoo,2025-02-05 13:03:43+00:00,[],2025-02-05 14:00:28+00:00,,https://github.com/odoo/odoo/pull/196618,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636802651, 'issue_id': 2832898641, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196618.png)](https://mergebot.odoo.com/odoo/odoo/pull/196618)', 'created_at': datetime.datetime(2025, 2, 5, 13, 3, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 13:03:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196618.png)](https://mergebot.odoo.com/odoo/odoo/pull/196618)

"
2832884361,pull_request,closed,,[FIX] pos_restaurant: fix error runbot 111972,"Error runbot: 111972
",davidmonnom,2025-02-05 12:57:30+00:00,[],2025-02-06 12:17:25+00:00,2025-02-06 12:17:25+00:00,https://github.com/odoo/odoo/pull/196617,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636788532, 'issue_id': 2832884361, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196617.png)](https://mergebot.odoo.com/odoo/odoo/pull/196617)', 'created_at': datetime.datetime(2025, 2, 5, 12, 57, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639259485, 'issue_id': 2832884361, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 25, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:57:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196617.png)](https://mergebot.odoo.com/odoo/odoo/pull/196617)

adgu-odoo on (2025-02-06 09:25:03 UTC): robodoo r+

"
2832883350,pull_request,closed,,[FIX] hr_recruitment_survey: Show recruitment-type surveys in Participations section,"**Issue**
Recruitment-type surveys do not appear in the Participations section, even when participants have completed the survey.

Steps to Reproduce:
1. Install hr_recruitment_survey module 
2. Open the Surveys app.
3. Create a new survey or open an existing one.
4. Set the survey type to Recruitment.
5. Click on the Participations smart button.

Expected behavior: Participants who completed the survey should be listed.
Actual behavior: No participants are shown.

**Root Cause**

https://github.com/odoo/odoo/blob/de935a1b3ad96e24b5fd1bd317c73c12e9b3a08f/addons/survey/models/survey_survey.py#L1090-L1096

Once the smart button is clicked, the action variable is populated through the following record

https://github.com/odoo/odoo/blob/de935a1b3ad96e24b5fd1bd317c73c12e9b3a08f/addons/survey/views/survey_user_views.xml#L153-L168

The record includes a domain filter that restricts the displayed results to specific survey types. Since ""recruitment"" is not listed among the accepted survey types, it fails the check and is excluded from the results.

**Fix**
Overriding the action_survey_user_input action template in XML to extend the domain was impractical because it replaced the existing domain rather than extending it. This prevented seamless integration with other modules, limiting flexibility. Instead, we opted to extend the domain within the action's returned values, ensuring better modularity and maintainability.

opw-4516112

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",csan-odoo,2025-02-05 12:57:03+00:00,[],2025-02-06 08:30:18+00:00,2025-02-06 08:30:18+00:00,https://github.com/odoo/odoo/pull/196616,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636787519, 'issue_id': 2832883350, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196616.png)](https://mergebot.odoo.com/odoo/odoo/pull/196616)', 'created_at': datetime.datetime(2025, 2, 5, 12, 57, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:57:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196616.png)](https://mergebot.odoo.com/odoo/odoo/pull/196616)

"
2832860714,pull_request,closed,,[FW][FIX] mail: fix Mail Failure icon,"Previously, the Mail Failure icon was a .JPG, which lacked transparency. While this was not noticeable in Odoo Light Mode, it resulted in a visible white background in Dark Mode.

This commit replaces the JPG with an SVG, ensuring proper transparency.

| Current (17.0) | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/7c87ab06-4675-4216-9132-f381dde4042d) | ![image](https://github.com/user-attachments/assets/53ec9b6b-da13-4ba5-a898-8a83d13e6eb7) |
| ![image](https://github.com/user-attachments/assets/ce40f4c8-b596-4eaf-a402-1fe4f987d7fa)   | ![image](https://github.com/user-attachments/assets/b0f99430-2975-4fcf-ad38-a585eb7c321b) | 


task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196400",fw-bot,2025-02-05 12:47:15+00:00,[],2025-02-05 21:04:39+00:00,2025-02-05 21:04:39+00:00,https://github.com/odoo/odoo/pull/196615,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636721735, 'issue_id': 2832860714, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196615.png)](https://mergebot.odoo.com/odoo/odoo/pull/196615)', 'created_at': datetime.datetime(2025, 2, 5, 12, 47, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636721866, 'issue_id': 2832860714, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 47, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637014112, 'issue_id': 2832860714, 'author': 'xlu-odoo', 'body': '@fw-bot r+', 'created_at': datetime.datetime(2025, 2, 5, 14, 31, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637695433, 'issue_id': 2832860714, 'author': 'fw-bot', 'body': '@xlu-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 18, 22, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637879149, 'issue_id': 2832860714, 'author': 'xlu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 19, 46, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:47:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196615.png)](https://mergebot.odoo.com/odoo/odoo/pull/196615)

fw-bot (Issue Creator) on (2025-02-05 12:47:17 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xlu-odoo on (2025-02-05 14:31:53 UTC): @fw-bot r+

fw-bot (Issue Creator) on (2025-02-05 18:22:11 UTC): @xlu-odoo @alexkuhn this PR was modified / updated and has become a normal PR. It must be merged directly.

xlu-odoo on (2025-02-05 19:46:30 UTC): @robodoo r+

"
2832848760,pull_request,closed,,[FW][FIX] odoo/tools: error processing Factur-X XML,"Description of the issue/feature this PR addresses:
This PR is to fix an issue encountered when copying information from an editor for a product for example, and pasting it on the product label. On Odoo the label was appearing fine but when the invoice was confirmed and sent, the XML file content is created with hidden characters.This produced the web service to return an error when trying to validate the electronic invoice. 

Current behavior before PR:
Special or hidden characters appear on the XML file of an electronic invoice.

Steps to reproduce:
1. Install Uruguay - Electronic Invoice module
2. Create EDI invoice, add special character to the description of the product you are using. Example used for testing (copy-paste it): ‭219179120011‬
3. Validate the invoice
4. Print and send it
5. Check ""DscItem"" field on the XML file created.

Here is a one minute [video](https://drive.google.com/file/d/18JcnKCbaq7cH_NVyPol4CWXHdqZAxAdo/view) reproducing the error on runbot.

Desired behavior after PR is merged:
These characters are cleaned up at the xml level on cleanup_xml_node method to avoid them to appear and prevent errors when validating the XML on localizations web services.

Related PR on v16 regarding the same issue in another context: https://github.com/odoo/odoo/pull/154509

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193047",fw-bot,2025-02-05 12:43:03+00:00,[],2025-02-07 07:54:51+00:00,2025-02-07 07:54:51+00:00,https://github.com/odoo/odoo/pull/196614,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636698864, 'issue_id': 2832848760, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196614.png)](https://mergebot.odoo.com/odoo/odoo/pull/196614)', 'created_at': datetime.datetime(2025, 2, 5, 12, 43, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636699072, 'issue_id': 2832848760, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 43, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636850577, 'issue_id': 2832848760, 'author': 'fw-bot', 'body': '@jue-adhoc @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 13, 25, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:43:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196614.png)](https://mergebot.odoo.com/odoo/odoo/pull/196614)

fw-bot (Issue Creator) on (2025-02-05 12:43:07 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 13:25:36 UTC): @jue-adhoc @smetl ci/runbot failed on this forward-port PR

"
2832841408,pull_request,closed,,[FW][FIX] account: improve help attribute on credit limit,"Having a credit limit set to 0 means 'no limit', user
has to set it to 0.01 to have a minimum limit.
This can be confusing for the user, so add a little
help message to the fields in both partner and settings views.

A better solution should be to use the `ResPartner.use_partner_credit_limit`
field to be able to set 0$ limit to specifics partner, but this can't
be done in stable (computed, non stored field).

opw-4479163

Forward-Port-Of: odoo/odoo#196300
Forward-Port-Of: odoo/odoo#194886",fw-bot,2025-02-05 12:40:26+00:00,[],2025-02-05 16:48:15+00:00,2025-02-05 16:48:15+00:00,https://github.com/odoo/odoo/pull/196613,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636680721, 'issue_id': 2832841408, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196613.png)](https://mergebot.odoo.com/odoo/odoo/pull/196613)', 'created_at': datetime.datetime(2025, 2, 5, 12, 40, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636680846, 'issue_id': 2832841408, 'author': 'fw-bot', 'body': '@guva-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196604\n* odoo/odoo#196473\n* odoo/odoo#196453\n* odoo/odoo#196435\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 40, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636742042, 'issue_id': 2832841408, 'author': 'guva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 49, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:40:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196613.png)](https://mergebot.odoo.com/odoo/odoo/pull/196613)

fw-bot (Issue Creator) on (2025-02-05 12:40:28 UTC): @guva-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196604
* odoo/odoo#196473
* odoo/odoo#196453
* odoo/odoo#196435

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

guva-odoo on (2025-02-05 12:49:45 UTC): @robodoo r+

"
2832825532,pull_request,closed,,[FW][FIX] stock: allow picking validation of already reserved package,"### Steps to reproduce:

- In the settings enable: Multi-Step Routes, Operations > Packages
- Create a storable prodcut
- Update the on hand quantity:
  - 10 units in package PK
- Inventory > Configuration > Warehouse Management > Locations
- Create 2 warehouse locations: WH/LOC1, WH/LOC2
- Go to the barcode app and proceed with the scans:
    1. Scan the internal transfer picking type
    2. Scan WH/STOCK as a source location
    3. Scan the package name (PK)
    4. Scan WH/LOC1 as destination location
- Leave the barcode app without validation
- Go to the barcode app and proceed with the scans: i -> iii,  iv'. Scan WH/LOC2 as destination location
- Try to validate the picking
#### > Invalid operation: You cannot move the same package content more than once in the same transfer or split the same package into two location.

### Cause of the issue:

As both pickings were treated via the barcode app, they generated picked move lines related to the package. Both of these move lines have updated the reserved quantity of the stock.quant present in stock:
- WH/STOCK, quantity: 10, reserved_quantity: 20.

When you try to validate the second picking, you will launch an `_action_done` of its move line that will create a new quant in WH/LOC2 and update the quant in stock:
- WH/STOCK, quantity: 0, reserved_quantity: 10.
- WH/LOC2, quantity: 10, reserved_quantity: 0.

The error is raised just after since 2 quants with either a quantity or reserved quantity are found:
https://github.com/odoo/odoo/blob/6349fb0362d881672616bb4b800bd32be82f9a5f/addons/stock/models/stock_move.py#L1910-L1917

### Fix:

Since the check is made in order to check the consistency of result packages moved by the current validation the ""reserved_quantity"" should not matter.

opw-4456484
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193214",fw-bot,2025-02-05 12:34:39+00:00,[],2025-02-07 11:09:04+00:00,2025-02-07 11:09:04+00:00,https://github.com/odoo/odoo/pull/196612,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636631215, 'issue_id': 2832825532, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196612.png)](https://mergebot.odoo.com/odoo/odoo/pull/196612)', 'created_at': datetime.datetime(2025, 2, 5, 12, 34, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636631308, 'issue_id': 2832825532, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 34, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:34:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196612.png)](https://mergebot.odoo.com/odoo/odoo/pull/196612)

fw-bot (Issue Creator) on (2025-02-05 12:34:41 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832824644,pull_request,open,,[FIX] account: prevent payment reference override in wizard,"Steps to reproduce:
- add a payment reference on a vendor bill
- confirm
- register a payment
- see the memo takes the payment reference value
- update the payment reference on the invoice, register (no matter if you reset the invoice into draft or not)
- register a payment

Issue:
see the memo takes the same vale as the initial payment reference

Cause:
We use the `line.name` which is not wrong as when we update the payment reference the it will be updated. But whenever we update the payment reference again, the `line.name` will not be updated https://github.com/odoo/odoo/blob/0bec22df0a34c6bc201d2627cf1123509d272a6d/addons/account/models/account_move_line.py#L482-L483

Solution:
We prioritize the payment reference for the communication as it is the case in 18.0

opw-4405999",yosa-odoo,2025-02-05 12:34:23+00:00,[],2025-02-05 13:00:17+00:00,,https://github.com/odoo/odoo/pull/196611,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636629590, 'issue_id': 2832824644, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196611.png)](https://mergebot.odoo.com/odoo/odoo/pull/196611)', 'created_at': datetime.datetime(2025, 2, 5, 12, 34, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:34:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196611.png)](https://mergebot.odoo.com/odoo/odoo/pull/196611)

"
2832809959,pull_request,closed,,[FW][FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763

Forward-Port-Of: odoo/odoo#196451
Forward-Port-Of: odoo/odoo#193008",fw-bot,2025-02-05 12:29:06+00:00,[],2025-02-06 14:36:21+00:00,2025-02-06 14:36:21+00:00,https://github.com/odoo/odoo/pull/196610,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636600424, 'issue_id': 2832809959, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196610.png)](https://mergebot.odoo.com/odoo/odoo/pull/196610)', 'created_at': datetime.datetime(2025, 2, 5, 12, 29, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636600445, 'issue_id': 2832809959, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 29, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:29:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196610.png)](https://mergebot.odoo.com/odoo/odoo/pull/196610)

fw-bot (Issue Creator) on (2025-02-05 12:29:08 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832809261,pull_request,open,,[FW][FIX] hr: message post departure reason traceback,"Since the function message_post on mail thread has been built to be called on exactly one record and the function write on employee is for multiple records, we need to call it for each employee we are writing on.

It has been introduced in: https://github.com/odoo/odoo/pull/143217

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196257",fw-bot,2025-02-05 12:28:47+00:00,[],2025-02-05 13:00:20+00:00,,https://github.com/odoo/odoo/pull/196609,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636599736, 'issue_id': 2832809261, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196609.png)](https://mergebot.odoo.com/odoo/odoo/pull/196609)', 'created_at': datetime.datetime(2025, 2, 5, 12, 28, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636599755, 'issue_id': 2832809261, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 28, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:28:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196609.png)](https://mergebot.odoo.com/odoo/odoo/pull/196609)

fw-bot (Issue Creator) on (2025-02-05 12:28:48 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832752341,pull_request,closed,,[FW][FIX] project: remove hardcoded column size for task id field,"Before this commit, the column of task id displayed in list view of all tasks menu is too small when there are many tasks stored in DB. Moreover, if the user wants to sort the tasks by ID, the column collapses.

This commit reverts the hardcoded size set on that column to let the framework computes the column size.

Steps to reproduce the issue:
----------------------------

1. Create a good amount of task (over 1000)
2. Go to Projects > Tasks > All tasks
3. Display the ID column in the list view.
4. Sort by ID

Expected Behavior
-----------------

The content of the column should still be visible.

Current Behavior
----------------

The column size is recomputed and the size is too small to directly see its content.

opw-4524749

Forward-Port-Of: odoo/odoo#196391",fw-bot,2025-02-05 12:04:28+00:00,[],2025-02-06 19:39:10+00:00,2025-02-06 19:38:13+00:00,https://github.com/odoo/odoo/pull/196608,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636544423, 'issue_id': 2832752341, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196608.png)](https://mergebot.odoo.com/odoo/odoo/pull/196608)', 'created_at': datetime.datetime(2025, 2, 5, 12, 4, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636544463, 'issue_id': 2832752341, 'author': 'fw-bot', 'body': '@xavierbol this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 12, 4, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636703820, 'issue_id': 2832752341, 'author': 'fw-bot', 'body': '@xavierbol ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 12, 44, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640136720, 'issue_id': 2832752341, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 25, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640136860, 'issue_id': 2832752341, 'author': 'robodoo', 'body': '@xavierbol you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 6, 15, 25, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 12:04:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196608.png)](https://mergebot.odoo.com/odoo/odoo/pull/196608)

fw-bot (Issue Creator) on (2025-02-05 12:04:39 UTC): @xavierbol this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 12:44:01 UTC): @xavierbol ci/runbot failed on this forward-port PR

xavierbol on (2025-02-06 15:25:16 UTC): robodoo r+

robodoo on (2025-02-06 15:25:19 UTC): @xavierbol you may want to rebuild or fix this PR as it has failed CI.

"
2832728057,pull_request,closed,,[FW][FIX] base_import_module: ignore unset module_type,"`module_type` is not required. This leads to some code-modules to have
null value in the column. When this happens an error occurs if we try to
open the form view of the module in Apps.

Steps to reproduce:
1. Install a custom module.
2. Modify the `module_type` to `NULL` via SQL (note that the column is
   not required)
3. Try to open the module in the Apps menu. We get an error like:
```
Can't fetch records(s) ... They might have been deleted.
```

This issue is impacting multiple DBs post upgrade. Since this is a new
field the value is not filled in some cases. It is also possible that
due to misconfiguration the value is set to something other than
`official`.

In this patch we propose to fetch the information only for modules that
are already marked as `industry`. 

opw-4516992

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195540",fw-bot,2025-02-05 11:54:19+00:00,[],2025-02-05 15:20:15+00:00,2025-02-05 15:20:15+00:00,https://github.com/odoo/odoo/pull/196607,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636522510, 'issue_id': 2832728057, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196607.png)](https://mergebot.odoo.com/odoo/odoo/pull/196607)', 'created_at': datetime.datetime(2025, 2, 5, 11, 54, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636522542, 'issue_id': 2832728057, 'author': 'fw-bot', 'body': '@aj-fuentes @pimodoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196593\n* odoo/odoo#196573\n* odoo/odoo#196561\n* odoo/odoo#196509\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 11, 54, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636788671, 'issue_id': 2832728057, 'author': 'aj-fuentes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 57, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 11:54:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196607.png)](https://mergebot.odoo.com/odoo/odoo/pull/196607)

fw-bot (Issue Creator) on (2025-02-05 11:54:21 UTC): @aj-fuentes @pimodoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196593
* odoo/odoo#196573
* odoo/odoo#196561
* odoo/odoo#196509

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aj-fuentes on (2025-02-05 12:57:36 UTC): @robodoo r+

"
2832656564,pull_request,open,,[FIX] point_of_sale: missing related fields after synchronization,"When we sync PoS models after write to a record we don't want to overwrite local connections.
However this means we don't create new connections when we receive related record data from the backend, possibly breaking flows relying on account move data, like the following:

User in Chile needs to print on the POS receipt the SII Fiscal barcode This is currently not being printed and this makes the ticket not a validal legal invoice or electronic ticket.

Step to reproduce:
- With a Chilean company setup
- Open POS session
- Make an order to customer ""Consumidor Final Anónimo""
- Pay and check generated receipt

Issue: On the receipt no barcode is shown, a broken image placeholder can be observed.
This occurs because the related record (account_move) is not loaded

opw-4489277

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",agr-odoo,2025-02-05 11:22:25+00:00,[],2025-02-05 12:00:12+00:00,,https://github.com/odoo/odoo/pull/196605,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636458061, 'issue_id': 2832656564, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196605.png)](https://mergebot.odoo.com/odoo/odoo/pull/196605)', 'created_at': datetime.datetime(2025, 2, 5, 11, 22, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 11:22:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196605.png)](https://mergebot.odoo.com/odoo/odoo/pull/196605)

"
2832653336,pull_request,closed,,[FW][FIX] account: improve help attribute on credit limit,"Having a credit limit set to 0 means 'no limit', user
has to set it to 0.01 to have a minimum limit.
This can be confusing for the user, so add a little
help message to the fields in both partner and settings views.

A better solution should be to use the `ResPartner.use_partner_credit_limit`
field to be able to set 0$ limit to specifics partner, but this can't
be done in stable (computed, non stored field).

opw-4479163

Forward-Port-Of: odoo/odoo#196300
Forward-Port-Of: odoo/odoo#194886",fw-bot,2025-02-05 11:21:07+00:00,[],2025-02-05 15:18:31+00:00,2025-02-05 15:18:31+00:00,https://github.com/odoo/odoo/pull/196604,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636455345, 'issue_id': 2832653336, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196604.png)](https://mergebot.odoo.com/odoo/odoo/pull/196604)', 'created_at': datetime.datetime(2025, 2, 5, 11, 21, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636455367, 'issue_id': 2832653336, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 11, 21, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 11:21:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196604.png)](https://mergebot.odoo.com/odoo/odoo/pull/196604)

fw-bot (Issue Creator) on (2025-02-05 11:21:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832636146,pull_request,closed,,[FW][FIX] stock: allow picking validation of already reserved package,"### Steps to reproduce:

- In the settings enable: Multi-Step Routes, Operations > Packages
- Create a storable prodcut
- Update the on hand quantity:
  - 10 units in package PK
- Inventory > Configuration > Warehouse Management > Locations
- Create 2 warehouse locations: WH/LOC1, WH/LOC2
- Go to the barcode app and proceed with the scans:
    1. Scan the internal transfer picking type
    2. Scan WH/STOCK as a source location
    3. Scan the package name (PK)
    4. Scan WH/LOC1 as destination location
- Leave the barcode app without validation
- Go to the barcode app and proceed with the scans: i -> iii,  iv'. Scan WH/LOC2 as destination location
- Try to validate the picking
#### > Invalid operation: You cannot move the same package content more than once in the same transfer or split the same package into two location.

### Cause of the issue:

As both pickings were treated via the barcode app, they generated picked move lines related to the package. Both of these move lines have updated the reserved quantity of the stock.quant present in stock:
- WH/STOCK, quantity: 10, reserved_quantity: 20.

When you try to validate the second picking, you will launch an `_action_done` of its move line that will create a new quant in WH/LOC2 and update the quant in stock:
- WH/STOCK, quantity: 0, reserved_quantity: 10.
- WH/LOC2, quantity: 10, reserved_quantity: 0.

The error is raised just after since 2 quants with either a quantity or reserved quantity are found:
https://github.com/odoo/odoo/blob/6349fb0362d881672616bb4b800bd32be82f9a5f/addons/stock/models/stock_move.py#L1910-L1917

### Fix:

Since the check is made in order to check the consistency of result packages moved by the current validation the ""reserved_quantity"" should not matter.

opw-4456484
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193214",fw-bot,2025-02-05 11:13:23+00:00,[],2025-02-07 11:40:36+00:00,2025-02-07 11:40:36+00:00,https://github.com/odoo/odoo/pull/196603,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636439302, 'issue_id': 2832636146, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196603.png)](https://mergebot.odoo.com/odoo/odoo/pull/196603)', 'created_at': datetime.datetime(2025, 2, 5, 11, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636439323, 'issue_id': 2832636146, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 11, 13, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 11:13:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196603.png)](https://mergebot.odoo.com/odoo/odoo/pull/196603)

fw-bot (Issue Creator) on (2025-02-05 11:13:25 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832626781,pull_request,closed,,[FW][FIX] hr: fixed the plan smart button,"In this PR,
- Set the default department for the Plans smart button.
- If there is no plan, it will open the form view.

Task-4356557

Forward-Port-Of: odoo/odoo#196430
Forward-Port-Of: odoo/odoo#190938",fw-bot,2025-02-05 11:09:33+00:00,[],2025-02-05 18:04:04+00:00,2025-02-05 18:04:03+00:00,https://github.com/odoo/odoo/pull/196602,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2636430997, 'issue_id': 2832626781, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196602.png)](https://mergebot.odoo.com/odoo/odoo/pull/196602)', 'created_at': datetime.datetime(2025, 2, 5, 11, 9, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636431020, 'issue_id': 2832626781, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse cherrypicking of pull request odoo/odoo#190938 failed.\n\nstdout:\n```\nAuto-merging addons/hr/models/hr_department.py\nCONFLICT (content): Merge conflict in addons/hr/models/hr_department.py\nAuto-merging addons/hr/views/mail_activity_plan_views.xml\nAuto-merging addons/mail/views/mail_activity_plan_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 11, 9, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636570853, 'issue_id': 2832626781, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 16, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 11:09:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196602.png)](https://mergebot.odoo.com/odoo/odoo/pull/196602)

fw-bot (Issue Creator) on (2025-02-05 11:09:41 UTC): @yava-odoo @tivisse cherrypicking of pull request odoo/odoo#190938 failed.

stdout:
```
Auto-merging addons/hr/models/hr_department.py
CONFLICT (content): Merge conflict in addons/hr/models/hr_department.py
Auto-merging addons/hr/views/mail_activity_plan_views.xml
Auto-merging addons/mail/views/mail_activity_plan_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-05 12:16:27 UTC): @robodoo r+

"
2832609496,pull_request,open,,[FW][FIX] hr: message post departure reason traceback,"Since the function message_post on mail thread has been built to be called on exactly one record and the function write on employee is for multiple records, we need to call it for each employee we are writing on.

It has been introduced in: https://github.com/odoo/odoo/pull/143217

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196257",fw-bot,2025-02-05 11:02:13+00:00,[],2025-02-05 12:00:17+00:00,,https://github.com/odoo/odoo/pull/196601,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636414272, 'issue_id': 2832609496, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196601.png)](https://mergebot.odoo.com/odoo/odoo/pull/196601)', 'created_at': datetime.datetime(2025, 2, 5, 11, 2, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636414295, 'issue_id': 2832609496, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 11, 2, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 11:02:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196601.png)](https://mergebot.odoo.com/odoo/odoo/pull/196601)

fw-bot (Issue Creator) on (2025-02-05 11:02:15 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832602011,pull_request,closed,,[FW][FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763

Forward-Port-Of: odoo/odoo#196451
Forward-Port-Of: odoo/odoo#193008",fw-bot,2025-02-05 10:58:57+00:00,[],2025-02-06 15:22:33+00:00,2025-02-06 15:22:33+00:00,https://github.com/odoo/odoo/pull/196600,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636406709, 'issue_id': 2832602011, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196600.png)](https://mergebot.odoo.com/odoo/odoo/pull/196600)', 'created_at': datetime.datetime(2025, 2, 5, 10, 58, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636406726, 'issue_id': 2832602011, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 58, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:58:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196600.png)](https://mergebot.odoo.com/odoo/odoo/pull/196600)

fw-bot (Issue Creator) on (2025-02-05 10:58:59 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832601239,pull_request,closed,,[FW][FIX] odoo/tools: error processing Factur-X XML,"Description of the issue/feature this PR addresses:
This PR is to fix an issue encountered when copying information from an editor for a product for example, and pasting it on the product label. On Odoo the label was appearing fine but when the invoice was confirmed and sent, the XML file content is created with hidden characters.This produced the web service to return an error when trying to validate the electronic invoice. 

Current behavior before PR:
Special or hidden characters appear on the XML file of an electronic invoice.

Steps to reproduce:
1. Install Uruguay - Electronic Invoice module
2. Create EDI invoice, add special character to the description of the product you are using. Example used for testing (copy-paste it): ‭219179120011‬
3. Validate the invoice
4. Print and send it
5. Check ""DscItem"" field on the XML file created.

Here is a one minute [video](https://drive.google.com/file/d/18JcnKCbaq7cH_NVyPol4CWXHdqZAxAdo/view) reproducing the error on runbot.

Desired behavior after PR is merged:
These characters are cleaned up at the xml level on cleanup_xml_node method to avoid them to appear and prevent errors when validating the XML on localizations web services.

Related PR on v16 regarding the same issue in another context: https://github.com/odoo/odoo/pull/154509

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193047",fw-bot,2025-02-05 10:58:35+00:00,[],2025-02-07 07:44:54+00:00,2025-02-07 07:44:54+00:00,https://github.com/odoo/odoo/pull/196599,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636405946, 'issue_id': 2832601239, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196599.png)](https://mergebot.odoo.com/odoo/odoo/pull/196599)', 'created_at': datetime.datetime(2025, 2, 5, 10, 58, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636406086, 'issue_id': 2832601239, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 58, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:58:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196599.png)](https://mergebot.odoo.com/odoo/odoo/pull/196599)

fw-bot (Issue Creator) on (2025-02-05 10:58:41 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832594895,pull_request,open,,[FIX] l10n_sa_edi: xpath change,"The module base_vat add a div around the vat field and so the xpath place the field in the div which is not what we want. By putting it after the address we are sure that those field are rightly placed

task: 4543204



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-02-05 10:55:44+00:00,[],2025-02-07 10:14:49+00:00,,https://github.com/odoo/odoo/pull/196598,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636399570, 'issue_id': 2832594895, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196598.png)](https://mergebot.odoo.com/odoo/odoo/pull/196598)', 'created_at': datetime.datetime(2025, 2, 5, 10, 55, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:55:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196598.png)](https://mergebot.odoo.com/odoo/odoo/pull/196598)

"
2832594064,pull_request,closed,,[FIX] account: literal_eval cannot have null values,"literal_eval cannot evaluate null values, it will give a `malformed node error` if one is passed.

`ValueError: malformed node or string: False`

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",asno-odoo,2025-02-05 10:55:20+00:00,[],2025-02-06 09:42:16+00:00,2025-02-06 09:42:16+00:00,https://github.com/odoo/odoo/pull/196597,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636398705, 'issue_id': 2832594064, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196597.png)](https://mergebot.odoo.com/odoo/odoo/pull/196597)', 'created_at': datetime.datetime(2025, 2, 5, 10, 55, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:55:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196597.png)](https://mergebot.odoo.com/odoo/odoo/pull/196597)

"
2832593497,pull_request,closed,,[FIX] web: disable autocomplete for many2x field input,"Steps:
- Open a task
- Click on ""Tags"" field input

Actual result:
- Autocomplete is there and can hide dropdown (partially or fully)
![image](https://github.com/user-attachments/assets/b72252e5-f276-4571-8c37-970dde7d91b3)

Expected result:
- Autocomplete is really off by default for many2x field
- No autocompletion like before 18.1, we already have one as it's a dropdown

opw-4551051

Caused by: https://github.com/odoo/odoo/commit/9c0f5612e9fab514116e2385338d8fc1ce42b821",GaetanVandenBergh,2025-02-05 10:55:05+00:00,[],2025-02-05 22:17:05+00:00,2025-02-05 22:17:05+00:00,https://github.com/odoo/odoo/pull/196596,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636398161, 'issue_id': 2832593497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196596.png)](https://mergebot.odoo.com/odoo/odoo/pull/196596)', 'created_at': datetime.datetime(2025, 2, 5, 10, 55, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637264144, 'issue_id': 2832593497, 'author': 'kebeclibre', 'body': 'sources:\r\n[caniuse.](https://caniuse.com/?search=autocomplete)  => firefox and chrome have their own implementation and interpretation of the spec\r\n\r\nformalized at https://issues.chromium.org/issues/41163264#comment30\r\nand https://bugzilla.mozilla.org/show_bug.cgi?id=956906\r\n\r\n""off"" is ignored when the input has a name => chrome proposes recorded address in the autofill settings (it is named *autofill* data)\r\n""new-password"" is ignored when chrome proposes frequently used values (somewhere in the config/data of the browser\'s profile, in chrome 132 I did not find how to set *autocomplete* data)\r\n\r\n\r\nThis PR seems legit.', 'created_at': datetime.datetime(2025, 2, 5, 15, 35, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637264747, 'issue_id': 2832593497, 'author': 'kebeclibre', 'body': 'robodoo r+ delegate+', 'created_at': datetime.datetime(2025, 2, 5, 15, 35, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:55:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196596.png)](https://mergebot.odoo.com/odoo/odoo/pull/196596)

kebeclibre on (2025-02-05 15:35:32 UTC): sources:
[caniuse.](https://caniuse.com/?search=autocomplete)  => firefox and chrome have their own implementation and interpretation of the spec

formalized at https://issues.chromium.org/issues/41163264#comment30
and https://bugzilla.mozilla.org/show_bug.cgi?id=956906

""off"" is ignored when the input has a name => chrome proposes recorded address in the autofill settings (it is named *autofill* data)
""new-password"" is ignored when chrome proposes frequently used values (somewhere in the config/data of the browser's profile, in chrome 132 I did not find how to set *autocomplete* data)


This PR seems legit.

kebeclibre on (2025-02-05 15:35:45 UTC): robodoo r+ delegate+

"
2832592474,pull_request,open,,"[FIX] crm, web_event_sale: delete outdated assets declaration file","Description of the issue/feature this PR addresses: from commit https://github.com/odoo/odoo/commit/0364161 removed the assets declarations in xml, but there are still some declarations left behind. so this commit to clean that up

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xaviedoanhduy,2025-02-05 10:54:36+00:00,[],2025-02-05 11:00:19+00:00,,https://github.com/odoo/odoo/pull/196595,[],"[{'comment_id': 2636397179, 'issue_id': 2832592474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196595.png)](https://mergebot.odoo.com/odoo/odoo/pull/196595)', 'created_at': datetime.datetime(2025, 2, 5, 10, 54, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:54:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196595.png)](https://mergebot.odoo.com/odoo/odoo/pull/196595)

"
2832568204,pull_request,open,,Master caches read aab,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-02-05 10:44:00+00:00,[],2025-02-05 13:42:45+00:00,,https://github.com/odoo/odoo/pull/196594,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636372439, 'issue_id': 2832568204, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196594.png)](https://mergebot.odoo.com/odoo/odoo/pull/196594)', 'created_at': datetime.datetime(2025, 2, 5, 10, 44, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:44:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196594.png)](https://mergebot.odoo.com/odoo/odoo/pull/196594)

"
2832548587,pull_request,closed,,[FW][FIX] base_import_module: ignore unset module_type,"`module_type` is not required. This leads to some code-modules to have
null value in the column. When this happens an error occurs if we try to
open the form view of the module in Apps.

Steps to reproduce:
1. Install a custom module.
2. Modify the `module_type` to `NULL` via SQL (note that the column is
   not required)
3. Try to open the module in the Apps menu. We get an error like:
```
Can't fetch records(s) ... They might have been deleted.
```

This issue is impacting multiple DBs post upgrade. Since this is a new
field the value is not filled in some cases. It is also possible that
due to misconfiguration the value is set to something other than
`official`.

In this patch we propose to fetch the information only for modules that
are already marked as `industry`. 

opw-4516992

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195540",fw-bot,2025-02-05 10:35:19+00:00,[],2025-02-05 18:48:03+00:00,2025-02-05 18:48:03+00:00,https://github.com/odoo/odoo/pull/196593,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636352536, 'issue_id': 2832548587, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196593.png)](https://mergebot.odoo.com/odoo/odoo/pull/196593)', 'created_at': datetime.datetime(2025, 2, 5, 10, 35, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636352568, 'issue_id': 2832548587, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 35, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:35:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196593.png)](https://mergebot.odoo.com/odoo/odoo/pull/196593)

fw-bot (Issue Creator) on (2025-02-05 10:35:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832545874,pull_request,open,,[IMP] l10n_sa_edi: renaming fields and invisible rework,"This commit will rename some field to fit the convention to have the name of the module as a prefix. Also changing the invisible of the fields since they were displayed in wrong situation.

task: 4543406




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-02-05 10:34:07+00:00,[],2025-02-07 15:43:19+00:00,,https://github.com/odoo/odoo/pull/196592,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636349831, 'issue_id': 2832545874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196592.png)](https://mergebot.odoo.com/odoo/odoo/pull/196592)', 'created_at': datetime.datetime(2025, 2, 5, 10, 34, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:34:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196592.png)](https://mergebot.odoo.com/odoo/odoo/pull/196592)

"
2832545419,pull_request,open,,[FW][FIX] point_of_sale: not use SEPA CT on outgoing pos payments,"Currently, when closing the session, you would encounter an issue if the a refund payment was done using bank payment method and on the journal, the SEPA Credit Transfer is positionned first in the sequence.

Steps to reproduce:
-------------------
* Install `l10n_fr`, `point_of_sale`, and `account_sepa`
* Switch to the `FR Company`
* In the **Invoicing** app, select **Configuration** > **Journals**
* Select the `Bank` journal
* Set proper IBAN account
* In **Outgoing Payments**, move `SEPA Credit Transfer` to the top
* In **Point of sale**, open pos shop
* Select any product, change the price or qty to be negative (or make a refund for an order with no customer)
* Select `Bank` payment method
* Validate
* Try closing session
> Observation: Closing session error: An error has occurred when trying to
close the sesion. You will be redirected to the back-end to manually close the session.
* In the backend, try to close the session
> Observation: To record payments with False, the recipient bank account
must be manually validated. You should go on the partner bank account in order to validate it.

Why the fix:
------------
The first payment_method_line will be used among the available payment method lines:
https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L461-L465 https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L470-L475

In the context of the point of sale, using SEPA CT in the context of refunds does not make too much sense. Indeed, in the pos a refund can be done on an order which is not related to a client. By definition, when using SEPA your are supposed to know the client and it bank account number.

We exclude the possibility of using SEPA CT when creating refund account payments coming from the Pos.

opw-4310781

Forward-Port-Of: odoo/odoo#196292
Forward-Port-Of: odoo/odoo#195784",fw-bot,2025-02-05 10:33:54+00:00,[],2025-02-06 16:49:07+00:00,,https://github.com/odoo/odoo/pull/196591,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2636349282, 'issue_id': 2832545419, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196591.png)](https://mergebot.odoo.com/odoo/odoo/pull/196591)', 'created_at': datetime.datetime(2025, 2, 5, 10, 33, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636349372, 'issue_id': 2832545419, 'author': 'fw-bot', 'body': '@sbel-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#195784 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_session.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 33, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:33:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196591.png)](https://mergebot.odoo.com/odoo/odoo/pull/196591)

fw-bot (Issue Creator) on (2025-02-05 10:33:57 UTC): @sbel-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#195784 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_session.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832521899,pull_request,closed,,[FW][FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997

Forward-Port-Of: odoo/odoo#196283
Forward-Port-Of: odoo/odoo#193060",fw-bot,2025-02-05 10:23:30+00:00,[],2025-02-05 15:18:35+00:00,2025-02-05 15:18:35+00:00,https://github.com/odoo/odoo/pull/196590,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2636324980, 'issue_id': 2832521899, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196590.png)](https://mergebot.odoo.com/odoo/odoo/pull/196590)', 'created_at': datetime.datetime(2025, 2, 5, 10, 23, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636325080, 'issue_id': 2832521899, 'author': 'fw-bot', 'body': '@yagp-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#193060 failed.\n\nstdout:\n```\nAuto-merging addons/crm/views/crm_lead_views.xml\nCONFLICT (content): Merge conflict in addons/crm/views/crm_lead_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 23, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636605126, 'issue_id': 2832521899, 'author': 'yagp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 30, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:23:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196590.png)](https://mergebot.odoo.com/odoo/odoo/pull/196590)

fw-bot (Issue Creator) on (2025-02-05 10:23:34 UTC): @yagp-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#193060 failed.

stdout:
```
Auto-merging addons/crm/views/crm_lead_views.xml
CONFLICT (content): Merge conflict in addons/crm/views/crm_lead_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yagp-odoo on (2025-02-05 12:30:41 UTC): @robodoo r+

"
2832509132,pull_request,open,,[IMP] account_edi_ubl_cii: facturx always set billing period,"task-no
",clbr-odoo,2025-02-05 10:18:27+00:00,[],2025-02-05 11:00:23+00:00,,https://github.com/odoo/odoo/pull/196589,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636311912, 'issue_id': 2832509132, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196589.png)](https://mergebot.odoo.com/odoo/odoo/pull/196589)', 'created_at': datetime.datetime(2025, 2, 5, 10, 18, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:18:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196589.png)](https://mergebot.odoo.com/odoo/odoo/pull/196589)

"
2832505682,pull_request,closed,,[FIX] website_sale: fix add_to_cart_snippet_tour,"Correct trigger which was wrong, causing JS test to timeout

runbot-task-98520
",lse-odoo,2025-02-05 10:17:19+00:00,[],2025-02-06 16:33:40+00:00,2025-02-06 16:33:40+00:00,https://github.com/odoo/odoo/pull/196588,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636307615, 'issue_id': 2832505682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196588.png)](https://mergebot.odoo.com/odoo/odoo/pull/196588)', 'created_at': datetime.datetime(2025, 2, 5, 10, 17, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636308618, 'issue_id': 2832505682, 'author': 'lse-odoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 10, 17, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636308788, 'issue_id': 2832505682, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 10, 17, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636442847, 'issue_id': 2832505682, 'author': 'pipu-odoo', 'body': 'Thank you !', 'created_at': datetime.datetime(2025, 2, 5, 11, 15, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640352154, 'issue_id': 2832505682, 'author': 'lse-odoo', 'body': '17.2 will be dropped this week. As this PR was fixed in higher version it can be closed safely', 'created_at': datetime.datetime(2025, 2, 6, 16, 33, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:17:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196588.png)](https://mergebot.odoo.com/odoo/odoo/pull/196588)

lse-odoo (Issue Creator) on (2025-02-05 10:17:39 UTC): @robodoo fw=no

robodoo on (2025-02-05 10:17:41 UTC): Disabled forward-porting.

pipu-odoo on (2025-02-05 11:15:05 UTC): Thank you !

lse-odoo (Issue Creator) on (2025-02-06 16:33:40 UTC): 17.2 will be dropped this week. As this PR was fixed in higher version it can be closed safely

"
2832504808,pull_request,open,,[FW][FIX] im_livechat: remove unwanted redirection,"Before this PR, if a chatbot's last step is redirecting to a URL, a visitor could be trapped in an infinite loop of redirection. This is because the chatbot always replays the last step of the script when the page loads.

This PR updated the livechat_active status when all the steps were done and ensured that the chatbot service doesn't start if livechat_active is false.

Task-4518285

Forward-Port-Of: odoo/odoo#196520
Forward-Port-Of: odoo/odoo#195429",fw-bot,2025-02-05 10:17:04+00:00,[],2025-02-06 14:29:23+00:00,,https://github.com/odoo/odoo/pull/196587,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636306580, 'issue_id': 2832504808, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196587.png)](https://mergebot.odoo.com/odoo/odoo/pull/196587)', 'created_at': datetime.datetime(2025, 2, 5, 10, 17, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636306615, 'issue_id': 2832504808, 'author': 'fw-bot', 'body': '@phenix-factory @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 17, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636324857, 'issue_id': 2832504808, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 10, 23, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636372894, 'issue_id': 2832504808, 'author': 'robodoo', 'body': ""@phenix-factory @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 10, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639950040, 'issue_id': 2832504808, 'author': 'seb-odoo', 'body': 'There is an issue to resolve here.', 'created_at': datetime.datetime(2025, 2, 6, 14, 15, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639979532, 'issue_id': 2832504808, 'author': 'fw-bot', 'body': '@phenix-factory @seb-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 6, 14, 27, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:17:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196587.png)](https://mergebot.odoo.com/odoo/odoo/pull/196587)

fw-bot (Issue Creator) on (2025-02-05 10:17:05 UTC): @phenix-factory @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

phenix-factory on (2025-02-05 10:23:29 UTC): @robodoo r+

robodoo on (2025-02-05 10:44:13 UTC): @phenix-factory @seb-odoo 'ci/runbot' failed on this reviewed PR.

seb-odoo on (2025-02-06 14:15:48 UTC): There is an issue to resolve here.

fw-bot (Issue Creator) on (2025-02-06 14:27:26 UTC): @phenix-factory @seb-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2832503267,pull_request,closed,,[FW][IMP] account: Add a way to force manual tax/base amounts to the taxes computation,"---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196240
Forward-Port-Of: odoo/odoo#195003",fw-bot,2025-02-05 10:16:32+00:00,[],2025-02-05 18:07:27+00:00,2025-02-05 18:07:27+00:00,https://github.com/odoo/odoo/pull/196586,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2636305286, 'issue_id': 2832503267, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196586.png)](https://mergebot.odoo.com/odoo/odoo/pull/196586)', 'created_at': datetime.datetime(2025, 2, 5, 10, 16, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636305340, 'issue_id': 2832503267, 'author': 'fw-bot', 'body': '@smetl @clbr-odoo cherrypicking of pull request odoo/odoo#195003 failed.\n\n* d2450a5d065c8adc0ca4ab120a3aae0169c4b3b7\n* 21f5000c1ee7ea2e9e3b488287a8245c7b7bf2f5 <- on this commit\n* 36f6a44fa1b2ca0ac0b60ff2aa5278c21a3ff8ff\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 16, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637395039, 'issue_id': 2832503267, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 16, 18, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:16:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196586.png)](https://mergebot.odoo.com/odoo/odoo/pull/196586)

fw-bot (Issue Creator) on (2025-02-05 10:16:36 UTC): @smetl @clbr-odoo cherrypicking of pull request odoo/odoo#195003 failed.

* d2450a5d065c8adc0ca4ab120a3aae0169c4b3b7
* 21f5000c1ee7ea2e9e3b488287a8245c7b7bf2f5 <- on this commit
* 36f6a44fa1b2ca0ac0b60ff2aa5278c21a3ff8ff

stdout:
```
Auto-merging addons/point_of_sale/models/pos_order.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/pos_order_line.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-02-05 16:18:10 UTC): @robodoo r+

"
2832482092,pull_request,closed,,[FIX] point_of_sale: customer popup display,"Handle case where customer name is too long causing the customer action buttons inaccessible.

- Put `width` and `text-break` on partner name column.
- Enable overflow-x on the partner modal (so that if the partner infos are too long, its buttons are still accessible).
- Remove weird left/right border on partner line inside customer popup.

task-id: 4547853

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-02-05 10:07:25+00:00,[],2025-02-05 22:17:10+00:00,2025-02-05 22:17:10+00:00,https://github.com/odoo/odoo/pull/196585,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636284151, 'issue_id': 2832482092, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196585.png)](https://mergebot.odoo.com/odoo/odoo/pull/196585)', 'created_at': datetime.datetime(2025, 2, 5, 10, 7, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 10:07:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196585.png)](https://mergebot.odoo.com/odoo/odoo/pull/196585)

"
2832449610,pull_request,open,,[FIX] im_livechat: fix fw operator step with message,"Before this PR, the chat bot would continue even after forwarding
an operator to the visitor when the step contained a message.

Steps to reproduce:
- Create a chat bot script with three steps: ""text"",
""free_input_single"", ""fw_operator"" with a message set.
- Start the bot as a visitor, the operator is correctly added
to the channel but the input is not available, the conversation
is considered as ended.

This is due to a race conditions when processing the notifications
coming on the bus. When the message is posted, the operator is not
yet added, this information is sent on the bus. When the operator is
added, another payload is sent on the bus informing an operator was
found.

However, the processing of the message notification is delayed and
comes after the processing of the newest information, leading to an
incorrect state.

To solve this issue, ensure insertions are made immediately in the
new message handler and send updated data on the bus to ensure the
state is correct.

This PR also fixes identifying fields issue wiht chat bot steps (step
is identified by script step and message not channel.

opw-4514479",tsm-odoo,2025-02-05 09:53:51+00:00,[],2025-02-06 16:49:37+00:00,,https://github.com/odoo/odoo/pull/196584,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636251382, 'issue_id': 2832449610, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196584.png)](https://mergebot.odoo.com/odoo/odoo/pull/196584)', 'created_at': datetime.datetime(2025, 2, 5, 9, 53, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:53:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196584.png)](https://mergebot.odoo.com/odoo/odoo/pull/196584)

"
2832435582,pull_request,closed,,[FW][FIX] account: Chart Templates translations,"Fixes a small issue when loading translations of
multiple chart templates at once.
An update to that method added a parameter with
the same name as a local variable, and the way
it has been done means that the template_data
used in each subsequent loop will always be
the ones from the first loop only, effectively
ignoring the other chart templates.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196359",fw-bot,2025-02-05 09:47:49+00:00,[],2025-02-05 13:54:02+00:00,2025-02-05 13:54:00+00:00,https://github.com/odoo/odoo/pull/196583,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636237255, 'issue_id': 2832435582, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196583.png)](https://mergebot.odoo.com/odoo/odoo/pull/196583)', 'created_at': datetime.datetime(2025, 2, 5, 9, 47, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636237285, 'issue_id': 2832435582, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196548\n* odoo/odoo#196510\n* odoo/odoo#196499\n* odoo/odoo#196495\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 47, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636239299, 'issue_id': 2832435582, 'author': 'vin-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 48, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:47:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196583.png)](https://mergebot.odoo.com/odoo/odoo/pull/196583)

fw-bot (Issue Creator) on (2025-02-05 09:47:51 UTC): @vin-odoo @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196548
* odoo/odoo#196510
* odoo/odoo#196499
* odoo/odoo#196495

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

vin-odoo on (2025-02-05 09:48:40 UTC): @robodoo r+

"
2832420433,pull_request,closed,,[FW][FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763

Forward-Port-Of: odoo/odoo#196451
Forward-Port-Of: odoo/odoo#193008",fw-bot,2025-02-05 09:41:44+00:00,[],2025-02-06 15:05:21+00:00,2025-02-06 15:05:21+00:00,https://github.com/odoo/odoo/pull/196582,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636221077, 'issue_id': 2832420433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196582.png)](https://mergebot.odoo.com/odoo/odoo/pull/196582)', 'created_at': datetime.datetime(2025, 2, 5, 9, 41, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636221099, 'issue_id': 2832420433, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 41, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:41:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196582.png)](https://mergebot.odoo.com/odoo/odoo/pull/196582)

fw-bot (Issue Creator) on (2025-02-05 09:41:46 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832418866,pull_request,open,,[FW][FIX] hr: message post departure reason traceback,"Since the function message_post on mail thread has been built to be called on exactly one record and the function write on employee is for multiple records, we need to call it for each employee we are writing on.

It has been introduced in: https://github.com/odoo/odoo/pull/143217

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196257",fw-bot,2025-02-05 09:41:04+00:00,[],2025-02-05 10:00:14+00:00,,https://github.com/odoo/odoo/pull/196581,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636219443, 'issue_id': 2832418866, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196581.png)](https://mergebot.odoo.com/odoo/odoo/pull/196581)', 'created_at': datetime.datetime(2025, 2, 5, 9, 41, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636219467, 'issue_id': 2832418866, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 41, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:41:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196581.png)](https://mergebot.odoo.com/odoo/odoo/pull/196581)

fw-bot (Issue Creator) on (2025-02-05 09:41:06 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832416275,pull_request,closed,,[FW][FIX] odoo/tools: error processing Factur-X XML,"Description of the issue/feature this PR addresses:
This PR is to fix an issue encountered when copying information from an editor for a product for example, and pasting it on the product label. On Odoo the label was appearing fine but when the invoice was confirmed and sent, the XML file content is created with hidden characters.This produced the web service to return an error when trying to validate the electronic invoice. 

Current behavior before PR:
Special or hidden characters appear on the XML file of an electronic invoice.

Steps to reproduce:
1. Install Uruguay - Electronic Invoice module
2. Create EDI invoice, add special character to the description of the product you are using. Example used for testing (copy-paste it): ‭219179120011‬
3. Validate the invoice
4. Print and send it
5. Check ""DscItem"" field on the XML file created.

Here is a one minute [video](https://drive.google.com/file/d/18JcnKCbaq7cH_NVyPol4CWXHdqZAxAdo/view) reproducing the error on runbot.

Desired behavior after PR is merged:
These characters are cleaned up at the xml level on cleanup_xml_node method to avoid them to appear and prevent errors when validating the XML on localizations web services.

Related PR on v16 regarding the same issue in another context: https://github.com/odoo/odoo/pull/154509

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193047",fw-bot,2025-02-05 09:39:55+00:00,[],2025-02-07 08:26:18+00:00,2025-02-07 08:26:18+00:00,https://github.com/odoo/odoo/pull/196580,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636216941, 'issue_id': 2832416275, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196580.png)](https://mergebot.odoo.com/odoo/odoo/pull/196580)', 'created_at': datetime.datetime(2025, 2, 5, 9, 39, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636216977, 'issue_id': 2832416275, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 39, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:39:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196580.png)](https://mergebot.odoo.com/odoo/odoo/pull/196580)

fw-bot (Issue Creator) on (2025-02-05 09:39:59 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832397208,pull_request,open,,"[FIX] l10n_es,l10n_es_edi_facturae : Update Taxes and modelo 390","This fix updates the taxes and the modelo 390 tax report

Task: 4453629

Fwd port of https://github.com/odoo/odoo/commit/c941965b4f9b5304f7bcc8e0d46f39a695b4b9a2

Enterprise PR: https://github.com/odoo/enterprise/pull/78583",jbw-odoo,2025-02-05 09:31:32+00:00,[],2025-02-06 13:07:46+00:00,,https://github.com/odoo/odoo/pull/196578,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636197640, 'issue_id': 2832397208, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196578.png)](https://mergebot.odoo.com/odoo/odoo/pull/196578)', 'created_at': datetime.datetime(2025, 2, 5, 9, 31, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636561353, 'issue_id': 2832397208, 'author': 'pedrobaeza', 'body': 'I see that you are deactivating even more taxes here that are active (like ""IVA 21% Adquisición de servicios extracomunitarios""), and are the target of some fiscal positions, and others that directly can be applied to products (like ""No sujeto Repercutido (Servicios)""). Please check my comment at https://github.com/odoo/odoo/pull/195380#issuecomment-2636028514 and I beg you to not do that and keep all the active taxes as... active.', 'created_at': datetime.datetime(2025, 2, 5, 12, 12, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637292870, 'issue_id': 2832397208, 'author': 'chklop', 'body': ""@pedrobaeza Thanks for the feedback. We've thought about it, and we agree this change is not perfect anyway. So we don't want to impact stable too much with this change of behaviour. This PR will be updated in the coming days to reflect this.\r\n\r\nWe are still convinced something should be done, but we need to make a better system first. In the coming months we'll be improving the tax & fiscal position systems and try to come with a nicer solution."", 'created_at': datetime.datetime(2025, 2, 5, 15, 44, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637296331, 'issue_id': 2832397208, 'author': 'pedrobaeza', 'body': 'Thanks for reconsidering. Let me know if you want me to participate in any meeting about to give ideas.', 'created_at': datetime.datetime(2025, 2, 5, 15, 46, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:31:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196578.png)](https://mergebot.odoo.com/odoo/odoo/pull/196578)

pedrobaeza on (2025-02-05 12:12:06 UTC): I see that you are deactivating even more taxes here that are active (like ""IVA 21% Adquisición de servicios extracomunitarios""), and are the target of some fiscal positions, and others that directly can be applied to products (like ""No sujeto Repercutido (Servicios)""). Please check my comment at https://github.com/odoo/odoo/pull/195380#issuecomment-2636028514 and I beg you to not do that and keep all the active taxes as... active.

chklop on (2025-02-05 15:44:50 UTC): @pedrobaeza Thanks for the feedback. We've thought about it, and we agree this change is not perfect anyway. So we don't want to impact stable too much with this change of behaviour. This PR will be updated in the coming days to reflect this.

We are still convinced something should be done, but we need to make a better system first. In the coming months we'll be improving the tax & fiscal position systems and try to come with a nicer solution.

pedrobaeza on (2025-02-05 15:46:07 UTC): Thanks for reconsidering. Let me know if you want me to participate in any meeting about to give ideas.

"
2832364634,pull_request,open,,[FIX] l10n_es_edi_facturae: add missing certificate dields,"Certain certificates contain additional fields beyond those currently included (CN, OU, O, C), such as ""2.5.4.97"" and ""L"".

Since these additional fields are not incorporated into the issuer name, attempts to validate the signed document on the following sites will result in errors:
- https://face.gob.es/es/facturas/validar-visualizar-facturas
- https://valide.redsara.es/valide/validarFirma/ejecutar.html

These errors typically indicate that the signature is either invalid and that the certificate does not match the values within `<KeyInfo>`. This discrepancy occurs because all certificate fields are included in the signature, but some are missing from the `<X509IssuerName>` field.

This fix adds the missing certificate fields to ensure consistency between the signature and the issuer name. Based on my tests, the order of these fields does not affect the validation process.

opw-4484906
opw-4482626",LouisGobert,2025-02-05 09:17:22+00:00,[],2025-02-06 07:54:58+00:00,,https://github.com/odoo/odoo/pull/196576,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636164742, 'issue_id': 2832364634, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196576.png)](https://mergebot.odoo.com/odoo/odoo/pull/196576)', 'created_at': datetime.datetime(2025, 2, 5, 9, 17, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:17:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196576.png)](https://mergebot.odoo.com/odoo/odoo/pull/196576)

"
2832363963,pull_request,closed,,[FW][FIX] point_of_sale: not use SEPA CT on outgoing pos payments,"Currently, when closing the session, you would encounter an issue if the a refund payment was done using bank payment method and on the journal, the SEPA Credit Transfer is positionned first in the sequence.

Steps to reproduce:
-------------------
* Install `l10n_fr`, `point_of_sale`, and `account_sepa`
* Switch to the `FR Company`
* In the **Invoicing** app, select **Configuration** > **Journals**
* Select the `Bank` journal
* Set proper IBAN account
* In **Outgoing Payments**, move `SEPA Credit Transfer` to the top
* In **Point of sale**, open pos shop
* Select any product, change the price or qty to be negative (or make a refund for an order with no customer)
* Select `Bank` payment method
* Validate
* Try closing session
> Observation: Closing session error: An error has occurred when trying to
close the sesion. You will be redirected to the back-end to manually close the session.
* In the backend, try to close the session
> Observation: To record payments with False, the recipient bank account
must be manually validated. You should go on the partner bank account in order to validate it.

Why the fix:
------------
The first payment_method_line will be used among the available payment method lines:
https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L461-L465 https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L470-L475

In the context of the point of sale, using SEPA CT in the context of refunds does not make too much sense. Indeed, in the pos a refund can be done on an order which is not related to a client. By definition, when using SEPA your are supposed to know the client and it bank account number.

We exclude the possibility of using SEPA CT when creating refund account payments coming from the Pos.

opw-4310781

Forward-Port-Of: odoo/odoo#196292
Forward-Port-Of: odoo/odoo#195784",fw-bot,2025-02-05 09:17:05+00:00,[],2025-02-07 12:21:09+00:00,2025-02-07 12:21:09+00:00,https://github.com/odoo/odoo/pull/196575,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636164013, 'issue_id': 2832363963, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196575.png)](https://mergebot.odoo.com/odoo/odoo/pull/196575)', 'created_at': datetime.datetime(2025, 2, 5, 9, 17, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636164040, 'issue_id': 2832363963, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 17, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636349309, 'issue_id': 2832363963, 'author': 'fw-bot', 'body': '@sbel-odoo @vlst-odoo the next pull request (odoo/odoo#196591) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 33, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636385956, 'issue_id': 2832363963, 'author': 'sbel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 10, 49, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637092207, 'issue_id': 2832363963, 'author': 'robodoo', 'body': '@sbel-odoo @vlst-odoo staging failed: ci/l10n on 47eefe4d29370a8490db0e0baa4cbbf8ef495d5f (view more at https://runbot.odoo.com/runbot/build/74538534)', 'created_at': datetime.datetime(2025, 2, 5, 14, 55, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637332464, 'issue_id': 2832363963, 'author': 'fw-bot', 'body': '@sbel-odoo @vlst-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 15, 56, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642478429, 'issue_id': 2832363963, 'author': 'sbel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 3, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:17:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196575.png)](https://mergebot.odoo.com/odoo/odoo/pull/196575)

fw-bot (Issue Creator) on (2025-02-05 09:17:07 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 10:33:56 UTC): @sbel-odoo @vlst-odoo the next pull request (odoo/odoo#196591) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

sbel-odoo on (2025-02-05 10:49:47 UTC): @robodoo r+

robodoo on (2025-02-05 14:55:33 UTC): @sbel-odoo @vlst-odoo staging failed: ci/l10n on 47eefe4d29370a8490db0e0baa4cbbf8ef495d5f (view more at https://runbot.odoo.com/runbot/build/74538534)

fw-bot (Issue Creator) on (2025-02-05 15:56:33 UTC): @sbel-odoo @vlst-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

sbel-odoo on (2025-02-07 10:03:04 UTC): @robodoo r+

"
2832360652,pull_request,open,,[IMP] Spreadsheet: middle-click opens records in a new tab,"This PR allows users to open records in a new tab by middle-clicking or Ctrl+Clicking in the following places:

- See Record(s) (in Pivot/List view)
- Clickable cells in the Dashboard view
- Dashboard charts
- Odoo menu links

Task: 4373367



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",dhrp-odoo,2025-02-05 09:15:39+00:00,[],2025-02-07 13:16:17+00:00,,https://github.com/odoo/odoo/pull/196574,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636160921, 'issue_id': 2832360652, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196574.png)](https://mergebot.odoo.com/odoo/odoo/pull/196574)', 'created_at': datetime.datetime(2025, 2, 5, 9, 15, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:15:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196574.png)](https://mergebot.odoo.com/odoo/odoo/pull/196574)

"
2832357695,pull_request,closed,,[FW][FIX] base_import_module: ignore unset module_type,"`module_type` is not required. This leads to some code-modules to have
null value in the column. When this happens an error occurs if we try to
open the form view of the module in Apps.

Steps to reproduce:
1. Install a custom module.
2. Modify the `module_type` to `NULL` via SQL (note that the column is
   not required)
3. Try to open the module in the Apps menu. We get an error like:
```
Can't fetch records(s) ... They might have been deleted.
```

This issue is impacting multiple DBs post upgrade. Since this is a new
field the value is not filled in some cases. It is also possible that
due to misconfiguration the value is set to something other than
`official`.

In this patch we propose to fetch the information only for modules that
are already marked as `industry`. 

opw-4516992

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195540",fw-bot,2025-02-05 09:14:21+00:00,[],2025-02-05 18:04:04+00:00,2025-02-05 18:04:04+00:00,https://github.com/odoo/odoo/pull/196573,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636157942, 'issue_id': 2832357695, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196573.png)](https://mergebot.odoo.com/odoo/odoo/pull/196573)', 'created_at': datetime.datetime(2025, 2, 5, 9, 14, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636157964, 'issue_id': 2832357695, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 14, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:14:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196573.png)](https://mergebot.odoo.com/odoo/odoo/pull/196573)

fw-bot (Issue Creator) on (2025-02-05 09:14:23 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832344184,pull_request,closed,,[FIX] l10n_es: reactivate 21% s taxes,"21% S taxes were set to active false in https://github.com/odoo/odoo/commit/401a961258e991151370899d4b61809879d5a5a8 . As this tax is commonly used, this commit set it back to active = true.
",jbw-odoo,2025-02-05 09:09:07+00:00,[],2025-02-06 07:38:37+00:00,2025-02-06 07:38:36+00:00,https://github.com/odoo/odoo/pull/196572,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636143847, 'issue_id': 2832344184, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196572.png)](https://mergebot.odoo.com/odoo/odoo/pull/196572)', 'created_at': datetime.datetime(2025, 2, 5, 9, 9, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639050246, 'issue_id': 2832344184, 'author': 'jbw-odoo', 'body': 'Is integrated in bigger PR : https://github.com/odoo/odoo/pull/196738', 'created_at': datetime.datetime(2025, 2, 6, 7, 38, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:09:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196572.png)](https://mergebot.odoo.com/odoo/odoo/pull/196572)

jbw-odoo (Issue Creator) on (2025-02-06 07:38:37 UTC): Is integrated in bigger PR : https://github.com/odoo/odoo/pull/196738

"
2832344083,pull_request,closed,,[FW][FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997

Forward-Port-Of: odoo/odoo#196283
Forward-Port-Of: odoo/odoo#193060",fw-bot,2025-02-05 09:09:04+00:00,[],2025-02-05 16:42:29+00:00,2025-02-05 16:42:29+00:00,https://github.com/odoo/odoo/pull/196571,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636143644, 'issue_id': 2832344083, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196571.png)](https://mergebot.odoo.com/odoo/odoo/pull/196571)', 'created_at': datetime.datetime(2025, 2, 5, 9, 9, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636143662, 'issue_id': 2832344083, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 9, 9, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636325005, 'issue_id': 2832344083, 'author': 'fw-bot', 'body': '@yagp-odoo @tde-banana-odoo the next pull request (odoo/odoo#196590) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 10, 23, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636340109, 'issue_id': 2832344083, 'author': 'yagp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 10, 30, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:09:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196571.png)](https://mergebot.odoo.com/odoo/odoo/pull/196571)

fw-bot (Issue Creator) on (2025-02-05 09:09:06 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 10:23:32 UTC): @yagp-odoo @tde-banana-odoo the next pull request (odoo/odoo#196590) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yagp-odoo on (2025-02-05 10:30:06 UTC): @robodoo r+

"
2832329418,pull_request,open,,[FIX] account: avoid repetition of move_ref and move_name in line display_name,"The previous [fix](https://github.com/odoo/odoo/pull/195449) did not cover all cases.

### Steps to reproduce:
- Go to Accounting > Reports > Aged Receivable
- Unfold any customer shown, click on the three dots next to an invoice, and select ""View Journal Entry""
- On the Journal Entry, add the something to Customer Reference
- Go back to the report, you should see the invoice name and Customer reference are shown twice

### Cause:
The bug appeared in this commit (https://github.com/odoo/odoo/commit/eb872c09897eb9edd5b6e5b9e8171fa6764be3dc) when computing the line display_name, if there is a move name, a reference and `line_name`.

The variable `line_name` already include the reference: `name = f'{line.move_id.ref} - {line.move_id.payment_reference}'` (https://github.com/odoo/odoo/commit/a6cbb7c2d3538d57dc8498f0dacf4566ea1492e7)

So `line_name` is different from `move_name` and the result is: `line.move_id.name (line.move_id.ref) line.move_id.ref - line.move_id.payment_reference`

### Solution:
The previous fix prevents `line_name` from having the same string twice. But it does not fix the issue when the invoice name and Customer reference are different.

This commit checks if `move_name` and `move_ref` are included in `line_name` before adding it to the display name.

This is not optimal as it makes this code dependent on the format of `line_name`.

opw-4492298",mathcoutant,2025-02-05 09:03:54+00:00,[],2025-02-05 10:45:34+00:00,,https://github.com/odoo/odoo/pull/196570,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2636129189, 'issue_id': 2832329418, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196570.png)](https://mergebot.odoo.com/odoo/odoo/pull/196570)', 'created_at': datetime.datetime(2025, 2, 5, 9, 3, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:03:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196570.png)](https://mergebot.odoo.com/odoo/odoo/pull/196570)

"
2832321668,pull_request,open,,[IMP] discuss: fallback to p2p if disconnected from te SFU,"- Add a fallback to p2p if disconnected from the SFU while still being
in the call.
- Add logging where:
    * We obtain a track from a peer or the SFU
    * The state of the SFU connection changes
    * Our rtcSession is removed from the Odoo server
    * The peer-to-peer connections attempt connection recoveries
- Raise the default log level of peer-to-peer to `WARN`
- Add an `important` option to rtc logging so that logs that are
important are recorded even without activating the logging setting.
- Remove the reactive session cleanup as it is redundant
with the `onDelete` of the `thread/rtcSessions` field.
- Remove `rtc.state.serverState` and put it as the `connectionState`
of `selfSession` (to be consistent with the peer-to-peer logic).
- Prevent possible traceback when receiving a track for a missing
session in peer-to-peer.",ThanhDodeurOdoo,2025-02-05 09:00:30+00:00,[],2025-02-07 13:42:45+00:00,,https://github.com/odoo/odoo/pull/196569,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636121627, 'issue_id': 2832321668, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196569.png)](https://mergebot.odoo.com/odoo/odoo/pull/196569)', 'created_at': datetime.datetime(2025, 2, 5, 9, 0, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:00:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196569.png)](https://mergebot.odoo.com/odoo/odoo/pull/196569)

"
2832321118,pull_request,open,,[IMP] web: calendar add QuickCreate in month view,"task-4510549

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rfr-odoo,2025-02-05 09:00:15+00:00,['rfr-odoo'],2025-02-07 15:16:25+00:00,,https://github.com/odoo/odoo/pull/196568,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636121075, 'issue_id': 2832321118, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196568.png)](https://mergebot.odoo.com/odoo/odoo/pull/196568)', 'created_at': datetime.datetime(2025, 2, 5, 9, 0, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 09:00:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196568.png)](https://mergebot.odoo.com/odoo/odoo/pull/196568)

"
2832306643,pull_request,open,,[FIX] crm_livechat: simplify model,"Remove useless stored field on crm.lead which is a huge model. No need to add useless noise.

Remove useless groups. ACLs should be correctly implemented.

Remove useless code in tests.

enterprise: https://github.com/odoo/enterprise/pull/78602
",tde-banana-odoo,2025-02-05 08:53:21+00:00,[],2025-02-06 13:35:57+00:00,,https://github.com/odoo/odoo/pull/196567,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636106836, 'issue_id': 2832306643, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196567.png)](https://mergebot.odoo.com/odoo/odoo/pull/196567)', 'created_at': datetime.datetime(2025, 2, 5, 8, 53, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636126875, 'issue_id': 2832306643, 'author': 'tde-banana-odoo', 'body': '@tsm-odoo Is there any issue ? I mean, to change the channel on the lead, you have to be able to read it. If you cannot read it, you cannot put it on the lead. We can add an explicit access check on write if necessary.', 'created_at': datetime.datetime(2025, 2, 5, 9, 2, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636147814, 'issue_id': 2832306643, 'author': 'tde-banana-odoo', 'body': 'Todo: add check on create / write (and a test ?)', 'created_at': datetime.datetime(2025, 2, 5, 9, 10, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:53:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196567.png)](https://mergebot.odoo.com/odoo/odoo/pull/196567)

tde-banana-odoo (Issue Creator) on (2025-02-05 09:02:54 UTC): @tsm-odoo Is there any issue ? I mean, to change the channel on the lead, you have to be able to read it. If you cannot read it, you cannot put it on the lead. We can add an explicit access check on write if necessary.

tde-banana-odoo (Issue Creator) on (2025-02-05 09:10:21 UTC): Todo: add check on create / write (and a test ?)

"
2832280061,pull_request,closed,,[FIX] mrp: fix traceback when clicking overview of a MO,"Currently, a traceback appears when the user opens 'Overview' of a canceled 'Manufacturing Order'.

To reproduce this issue:

1) Install MRP
2) Create a new Manufacturing Order record
3) Give a `product` with a `Quantity` more than the `On hand` quantity of that product 
4) Add a product in the Component with the `To consume` value more than
   the On Hand quantity of that product
5) Click on the `Cancel` button then Click the `Overview` button

Error:-
```
TypeError: can't compare datetime.datetime to datetime.date
```

This error is occurring because of the recent changes from the below.

https://github.com/odoo/odoo/pull/184928/files#diff-a889e57d7462d595b2a3e056dc37237c9ab73d43c42458b52288733ae84aca73L609-R609

Initially, it was `datetime.datetime`, But recently it was changed to the `datetime.date`.
This leads to the above traceback when a comparison is made between 
`datetime.datetime` and `datetime.date` from the below lines

https://github.com/odoo/odoo/blob/cb96e9133590e07880f0e98b21486d578caecd3a/addons/mrp/report/mrp_report_mo_overview.py#L583

sentry-6250719075

",alsh-odoo,2025-02-05 08:40:26+00:00,[],2025-02-05 20:37:09+00:00,2025-02-05 20:37:08+00:00,https://github.com/odoo/odoo/pull/196566,"[('RD', 'research & development, internal work')]","[{'comment_id': 2636079844, 'issue_id': 2832280061, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196566.png)](https://mergebot.odoo.com/odoo/odoo/pull/196566)', 'created_at': datetime.datetime(2025, 2, 5, 8, 40, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636202274, 'issue_id': 2832280061, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease look at this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 5, 9, 33, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636629409, 'issue_id': 2832280061, 'author': 'adwid', 'body': 'Thx\r\nrobodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 34, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:40:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196566.png)](https://mergebot.odoo.com/odoo/odoo/pull/196566)

alsh-odoo (Issue Creator) on (2025-02-05 09:33:33 UTC): Ola @odoo/sentry_reviewers :wave: 

Please look at this PR

Thank You :slightly_smiling_face:

adwid on (2025-02-05 12:34:25 UTC): Thx
robodoo r+

"
2832262812,pull_request,closed,,[FW][FIX] website_sale: constraint height on product page img,"In commit[1] we implemented improvement for the images on the product page which makes the single image fill the total width of the column.

While it was fitting most of cases, uploading an image with particular aspect ratio w/ a height significantly longer than the width will render a very long image, extending the page.

This fix constraints the height to a maximum of 75vh, avoiding extra long images.

Note: the fix is done in CSS to be stable friendly, in master the goal will be to implement a dropdown allowing precise aspect ratio for single images. This will require improvement on the way the carousel / grid render it's single image. This will likely be handled in the e-commerce redesign (task-4252024)
[1]: odoo/odoo@da76f10558ea240a5f1b539cd4ce3ed3fc6628ab

opw-4458614
task-4522225

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195573",fw-bot,2025-02-05 08:32:42+00:00,[],2025-02-05 12:27:52+00:00,2025-02-05 12:27:52+00:00,https://github.com/odoo/odoo/pull/196565,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2636064503, 'issue_id': 2832262812, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196565.png)](https://mergebot.odoo.com/odoo/odoo/pull/196565)', 'created_at': datetime.datetime(2025, 2, 5, 8, 32, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636064517, 'issue_id': 2832262812, 'author': 'fw-bot', 'body': '@mano-odoo @AntoineVDV this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196550\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 32, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636364743, 'issue_id': 2832262812, 'author': 'mano-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 10, 40, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:32:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196565.png)](https://mergebot.odoo.com/odoo/odoo/pull/196565)

fw-bot (Issue Creator) on (2025-02-05 08:32:44 UTC): @mano-odoo @AntoineVDV this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196550

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mano-odoo on (2025-02-05 10:40:49 UTC): @robodoo r+

"
2832254967,pull_request,closed,,[FW][FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196376",fw-bot,2025-02-05 08:29:16+00:00,[],2025-02-05 17:39:06+00:00,2025-02-05 17:39:06+00:00,https://github.com/odoo/odoo/pull/196564,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636057710, 'issue_id': 2832254967, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196564.png)](https://mergebot.odoo.com/odoo/odoo/pull/196564)', 'created_at': datetime.datetime(2025, 2, 5, 8, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636057732, 'issue_id': 2832254967, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636097746, 'issue_id': 2832254967, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 8, 49, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636494380, 'issue_id': 2832254967, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 11, 40, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636494943, 'issue_id': 2832254967, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 40, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:29:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196564.png)](https://mergebot.odoo.com/odoo/odoo/pull/196564)

fw-bot (Issue Creator) on (2025-02-05 08:29:17 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 08:49:11 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 11:40:24 UTC): @walidsahli @dmo-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

walidsahli on (2025-02-05 11:40:44 UTC): @robodoo r+

"
2832251355,pull_request,closed,,[FW][FIX] spreadsheet_dashboard: Graphs in Mobile view aren't showed correctly,"When we display more than one chart in the mobile view, the height of the elements is being adjusted to fill 100%, which in some cases causes a size that makes it impossible to view the chart.

![image](https://github.com/user-attachments/assets/68ff7a94-dc92-484b-a96f-f843c00f6449)

To solve this, we have added a div that will encompass the chart and set a minimum height as defined in the spreadsheets, ensuring that the elements are always displayed correctly.

![image](https://github.com/user-attachments/assets/ed1fa34a-7d23-4853-b449-dcc0f95c78bd)

cc @Tecnativa TT50972

ping @chienandalu  @pedrobaeza 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196364
Forward-Port-Of: odoo/odoo#181335",fw-bot,2025-02-05 08:28:01+00:00,[],2025-02-05 13:21:02+00:00,2025-02-05 13:21:02+00:00,https://github.com/odoo/odoo/pull/196563,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2636055096, 'issue_id': 2832251355, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196563.png)](https://mergebot.odoo.com/odoo/odoo/pull/196563)', 'created_at': datetime.datetime(2025, 2, 5, 8, 28, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636055163, 'issue_id': 2832251355, 'author': 'fw-bot', 'body': '@CarlosRoca13 @LucasLefevre cherrypicking of pull request odoo/odoo#181335 failed.\n\nstdout:\n```\nAuto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.js\nCONFLICT (content): Merge conflict in addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.js\nAuto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml\nCONFLICT (content): Merge conflict in addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 28, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:28:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196563.png)](https://mergebot.odoo.com/odoo/odoo/pull/196563)

fw-bot (Issue Creator) on (2025-02-05 08:28:05 UTC): @CarlosRoca13 @LucasLefevre cherrypicking of pull request odoo/odoo#181335 failed.

stdout:
```
Auto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.js
CONFLICT (content): Merge conflict in addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.js
Auto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml
CONFLICT (content): Merge conflict in addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832243250,pull_request,closed,,[FW][FIX] odoo/tools: error processing Factur-X XML,"Description of the issue/feature this PR addresses:
This PR is to fix an issue encountered when copying information from an editor for a product for example, and pasting it on the product label. On Odoo the label was appearing fine but when the invoice was confirmed and sent, the XML file content is created with hidden characters.This produced the web service to return an error when trying to validate the electronic invoice. 

Current behavior before PR:
Special or hidden characters appear on the XML file of an electronic invoice.

Steps to reproduce:
1. Install Uruguay - Electronic Invoice module
2. Create EDI invoice, add special character to the description of the product you are using. Example used for testing (copy-paste it): ‭219179120011‬
3. Validate the invoice
4. Print and send it
5. Check ""DscItem"" field on the XML file created.

Here is a one minute [video](https://drive.google.com/file/d/18JcnKCbaq7cH_NVyPol4CWXHdqZAxAdo/view) reproducing the error on runbot.

Desired behavior after PR is merged:
These characters are cleaned up at the xml level on cleanup_xml_node method to avoid them to appear and prevent errors when validating the XML on localizations web services.

Related PR on v16 regarding the same issue in another context: https://github.com/odoo/odoo/pull/154509

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193047",fw-bot,2025-02-05 08:24:23+00:00,[],2025-02-07 07:08:03+00:00,2025-02-07 07:08:03+00:00,https://github.com/odoo/odoo/pull/196562,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636048134, 'issue_id': 2832243250, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196562.png)](https://mergebot.odoo.com/odoo/odoo/pull/196562)', 'created_at': datetime.datetime(2025, 2, 5, 8, 24, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636048184, 'issue_id': 2832243250, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 24, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636122271, 'issue_id': 2832243250, 'author': 'fw-bot', 'body': '@jue-adhoc @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 9, 0, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:24:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196562.png)](https://mergebot.odoo.com/odoo/odoo/pull/196562)

fw-bot (Issue Creator) on (2025-02-05 08:24:26 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 09:00:52 UTC): @jue-adhoc @smetl ci/runbot failed on this forward-port PR

"
2832207097,pull_request,closed,,[FW][FIX] base_import_module: ignore unset module_type,"`module_type` is not required. This leads to some code-modules to have
null value in the column. When this happens an error occurs if we try to
open the form view of the module in Apps.

Steps to reproduce:
1. Install a custom module.
2. Modify the `module_type` to `NULL` via SQL (note that the column is
   not required)
3. Try to open the module in the Apps menu. We get an error like:
```
Can't fetch records(s) ... They might have been deleted.
```

This issue is impacting multiple DBs post upgrade. Since this is a new
field the value is not filled in some cases. It is also possible that
due to misconfiguration the value is set to something other than
`official`.

In this patch we propose to fetch the information only for modules that
are already marked as `industry`. 

opw-4516992

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195540",fw-bot,2025-02-05 08:06:28+00:00,[],2025-02-05 17:39:10+00:00,2025-02-05 17:39:10+00:00,https://github.com/odoo/odoo/pull/196561,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636014642, 'issue_id': 2832207097, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196561.png)](https://mergebot.odoo.com/odoo/odoo/pull/196561)', 'created_at': datetime.datetime(2025, 2, 5, 8, 6, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636014673, 'issue_id': 2832207097, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 6, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:06:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196561.png)](https://mergebot.odoo.com/odoo/odoo/pull/196561)

fw-bot (Issue Creator) on (2025-02-05 08:06:30 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832200026,pull_request,closed,,[FW][FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997

Forward-Port-Of: odoo/odoo#196283
Forward-Port-Of: odoo/odoo#193060",fw-bot,2025-02-05 08:02:35+00:00,[],2025-02-05 16:20:24+00:00,2025-02-05 16:20:24+00:00,https://github.com/odoo/odoo/pull/196560,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2636007399, 'issue_id': 2832200026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196560.png)](https://mergebot.odoo.com/odoo/odoo/pull/196560)', 'created_at': datetime.datetime(2025, 2, 5, 8, 2, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636007409, 'issue_id': 2832200026, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 2, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 08:02:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196560.png)](https://mergebot.odoo.com/odoo/odoo/pull/196560)

fw-bot (Issue Creator) on (2025-02-05 08:02:37 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832134028,pull_request,closed,,[IMP] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/dae9ab2b5 [REL] 18.2.0-alpha.6 Task: 0
https://github.com/odoo/o-spreadsheet/commit/2cf824ddd [IMP] SheetView: introduce *smooth* viewport scrolling Task: 3846640
https://github.com/odoo/o-spreadsheet/commit/dd54580c2 [FIX] formulas: accept simple values on search range for lookup formulas Task: 4543381
https://github.com/odoo/o-spreadsheet/commit/4d65b9c30 [FIX] Borders: Fix border continuity Task: 4523890
https://github.com/odoo/o-spreadsheet/commit/52beb48da [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/9003f7d5d [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/f2f536f50 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/8e45a8612 [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/62747f8b5 [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/663412735 [FIX] renderer: Re-fix box rendering Task: 4526742
https://github.com/odoo/o-spreadsheet/commit/e38513e82 [IMP] Conditional Formatting: Have static reference by default Task: 4498442
https://github.com/odoo/o-spreadsheet/commit/91bf00bd8 [FIX] charts: fix logarithmic dataset trendline Task: 4385057

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:25:51+00:00,[],2025-02-05 10:56:25+00:00,2025-02-05 10:56:25+00:00,https://github.com/odoo/odoo/pull/196559,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2635902952, 'issue_id': 2832134028, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 25, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635902985, 'issue_id': 2832134028, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196559.png)](https://mergebot.odoo.com/odoo/odoo/pull/196559)', 'created_at': datetime.datetime(2025, 2, 5, 7, 25, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635903081, 'issue_id': 2832134028, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 25, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636144931, 'issue_id': 2832134028, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 9, 26, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:25:53 UTC): robodoo fw=no

robodoo on (2025-02-05 07:25:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196559.png)](https://mergebot.odoo.com/odoo/odoo/pull/196559)

robodoo on (2025-02-05 07:25:56 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 09:09:26 UTC): robodoo r+

"
2832132796,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/f5b97e02d [REL] 18.1.6 Task: 0
https://github.com/odoo/o-spreadsheet/commit/54bd8ca5f [FIX] formulas: accept simple values on search range for lookup formulas Task: 4543381
https://github.com/odoo/o-spreadsheet/commit/c89beb7ab [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/135242fb4 [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/412d2a654 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/2ed0df61a [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/4e8719ba1 [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/35e7669af [FIX] Borders: Fix border continuity Task: 4523890
https://github.com/odoo/o-spreadsheet/commit/75e5f6ccc [FIX] renderer: Re-fix box rendering Task: 4526742
https://github.com/odoo/o-spreadsheet/commit/9a35d0d6f [FIX] charts: fix logarithmic dataset trendline Task: 4385057

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:25:11+00:00,[],2025-02-05 12:04:23+00:00,2025-02-05 12:04:23+00:00,https://github.com/odoo/odoo/pull/196558,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635900527, 'issue_id': 2832132796, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 25, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635900553, 'issue_id': 2832132796, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196558.png)](https://mergebot.odoo.com/odoo/odoo/pull/196558)', 'created_at': datetime.datetime(2025, 2, 5, 7, 25, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635900733, 'issue_id': 2832132796, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 25, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636143570, 'issue_id': 2832132796, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 9, 3, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:25:13 UTC): robodoo fw=no

robodoo on (2025-02-05 07:25:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196558.png)](https://mergebot.odoo.com/odoo/odoo/pull/196558)

robodoo on (2025-02-05 07:25:17 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 09:09:03 UTC): robodoo r+

"
2832131509,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/90f2af4ff [REL] 18.0.14 Task: 0
https://github.com/odoo/o-spreadsheet/commit/3590a49ee [FIX] formulas: accept simple values on search range for lookup formulas Task: 4543381
https://github.com/odoo/o-spreadsheet/commit/48e368c47 [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/fc0aa2a66 [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/4bcac65b0 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/a1ab57a4e [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/95266d1ab [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/8c4ee5d8f [FIX] Borders: Fix border continuity Task: 4523890
https://github.com/odoo/o-spreadsheet/commit/e1ffbf678 [FIX] renderer: Re-fix box rendering Task: 4526742

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:24:26+00:00,[],2025-02-05 14:26:55+00:00,2025-02-05 14:26:55+00:00,https://github.com/odoo/odoo/pull/196557,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635897781, 'issue_id': 2832131509, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 24, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635897869, 'issue_id': 2832131509, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196557.png)](https://mergebot.odoo.com/odoo/odoo/pull/196557)', 'created_at': datetime.datetime(2025, 2, 5, 7, 24, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635897916, 'issue_id': 2832131509, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 24, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636143222, 'issue_id': 2832131509, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 8, 58, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:24:28 UTC): robodoo fw=no

robodoo on (2025-02-05 07:24:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196557.png)](https://mergebot.odoo.com/odoo/odoo/pull/196557)

robodoo on (2025-02-05 07:24:30 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 09:08:58 UTC): robodoo r+

"
2832130169,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/0c55e1874 [REL] 17.4.21 Task: 0
https://github.com/odoo/o-spreadsheet/commit/c02e7af3d [FIX] formulas: accept simple values on search range for lookup formulas Task: 4543381
https://github.com/odoo/o-spreadsheet/commit/2945914b0 [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/4fc1f2682 [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/32c057df8 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/2bdb1d98c [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/d7e4bc593 [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/14114f7a2 [FIX] Borders: Fix border continuity Task: 4523890
https://github.com/odoo/o-spreadsheet/commit/2d21ad853 [FIX] renderer: Re-fix box rendering Task: 4526742

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:23:36+00:00,[],2025-02-05 11:09:33+00:00,2025-02-05 11:09:33+00:00,https://github.com/odoo/odoo/pull/196556,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635894797, 'issue_id': 2832130169, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 23, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635894838, 'issue_id': 2832130169, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196556.png)](https://mergebot.odoo.com/odoo/odoo/pull/196556)', 'created_at': datetime.datetime(2025, 2, 5, 7, 23, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635894943, 'issue_id': 2832130169, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 23, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636142696, 'issue_id': 2832130169, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 8, 47, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:23:38 UTC): robodoo fw=no

robodoo on (2025-02-05 07:23:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196556.png)](https://mergebot.odoo.com/odoo/odoo/pull/196556)

robodoo on (2025-02-05 07:23:40 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 09:08:47 UTC): robodoo r+

"
2832128812,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/76b12a101 [REL] 17.2.35 Task: 0
https://github.com/odoo/o-spreadsheet/commit/81676e30a [FIX] formulas: accept simple values on search range for lookup formulas Task: 4543381
https://github.com/odoo/o-spreadsheet/commit/7487feb16 [FIX] Borders: Fix border continuity Task: 4523890
https://github.com/odoo/o-spreadsheet/commit/f3f702668 [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/086bb9fc1 [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/626753162 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/447d5c2dd [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/314a79a5f [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/dc62f65ac [FIX] renderer: Re-fix box rendering Task: 4526742

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:22:50+00:00,[],2025-02-05 11:39:09+00:00,2025-02-05 11:39:09+00:00,https://github.com/odoo/odoo/pull/196555,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635892136, 'issue_id': 2832128812, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 22, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635892141, 'issue_id': 2832128812, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196555.png)](https://mergebot.odoo.com/odoo/odoo/pull/196555)', 'created_at': datetime.datetime(2025, 2, 5, 7, 22, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635892261, 'issue_id': 2832128812, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 22, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636142183, 'issue_id': 2832128812, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 8, 41, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:22:52 UTC): robodoo fw=no

robodoo on (2025-02-05 07:22:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196555.png)](https://mergebot.odoo.com/odoo/odoo/pull/196555)

robodoo on (2025-02-05 07:22:54 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 09:08:41 UTC): robodoo r+

"
2832127556,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/aea9101d3 [REL] 17.0.48 Task: 0
https://github.com/odoo/o-spreadsheet/commit/59561fc02 [FIX] Borders: Fix border continuity Task: 4523890
https://github.com/odoo/o-spreadsheet/commit/2921ed810 [FIX] formulas: accept simple values on search range for lookup formulas Task: 4543381
https://github.com/odoo/o-spreadsheet/commit/f913e14d3 [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/c335d6d84 [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/cfff88235 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/2df765b62 [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/48018787c [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/cea53bda1 [FIX] renderer: Re-fix box rendering Task: 4526742

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:22:05+00:00,[],2025-02-05 11:13:16+00:00,2025-02-05 11:13:16+00:00,https://github.com/odoo/odoo/pull/196554,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635889316, 'issue_id': 2832127556, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 22, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635889380, 'issue_id': 2832127556, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196554.png)](https://mergebot.odoo.com/odoo/odoo/pull/196554)', 'created_at': datetime.datetime(2025, 2, 5, 7, 22, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635889509, 'issue_id': 2832127556, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 22, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636141715, 'issue_id': 2832127556, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 8, 29, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:22:07 UTC): robodoo fw=no

robodoo on (2025-02-05 07:22:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196554.png)](https://mergebot.odoo.com/odoo/odoo/pull/196554)

robodoo on (2025-02-05 07:22:10 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 09:08:29 UTC): robodoo r+

"
2832125091,pull_request,closed,,[FIX] spreadsheet: update o_spreadsheet to latest version,"### Contains the following commits:

https://github.com/odoo/o-spreadsheet/commit/d09869977 [REL] 16.0.60 Task: 0
https://github.com/odoo/o-spreadsheet/commit/66d34474d [FIX] Rendering: Skip hidden headers Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/46acd9c00 [FIX] SheetView: avoid some array allocation
https://github.com/odoo/o-spreadsheet/commit/dead55ba7 [FIX] SheetView: remove useless/costy calls to Object.x
https://github.com/odoo/o-spreadsheet/commit/f324cb15b [FIX] Renderer: Do not draw if no canvas Task: 4535794
https://github.com/odoo/o-spreadsheet/commit/73b34ef39 [FIX] SheetView: Fix viewports with negative dimensions Task: 4535794

Co-authored-by: Anthony Hendrickx (anhe) <anhe@odoo.com>
Co-authored-by: Alexis Lacroix (laa) <laa@odoo.com>
Co-authored-by: Lucas Lefèvre (lul) <lul@odoo.com>
Co-authored-by: Dhrutik Patel (dhrp) <dhrp@odoo.com>
Co-authored-by: Adrien Minne (adrm) <adrm@odoo.com>
Co-authored-by: Mehdi Rachico (mera) <mera@odoo.com>
Co-authored-by: Florian Damhaut (flda) <flda@odoo.com>
Co-authored-by: Rémi Rahir (rar) <rar@odoo.com>
Co-authored-by: Pierre Rousseau (pro) <pro@odoo.com>
Co-authored-by: Vincent Schippefilt (vsc) <vsc@odoo.com>
",pro-odoo,2025-02-05 07:20:46+00:00,[],2025-02-05 09:52:07+00:00,2025-02-05 09:52:07+00:00,https://github.com/odoo/odoo/pull/196553,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635884476, 'issue_id': 2832125091, 'author': 'pro-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 20, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635884512, 'issue_id': 2832125091, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196553.png)](https://mergebot.odoo.com/odoo/odoo/pull/196553)', 'created_at': datetime.datetime(2025, 2, 5, 7, 20, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635884627, 'issue_id': 2832125091, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 20, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636097928, 'issue_id': 2832125091, 'author': 'VincentSchippefilt', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 49, 18, tzinfo=datetime.timezone.utc)}]","pro-odoo (Issue Creator) on (2025-02-05 07:20:50 UTC): robodoo fw=no

robodoo on (2025-02-05 07:20:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196553.png)](https://mergebot.odoo.com/odoo/odoo/pull/196553)

robodoo on (2025-02-05 07:20:52 UTC): Disabled forward-porting.

VincentSchippefilt on (2025-02-05 08:49:18 UTC): robodoo r+

"
2832118748,pull_request,closed,,[FW][FIX] l10n_es_edi_facturae: fix update from 16,"Tax account_tax_template_s_iva0_g_i was added in 17.0.
Init hook will load the data from account.tax-es_common.csv (_l10n_es_edi_facturae_post_init_hook) when upgrading from 16.0 and fail because account_tax_template_s_iva0_g_i does not exists yet.
Removing account_tax_template_s_iva0_g_i from account.tax-es_common.csv prevent the bug and l10n_es_edi_facturae_tax_type will still be set to 1 as it is the default value.

Runbot error: https://runbot.odoo.com/odoo/runbot.build.error/114680

Forward-Port-Of: odoo/odoo#196360",fw-bot,2025-02-05 07:17:23+00:00,[],2025-02-05 12:27:34+00:00,2025-02-05 12:27:34+00:00,https://github.com/odoo/odoo/pull/196552,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635872524, 'issue_id': 2832118748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196552.png)](https://mergebot.odoo.com/odoo/odoo/pull/196552)', 'created_at': datetime.datetime(2025, 2, 5, 7, 17, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635872544, 'issue_id': 2832118748, 'author': 'fw-bot', 'body': '@jbw-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196545\n* odoo/odoo#196522\n* odoo/odoo#196515\n* odoo/odoo#196507\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 7, 17, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 07:17:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196552.png)](https://mergebot.odoo.com/odoo/odoo/pull/196552)

fw-bot (Issue Creator) on (2025-02-05 07:17:25 UTC): @jbw-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196545
* odoo/odoo#196522
* odoo/odoo#196515
* odoo/odoo#196507

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832113634,pull_request,closed,,[FW][IMP] account: allow only file drop,"This commit change a bit the behaviour of drag & drop feature in multiple account view. The main goal is to avoid users to drag and drop text in files drop zones. So now, if a user is dragging a text, we hide the files drop zones.

Linked:https://github.com/odoo/enterprise/pull/76565

opw-4366605

Forward-Port-Of: odoo/odoo#195506
Forward-Port-Of: odoo/odoo#193355",fw-bot,2025-02-05 07:15:18+00:00,[],2025-02-05 13:21:18+00:00,2025-02-05 13:21:18+00:00,https://github.com/odoo/odoo/pull/196551,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635869512, 'issue_id': 2832113634, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196551.png)](https://mergebot.odoo.com/odoo/odoo/pull/196551)', 'created_at': datetime.datetime(2025, 2, 5, 7, 15, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635869535, 'issue_id': 2832113634, 'author': 'fw-bot', 'body': '@igbe-odoo @h4818 while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78576) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 7, 15, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636461425, 'issue_id': 2832113634, 'author': 'igbe-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 24, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 07:15:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196551.png)](https://mergebot.odoo.com/odoo/odoo/pull/196551)

fw-bot (Issue Creator) on (2025-02-05 07:15:21 UTC): @igbe-odoo @h4818 while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78576) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

igbe-odoo on (2025-02-05 11:24:08 UTC): @robodoo r+

"
2832112284,pull_request,closed,,[FW][FIX] website_sale: constraint height on product page img,"In commit[1] we implemented improvement for the images on the product page which makes the single image fill the total width of the column.

While it was fitting most of cases, uploading an image with particular aspect ratio w/ a height significantly longer than the width will render a very long image, extending the page.

This fix constraints the height to a maximum of 75vh, avoiding extra long images.

Note: the fix is done in CSS to be stable friendly, in master the goal will be to implement a dropdown allowing precise aspect ratio for single images. This will require improvement on the way the carousel / grid render it's single image. This will likely be handled in the e-commerce redesign (task-4252024)
[1]: odoo/odoo@da76f10558ea240a5f1b539cd4ce3ed3fc6628ab

opw-4458614
task-4522225

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195573",fw-bot,2025-02-05 07:14:48+00:00,[],2025-02-05 13:21:10+00:00,2025-02-05 13:21:09+00:00,https://github.com/odoo/odoo/pull/196550,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635868799, 'issue_id': 2832112284, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196550.png)](https://mergebot.odoo.com/odoo/odoo/pull/196550)', 'created_at': datetime.datetime(2025, 2, 5, 7, 14, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635868812, 'issue_id': 2832112284, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 7, 14, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 07:14:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196550.png)](https://mergebot.odoo.com/odoo/odoo/pull/196550)

fw-bot (Issue Creator) on (2025-02-05 07:14:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832075640,pull_request,closed,,[FW][FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997

Forward-Port-Of: odoo/odoo#196283
Forward-Port-Of: odoo/odoo#193060",fw-bot,2025-02-05 06:55:52+00:00,[],2025-02-05 14:58:04+00:00,2025-02-05 14:58:04+00:00,https://github.com/odoo/odoo/pull/196549,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635842137, 'issue_id': 2832075640, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196549.png)](https://mergebot.odoo.com/odoo/odoo/pull/196549)', 'created_at': datetime.datetime(2025, 2, 5, 6, 55, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635842157, 'issue_id': 2832075640, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 6, 55, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 06:55:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196549.png)](https://mergebot.odoo.com/odoo/odoo/pull/196549)

fw-bot (Issue Creator) on (2025-02-05 06:55:54 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2832026755,pull_request,closed,,[FW][FIX] account: Chart Templates translations,"Fixes a small issue when loading translations of
multiple chart templates at once.
An update to that method added a parameter with
the same name as a local variable, and the way
it has been done means that the template_data
used in each subsequent loop will always be
the ones from the first loop only, effectively
ignoring the other chart templates.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196359",fw-bot,2025-02-05 06:25:45+00:00,[],2025-02-05 12:04:32+00:00,2025-02-05 12:04:32+00:00,https://github.com/odoo/odoo/pull/196548,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635804088, 'issue_id': 2832026755, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196548.png)](https://mergebot.odoo.com/odoo/odoo/pull/196548)', 'created_at': datetime.datetime(2025, 2, 5, 6, 25, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635804096, 'issue_id': 2832026755, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 6, 25, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635858263, 'issue_id': 2832026755, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 7, 7, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 06:25:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196548.png)](https://mergebot.odoo.com/odoo/odoo/pull/196548)

fw-bot (Issue Creator) on (2025-02-05 06:25:47 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 07:07:17 UTC): @vin-odoo @william-andre ci/runbot failed on this forward-port PR

"
2832008412,pull_request,open,,[IMP] l10n_vn_edi_viettel: Optional customer info,"When sending an invoice to Viettel, we currently
raise an error in Odoo if the address information
of the customer is not set.
If the VAT is not set, it is the api raising an
error.

In both case, the information is optional, and
we should be able to invoice.
For the address information the validation in
Odoo is removed, and for the VAT the json will
now contain '' if it is not set instead of False

Also make sure that the json file is attached
to the chatter if it has been generated for audit
purpose

task-4405507

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vin-odoo,2025-02-05 06:13:15+00:00,[],2025-02-05 07:00:12+00:00,,https://github.com/odoo/odoo/pull/196547,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635788960, 'issue_id': 2832008412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196547.png)](https://mergebot.odoo.com/odoo/odoo/pull/196547)', 'created_at': datetime.datetime(2025, 2, 5, 6, 13, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 06:13:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196547.png)](https://mergebot.odoo.com/odoo/odoo/pull/196547)

"
2832002669,pull_request,closed,,[FW][FIX] event_sale: prevent error on upgrading module,"Currently a ``ParseError`` is arising when the user upgrades the ``event_sale`` module after deleting the ``Event Registration`` product from sales.

Steps to reproduce:
---
- Install ``Sale_management`` and ``event`` module (without demo data)
- Open ``Products`` in Sales > Delete ``Event Registration``
- Now upgrade ``event_sale`` module
- The error appears in the log.

Traceback:
---
```
Exception: Cannot update missing record 'event_product.product_product_event'

ParseError: while parsing /home/odoo/src/odoo/saas-18.1/addons/event_sale/data/event_sale_data.xml:4, somewhere inside <record id=""event_product.product_product_event"" model=""product.product"">
            <field name=""invoice_policy"">order</field>
        </record>
```

This commit resolves the issue by preventing the creation of a product using ``forcecreate=""False""``.

sentry-5731062091

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195433",fw-bot,2025-02-05 06:09:18+00:00,[],2025-02-05 09:22:38+00:00,2025-02-05 09:22:38+00:00,https://github.com/odoo/odoo/pull/196546,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635784068, 'issue_id': 2832002669, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196546.png)](https://mergebot.odoo.com/odoo/odoo/pull/196546)', 'created_at': datetime.datetime(2025, 2, 5, 6, 9, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635784080, 'issue_id': 2832002669, 'author': 'fw-bot', 'body': '@aamo-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196544\n* odoo/odoo#196470\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 6, 9, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635785904, 'issue_id': 2832002669, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 6, 10, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 06:09:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196546.png)](https://mergebot.odoo.com/odoo/odoo/pull/196546)

fw-bot (Issue Creator) on (2025-02-05 06:09:20 UTC): @aamo-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196544
* odoo/odoo#196470

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-02-05 06:10:48 UTC): @robodoo r+

"
2831996911,pull_request,closed,,[FW][FIX] l10n_es_edi_facturae: fix update from 16,"Tax account_tax_template_s_iva0_g_i was added in 17.0.
Init hook will load the data from account.tax-es_common.csv (_l10n_es_edi_facturae_post_init_hook) when upgrading from 16.0 and fail because account_tax_template_s_iva0_g_i does not exists yet.
Removing account_tax_template_s_iva0_g_i from account.tax-es_common.csv prevent the bug and l10n_es_edi_facturae_tax_type will still be set to 1 as it is the default value.

Runbot error: https://runbot.odoo.com/odoo/runbot.build.error/114680

Forward-Port-Of: odoo/odoo#196360",fw-bot,2025-02-05 06:05:41+00:00,[],2025-02-05 12:04:28+00:00,2025-02-05 12:04:27+00:00,https://github.com/odoo/odoo/pull/196545,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635779583, 'issue_id': 2831996911, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196545.png)](https://mergebot.odoo.com/odoo/odoo/pull/196545)', 'created_at': datetime.datetime(2025, 2, 5, 6, 5, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635779595, 'issue_id': 2831996911, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 6, 5, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 06:05:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196545.png)](https://mergebot.odoo.com/odoo/odoo/pull/196545)

fw-bot (Issue Creator) on (2025-02-05 06:05:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831890921,pull_request,closed,,[FW][FIX] event_sale: prevent error on upgrading module,"Currently a ``ParseError`` is arising when the user upgrades the ``event_sale`` module after deleting the ``Event Registration`` product from sales.

Steps to reproduce:
---
- Install ``Sale_management`` and ``event`` module (without demo data)
- Open ``Products`` in Sales > Delete ``Event Registration``
- Now upgrade ``event_sale`` module
- The error appears in the log.

Traceback:
---
```
Exception: Cannot update missing record 'event_product.product_product_event'

ParseError: while parsing /home/odoo/src/odoo/saas-18.1/addons/event_sale/data/event_sale_data.xml:4, somewhere inside <record id=""event_product.product_product_event"" model=""product.product"">
            <field name=""invoice_policy"">order</field>
        </record>
```

This commit resolves the issue by preventing the creation of a product using ``forcecreate=""False""``.

sentry-5731062091

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195433",fw-bot,2025-02-05 04:55:29+00:00,[],2025-02-05 07:32:33+00:00,2025-02-05 07:32:33+00:00,https://github.com/odoo/odoo/pull/196544,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635701637, 'issue_id': 2831890921, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196544.png)](https://mergebot.odoo.com/odoo/odoo/pull/196544)', 'created_at': datetime.datetime(2025, 2, 5, 4, 55, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635701652, 'issue_id': 2831890921, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 4, 55, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:55:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196544.png)](https://mergebot.odoo.com/odoo/odoo/pull/196544)

fw-bot (Issue Creator) on (2025-02-05 04:55:30 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831876085,pull_request,closed,,"[FW][FIX] base, *: allow access to restricted attachments with token","\* = web, point_of_sale, pos_self_order

A restricted attachment is an attachment linked to a record the current user cannot access, or linked to no record at all. The `check_access` methods allows access to such attachments, but the `check` and `_search` override methods forbid it.

By verifying `check_access` first (and if it passes never checking `access_token`), users might end up being blocked later in the flow even though they had a valid token.

Ideally `check_access` should be properly implemented for attachment, but it is out of the scope of this fix.

The fix is rather simple, call `_can_return_content` (which for attachment checks `access_token` and calls `check`) before `check_access`. The order is rather arbitrary. `_can_return_content` used to be slower and therefore called only when necessary, but it is no longer slow so it can be called first.

The opportunity is taken to clean the `pos` overrides:
- better check field name first before fetching the record
- use sudo when checking if access is allowed (otherwise it would raise for non-accessible records rather than returning False)

Follow-up of https://github.com/odoo/odoo/pull/186003 (which broke the access) and https://github.com/odoo/odoo/pull/193407 (which fixed performance and allowed to inverse the call order of the checks).

Forward-Port-Of: odoo/odoo#195994",fw-bot,2025-02-05 04:44:07+00:00,[],2025-02-06 18:07:32+00:00,2025-02-06 18:07:32+00:00,https://github.com/odoo/odoo/pull/196543,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635691334, 'issue_id': 2831876085, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196543.png)](https://mergebot.odoo.com/odoo/odoo/pull/196543)', 'created_at': datetime.datetime(2025, 2, 5, 4, 44, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635691341, 'issue_id': 2831876085, 'author': 'fw-bot', 'body': '@seb-odoo @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 4, 44, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:44:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196543.png)](https://mergebot.odoo.com/odoo/odoo/pull/196543)

fw-bot (Issue Creator) on (2025-02-05 04:44:09 UTC): @seb-odoo @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831863874,pull_request,open,,[FIX] account: prevent error while printing tax return,"This error occurs when `o.tax_totals` returns False, causing an AttributeError when accessed in the `QWeb template`.

- Install module `accountant`.
- Go to `Reporting` and open `Tax Return`.
- Open `Closing Entry` and `Print`.

AttributeError: 'bool' object has no attribute 'get'

The error occurs because `o.tax_totals` returns `False` instead of a dictionary causing an AttributeError when accessed in the `QWeb template`.

The error is resolved by adding a check to ensure o.tax_totals is not false before accessing its attributes,

sentry-6115648026

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",shka-odoo,2025-02-05 04:36:50+00:00,[],2025-02-05 16:20:41+00:00,,https://github.com/odoo/odoo/pull/196542,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635684029, 'issue_id': 2831863874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196542.png)](https://mergebot.odoo.com/odoo/odoo/pull/196542)', 'created_at': datetime.datetime(2025, 2, 5, 4, 36, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635686586, 'issue_id': 2831863874, 'author': 'shka-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\n\r\nPlease review this PR.\r\n\r\nThanks', 'created_at': datetime.datetime(2025, 2, 5, 4, 39, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:36:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196542.png)](https://mergebot.odoo.com/odoo/odoo/pull/196542)

shka-odoo (Issue Creator) on (2025-02-05 04:39:23 UTC): Hello @odoo/sentry_reviewers 

Please review this PR.

Thanks

"
2831856724,pull_request,open,,[IMP] l10n_in: added chart of account for payroll,"In this commit, Include chart of account for some of salary rules of Indian payroll.

task-4069592

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kais-odoo,2025-02-05 04:31:00+00:00,[],2025-02-05 12:07:20+00:00,,https://github.com/odoo/odoo/pull/196541,"[('RD', 'research & development, internal work')]","[{'comment_id': 2635678487, 'issue_id': 2831856724, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196541.png)](https://mergebot.odoo.com/odoo/odoo/pull/196541)', 'created_at': datetime.datetime(2025, 2, 5, 4, 31, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:31:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196541.png)](https://mergebot.odoo.com/odoo/odoo/pull/196541)

"
2831839167,pull_request,closed,,[FW][FIX] web_tour: drop inside an iframe,"Before this commit, only pointerup was listened and was on the global document. Now, the event is listened on the ownerDocument of the element.

Like that, if the element is inside an iframe, it will be correctly listened. The ""drop"" is also added to the listened events, because sign doesn't use the draggable hook of owl, instead it uses the vanilla drag and drop system of javascript.

The dropzone shown during an onboarding tour is also fixed and takes into account the offset of the iframe in the top document.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196432",fw-bot,2025-02-05 04:17:59+00:00,[],2025-02-05 09:22:22+00:00,2025-02-05 09:22:21+00:00,https://github.com/odoo/odoo/pull/196540,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635666783, 'issue_id': 2831839167, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196540.png)](https://mergebot.odoo.com/odoo/odoo/pull/196540)', 'created_at': datetime.datetime(2025, 2, 5, 4, 18, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635666803, 'issue_id': 2831839167, 'author': 'fw-bot', 'body': '@bastien-ipb @pipu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196530\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 4, 18, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635836087, 'issue_id': 2831839167, 'author': 'bastien-ipb', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 6, 50, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:18:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196540.png)](https://mergebot.odoo.com/odoo/odoo/pull/196540)

fw-bot (Issue Creator) on (2025-02-05 04:18:03 UTC): @bastien-ipb @pipu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196530

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bastien-ipb on (2025-02-05 06:50:59 UTC): @robodoo r+

"
2831829184,pull_request,closed,,[FW][FIX] website_slides: course changes in the middle of the tour,"The slide course member tour tests use  a channel called `Basics of Gardening - Test`. When the course is completed, clicking on `End course` will redirect the user to the courses home page. Since there is already a course (from demo data) called `Basics of Gardening`, the selector in the tour test actually selects this as the first match not the test course and the tour continues with the wrong course. It doesn't crash because both demo and test courses are public, so
 it's possible for demo and portal users to access them anyway and add/update a
 comment is done on the demo course.
 
 By this commit:
 - Demo data is removed in the tests to ensure that there is no collision between demo data and test data.
 - Since there are no predefined messages in the test data (the tour flow relied on the demo data messages before), the `update` does not happen in the tour without demo data. Some extra steps are also added to check the update message .

Forward-Port-Of: odoo/odoo#196445",fw-bot,2025-02-05 04:09:24+00:00,[],2025-02-06 15:17:59+00:00,2025-02-06 15:17:59+00:00,https://github.com/odoo/odoo/pull/196539,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635658869, 'issue_id': 2831829184, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196539.png)](https://mergebot.odoo.com/odoo/odoo/pull/196539)', 'created_at': datetime.datetime(2025, 2, 5, 4, 9, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635658879, 'issue_id': 2831829184, 'author': 'fw-bot', 'body': '@maki-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196529\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 4, 9, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635697059, 'issue_id': 2831829184, 'author': 'fw-bot', 'body': '@maki-odoo @awa-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 4, 50, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637423737, 'issue_id': 2831829184, 'author': 'fw-bot', 'body': '@maki-odoo @awa-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 16, 29, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637574525, 'issue_id': 2831829184, 'author': 'maki-odoo', 'body': ""@awa-odoo \r\n\r\nThe test sometimes fails (not always) in master because it could run so fast that when the first modal transaction has not completed yet, the other one starts and as a result, on closing the popup rating composer modal for the second time, `Modal.hide()` returns instead of closing the modal. This doesn't happen in real use cases. I tried a few different ways, but it seems that adding a small step is the simplest way to fix it. \r\n\r\nPlease note that I will need to add this step to the test anyway when I replace the portal composer with the backend composer soon. So I guess there is no harm in adding it here :)"", 'created_at': datetime.datetime(2025, 2, 5, 17, 28, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639331639, 'issue_id': 2831829184, 'author': 'maki-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 51, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:09:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196539.png)](https://mergebot.odoo.com/odoo/odoo/pull/196539)

fw-bot (Issue Creator) on (2025-02-05 04:09:26 UTC): @maki-odoo @awa-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196529

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 04:50:25 UTC): @maki-odoo @awa-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 16:29:08 UTC): @maki-odoo @awa-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

maki-odoo on (2025-02-05 17:28:30 UTC): @awa-odoo 

The test sometimes fails (not always) in master because it could run so fast that when the first modal transaction has not completed yet, the other one starts and as a result, on closing the popup rating composer modal for the second time, `Modal.hide()` returns instead of closing the modal. This doesn't happen in real use cases. I tried a few different ways, but it seems that adding a small step is the simplest way to fix it. 

Please note that I will need to add this step to the test anyway when I replace the portal composer with the backend composer soon. So I guess there is no harm in adding it here :)

maki-odoo on (2025-02-06 09:51:51 UTC): @robodoo r+

"
2831819651,pull_request,open,,[FW][FIX] point_of_sale: fix error on Arabic language setting,"When the Arabic language was selected, the PoS Restaurant module would error due to date formatting using Arabic numerals. This commit forces Latin digits in the date format to prevent the error.

opw-4544010

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196368",fw-bot,2025-02-05 04:02:42+00:00,[],2025-02-05 05:00:17+00:00,,https://github.com/odoo/odoo/pull/196538,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635652371, 'issue_id': 2831819651, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196538.png)](https://mergebot.odoo.com/odoo/odoo/pull/196538)', 'created_at': datetime.datetime(2025, 2, 5, 4, 2, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635652408, 'issue_id': 2831819651, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#196368 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/point_of_sale/static/src/app/store/devices_synchronisation.js deleted in 5e870933aaa3fec74de386c27e1bd9701b94e240 and modified in 704b29cd14c071c3b18021341fb7d54a065a6527.  Version 704b29cd14c071c3b18021341fb7d54a065a6527 of addons/point_of_sale/static/src/app/store/devices_synchronisation.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 4, 2, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 04:02:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196538.png)](https://mergebot.odoo.com/odoo/odoo/pull/196538)

fw-bot (Issue Creator) on (2025-02-05 04:02:45 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#196368 failed.

stdout:
```
CONFLICT (modify/delete): addons/point_of_sale/static/src/app/store/devices_synchronisation.js deleted in 5e870933aaa3fec74de386c27e1bd9701b94e240 and modified in 704b29cd14c071c3b18021341fb7d54a065a6527.  Version 704b29cd14c071c3b18021341fb7d54a065a6527 of addons/point_of_sale/static/src/app/store/devices_synchronisation.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831806145,pull_request,closed,,[FW][FIX] account: correct payment resequence,"- Configure an outstanding receipt account (e.g., Bank) for the Bank journal.

- Create an invoice and process the payment.

When attempting to resequence the journal entry corresponding to the `account.payment`, the journal entry is renamed, but the `account.payment` record is not updated accordingly.

https://github.com/odoo/odoo/commit/01b87f1230beac0568f4e3b1b76e547909506892 made the journal entry optional for payments, which broke the resequence.

opw-4437481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195382",fw-bot,2025-02-05 03:57:08+00:00,[],2025-02-05 16:48:33+00:00,2025-02-05 16:48:33+00:00,https://github.com/odoo/odoo/pull/196537,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635647285, 'issue_id': 2831806145, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196537.png)](https://mergebot.odoo.com/odoo/odoo/pull/196537)', 'created_at': datetime.datetime(2025, 2, 5, 3, 57, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635647292, 'issue_id': 2831806145, 'author': 'fw-bot', 'body': '@gteboul @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196534\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 3, 57, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635653655, 'issue_id': 2831806145, 'author': 'fw-bot', 'body': '@gteboul @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 4, 4, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637120928, 'issue_id': 2831806145, 'author': 'gteboul', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 15, 5, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 03:57:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196537.png)](https://mergebot.odoo.com/odoo/odoo/pull/196537)

fw-bot (Issue Creator) on (2025-02-05 03:57:10 UTC): @gteboul @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196534

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 04:04:08 UTC): @gteboul @william-andre ci/runbot failed on this forward-port PR

gteboul on (2025-02-05 15:05:30 UTC): @robodoo r+

"
2831764091,pull_request,open,,[FW][I18N] l10n_eu_oss: add translations,"Related to https://github.com/odoo/enterprise/pull/78533

Forward-Port-Of: odoo/odoo#196475
Forward-Port-Of: odoo/odoo#196447",fw-bot,2025-02-05 03:20:13+00:00,[],2025-02-06 09:17:07+00:00,,https://github.com/odoo/odoo/pull/196536,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635614472, 'issue_id': 2831764091, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196536.png)](https://mergebot.odoo.com/odoo/odoo/pull/196536)', 'created_at': datetime.datetime(2025, 2, 5, 3, 20, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635614499, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 3, 20, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635645350, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 3, 55, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639206634, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 0, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639210444, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 2, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639212862, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 3, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639213284, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639241203, 'issue_id': 2831764091, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 17, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 03:20:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196536.png)](https://mergebot.odoo.com/odoo/odoo/pull/196536)

fw-bot (Issue Creator) on (2025-02-05 03:20:16 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 03:55:01 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:00:22 UTC): @dylankiss @oomsveta ci/upgrade_enterprise failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:02:03 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:03:08 UTC): @dylankiss @oomsveta ci/template failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:03:20 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:17:06 UTC): @dylankiss @oomsveta ci/template failed on this forward-port PR

"
2831734657,pull_request,closed,,[FW][FIX] *: tours,"In this commit, we fix multiple tours on step that can cause non deterministic behaviors by adding additionnal steps to ensure tour is well on the way to taking the right path.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196079
Forward-Port-Of: odoo/odoo#195973",fw-bot,2025-02-05 02:56:49+00:00,[],2025-02-05 13:54:01+00:00,2025-02-05 13:53:55+00:00,https://github.com/odoo/odoo/pull/196535,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2635591446, 'issue_id': 2831734657, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196535.png)](https://mergebot.odoo.com/odoo/odoo/pull/196535)', 'created_at': datetime.datetime(2025, 2, 5, 2, 56, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635591465, 'issue_id': 2831734657, 'author': 'fw-bot', 'body': '@pipu-odoo @iucapad cherrypicking of pull request odoo/odoo#195973 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/js/tours/tour_utils.js\nAuto-merging addons/website/static/tests/tours/edit_menus.js\nAuto-merging addons/website/tests/test_ui.py\nAuto-merging addons/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js\nCONFLICT (content): Merge conflict in addons/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 56, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636436674, 'issue_id': 2831734657, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 12, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:56:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196535.png)](https://mergebot.odoo.com/odoo/odoo/pull/196535)

fw-bot (Issue Creator) on (2025-02-05 02:56:51 UTC): @pipu-odoo @iucapad cherrypicking of pull request odoo/odoo#195973 failed.

stdout:
```
Auto-merging addons/website/static/src/js/tours/tour_utils.js
Auto-merging addons/website/static/tests/tours/edit_menus.js
Auto-merging addons/website/tests/test_ui.py
Auto-merging addons/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js
CONFLICT (content): Merge conflict in addons/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pipu-odoo on (2025-02-05 11:12:12 UTC): @robodoo r+

"
2831724730,pull_request,closed,,[FW][FIX] account: correct payment resequence,"- Configure an outstanding receipt account (e.g., Bank) for the Bank journal.

- Create an invoice and process the payment.

When attempting to resequence the journal entry corresponding to the `account.payment`, the journal entry is renamed, but the `account.payment` record is not updated accordingly.

https://github.com/odoo/odoo/commit/01b87f1230beac0568f4e3b1b76e547909506892 made the journal entry optional for payments, which broke the resequence.

opw-4437481


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195382",fw-bot,2025-02-05 02:47:57+00:00,[],2025-02-05 20:37:13+00:00,2025-02-05 20:37:13+00:00,https://github.com/odoo/odoo/pull/196534,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635582911, 'issue_id': 2831724730, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196534.png)](https://mergebot.odoo.com/odoo/odoo/pull/196534)', 'created_at': datetime.datetime(2025, 2, 5, 2, 47, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635582923, 'issue_id': 2831724730, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 47, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:47:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196534.png)](https://mergebot.odoo.com/odoo/odoo/pull/196534)

fw-bot (Issue Creator) on (2025-02-05 02:47:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831724244,pull_request,closed,,[FW][IMP] point_of_sale: partner exact match search,"Before this commit, we was using fuzzy search which was creating a score for each partner and then sorting the partners based on that score. This was causing error in search result.

Now we use exact match search which will search for the exact match of the search string in the partner name, phone, mobile, email, street, city, state, country, zip, vat, and barcode.

taskId: 4517586

Forward-Port-Of: odoo/odoo#195971",fw-bot,2025-02-05 02:47:29+00:00,[],2025-02-06 11:11:28+00:00,2025-02-06 11:11:28+00:00,https://github.com/odoo/odoo/pull/196533,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635582355, 'issue_id': 2831724244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196533.png)](https://mergebot.odoo.com/odoo/odoo/pull/196533)', 'created_at': datetime.datetime(2025, 2, 5, 2, 47, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635582364, 'issue_id': 2831724244, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#195971 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/product_product.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/product_product.js\nAuto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/partner_list/partner_list.js\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nAuto-merging addons/point_of_sale/static/tests/pos/tours/product_screen_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 47, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639269287, 'issue_id': 2831724244, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 30, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:47:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196533.png)](https://mergebot.odoo.com/odoo/odoo/pull/196533)

fw-bot (Issue Creator) on (2025-02-05 02:47:31 UTC): @davidmonnom @vlst-odoo cherrypicking of pull request odoo/odoo#195971 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/product_product.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/product_product.js
Auto-merging addons/point_of_sale/static/src/app/screens/partner_list/partner_list.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/partner_list/partner_list.js
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
Auto-merging addons/point_of_sale/static/tests/pos/tours/product_screen_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-06 09:30:51 UTC): @robodoo r+

"
2831723904,pull_request,closed,,[FW][IMP] point_of_sale:  increase preparation ticket text size,"This commit increases the text size of the ordered product and notes on the preparation ticket, ensuring better readability.

task-4535901

Forward-Port-Of: odoo/odoo#196151",fw-bot,2025-02-05 02:47:10+00:00,[],2025-02-05 20:37:18+00:00,2025-02-05 20:37:18+00:00,https://github.com/odoo/odoo/pull/196532,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635582027, 'issue_id': 2831723904, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196532.png)](https://mergebot.odoo.com/odoo/odoo/pull/196532)', 'created_at': datetime.datetime(2025, 2, 5, 2, 47, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635582039, 'issue_id': 2831723904, 'author': 'fw-bot', 'body': '@stva-odoo @davidmonnom cherrypicking of pull request odoo/odoo#196151 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 47, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636894328, 'issue_id': 2831723904, 'author': 'stva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 44, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:47:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196532.png)](https://mergebot.odoo.com/odoo/odoo/pull/196532)

fw-bot (Issue Creator) on (2025-02-05 02:47:11 UTC): @stva-odoo @davidmonnom cherrypicking of pull request odoo/odoo#196151 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

stva-odoo on (2025-02-05 13:44:32 UTC): @robodoo r+

"
2831723605,pull_request,closed,,[FW][FIX] point_of_sale: fix error on Arabic language setting,"When the Arabic language was selected, the PoS Restaurant module would error due to date formatting using Arabic numerals. This commit forces Latin digits in the date format to prevent the error.

opw-4544010

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196368",fw-bot,2025-02-05 02:46:51+00:00,[],2025-02-05 12:04:37+00:00,2025-02-05 12:04:36+00:00,https://github.com/odoo/odoo/pull/196531,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635581718, 'issue_id': 2831723605, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196531.png)](https://mergebot.odoo.com/odoo/odoo/pull/196531)', 'created_at': datetime.datetime(2025, 2, 5, 2, 46, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635581731, 'issue_id': 2831723605, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 46, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635652381, 'issue_id': 2831723605, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom the next pull request (odoo/odoo#196538) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 4, 2, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636274774, 'issue_id': 2831723605, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 10, 3, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:46:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196531.png)](https://mergebot.odoo.com/odoo/odoo/pull/196531)

fw-bot (Issue Creator) on (2025-02-05 02:46:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 04:02:44 UTC): @pedrambiria @davidmonnom the next pull request (odoo/odoo#196538) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-05 10:03:38 UTC): @robodoo r+

"
2831723278,pull_request,closed,,[FW][FIX] web_tour: drop inside an iframe,"Before this commit, only pointerup was listened and was on the global document. Now, the event is listened on the ownerDocument of the element.

Like that, if the element is inside an iframe, it will be correctly listened. The ""drop"" is also added to the listened events, because sign doesn't use the draggable hook of owl, instead it uses the vanilla drag and drop system of javascript.

The dropzone shown during an onboarding tour is also fixed and takes into account the offset of the iframe in the top document.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196432",fw-bot,2025-02-05 02:46:31+00:00,[],2025-02-05 08:44:37+00:00,2025-02-05 08:44:37+00:00,https://github.com/odoo/odoo/pull/196530,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635581385, 'issue_id': 2831723278, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196530.png)](https://mergebot.odoo.com/odoo/odoo/pull/196530)', 'created_at': datetime.datetime(2025, 2, 5, 2, 46, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635581398, 'issue_id': 2831723278, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 46, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:46:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196530.png)](https://mergebot.odoo.com/odoo/odoo/pull/196530)

fw-bot (Issue Creator) on (2025-02-05 02:46:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831722805,pull_request,closed,,[FW][FIX] website_slides: course changes in the middle of the tour,"The slide course member tour tests use  a channel called `Basics of Gardening - Test`. When the course is completed, clicking on `End course` will redirect the user to the courses home page. Since there is already a course (from demo data) called `Basics of Gardening`, the selector in the tour test actually selects this as the first match not the test course and the tour continues with the wrong course. It doesn't crash because both demo and test courses are public, so
 it's possible for demo and portal users to access them anyway and add/update a
 comment is done on the demo course.
 
 By this commit:
 - Demo data is removed in the tests to ensure that there is no collision between demo data and test data.
 - Since there are no predefined messages in the test data (the tour flow relied on the demo data messages before), the `update` does not happen in the tour without demo data. Some extra steps are also added to check the update message .

Forward-Port-Of: odoo/odoo#196445",fw-bot,2025-02-05 02:46:04+00:00,[],2025-02-06 12:38:02+00:00,2025-02-06 12:38:02+00:00,https://github.com/odoo/odoo/pull/196529,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635581080, 'issue_id': 2831722805, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196529.png)](https://mergebot.odoo.com/odoo/odoo/pull/196529)', 'created_at': datetime.datetime(2025, 2, 5, 2, 46, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635581093, 'issue_id': 2831722805, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 46, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637423806, 'issue_id': 2831722805, 'author': 'fw-bot', 'body': ""@maki-odoo @awa-odoo child PR odoo/odoo#196539 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 5, 16, 29, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639338215, 'issue_id': 2831722805, 'author': 'maki-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 54, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:46:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196529.png)](https://mergebot.odoo.com/odoo/odoo/pull/196529)

fw-bot (Issue Creator) on (2025-02-05 02:46:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 16:29:10 UTC): @maki-odoo @awa-odoo child PR odoo/odoo#196539 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

maki-odoo on (2025-02-06 09:54:23 UTC): @robodoo r+

"
2831675017,pull_request,closed,,[FW][I18N] l10n_eu_oss: add translations,"Related to https://github.com/odoo/enterprise/pull/78533

Forward-Port-Of: odoo/odoo#196475
Forward-Port-Of: odoo/odoo#196447",fw-bot,2025-02-05 02:02:40+00:00,[],2025-02-06 11:54:09+00:00,2025-02-06 11:54:09+00:00,https://github.com/odoo/odoo/pull/196528,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635536915, 'issue_id': 2831675017, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196528.png)](https://mergebot.odoo.com/odoo/odoo/pull/196528)', 'created_at': datetime.datetime(2025, 2, 5, 2, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635536935, 'issue_id': 2831675017, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 2, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639206234, 'issue_id': 2831675017, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 0, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639206262, 'issue_id': 2831675017, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta ci/template failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 0, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639210598, 'issue_id': 2831675017, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639210694, 'issue_id': 2831675017, 'author': 'robodoo', 'body': '@dylankiss you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 6, 9, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639218488, 'issue_id': 2831675017, 'author': 'robodoo', 'body': ""@dylankiss @oomsveta 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 9, 5, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639236420, 'issue_id': 2831675017, 'author': 'robodoo', 'body': ""@dylankiss @oomsveta 'ci/upgrade_enterprise' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 9, 15, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639237585, 'issue_id': 2831675017, 'author': 'robodoo', 'body': ""@dylankiss @oomsveta 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 9, 15, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:02:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196528.png)](https://mergebot.odoo.com/odoo/odoo/pull/196528)

fw-bot (Issue Creator) on (2025-02-05 02:02:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 09:00:11 UTC): @dylankiss @oomsveta ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 09:00:11 UTC): @dylankiss @oomsveta ci/template failed on this forward-port PR

dylankiss on (2025-02-06 09:02:07 UTC): @robodoo r+

robodoo on (2025-02-06 09:02:10 UTC): @dylankiss you may want to rebuild or fix this PR as it has failed CI.

robodoo on (2025-02-06 09:05:39 UTC): @dylankiss @oomsveta 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-06 09:15:01 UTC): @dylankiss @oomsveta 'ci/upgrade_enterprise' failed on this reviewed PR.

robodoo on (2025-02-06 09:15:32 UTC): @dylankiss @oomsveta 'ci/template' failed on this reviewed PR.

"
2831672454,pull_request,closed,,[FW][FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.

Forward-Port-Of: odoo/odoo#196389",fw-bot,2025-02-05 02:00:18+00:00,[],2025-02-05 13:28:54+00:00,2025-02-05 13:28:54+00:00,https://github.com/odoo/odoo/pull/196527,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635533897, 'issue_id': 2831672454, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196527.png)](https://mergebot.odoo.com/odoo/odoo/pull/196527)', 'created_at': datetime.datetime(2025, 2, 5, 2, 0, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635533948, 'issue_id': 2831672454, 'author': 'fw-bot', 'body': '@bram1000 @flvr-odoo cherrypicking of pull request odoo/odoo#196389 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/auth_signup/static/src/js/reset_password.js deleted in b37cae124e69b55e2698b035fd2f439cb551268f and modified in 76030c849c9b508af19debe8d050997700d0a890.  Version 76030c849c9b508af19debe8d050997700d0a890 of addons/auth_signup/static/src/js/reset_password.js left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 0, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 02:00:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196527.png)](https://mergebot.odoo.com/odoo/odoo/pull/196527)

fw-bot (Issue Creator) on (2025-02-05 02:00:22 UTC): @bram1000 @flvr-odoo cherrypicking of pull request odoo/odoo#196389 failed.

stdout:
```
CONFLICT (modify/delete): addons/auth_signup/static/src/js/reset_password.js deleted in b37cae124e69b55e2698b035fd2f439cb551268f and modified in 76030c849c9b508af19debe8d050997700d0a890.  Version 76030c849c9b508af19debe8d050997700d0a890 of addons/auth_signup/static/src/js/reset_password.js left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831620157,pull_request,closed,,"[FW][IMP] core, web: improve usability of hierarchy operators clientwise","First commit introduces the allow_hierachy_operators description on relational fields while second commit allows to use the hierarchical operators (child_of/parent_of) on these fields inside the domain selector while also allowing multiselection with these operators.

task-4492974

Forward-Port-Of: odoo/odoo#195675
Forward-Port-Of: odoo/odoo#194909",fw-bot,2025-02-05 01:09:31+00:00,[],2025-02-05 10:56:02+00:00,2025-02-05 10:55:57+00:00,https://github.com/odoo/odoo/pull/196526,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635480246, 'issue_id': 2831620157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196526.png)](https://mergebot.odoo.com/odoo/odoo/pull/196526)', 'created_at': datetime.datetime(2025, 2, 5, 1, 9, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635480267, 'issue_id': 2831620157, 'author': 'fw-bot', 'body': '@ryv-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 1, 9, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636048067, 'issue_id': 2831620157, 'author': 'Polymorphe57', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 24, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 01:09:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196526.png)](https://mergebot.odoo.com/odoo/odoo/pull/196526)

fw-bot (Issue Creator) on (2025-02-05 01:09:33 UTC): @ryv-odoo @polymorphe57 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Polymorphe57 on (2025-02-05 08:24:23 UTC): @robodoo r+

"
2831586560,pull_request,closed,,[FW][FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.

Forward-Port-Of: odoo/odoo#196389",fw-bot,2025-02-05 00:37:50+00:00,[],2025-02-05 20:37:22+00:00,2025-02-05 20:37:22+00:00,https://github.com/odoo/odoo/pull/196525,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635447681, 'issue_id': 2831586560, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196525.png)](https://mergebot.odoo.com/odoo/odoo/pull/196525)', 'created_at': datetime.datetime(2025, 2, 5, 0, 37, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635447685, 'issue_id': 2831586560, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 0, 37, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635533909, 'issue_id': 2831586560, 'author': 'fw-bot', 'body': '@bram1000 @flvr-odoo the next pull request (odoo/odoo#196527) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 2, 0, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636857329, 'issue_id': 2831586560, 'author': 'bram1000', 'body': '@robodoo up to saas-18.1', 'created_at': datetime.datetime(2025, 2, 5, 13, 28, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636857434, 'issue_id': 2831586560, 'author': 'robodoo', 'body': ""@bram1000 you can't set a forward-port limit."", 'created_at': datetime.datetime(2025, 2, 5, 13, 28, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636858380, 'issue_id': 2831586560, 'author': 'bram1000', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 29, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 00:37:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196525.png)](https://mergebot.odoo.com/odoo/odoo/pull/196525)

fw-bot (Issue Creator) on (2025-02-05 00:37:52 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 02:00:20 UTC): @bram1000 @flvr-odoo the next pull request (odoo/odoo#196527) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bram1000 on (2025-02-05 13:28:39 UTC): @robodoo up to saas-18.1

robodoo on (2025-02-05 13:28:41 UTC): @bram1000 you can't set a forward-port limit.

bram1000 on (2025-02-05 13:29:07 UTC): @robodoo r+

"
2831578141,pull_request,closed,,[FW][I18N] l10n_eu_oss: add translations,"Related to https://github.com/odoo/enterprise/pull/78533

Forward-Port-Of: odoo/odoo#196475
Forward-Port-Of: odoo/odoo#196447",fw-bot,2025-02-05 00:29:18+00:00,[],2025-02-07 13:21:59+00:00,2025-02-06 15:05:25+00:00,https://github.com/odoo/odoo/pull/196524,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635438680, 'issue_id': 2831578141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196524.png)](https://mergebot.odoo.com/odoo/odoo/pull/196524)', 'created_at': datetime.datetime(2025, 2, 5, 0, 29, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635438698, 'issue_id': 2831578141, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 0, 29, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639179969, 'issue_id': 2831578141, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 6, 8, 47, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639182766, 'issue_id': 2831578141, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 48, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639215616, 'issue_id': 2831578141, 'author': 'robodoo', 'body': ""@dylankiss @oomsveta 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 9, 4, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639217608, 'issue_id': 2831578141, 'author': 'robodoo', 'body': ""@dylankiss @oomsveta 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 9, 5, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 00:29:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196524.png)](https://mergebot.odoo.com/odoo/odoo/pull/196524)

fw-bot (Issue Creator) on (2025-02-05 00:29:22 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 08:47:15 UTC): @dylankiss @oomsveta this PR was modified / updated and has become a normal PR. It must be merged directly.

dylankiss on (2025-02-06 08:48:37 UTC): @robodoo r+

robodoo on (2025-02-06 09:04:25 UTC): @dylankiss @oomsveta 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-06 09:05:15 UTC): @dylankiss @oomsveta 'ci/template' failed on this reviewed PR.

"
2831482531,pull_request,closed,,[FW][FIX] spreadsheet_dashboard: Graphs in Mobile view aren't showed correctly,"When we display more than one chart in the mobile view, the height of the elements is being adjusted to fill 100%, which in some cases causes a size that makes it impossible to view the chart.

![image](https://github.com/user-attachments/assets/68ff7a94-dc92-484b-a96f-f843c00f6449)

To solve this, we have added a div that will encompass the chart and set a minimum height as defined in the spreadsheets, ensuring that the elements are always displayed correctly.

![image](https://github.com/user-attachments/assets/ed1fa34a-7d23-4853-b449-dcc0f95c78bd)

cc @Tecnativa TT50972

ping @chienandalu  @pedrobaeza 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196364
Forward-Port-Of: odoo/odoo#181335",fw-bot,2025-02-04 23:15:37+00:00,[],2025-02-05 14:26:55+00:00,2025-02-05 14:26:54+00:00,https://github.com/odoo/odoo/pull/196523,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635275308, 'issue_id': 2831482531, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196523.png)](https://mergebot.odoo.com/odoo/odoo/pull/196523)', 'created_at': datetime.datetime(2025, 2, 4, 23, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635275325, 'issue_id': 2831482531, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 23, 15, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635332612, 'issue_id': 2831482531, 'author': 'fw-bot', 'body': '@CarlosRoca13 @LucasLefevre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 23, 49, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636055116, 'issue_id': 2831482531, 'author': 'fw-bot', 'body': '@CarlosRoca13 @LucasLefevre the next pull request (odoo/odoo#196563) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 8, 28, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636066746, 'issue_id': 2831482531, 'author': 'LucasLefevre', 'body': 'robodoo r+\r\n\r\nOn Wed, Feb 5, 2025 at 9:28\u202fAM Otis - Odoo Forward-Port Steward [bot] <\r\n***@***.***> wrote:\r\n\r\n> @CarlosRoca13 <https://github.com/CarlosRoca13> @LucasLefevre\r\n> <https://github.com/LucasLefevre> the next pull request (#196563\r\n> <https://github.com/odoo/odoo/pull/196563>) is in conflict. You can merge\r\n> the chain up to here by saying\r\n>\r\n> @robodoo <https://github.com/robodoo> r+\r\n>\r\n> More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/odoo/odoo/pull/196523#issuecomment-2636055116>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ACTHFEMSWXIONGYHLICCS232OHDSXAVCNFSM6AAAAABWPXJPY2VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMZWGA2TKMJRGY>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 2, 5, 8, 33, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 23:15:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196523.png)](https://mergebot.odoo.com/odoo/odoo/pull/196523)

fw-bot (Issue Creator) on (2025-02-04 23:15:38 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 23:49:01 UTC): @CarlosRoca13 @LucasLefevre ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 08:28:03 UTC): @CarlosRoca13 @LucasLefevre the next pull request (odoo/odoo#196563) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-02-05 08:33:52 UTC): robodoo r+

On Wed, Feb 5, 2025 at 9:28 AM Otis - Odoo Forward-Port Steward [bot] <
***@***.***> wrote:

"
2831480992,pull_request,closed,,[FW][FIX] l10n_es_edi_facturae: fix update from 16,"Tax account_tax_template_s_iva0_g_i was added in 17.0.
Init hook will load the data from account.tax-es_common.csv (_l10n_es_edi_facturae_post_init_hook) when upgrading from 16.0 and fail because account_tax_template_s_iva0_g_i does not exists yet.
Removing account_tax_template_s_iva0_g_i from account.tax-es_common.csv prevent the bug and l10n_es_edi_facturae_tax_type will still be set to 1 as it is the default value.

Runbot error: https://runbot.odoo.com/odoo/runbot.build.error/114680

Forward-Port-Of: odoo/odoo#196360",fw-bot,2025-02-04 23:14:17+00:00,[],2025-02-05 14:26:56+00:00,2025-02-05 14:26:56+00:00,https://github.com/odoo/odoo/pull/196522,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635273619, 'issue_id': 2831480992, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196522.png)](https://mergebot.odoo.com/odoo/odoo/pull/196522)', 'created_at': datetime.datetime(2025, 2, 4, 23, 14, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635273632, 'issue_id': 2831480992, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 23, 14, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635414918, 'issue_id': 2831480992, 'author': 'fw-bot', 'body': '@jbw-odoo @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 0, 10, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 23:14:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196522.png)](https://mergebot.odoo.com/odoo/odoo/pull/196522)

fw-bot (Issue Creator) on (2025-02-04 23:14:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 00:10:12 UTC): @jbw-odoo @h4818 ci/runbot failed on this forward-port PR

"
2831477836,pull_request,closed,,[FW][FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.

Forward-Port-Of: odoo/odoo#196389",fw-bot,2025-02-04 23:11:34+00:00,[],2025-02-05 18:04:05+00:00,2025-02-05 18:04:05+00:00,https://github.com/odoo/odoo/pull/196521,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635270227, 'issue_id': 2831477836, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196521.png)](https://mergebot.odoo.com/odoo/odoo/pull/196521)', 'created_at': datetime.datetime(2025, 2, 4, 23, 11, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635270241, 'issue_id': 2831477836, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 23, 11, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 23:11:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196521.png)](https://mergebot.odoo.com/odoo/odoo/pull/196521)

fw-bot (Issue Creator) on (2025-02-04 23:11:36 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831466861,pull_request,closed,,[FW][FIX] im_livechat: remove unwanted redirection,"Before this PR, if a chatbot's last step is redirecting to a URL, a visitor could be trapped in an infinite loop of redirection. This is because the chatbot always replays the last step of the script when the page loads.

This PR updated the livechat_active status when all the steps were done and ensured that the chatbot service doesn't start if livechat_active is false.

Task-4518285

Forward-Port-Of: odoo/odoo#195429",fw-bot,2025-02-04 23:02:22+00:00,[],2025-02-05 10:16:08+00:00,2025-02-05 10:16:08+00:00,https://github.com/odoo/odoo/pull/196520,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635258214, 'issue_id': 2831466861, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196520.png)](https://mergebot.odoo.com/odoo/odoo/pull/196520)', 'created_at': datetime.datetime(2025, 2, 4, 23, 2, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635258223, 'issue_id': 2831466861, 'author': 'fw-bot', 'body': '@phenix-factory @seb-odoo cherrypicking of pull request odoo/odoo#195429 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/controllers/chatbot.py\nAuto-merging addons/im_livechat/controllers/main.py\nCONFLICT (content): Merge conflict in addons/im_livechat/controllers/main.py\nAuto-merging addons/im_livechat/models/discuss_channel.py\nCONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel.py\nAuto-merging addons/im_livechat/static/src/embed/common/chatbot/chatbot_model.js\nAuto-merging addons/im_livechat/static/src/embed/common/chatbot/chatbot_service.js\nAuto-merging addons/im_livechat/static/src/embed/common/thread_model_patch.js\nAuto-merging addons/test_discuss_full/tests/test_performance.py\nCONFLICT (content): Merge conflict in addons/test_discuss_full/tests/test_performance.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 23, 2, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 23:02:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196520.png)](https://mergebot.odoo.com/odoo/odoo/pull/196520)

fw-bot (Issue Creator) on (2025-02-04 23:02:24 UTC): @phenix-factory @seb-odoo cherrypicking of pull request odoo/odoo#195429 failed.

stdout:
```
Auto-merging addons/im_livechat/controllers/chatbot.py
Auto-merging addons/im_livechat/controllers/main.py
CONFLICT (content): Merge conflict in addons/im_livechat/controllers/main.py
Auto-merging addons/im_livechat/models/discuss_channel.py
CONFLICT (content): Merge conflict in addons/im_livechat/models/discuss_channel.py
Auto-merging addons/im_livechat/static/src/embed/common/chatbot/chatbot_model.js
Auto-merging addons/im_livechat/static/src/embed/common/chatbot/chatbot_service.js
Auto-merging addons/im_livechat/static/src/embed/common/thread_model_patch.js
Auto-merging addons/test_discuss_full/tests/test_performance.py
CONFLICT (content): Merge conflict in addons/test_discuss_full/tests/test_performance.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831429407,pull_request,closed,,[FW] 16.0 fix cannot drop search block in dutch bvr,"Since the class `s_searchbar_input` was translated into Dutch by a
translator on Transifex.
<sub>See screenshot of the Website `nl.po` file </sub>↓
<kbd>![image](https://github.com/user-attachments/assets/053f084b-30cf-42d3-9c13-7387b777b88f)</kbd>

It is no longer possible to drop the searchbar
block onto a webpage when Odoo's language is set to Dutch.

In this PR, we add `t-translation=""off""` in the xpath that adds
this class to the list of droppable element selectors, so it won't be
translated anymore. We also do the same for other xpath-ed classes that
don’t have `t-translation=""off""`, to prevent the same issue elsewhere.

Since the class is already translated in the existing databases, in
stable versions, we add the class a second time to the list of droppable
element selectors. This second class won't be translated, which will fix
the issue for Dutch users.

[opw-4461785](https://www.odoo.com/web#id=4461785&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

-----------
Note: This PR also fix 2 minor bugs:
- The text on the button to install a block overflows when translated into certain languages that make it longer.
<kbd>![image](https://github.com/user-attachments/assets/0532c186-c081-4e95-a853-1873e50005ff)</kbd>
- The `Embed code` block ""Click on Edit..."" message is not visible on dark background.
<kbd>![image](https://github.com/user-attachments/assets/16510ffb-7a2e-4eaa-b5f7-40f0e9d9a943)</kbd>

Forward-Port-Of: odoo/odoo#196286
Forward-Port-Of: odoo/odoo#193819",fw-bot,2025-02-04 22:31:07+00:00,[],2025-02-06 16:54:09+00:00,2025-02-06 16:53:55+00:00,https://github.com/odoo/odoo/pull/196519,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2635215891, 'issue_id': 2831429407, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196519.png)](https://mergebot.odoo.com/odoo/odoo/pull/196519)', 'created_at': datetime.datetime(2025, 2, 4, 22, 31, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635215940, 'issue_id': 2831429407, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.\n\n* a0032f4a3dfd0761b19d3d1fde1547de737fbc3a\n* 2fd0fd55b6dde73120caf3cc6438b74295afb6f3\n* 1fa8a3d33561960e38b3c7574e1adfcbb2e617e0 <- on this commit\n\nstdout:\n```\nAuto-merging addons/website/i18n/nl.po\nAuto-merging addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/views/snippets/s_searchbar.xml\nAuto-merging addons/website/views/snippets/s_website_form.xml\nAuto-merging addons/website_mass_mailing/views/snippets_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 22, 31, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636788079, 'issue_id': 2831429407, 'author': 'bvr-odoo', 'body': '@qsm-odoo please could you review my adapations for master', 'created_at': datetime.datetime(2025, 2, 5, 12, 57, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639673795, 'issue_id': 2831429407, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 6, 12, 19, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 22:31:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196519.png)](https://mergebot.odoo.com/odoo/odoo/pull/196519)

fw-bot (Issue Creator) on (2025-02-04 22:31:10 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.

* a0032f4a3dfd0761b19d3d1fde1547de737fbc3a
* 2fd0fd55b6dde73120caf3cc6438b74295afb6f3
* 1fa8a3d33561960e38b3c7574e1adfcbb2e617e0 <- on this commit

stdout:
```
Auto-merging addons/website/i18n/nl.po
Auto-merging addons/website/i18n/website.pot
Auto-merging addons/website/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/views/snippets/s_searchbar.xml
Auto-merging addons/website/views/snippets/s_website_form.xml
Auto-merging addons/website_mass_mailing/views/snippets_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-05 12:57:20 UTC): @qsm-odoo please could you review my adapations for master

robodoo on (2025-02-06 12:19:41 UTC): Merge method set to rebase and fast-forward.

"
2831392745,pull_request,closed,,[FW][IMP] delivery: update `hs_code` field help text and pot files,"Since HS Code field is now also used in USPS connector, the help text of `hs_code` field on `product_template` needs to be updated. Also the POT file containing module titles and descriptions is updated.

Task-3759325

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196035
Forward-Port-Of: odoo/odoo#187405",fw-bot,2025-02-04 22:04:06+00:00,[],2025-02-06 11:53:51+00:00,2025-02-06 11:53:51+00:00,https://github.com/odoo/odoo/pull/196518,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635174791, 'issue_id': 2831392745, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196518.png)](https://mergebot.odoo.com/odoo/odoo/pull/196518)', 'created_at': datetime.datetime(2025, 2, 4, 22, 4, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635174856, 'issue_id': 2831392745, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow cherrypicking of pull request odoo/odoo#187405 failed.\n\nstdout:\n```\nAuto-merging addons/stock_delivery/i18n/stock_delivery.pot\nCONFLICT (content): Merge conflict in addons/stock_delivery/i18n/stock_delivery.pot\nAuto-merging addons/stock_delivery/models/product_template.py\nCONFLICT (content): Merge conflict in addons/stock_delivery/models/product_template.py\nAuto-merging odoo/addons/base/i18n/base.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 22, 4, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636566291, 'issue_id': 2831392745, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 14, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636686749, 'issue_id': 2831392745, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 12, 41, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636790262, 'issue_id': 2831392745, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/template' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 12, 58, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636913516, 'issue_id': 2831392745, 'author': 'robodoo', 'body': ""@mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 13, 52, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637345041, 'issue_id': 2831392745, 'author': 'robodoo', 'body': '@mohammadhossam @Whenrow linked pull request(s) odoo/enterprise#78560 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 5, 16, 0, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 22:04:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196518.png)](https://mergebot.odoo.com/odoo/odoo/pull/196518)

fw-bot (Issue Creator) on (2025-02-04 22:04:11 UTC): @mohammadhossam @Whenrow cherrypicking of pull request odoo/odoo#187405 failed.

stdout:
```
Auto-merging addons/stock_delivery/i18n/stock_delivery.pot
CONFLICT (content): Merge conflict in addons/stock_delivery/i18n/stock_delivery.pot
Auto-merging addons/stock_delivery/models/product_template.py
CONFLICT (content): Merge conflict in addons/stock_delivery/models/product_template.py
Auto-merging odoo/addons/base/i18n/base.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohammadhossam on (2025-02-05 12:14:20 UTC): robodoo r+

robodoo on (2025-02-05 12:41:07 UTC): @mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-05 12:58:17 UTC): @mohammadhossam @Whenrow 'ci/template' failed on this reviewed PR.

robodoo on (2025-02-05 13:52:35 UTC): @mohammadhossam @Whenrow 'ci/runbot' failed on this reviewed PR.

robodoo on (2025-02-05 16:00:19 UTC): @mohammadhossam @Whenrow linked pull request(s) odoo/enterprise#78560 not ready. Linked PRs are not staged until all of them are ready.

"
2831392035,pull_request,closed,,"[FW][FIX] mrp{,_workorder}: ignore move raws without demand in reservation state","### Issue:

Curently, the reservation state of a production is computed from the status of the move raws that are not picked. This includes moves wihtout demands which should not infer with the reservation state at all.

### Steps to reproduce:

- In the settings, Enable ""Multi-Step Routes""
- Go to Inventory > Configuration > Warehouse Management > Warehouses
- Put your warehouse in 2 steps-manufacturing
- Create a final product (FP) tracked by Serial number, and 2 storable components: COMP1 and COMP2
- Create a BOM for FP:
  - Component lines:
    - 1 x COMP1
    - 0 x COMP2 !!
  - Operations:
    - OP1 with an instruction of type ""register production""
1. Create an MO for 1 x FP > Confirm
2. Validate the pick transfer for 1 unit of COMP1
> Currently OP1 is marked as ready
3. Mark the component line of COMP1 as ""picked""
#### > OP1 is in waiting status
Same result as 3:
3'. Go to the shopfloor > register production from the MO card
#### > This will pick the COMP1 raw move and OP1 will disappear because of the ""ready"" filter

### Cause of the issue:

Since you manufacture in 2 steps, the state of the raw move of COMP2 is waiting even though its demand is 0 (before and after you validated the pick move for COMP1). However, only non picked moves are considered to be relevant in the computation of the reservation state of the MO: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_production.py#L613-L621 Once you pick the COMP1 move which should be the only relevant one the reservation state of the MO becomes computed solely based on the state of the COMP2 raw move and becomes ""waiting"". In turns, this triggers a recomputation of the state of the workorders and flagging it as waiting: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_workorder.py#L148-L165

opw-4383004

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196388",fw-bot,2025-02-04 22:03:35+00:00,[],2025-02-05 17:38:55+00:00,2025-02-05 17:38:55+00:00,https://github.com/odoo/odoo/pull/196517,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635174024, 'issue_id': 2831392035, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196517.png)](https://mergebot.odoo.com/odoo/odoo/pull/196517)', 'created_at': datetime.datetime(2025, 2, 4, 22, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635174039, 'issue_id': 2831392035, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 22, 3, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635217422, 'issue_id': 2831392035, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 22, 32, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636114297, 'issue_id': 2831392035, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 8, 57, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636463957, 'issue_id': 2831392035, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 25, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 22:03:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196517.png)](https://mergebot.odoo.com/odoo/odoo/pull/196517)

fw-bot (Issue Creator) on (2025-02-04 22:03:39 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 22:32:07 UTC): @lase-odoo @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 08:57:01 UTC): @lase-odoo @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

lase-odoo on (2025-02-05 11:25:24 UTC): robodoo r+

"
2831386285,pull_request,closed,,[FW][FIX] spreadsheet_dashboard: Graphs in Mobile view aren't showed correctly,"When we display more than one chart in the mobile view, the height of the elements is being adjusted to fill 100%, which in some cases causes a size that makes it impossible to view the chart.

![image](https://github.com/user-attachments/assets/68ff7a94-dc92-484b-a96f-f843c00f6449)

To solve this, we have added a div that will encompass the chart and set a minimum height as defined in the spreadsheets, ensuring that the elements are always displayed correctly.

![image](https://github.com/user-attachments/assets/ed1fa34a-7d23-4853-b449-dcc0f95c78bd)

cc @Tecnativa TT50972

ping @chienandalu  @pedrobaeza 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196364
Forward-Port-Of: odoo/odoo#181335",fw-bot,2025-02-04 21:59:41+00:00,[],2025-02-05 11:09:20+00:00,2025-02-05 11:09:19+00:00,https://github.com/odoo/odoo/pull/196516,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635168024, 'issue_id': 2831386285, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196516.png)](https://mergebot.odoo.com/odoo/odoo/pull/196516)', 'created_at': datetime.datetime(2025, 2, 4, 21, 59, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635168044, 'issue_id': 2831386285, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 21, 59, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 21:59:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196516.png)](https://mergebot.odoo.com/odoo/odoo/pull/196516)

fw-bot (Issue Creator) on (2025-02-04 21:59:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831383657,pull_request,closed,,[FW][FIX] l10n_es_edi_facturae: fix update from 16,"Tax account_tax_template_s_iva0_g_i was added in 17.0.
Init hook will load the data from account.tax-es_common.csv (_l10n_es_edi_facturae_post_init_hook) when upgrading from 16.0 and fail because account_tax_template_s_iva0_g_i does not exists yet.
Removing account_tax_template_s_iva0_g_i from account.tax-es_common.csv prevent the bug and l10n_es_edi_facturae_tax_type will still be set to 1 as it is the default value.

Runbot error: https://runbot.odoo.com/odoo/runbot.build.error/114680

Forward-Port-Of: odoo/odoo#196360",fw-bot,2025-02-04 21:57:53+00:00,[],2025-02-05 11:09:40+00:00,2025-02-05 11:09:40+00:00,https://github.com/odoo/odoo/pull/196515,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635165258, 'issue_id': 2831383657, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196515.png)](https://mergebot.odoo.com/odoo/odoo/pull/196515)', 'created_at': datetime.datetime(2025, 2, 4, 21, 57, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635165273, 'issue_id': 2831383657, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 21, 57, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 21:57:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196515.png)](https://mergebot.odoo.com/odoo/odoo/pull/196515)

fw-bot (Issue Creator) on (2025-02-04 21:57:54 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831382242,pull_request,closed,,[FW][FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.

Forward-Port-Of: odoo/odoo#196389",fw-bot,2025-02-04 21:56:58+00:00,[],2025-02-05 17:39:19+00:00,2025-02-05 17:39:19+00:00,https://github.com/odoo/odoo/pull/196514,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635163799, 'issue_id': 2831382242, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196514.png)](https://mergebot.odoo.com/odoo/odoo/pull/196514)', 'created_at': datetime.datetime(2025, 2, 4, 21, 56, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635163820, 'issue_id': 2831382242, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 21, 56, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 21:56:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196514.png)](https://mergebot.odoo.com/odoo/odoo/pull/196514)

fw-bot (Issue Creator) on (2025-02-04 21:56:59 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831370105,pull_request,open,,[FIX] rating: Remove extra border line on rating image,"Description of the issue/feature this PR addresses:

The o_rating_label css is not properly configured, which caused an unintended extra border line to appear on the rating image

This commit removes the border explicitly in the CSS file to correct the visual issue.

opw-4482430
Related Commit: https://github.com/odoo/odoo/commit/9e8a709f80e3e4620bfa92decb383781b04d64c8#diff-b7f943d7f11d281f92f78810d7da31d5ab33d4e5952d66ce973d0bc24278ebcd

Current behavior before PR:

![image](https://github.com/user-attachments/assets/4cf52f5f-b6e3-4d6d-bf04-db576804fd00)


Desired behavior after PR is merged:

The border will be invisible and everything else still functional without any influence


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",fame-odoo,2025-02-04 21:49:21+00:00,[],2025-02-05 15:27:10+00:00,,https://github.com/odoo/odoo/pull/196513,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2635151416, 'issue_id': 2831370105, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196513.png)](https://mergebot.odoo.com/odoo/odoo/pull/196513)', 'created_at': datetime.datetime(2025, 2, 4, 21, 49, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637240409, 'issue_id': 2831370105, 'author': 'fame-odoo', 'body': 'Thank you! @Guillaume-gdi I just corrected the commit message, could you please help me confirm this time all correct?', 'created_at': datetime.datetime(2025, 2, 5, 15, 26, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 21:49:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196513.png)](https://mergebot.odoo.com/odoo/odoo/pull/196513)

fame-odoo (Issue Creator) on (2025-02-05 15:26:19 UTC): Thank you! @Guillaume-gdi I just corrected the commit message, could you please help me confirm this time all correct?

"
2831309197,pull_request,closed,,[FW] 16.0 fix cannot drop search block in dutch bvr,"Since the class `s_searchbar_input` was translated into Dutch by a
translator on Transifex.
<sub>See screenshot of the Website `nl.po` file </sub>↓
<kbd>![image](https://github.com/user-attachments/assets/053f084b-30cf-42d3-9c13-7387b777b88f)</kbd>

It is no longer possible to drop the searchbar
block onto a webpage when Odoo's language is set to Dutch.

In this PR, we add `t-translation=""off""` in the xpath that adds
this class to the list of droppable element selectors, so it won't be
translated anymore. We also do the same for other xpath-ed classes that
don’t have `t-translation=""off""`, to prevent the same issue elsewhere.

Since the class is already translated in the existing databases, in
stable versions, we add the class a second time to the list of droppable
element selectors. This second class won't be translated, which will fix
the issue for Dutch users.

[opw-4461785](https://www.odoo.com/web#id=4461785&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

-----------
Note: This PR also fix 2 minor bugs:
- The text on the button to install a block overflows when translated into certain languages that make it longer.
<kbd>![image](https://github.com/user-attachments/assets/0532c186-c081-4e95-a853-1873e50005ff)</kbd>
- The `Embed code` block ""Click on Edit..."" message is not visible on dark background.
<kbd>![image](https://github.com/user-attachments/assets/16510ffb-7a2e-4eaa-b5f7-40f0e9d9a943)</kbd>

Forward-Port-Of: odoo/odoo#196286
Forward-Port-Of: odoo/odoo#193819",fw-bot,2025-02-04 21:12:04+00:00,[],2025-02-05 12:04:10+00:00,2025-02-05 12:04:09+00:00,https://github.com/odoo/odoo/pull/196512,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635087153, 'issue_id': 2831309197, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196512.png)](https://mergebot.odoo.com/odoo/odoo/pull/196512)', 'created_at': datetime.datetime(2025, 2, 4, 21, 12, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635087177, 'issue_id': 2831309197, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 21, 12, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635215901, 'issue_id': 2831309197, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo the next pull request (odoo/odoo#196519) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 22, 31, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636121436, 'issue_id': 2831309197, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 0, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 21:12:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196512.png)](https://mergebot.odoo.com/odoo/odoo/pull/196512)

fw-bot (Issue Creator) on (2025-02-04 21:12:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 22:31:09 UTC): @bvr-odoo @qsm-odoo the next pull request (odoo/odoo#196519) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-05 09:00:29 UTC): @robodoo r+

"
2831297805,pull_request,closed,,[FW][FIX] website_slides: missing super call,Forward-Port-Of: odoo/odoo#196415,fw-bot,2025-02-04 21:05:17+00:00,[],2025-02-05 08:07:46+00:00,2025-02-05 08:07:46+00:00,https://github.com/odoo/odoo/pull/196511,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2635074615, 'issue_id': 2831297805, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196511.png)](https://mergebot.odoo.com/odoo/odoo/pull/196511)', 'created_at': datetime.datetime(2025, 2, 4, 21, 5, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635074630, 'issue_id': 2831297805, 'author': 'fw-bot', 'body': '@phenix-factory @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 21, 5, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635826179, 'issue_id': 2831297805, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 6, 43, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 21:05:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196511.png)](https://mergebot.odoo.com/odoo/odoo/pull/196511)

fw-bot (Issue Creator) on (2025-02-04 21:05:19 UTC): @phenix-factory @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

phenix-factory on (2025-02-05 06:43:21 UTC): @robodoo r+

"
2831284076,pull_request,closed,,[FW][FIX] account: Chart Templates translations,"Fixes a small issue when loading translations of
multiple chart templates at once.
An update to that method added a parameter with
the same name as a local variable, and the way
it has been done means that the template_data
used in each subsequent loop will always be
the ones from the first loop only, effectively
ignoring the other chart templates.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196359",fw-bot,2025-02-04 20:57:01+00:00,[],2025-02-05 16:42:30+00:00,2025-02-05 16:42:30+00:00,https://github.com/odoo/odoo/pull/196510,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635059024, 'issue_id': 2831284076, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196510.png)](https://mergebot.odoo.com/odoo/odoo/pull/196510)', 'created_at': datetime.datetime(2025, 2, 4, 20, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635059045, 'issue_id': 2831284076, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635119353, 'issue_id': 2831284076, 'author': 'fw-bot', 'body': '@vin-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 21, 30, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:57:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196510.png)](https://mergebot.odoo.com/odoo/odoo/pull/196510)

fw-bot (Issue Creator) on (2025-02-04 20:57:03 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 21:30:28 UTC): @vin-odoo @william-andre ci/runbot failed on this forward-port PR

"
2831258142,pull_request,closed,,[FW][FIX] base_import_module: ignore unset module_type,"`module_type` is not required. This leads to some code-modules to have
null value in the column. When this happens an error occurs if we try to
open the form view of the module in Apps.

Steps to reproduce:
1. Install a custom module.
2. Modify the `module_type` to `NULL` via SQL (note that the column is
   not required)
3. Try to open the module in the Apps menu. We get an error like:
```
Can't fetch records(s) ... They might have been deleted.
```

This issue is impacting multiple DBs post upgrade. Since this is a new
field the value is not filled in some cases. It is also possible that
due to misconfiguration the value is set to something other than
`official`.

In this patch we propose to fetch the information only for modules that
are already marked as `industry`. 

opw-4516992

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195540",fw-bot,2025-02-04 20:43:54+00:00,[],2025-02-05 14:58:36+00:00,2025-02-05 14:58:36+00:00,https://github.com/odoo/odoo/pull/196509,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635032275, 'issue_id': 2831258142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196509.png)](https://mergebot.odoo.com/odoo/odoo/pull/196509)', 'created_at': datetime.datetime(2025, 2, 4, 20, 43, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635032325, 'issue_id': 2831258142, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 43, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635091902, 'issue_id': 2831258142, 'author': 'fw-bot', 'body': '@aj-fuentes @pimodoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 21, 14, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:43:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196509.png)](https://mergebot.odoo.com/odoo/odoo/pull/196509)

fw-bot (Issue Creator) on (2025-02-04 20:43:56 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 21:14:40 UTC): @aj-fuentes @pimodoo ci/runbot failed on this forward-port PR

"
2831257282,pull_request,closed,,"[FW][FIX] mrp{,_workorder}: ignore move raws without demand in reservation state","### Issue:

Curently, the reservation state of a production is computed from the status of the move raws that are not picked. This includes moves wihtout demands which should not infer with the reservation state at all.

### Steps to reproduce:

- In the settings, Enable ""Multi-Step Routes""
- Go to Inventory > Configuration > Warehouse Management > Warehouses
- Put your warehouse in 2 steps-manufacturing
- Create a final product (FP) tracked by Serial number, and 2 storable components: COMP1 and COMP2
- Create a BOM for FP:
  - Component lines:
    - 1 x COMP1
    - 0 x COMP2 !!
  - Operations:
    - OP1 with an instruction of type ""register production""
1. Create an MO for 1 x FP > Confirm
2. Validate the pick transfer for 1 unit of COMP1
> Currently OP1 is marked as ready
3. Mark the component line of COMP1 as ""picked""
#### > OP1 is in waiting status
Same result as 3:
3'. Go to the shopfloor > register production from the MO card
#### > This will pick the COMP1 raw move and OP1 will disappear because of the ""ready"" filter

### Cause of the issue:

Since you manufacture in 2 steps, the state of the raw move of COMP2 is waiting even though its demand is 0 (before and after you validated the pick move for COMP1). However, only non picked moves are considered to be relevant in the computation of the reservation state of the MO: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_production.py#L613-L621 Once you pick the COMP1 move which should be the only relevant one the reservation state of the MO becomes computed solely based on the state of the COMP2 raw move and becomes ""waiting"". In turns, this triggers a recomputation of the state of the workorders and flagging it as waiting: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_workorder.py#L148-L165

opw-4383004

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196388",fw-bot,2025-02-04 20:43:35+00:00,[],2025-02-05 14:58:09+00:00,2025-02-05 14:58:09+00:00,https://github.com/odoo/odoo/pull/196508,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635031447, 'issue_id': 2831257282, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196508.png)](https://mergebot.odoo.com/odoo/odoo/pull/196508)', 'created_at': datetime.datetime(2025, 2, 4, 20, 43, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635031467, 'issue_id': 2831257282, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 43, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636114354, 'issue_id': 2831257282, 'author': 'fw-bot', 'body': ""@lase-odoo @Whenrow child PR odoo/odoo#196517 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 5, 8, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636464296, 'issue_id': 2831257282, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 25, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:43:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196508.png)](https://mergebot.odoo.com/odoo/odoo/pull/196508)

fw-bot (Issue Creator) on (2025-02-04 20:43:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 08:57:03 UTC): @lase-odoo @Whenrow child PR odoo/odoo#196517 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

lase-odoo on (2025-02-05 11:25:36 UTC): robodoo r+

"
2831256455,pull_request,closed,,[FW][FIX] l10n_es_edi_facturae: fix update from 16,"Tax account_tax_template_s_iva0_g_i was added in 17.0.
Init hook will load the data from account.tax-es_common.csv (_l10n_es_edi_facturae_post_init_hook) when upgrading from 16.0 and fail because account_tax_template_s_iva0_g_i does not exists yet.
Removing account_tax_template_s_iva0_g_i from account.tax-es_common.csv prevent the bug and l10n_es_edi_facturae_tax_type will still be set to 1 as it is the default value.

Runbot error: https://runbot.odoo.com/odoo/runbot.build.error/114680

Forward-Port-Of: odoo/odoo#196360",fw-bot,2025-02-04 20:43:16+00:00,[],2025-02-05 14:57:55+00:00,2025-02-05 14:57:55+00:00,https://github.com/odoo/odoo/pull/196507,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635030524, 'issue_id': 2831256455, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196507.png)](https://mergebot.odoo.com/odoo/odoo/pull/196507)', 'created_at': datetime.datetime(2025, 2, 4, 20, 43, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635030540, 'issue_id': 2831256455, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 43, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:43:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196507.png)](https://mergebot.odoo.com/odoo/odoo/pull/196507)

fw-bot (Issue Creator) on (2025-02-04 20:43:18 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831255573,pull_request,closed,,[FW][FIX] project_timesheet_holidays: prevent deletion of public holiday timesheets,"**Issue:**

Users are able to delete timesheets associated with public holidays, unlike regular time off requests

**Steps to Reproduce:**

   - Ensure ""Time Off"" is enabled in the Timesheet settings.
  - Time Off > Configurations > Public Holidays.
  - Create a new public holiday.
  - Timesheet > My Timesheet (list view).
  - Attempt to delete the timesheet entry corresponding to the public holiday.

The entry is deleted without any warning.

opw-4464411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195379",fw-bot,2025-02-04 20:42:56+00:00,[],2025-02-05 19:12:32+00:00,2025-02-05 19:12:32+00:00,https://github.com/odoo/odoo/pull/196506,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635029533, 'issue_id': 2831255573, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196506.png)](https://mergebot.odoo.com/odoo/odoo/pull/196506)', 'created_at': datetime.datetime(2025, 2, 4, 20, 42, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635029550, 'issue_id': 2831255573, 'author': 'fw-bot', 'body': '@st-yes @xavierbol cherrypicking of pull request odoo/odoo#195379 failed.\n\nstdout:\n```\nAuto-merging addons/project_timesheet_holidays/models/account_analytic.py\nCONFLICT (content): Merge conflict in addons/project_timesheet_holidays/models/account_analytic.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 42, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637436757, 'issue_id': 2831255573, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 16, 34, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:42:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196506.png)](https://mergebot.odoo.com/odoo/odoo/pull/196506)

fw-bot (Issue Creator) on (2025-02-04 20:42:58 UTC): @st-yes @xavierbol cherrypicking of pull request odoo/odoo#195379 failed.

stdout:
```
Auto-merging addons/project_timesheet_holidays/models/account_analytic.py
CONFLICT (content): Merge conflict in addons/project_timesheet_holidays/models/account_analytic.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-02-05 16:34:19 UTC): @robodoo r+

"
2831254535,pull_request,closed,,[FW] 17.0 recaptcha signup brvg,"Continuation of https://github.com/odoo/odoo/pull/185073

Forward-Port-Of: odoo/odoo#190196",fw-bot,2025-02-04 20:42:37+00:00,[],2025-02-06 13:44:58+00:00,2025-02-06 13:44:57+00:00,https://github.com/odoo/odoo/pull/196505,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635028490, 'issue_id': 2831254535, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196505.png)](https://mergebot.odoo.com/odoo/odoo/pull/196505)', 'created_at': datetime.datetime(2025, 2, 4, 20, 42, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635028512, 'issue_id': 2831254535, 'author': 'fw-bot', 'body': '@bram1000 @beledouxdenis cherrypicking of pull request odoo/odoo#190196 failed.\n\nstdout:\n```\nAuto-merging addons/auth_signup/i18n/auth_signup.pot\nAuto-merging addons/google_recaptcha/__manifest__.py\nAuto-merging odoo/addons/base/models/ir_http.py\nCONFLICT (content): Merge conflict in odoo/addons/base/models/ir_http.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 42, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639294062, 'issue_id': 2831254535, 'author': 'bram1000', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 38, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:42:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196505.png)](https://mergebot.odoo.com/odoo/odoo/pull/196505)

fw-bot (Issue Creator) on (2025-02-04 20:42:39 UTC): @bram1000 @beledouxdenis cherrypicking of pull request odoo/odoo#190196 failed.

stdout:
```
Auto-merging addons/auth_signup/i18n/auth_signup.pot
Auto-merging addons/google_recaptcha/__manifest__.py
Auto-merging odoo/addons/base/models/ir_http.py
CONFLICT (content): Merge conflict in odoo/addons/base/models/ir_http.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bram1000 on (2025-02-06 09:38:37 UTC): @robodoo r+

"
2831253349,pull_request,closed,,[FW][IMP] delivery: update `hs_code` field help text and pot files,"Since HS Code field is now also used in USPS connector, the help text of `hs_code` field on `product_template` needs to be updated. Also the POT file containing module titles and descriptions is updated.

Task-3759325

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196035
Forward-Port-Of: odoo/odoo#187405",fw-bot,2025-02-04 20:42:06+00:00,[],2025-02-05 14:58:18+00:00,2025-02-05 14:58:18+00:00,https://github.com/odoo/odoo/pull/196504,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635027209, 'issue_id': 2831253349, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196504.png)](https://mergebot.odoo.com/odoo/odoo/pull/196504)', 'created_at': datetime.datetime(2025, 2, 4, 20, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635027254, 'issue_id': 2831253349, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 42, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635174806, 'issue_id': 2831253349, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow the next pull request (odoo/odoo#196518) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 22, 4, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636552772, 'issue_id': 2831253349, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 8, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:42:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196504.png)](https://mergebot.odoo.com/odoo/odoo/pull/196504)

fw-bot (Issue Creator) on (2025-02-04 20:42:10 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 22:04:09 UTC): @mohammadhossam @Whenrow the next pull request (odoo/odoo#196518) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohammadhossam on (2025-02-05 12:08:33 UTC): robodoo r+

"
2831252256,pull_request,closed,,[FW][FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.

Forward-Port-Of: odoo/odoo#196389",fw-bot,2025-02-04 20:41:38+00:00,[],2025-02-05 14:58:47+00:00,2025-02-05 14:58:47+00:00,https://github.com/odoo/odoo/pull/196503,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635025777, 'issue_id': 2831252256, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196503.png)](https://mergebot.odoo.com/odoo/odoo/pull/196503)', 'created_at': datetime.datetime(2025, 2, 4, 20, 41, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635025793, 'issue_id': 2831252256, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 41, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:41:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196503.png)](https://mergebot.odoo.com/odoo/odoo/pull/196503)

fw-bot (Issue Creator) on (2025-02-04 20:41:40 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831251361,pull_request,closed,,[FW][FIX] hr_*: allow editing unapproved allocation requests,"The base.group_user did not have the access right to read overtime_id, which is necessary for filtering allocations that do not have a null overtime_id. The access right was granted to base.group_user only when the allocation state is either draft or confirm.

task-4452360

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196339
Forward-Port-Of: odoo/odoo#193797",fw-bot,2025-02-04 20:41:19+00:00,[],2025-02-05 14:58:25+00:00,2025-02-05 14:58:25+00:00,https://github.com/odoo/odoo/pull/196502,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2635025694, 'issue_id': 2831251361, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196502.png)](https://mergebot.odoo.com/odoo/odoo/pull/196502)', 'created_at': datetime.datetime(2025, 2, 4, 20, 41, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635025722, 'issue_id': 2831251361, 'author': 'fw-bot', 'body': '@ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml\nAuto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nCONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 41, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636118238, 'issue_id': 2831251361, 'author': 'tivisse', 'body': 'Hello @ataha1 \r\n\r\nOnce again, could you please solve the conflict ?\r\n\r\nThanks :)', 'created_at': datetime.datetime(2025, 2, 5, 8, 58, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636571259, 'issue_id': 2831251361, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 12, 16, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:41:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196502.png)](https://mergebot.odoo.com/odoo/odoo/pull/196502)

fw-bot (Issue Creator) on (2025-02-04 20:41:38 UTC): @ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.

stdout:
```
Auto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml
Auto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
CONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-05 08:58:57 UTC): Hello @ataha1 

Once again, could you please solve the conflict ?

Thanks :)

tivisse on (2025-02-05 12:16:38 UTC): @robodoo r+

"
2831250762,pull_request,closed,,[FW][FIX] spreadsheet_dashboard: Graphs in Mobile view aren't showed correctly,"When we display more than one chart in the mobile view, the height of the elements is being adjusted to fill 100%, which in some cases causes a size that makes it impossible to view the chart.

![image](https://github.com/user-attachments/assets/68ff7a94-dc92-484b-a96f-f843c00f6449)

To solve this, we have added a div that will encompass the chart and set a minimum height as defined in the spreadsheets, ensuring that the elements are always displayed correctly.

![image](https://github.com/user-attachments/assets/ed1fa34a-7d23-4853-b449-dcc0f95c78bd)

cc @Tecnativa TT50972

ping @chienandalu  @pedrobaeza 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196364
Forward-Port-Of: odoo/odoo#181335",fw-bot,2025-02-04 20:41:00+00:00,[],2025-02-05 11:39:14+00:00,2025-02-05 11:39:14+00:00,https://github.com/odoo/odoo/pull/196501,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2635025635, 'issue_id': 2831250762, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196501.png)](https://mergebot.odoo.com/odoo/odoo/pull/196501)', 'created_at': datetime.datetime(2025, 2, 4, 20, 41, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635025652, 'issue_id': 2831250762, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 20, 41, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:41:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196501.png)](https://mergebot.odoo.com/odoo/odoo/pull/196501)

fw-bot (Issue Creator) on (2025-02-04 20:41:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831234456,pull_request,open,,18.0,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",didier1969,2025-02-04 20:32:59+00:00,[],2025-02-04 20:33:12+00:00,,https://github.com/odoo/odoo/pull/196500,[],"[{'comment_id': 2635005168, 'issue_id': 2831234456, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196500.png)](https://mergebot.odoo.com/odoo/odoo/pull/196500)', 'created_at': datetime.datetime(2025, 2, 4, 20, 33, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 20:33:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196500.png)](https://mergebot.odoo.com/odoo/odoo/pull/196500)

"
2831148600,pull_request,closed,,[FW][FIX] account: Chart Templates translations,"Fixes a small issue when loading translations of
multiple chart templates at once.
An update to that method added a parameter with
the same name as a local variable, and the way
it has been done means that the template_data
used in each subsequent loop will always be
the ones from the first loop only, effectively
ignoring the other chart templates.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196359",fw-bot,2025-02-04 19:46:36+00:00,[],2025-02-05 13:23:21+00:00,2025-02-05 13:23:21+00:00,https://github.com/odoo/odoo/pull/196499,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634913921, 'issue_id': 2831148600, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196499.png)](https://mergebot.odoo.com/odoo/odoo/pull/196499)', 'created_at': datetime.datetime(2025, 2, 4, 19, 46, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634913946, 'issue_id': 2831148600, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 19, 46, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 19:46:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196499.png)](https://mergebot.odoo.com/odoo/odoo/pull/196499)

fw-bot (Issue Creator) on (2025-02-04 19:46:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831100883,pull_request,open,,[IMP] fields: move comodel_name to fields_relational,"The `comodel_name` attribute only makes sense in relational fields.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",MiquelRForgeFlow,2025-02-04 19:20:41+00:00,[],2025-02-04 22:51:24+00:00,,https://github.com/odoo/odoo/pull/196498,[],"[{'comment_id': 2634864658, 'issue_id': 2831100883, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196498.png)](https://mergebot.odoo.com/odoo/odoo/pull/196498)', 'created_at': datetime.datetime(2025, 2, 4, 19, 20, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 19:20:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196498.png)](https://mergebot.odoo.com/odoo/odoo/pull/196498)

"
2831056350,pull_request,open,,[FIX] stock_picking_batch: Display UoM in Batch Transfer Report,"Steps to Reproduce:

- Create a batch transfer.
- Print the batch transfer report.

Problem:
The unit of measure is not displayed next to the quantity.

Solution:
Access the unit of measure from group_uom in uom instead of move_operation.

OPW-4476534

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",qung-odoo,2025-02-04 18:58:16+00:00,[],2025-02-04 19:14:41+00:00,,https://github.com/odoo/odoo/pull/196497,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634812269, 'issue_id': 2831056350, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196497.png)](https://mergebot.odoo.com/odoo/odoo/pull/196497)', 'created_at': datetime.datetime(2025, 2, 4, 18, 58, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:58:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196497.png)](https://mergebot.odoo.com/odoo/odoo/pull/196497)

"
2831029187,pull_request,closed,,[FIX] website_sale_stock: Don't cache user_email,"`#wsale_user_email` is used to prefill the email when the product is out of stock and the user wants to receive restock notifications. When different users access the same product, the email ends up being reused which is not desirable.

Task ID: [#4471810](https://www.odoo.com/odoo/my-tasks/4471810) (vdin)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vdin-odoo,2025-02-04 18:43:53+00:00,[],2025-02-07 17:03:57+00:00,2025-02-07 17:03:57+00:00,https://github.com/odoo/odoo/pull/196496,"[('Website', '')]","[{'comment_id': 2634782631, 'issue_id': 2831029187, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196496.png)](https://mergebot.odoo.com/odoo/odoo/pull/196496)', 'created_at': datetime.datetime(2025, 2, 4, 18, 43, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635059121, 'issue_id': 2831029187, 'author': 'vdin-odoo', 'body': ""@Guillaume-gdi No I only pushed it to my fork, as I assume I don't have access to odoo-dev."", 'created_at': datetime.datetime(2025, 2, 4, 20, 57, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642590622, 'issue_id': 2831029187, 'author': 'robodoo', 'body': ""Forward-porting to '17.0'."", 'created_at': datetime.datetime(2025, 2, 7, 10, 57, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643239508, 'issue_id': 2831029187, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 24, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:43:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196496.png)](https://mergebot.odoo.com/odoo/odoo/pull/196496)

vdin-odoo (Issue Creator) on (2025-02-04 20:57:06 UTC): @Guillaume-gdi No I only pushed it to my fork, as I assume I don't have access to odoo-dev.

robodoo on (2025-02-07 10:57:45 UTC): Forward-porting to '17.0'.

Feyensv on (2025-02-07 15:24:24 UTC): @robodoo r+

"
2831015043,pull_request,closed,,[FW][FIX] account: Chart Templates translations,"Fixes a small issue when loading translations of
multiple chart templates at once.
An update to that method added a parameter with
the same name as a local variable, and the way
it has been done means that the template_data
used in each subsequent loop will always be
the ones from the first loop only, effectively
ignoring the other chart templates.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196359",fw-bot,2025-02-04 18:36:14+00:00,[],2025-02-05 14:58:00+00:00,2025-02-05 14:57:59+00:00,https://github.com/odoo/odoo/pull/196495,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634767723, 'issue_id': 2831015043, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196495.png)](https://mergebot.odoo.com/odoo/odoo/pull/196495)', 'created_at': datetime.datetime(2025, 2, 4, 18, 36, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634767746, 'issue_id': 2831015043, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 18, 36, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:36:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196495.png)](https://mergebot.odoo.com/odoo/odoo/pull/196495)

fw-bot (Issue Creator) on (2025-02-04 18:36:16 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2831013388,pull_request,open,,[IMP] core: autogenerate one2many (and inverted many2many),"Sometimes you need a one2many field for some new check, but the one2many is missing. In this case, you have two options:

- Do a PR to Odoo to explictly add the field.
- Do a search (which is ugly perfomance-wise, as the check is usually inside a loop).

To avoid this hassle, this commit assures that for each many2one, a hidden one2many is created. Thus, you will always have the one2many at your disposal and don't miss it anymore. Same for many2manys.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr",MiquelRForgeFlow,2025-02-04 18:35:24+00:00,[],2025-02-04 20:32:17+00:00,,https://github.com/odoo/odoo/pull/196494,[],"[{'comment_id': 2634766099, 'issue_id': 2831013388, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196494.png)](https://mergebot.odoo.com/odoo/odoo/pull/196494)', 'created_at': datetime.datetime(2025, 2, 4, 18, 35, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:35:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196494.png)](https://mergebot.odoo.com/odoo/odoo/pull/196494)

"
2830990494,pull_request,open,,[IMP] website_sale: clarify product snippet filter,"The ""Recently Viewed Products"" filter was previously unclear, confusing users as it didn't distinguish between a ""per user"" and global basis. To address this, it's been renamed to ""Recently Viewed Products (per user)"""" to clarify its functionality.

When using the ""Recently Viewed Products (per user)"" filter, users must remain on a product page for a few seconds before the product appears in the filter block. This could lead to confusion about how the block functions. To improve user comprehension, a tooltip is added to provide an explanation of the criteria for products to be shown in this filter block.


task-3916458

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lipiraux,2025-02-04 18:23:13+00:00,[],2025-02-06 19:42:11+00:00,,https://github.com/odoo/odoo/pull/196493,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634741805, 'issue_id': 2830990494, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196493.png)](https://mergebot.odoo.com/odoo/odoo/pull/196493)', 'created_at': datetime.datetime(2025, 2, 4, 18, 23, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:23:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196493.png)](https://mergebot.odoo.com/odoo/odoo/pull/196493)

"
2830985533,pull_request,closed,,[FIX] orm: fix _load_records,"the return value of _load_records is defined as

:return: the records corresponding to ``data_list``

which means the

len(_load_records(data_list, ..)) == len(data_list)

while in some corner cases it is not satisfied

=========================================================

This 1st commit is the first approach to fix the problem (check diff for the first commit)

since during `_load_records`, each `data` in `data_list` is modified with key 'records' (fixed: in some corner cases, data['records'] won't be assigned and may case KeyError when return). I think it is OK to add one more key 'state'/'modified' in the data as a hack to identify data for new created records.

I personaly think the name `ignore_duplicates` is quite confusing. My gut feeling is either during or after `_load_records` there will be duplicated records or xml_Ids and they are acceptable for sake of `ignore`. But I haven't found a better name.

=========================================================

The 2nd commit is the second approach to fix the problem (check diff for the whole PR)

This approach uses one extra query per model in `_load_data` for account
to filter out data for existing records before `_load_records` to avoid
modifying `base`.

NOTE: previously `ignore_duplicate` won't update existing records but can update
their xml_ids, not sure if it is a side-effect or designed feature.


Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",HydrionBurst,2025-02-04 18:20:33+00:00,[],2025-02-07 14:26:25+00:00,2025-02-07 14:26:24+00:00,https://github.com/odoo/odoo/pull/196492,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634736412, 'issue_id': 2830985533, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196492.png)](https://mergebot.odoo.com/odoo/odoo/pull/196492)', 'created_at': datetime.datetime(2025, 2, 4, 18, 20, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636587773, 'issue_id': 2830985533, 'author': 'HydrionBurst', 'body': ""There are 2 commits for 2 different strategies\r\n1. check the diff for the first commit for the first strategy\r\n2. check the diff for the whole PR for the second strategy\r\n\r\nI think our current use cases won't trigger tricky behavior of the current `_load_records`, so this PR can target to master\r\n\r\n@qdp-odoo Can I get some opinions?"", 'created_at': datetime.datetime(2025, 2, 5, 12, 24, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640195779, 'issue_id': 2830985533, 'author': 'qdp-odoo', 'body': ""@HydrionBurst well...I'm very curious how someone found out this had to be fixed :thinking:  But the first thing to say is that we probably don't need `ignore_duplicates`, in our beloved accounting app.\r\n\r\nI suppose if there's no one else using that feature of the orm, you could just go for the 2nd approach, but without the check for duplicates in `account`."", 'created_at': datetime.datetime(2025, 2, 6, 15, 45, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642346471, 'issue_id': 2830985533, 'author': 'HydrionBurst', 'body': ""@qdp-odoo \r\nI came across this issue while revisiting the `noupdate` logic and attempting to summarize its functionality. The term `ignore_duplicates` initially gave me the impression that it might be conceptually similar to `noupdate`. However, upon reviewing the code, I noticed that the changes alter the meaning of the return value without updating the corresponding comments. Specifically, the old code employs a somewhat unconventional approach: `return original_self.concat(*(data['record'] for data in data_list))`, which is designed to avoid deduplication and preserve the order of returned records. This makes me question whether the `ignore_duplicates` flag might introduce unintended complexity or make the API less intuitive to use in the future.\r\n\r\nThe current code works for our use cases, so we may not need a FIX for stable versions. However, if `ignore_duplicates` is reused in the future (e.g., `zip(data_list, model._load_records(data_list, ignore_duplicates=True)))`, the results may be unpredictable\r\n\r\ncc @rco-odoo \r\nWhat do you think?"", 'created_at': datetime.datetime(2025, 2, 7, 9, 7, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642381160, 'issue_id': 2830985533, 'author': 'hsal-odoo', 'body': ""@HydrionBurst The flag was introduced to serve a very specific case in `l10n_fr_fec_import` module. We'll move it out of the ORM in task-4556286. This should be done in master then?"", 'created_at': datetime.datetime(2025, 2, 7, 9, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643081699, 'issue_id': 2830985533, 'author': 'HydrionBurst', 'body': 'we choose the second approach and target the diff to master\r\nmove to https://github.com/odoo/odoo/pull/196985', 'created_at': datetime.datetime(2025, 2, 7, 14, 26, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:20:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196492.png)](https://mergebot.odoo.com/odoo/odoo/pull/196492)

HydrionBurst (Issue Creator) on (2025-02-05 12:24:16 UTC): There are 2 commits for 2 different strategies
1. check the diff for the first commit for the first strategy
2. check the diff for the whole PR for the second strategy

I think our current use cases won't trigger tricky behavior of the current `_load_records`, so this PR can target to master

@qdp-odoo Can I get some opinions?

qdp-odoo on (2025-02-06 15:45:43 UTC): @HydrionBurst well...I'm very curious how someone found out this had to be fixed :thinking:  But the first thing to say is that we probably don't need `ignore_duplicates`, in our beloved accounting app.

I suppose if there's no one else using that feature of the orm, you could just go for the 2nd approach, but without the check for duplicates in `account`.

HydrionBurst (Issue Creator) on (2025-02-07 09:07:05 UTC): @qdp-odoo 
I came across this issue while revisiting the `noupdate` logic and attempting to summarize its functionality. The term `ignore_duplicates` initially gave me the impression that it might be conceptually similar to `noupdate`. However, upon reviewing the code, I noticed that the changes alter the meaning of the return value without updating the corresponding comments. Specifically, the old code employs a somewhat unconventional approach: `return original_self.concat(*(data['record'] for data in data_list))`, which is designed to avoid deduplication and preserve the order of returned records. This makes me question whether the `ignore_duplicates` flag might introduce unintended complexity or make the API less intuitive to use in the future.

The current code works for our use cases, so we may not need a FIX for stable versions. However, if `ignore_duplicates` is reused in the future (e.g., `zip(data_list, model._load_records(data_list, ignore_duplicates=True)))`, the results may be unpredictable

cc @rco-odoo 
What do you think?

hsal-odoo on (2025-02-07 09:18:10 UTC): @HydrionBurst The flag was introduced to serve a very specific case in `l10n_fr_fec_import` module. We'll move it out of the ORM in task-4556286. This should be done in master then?

HydrionBurst (Issue Creator) on (2025-02-07 14:26:24 UTC): we choose the second approach and target the diff to master
move to https://github.com/odoo/odoo/pull/196985

"
2830983452,pull_request,open,,"[FW][FIX] purchase_stock,stock_account: no exch. diff. if future correction AMLs","**Current behavior:**
With Anglo-Saxon accounting, for some tracked product, with FIFO and real-time valuation:

Making a purchase order in some foreign currency, having some exchange rate for today, receiving the product, then dating the vendor bill to some future date with a different exchange rate will result in exchange difference journal entries when the bill is posted.

**Expected behavior:**
We shouldn't see exchange difference entries, as there are pending corrective valuation entries which have simply not been posted yet.

Reconciliation should be deferred until these moves are no longer in draft.

**Steps to reproduce:**
1. Activate another currency, define some rate for today and another (different) rate for tomorrow

2. Create a product with FIFO and real-time costing & valuation

3. Create an initial purchase for the product, receive then bill normally

4. Create another purchase order and receive the product

5. Create the invoice, set the invoie date for tomorrow

6. Post the invoice -> Open the `Exchange Difference` journal to see the entries which should not have been generated

**Cause of the issue:**
After creating the AMLs which represent the difference in reception/bill unit price of the product, they are caught here: https://github.com/odoo/odoo/blob/971400771a31c05641a8672f6b1d85afaa9c4a19/addons/account/models/account_move.py#L3575 and designated as future moves, not to be posted at this time.

At the end of the `_post()` stack: https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L229 where there would normally be some `correction_amls`, they weren't created here because the AMLs for the price diff were not posted- so the price diff entry is generated.

**Fix:**
Wait for pending (`state == 'draft'`) AMLs that are part of some `AccountMove`'s valuation to be no longer in draft before allowing reconciliation with a currency exchange difference.

opw-4266652

Forward-Port-Of: odoo/odoo#196140
Forward-Port-Of: odoo/odoo#193971",fw-bot,2025-02-04 18:19:22+00:00,[],2025-02-07 08:14:03+00:00,,https://github.com/odoo/odoo/pull/196491,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634734078, 'issue_id': 2830983452, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196491.png)](https://mergebot.odoo.com/odoo/odoo/pull/196491)', 'created_at': datetime.datetime(2025, 2, 4, 18, 19, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634734093, 'issue_id': 2830983452, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196484\n* odoo/odoo#196469\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 18, 19, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634823482, 'issue_id': 2830983452, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 19, 4, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639991150, 'issue_id': 2830983452, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 6, 14, 31, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:19:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196491.png)](https://mergebot.odoo.com/odoo/odoo/pull/196491)

fw-bot (Issue Creator) on (2025-02-04 18:19:24 UTC): @ethanrobv @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196484
* odoo/odoo#196469

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 19:04:04 UTC): @ethanrobv @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 14:31:35 UTC): @ethanrobv @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2830966335,pull_request,closed,,[FW][IMP] hr_recruitment: change some demo emails,"Change questionable emails for 2 users.

Make new demo CV for them as well because we only had the
binary pdfs.
Raw latex can be found at (google drive):
* https://drive.google.com/file/d/1AyRguPcTRrt_7ySXAYE3L9TP4mHnwMNs/view?usp=drive_link
* https://drive.google.com/file/d/1e-2JlO3hEbaf6haFTF5TdCy6kx73xOgX/view?usp=drive_link

task-4507003

Forward-Port-Of: odoo/odoo#196375
Forward-Port-Of: odoo/odoo#194804",fw-bot,2025-02-04 18:11:57+00:00,[],2025-02-05 10:56:20+00:00,2025-02-05 10:56:20+00:00,https://github.com/odoo/odoo/pull/196490,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2634717206, 'issue_id': 2830966335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196490.png)](https://mergebot.odoo.com/odoo/odoo/pull/196490)', 'created_at': datetime.datetime(2025, 2, 4, 18, 11, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634717223, 'issue_id': 2830966335, 'author': 'fw-bot', 'body': '@naja628 @tivisse this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196483\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 18, 11, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636116527, 'issue_id': 2830966335, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 58, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:11:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196490.png)](https://mergebot.odoo.com/odoo/odoo/pull/196490)

fw-bot (Issue Creator) on (2025-02-04 18:11:59 UTC): @naja628 @tivisse this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196483

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-05 08:58:08 UTC): @robodoo r+

"
2830962483,pull_request,closed,,"[FW][IMP] hw_posbox_homepage,hw_drivers: add qr codes","This PR adds a possibility to easily use smartphone QR codes scanning feature to configure their IoT Boxes

It adds QR codes to the hdmi connected screen which will help the user to connect their IoT Boxes / configure wifi / reach their IoT Box homepage

3 possible scenarios are covered:

**1. The IoT Box is connected to a wifi network**
- 1st QR code is displayed which, when scanned connects the user to the same wifi network as the IoT Box
- 2nd QR code is displayed which, when scanned redirects users to the IoT Box homepage
![image](https://github.com/user-attachments/assets/b46694ee-fe60-4128-b0ab-7caf1bb8c324)

**2. The IoT Box is connected to internet with ethernet cable**
- Since we don't have access to the network's ssid /password in this case, we only display one QR code which redirects to the IoT Box homepage along with a message ""Connect to the IoT Box network""
![image](https://github.com/user-attachments/assets/1f0dbcee-7d08-4c02-901b-c8cc359aa31a)

**3. The IoT Box is in access mode and has no internet connection**
- 1st QR code is displayed which, when scanned connects the user to the IoT Box access point wifi
- 2nd QR code is displayed which, when scanned redirects user to `10.11.12.1` access point homepage / wifi configuration page (this is needed as on the smartphones you don't necessarily get the the popup which offers you to open ""10.11.12.1"" page
![image](https://github.com/user-attachments/assets/7cb262d8-67ec-4fd0-ad83-c2e41d8d0c16)

task-4536759

Forward-Port-Of: odoo/odoo#196029",fw-bot,2025-02-04 18:09:56+00:00,[],2025-02-05 08:07:42+00:00,2025-02-05 08:07:42+00:00,https://github.com/odoo/odoo/pull/196489,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2634713116, 'issue_id': 2830962483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196489.png)](https://mergebot.odoo.com/odoo/odoo/pull/196489)', 'created_at': datetime.datetime(2025, 2, 4, 18, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634713136, 'issue_id': 2830962483, 'author': 'fw-bot', 'body': '@Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 18, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635754499, 'issue_id': 2830962483, 'author': 'qle-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 5, 44, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 18:09:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196489.png)](https://mergebot.odoo.com/odoo/odoo/pull/196489)

fw-bot (Issue Creator) on (2025-02-04 18:09:57 UTC): @Ysoroko @qle-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

qle-odoo on (2025-02-05 05:44:20 UTC): @robodoo r+

"
2830906581,pull_request,closed,,[FW][FIX] ressource: move @mail dependency in ressource_mail module,"Before this commit:
 1. Install `ressource` module
 2. In debug, open ""Run unit tests"" debug menu
 3. Error pop-up: 
```js
Global Error: stack trace available in the console
Missing dependencies: @mail/../tests/mail_test_helpers
```

After this commit:
 No error and units tests can proceed

Related runbot task: https://runbot.odoo.com/odoo/runbot.build.error/72187

Forward-Port-Of: odoo/odoo#195824",fw-bot,2025-02-04 17:45:01+00:00,[],2025-02-05 13:23:26+00:00,2025-02-05 13:23:25+00:00,https://github.com/odoo/odoo/pull/196488,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634657464, 'issue_id': 2830906581, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196488.png)](https://mergebot.odoo.com/odoo/odoo/pull/196488)', 'created_at': datetime.datetime(2025, 2, 4, 17, 45, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634657486, 'issue_id': 2830906581, 'author': 'fw-bot', 'body': '@lse-odoo @seb-odoo cherrypicking of pull request odoo/odoo#195824 failed.\n\nstdout:\n```\nAuto-merging addons/resource_mail/static/tests/many2many_avatar_resource.test.js\nCONFLICT (content): Merge conflict in addons/resource_mail/static/tests/many2many_avatar_resource.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 17, 45, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636090510, 'issue_id': 2830906581, 'author': 'lse-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 45, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 17:45:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196488.png)](https://mergebot.odoo.com/odoo/odoo/pull/196488)

fw-bot (Issue Creator) on (2025-02-04 17:45:03 UTC): @lse-odoo @seb-odoo cherrypicking of pull request odoo/odoo#195824 failed.

stdout:
```
Auto-merging addons/resource_mail/static/tests/many2many_avatar_resource.test.js
CONFLICT (content): Merge conflict in addons/resource_mail/static/tests/many2many_avatar_resource.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lse-odoo on (2025-02-05 08:45:45 UTC): @robodoo r+

"
2830867687,pull_request,closed,,[FW][FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994

Forward-Port-Of: odoo/odoo#196333",fw-bot,2025-02-04 17:25:29+00:00,[],2025-02-05 14:13:45+00:00,2025-02-05 14:13:45+00:00,https://github.com/odoo/odoo/pull/196487,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634615074, 'issue_id': 2830867687, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196487.png)](https://mergebot.odoo.com/odoo/odoo/pull/196487)', 'created_at': datetime.datetime(2025, 2, 4, 17, 25, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634615096, 'issue_id': 2830867687, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#196333 failed.\n\nstdout:\n```\nAuto-merging addons/stock_picking_batch/i18n/stock_picking_batch.pot\nCONFLICT (content): Merge conflict in addons/stock_picking_batch/i18n/stock_picking_batch.pot\nAuto-merging addons/stock_picking_batch/models/stock_picking.py\nCONFLICT (content): Merge conflict in addons/stock_picking_batch/models/stock_picking.py\nAuto-merging addons/stock_picking_batch/models/stock_picking_batch.py\nAuto-merging addons/stock_picking_batch/tests/test_batch_picking.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 17, 25, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636502697, 'issue_id': 2830867687, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 44, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 17:25:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196487.png)](https://mergebot.odoo.com/odoo/odoo/pull/196487)

fw-bot (Issue Creator) on (2025-02-04 17:25:31 UTC): @DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#196333 failed.

stdout:
```
Auto-merging addons/stock_picking_batch/i18n/stock_picking_batch.pot
CONFLICT (content): Merge conflict in addons/stock_picking_batch/i18n/stock_picking_batch.pot
Auto-merging addons/stock_picking_batch/models/stock_picking.py
CONFLICT (content): Merge conflict in addons/stock_picking_batch/models/stock_picking.py
Auto-merging addons/stock_picking_batch/models/stock_picking_batch.py
Auto-merging addons/stock_picking_batch/tests/test_batch_picking.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-05 11:44:47 UTC): robodoo r+

"
2830867022,pull_request,closed,,[FW][FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535

Forward-Port-Of: odoo/odoo#196433",fw-bot,2025-02-04 17:25:09+00:00,[],2025-02-05 15:34:05+00:00,2025-02-05 15:34:04+00:00,https://github.com/odoo/odoo/pull/196486,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634614394, 'issue_id': 2830867022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196486.png)](https://mergebot.odoo.com/odoo/odoo/pull/196486)', 'created_at': datetime.datetime(2025, 2, 4, 17, 25, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634614424, 'issue_id': 2830867022, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#196433 failed.\n\nstdout:\n```\nAuto-merging addons/website/static/src/js/editor/snippets.options.js\nCONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 17, 25, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636851501, 'issue_id': 2830867022, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 26, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 17:25:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196486.png)](https://mergebot.odoo.com/odoo/odoo/pull/196486)

fw-bot (Issue Creator) on (2025-02-04 17:25:11 UTC): @bvr-odoo @SergeBayet cherrypicking of pull request odoo/odoo#196433 failed.

stdout:
```
Auto-merging addons/website/static/src/js/editor/snippets.options.js
CONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-05 13:26:03 UTC): @robodoo r+

"
2830863161,pull_request,open,,[FW][FIX] point_of_sale: fix crash with problematic chars in htmlToCanvas,"__Current behavior before commit:__
Sometimes when a Worldline terminal makes a payment with Edenred or Sodexo, it creates a ticket with special ascii characters like `0x0E` that are not supposed to be printed. Some of those characters make the [`createImage`][1] method throw an error with the `onerror` Event.

__Description of the fix:__
Added the `sanitizeNodeText` function to remove all problematic ascii characters that should not be printed anyway.
Added a test to make sure `htmlToCanvas` can handle all ascii characters without crashing.

opw-4322339

[1]:https://github.com/odoo/odoo/blob/a98e802976f6798f3aea07231a366fbcd8002ce2/addons/point_of_sale/static/src/app/utils/html-to-image.js#L217

Forward-Port-Of: odoo/odoo#195004",fw-bot,2025-02-04 17:23:10+00:00,[],2025-02-05 09:18:52+00:00,,https://github.com/odoo/odoo/pull/196485,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634610093, 'issue_id': 2830863161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196485.png)](https://mergebot.odoo.com/odoo/odoo/pull/196485)', 'created_at': datetime.datetime(2025, 2, 4, 17, 23, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634610115, 'issue_id': 2830863161, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 17, 23, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634620935, 'issue_id': 2830863161, 'author': 'fw-bot', 'body': '@Dj0ulo @vlst-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 17, 28, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636158529, 'issue_id': 2830863161, 'author': 'fw-bot', 'body': '@Dj0ulo @vlst-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 9, 14, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 17:23:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196485.png)](https://mergebot.odoo.com/odoo/odoo/pull/196485)

fw-bot (Issue Creator) on (2025-02-04 17:23:12 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 17:28:15 UTC): @Dj0ulo @vlst-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 09:14:39 UTC): @Dj0ulo @vlst-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2830840022,pull_request,closed,,"[FW][FIX] purchase_stock,stock_account: no exch. diff. if future correction AMLs","**Current behavior:**
With Anglo-Saxon accounting, for some tracked product, with FIFO and real-time valuation:

Making a purchase order in some foreign currency, having some exchange rate for today, receiving the product, then dating the vendor bill to some future date with a different exchange rate will result in exchange difference journal entries when the bill is posted.

**Expected behavior:**
We shouldn't see exchange difference entries, as there are pending corrective valuation entries which have simply not been posted yet.

Reconciliation should be deferred until these moves are no longer in draft.

**Steps to reproduce:**
1. Activate another currency, define some rate for today and another (different) rate for tomorrow

2. Create a product with FIFO and real-time costing & valuation

3. Create an initial purchase for the product, receive then bill normally

4. Create another purchase order and receive the product

5. Create the invoice, set the invoie date for tomorrow

6. Post the invoice -> Open the `Exchange Difference` journal to see the entries which should not have been generated

**Cause of the issue:**
After creating the AMLs which represent the difference in reception/bill unit price of the product, they are caught here: https://github.com/odoo/odoo/blob/971400771a31c05641a8672f6b1d85afaa9c4a19/addons/account/models/account_move.py#L3575 and designated as future moves, not to be posted at this time.

At the end of the `_post()` stack: https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L229 where there would normally be some `correction_amls`, they weren't created here because the AMLs for the price diff were not posted- so the price diff entry is generated.

**Fix:**
Wait for pending (`state == 'draft'`) AMLs that are part of some `AccountMove`'s valuation to be no longer in draft before allowing reconciliation with a currency exchange difference.

opw-4266652

Forward-Port-Of: odoo/odoo#196140
Forward-Port-Of: odoo/odoo#193971",fw-bot,2025-02-04 17:11:41+00:00,[],2025-02-06 17:09:23+00:00,2025-02-06 17:09:23+00:00,https://github.com/odoo/odoo/pull/196484,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634582887, 'issue_id': 2830840022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196484.png)](https://mergebot.odoo.com/odoo/odoo/pull/196484)', 'created_at': datetime.datetime(2025, 2, 4, 17, 11, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634582918, 'issue_id': 2830840022, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 17, 11, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639987335, 'issue_id': 2830840022, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 14, 30, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639991227, 'issue_id': 2830840022, 'author': 'fw-bot', 'body': ""@ethanrobv @Whenrow child PR odoo/odoo#196491 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 6, 14, 31, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 17:11:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196484.png)](https://mergebot.odoo.com/odoo/odoo/pull/196484)

fw-bot (Issue Creator) on (2025-02-04 17:11:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-02-06 14:30:09 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-02-06 14:31:37 UTC): @ethanrobv @Whenrow child PR odoo/odoo#196491 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2830828110,pull_request,closed,,[FW][IMP] hr_recruitment: change some demo emails,"Change questionable emails for 2 users.

Make new demo CV for them as well because we only had the
binary pdfs.
Raw latex can be found at (google drive):
* https://drive.google.com/file/d/1AyRguPcTRrt_7ySXAYE3L9TP4mHnwMNs/view?usp=drive_link
* https://drive.google.com/file/d/1e-2JlO3hEbaf6haFTF5TdCy6kx73xOgX/view?usp=drive_link

task-4507003

Forward-Port-Of: odoo/odoo#196375
Forward-Port-Of: odoo/odoo#194804",fw-bot,2025-02-04 17:05:40+00:00,[],2025-02-05 12:04:03+00:00,2025-02-05 12:04:02+00:00,https://github.com/odoo/odoo/pull/196483,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634569005, 'issue_id': 2830828110, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196483.png)](https://mergebot.odoo.com/odoo/odoo/pull/196483)', 'created_at': datetime.datetime(2025, 2, 4, 17, 5, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634569022, 'issue_id': 2830828110, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 17, 5, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 17:05:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196483.png)](https://mergebot.odoo.com/odoo/odoo/pull/196483)

fw-bot (Issue Creator) on (2025-02-04 17:05:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2830794157,pull_request,closed,,[FW][FIX] mrp: correct color logic for consumed quantities' display,"**Steps to reproduce:**
- Create a storable product `P1` with the following BoM:
    - Qty: 1 unit
    - Components:
        - C1, C2, C3: 3 units
- Create a MO to produce one unit of `P1`;
  - Confirm the order;
  - Update the product's `Quantity` to 1 at least;
    *The quantities of `To Consume` and `Quantity` columns in the `Components` tab of the notebook are automatically set to 3.*
- Update the field `Quantity` of components to:
    - **C1**: 1 unit
    - **C2**: 3 units
    - **C3**: 4 units

___
**Issue:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less than the <ins>total needed</ins> value &rarr; highlights in green;
- **C2**: equal to the value &rarr; highlights in black;
- **C3**: higher than the value &rarr; highlights in orange.

![Capture d’écran 2024-12-30 à 17 49 56](https://github.com/user-attachments/assets/e4fe7488-de04-4749-9930-85f11f71532a)

___
**Expected:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less -> black;
- **C2**: equal -> green;
- **C3**: higher -> orange.

___
**Cause:**
Text decorations are based on a wrong logic by getting the quantities from wrong field. This field has been changed during an apocalypse.
https://github.com/odoo/odoo/blob/c43297435cfcaf560d5c952ac3c4a383a6f1dc28/addons/mrp/views/mrp_production_views.xml#L405-L406

___
**Fix:**
Reset good field to check quantities, inspired by Odoo 16 using the computed `should_consume_qty` value to check the consumption status:
https://github.com/odoo/odoo/blob/67c78b38e794333eae55758ad4610515df5c49d2/addons/mrp/views/mrp_production_views.xml#L342-L343

![Capture d’écran 2024-12-30 à 17 49 26](https://github.com/user-attachments/assets/f30bd7fc-0140-4c16-abaf-540f4c1bc12d)

___
**Forward:**
To forward up to master.
Odoo 17 :
```
<field name=""quantity"" string=""Quantity""
    decoration-success=""product_uom_qty - quantity &gt; -0.0001 and product_uom_qty - quantity &lt; 0.0001""
    decoration-warning=""quantity - product_uom_qty &gt; 0.0001""

```

___
opw-4393156
opw-4391582
opw-4391600

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196291
Forward-Port-Of: odoo/odoo#190162",fw-bot,2025-02-04 16:49:43+00:00,[],2025-02-05 02:37:54+00:00,2025-02-05 02:37:54+00:00,https://github.com/odoo/odoo/pull/196482,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2634530692, 'issue_id': 2830794157, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196482.png)](https://mergebot.odoo.com/odoo/odoo/pull/196482)', 'created_at': datetime.datetime(2025, 2, 4, 16, 49, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634530723, 'issue_id': 2830794157, 'author': 'fw-bot', 'body': '@barracudapps @clesgow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196462\n* odoo/odoo#196429\n* odoo/odoo#196411\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 16, 49, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635094741, 'issue_id': 2830794157, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 21, 16, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:49:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196482.png)](https://mergebot.odoo.com/odoo/odoo/pull/196482)

fw-bot (Issue Creator) on (2025-02-04 16:49:45 UTC): @barracudapps @clesgow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196462
* odoo/odoo#196429
* odoo/odoo#196411

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-02-04 21:16:13 UTC): @robodoo r+

"
2830790779,pull_request,closed,,[FW][IMP] html_editor: implement baseContainer,"This PR's purpose is to allow certain `div` elements to be handled by the
editor with the features commonly used inside `p` elements.
It is also comprised of a series of fixes and improvements related to
that change, see each commit for more details. Notable changes:
- Fix some behaviors of the DomPlugin `insert` function
- Update how Signature is handled in mail html fields
- Update how qweb fields are handled in the Report editor
- Introduce usage of `div` elements (baseContainer)

Eligible `div` elements will automatically inherit these features as soon as
they met the requirements during the `normalization` phase.

For the user, this means that there are now 2 options for the ""base container"",
the `div` which does not have a margin-bottom and the `p` which does have one.
`div` will be used as the default in most cases, and `p` will be used as the
default for `knowledge` (and probably `website` when it starts using the
html_editor).

The features around paragraphs are some of the most well defined in the
editor, and with this commit, there are now more ways to fall back on the ""right
track"" (meaning that user interactions will more likely result in something they
want, rather than not). Most notably, prior to this commit, adding new lines
with `enter` starting from a `div` with one line, then applying an editor
command, would result in the command applying on every line. Now, since the
`div` behaves like a paragraph, adding new lines will create a new editor
context for each line (another `div`), meaning that any command will only apply
to that context.

Technically, this commit introduces a generalization of the concept for
`baseContainer`, meaning that it will be easier to introduce new forms that will
inherit the related editor features.

There are still some limitations:
Some `div` elements will keep their `unsplittable` properties if they contain
HTML elements that are not compatible with a `p` (non-phrasing content), because
any `baseContainer` should be convertible between all equivalent forms.
To avoid such limitations, one solution could be to only work with `div`
elements (and never use paragraph related elements like `p`, `h1`, etc.), which
would be less explicit, but would allow more flexibility.

task-4260398
and
task-4294440

Forward-Port-Of: odoo/odoo#196384
Forward-Port-Of: odoo/odoo#185340",fw-bot,2025-02-04 16:48:11+00:00,[],2025-02-05 15:20:03+00:00,2025-02-05 15:20:03+00:00,https://github.com/odoo/odoo/pull/196481,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2634527027, 'issue_id': 2830790779, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196481.png)](https://mergebot.odoo.com/odoo/odoo/pull/196481)', 'created_at': datetime.datetime(2025, 2, 4, 16, 48, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634527084, 'issue_id': 2830790779, 'author': 'fw-bot', 'body': '@abd-msyukyu-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#185340 failed.\n\n* 630b02efe7357669c085b2bc2e22ae15c2449be7\n* 23dd4f4a8fbe7cdfa55126392826dd390845ee2e\n* f88f77ed810f095012ba89118e2a70d5031f0151\n* cda7c620433d8b4b3db27d3d08063c64547b1448\n* ccbb4fbf667f76bce51690e39a80b875fc1010c9\n* bb65d320d161d17f3e059d3232b4f54725af0b43\n* f4eb3a1b1595db38d92cdca804514e6494d0c5d5\n* 01780ad7b96a1b5903307e0fd2c5d3219fdd9b2a\n* db3b3ff2fb6692e7399dd316e091c08146c64a9e\n* 6bf49aa6a5634b2c0dd82f62e1d0f6134c25a2c3\n* e0cd06bfa45430d7e12ec0905c0a98d6601d73f5 <- on this commit\n* 227ebb406d010307d31376fda27c8ff93a161f36\n* 6041e90c4c95a1bbd2ff2f072fda8d1608cd73d4\n* 5c0379b41635ee3b834ce7f67ef47e2c09dc8c84\n* 9f4bbacb3504afb7f365c64cadd78f1844d7123b\n* 02bbf0d31bf4ea3867bd1b67e44e31169aed9847\n* 67116c0252bae9a93d56916026dbab5eadcb004d\n* 44d910852efc03428f004ef98201b5ad8598e07d\n\nstdout:\n```\nAuto-merging addons/html_editor/static/src/core/dom_plugin.js\nAuto-merging addons/html_editor/static/src/core/history_plugin.js\nAuto-merging addons/html_editor/static/src/main/list/list_plugin.js\nCONFLICT (content): Merge conflict in addons/html_editor/static/src/main/list/list_plugin.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 16, 48, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634625323, 'issue_id': 2830790779, 'author': 'abd-msyukyu-odoo', 'body': ""@dmo-odoo Hello, like discussed, I removed `setTagName`, and the entire `list.js` file (deprecated utils), I think that's all for the modifications in master ? \r\n\r\nLike before, I probably need the security CI override :)\r\n\r\nCheers!"", 'created_at': datetime.datetime(2025, 2, 4, 17, 30, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634835920, 'issue_id': 2830790779, 'author': 'abd-msyukyu-odoo', 'body': ""@dmo-odoo Actually let's wait a bit tomorrow before `r+`, I have something to confirm with Luc :)"", 'created_at': datetime.datetime(2025, 2, 4, 19, 10, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636626788, 'issue_id': 2830790779, 'author': 'dmo-odoo', 'body': '@robodoo override=ci/security rebase-merge r+\r\nReason: See original PR.', 'created_at': datetime.datetime(2025, 2, 5, 12, 34, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636627225, 'issue_id': 2830790779, 'author': 'robodoo', 'body': 'Merge method set to rebase and merge, using the PR as merge commit message.', 'created_at': datetime.datetime(2025, 2, 5, 12, 34, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:48:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196481.png)](https://mergebot.odoo.com/odoo/odoo/pull/196481)

fw-bot (Issue Creator) on (2025-02-04 16:48:15 UTC): @abd-msyukyu-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#185340 failed.

* 630b02efe7357669c085b2bc2e22ae15c2449be7
* 23dd4f4a8fbe7cdfa55126392826dd390845ee2e
* f88f77ed810f095012ba89118e2a70d5031f0151
* cda7c620433d8b4b3db27d3d08063c64547b1448
* ccbb4fbf667f76bce51690e39a80b875fc1010c9
* bb65d320d161d17f3e059d3232b4f54725af0b43
* f4eb3a1b1595db38d92cdca804514e6494d0c5d5
* 01780ad7b96a1b5903307e0fd2c5d3219fdd9b2a
* db3b3ff2fb6692e7399dd316e091c08146c64a9e
* 6bf49aa6a5634b2c0dd82f62e1d0f6134c25a2c3
* e0cd06bfa45430d7e12ec0905c0a98d6601d73f5 <- on this commit
* 227ebb406d010307d31376fda27c8ff93a161f36
* 6041e90c4c95a1bbd2ff2f072fda8d1608cd73d4
* 5c0379b41635ee3b834ce7f67ef47e2c09dc8c84
* 9f4bbacb3504afb7f365c64cadd78f1844d7123b
* 02bbf0d31bf4ea3867bd1b67e44e31169aed9847
* 67116c0252bae9a93d56916026dbab5eadcb004d
* 44d910852efc03428f004ef98201b5ad8598e07d

stdout:
```
Auto-merging addons/html_editor/static/src/core/dom_plugin.js
Auto-merging addons/html_editor/static/src/core/history_plugin.js
Auto-merging addons/html_editor/static/src/main/list/list_plugin.js
CONFLICT (content): Merge conflict in addons/html_editor/static/src/main/list/list_plugin.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abd-msyukyu-odoo on (2025-02-04 17:30:14 UTC): @dmo-odoo Hello, like discussed, I removed `setTagName`, and the entire `list.js` file (deprecated utils), I think that's all for the modifications in master ? 

Like before, I probably need the security CI override :)

Cheers!

abd-msyukyu-odoo on (2025-02-04 19:10:34 UTC): @dmo-odoo Actually let's wait a bit tomorrow before `r+`, I have something to confirm with Luc :)

dmo-odoo on (2025-02-05 12:34:05 UTC): @robodoo override=ci/security rebase-merge r+
Reason: See original PR.

robodoo on (2025-02-05 12:34:09 UTC): Merge method set to rebase and merge, using the PR as merge commit message.

"
2830785189,pull_request,closed,,[FIX] partner_autocomplete: fix unreliability with Clearbit Autocomplete,"The Partner Autocomplete service was unreliable when used on a database hosted under a subdomain of odoo.com (i.e. from *.odoo.com).

This was caused by a combination of the CORS policy of the Autocomplete API of Clearbit and the caching of the browser.

If the user performed a first request with search query ""Odoo"" from https://a.odoo.com, the browser would cache the results, including the `Access-Control-Allow-Origin` header set to `https://a.odoo.com`.

The same request performed from https://b.odoo.com would lead to a CORS policy error as the browser would use the cached response from earlier request.

This commit addresses the issue by disabling the caching of the requests made to the Clearbit Autocomplete API.
",lobaudoux,2025-02-04 16:45:35+00:00,['lobaudoux'],2025-02-06 19:17:25+00:00,2025-02-06 19:17:24+00:00,https://github.com/odoo/odoo/pull/196480,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634520657, 'issue_id': 2830785189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196480.png)](https://mergebot.odoo.com/odoo/odoo/pull/196480)', 'created_at': datetime.datetime(2025, 2, 4, 16, 45, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:45:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196480.png)](https://mergebot.odoo.com/odoo/odoo/pull/196480)

"
2830773389,pull_request,open,,[FIX] account: Fix cash rounding multicompany,"Description of the issue/feature this PR addresses:
A bug occurred when the system attempted to automatically add a rounding line to an invoice in a multi-company environment. The company-dependent field was being updated without properly considering the invoice’s company context.

Current behavior before PR:
An error was raised when trying to create the rounding line because the system looked up the accounts for Company 1 instead of the invoice’s assigned company.

Desired behavior after PR is merged:
No error was raised


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",geiercsaba,2025-02-04 16:40:04+00:00,[],2025-02-05 13:59:13+00:00,,https://github.com/odoo/odoo/pull/196479,"[('Accounting', '')]","[{'comment_id': 2634507410, 'issue_id': 2830773389, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196479.png)](https://mergebot.odoo.com/odoo/odoo/pull/196479)', 'created_at': datetime.datetime(2025, 2, 4, 16, 40, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634587337, 'issue_id': 2830773389, 'author': 'tsabi', 'body': 'One of OdooTech\'s customer faced this issue. They have several companies in Odoo, and we setted up a global cash rounding object on the account.move model. During the running of the ""invoice generation from SUB"" cron job a lot of invoice runned to error, because the rounding account.move.line record pointed to an account_id record of company 1, however the invoice is belonged to company 2. This happened because the cron job user is belonged to company 1, and the profit/loss account_id field on the cash rounding model are company dependent fields.\r\n\r\nThe fix can be implemented by to adjust the calling of the `_recompute_cash_rounding_lines` method, but we choosed to adjust the operating of the method instead, because this way we always guarantee to have the good company context during the accessing the fields of the cash rounding object.\r\n\r\nWe didn\'t tested this in later Odoos, our customer use 16.0, so maybe other versions are affected too.', 'created_at': datetime.datetime(2025, 2, 4, 17, 13, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636929678, 'issue_id': 2830773389, 'author': 'geiercsaba', 'body': '@alialfie Hey, I created a new pull requestst from the previous one. Could you please check it?', 'created_at': datetime.datetime(2025, 2, 5, 13, 59, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:40:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196479.png)](https://mergebot.odoo.com/odoo/odoo/pull/196479)

tsabi on (2025-02-04 17:13:35 UTC): One of OdooTech's customer faced this issue. They have several companies in Odoo, and we setted up a global cash rounding object on the account.move model. During the running of the ""invoice generation from SUB"" cron job a lot of invoice runned to error, because the rounding account.move.line record pointed to an account_id record of company 1, however the invoice is belonged to company 2. This happened because the cron job user is belonged to company 1, and the profit/loss account_id field on the cash rounding model are company dependent fields.

The fix can be implemented by to adjust the calling of the `_recompute_cash_rounding_lines` method, but we choosed to adjust the operating of the method instead, because this way we always guarantee to have the good company context during the accessing the fields of the cash rounding object.

We didn't tested this in later Odoos, our customer use 16.0, so maybe other versions are affected too.

geiercsaba (Issue Creator) on (2025-02-05 13:59:11 UTC): @alialfie Hey, I created a new pull requestst from the previous one. Could you please check it?

"
2830761660,pull_request,open,,[FIX] project: visual issue in task state selection dropdown,"![hasdropdownissue](https://github.com/user-attachments/assets/dc2092ec-a918-416e-bb7b-6b989bf04027)

In the task kanban view, the right part of the state selection dropdown can sometimes be inoperative because it falls below the `o_column_quick_create` element. This element has a higher z-index than the `o_kanban_group` which the dropdown is part of.

Solution: increase the z-index of the kanban column when the dropdown is open to put it just above the quick create column.

**Steps to reproduce**
1. Project > Select a project
2. On the kanban view, change the state of a task that is in the last stage (all the way to the right, bug is more evident if there are no folded stages between).
-> Clicking on the right part of the dropdown doesn't change task's state.




opw-4507121
",taqu-odoo,2025-02-04 16:34:35+00:00,[],2025-02-05 11:27:03+00:00,,https://github.com/odoo/odoo/pull/196478,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634494358, 'issue_id': 2830761660, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196478.png)](https://mergebot.odoo.com/odoo/odoo/pull/196478)', 'created_at': datetime.datetime(2025, 2, 4, 16, 34, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634497190, 'issue_id': 2830761660, 'author': 'taqu-odoo', 'body': 'robodoo fw=no\r\nNot reproducible in later versions, dropdown component has been refactored.', 'created_at': datetime.datetime(2025, 2, 4, 16, 35, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634497315, 'issue_id': 2830761660, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 4, 16, 35, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:34:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196478.png)](https://mergebot.odoo.com/odoo/odoo/pull/196478)

taqu-odoo (Issue Creator) on (2025-02-04 16:35:49 UTC): robodoo fw=no
Not reproducible in later versions, dropdown component has been refactored.

robodoo on (2025-02-04 16:35:52 UTC): Disabled forward-porting.

"
2830755524,pull_request,open,,"[FIX] base_import: fix for import of some date like ""2500/1222"" guessed as ""%Y.%m.%d"" format","## Description of the issue/feature this PR addresses:
If you try to import an excel sheet for example with these column on sale order, but the issue is at every model: (this is an example)
![image](https://github.com/user-attachments/assets/7747b0ee-fb36-43d1-bfde-5f3ad29ce77d)

First column: Client ref
Second column: committment date
Third column: Customer

## Current behavior before PR:

When you upload the file to import, the extract_header_types calls _try_match_date_time that try to guess the date column. 
The first column makes the _try_match_date_time to guess that the format is %Y.%m.%d  format .
This is an error because that column does not contain a date .
The reason is that check_patterns when convert the pattern to reg ex using
`def to_re(pattern):`
on base_import/base_import.py, does not escape the ""."" so it works as ""every char"" wildcard character on regex .


## Desired behavior after PR is merged:
No error should appear and the correct date format from the right date column should be guessed 



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",micheledic,2025-02-04 16:31:46+00:00,[],2025-02-07 08:13:39+00:00,,https://github.com/odoo/odoo/pull/196477,[],"[{'comment_id': 2634487436, 'issue_id': 2830755524, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196477.png)](https://mergebot.odoo.com/odoo/odoo/pull/196477)', 'created_at': datetime.datetime(2025, 2, 4, 16, 31, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:31:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196477.png)](https://mergebot.odoo.com/odoo/odoo/pull/196477)

"
2830750651,pull_request,closed,,[FW][FIX] hr_recruitment: fix applications count,"To reproduce:
=============
- create 3 applications for same candidate
- open one application and archive/refuse it
- refresh the page -> smart button **Other Applications** displays 2
- click on the smart button -> only 2 applications are listed

Problem:
=======
- when refreshing the page, the context is lost so `other_applications_count` is computed without `active_test=False` so non active records are excluded
- when clicking on the smart button, the current record is excluded from the domain

Solution:
=========
- compute `other_applications_count` with `active_test=False`
- add the current record in the domain when clicking on the smart button

opw-4488834

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196110",fw-bot,2025-02-04 16:29:29+00:00,[],2025-02-06 12:09:16+00:00,2025-02-06 12:09:16+00:00,https://github.com/odoo/odoo/pull/196476,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2634481799, 'issue_id': 2830750651, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196476.png)](https://mergebot.odoo.com/odoo/odoo/pull/196476)', 'created_at': datetime.datetime(2025, 2, 4, 16, 29, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634481876, 'issue_id': 2830750651, 'author': 'fw-bot', 'body': '@abla001 @Bertrand2 cherrypicking of pull request odoo/odoo#196110 failed.\n\nstdout:\n```\nAuto-merging addons/hr_recruitment/models/hr_applicant.py\nAuto-merging addons/hr_recruitment/tests/test_recruitment.py\nCONFLICT (content): Merge conflict in addons/hr_recruitment/tests/test_recruitment.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 16, 29, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639167604, 'issue_id': 2830750651, 'author': 'abla001', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 40, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:29:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196476.png)](https://mergebot.odoo.com/odoo/odoo/pull/196476)

fw-bot (Issue Creator) on (2025-02-04 16:29:32 UTC): @abla001 @Bertrand2 cherrypicking of pull request odoo/odoo#196110 failed.

stdout:
```
Auto-merging addons/hr_recruitment/models/hr_applicant.py
Auto-merging addons/hr_recruitment/tests/test_recruitment.py
CONFLICT (content): Merge conflict in addons/hr_recruitment/tests/test_recruitment.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abla001 on (2025-02-06 08:40:49 UTC): @robodoo r+

"
2830747053,pull_request,closed,,[FW][I18N] l10n_eu_oss: add translations,"Related to https://github.com/odoo/enterprise/pull/78533

Forward-Port-Of: odoo/odoo#196447",fw-bot,2025-02-04 16:28:10+00:00,[],2025-02-05 00:28:50+00:00,2025-02-05 00:28:50+00:00,https://github.com/odoo/odoo/pull/196475,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634478197, 'issue_id': 2830747053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196475.png)](https://mergebot.odoo.com/odoo/odoo/pull/196475)', 'created_at': datetime.datetime(2025, 2, 4, 16, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634478240, 'issue_id': 2830747053, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78542) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 16, 28, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635231115, 'issue_id': 2830747053, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 22, 41, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:28:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196475.png)](https://mergebot.odoo.com/odoo/odoo/pull/196475)

fw-bot (Issue Creator) on (2025-02-04 16:28:13 UTC): @dylankiss @oomsveta while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78542) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-04 22:41:52 UTC): @robodoo r+

"
2830726874,pull_request,closed,,[FIX] Accounting: Rounding line with multi company fails,"Description of the issue/feature this PR addresses:
A bug occurred when the system attempted to automatically add a rounding line to an invoice in a multi-company environment. The company-dependent field was being updated without properly considering the invoice’s company context.

Current behavior before PR:
An error was raised when trying to create the rounding line because the system looked up the accounts for Company 1 instead of the invoice’s assigned company.

Desired behavior after PR is merged:
No error was raised


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",geiercsaba,2025-02-04 16:19:37+00:00,[],2025-02-05 07:19:43+00:00,2025-02-04 16:51:35+00:00,https://github.com/odoo/odoo/pull/196474,[],"[{'comment_id': 2634457537, 'issue_id': 2830726874, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196474.png)](https://mergebot.odoo.com/odoo/odoo/pull/196474)', 'created_at': datetime.datetime(2025, 2, 4, 16, 19, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:19:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196474.png)](https://mergebot.odoo.com/odoo/odoo/pull/196474)

"
2830712010,pull_request,closed,,[FW][FIX] account: improve help attribute on credit limit,"Having a credit limit set to 0 means 'no limit', user
has to set it to 0.01 to have a minimum limit.
This can be confusing for the user, so add a little
help message to the fields in both partner and settings views.

A better solution should be to use the `ResPartner.use_partner_credit_limit`
field to be able to set 0$ limit to specifics partner, but this can't
be done in stable (computed, non stored field).

opw-4479163

Forward-Port-Of: odoo/odoo#196300
Forward-Port-Of: odoo/odoo#194886",fw-bot,2025-02-04 16:13:10+00:00,[],2025-02-05 16:42:30+00:00,2025-02-05 16:42:30+00:00,https://github.com/odoo/odoo/pull/196473,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634440404, 'issue_id': 2830712010, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196473.png)](https://mergebot.odoo.com/odoo/odoo/pull/196473)', 'created_at': datetime.datetime(2025, 2, 4, 16, 13, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634440424, 'issue_id': 2830712010, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 16, 13, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634547681, 'issue_id': 2830712010, 'author': 'fw-bot', 'body': '@guva-odoo @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 16, 56, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:13:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196473.png)](https://mergebot.odoo.com/odoo/odoo/pull/196473)

fw-bot (Issue Creator) on (2025-02-04 16:13:12 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 16:56:51 UTC): @guva-odoo @h4818 ci/runbot failed on this forward-port PR

"
2830697674,pull_request,closed,,[FIX] point_of_sale: prevent screensaver from updating  previousScreen,"Before this commit, when the login screen was left idle using an employee login, the screensaver would appear as expected. However, upon user interaction (e.g., moving the mouse), the system would update the previous screen to the screen saver. This causing issues during login where the screensaver would be displayed.

opw-4494087


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-02-04 16:08:07+00:00,[],2025-02-07 16:54:18+00:00,2025-02-07 16:54:17+00:00,https://github.com/odoo/odoo/pull/196472,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634426075, 'issue_id': 2830697674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196472.png)](https://mergebot.odoo.com/odoo/odoo/pull/196472)', 'created_at': datetime.datetime(2025, 2, 4, 16, 8, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636536503, 'issue_id': 2830697674, 'author': 'davidmonnom', 'body': 'Can you detail the issue ?', 'created_at': datetime.datetime(2025, 2, 5, 12, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636659016, 'issue_id': 2830697674, 'author': 'layani-id', 'body': '@davidmonnom this is my ticket with number: 4494087\r\n\r\nWhat are the steps to reproduce the issue?\r\n- idle for several minutes on ""unlock page"", wait until screen saver is showing.\r\n\r\nWhat is the current behavior you observe?\r\n- when I try to unlock it will stuck on screen saver page.\r\n\r\nWhat would you like the behavior/result to be?\r\n- It should unlock the POS and then go to table plan as usual\r\n\r\nPlease have a look at the recording\r\nhttps://github.com/user-attachments/assets/9840432a-50be-41cb-9be5-aca94a172c26', 'created_at': datetime.datetime(2025, 2, 5, 12, 38, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:08:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196472.png)](https://mergebot.odoo.com/odoo/odoo/pull/196472)

davidmonnom on (2025-02-05 12:01:01 UTC): Can you detail the issue ?

layani-id on (2025-02-05 12:38:04 UTC): @davidmonnom this is my ticket with number: 4494087

What are the steps to reproduce the issue?
- idle for several minutes on ""unlock page"", wait until screen saver is showing.

What is the current behavior you observe?
- when I try to unlock it will stuck on screen saver page.

What would you like the behavior/result to be?
- It should unlock the POS and then go to table plan as usual

Please have a look at the recording
https://github.com/user-attachments/assets/9840432a-50be-41cb-9be5-aca94a172c26

"
2830692230,pull_request,open,,[FIX] l10n_hu_edi: Cleanup post-init code,"This commit comes as an apology for the horrible code I wrote in PR #166043 in order for the installation of `l10n_hu_edi` to not fail if some of the default Hungarian taxes (defined in `l10n_hu`) had been deleted.

Instead of rolling back the loading of the EDI-specific fields if some taxes don't exist, we can just load those fields on the taxes that do exist. Which is a lot cleaner and simpler. Sorry again!

task-none",antoine162,2025-02-04 16:06:12+00:00,[],2025-02-05 07:55:24+00:00,,https://github.com/odoo/odoo/pull/196471,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634420310, 'issue_id': 2830692230, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196471.png)](https://mergebot.odoo.com/odoo/odoo/pull/196471)', 'created_at': datetime.datetime(2025, 2, 4, 16, 6, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 16:06:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196471.png)](https://mergebot.odoo.com/odoo/odoo/pull/196471)

"
2830665029,pull_request,closed,,[FW][FIX] event_sale: prevent error on upgrading module,"Currently a ``ParseError`` is arising when the user upgrades the ``event_sale`` module after deleting the ``Event Registration`` product from sales.

Steps to reproduce:
---
- Install ``Sale_management`` and ``event`` module (without demo data)
- Open ``Products`` in Sales > Delete ``Event Registration``
- Now upgrade ``event_sale`` module
- The error appears in the log.

Traceback:
---
```
Exception: Cannot update missing record 'event_product.product_product_event'

ParseError: while parsing /home/odoo/src/odoo/saas-18.1/addons/event_sale/data/event_sale_data.xml:4, somewhere inside <record id=""event_product.product_product_event"" model=""product.product"">
            <field name=""invoice_policy"">order</field>
        </record>
```

This commit resolves the issue by preventing the creation of a product using ``forcecreate=""False""``.

sentry-5731062091

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195433",fw-bot,2025-02-04 15:55:45+00:00,[],2025-02-05 14:26:53+00:00,2025-02-05 14:26:53+00:00,https://github.com/odoo/odoo/pull/196470,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634391459, 'issue_id': 2830665029, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196470.png)](https://mergebot.odoo.com/odoo/odoo/pull/196470)', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634391491, 'issue_id': 2830665029, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634509309, 'issue_id': 2830665029, 'author': 'fw-bot', 'body': '@aamo-odoo @awa-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 16, 40, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:55:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196470.png)](https://mergebot.odoo.com/odoo/odoo/pull/196470)

fw-bot (Issue Creator) on (2025-02-04 15:55:47 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 16:40:56 UTC): @aamo-odoo @awa-odoo ci/runbot failed on this forward-port PR

"
2830664250,pull_request,closed,,"[FW][FIX] purchase_stock,stock_account: no exch. diff. if future correction AMLs","**Current behavior:**
With Anglo-Saxon accounting, for some tracked product, with FIFO and real-time valuation:

Making a purchase order in some foreign currency, having some exchange rate for today, receiving the product, then dating the vendor bill to some future date with a different exchange rate will result in exchange difference journal entries when the bill is posted.

**Expected behavior:**
We shouldn't see exchange difference entries, as there are pending corrective valuation entries which have simply not been posted yet.

Reconciliation should be deferred until these moves are no longer in draft.

**Steps to reproduce:**
1. Activate another currency, define some rate for today and another (different) rate for tomorrow

2. Create a product with FIFO and real-time costing & valuation

3. Create an initial purchase for the product, receive then bill normally

4. Create another purchase order and receive the product

5. Create the invoice, set the invoie date for tomorrow

6. Post the invoice -> Open the `Exchange Difference` journal to see the entries which should not have been generated

**Cause of the issue:**
After creating the AMLs which represent the difference in reception/bill unit price of the product, they are caught here: https://github.com/odoo/odoo/blob/971400771a31c05641a8672f6b1d85afaa9c4a19/addons/account/models/account_move.py#L3575 and designated as future moves, not to be posted at this time.

At the end of the `_post()` stack: https://github.com/odoo/odoo/blob/4df156164cf1d2764ba23682beee588777457fd6/addons/stock_account/models/account_move.py#L229 where there would normally be some `correction_amls`, they weren't created here because the AMLs for the price diff were not posted- so the price diff entry is generated.

**Fix:**
Wait for pending (`state == 'draft'`) AMLs that are part of some `AccountMove`'s valuation to be no longer in draft before allowing reconciliation with a currency exchange difference.

opw-4266652

Forward-Port-Of: odoo/odoo#196140
Forward-Port-Of: odoo/odoo#193971",fw-bot,2025-02-04 15:55:25+00:00,[],2025-02-06 17:59:19+00:00,2025-02-06 17:59:19+00:00,https://github.com/odoo/odoo/pull/196469,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634390692, 'issue_id': 2830664250, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196469.png)](https://mergebot.odoo.com/odoo/odoo/pull/196469)', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634390723, 'issue_id': 2830664250, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:55:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196469.png)](https://mergebot.odoo.com/odoo/odoo/pull/196469)

fw-bot (Issue Creator) on (2025-02-04 15:55:27 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2830663619,pull_request,open,,[FIX] web: waves and bubble external layout fix,"Before this commit the wave and bubble layouts did not play well in the report editor. The svg was set to be an overlay, in fixed position, with a top = 0 property.

In wkhtmltopdf it did work because we render the header and footer in their own viewport. In the report editor however, the viewport is unique and the svg was then fixed to the top of the page.

After this commit, the report layouts continue to work in wkhtmltopdf, but we removed the top = 0 attribute. Following https://stackoverflow.com/a/12282107 it should work in the contexts: (TLDR: in position fixed, if top and bottom are not specified, the default position is the one the block should have taken if it were staticly positioned)

- wkhtmltopdf: the footer is rendered in its own viewport and consequently the top of the viewport is also the top of the footer and thus the original static position
- action report of type HTML: no worries here, this fix doesn't apply because of ifs in the qweb expressions
- report editor in edition mode: The SVG is inisible anyway because it needs a fill value which is not present in that context. The svg is located outside of the iframe's port in practice with the fix.
- report editor in preview mode: works because the iframe cannot be interacted with and that the default static position is within the footer

opw-4508900

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kebeclibre,2025-02-04 15:55:09+00:00,[],2025-02-04 16:00:12+00:00,,https://github.com/odoo/odoo/pull/196468,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634390113, 'issue_id': 2830663619, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196468.png)](https://mergebot.odoo.com/odoo/odoo/pull/196468)', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:55:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196468.png)](https://mergebot.odoo.com/odoo/odoo/pull/196468)

"
2830663441,pull_request,closed,,[FW][FIX] website: make labels in sidebar translatable,"Some labels in the website editor's sidebar were not translatable, while all the others were.

In this commit we make the following parts translatable:
- The header of the ""Field"" options
- The ""Custom Text"" new field name
- The ""Existing field"" header in the selection list of existing field
- ""Option"", ""Radio"", ""Checkbox"", and ""List"" for list-type fields

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#196180
Forward-Port-Of: odoo/odoo#194014",fw-bot,2025-02-04 15:55:04+00:00,[],2025-02-05 14:26:51+00:00,2025-02-05 14:26:51+00:00,https://github.com/odoo/odoo/pull/196467,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634389872, 'issue_id': 2830663441, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196467.png)](https://mergebot.odoo.com/odoo/odoo/pull/196467)', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634389898, 'issue_id': 2830663441, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/snippets/s_website_form/options.js\nAuto-merging addons/website/static/src/xml/website_form_editor.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 55, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634492592, 'issue_id': 2830663441, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 16, 33, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:55:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196467.png)](https://mergebot.odoo.com/odoo/odoo/pull/196467)

fw-bot (Issue Creator) on (2025-02-04 15:55:07 UTC): @dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/snippets/s_website_form/options.js
Auto-merging addons/website/static/src/xml/website_form_editor.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-04 16:33:57 UTC): @robodoo r+

"
2830662521,pull_request,open,,[FW][FIX] account: Add context key to prevent exchange diff but not recur…,"…sively

The 'no_exchange_difference' is used to prevent exchange diff in the whole reconciliation. However, the reconciliation is recursive when dealing with CABA entries. From the bank reconciliation widget, we want to prevent the exchange diff only for the top reconciliation but not recursively. Otherwise, the CABA entry ends up with a residual amount but considered as fully reconciled.

Instead, this commit introduces a new context key: 'no_exchange_difference_no_recursive'.

task-id: 4531511

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196074
Forward-Port-Of: odoo/odoo#195814",fw-bot,2025-02-04 15:54:43+00:00,[],2025-02-05 10:20:35+00:00,,https://github.com/odoo/odoo/pull/196466,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634389007, 'issue_id': 2830662521, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196466.png)](https://mergebot.odoo.com/odoo/odoo/pull/196466)', 'created_at': datetime.datetime(2025, 2, 4, 15, 54, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634389059, 'issue_id': 2830662521, 'author': 'fw-bot', 'body': '@smetl @oco-odoo cherrypicking of pull request odoo/odoo#195814 failed.\n\nstdout:\n```\nAuto-merging addons/account/models/account_move_line.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move_line.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 54, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636226583, 'issue_id': 2830662521, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 44, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636318118, 'issue_id': 2830662521, 'author': 'robodoo', 'body': ""@smetl @oco-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 10, 20, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:54:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196466.png)](https://mergebot.odoo.com/odoo/odoo/pull/196466)

fw-bot (Issue Creator) on (2025-02-04 15:54:49 UTC): @smetl @oco-odoo cherrypicking of pull request odoo/odoo#195814 failed.

stdout:
```
Auto-merging addons/account/models/account_move_line.py
CONFLICT (content): Merge conflict in addons/account/models/account_move_line.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-02-05 09:44:03 UTC): @robodoo r+

robodoo on (2025-02-05 10:20:34 UTC): @smetl @oco-odoo 'ci/runbot' failed on this reviewed PR.

"
2830661240,pull_request,closed,,[FW][FIX] pos_restaurant: fix runbot error 111506,"Fix runbot error.

Runbot error: 111506

Forward-Port-Of: odoo/odoo#196387",fw-bot,2025-02-04 15:54:12+00:00,[],2025-02-04 18:42:54+00:00,2025-02-04 18:42:54+00:00,https://github.com/odoo/odoo/pull/196465,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634388930, 'issue_id': 2830661240, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196465.png)](https://mergebot.odoo.com/odoo/odoo/pull/196465)', 'created_at': datetime.datetime(2025, 2, 4, 15, 54, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634388958, 'issue_id': 2830661240, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#196387 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit 0dc4a53b4119370d26ae13eabea76a4c4c7e9451.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 54, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:54:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196465.png)](https://mergebot.odoo.com/odoo/odoo/pull/196465)

fw-bot (Issue Creator) on (2025-02-04 15:54:46 UTC): @davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#196387 failed.

stdout:
```
You are currently cherry-picking commit 0dc4a53b4119370d26ae13eabea76a4c4c7e9451.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2830654480,pull_request,closed,,[MOV] mail: move forward and reply-all actions to the web,"Since odoo/odoo#186875, forward and reply-all actions have been added to the message actions. These actions use the full composer and the full composer is a web feature (at least for now). This PR moves the related files to `mail/static/src/core/web`.
",maki-odoo,2025-02-04 15:51:22+00:00,[],2025-02-05 09:48:24+00:00,2025-02-05 02:37:47+00:00,https://github.com/odoo/odoo/pull/196464,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2634379990, 'issue_id': 2830654480, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196464.png)](https://mergebot.odoo.com/odoo/odoo/pull/196464)', 'created_at': datetime.datetime(2025, 2, 4, 15, 51, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634459495, 'issue_id': 2830654480, 'author': 'maki-odoo', 'body': 'Note: as a side effect, this move fixes the crash on `Forward` and `Reply All` actions in portal chatter.', 'created_at': datetime.datetime(2025, 2, 4, 16, 20, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:51:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196464.png)](https://mergebot.odoo.com/odoo/odoo/pull/196464)

maki-odoo (Issue Creator) on (2025-02-04 16:20:29 UTC): Note: as a side effect, this move fixes the crash on `Forward` and `Reply All` actions in portal chatter.

"
2830615802,pull_request,closed,,[FIX] web: Prevent pdf flickering,"Steps:
    - Install `account_accountant`
    - Open vendor/bills
    - Open a record with a pdf
    - Change zoom to 90%
    - Open page as web app (via chrome for example)
    - PDF is flickering

This problem comes from pdf.js, it has already been fixed in their repository. So the fix is a backport of https://github.com/mozilla/pdf.js/pull/17360/commits/412502370d2efee794d934524ade39a1ddfe79c8.

opw-4402527",abz-odoo,2025-02-04 15:35:41+00:00,[],2025-02-05 12:46:58+00:00,2025-02-05 12:46:58+00:00,https://github.com/odoo/odoo/pull/196463,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634336349, 'issue_id': 2830615802, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196463.png)](https://mergebot.odoo.com/odoo/odoo/pull/196463)', 'created_at': datetime.datetime(2025, 2, 4, 15, 35, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634364573, 'issue_id': 2830615802, 'author': 'abz-odoo', 'body': ""@odoo/rd-security this is just a backport, don't think there is a security issue on it"", 'created_at': datetime.datetime(2025, 2, 4, 15, 45, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635994703, 'issue_id': 2830615802, 'author': 'abz-odoo', 'body': '@robodoo fw ignore', 'created_at': datetime.datetime(2025, 2, 5, 7, 55, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635994763, 'issue_id': 2830615802, 'author': 'robodoo', 'body': ""@abz-odoo expected '=', got 'ignore'.\n\nFor your own safety I've ignored *everything in your entire comment*.\n\nCurrently available commands:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`fw=no`|does not forward-port this PR|\n|`fw=default`|forward-ports this PR normally|\n|`up to <branch>`|only ports this PR forward to the specified branch (included)|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n|`check`|fetches or refreshes PR metadata, resets mergebot state|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 2, 5, 7, 55, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635995223, 'issue_id': 2830615802, 'author': 'abz-odoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 5, 7, 55, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635995283, 'issue_id': 2830615802, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 5, 7, 55, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636240815, 'issue_id': 2830615802, 'author': 'robodoo', 'body': '@flvr-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 5, 9, 49, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:35:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196463.png)](https://mergebot.odoo.com/odoo/odoo/pull/196463)

abz-odoo (Issue Creator) on (2025-02-04 15:45:41 UTC): @odoo/rd-security this is just a backport, don't think there is a security issue on it

abz-odoo (Issue Creator) on (2025-02-05 07:55:10 UTC): @robodoo fw ignore

robodoo on (2025-02-05 07:55:12 UTC): @abz-odoo expected '=', got 'ignore'.

For your own safety I've ignored *everything in your entire comment*.

Currently available commands:

|command||
|-|-|
|`help`|displays this help|
|`fw=no`|does not forward-port this PR|
|`fw=default`|forward-ports this PR normally|
|`up to <branch>`|only ports this PR forward to the specified branch (included)|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|
|`check`|fetches or refreshes PR metadata, resets mergebot state|

Note: this help text is dynamic and will change with the state of the PR.

abz-odoo (Issue Creator) on (2025-02-05 07:55:29 UTC): @robodoo fw=no

robodoo on (2025-02-05 07:55:31 UTC): Disabled forward-porting.

robodoo on (2025-02-05 09:49:16 UTC): @flvr-odoo you may want to rebuild or fix this PR as it has failed CI.

"
2830603143,pull_request,closed,,[FW][FIX] mrp: correct color logic for consumed quantities' display,"**Steps to reproduce:**
- Create a storable product `P1` with the following BoM:
    - Qty: 1 unit
    - Components:
        - C1, C2, C3: 3 units
- Create a MO to produce one unit of `P1`;
  - Confirm the order;
  - Update the product's `Quantity` to 1 at least;
    *The quantities of `To Consume` and `Quantity` columns in the `Components` tab of the notebook are automatically set to 3.*
- Update the field `Quantity` of components to:
    - **C1**: 1 unit
    - **C2**: 3 units
    - **C3**: 4 units

___
**Issue:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less than the <ins>total needed</ins> value &rarr; highlights in green;
- **C2**: equal to the value &rarr; highlights in black;
- **C3**: higher than the value &rarr; highlights in orange.

![Capture d’écran 2024-12-30 à 17 49 56](https://github.com/user-attachments/assets/e4fe7488-de04-4749-9930-85f11f71532a)

___
**Expected:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less -> black;
- **C2**: equal -> green;
- **C3**: higher -> orange.

___
**Cause:**
Text decorations are based on a wrong logic by getting the quantities from wrong field. This field has been changed during an apocalypse.
https://github.com/odoo/odoo/blob/c43297435cfcaf560d5c952ac3c4a383a6f1dc28/addons/mrp/views/mrp_production_views.xml#L405-L406

___
**Fix:**
Reset good field to check quantities, inspired by Odoo 16 using the computed `should_consume_qty` value to check the consumption status:
https://github.com/odoo/odoo/blob/67c78b38e794333eae55758ad4610515df5c49d2/addons/mrp/views/mrp_production_views.xml#L342-L343

![Capture d’écran 2024-12-30 à 17 49 26](https://github.com/user-attachments/assets/f30bd7fc-0140-4c16-abaf-540f4c1bc12d)

___
**Forward:**
To forward up to master.
Odoo 17 :
```
<field name=""quantity"" string=""Quantity""
    decoration-success=""product_uom_qty - quantity &gt; -0.0001 and product_uom_qty - quantity &lt; 0.0001""
    decoration-warning=""quantity - product_uom_qty &gt; 0.0001""

```

___
opw-4393156
opw-4391582
opw-4391600

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196291
Forward-Port-Of: odoo/odoo#190162",fw-bot,2025-02-04 15:31:03+00:00,[],2025-02-05 06:27:56+00:00,2025-02-05 06:27:55+00:00,https://github.com/odoo/odoo/pull/196462,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634322878, 'issue_id': 2830603143, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196462.png)](https://mergebot.odoo.com/odoo/odoo/pull/196462)', 'created_at': datetime.datetime(2025, 2, 4, 15, 31, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634322962, 'issue_id': 2830603143, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 31, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:31:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196462.png)](https://mergebot.odoo.com/odoo/odoo/pull/196462)

fw-bot (Issue Creator) on (2025-02-04 15:31:06 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2830599925,pull_request,open,,[IMP] core: add order when groupby many2many,"WIP
",ryv-odoo,2025-02-04 15:29:51+00:00,[],2025-02-05 15:42:20+00:00,,https://github.com/odoo/odoo/pull/196461,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634319632, 'issue_id': 2830599925, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196461.png)](https://mergebot.odoo.com/odoo/odoo/pull/196461)', 'created_at': datetime.datetime(2025, 2, 4, 15, 29, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:29:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196461.png)](https://mergebot.odoo.com/odoo/odoo/pull/196461)

"
2830578611,pull_request,closed,,[FIX] web: blacklist attendance kiosk menu in clickbot,"
Fixing Click All test broken since 662081ca3ad31170961eaf384f8aa2311d39f086",d-fence,2025-02-04 15:21:33+00:00,[],2025-02-06 08:06:05+00:00,2025-02-05 14:26:50+00:00,https://github.com/odoo/odoo/pull/196460,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634296350, 'issue_id': 2830578611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196460.png)](https://mergebot.odoo.com/odoo/odoo/pull/196460)', 'created_at': datetime.datetime(2025, 2, 4, 15, 21, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634328333, 'issue_id': 2830578611, 'author': 'd-fence', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 32, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:21:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196460.png)](https://mergebot.odoo.com/odoo/odoo/pull/196460)

d-fence (Issue Creator) on (2025-02-04 15:32:58 UTC): robodoo r+

"
2830568312,pull_request,closed,,[FW][FIX] stock_picking_batch: create a new wave for SML with 0 quantity,"Steps to reproduce the bug:
- Enable the multi-step route.
- Go to the Delivery Operation Type:
    - Enable ""Automatic Batches"". - Enable ""Wave Grouping"". - Product Category: All
- Create two storable products: ""P1"" and ""P2"".
- Create a first delivery:
    - One unit of P1.
    - Mark it as ""To Do"" → a wave transfer is created.
- Create a second delivery:
    - One unit of P2.
    - Mark it as ""To Do"" → it is added to the first wave.
- Go to the wave:
     - Update the quantity of P2 to 0.
- Validate the wave

Problem:
The picking of P2 is detached but not linked to a new wave.

opw-4444263

Forward-Port-Of: odoo/odoo#196206
Forward-Port-Of: odoo/odoo#192771",fw-bot,2025-02-04 15:17:21+00:00,[],2025-02-05 10:56:16+00:00,2025-02-05 10:56:16+00:00,https://github.com/odoo/odoo/pull/196459,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2634284760, 'issue_id': 2830568312, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196459.png)](https://mergebot.odoo.com/odoo/odoo/pull/196459)', 'created_at': datetime.datetime(2025, 2, 4, 15, 17, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634284790, 'issue_id': 2830568312, 'author': 'fw-bot', 'body': '@DjamelTouati this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 17, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636113905, 'issue_id': 2830568312, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 56, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:17:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196459.png)](https://mergebot.odoo.com/odoo/odoo/pull/196459)

fw-bot (Issue Creator) on (2025-02-04 15:17:23 UTC): @DjamelTouati this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-05 08:56:50 UTC): robodoo r+

"
2830567552,pull_request,closed,,[FW][FIX] point_of_sale: cancel order sends empty ticket to the kitchen,"steps to reproduce:
===
- open POS 
- make an order 
- click on order
- open this order 
- delete order lines 
- click on order (negatives qty) 

Issue:
===
- insufficient data to display in receipt

fixed:
===
- configured data required to print

task: 4507218

Forward-Port-Of: odoo/odoo#196210
Forward-Port-Of: odoo/odoo#194975",fw-bot,2025-02-04 15:17:02+00:00,[],2025-02-05 05:00:58+00:00,2025-02-05 05:00:58+00:00,https://github.com/odoo/odoo/pull/196458,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634283913, 'issue_id': 2830567552, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196458.png)](https://mergebot.odoo.com/odoo/odoo/pull/196458)', 'created_at': datetime.datetime(2025, 2, 4, 15, 17, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634283949, 'issue_id': 2830567552, 'author': 'fw-bot', 'body': '@djip-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#194975 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/models/utils/order_change.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 17, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635706931, 'issue_id': 2830567552, 'author': 'djip-odoo', 'body': 'issue is not detected in master branch.', 'created_at': datetime.datetime(2025, 2, 5, 5, 0, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:17:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196458.png)](https://mergebot.odoo.com/odoo/odoo/pull/196458)

fw-bot (Issue Creator) on (2025-02-04 15:17:04 UTC): @djip-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#194975 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/models/utils/order_change.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

djip-odoo on (2025-02-05 05:00:58 UTC): issue is not detected in master branch.

"
2830566696,pull_request,closed,,[FW][FIX] point_of_sale: fix error runbot 111976,"Fix error runbot.

Error runbot: 111976

Forward-Port-Of: odoo/odoo#196399",fw-bot,2025-02-04 15:16:42+00:00,[],2025-02-05 09:22:43+00:00,2025-02-05 09:22:43+00:00,https://github.com/odoo/odoo/pull/196457,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2634283022, 'issue_id': 2830566696, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196457.png)](https://mergebot.odoo.com/odoo/odoo/pull/196457)', 'created_at': datetime.datetime(2025, 2, 4, 15, 16, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634283041, 'issue_id': 2830566696, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 16, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636016722, 'issue_id': 2830566696, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 7, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:16:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196457.png)](https://mergebot.odoo.com/odoo/odoo/pull/196457)

fw-bot (Issue Creator) on (2025-02-04 15:16:44 UTC): @davidmonnom @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-05 08:07:32 UTC): @robodoo r+

"
2830552663,pull_request,closed,,[FIX] l10n_de: correct extension for detached files,"Fixes an issue with the renaming of the attachment after detaching to not change the extension.

task-4500319
",alialfie,2025-02-04 15:11:13+00:00,[],2025-02-05 18:26:41+00:00,2025-02-05 18:26:41+00:00,https://github.com/odoo/odoo/pull/196456,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634268260, 'issue_id': 2830552663, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196456.png)](https://mergebot.odoo.com/odoo/odoo/pull/196456)', 'created_at': datetime.datetime(2025, 2, 4, 15, 11, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637165937, 'issue_id': 2830552663, 'author': 'alialfie', 'body': ""NB: as discussed with William, let's fix the extension issue for now and take care of the other issue, deleting attachments outside of a German company, later. Security-wise, nothing changed."", 'created_at': datetime.datetime(2025, 2, 5, 15, 12, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:11:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196456.png)](https://mergebot.odoo.com/odoo/odoo/pull/196456)

alialfie (Issue Creator) on (2025-02-05 15:12:35 UTC): NB: as discussed with William, let's fix the extension issue for now and take care of the other issue, deleting attachments outside of a German company, later. Security-wise, nothing changed.

"
2830549846,pull_request,closed,,[FW][FIX] hr_recruitment: fix applications count,"To reproduce:
=============
- create 3 applications for same candidate
- open one application and archive/refuse it
- refresh the page -> smart button **Other Applications** displays 2
- click on the smart button -> only 2 applications are listed

Problem:
=======
- when refreshing the page, the context is lost so `other_applications_count` is computed without `active_test=False` so non active records are excluded
- when clicking on the smart button, the current record is excluded from the domain

Solution:
=========
- compute `other_applications_count` with `active_test=False`
- add the current record in the domain when clicking on the smart button

opw-4488834

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196110",fw-bot,2025-02-04 15:10:09+00:00,[],2025-02-05 06:28:02+00:00,2025-02-05 06:28:02+00:00,https://github.com/odoo/odoo/pull/196455,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634265523, 'issue_id': 2830549846, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196455.png)](https://mergebot.odoo.com/odoo/odoo/pull/196455)', 'created_at': datetime.datetime(2025, 2, 4, 15, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634265547, 'issue_id': 2830549846, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 15, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634481825, 'issue_id': 2830549846, 'author': 'fw-bot', 'body': '@abla001 @Bertrand2 the next pull request (odoo/odoo#196476) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 16, 29, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635704991, 'issue_id': 2830549846, 'author': 'abla001', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 4, 59, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 15:10:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196455.png)](https://mergebot.odoo.com/odoo/odoo/pull/196455)

fw-bot (Issue Creator) on (2025-02-04 15:10:11 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 16:29:31 UTC): @abla001 @Bertrand2 the next pull request (odoo/odoo#196476) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abla001 on (2025-02-05 04:59:01 UTC): @robodoo r+

"
2830505104,pull_request,open,,[IMP] web: make dbname more visible to user,"Description of the issue/feature this PR addresses:

If the database name is too long, it may not be shown in its entirety below the username when the developer mode is active. There's no other place in the database where this information is visible. 

The behaviour was noticed on the following ticket: https://www.odoo.com/odoo/project/12724/tasks/4524629

Current behavior before PR:

Database name may appear shortened if it's too long. There's no other way to see the DB's name

<img width=""350"" alt=""Captura de pantalla 2025-02-04 a la(s) 8 51 17 a m"" src=""https://github.com/user-attachments/assets/16de3960-c532-460c-9389-474bfd674bb7"" />

Desired behavior after PR is merged:

With this commit, we display the name of the DB on the settings page and make the name appear when hovering on the DB name below the user.

<img width=""444"" alt=""Captura de pantalla 2025-02-04 a la(s) 8 48 15 a m"" src=""https://github.com/user-attachments/assets/ef4f7634-8dc5-4551-9449-c857c971eb45"" />

<img width=""658"" alt=""Captura de pantalla 2025-02-04 a la(s) 8 53 05 a m"" src=""https://github.com/user-attachments/assets/b159fb6d-8a58-406d-bc44-56ea12bddad2"" />


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lare-odoo,2025-02-04 14:53:51+00:00,[],2025-02-04 15:00:11+00:00,,https://github.com/odoo/odoo/pull/196454,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634220686, 'issue_id': 2830505104, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196454.png)](https://mergebot.odoo.com/odoo/odoo/pull/196454)', 'created_at': datetime.datetime(2025, 2, 4, 14, 53, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:53:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196454.png)](https://mergebot.odoo.com/odoo/odoo/pull/196454)

"
2830505038,pull_request,closed,,[FW][FIX] account: improve help attribute on credit limit,"Having a credit limit set to 0 means 'no limit', user
has to set it to 0.01 to have a minimum limit.
This can be confusing for the user, so add a little
help message to the fields in both partner and settings views.

A better solution should be to use the `ResPartner.use_partner_credit_limit`
field to be able to set 0$ limit to specifics partner, but this can't
be done in stable (computed, non stored field).

opw-4479163

Forward-Port-Of: odoo/odoo#196300
Forward-Port-Of: odoo/odoo#194886",fw-bot,2025-02-04 14:53:50+00:00,[],2025-02-05 17:39:01+00:00,2025-02-05 17:39:01+00:00,https://github.com/odoo/odoo/pull/196453,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634220532, 'issue_id': 2830505038, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196453.png)](https://mergebot.odoo.com/odoo/odoo/pull/196453)', 'created_at': datetime.datetime(2025, 2, 4, 14, 53, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634220556, 'issue_id': 2830505038, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 14, 53, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:53:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196453.png)](https://mergebot.odoo.com/odoo/odoo/pull/196453)

fw-bot (Issue Creator) on (2025-02-04 14:53:52 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2830504077,pull_request,closed,,[FW][FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

Forward-Port-Of: odoo/odoo#196050
Forward-Port-Of: odoo/odoo#195859",fw-bot,2025-02-04 14:53:29+00:00,[],2025-02-05 17:39:15+00:00,2025-02-05 17:39:15+00:00,https://github.com/odoo/odoo/pull/196452,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634219478, 'issue_id': 2830504077, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196452.png)](https://mergebot.odoo.com/odoo/odoo/pull/196452)', 'created_at': datetime.datetime(2025, 2, 4, 14, 53, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634219518, 'issue_id': 2830504077, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 14, 53, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634330231, 'issue_id': 2830504077, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 15, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636115626, 'issue_id': 2830504077, 'author': 'bvr-odoo', 'body': ""tested, it's all right"", 'created_at': datetime.datetime(2025, 2, 5, 8, 57, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636499541, 'issue_id': 2830504077, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 11, 43, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636849971, 'issue_id': 2830504077, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 25, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:53:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196452.png)](https://mergebot.odoo.com/odoo/odoo/pull/196452)

fw-bot (Issue Creator) on (2025-02-04 14:53:31 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 15:33:40 UTC): @bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR

bvr-odoo on (2025-02-05 08:57:41 UTC): tested, it's all right

fw-bot (Issue Creator) on (2025-02-05 11:43:09 UTC): @bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

bvr-odoo on (2025-02-05 13:25:19 UTC): @robodoo r+

"
2830461439,pull_request,closed,,[FW][FIX] website: Resolve padding issue inside large boxes,"Previously, adjusting the width of a form field within a large box resulted in excessive padding being applied above and below the form field. This commit refines the CSS rules,
ensuring the padding is applied only to the outer large box and not to the inner elements.

task-4370763

Forward-Port-Of: odoo/odoo#193008",fw-bot,2025-02-04 14:38:24+00:00,[],2025-02-05 09:40:57+00:00,2025-02-05 09:40:57+00:00,https://github.com/odoo/odoo/pull/196451,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2634173016, 'issue_id': 2830461439, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196451.png)](https://mergebot.odoo.com/odoo/odoo/pull/196451)', 'created_at': datetime.datetime(2025, 2, 4, 14, 38, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634173059, 'issue_id': 2830461439, 'author': 'fw-bot', 'body': '@dery-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#193008 failed.\n\n* dfdb4a9d8207030a9ce4b3679c5bde8928c1bfa7\n* ea667de18ebba8a22e6d3c825fed3ac58dee3a83\n* ca663a0836dbcd06ff8bc8c3c3ba808fa44272c3 <- on this commit\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/snippets.options.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/snippets.options.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 14, 38, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636040007, 'issue_id': 2830461439, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 20, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:38:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196451.png)](https://mergebot.odoo.com/odoo/odoo/pull/196451)

fw-bot (Issue Creator) on (2025-02-04 14:38:26 UTC): @dery-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#193008 failed.

* dfdb4a9d8207030a9ce4b3679c5bde8928c1bfa7
* ea667de18ebba8a22e6d3c825fed3ac58dee3a83
* ca663a0836dbcd06ff8bc8c3c3ba808fa44272c3 <- on this commit

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/snippets.options.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/snippets.options.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-05 08:20:10 UTC): @robodoo r+

"
2830460941,pull_request,closed,,[FIX] point_of_sale: initialize the synchronization class at startup,"Initialize the synchronization class at startup of the PoS before making any request to the server. This will ensure that the synchronization class is ready to handle the requests.

",davidmonnom,2025-02-04 14:38:13+00:00,[],2025-02-05 14:26:53+00:00,2025-02-05 14:26:53+00:00,https://github.com/odoo/odoo/pull/196450,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634172351, 'issue_id': 2830460941, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196450.png)](https://mergebot.odoo.com/odoo/odoo/pull/196450)', 'created_at': datetime.datetime(2025, 2, 4, 14, 38, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634572830, 'issue_id': 2830460941, 'author': 'adgu-odoo', 'body': 'robodoo delegate+', 'created_at': datetime.datetime(2025, 2, 4, 17, 7, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635184690, 'issue_id': 2830460941, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 22, 10, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:38:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196450.png)](https://mergebot.odoo.com/odoo/odoo/pull/196450)

adgu-odoo on (2025-02-04 17:07:16 UTC): robodoo delegate+

davidmonnom (Issue Creator) on (2025-02-04 22:10:15 UTC): @robodoo r+

"
2830460785,pull_request,closed,,[FIX] base_setup: remove sms checkbox from settings,"This commit removes the module_sms field from the settings view. When it was present unchecking it could potentially remove all the apps installed on a DB. Depending on what was installed. The main issue was that user misinterpreted the use of this checkbox leading to situation where the DB needed to be restarted from a backup.

To fix this issue it was decided for now to remove the checkbox from the settings view. This will prevent these situations to happen again in the future.

task-4526115

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",thjo-odoo,2025-02-04 14:38:09+00:00,[],2025-02-06 10:43:46+00:00,2025-02-06 10:43:46+00:00,https://github.com/odoo/odoo/pull/196449,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634172151, 'issue_id': 2830460785, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196449.png)](https://mergebot.odoo.com/odoo/odoo/pull/196449)', 'created_at': datetime.datetime(2025, 2, 4, 14, 38, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639058903, 'issue_id': 2830460785, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 7, 44, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:38:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196449.png)](https://mergebot.odoo.com/odoo/odoo/pull/196449)

tde-banana-odoo on (2025-02-06 07:44:17 UTC): @robodoo r+

"
2830428735,pull_request,closed,,[FW][FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196376",fw-bot,2025-02-04 14:27:09+00:00,[],2025-02-05 14:58:13+00:00,2025-02-05 14:58:13+00:00,https://github.com/odoo/odoo/pull/196448,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2634127540, 'issue_id': 2830428735, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196448.png)](https://mergebot.odoo.com/odoo/odoo/pull/196448)', 'created_at': datetime.datetime(2025, 2, 4, 14, 27, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634127583, 'issue_id': 2830428735, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 14, 27, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634220733, 'issue_id': 2830428735, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 14, 53, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636471460, 'issue_id': 2830428735, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 29, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636494430, 'issue_id': 2830428735, 'author': 'fw-bot', 'body': ""@walidsahli @dmo-odoo child PR odoo/odoo#196564 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 5, 11, 40, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:27:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196448.png)](https://mergebot.odoo.com/odoo/odoo/pull/196448)

fw-bot (Issue Creator) on (2025-02-04 14:27:11 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 14:53:56 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

walidsahli on (2025-02-05 11:29:03 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-02-05 11:40:26 UTC): @walidsahli @dmo-odoo child PR odoo/odoo#196564 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2830396124,pull_request,closed,,[I18N] l10n_eu_oss: add translations,Related to https://github.com/odoo/enterprise/pull/78533,dylankiss,2025-02-04 14:14:23+00:00,[],2025-02-04 16:27:47+00:00,2025-02-04 16:27:47+00:00,https://github.com/odoo/odoo/pull/196447,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634093950, 'issue_id': 2830396124, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196447.png)](https://mergebot.odoo.com/odoo/odoo/pull/196447)', 'created_at': datetime.datetime(2025, 2, 4, 14, 14, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:14:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196447.png)](https://mergebot.odoo.com/odoo/odoo/pull/196447)

"
2830389650,pull_request,open,,[FIX] mail: display arrows to switch to a valid attachment,"### Steps to reproduce:
- Create a new invoice
- Attach a ZIP file then a PDF file
- The file viewer shows but tries to preview the ZIP file
- Happens with all non-viewable files

### Cause:
The ZIP file is put as main attachment and the method `register_as_main_attachment` only change the main attachment (with `force=False`) when there is no main attachment.

The behavior of the file viewer is problematic because we cannot switch between the attachments in the preview, so we cannot see the PDF. But if we add another PDF file (so one ZIP and 2 PDFs), we can switch but it will never show the ZIP again, only the two PDFs. This behavior is due to the [next/previous arrows](https://github.com/odoo/odoo/blob/e4da068d6c9c8885dd4663d50dee11c9ea1516a3/addons/mail/static/src/components/web_client_view_attachment_view/web_client_view_attachment_view.xml#L13) being displayed only if [`attachmentsInWebClientView`](https://github.com/odoo/odoo/blob/e4da068d6c9c8885dd4663d50dee11c9ea1516a3/addons/mail/static/src/models/attachment.js#L323-L328) contains more than one item. But this list only contains viewable attachments (PDF or Images), and the next/previous arrows only take attachments from this list. As the arrows are [changing the main attachment](https://github.com/odoo/odoo/blob/e4da068d6c9c8885dd4663d50dee11c9ea1516a3/addons/mail/static/src/models/web_client_view_attachment_view.js#L17) to change the displayed preview, it never comes back to the problematic ZIP file.

### Solution:
Also display the arrows if the main attachment is not viewable and there is more than one attachment.
This way the user can return in the list of viewable attachments.

This is not an optimal because Odoo will still try to display the ZIP file, but it is a simple fix that works. 
I tried restraining the main attachment field only to viewable files in this [PR](https://github.com/odoo/odoo/pull/196390), but it seems to break things specially with OCR extraction and apparently it is sometimes wanted to have an XML as main attachment.

opw-4486363",mathcoutant,2025-02-04 14:11:46+00:00,[],2025-02-04 15:00:20+00:00,,https://github.com/odoo/odoo/pull/196446,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634087244, 'issue_id': 2830389650, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196446.png)](https://mergebot.odoo.com/odoo/odoo/pull/196446)', 'created_at': datetime.datetime(2025, 2, 4, 14, 11, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:11:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196446.png)](https://mergebot.odoo.com/odoo/odoo/pull/196446)

"
2830389127,pull_request,closed,,[FIX] website_slides: course changes in the middle of the tour,"The slide course member tour tests use  a channel called `Basics of Gardening - Test`. When the course is completed, clicking on `End course` will redirect the user to the courses home page. Since there is already a course (from demo data) called `Basics of Gardening`, the selector in the tour test actually selects this as the first match not the test course and the tour continues with the wrong course. It doesn't crash because both demo and test courses are public, so
 it's possible for demo and portal users to access them anyway and add/update a
 comment is done on the demo course.
 
 By this commit:
 - Demo data is removed in the tests to ensure that there is no collision between demo data and test data.
 - Since there are no predefined messages in the test data (the tour flow relied on the demo data messages before), the `update` does not happen in the tour without demo data. Some extra steps are also added to check the update message .
",maki-odoo,2025-02-04 14:11:33+00:00,[],2025-02-05 02:45:43+00:00,2025-02-05 02:45:43+00:00,https://github.com/odoo/odoo/pull/196445,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634086762, 'issue_id': 2830389127, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196445.png)](https://mergebot.odoo.com/odoo/odoo/pull/196445)', 'created_at': datetime.datetime(2025, 2, 4, 14, 11, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634093215, 'issue_id': 2830389127, 'author': 'awa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 14, 14, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:11:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196445.png)](https://mergebot.odoo.com/odoo/odoo/pull/196445)

awa-odoo on (2025-02-04 14:14:09 UTC): @robodoo r+

"
2830372076,pull_request,open,,"[FIX] account: studio edit report w/o any invoice
","
Scenario:
- create a new company and switch to it
- use studio to edit the invoice report ""PDF without Payment""
- click on ""Edit Sources""
=> in preview we see ""The report could not be rendered due to an error""
   or a traceback if in debug mode

- then edit the report xml and save
=> we see this error message

> Report edition failed
> …
> This could also be due to the absence of a real record to render the
> report with.

Fix: make the invoice report work with empty recordset that studio is
     using to preview and verify the report is valid when there is not
     any available record.

Note: fixing it in master, since this is adding risk by modifying XPath
for very little benefit (a particular case just in studio, with a clear
error message and an even clearer warning when saving XML edition).

opw-4463707
",nle-odoo,2025-02-04 14:04:47+00:00,[],2025-02-04 15:00:22+00:00,,https://github.com/odoo/odoo/pull/196443,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634069442, 'issue_id': 2830372076, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196443.png)](https://mergebot.odoo.com/odoo/odoo/pull/196443)', 'created_at': datetime.datetime(2025, 2, 4, 14, 4, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:04:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196443.png)](https://mergebot.odoo.com/odoo/odoo/pull/196443)

"
2830369595,pull_request,closed,,[FIX] html_editor: convert xml self-closing elements to html,"HTML content is often saved as XML (i.e. through templates) and saved as such in the database. This introduces issues when elements are written under their `self-closing` format (i.e. `<a/>` or `<br/>`) as browsers will incorrectly parse these values as HTML by adding a closing tag at an arbitrary position which may modify the initial nodes configuration. This can be prevented by post-processing untrusted content before the html parsing.

This commit is an overhaul of:
https://github.com/odoo/odoo/commit/26b922ef5cad42da7e188195e919e54878d472fc https://github.com/odoo/odoo/commit/1a8a943d8373864165cb513b3767b866d626fad8 https://github.com/odoo/odoo/commit/4e547b24a323f8e59a11c5b78cbea38effc37938

in order to apply the conversion at critical entry points for editor assets:
- HtmlField is an entry point for data coming from the server, stored on the record. Every access of the record data should not be trusted and go through the post-processing.

- HtmlViewer is an entry point as it can be used as a standalone (see `website_knowledge`, or the HistoryDialog) for data coming from the server.

- Editor is an entry point as it was developed to be useable as a standalone.

task-4547973
",abd-msyukyu-odoo,2025-02-04 14:03:57+00:00,[],2025-02-06 17:59:20+00:00,2025-02-06 17:59:20+00:00,https://github.com/odoo/odoo/pull/196442,"[('RD', 'research & development, internal work')]","[{'comment_id': 2634067447, 'issue_id': 2830369595, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196442.png)](https://mergebot.odoo.com/odoo/odoo/pull/196442)', 'created_at': datetime.datetime(2025, 2, 4, 14, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639867459, 'issue_id': 2830369595, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 42, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 14:04:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196442.png)](https://mergebot.odoo.com/odoo/odoo/pull/196442)

dmo-odoo on (2025-02-06 13:42:52 UTC): @robodoo r+

"
2830339305,pull_request,closed,,[FIX] account: commercial partner access,"Since https://github.com/odoo/odoo/commit/25cf037c we're
trying to access `ResPartner.commercial_partner_id` but there are some
issue with upgrade as it appears that some partners belong to a
different company than their parent partner.
",guva-odoo,2025-02-04 13:53:22+00:00,[],2025-02-04 14:30:56+00:00,2025-02-04 14:30:55+00:00,https://github.com/odoo/odoo/pull/196441,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2634035946, 'issue_id': 2830339305, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196441.png)](https://mergebot.odoo.com/odoo/odoo/pull/196441)', 'created_at': datetime.datetime(2025, 2, 4, 13, 53, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634043329, 'issue_id': 2830339305, 'author': 'guva-odoo', 'body': 'see https://github.com/odoo/upgrade/pull/7113', 'created_at': datetime.datetime(2025, 2, 4, 13, 56, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634138188, 'issue_id': 2830339305, 'author': 'guva-odoo', 'body': 'not needed https://github.com/odoo/odoo/pull/195392#event-16179853500', 'created_at': datetime.datetime(2025, 2, 4, 14, 30, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:53:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196441.png)](https://mergebot.odoo.com/odoo/odoo/pull/196441)

guva-odoo (Issue Creator) on (2025-02-04 13:56:29 UTC): see https://github.com/odoo/upgrade/pull/7113

guva-odoo (Issue Creator) on (2025-02-04 14:30:55 UTC): not needed https://github.com/odoo/odoo/pull/195392#event-16179853500

"
2830329537,pull_request,closed,,[FIX] Accounting: Rounding line with multi company fails,"Description of the issue/feature this PR addresses:
A bug occurred when the system attempted to automatically add a rounding line to an invoice in a multi-company environment. The company-dependent field was being updated without properly considering the invoice’s company context.

Current behavior before PR:
An error was raised when trying to create the rounding line because the system looked up the accounts for Company 1 instead of the invoice’s assigned company.

Desired behavior after PR is merged:
No error was raised



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",geiercsaba,2025-02-04 13:49:25+00:00,[],2025-02-04 16:51:36+00:00,2025-02-04 16:51:36+00:00,https://github.com/odoo/odoo/pull/196440,"[('Accounting', '')]","[{'comment_id': 2634026494, 'issue_id': 2830329537, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196440.png)](https://mergebot.odoo.com/odoo/odoo/pull/196440)', 'created_at': datetime.datetime(2025, 2, 4, 13, 49, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:49:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196440.png)](https://mergebot.odoo.com/odoo/odoo/pull/196440)

"
2830298107,pull_request,open,,[FIX] web: Accounting Reports Column Selection,"When toggling columns in any Accounting Report list view, it requires a manual refresh to see the changes.
this is caused because this [commit](https://github.com/odoo/enterprise/pull/56589/commits/adc4bb7394cd7f25cffd15330fa699777bf2aac1) removed automatic reactivity, so we need to explicitly recompute the columns after updating `optionalActiveFields`

Steps to reproduce:
0. Activate developer mode
1. Navigate to the 'Accounting Reports' menu in accounting.
2. Open a report (e.g. the balance sheet)
3. Use the column selector to add or remove additional columns

OPW-4352833

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",elhayyany,2025-02-04 13:38:13+00:00,[],2025-02-05 16:24:07+00:00,,https://github.com/odoo/odoo/pull/196439,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633981777, 'issue_id': 2830298107, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196439.png)](https://mergebot.odoo.com/odoo/odoo/pull/196439)', 'created_at': datetime.datetime(2025, 2, 4, 13, 38, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637410737, 'issue_id': 2830298107, 'author': 'elhayyany', 'body': 'test in enterprise https://github.com/odoo/enterprise/pull/78638', 'created_at': datetime.datetime(2025, 2, 5, 16, 24, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:38:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196439.png)](https://mergebot.odoo.com/odoo/odoo/pull/196439)

elhayyany (Issue Creator) on (2025-02-05 16:24:04 UTC): test in enterprise https://github.com/odoo/enterprise/pull/78638

"
2830271821,pull_request,open,,[FIX] barcodes_gs1_nomenclature: set a default value when the barcode is missing,"Currently, an exception is generated when a user tries to save a product record without a barcode, whether it is a newly created record or an existing one.

Steps to reproduce:

1. Install the Inventory module.
2. Go to Inventory settings.
3. Set Barcode Nomenclature to Default GS1 Nomenclature.
4.  Go to Inventory -> Products, create a product with a barcode, and save it.
5. Edit the same product, remove the barcode, and save it again.
6. An error occurs.

Error: `StopIteration`

This issue [1] occurs because when a user tries to save the record without a barcode, the value is false, and an false value is not iterable.

[1] - https://github.com/odoo/odoo/blob/9eb6c16cd7d4fe9364d043e2af96876bf82a44d4/addons/barcodes_gs1_nomenclature/models/barcode_nomenclature.py#L163

This fix resolves the issue by ensuring that the value's length is exactly one, and I have added a test for this issue.

sentry-6267124218

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kkuj-odoo,2025-02-04 13:29:59+00:00,[],2025-02-06 09:05:53+00:00,,https://github.com/odoo/odoo/pull/196438,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633938837, 'issue_id': 2830271821, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196438.png)](https://mergebot.odoo.com/odoo/odoo/pull/196438)', 'created_at': datetime.datetime(2025, 2, 4, 13, 30, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636149121, 'issue_id': 2830271821, 'author': 'kkuj-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease review this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 5, 9, 10, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636268881, 'issue_id': 2830271821, 'author': 'adwid', 'body': 'Hey\r\n\r\nThx\r\n\r\nCan you add a test ?', 'created_at': datetime.datetime(2025, 2, 5, 10, 1, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639218958, 'issue_id': 2830271821, 'author': 'kkuj-odoo', 'body': 'Hello @odoo/sentry_reviewers \r\nI have added a test.\r\nPlease review this PR\r\n\r\nThank you  :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 6, 9, 5, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:30:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196438.png)](https://mergebot.odoo.com/odoo/odoo/pull/196438)

kkuj-odoo (Issue Creator) on (2025-02-05 09:10:51 UTC): Ola @odoo/sentry_reviewers :wave: 

Please review this PR

Thank You :slightly_smiling_face:

adwid on (2025-02-05 10:01:09 UTC): Hey

Thx

Can you add a test ?

kkuj-odoo (Issue Creator) on (2025-02-06 09:05:52 UTC): Hello @odoo/sentry_reviewers 
I have added a test.
Please review this PR

Thank you  :slightly_smiling_face:

"
2830266018,pull_request,open,,[IMP] website_sale: clear flows for cart updates,"
https://github.com/odoo/enterprise/pull/78528


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Feyensv,2025-02-04 13:28:05+00:00,[],2025-02-07 14:20:25+00:00,,https://github.com/odoo/odoo/pull/196437,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633929679, 'issue_id': 2830266018, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196437.png)](https://mergebot.odoo.com/odoo/odoo/pull/196437)', 'created_at': datetime.datetime(2025, 2, 4, 13, 28, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:28:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196437.png)](https://mergebot.odoo.com/odoo/odoo/pull/196437)

"
2830258025,pull_request,closed,,[FW][FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

Forward-Port-Of: odoo/odoo#196050
Forward-Port-Of: odoo/odoo#195859",fw-bot,2025-02-04 13:25:26+00:00,[],2025-02-05 14:58:43+00:00,2025-02-05 14:58:43+00:00,https://github.com/odoo/odoo/pull/196436,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633915729, 'issue_id': 2830258025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196436.png)](https://mergebot.odoo.com/odoo/odoo/pull/196436)', 'created_at': datetime.datetime(2025, 2, 4, 13, 25, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633915823, 'issue_id': 2830258025, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 13, 25, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636499594, 'issue_id': 2830258025, 'author': 'fw-bot', 'body': ""@bvr-odoo @qsm-odoo child PR odoo/odoo#196452 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 5, 11, 43, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636843397, 'issue_id': 2830258025, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 22, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:25:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196436.png)](https://mergebot.odoo.com/odoo/odoo/pull/196436)

fw-bot (Issue Creator) on (2025-02-04 13:25:28 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 11:43:11 UTC): @bvr-odoo @qsm-odoo child PR odoo/odoo#196452 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

bvr-odoo on (2025-02-05 13:22:21 UTC): @robodoo r+

"
2830257013,pull_request,closed,,[FW][FIX] account: improve help attribute on credit limit,"Having a credit limit set to 0 means 'no limit', user
has to set it to 0.01 to have a minimum limit.
This can be confusing for the user, so add a little
help message to the fields in both partner and settings views.

A better solution should be to use the `ResPartner.use_partner_credit_limit`
field to be able to set 0$ limit to specifics partner, but this can't
be done in stable (computed, non stored field).

opw-4479163

Forward-Port-Of: odoo/odoo#196300
Forward-Port-Of: odoo/odoo#194886",fw-bot,2025-02-04 13:25:07+00:00,[],2025-02-05 14:58:32+00:00,2025-02-05 14:58:31+00:00,https://github.com/odoo/odoo/pull/196435,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633914610, 'issue_id': 2830257013, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196435.png)](https://mergebot.odoo.com/odoo/odoo/pull/196435)', 'created_at': datetime.datetime(2025, 2, 4, 13, 25, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633914656, 'issue_id': 2830257013, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 13, 25, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:25:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196435.png)](https://mergebot.odoo.com/odoo/odoo/pull/196435)

fw-bot (Issue Creator) on (2025-02-04 13:25:09 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2830230860,pull_request,open,,[FIX] html_editor: prevent traceback when closing popover,"**Problem**:
When an `img` is inside a link, `removeCurrentLinkIfEmpty` removes the `<a>` node if no `href` is provided. This resets `linkElement` to `null`.

This happens if the user clicks outside the link popover (when is is open) without entering a URL, it results in a traceback due to an invalid reference.

**Solution**:
Ensure `linkEl.isConnected` before defining popover properties to avoid referencing a removed element.

**Steps to Reproduce**:
1. Add an image.
2. Click on the image > toolbar > ""Link"".
3. When the link popover appears, click outside without typing a URL.
4. Observe a traceback.

opw-4546324

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-04 13:17:38+00:00,[],2025-02-07 13:30:32+00:00,,https://github.com/odoo/odoo/pull/196434,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633881605, 'issue_id': 2830230860, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196434.png)](https://mergebot.odoo.com/odoo/odoo/pull/196434)', 'created_at': datetime.datetime(2025, 2, 4, 13, 17, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642943465, 'issue_id': 2830230860, 'author': 'walidsahli', 'body': 'Hello Sébastien,\r\n\r\nIndeed the test does not trigger the traceback, i updated the PR now the test should fail without the fix.\r\nI will try to look how it can be fixed with smaller change.\r\n\r\nThanks for the feedback.', 'created_at': datetime.datetime(2025, 2, 7, 13, 30, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:17:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196434.png)](https://mergebot.odoo.com/odoo/odoo/pull/196434)

walidsahli (Issue Creator) on (2025-02-07 13:30:30 UTC): Hello Sébastien,

Indeed the test does not trigger the traceback, i updated the PR now the test should fail without the fix.
I will try to look how it can be fixed with smaller change.

Thanks for the feedback.

"
2830228598,pull_request,closed,,[FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535
",bvr-odoo,2025-02-04 13:16:49+00:00,[],2025-02-04 17:24:51+00:00,2025-02-04 17:24:51+00:00,https://github.com/odoo/odoo/pull/196433,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633878259, 'issue_id': 2830228598, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196433.png)](https://mergebot.odoo.com/odoo/odoo/pull/196433)', 'created_at': datetime.datetime(2025, 2, 4, 13, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634278896, 'issue_id': 2830228598, 'author': 'bso-odoo', 'body': '@robodoo delegate=SergeBayet', 'created_at': datetime.datetime(2025, 2, 4, 15, 15, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634368988, 'issue_id': 2830228598, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 47, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:16:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196433.png)](https://mergebot.odoo.com/odoo/odoo/pull/196433)

bso-odoo on (2025-02-04 15:15:11 UTC): @robodoo delegate=SergeBayet

SergeBayet on (2025-02-04 15:47:18 UTC): @robodoo r+

"
2830225676,pull_request,closed,,[FIX] web_tour: drop inside an iframe,"Before this commit, only pointerup was listened and was on the global document. Now, the event is listened on the ownerDocument of the element.

Like that, if the element is inside an iframe, it will be correctly listened. The ""drop"" is also added to the listened events, because sign doesn't use the draggable hook of owl, instead it uses the vanilla drag and drop system of javascript.

The dropzone shown during an onboarding tour is also fixed and takes into account the offset of the iframe in the top document.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",bastien-ipb,2025-02-04 13:15:54+00:00,[],2025-02-05 02:45:44+00:00,2025-02-05 02:45:44+00:00,https://github.com/odoo/odoo/pull/196432,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633874516, 'issue_id': 2830225676, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196432.png)](https://mergebot.odoo.com/odoo/odoo/pull/196432)', 'created_at': datetime.datetime(2025, 2, 4, 13, 15, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634246382, 'issue_id': 2830225676, 'author': 'pipu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 2, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:15:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196432.png)](https://mergebot.odoo.com/odoo/odoo/pull/196432)

pipu-odoo on (2025-02-04 15:02:57 UTC): @robodoo r+

"
2830220703,pull_request,closed,,[IMP] project: include by default subtasks in main views of tasks,"Before this commit, the subtasks are hidden by default when the user goes into a project to see the tasks linked to that project. The problem is it is difficult to notify the sub-tasks are not displayed in the view and it is also difficult to know how to show them. The user has to discover the new filter `Show sub-tasks` in the search view.

This commit will now display all tasks (sub-tasks included) linked to the project to be sure the user will see all information first. If the user would like to hide the sub-tasks then he will just have to select the filter `Hide Sub-Tasks`.

task-4547389
",xavierbol,2025-02-04 13:13:55+00:00,[],2025-02-06 18:08:21+00:00,2025-02-06 18:08:21+00:00,https://github.com/odoo/odoo/pull/196431,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2633868848, 'issue_id': 2830220703, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196431.png)](https://mergebot.odoo.com/odoo/odoo/pull/196431)', 'created_at': datetime.datetime(2025, 2, 4, 13, 13, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640060148, 'issue_id': 2830220703, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 14, 57, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:13:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196431.png)](https://mergebot.odoo.com/odoo/odoo/pull/196431)

xavierbol (Issue Creator) on (2025-02-06 14:57:09 UTC): robodoo r+

"
2830211277,pull_request,closed,,[FW][FIX] hr: fixed the plan smart button,"In this PR,
- Set the default department for the Plans smart button.
- If there is no plan, it will open the form view.

Task-4356557

Forward-Port-Of: odoo/odoo#196357
Forward-Port-Of: odoo/odoo#190938",fw-bot,2025-02-04 13:10:04+00:00,[],2025-02-05 11:09:24+00:00,2025-02-05 11:09:24+00:00,https://github.com/odoo/odoo/pull/196430,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633859892, 'issue_id': 2830211277, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196430.png)](https://mergebot.odoo.com/odoo/odoo/pull/196430)', 'created_at': datetime.datetime(2025, 2, 4, 13, 10, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633859927, 'issue_id': 2830211277, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 13, 10, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634006975, 'issue_id': 2830211277, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 13, 43, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635677269, 'issue_id': 2830211277, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 4, 29, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636119308, 'issue_id': 2830211277, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 59, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:10:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196430.png)](https://mergebot.odoo.com/odoo/odoo/pull/196430)

fw-bot (Issue Creator) on (2025-02-04 13:10:07 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 13:43:17 UTC): @yava-odoo @tivisse ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 04:29:45 UTC): @yava-odoo @tivisse this PR was modified / updated and has become a normal PR. It must be merged directly.

tivisse on (2025-02-05 08:59:27 UTC): @robodoo r+

"
2830201581,pull_request,closed,,[FW][FIX] mrp: correct color logic for consumed quantities' display,"**Steps to reproduce:**
- Create a storable product `P1` with the following BoM:
    - Qty: 1 unit
    - Components:
        - C1, C2, C3: 3 units
- Create a MO to produce one unit of `P1`;
  - Confirm the order;
  - Update the product's `Quantity` to 1 at least;
    *The quantities of `To Consume` and `Quantity` columns in the `Components` tab of the notebook are automatically set to 3.*
- Update the field `Quantity` of components to:
    - **C1**: 1 unit
    - **C2**: 3 units
    - **C3**: 4 units

___
**Issue:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less than the <ins>total needed</ins> value &rarr; highlights in green;
- **C2**: equal to the value &rarr; highlights in black;
- **C3**: higher than the value &rarr; highlights in orange.

![Capture d’écran 2024-12-30 à 17 49 56](https://github.com/user-attachments/assets/e4fe7488-de04-4749-9930-85f11f71532a)

___
**Expected:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less -> black;
- **C2**: equal -> green;
- **C3**: higher -> orange.

___
**Cause:**
Text decorations are based on a wrong logic by getting the quantities from wrong field. This field has been changed during an apocalypse.
https://github.com/odoo/odoo/blob/c43297435cfcaf560d5c952ac3c4a383a6f1dc28/addons/mrp/views/mrp_production_views.xml#L405-L406

___
**Fix:**
Reset good field to check quantities, inspired by Odoo 16 using the computed `should_consume_qty` value to check the consumption status:
https://github.com/odoo/odoo/blob/67c78b38e794333eae55758ad4610515df5c49d2/addons/mrp/views/mrp_production_views.xml#L342-L343

![Capture d’écran 2024-12-30 à 17 49 26](https://github.com/user-attachments/assets/f30bd7fc-0140-4c16-abaf-540f4c1bc12d)

___
**Forward:**
To forward up to master.
Odoo 17 :
```
<field name=""quantity"" string=""Quantity""
    decoration-success=""product_uom_qty - quantity &gt; -0.0001 and product_uom_qty - quantity &lt; 0.0001""
    decoration-warning=""quantity - product_uom_qty &gt; 0.0001""

```

___
opw-4393156
opw-4391582
opw-4391600

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196291
Forward-Port-Of: odoo/odoo#190162",fw-bot,2025-02-04 13:05:46+00:00,[],2025-02-05 14:26:52+00:00,2025-02-05 14:26:52+00:00,https://github.com/odoo/odoo/pull/196429,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633849976, 'issue_id': 2830201581, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196429.png)](https://mergebot.odoo.com/odoo/odoo/pull/196429)', 'created_at': datetime.datetime(2025, 2, 4, 13, 5, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633850001, 'issue_id': 2830201581, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 13, 5, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633972604, 'issue_id': 2830201581, 'author': 'fw-bot', 'body': '@barracudapps @clesgow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 13, 36, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636016514, 'issue_id': 2830201581, 'author': 'barracudapps', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 5, 8, 7, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636016582, 'issue_id': 2830201581, 'author': 'robodoo', 'body': '@barracudapps retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 2, 5, 8, 7, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:05:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196429.png)](https://mergebot.odoo.com/odoo/odoo/pull/196429)

fw-bot (Issue Creator) on (2025-02-04 13:05:48 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 13:36:51 UTC): @barracudapps @clesgow ci/runbot failed on this forward-port PR

barracudapps on (2025-02-05 08:07:25 UTC): @robodoo retry

robodoo on (2025-02-05 08:07:28 UTC): @barracudapps retry makes no sense when the PR is not in error.

"
2830197782,pull_request,closed,,"[FIX] website_sale{,_delivery}: ensure state is in the correct country","Versions
--------
- 16.0+

Steps
-----
1. Enable Stripe Express Checkout;
2. go to eCommerce as Public User;
3. pay via express checkout for a deliverable item;
4. in Stripe, set shipping address to somewhere in California;
5. finish payment.

Issue
-----
The new partner is created with its state set to Cadiz instead of California.

Cause
-----
When searching for a state using its code, it fetches the first matching item. The problem is that unlike country codes, state codes aren't unique, e.g. there are 4 states that match the 'CA' code (only one of them being in the United States).

Solution
--------
Add `country_id` to the search domain to ensure the fetched state belongs to the relevant country.

opw-4396024
",lvsz,2025-02-04 13:04:04+00:00,[],2025-02-06 11:01:44+00:00,2025-02-06 11:01:44+00:00,https://github.com/odoo/odoo/pull/196428,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633846384, 'issue_id': 2830197782, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196428.png)](https://mergebot.odoo.com/odoo/odoo/pull/196428)', 'created_at': datetime.datetime(2025, 2, 4, 13, 4, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636202924, 'issue_id': 2830197782, 'author': 'robodoo', 'body': '@AntoineVDV you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 5, 9, 33, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636204718, 'issue_id': 2830197782, 'author': 'AntoineVDV', 'body': '@robodoo delegate+\r\n\r\nSome tests are failing.', 'created_at': datetime.datetime(2025, 2, 5, 9, 34, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636271911, 'issue_id': 2830197782, 'author': 'lvsz', 'body': ""> Some tests are failing.\r\n\r\nOh, yeah, apparently the demo user getting tested lives in Córdoba, USA 🤠\r\n~~I'm gonna assume that was supposed to be Colorado~~\r\nnope was apparently supposed to be Oregon, but got Córdoba because of `('code', 'ilike', 'OR')`"", 'created_at': datetime.datetime(2025, 2, 5, 10, 2, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639179357, 'issue_id': 2830197782, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 46, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:04:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196428.png)](https://mergebot.odoo.com/odoo/odoo/pull/196428)

robodoo on (2025-02-05 09:33:50 UTC): @AntoineVDV you may want to rebuild or fix this PR as it has failed CI.

AntoineVDV on (2025-02-05 09:34:38 UTC): @robodoo delegate+

Some tests are failing.

lvsz (Issue Creator) on (2025-02-05 10:02:25 UTC): Oh, yeah, apparently the demo user getting tested lives in Córdoba, USA 🤠
~~I'm gonna assume that was supposed to be Colorado~~
nope was apparently supposed to be Oregon, but got Córdoba because of `('code', 'ilike', 'OR')`

lvsz (Issue Creator) on (2025-02-06 08:46:57 UTC): robodoo r+

"
2830188657,pull_request,open,,[FIX] hr: move some resource calendar code from hr_payroll to hr,"Currently, we are getting an attribute error while executing the below lines of code.

https://github.com/odoo/enterprise/blob/a0215115c13d5e32f1ba3c821f138b188083e76b/hr_recruitment_integration_monster/wizard/hr_recruitment_post.py#L16

https://github.com/odoo/enterprise/blob/a0215115c13d5e32f1ba3c821f138b188083e76b/hr_recruitment_integration_monster/wizard/hr_recruitment_post.py#L31

Error:-
```
AttributeError: 'resource.calendar' object has no attribute 'hours_per_week'
```

This is because the `hours_per_week`, `is_fulltime` is defined in `hr_payroll`. But it is used in `hr_recruitment_integration_monster`. 

Which is not dependent directly/indirectly on `hr_payroll`.

https://github.com/odoo/enterprise/blob/a0215115c13d5e32f1ba3c821f138b188083e76b/hr_payroll/models/resource_calendar.py#L20-L21

So this will lead to the above traceback.

We can resolve this issue by moving the hr_payroll code of calculating the `hours_per_week` and `is_fulltime` to hr module.

sentry-6267814511

Related Enterprise PR:-https://github.com/odoo/enterprise/pull/78521",alsh-odoo,2025-02-04 13:00:32+00:00,[],2025-02-05 14:20:47+00:00,,https://github.com/odoo/odoo/pull/196427,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633838495, 'issue_id': 2830188657, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196427.png)](https://mergebot.odoo.com/odoo/odoo/pull/196427)', 'created_at': datetime.datetime(2025, 2, 4, 13, 0, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636204527, 'issue_id': 2830188657, 'author': 'alsh-odoo', 'body': 'Ola @odoo/sentry_reviewers :wave: \r\n\r\nPlease look at this PR\r\n\r\nThank You :slightly_smiling_face:', 'created_at': datetime.datetime(2025, 2, 5, 9, 34, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 13:00:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196427.png)](https://mergebot.odoo.com/odoo/odoo/pull/196427)

alsh-odoo (Issue Creator) on (2025-02-05 09:34:33 UTC): Ola @odoo/sentry_reviewers :wave: 

Please look at this PR

Thank You :slightly_smiling_face:

"
2830187080,pull_request,open,,[FIX] point_of_sale: add html field to manifest,"Before this commit comment field in calendar_event_view_form_gantt_booking
 used in pos restaurant does not display properly html field.

Fixed by importing the html editor to the point_of_sale manifest.

task-4547369

https://github.com/odoo/enterprise/pull/78536
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",loukwets,2025-02-04 12:59:51+00:00,[],2025-02-06 15:13:07+00:00,,https://github.com/odoo/odoo/pull/196426,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633836944, 'issue_id': 2830187080, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196426.png)](https://mergebot.odoo.com/odoo/odoo/pull/196426)', 'created_at': datetime.datetime(2025, 2, 4, 12, 59, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640101545, 'issue_id': 2830187080, 'author': 'vlst-odoo', 'body': 'robodoo delegate+', 'created_at': datetime.datetime(2025, 2, 6, 15, 12, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:59:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196426.png)](https://mergebot.odoo.com/odoo/odoo/pull/196426)

vlst-odoo on (2025-02-06 15:12:30 UTC): robodoo delegate+

"
2830165809,pull_request,closed,,"[FIX] account: trigger computation on report ""report_invoice_with_payments""","Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create a new invoice with a Swiss customer
- Confirm
- In the actions, select ""PDF without payments""
- The generated PDF has a blank page at the end

Cause:
Some computation looks for report applicable to invoices.
PDF without payment (`report_invoice_with_payments`) is a
special case of such report. We don't want it to be used as an
official report template for invoices, but we want to allow the
Swiss case where the payment QR code should be possible to add.

The bug appears after this commit which modified the
`_is_invoice_report` method to only validate report with
is_invoice_report=True.
https://github.com/odoo/odoo/commit/bb60952c944db27d71d7fe32ead2dff05c3fe922#diff-b6e108b605fbefba066e3b20f8e030ea78881bbed816f8ac5cb38e745c542739R50

Solution:
Fix the method _is_invoice_report to recognize PDF without payment,
without setting the latter to is_invoice_report=True (which triggers
undesirable behaviors surch as showing multiple templates in the
Print & Send wizard).

opw-4467250",clbr-odoo,2025-02-04 12:51:27+00:00,['clbr-odoo'],2025-02-06 10:43:48+00:00,2025-02-06 10:43:48+00:00,https://github.com/odoo/odoo/pull/196425,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633817567, 'issue_id': 2830165809, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196425.png)](https://mergebot.odoo.com/odoo/odoo/pull/196425)', 'created_at': datetime.datetime(2025, 2, 4, 12, 51, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633818070, 'issue_id': 2830165809, 'author': 'clbr-odoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 4, 12, 51, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633818174, 'issue_id': 2830165809, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 4, 12, 51, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633821155, 'issue_id': 2830165809, 'author': 'clbr-odoo', 'body': '@mathcoutant FYI :slightly_smiling_face: \r\nI understand the confusion, that `is_invoice_report` thing is not very well named, and the method and the boolean seems to be used a bit randomly... although I think this will solve your problem without breaking all the rest.', 'created_at': datetime.datetime(2025, 2, 4, 12, 53, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634110182, 'issue_id': 2830165809, 'author': 'mathcoutant', 'body': '> @mathcoutant FYI 🙂 I understand the confusion, that `is_invoice_report` thing is not very well named, and the method and the boolean seems to be used a bit randomly... although I think this will solve your problem without breaking all the rest.\r\n\r\nI did not thought it would cause an issue but indeed i got fooled by the names. I will change my foward port accordingly.\r\nThank you for the suggestion 🙏', 'created_at': datetime.datetime(2025, 2, 4, 14, 20, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639109508, 'issue_id': 2830165809, 'author': 'RicGR98', 'body': 'Thaaaanks\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639109605, 'issue_id': 2830165809, 'author': 'robodoo', 'body': '@clbr-odoo @RicGR98 because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 6, 8, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639111792, 'issue_id': 2830165809, 'author': 'RicGR98', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 6, 8, 11, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639111874, 'issue_id': 2830165809, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 6, 8, 11, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:51:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196425.png)](https://mergebot.odoo.com/odoo/odoo/pull/196425)

clbr-odoo (Issue Creator) on (2025-02-04 12:51:44 UTC): @robodoo fw=no

robodoo on (2025-02-04 12:51:47 UTC): Disabled forward-porting.

clbr-odoo (Issue Creator) on (2025-02-04 12:53:04 UTC): @mathcoutant FYI :slightly_smiling_face: 
I understand the confusion, that `is_invoice_report` thing is not very well named, and the method and the boolean seems to be used a bit randomly... although I think this will solve your problem without breaking all the rest.

mathcoutant on (2025-02-04 14:20:39 UTC): I did not thought it would cause an issue but indeed i got fooled by the names. I will change my foward port accordingly.
Thank you for the suggestion 🙏

RicGR98 on (2025-02-06 08:09:57 UTC): Thaaaanks

@robodoo r+

robodoo on (2025-02-06 08:10:00 UTC): @clbr-odoo @RicGR98 because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

RicGR98 on (2025-02-06 08:11:18 UTC): @robodoo rebase-ff

robodoo on (2025-02-06 08:11:21 UTC): Merge method set to rebase and fast-forward.

"
2830154980,pull_request,closed,,[FW][FIX] html_editor: prevent using self-closing elements in editor,"**Problem**:
When content comes from the config containing self-closing tags,
the browser misinterprets them as they are not valid HTML,
leading to a broken template when displayed.

**Solution**:
Convert self-closing tags to explicitly opened and closed tags
when content is added to the editor.

**Steps to Reproduce**:
1. Open Email Templates > ""Sales: Order Confirmation"".
2. Inspect and observe that self-closing tags are not rendered correctly.

opw-4531812

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196002",fw-bot,2025-02-04 12:47:08+00:00,[],2025-02-04 22:01:43+00:00,2025-02-04 22:01:36+00:00,https://github.com/odoo/odoo/pull/196424,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633807033, 'issue_id': 2830154980, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196424.png)](https://mergebot.odoo.com/odoo/odoo/pull/196424)', 'created_at': datetime.datetime(2025, 2, 4, 12, 47, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633807048, 'issue_id': 2830154980, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196403\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 12, 47, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633823760, 'issue_id': 2830154980, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 54, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:47:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196424.png)](https://mergebot.odoo.com/odoo/odoo/pull/196424)

fw-bot (Issue Creator) on (2025-02-04 12:47:10 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196403

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-02-04 12:54:13 UTC): @robodoo r+

"
2830146433,pull_request,closed,,[REF] web: remove unused code,"This commit removes unused code from the domain, and from the relational model.
",jpp-odoo,2025-02-04 12:43:38+00:00,[],2025-02-05 07:26:07+00:00,2025-02-04 22:01:40+00:00,https://github.com/odoo/odoo/pull/196423,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2633799069, 'issue_id': 2830146433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196423.png)](https://mergebot.odoo.com/odoo/odoo/pull/196423)', 'created_at': datetime.datetime(2025, 2, 4, 12, 43, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:43:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196423.png)](https://mergebot.odoo.com/odoo/odoo/pull/196423)

"
2830143789,pull_request,closed,,[IMP] web: use user.evalContext to evaluate action domains,"Before this commit, the code to evaluate action domains in the action service used user.context. The issue is that it is missing the new `companies` evaluation context key [1,2];

Now, we use `user.evalContext`.

[1]: https://github.com/odoo/odoo/commit/22e9d822e8cab08114c006eb8c4054c4de0c40f2
[2]: https://github.com/odoo/odoo/commit/c4d67df63dab3091d63f5ab237d4dd6e4c09dd7e

part-of-task-id 4250356",jpp-odoo,2025-02-04 12:42:30+00:00,[],2025-02-05 11:49:23+00:00,2025-02-05 10:56:11+00:00,https://github.com/odoo/odoo/pull/196422,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2633796577, 'issue_id': 2830143789, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196422.png)](https://mergebot.odoo.com/odoo/odoo/pull/196422)', 'created_at': datetime.datetime(2025, 2, 4, 12, 42, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633815004, 'issue_id': 2830143789, 'author': 'aab-odoo', 'body': 'robodoo delegate+', 'created_at': datetime.datetime(2025, 2, 4, 12, 50, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633834388, 'issue_id': 2830143789, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 58, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633923424, 'issue_id': 2830143789, 'author': 'robodoo', 'body': ""@jpp-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 13, 26, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635913868, 'issue_id': 2830143789, 'author': 'jpp-odoo', 'body': '@robodoo r+\r\n(rebase)', 'created_at': datetime.datetime(2025, 2, 5, 7, 28, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:42:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196422.png)](https://mergebot.odoo.com/odoo/odoo/pull/196422)

aab-odoo on (2025-02-04 12:50:21 UTC): robodoo delegate+

jpp-odoo (Issue Creator) on (2025-02-04 12:58:54 UTC): @robodoo r+

robodoo on (2025-02-04 13:26:54 UTC): @jpp-odoo 'ci/runbot' failed on this reviewed PR.

jpp-odoo (Issue Creator) on (2025-02-05 07:28:57 UTC): @robodoo r+
(rebase)

"
2830143450,pull_request,closed,,[FIX] point_of_sale: add product to order when barcode scanned,"Currently, when scanning a product barcode, the barcode is entered in the search bar instead of the product being added to the order.

Steps to reproduce:
-------------------
* Select a product and enter a barcode
* Open pos shop
* Scan the barcode. **Warning** this needs to be done with a real scanner and not the debug window
> Observation: barcode is entered in the search bar and the product is not
added to the order.

Why the fix:
------------
This behavior was introduced after the addition of the auto focus on the search input when typing:
https://github.com/odoo/odoo/commit/39ee805ac4ea75b55de0efd76fb5cd5fdae11b50

A barcode is a succession of event (ex; (shift, 0, shift, 9, ...), (0, 9, ...), ...) that depends of the language used. They still have in common the number being pressed. The first time a number is pressed, the following condition is `true` making the overall condition true as well:
https://github.com/odoo/odoo/blob/9a6c0bcbb3d028a678a3162af8208b474e01dc29/addons/point_of_sale/static/src/app/components/navbar/navbar.js#L64 
And now the focus element is put on the search bar which explains why the barcode is added there.

We now use the same setup as the barcode service
https://github.com/odoo/odoo/blob/db47f0e04fd8df276e93e19f27fa6bc655e609c6/addons/barcodes/static/src/barcode_service.js#L100-L105 We add the timeout on event. Each key is added to a buffer. Once the timeout is over, if the buffer has at least 2 character we consider it is a barcode and don't focus on the search bar. We stay consistent with the barcode service
https://github.com/odoo/odoo/blob/db47f0e04fd8df276e93e19f27fa6bc655e609c6/addons/barcodes/static/src/barcode_service.js#L55

We slightly modify the barcode service code so that, if we are already focused on the search bar we don't need to start the timeout. This allows people who type really fast to have all events registered directly.

opw-4511255",sbel-odoo,2025-02-04 12:42:21+00:00,[],2025-02-07 15:47:34+00:00,2025-02-07 15:47:34+00:00,https://github.com/odoo/odoo/pull/196421,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633796262, 'issue_id': 2830143450, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196421.png)](https://mergebot.odoo.com/odoo/odoo/pull/196421)', 'created_at': datetime.datetime(2025, 2, 4, 12, 42, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642863311, 'issue_id': 2830143450, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 8, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:42:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196421.png)](https://mergebot.odoo.com/odoo/odoo/pull/196421)

davidmonnom on (2025-02-07 13:08:01 UTC): @robodoo r+

"
2830138835,pull_request,closed,,[IMP] web: use user.evalContext to evaluate domain in searchModel,"Before this commit, the code to evaluate domain in the searchModel used user.context. The issue is that it is missing the new `companies` evaluation context key [1,2];

Now, we use `user.evalContext`.

[1]: https://github.com/odoo/odoo/commit/22e9d822e8cab08114c006eb8c4054c4de0c40f2
[2]: https://github.com/odoo/odoo/commit/c4d67df63dab3091d63f5ab237d4dd6e4c09dd7e

part-of-task-id 4250356
",jpp-odoo,2025-02-04 12:40:33+00:00,[],2025-02-05 07:26:15+00:00,2025-02-05 01:08:31+00:00,https://github.com/odoo/odoo/pull/196420,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2633792342, 'issue_id': 2830138835, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196420.png)](https://mergebot.odoo.com/odoo/odoo/pull/196420)', 'created_at': datetime.datetime(2025, 2, 4, 12, 40, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633809124, 'issue_id': 2830138835, 'author': 'aab-odoo', 'body': 'robodoo r+ delegate+', 'created_at': datetime.datetime(2025, 2, 4, 12, 48, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633868815, 'issue_id': 2830138835, 'author': 'robodoo', 'body': ""@jpp-odoo @aab-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 13, 13, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634335809, 'issue_id': 2830138835, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 35, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:40:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196420.png)](https://mergebot.odoo.com/odoo/odoo/pull/196420)

aab-odoo on (2025-02-04 12:48:06 UTC): robodoo r+ delegate+

robodoo on (2025-02-04 13:13:58 UTC): @jpp-odoo @aab-odoo 'ci/runbot' failed on this reviewed PR.

jpp-odoo (Issue Creator) on (2025-02-04 15:35:34 UTC): @robodoo r+

"
2830104601,pull_request,open,,[FIX] hr_attendance: hide refuse/approve buttons if no extra hours,"Since logging new attendance is approved by default, the refuse/approve buttons for rejecting/approving extra zero hours
should be invisible.

task-4320142

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ataha1,2025-02-04 12:29:32+00:00,[],2025-02-04 13:13:23+00:00,,https://github.com/odoo/odoo/pull/196419,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633764068, 'issue_id': 2830104601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196419.png)](https://mergebot.odoo.com/odoo/odoo/pull/196419)', 'created_at': datetime.datetime(2025, 2, 4, 12, 29, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:29:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196419.png)](https://mergebot.odoo.com/odoo/odoo/pull/196419)

"
2830100228,pull_request,open,,[WIP][IMP] mail: notification mute setting,Detach mute notification option form notification settings ,maad-odoo,2025-02-04 12:28:28+00:00,[],2025-02-06 19:36:52+00:00,,https://github.com/odoo/odoo/pull/196418,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633761045, 'issue_id': 2830100228, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196418.png)](https://mergebot.odoo.com/odoo/odoo/pull/196418)', 'created_at': datetime.datetime(2025, 2, 4, 12, 28, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:28:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196418.png)](https://mergebot.odoo.com/odoo/odoo/pull/196418)

"
2830078756,pull_request,closed,,[FW][FIX] web_editor: Prevent traceback deleting knowledge behavior element,"Deleting a knowledge_behavior element previously caused a traceback due to deleteRange() removing its nodes, leading to an error when attempting to destroy the oKnowledgeBehavior. This fix ensures proper handling of element deletion.

Task-4210216

Forward-Port-Of: odoo/odoo#195451",fw-bot,2025-02-04 12:21:43+00:00,[],2025-02-05 15:34:33+00:00,2025-02-05 15:34:32+00:00,https://github.com/odoo/odoo/pull/196417,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633746550, 'issue_id': 2830078756, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196417.png)](https://mergebot.odoo.com/odoo/odoo/pull/196417)', 'created_at': datetime.datetime(2025, 2, 4, 12, 21, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633746579, 'issue_id': 2830078756, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 12, 21, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633803960, 'issue_id': 2830078756, 'author': 'fw-bot', 'body': '@aath-odoo @abd-msyukyu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 12, 45, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636358018, 'issue_id': 2830078756, 'author': 'fw-bot', 'body': '@aath-odoo @abd-msyukyu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 5, 10, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636929884, 'issue_id': 2830078756, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 13, 59, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:21:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196417.png)](https://mergebot.odoo.com/odoo/odoo/pull/196417)

fw-bot (Issue Creator) on (2025-02-04 12:21:45 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 12:45:48 UTC): @aath-odoo @abd-msyukyu-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-05 10:37:45 UTC): @aath-odoo @abd-msyukyu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

abd-msyukyu-odoo on (2025-02-05 13:59:16 UTC): @robodoo r+

"
2830077733,pull_request,closed,,[FW][FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196376",fw-bot,2025-02-04 12:21:24+00:00,[],2025-02-05 14:13:38+00:00,2025-02-05 14:13:38+00:00,https://github.com/odoo/odoo/pull/196416,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633745839, 'issue_id': 2830077733, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196416.png)](https://mergebot.odoo.com/odoo/odoo/pull/196416)', 'created_at': datetime.datetime(2025, 2, 4, 12, 21, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633745866, 'issue_id': 2830077733, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 12, 21, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633943041, 'issue_id': 2830077733, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 13, 30, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:21:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196416.png)](https://mergebot.odoo.com/odoo/odoo/pull/196416)

fw-bot (Issue Creator) on (2025-02-04 12:21:25 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 13:30:52 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

"
2830054758,pull_request,closed,,[FIX] website_slides: missing super call,,phenix-factory,2025-02-04 12:13:33+00:00,[],2025-02-04 21:05:02+00:00,2025-02-04 21:05:01+00:00,https://github.com/odoo/odoo/pull/196415,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633726620, 'issue_id': 2830054758, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196415.png)](https://mergebot.odoo.com/odoo/odoo/pull/196415)', 'created_at': datetime.datetime(2025, 2, 4, 12, 13, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:13:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196415.png)](https://mergebot.odoo.com/odoo/odoo/pull/196415)

"
2830030423,pull_request,open,,Master mrp operation time computing ajf,"
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ajf-odoo,2025-02-04 12:06:01+00:00,[],2025-02-04 13:00:25+00:00,,https://github.com/odoo/odoo/pull/196414,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633708479, 'issue_id': 2830030423, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196414.png)](https://mergebot.odoo.com/odoo/odoo/pull/196414)', 'created_at': datetime.datetime(2025, 2, 4, 12, 6, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:06:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196414.png)](https://mergebot.odoo.com/odoo/odoo/pull/196414)

"
2830011941,pull_request,closed,,"[IMP] base, web: add invisible field to bound actions","This commit adds the ability to conditionally render a view's bound action (the actions that appear in the action cog menu when selecting records).

This is done by adding a new field: `binding_invisible`. Note that, this field accepts True, False, 1, 0 or a Python expression.

task-id: 4250356
",jpp-odoo,2025-02-04 12:00:37+00:00,[],2025-02-05 12:37:06+00:00,2025-02-05 12:27:38+00:00,https://github.com/odoo/odoo/pull/196413,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2633696747, 'issue_id': 2830011941, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196413.png)](https://mergebot.odoo.com/odoo/odoo/pull/196413)', 'created_at': datetime.datetime(2025, 2, 4, 12, 0, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636032044, 'issue_id': 2830011941, 'author': 'jpp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 15, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636120851, 'issue_id': 2830011941, 'author': 'robodoo', 'body': ""@jpp-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 5, 9, 0, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 12:00:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196413.png)](https://mergebot.odoo.com/odoo/odoo/pull/196413)

jpp-odoo (Issue Creator) on (2025-02-05 08:15:54 UTC): @robodoo r+

robodoo on (2025-02-05 09:00:12 UTC): @jpp-odoo 'ci/runbot' failed on this reviewed PR.

"
2830004206,pull_request,open,,[IMP] mail: save mention in composer draft,"Before this PR, mentions where not stored in the localStorage for drafted
composer.
This PR adds/and restore the mentions for the composer.

task-4547310",phenix-factory,2025-02-04 11:57:57+00:00,[],2025-02-06 14:13:40+00:00,,https://github.com/odoo/odoo/pull/196412,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633691355, 'issue_id': 2830004206, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196412.png)](https://mergebot.odoo.com/odoo/odoo/pull/196412)', 'created_at': datetime.datetime(2025, 2, 4, 11, 57, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:57:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196412.png)](https://mergebot.odoo.com/odoo/odoo/pull/196412)

"
2829980956,pull_request,closed,,[FW][FIX] mrp: correct color logic for consumed quantities' display,"**Steps to reproduce:**
- Create a storable product `P1` with the following BoM:
    - Qty: 1 unit
    - Components:
        - C1, C2, C3: 3 units
- Create a MO to produce one unit of `P1`;
  - Confirm the order;
  - Update the product's `Quantity` to 1 at least;
    *The quantities of `To Consume` and `Quantity` columns in the `Components` tab of the notebook are automatically set to 3.*
- Update the field `Quantity` of components to:
    - **C1**: 1 unit
    - **C2**: 3 units
    - **C3**: 4 units

___
**Issue:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less than the <ins>total needed</ins> value &rarr; highlights in green;
- **C2**: equal to the value &rarr; highlights in black;
- **C3**: higher than the value &rarr; highlights in orange.

![Capture d’écran 2024-12-30 à 17 49 56](https://github.com/user-attachments/assets/e4fe7488-de04-4749-9930-85f11f71532a)

___
**Expected:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less -> black;
- **C2**: equal -> green;
- **C3**: higher -> orange.

___
**Cause:**
Text decorations are based on a wrong logic by getting the quantities from wrong field. This field has been changed during an apocalypse.
https://github.com/odoo/odoo/blob/c43297435cfcaf560d5c952ac3c4a383a6f1dc28/addons/mrp/views/mrp_production_views.xml#L405-L406

___
**Fix:**
Reset good field to check quantities, inspired by Odoo 16 using the computed `should_consume_qty` value to check the consumption status:
https://github.com/odoo/odoo/blob/67c78b38e794333eae55758ad4610515df5c49d2/addons/mrp/views/mrp_production_views.xml#L342-L343

![Capture d’écran 2024-12-30 à 17 49 26](https://github.com/user-attachments/assets/f30bd7fc-0140-4c16-abaf-540f4c1bc12d)

___
**Forward:**
To forward up to master.
Odoo 17 :
```
<field name=""quantity"" string=""Quantity""
    decoration-success=""product_uom_qty - quantity &gt; -0.0001 and product_uom_qty - quantity &lt; 0.0001""
    decoration-warning=""quantity - product_uom_qty &gt; 0.0001""

```

___
opw-4393156
opw-4391582
opw-4391600

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196291
Forward-Port-Of: odoo/odoo#190162",fw-bot,2025-02-04 11:50:31+00:00,[],2025-02-04 22:33:42+00:00,2025-02-04 22:33:42+00:00,https://github.com/odoo/odoo/pull/196411,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633676226, 'issue_id': 2829980956, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196411.png)](https://mergebot.odoo.com/odoo/odoo/pull/196411)', 'created_at': datetime.datetime(2025, 2, 4, 11, 50, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633676250, 'issue_id': 2829980956, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 11, 50, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:50:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196411.png)](https://mergebot.odoo.com/odoo/odoo/pull/196411)

fw-bot (Issue Creator) on (2025-02-04 11:50:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2829972029,pull_request,open,,[IMP] hr_contract: Change conatracts menu and smart button access,"- add field to check the conditions of showing the contract smart button as it requires having 2 groups in the hr, hr_contract
- show the contracts menu item to contract employee managers not only administrators

Task: 4543411


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-02-04 11:47:45+00:00,[],2025-02-04 13:26:36+00:00,,https://github.com/odoo/odoo/pull/196410,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633670401, 'issue_id': 2829972029, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196410.png)](https://mergebot.odoo.com/odoo/odoo/pull/196410)', 'created_at': datetime.datetime(2025, 2, 4, 11, 47, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:47:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196410.png)](https://mergebot.odoo.com/odoo/odoo/pull/196410)

"
2829958189,pull_request,open,,[FIX] l10n_at: correct the sign of some tax tags,"The tags on some repartition lines in the Austrian tax report have the wrong sign. This commit corrects the sign accordingly on the repartition line to have a proper tax report.

task-4344653

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mairasalazar,2025-02-04 11:43:25+00:00,[],2025-02-04 15:50:22+00:00,,https://github.com/odoo/odoo/pull/196409,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633661954, 'issue_id': 2829958189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196409.png)](https://mergebot.odoo.com/odoo/odoo/pull/196409)', 'created_at': datetime.datetime(2025, 2, 4, 11, 43, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:43:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196409.png)](https://mergebot.odoo.com/odoo/odoo/pull/196409)

"
2829950164,pull_request,open,,[IMP] core: make author field mandatory in manifests,"External contributors (and namely Odoo PS) forget to set the author field in their manifest file. The result is that the module is wrongly registered with `'author': 'Odoo S.A.'`.

This work makes the field mandatory, with a warning when not set. It also offers an upgrade-code script to mass-rewrite all the manifests in order to set the author.

task-4485983
",Julien00859,2025-02-04 11:40:51+00:00,[],2025-02-04 14:49:45+00:00,,https://github.com/odoo/odoo/pull/196408,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633656882, 'issue_id': 2829950164, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196408.png)](https://mergebot.odoo.com/odoo/odoo/pull/196408)', 'created_at': datetime.datetime(2025, 2, 4, 11, 40, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634209332, 'issue_id': 2829950164, 'author': 'Julien00859', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 4, 14, 49, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634209509, 'issue_id': 2829950164, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 4, 14, 49, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:40:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196408.png)](https://mergebot.odoo.com/odoo/odoo/pull/196408)

Julien00859 (Issue Creator) on (2025-02-04 14:49:41 UTC): @robodoo rebase-ff

robodoo on (2025-02-04 14:49:44 UTC): Merge method set to rebase and fast-forward.

"
2829947592,pull_request,open,,[FIX] point_of_sale: fix customer display remote mode,"In the refactor from 59700fe a bug was introduced that prevented the pos to work with the customer display option set to remote.

Steps to reproduce:
1. Set the pos config, change the setting ""Show checkout to customers through a second display"" to ""Another device""
2. Open the pos and try to add any product to the cart
3. Observe the traceback



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vlst-odoo,2025-02-04 11:40:03+00:00,[],2025-02-04 12:00:19+00:00,,https://github.com/odoo/odoo/pull/196407,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633655357, 'issue_id': 2829947592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196407.png)](https://mergebot.odoo.com/odoo/odoo/pull/196407)', 'created_at': datetime.datetime(2025, 2, 4, 11, 40, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:40:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196407.png)](https://mergebot.odoo.com/odoo/odoo/pull/196407)

"
2829939245,pull_request,open,,"[FIX] website_sale: fix parsing issue in ""add to cart"" snippet","We forgot to parse a boolean which was stored as a string so it was always
considered true (both the strings `'true'` and `'false'` evaluate to `true` in a
boolean context.

This change also fixes the `showQuantity` computation in the product and combo
configurators (the computation assumed the user was on the product page, which
isn't necessarily the case for ""add to cart"" snippets).",ltinel,2025-02-04 11:37:17+00:00,[],2025-02-07 12:15:01+00:00,,https://github.com/odoo/odoo/pull/196406,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633649700, 'issue_id': 2829939245, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196406.png)](https://mergebot.odoo.com/odoo/odoo/pull/196406)', 'created_at': datetime.datetime(2025, 2, 4, 11, 37, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:37:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196406.png)](https://mergebot.odoo.com/odoo/odoo/pull/196406)

"
2829926797,pull_request,closed,,"[FW][IMP] point_of_sale, pos_*: reduce XHR request and improve devices sync","*: pos_restaurant, pos_event

Reduce number of XHR request by handling preparation change notification
directly in the backend.

The synchronisation is now more robust, each time we receive a request
all local ids are checked to ensure that the record wasn't deleted or
modified in the meantime.

Forward-Port-Of: odoo/odoo#195349
Forward-Port-Of: odoo/odoo#195151",fw-bot,2025-02-04 11:33:20+00:00,[],2025-02-07 20:41:36+00:00,2025-02-07 20:41:36+00:00,https://github.com/odoo/odoo/pull/196405,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2633641474, 'issue_id': 2829926797, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196405.png)](https://mergebot.odoo.com/odoo/odoo/pull/196405)', 'created_at': datetime.datetime(2025, 2, 4, 11, 33, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633641512, 'issue_id': 2829926797, 'author': 'fw-bot', 'body': '@davidmonnom cherrypicking of pull request odoo/odoo#195151 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_config.py\nAuto-merging addons/point_of_sale/models/pos_order.py\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_event/models/pos_order.py\nCONFLICT (content): Merge conflict in addons/pos_event/models/pos_order.py\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js\nAuto-merging addons/pos_sale/models/pos_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 11, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643337530, 'issue_id': 2829926797, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 16, 2, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643337634, 'issue_id': 2829926797, 'author': 'robodoo', 'body': '@davidmonnom because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 7, 16, 2, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643348293, 'issue_id': 2829926797, 'author': 'davidmonnom', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 7, 16, 7, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643348378, 'issue_id': 2829926797, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 7, 16, 7, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:33:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196405.png)](https://mergebot.odoo.com/odoo/odoo/pull/196405)

fw-bot (Issue Creator) on (2025-02-04 11:33:23 UTC): @davidmonnom cherrypicking of pull request odoo/odoo#195151 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_config.py
Auto-merging addons/point_of_sale/models/pos_order.py
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_event/models/pos_order.py
CONFLICT (content): Merge conflict in addons/pos_event/models/pos_order.py
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js
Auto-merging addons/pos_sale/models/pos_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-07 16:02:51 UTC): @robodoo r+

robodoo on (2025-02-07 16:02:54 UTC): @davidmonnom because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

davidmonnom on (2025-02-07 16:07:42 UTC): @robodoo rebase-ff

robodoo on (2025-02-07 16:07:44 UTC): Merge method set to rebase and fast-forward.

"
2829924181,pull_request,closed,,[FW][FIX] pos_self_order: remove horizontal scrollbar,"- Fix issue when in self order on mobile a weird horizontal scroll bar appears when a product with a long name (and no image) was sell.
- Now we just truncate the product name to avoid this issue.

task-id: 4510206

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195465
Forward-Port-Of: odoo/odoo#195093",fw-bot,2025-02-04 11:32:32+00:00,[],2025-02-04 18:37:16+00:00,2025-02-04 18:37:16+00:00,https://github.com/odoo/odoo/pull/196404,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633640384, 'issue_id': 2829924181, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196404.png)](https://mergebot.odoo.com/odoo/odoo/pull/196404)', 'created_at': datetime.datetime(2025, 2, 4, 11, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633640402, 'issue_id': 2829924181, 'author': 'fw-bot', 'body': '@manv-afk @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 11, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633851287, 'issue_id': 2829924181, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 6, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:32:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196404.png)](https://mergebot.odoo.com/odoo/odoo/pull/196404)

fw-bot (Issue Creator) on (2025-02-04 11:32:51 UTC): @manv-afk @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

manv-afk on (2025-02-04 13:06:21 UTC): @robodoo r+

"
2829907447,pull_request,closed,,[FW][FIX] html_editor: prevent using self-closing elements in editor,"**Problem**:
When content comes from the config containing self-closing tags,
the browser misinterprets them as they are not valid HTML,
leading to a broken template when displayed.

**Solution**:
Convert self-closing tags to explicitly opened and closed tags
when content is added to the editor.

**Steps to Reproduce**:
1. Open Email Templates > ""Sales: Order Confirmation"".
2. Inspect and observe that self-closing tags are not rendered correctly.

opw-4531812

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196002",fw-bot,2025-02-04 11:27:00+00:00,[],2025-02-04 15:16:26+00:00,2025-02-04 15:16:26+00:00,https://github.com/odoo/odoo/pull/196403,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633628245, 'issue_id': 2829907447, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196403.png)](https://mergebot.odoo.com/odoo/odoo/pull/196403)', 'created_at': datetime.datetime(2025, 2, 4, 11, 27, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633628270, 'issue_id': 2829907447, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 11, 27, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:27:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196403.png)](https://mergebot.odoo.com/odoo/odoo/pull/196403)

fw-bot (Issue Creator) on (2025-02-04 11:27:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2829887503,pull_request,closed,,[FW][FIX] spreadsheet_dashboard_account: Fix format on measure,"Some pivots were defined with a wrong format on their measure, namely a display of percentage on the subtotal of account reports which makes no sense.

task -4546273

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196355",fw-bot,2025-02-04 11:21:40+00:00,[],2025-02-04 16:42:56+00:00,2025-02-04 16:42:51+00:00,https://github.com/odoo/odoo/pull/196402,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633613780, 'issue_id': 2829887503, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196402.png)](https://mergebot.odoo.com/odoo/odoo/pull/196402)', 'created_at': datetime.datetime(2025, 2, 4, 11, 21, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633613806, 'issue_id': 2829887503, 'author': 'fw-bot', 'body': '@rrahir @LucasLefevre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196385\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 11, 21, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633655484, 'issue_id': 2829887503, 'author': 'rrahir', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 11, 40, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:21:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196402.png)](https://mergebot.odoo.com/odoo/odoo/pull/196402)

fw-bot (Issue Creator) on (2025-02-04 11:21:42 UTC): @rrahir @LucasLefevre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196385

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rrahir on (2025-02-04 11:40:09 UTC): @robodoo r+

"
2829871142,pull_request,closed,,"[FW][IMP] l10n_pk, l10n_ae, l10n_eg, l10n_sa, *: Improve Module Descriptions","Description of the issue/feature this PR addresses:
ticket id: https://www.odoo.com/odoo/my-tasks/4179478

Current behavior before PR:
- MENA l10n module descriptions were uncomplete or unconsistent

Desired behavior after PR is merged:
- improve l10n module description for MENA



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190703",fw-bot,2025-02-04 11:16:45+00:00,[],2025-02-07 19:00:53+00:00,2025-02-07 19:00:53+00:00,https://github.com/odoo/odoo/pull/196401,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2633602279, 'issue_id': 2829871142, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196401.png)](https://mergebot.odoo.com/odoo/odoo/pull/196401)', 'created_at': datetime.datetime(2025, 2, 4, 11, 16, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633602350, 'issue_id': 2829871142, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190703 failed.\n\n* d3cf527c6cc08898dc1285181de6ea06d5ac82ce <- on this commit\n* ff93233619d4f89934d34fdd6e11153f9a0e0d4a\n* a0bfe9e80ff5eae3c481f17f6a9dd4ec078c0f37\n* 6937352ff1bee6a215453b1cc62ab284e294a6d1\n\nstdout:\n```\nAuto-merging addons/l10n_sa/__manifest__.py\nCONFLICT (content): Merge conflict in addons/l10n_sa/__manifest__.py\nAuto-merging addons/l10n_sa_edi/__manifest__.py\nCONFLICT (content): Merge conflict in addons/l10n_sa_edi/__manifest__.py\nAuto-merging addons/l10n_sa_edi_pos/__manifest__.py\nAuto-merging addons/l10n_sa_pos/__manifest__.py\nCONFLICT (content): Merge conflict in addons/l10n_sa_pos/__manifest__.py\nAuto-merging odoo/addons/base/i18n/ar.po\nCONFLICT (content): Merge conflict in odoo/addons/base/i18n/ar.po\nAuto-merging odoo/addons/base/i18n/base.pot\nCONFLICT (content): Merge conflict in odoo/addons/base/i18n/base.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 11, 16, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636304929, 'issue_id': 2829871142, 'author': 'alny-odoo', 'body': 'hi @gawa-odoo I will check this PR and the enterprise PR and let you know once ready for r+ since there are some additionals changes specific to v17. (and later on for v18)', 'created_at': datetime.datetime(2025, 2, 5, 10, 16, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643028318, 'issue_id': 2829871142, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 14, 2, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 11:16:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196401.png)](https://mergebot.odoo.com/odoo/odoo/pull/196401)

fw-bot (Issue Creator) on (2025-02-04 11:16:48 UTC): @alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190703 failed.

* d3cf527c6cc08898dc1285181de6ea06d5ac82ce <- on this commit
* ff93233619d4f89934d34fdd6e11153f9a0e0d4a
* a0bfe9e80ff5eae3c481f17f6a9dd4ec078c0f37
* 6937352ff1bee6a215453b1cc62ab284e294a6d1

stdout:
```
Auto-merging addons/l10n_sa/__manifest__.py
CONFLICT (content): Merge conflict in addons/l10n_sa/__manifest__.py
Auto-merging addons/l10n_sa_edi/__manifest__.py
CONFLICT (content): Merge conflict in addons/l10n_sa_edi/__manifest__.py
Auto-merging addons/l10n_sa_edi_pos/__manifest__.py
Auto-merging addons/l10n_sa_pos/__manifest__.py
CONFLICT (content): Merge conflict in addons/l10n_sa_pos/__manifest__.py
Auto-merging odoo/addons/base/i18n/ar.po
CONFLICT (content): Merge conflict in odoo/addons/base/i18n/ar.po
Auto-merging odoo/addons/base/i18n/base.pot
CONFLICT (content): Merge conflict in odoo/addons/base/i18n/base.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alny-odoo on (2025-02-05 10:16:25 UTC): hi @gawa-odoo I will check this PR and the enterprise PR and let you know once ready for r+ since there are some additionals changes specific to v17. (and later on for v18)

gawa-odoo on (2025-02-07 14:02:27 UTC): @robodoo r+

"
2829782654,pull_request,closed,,[FIX] mail: fix Mail Failure icon,"Previously, the Mail Failure icon was a .JPG, which lacked transparency. While this was not noticeable in Odoo Light Mode, it resulted in a visible white background in Dark Mode.

This commit replaces the JPG with an SVG, ensuring proper transparency.

| Current (17.0) | Fix |
|--------|--------|
| ![image](https://github.com/user-attachments/assets/7c87ab06-4675-4216-9132-f381dde4042d) | ![image](https://github.com/user-attachments/assets/53ec9b6b-da13-4ba5-a898-8a83d13e6eb7) |
| ![image](https://github.com/user-attachments/assets/ce40f4c8-b596-4eaf-a402-1fe4f987d7fa)   | ![image](https://github.com/user-attachments/assets/b0f99430-2975-4fcf-ad38-a585eb7c321b) | 


task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xlu-odoo,2025-02-04 10:47:46+00:00,[],2025-02-05 12:47:03+00:00,2025-02-05 12:47:03+00:00,https://github.com/odoo/odoo/pull/196400,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633535097, 'issue_id': 2829782654, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196400.png)](https://mergebot.odoo.com/odoo/odoo/pull/196400)', 'created_at': datetime.datetime(2025, 2, 4, 10, 47, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634332918, 'issue_id': 2829782654, 'author': 'xlu-odoo', 'body': ""> We might want to keep the existing file, at least in stable.\r\n> \r\n> But otherwise good idea to handle transparency correctly. This also allows smaller file size and scalable image.\r\n\r\nThanks @seb-odoo \r\nSure, wasn't sure to keep or not. I'll add the existing one in stable. Can you r+ ?"", 'created_at': datetime.datetime(2025, 2, 4, 15, 34, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:47:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196400.png)](https://mergebot.odoo.com/odoo/odoo/pull/196400)

xlu-odoo (Issue Creator) on (2025-02-04 15:34:34 UTC): Thanks @seb-odoo 
Sure, wasn't sure to keep or not. I'll add the existing one in stable. Can you r+ ?

"
2829780974,pull_request,closed,,[FIX] point_of_sale: fix error runbot 111976,"Fix error runbot.

Error runbot: 111976


",davidmonnom,2025-02-04 10:47:05+00:00,[],2025-02-04 15:16:30+00:00,2025-02-04 15:16:30+00:00,https://github.com/odoo/odoo/pull/196399,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633533465, 'issue_id': 2829780974, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196399.png)](https://mergebot.odoo.com/odoo/odoo/pull/196399)', 'created_at': datetime.datetime(2025, 2, 4, 10, 47, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:47:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196399.png)](https://mergebot.odoo.com/odoo/odoo/pull/196399)

"
2829773306,pull_request,closed,,"[IMP] im_livechat: use operator_id for ""my sessions""","Before this PR, the ""My Sessions"" filter used is_member. This doesn't include the
closed livechat sessions.

This PR uses livechat_operator_id to display all the sessions.

Task-4536751
",phenix-factory,2025-02-04 10:44:11+00:00,[],2025-02-05 10:35:55+00:00,2025-02-04 16:42:56+00:00,https://github.com/odoo/odoo/pull/196398,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2633526411, 'issue_id': 2829773306, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196398.png)](https://mergebot.odoo.com/odoo/odoo/pull/196398)', 'created_at': datetime.datetime(2025, 2, 4, 10, 44, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633605387, 'issue_id': 2829773306, 'author': 'seb-odoo', 'body': ""I'm still thinking it was not a good idea to leave the channel on closing and we should revert that part. Just setting active False and unpin was enough."", 'created_at': datetime.datetime(2025, 2, 4, 11, 18, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:44:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196398.png)](https://mergebot.odoo.com/odoo/odoo/pull/196398)

seb-odoo on (2025-02-04 11:18:11 UTC): I'm still thinking it was not a good idea to leave the channel on closing and we should revert that part. Just setting active False and unpin was enough.

"
2829766213,pull_request,open,,[FIX] point_of_sale: fix preparation ticket combo,"When sending a combo to a preparation printer, the combo items where not indented correctly. This was leading to a preparation ticket that made it look like all items were normal items, instead of being part of a combo.

Steps to reproduce:
-------------------
* Create a combo product A
* Setup a kitchen printer in the PoS
* Open PoS and add the combo product A
* Send the order to the kitchen printer
> Observation: The preparation ticket does not show the combo items
> indented correctly

Why the fix:
------------
We add a new fields in the `changes` that state if the line is part of a combo. If it is part of a combo, we add a css class that will indent the line accordingly.

opw-4459211",robinengels,2025-02-04 10:41:01+00:00,[],2025-02-04 12:18:49+00:00,,https://github.com/odoo/odoo/pull/196397,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633519415, 'issue_id': 2829766213, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196397.png)](https://mergebot.odoo.com/odoo/odoo/pull/196397)', 'created_at': datetime.datetime(2025, 2, 4, 10, 41, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:41:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196397.png)](https://mergebot.odoo.com/odoo/odoo/pull/196397)

"
2829763842,pull_request,open,,[FW][REF] mrp: extract MO domain from _run_manufacture,"Refactor the `_run_manufacture` method in the `stock.rule` model to have a separate method to build the domain used to find an existing manufacturing order that can handle the procurement request. Having a separate method provides an easier way to extend the domain in other modules. A similar approach is already used in the `_run_buy` method.

Description of the issue/feature this PR addresses:
Patching the entire `_run_manufacture` method is required to change the MO domain.

Current behavior before PR:
The domain is built inside the `_run_manufacture` method

Desired behavior after PR is merged:
The domain is built in a dedicated method that can be easily overwritten in custom modules.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196156",fw-bot,2025-02-04 10:40:00+00:00,[],2025-02-06 09:46:49+00:00,,https://github.com/odoo/odoo/pull/196396,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2633516976, 'issue_id': 2829763842, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196396.png)](https://mergebot.odoo.com/odoo/odoo/pull/196396)', 'created_at': datetime.datetime(2025, 2, 4, 10, 40, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633516999, 'issue_id': 2829763842, 'author': 'fw-bot', 'body': '@azl-odoo @amoyaux cherrypicking of pull request odoo/odoo#196156 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/stock_rule.py\nCONFLICT (content): Merge conflict in addons/mrp/models/stock_rule.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 10, 40, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634068730, 'issue_id': 2829763842, 'author': 'azl-odoo', 'body': ""@amoyaux I've fixed the conflict, thanks for the review :D"", 'created_at': datetime.datetime(2025, 2, 4, 14, 4, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:40:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196396.png)](https://mergebot.odoo.com/odoo/odoo/pull/196396)

fw-bot (Issue Creator) on (2025-02-04 10:40:02 UTC): @azl-odoo @amoyaux cherrypicking of pull request odoo/odoo#196156 failed.

stdout:
```
Auto-merging addons/mrp/models/stock_rule.py
CONFLICT (content): Merge conflict in addons/mrp/models/stock_rule.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

azl-odoo on (2025-02-04 14:04:31 UTC): @amoyaux I've fixed the conflict, thanks for the review :D

"
2829763022,pull_request,closed,,[FIX] point_of_sale: Cash opening not counted expected in column,"Current behavior:
The previous closing amount is used instead of the cash opening when printing the session report so the expected cash amount is wrong.

Steps to reproduce:

Open a PoS session with 100€ in the cash register and close it. Reopen the session and enter 50€ in the cash register. Make a sale for 10€, using cash payment.
Close the session and print the session report.
The expected cash amount will be 110€ when it should be 60€.

Fixes opw-4497263",PierreCourt,2025-02-04 10:39:37+00:00,[],2025-02-06 11:53:58+00:00,2025-02-06 11:53:58+00:00,https://github.com/odoo/odoo/pull/196395,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633516126, 'issue_id': 2829763022, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196395.png)](https://mergebot.odoo.com/odoo/odoo/pull/196395)', 'created_at': datetime.datetime(2025, 2, 4, 10, 39, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:39:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196395.png)](https://mergebot.odoo.com/odoo/odoo/pull/196395)

"
2829759323,pull_request,closed,,[FIX] payment_adyen: log refusal reason for refused payments,"Versions
--------
- 17.0+

Steps
-----
1. Enable Adyen as payment provider in test mode;
2. do an eCommerce checkout;
3. select Adyen as payment option;
4. use the following card details[^1]:
    - card number: 4111111111111111
    - expiry: 03/30
    - cvc: 737
    - name on card: CARD_EXPIRED
5. click Pay Now;
6. check order chatter on the backend.

Issue
-----
> Error: Adyen: Received data with invalid payment state: Refused

Refusal shouldn't be an invalid payment state.

Cause
-----
Commit 04f75728fd3e accidentally removed an `elif` branch that was added by commit 4d340a330462e specifically to handle refused payments.

Solution
--------
Re-add the `elif` branch.

opw-4481602

[^1]: https://docs.adyen.com/development-resources/testing/result-codes#values-for-testing-result-reasons",lvsz,2025-02-04 10:38:02+00:00,[],2025-02-05 14:13:49+00:00,2025-02-05 14:13:49+00:00,https://github.com/odoo/odoo/pull/196394,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633512498, 'issue_id': 2829759323, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196394.png)](https://mergebot.odoo.com/odoo/odoo/pull/196394)', 'created_at': datetime.datetime(2025, 2, 4, 10, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633687501, 'issue_id': 2829759323, 'author': 'robodoo', 'body': ""@lvsz @Demesmaeker 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 11, 56, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:38:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196394.png)](https://mergebot.odoo.com/odoo/odoo/pull/196394)

robodoo on (2025-02-04 11:56:05 UTC): @lvsz @Demesmaeker 'ci/runbot' failed on this reviewed PR.

"
2829758099,pull_request,closed,,[FW][FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445

Forward-Port-Of: odoo/odoo#195826",fw-bot,2025-02-04 10:37:31+00:00,[],2025-02-05 01:08:11+00:00,2025-02-05 01:08:11+00:00,https://github.com/odoo/odoo/pull/196393,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633511285, 'issue_id': 2829758099, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196393.png)](https://mergebot.odoo.com/odoo/odoo/pull/196393)', 'created_at': datetime.datetime(2025, 2, 4, 10, 37, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633511303, 'issue_id': 2829758099, 'author': 'fw-bot', 'body': '@hubvd @Julien00859 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196369\n* odoo/odoo#196346\n* odoo/odoo#196343\n* odoo/odoo#196338\n* odoo/odoo#196334\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 10, 37, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633554024, 'issue_id': 2829758099, 'author': 'fw-bot', 'body': '@hubvd @Julien00859 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 10, 55, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633735729, 'issue_id': 2829758099, 'author': 'fw-bot', 'body': '@hubvd @Julien00859 this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 4, 12, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634284500, 'issue_id': 2829758099, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 17, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:37:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196393.png)](https://mergebot.odoo.com/odoo/odoo/pull/196393)

fw-bot (Issue Creator) on (2025-02-04 10:37:33 UTC): @hubvd @Julien00859 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196369
* odoo/odoo#196346
* odoo/odoo#196343
* odoo/odoo#196338
* odoo/odoo#196334

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 10:55:50 UTC): @hubvd @Julien00859 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-04 12:17:00 UTC): @hubvd @Julien00859 this PR was modified / updated and has become a normal PR. It must be merged directly.

hubvd on (2025-02-04 15:17:16 UTC): @robodoo r+

"
2829748435,pull_request,open,,[FIX] base: ensure company matches commercial partner one,"Steps to reproduce:
1. Setup a clean DB with `contacts` installed (no demo)
2. Add a new company (from now on we have C1 and C2 as companies) and check both in the context
3. Create a contact A0 of type company and set its company as C1
4. Create a contact A1 of type individual
5. Open A1 in two sessions (different browsers, or at least incognito, S1, S2)
6. In S2 pick C2 as company of A1 (do not save yet)
7. In S1 set the parent contact of A1 to be A0 and save (note that A1 got C1 as company)
8. Save in S2 (note that A1 got C2 as company)

Then we arrived to the situation where the parent and child contacts are on different companies.
```
test_m=> select id,name,is_company,parent_id,commercial_partner_id,company_id from res_partner where name in ('A0', 'A1')
+----+------+------------+-----------+-----------------------+------------+
| id | name | is_company | parent_id | commercial_partner_id | company_id |
|----+------+------------+-----------+-----------------------+------------|
| 7  | A0   | True       | <null>    | 7                     | 1          |
| 8  | A1   | False      | 7         | 7                     | 2          |
+----+------+------------+-----------+-----------------------+------------+
```

The company mismatch causes issues in other places, e.g. https://github.com/odoo/odoo/blob/095819c76361880e106aaa9e4ac9eca84fddab02/addons/account/models/partner.py#L652-L657

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aj-fuentes,2025-02-04 10:33:30+00:00,[],2025-02-07 09:33:04+00:00,,https://github.com/odoo/odoo/pull/196392,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633501320, 'issue_id': 2829748435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196392.png)](https://mergebot.odoo.com/odoo/odoo/pull/196392)', 'created_at': datetime.datetime(2025, 2, 4, 10, 33, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:33:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196392.png)](https://mergebot.odoo.com/odoo/odoo/pull/196392)

"
2829740773,pull_request,closed,,[FIX] project: remove hardcoded column size for task id field,"Before this commit, the column of task id displayed in list view of all tasks menu is too small when there are many tasks stored in DB. Moreover, if the user wants to sort the tasks by ID, the column collapses.

This commit reverts the hardcoded size set on that column to let the framework computes the column size.

Steps to reproduce the issue:
----------------------------

1. Create a good amount of task (over 1000)
2. Go to Projects > Tasks > All tasks
3. Display the ID column in the list view.
4. Sort by ID

Expected Behavior
-----------------

The content of the column should still be visible.

Current Behavior
----------------

The column size is recomputed and the size is too small to directly see its content.

opw-4524749",xavierbol,2025-02-04 10:30:15+00:00,[],2025-02-05 12:04:16+00:00,2025-02-05 12:04:16+00:00,https://github.com/odoo/odoo/pull/196391,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633493272, 'issue_id': 2829740773, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196391.png)](https://mergebot.odoo.com/odoo/odoo/pull/196391)', 'created_at': datetime.datetime(2025, 2, 4, 10, 30, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636143057, 'issue_id': 2829740773, 'author': 'xavierbol', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 9, 8, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:30:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196391.png)](https://mergebot.odoo.com/odoo/odoo/pull/196391)

xavierbol (Issue Creator) on (2025-02-05 09:08:57 UTC): robodoo r+

"
2829739492,pull_request,open,,"[FIX] mail, account_edi: only put viewable attachments as main attachment","### Steps to reproduce:
- Create a new invoice
- Attach a ZIP file then a PDF file
- The file viewer shows but tries to preview the ZIP file
- Happens with all non-viewable files

### Cause:
The ZIP file is put as main attachment and the method `register_as_main_attachment` only change the main attachment (with `force=False`) when there is no main attachment.

The behavior of the file viewer is problematic because we cannot switch between the attachments in the preview, so we cannot see the PDF. But if we add another PDF file (so one ZIP and 2 PDFs), we can switch but it will never show the ZIP again, only the two PDFs. This behavior is due to the [next/previous arrows](https://github.com/odoo/odoo/blob/e4da068d6c9c8885dd4663d50dee11c9ea1516a3/addons/mail/static/src/components/web_client_view_attachment_view/web_client_view_attachment_view.xml#L13) being displayed only if [`attachmentsInWebClientView`](https://github.com/odoo/odoo/blob/e4da068d6c9c8885dd4663d50dee11c9ea1516a3/addons/mail/static/src/models/attachment.js#L323-L328) contains more than one item. But this list only contains viewable attachments (PDF or Images), and the next/previous arrows only take attachments from this list. As the arrows are [changing the main attachment](https://github.com/odoo/odoo/blob/e4da068d6c9c8885dd4663d50dee11c9ea1516a3/addons/mail/static/src/models/web_client_view_attachment_view.js#L17) to change the displayed preview, it never comes back to the problematic ZIP file.

### Solution:
Create a new method in `ir_attachment` that returns if the attachment is viewable or not and use this method to only add viewable attachments to `message_main_attachment_id`.

This commit also remove the changes that were made to avoid XML as main attachment as it should not occur anymore.

opw-4486363",mathcoutant,2025-02-04 10:29:41+00:00,[],2025-02-04 14:27:47+00:00,,https://github.com/odoo/odoo/pull/196390,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633491734, 'issue_id': 2829739492, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196390.png)](https://mergebot.odoo.com/odoo/odoo/pull/196390)', 'created_at': datetime.datetime(2025, 2, 4, 10, 29, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:29:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196390.png)](https://mergebot.odoo.com/odoo/odoo/pull/196390)

"
2829724162,pull_request,closed,,[FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.",bram1000,2025-02-04 10:23:32+00:00,[],2025-02-04 20:40:53+00:00,2025-02-04 20:40:53+00:00,https://github.com/odoo/odoo/pull/196389,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633473995, 'issue_id': 2829724162, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196389.png)](https://mergebot.odoo.com/odoo/odoo/pull/196389)', 'created_at': datetime.datetime(2025, 2, 4, 10, 23, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633562591, 'issue_id': 2829724162, 'author': 'flvr-odoo', 'body': 'Good catch, my bad, \r\nrobodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 59, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:23:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196389.png)](https://mergebot.odoo.com/odoo/odoo/pull/196389)

flvr-odoo on (2025-02-04 10:59:32 UTC): Good catch, my bad, 
robodoo r+

"
2829724162,pull_request,closed,,[FIX] auth_signup: reset password spinner,"Currently signup.js also defines SignUpForm, which overrides the reset password behavior. This bug is not present in 16.0, so I used the same name for the registry that is being used in 16.0.",bram1000,2025-02-04 10:23:32+00:00,[],2025-02-04 20:40:53+00:00,2025-02-04 20:40:53+00:00,https://github.com/odoo/odoo/pull/196389,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633473995, 'issue_id': 2829724162, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196389.png)](https://mergebot.odoo.com/odoo/odoo/pull/196389)', 'created_at': datetime.datetime(2025, 2, 4, 10, 23, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633562591, 'issue_id': 2829724162, 'author': 'flvr-odoo', 'body': 'Good catch, my bad, \r\nrobodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 59, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:23:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196389.png)](https://mergebot.odoo.com/odoo/odoo/pull/196389)

flvr-odoo on (2025-02-04 10:59:32 UTC): Good catch, my bad, 
robodoo r+

"
2829695668,pull_request,closed,,"[FIX] mrp{,_workorder}: ignore move raws without demand in reservation state","### Issue:

Curently, the reservation state of a production is computed from the status of the move raws that are not picked. This includes moves wihtout demands which should not infer with the reservation state at all.

### Steps to reproduce:

- In the settings, Enable ""Multi-Step Routes""
- Go to Inventory > Configuration > Warehouse Management > Warehouses
- Put your warehouse in 2 steps-manufacturing
- Create a final product (FP) tracked by Serial number, and 2 storable components: COMP1 and COMP2
- Create a BOM for FP:
  - Component lines:
    - 1 x COMP1
    - 0 x COMP2 !!
  - Operations:
    - OP1 with an instruction of type ""register production""
1. Create an MO for 1 x FP > Confirm
2. Validate the pick transfer for 1 unit of COMP1
> Currently OP1 is marked as ready
3. Mark the component line of COMP1 as ""picked""
#### > OP1 is in waiting status
Same result as 3:
3'. Go to the shopfloor > register production from the MO card
#### > This will pick the COMP1 raw move and OP1 will disappear because of the ""ready"" filter

### Cause of the issue:

Since you manufacture in 2 steps, the state of the raw move of COMP2 is waiting even though its demand is 0 (before and after you validated the pick move for COMP1). However, only non picked moves are considered to be relevant in the computation of the reservation state of the MO: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_production.py#L613-L621 Once you pick the COMP1 move which should be the only relevant one the reservation state of the MO becomes computed solely based on the state of the COMP2 raw move and becomes ""waiting"". In turns, this triggers a recomputation of the state of the workorders and flagging it as waiting: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_workorder.py#L148-L165

opw-4383004

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",lase-odoo,2025-02-04 10:11:37+00:00,[],2025-02-04 20:41:26+00:00,2025-02-04 20:41:26+00:00,https://github.com/odoo/odoo/pull/196388,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633443361, 'issue_id': 2829695668, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196388.png)](https://mergebot.odoo.com/odoo/odoo/pull/196388)', 'created_at': datetime.datetime(2025, 2, 4, 10, 11, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633950710, 'issue_id': 2829695668, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 13, 32, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:11:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196388.png)](https://mergebot.odoo.com/odoo/odoo/pull/196388)

Whenrow on (2025-02-04 13:32:25 UTC): robodoo r+

"
2829687485,pull_request,closed,,[FIX] pos_restaurant: fix runbot error 111506,"Fix runbot error.

Runbot error: 111506
",davidmonnom,2025-02-04 10:08:02+00:00,[],2025-02-04 15:54:16+00:00,2025-02-04 15:54:16+00:00,https://github.com/odoo/odoo/pull/196387,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633434393, 'issue_id': 2829687485, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196387.png)](https://mergebot.odoo.com/odoo/odoo/pull/196387)', 'created_at': datetime.datetime(2025, 2, 4, 10, 8, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633682636, 'issue_id': 2829687485, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 11, 53, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:08:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196387.png)](https://mergebot.odoo.com/odoo/odoo/pull/196387)

adgu-odoo on (2025-02-04 11:53:49 UTC): robodoo r+

"
2829675513,pull_request,closed,,[FW][FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040

Forward-Port-Of: odoo/odoo#194541",fw-bot,2025-02-04 10:02:52+00:00,[],2025-02-05 01:07:53+00:00,2025-02-05 01:07:53+00:00,https://github.com/odoo/odoo/pull/196386,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633421511, 'issue_id': 2829675513, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196386.png)](https://mergebot.odoo.com/odoo/odoo/pull/196386)', 'created_at': datetime.datetime(2025, 2, 4, 10, 2, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633421533, 'issue_id': 2829675513, 'author': 'fw-bot', 'body': '@aaha-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196337\n* odoo/odoo#196329\n* odoo/odoo#196317\n* odoo/odoo#196303\n* odoo/odoo#196282\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 10, 2, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633425187, 'issue_id': 2829675513, 'author': 'aaha-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 4, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 10:02:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196386.png)](https://mergebot.odoo.com/odoo/odoo/pull/196386)

fw-bot (Issue Creator) on (2025-02-04 10:02:54 UTC): @aaha-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196337
* odoo/odoo#196329
* odoo/odoo#196317
* odoo/odoo#196303
* odoo/odoo#196282

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aaha-odoo on (2025-02-04 10:04:23 UTC): @robodoo r+

"
2829660654,pull_request,closed,,[FW][FIX] spreadsheet_dashboard_account: Fix format on measure,"Some pivots were defined with a wrong format on their measure, namely a display of percentage on the subtotal of account reports which makes no sense.

task -4546273

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196355",fw-bot,2025-02-04 09:56:40+00:00,[],2025-02-04 16:47:45+00:00,2025-02-04 16:47:45+00:00,https://github.com/odoo/odoo/pull/196385,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633406573, 'issue_id': 2829660654, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196385.png)](https://mergebot.odoo.com/odoo/odoo/pull/196385)', 'created_at': datetime.datetime(2025, 2, 4, 9, 56, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633406602, 'issue_id': 2829660654, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 56, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:56:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196385.png)](https://mergebot.odoo.com/odoo/odoo/pull/196385)

fw-bot (Issue Creator) on (2025-02-04 09:56:42 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2829659815,pull_request,closed,,[FW][IMP] html_editor: implement baseContainer,"This PR's purpose is to allow certain `div` elements to be handled by the
editor with the features commonly used inside `p` elements.
It is also comprised of a series of fixes and improvements related to
that change, see each commit for more details. Notable changes:
- Fix some behaviors of the DomPlugin `insert` function
- Update how Signature is handled in mail html fields
- Update how qweb fields are handled in the Report editor
- Introduce usage of `div` elements (baseContainer)

Eligible `div` elements will automatically inherit these features as soon as
they met the requirements during the `normalization` phase.

For the user, this means that there are now 2 options for the ""base container"",
the `div` which does not have a margin-bottom and the `p` which does have one.
`div` will be used as the default in most cases, and `p` will be used as the
default for `knowledge` (and probably `website` when it starts using the
html_editor).

The features around paragraphs are some of the most well defined in the
editor, and with this commit, there are now more ways to fall back on the ""right
track"" (meaning that user interactions will more likely result in something they
want, rather than not). Most notably, prior to this commit, adding new lines
with `enter` starting from a `div` with one line, then applying an editor
command, would result in the command applying on every line. Now, since the
`div` behaves like a paragraph, adding new lines will create a new editor
context for each line (another `div`), meaning that any command will only apply
to that context.

Technically, this commit introduces a generalization of the concept for
`baseContainer`, meaning that it will be easier to introduce new forms that will
inherit the related editor features.

There are still some limitations:
Some `div` elements will keep their `unsplittable` properties if they contain
HTML elements that are not compatible with a `p` (non-phrasing content), because
any `baseContainer` should be convertible between all equivalent forms.
To avoid such limitations, one solution could be to only work with `div`
elements (and never use paragraph related elements like `p`, `h1`, etc.), which
would be less explicit, but would allow more flexibility.

task-4260398
and
task-4294440

Forward-Port-Of: odoo/odoo#185340",fw-bot,2025-02-04 09:56:19+00:00,[],2025-02-04 16:47:49+00:00,2025-02-04 16:47:49+00:00,https://github.com/odoo/odoo/pull/196384,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2633405786, 'issue_id': 2829659815, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196384.png)](https://mergebot.odoo.com/odoo/odoo/pull/196384)', 'created_at': datetime.datetime(2025, 2, 4, 9, 56, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633405830, 'issue_id': 2829659815, 'author': 'fw-bot', 'body': '@abd-msyukyu-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#185340 failed.\n\n* 46a341f78ea307f8f18729da76985b0b2afe5db5\n* 41676fbb48685788ef108cf12029199469bba24d\n* 94939cc3fd807384a78f6d449e6d24a6ae71ef56\n* 8c7dd2148a7d2dcd3ffbaf5a95254821d05d95d9\n* f40296db7b7ff29b25e054883ae85552d8c433d9\n* 4391fc23c3dbeff58df9e00321c7f8542b380c67\n* d156b86d67dd1dd6737ebf6c09a55f98d1add4e5\n* c7b125394324074fe66e476cb62176c713369664\n* 7bccbe882fc8a1e14455b841860930a43db4ad57\n* 1525626ec1a8e9dd68d8eeb0fd17de0428bebec2\n* aad1e5770d94a28b6e145b912602c453c8012a59\n* 198a3f894adf7436dcab70b58d23380121453359\n* 5ef0da31acc175efd6cd30f671800e426e437b92\n* 12dc59fe1e4ba126f9896bf3f36a145c913518fd\n* 5356221c62468dbd0ac4d8e4b2c69fd2a6b2efef\n* 81c82f4efbcbdbfcd58920e8c0dae1ea5005e65f <- on this commit\n* c329eaee9ab61af57ec578e8b611886ec152a712\n* eb2f77b8e964cf5dd07f67aab6e042a51b55b11b\n\nstdout:\n```\nAuto-merging addons/mail/static/src/chatter/web/mail_composer_form.js\nAuto-merging addons/mail/static/src/core/common/composer.js\nCONFLICT (content): Merge conflict in addons/mail/static/src/core/common/composer.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 56, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633721092, 'issue_id': 2829659815, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 10, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633721194, 'issue_id': 2829659815, 'author': 'robodoo', 'body': '@abd-msyukyu-odoo you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 4, 12, 11, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633724463, 'issue_id': 2829659815, 'author': 'dmo-odoo', 'body': '@robodoo override=ci/security\r\nReason: see original PR', 'created_at': datetime.datetime(2025, 2, 4, 12, 12, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:56:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196384.png)](https://mergebot.odoo.com/odoo/odoo/pull/196384)

fw-bot (Issue Creator) on (2025-02-04 09:56:23 UTC): @abd-msyukyu-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#185340 failed.

* 46a341f78ea307f8f18729da76985b0b2afe5db5
* 41676fbb48685788ef108cf12029199469bba24d
* 94939cc3fd807384a78f6d449e6d24a6ae71ef56
* 8c7dd2148a7d2dcd3ffbaf5a95254821d05d95d9
* f40296db7b7ff29b25e054883ae85552d8c433d9
* 4391fc23c3dbeff58df9e00321c7f8542b380c67
* d156b86d67dd1dd6737ebf6c09a55f98d1add4e5
* c7b125394324074fe66e476cb62176c713369664
* 7bccbe882fc8a1e14455b841860930a43db4ad57
* 1525626ec1a8e9dd68d8eeb0fd17de0428bebec2
* aad1e5770d94a28b6e145b912602c453c8012a59
* 198a3f894adf7436dcab70b58d23380121453359
* 5ef0da31acc175efd6cd30f671800e426e437b92
* 12dc59fe1e4ba126f9896bf3f36a145c913518fd
* 5356221c62468dbd0ac4d8e4b2c69fd2a6b2efef
* 81c82f4efbcbdbfcd58920e8c0dae1ea5005e65f <- on this commit
* c329eaee9ab61af57ec578e8b611886ec152a712
* eb2f77b8e964cf5dd07f67aab6e042a51b55b11b

stdout:
```
Auto-merging addons/mail/static/src/chatter/web/mail_composer_form.js
Auto-merging addons/mail/static/src/core/common/composer.js
CONFLICT (content): Merge conflict in addons/mail/static/src/core/common/composer.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abd-msyukyu-odoo on (2025-02-04 12:10:59 UTC): @robodoo r+

robodoo on (2025-02-04 12:11:02 UTC): @abd-msyukyu-odoo you may want to rebuild or fix this PR as it has failed CI.

dmo-odoo on (2025-02-04 12:12:35 UTC): @robodoo override=ci/security
Reason: see original PR

"
2829650355,pull_request,open,,[FIX] account: Fix round globally for Portuguese certification,"Compute the delta for base amounts in '_round_base_lines_tax_details' from the total instead of from the base amounts only.

See test in this commit.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",smetl,2025-02-04 09:52:19+00:00,[],2025-02-04 10:00:14+00:00,,https://github.com/odoo/odoo/pull/196383,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633396540, 'issue_id': 2829650355, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196383.png)](https://mergebot.odoo.com/odoo/odoo/pull/196383)', 'created_at': datetime.datetime(2025, 2, 4, 9, 52, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:52:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196383.png)](https://mergebot.odoo.com/odoo/odoo/pull/196383)

"
2829639155,pull_request,closed,,[FW][FIX] mail: add seen indicators on message with only attachments,"Before this PR, messages with only attachments did not show the seen message indicator.
It is shown on the message body, which is missing in this case.

This PR shows the message seen indicator inside the attachment list if it's the only content of the message.

Forward-Port-Of: odoo/odoo#196190",fw-bot,2025-02-04 09:47:25+00:00,[],2025-02-05 01:07:49+00:00,2025-02-05 01:07:46+00:00,https://github.com/odoo/odoo/pull/196381,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633385013, 'issue_id': 2829639155, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196381.png)](https://mergebot.odoo.com/odoo/odoo/pull/196381)', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633385030, 'issue_id': 2829639155, 'author': 'fw-bot', 'body': '@phenix-factory @tsm-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633388590, 'issue_id': 2829639155, 'author': 'tsm-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 48, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:47:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196381.png)](https://mergebot.odoo.com/odoo/odoo/pull/196381)

fw-bot (Issue Creator) on (2025-02-04 09:47:27 UTC): @phenix-factory @tsm-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tsm-odoo on (2025-02-04 09:48:55 UTC): @robodoo r+

"
2829638399,pull_request,closed,,[FW][FIX] account: report builder line sequences,"Issue:
 When using the enterprise version, and configuring an accounting report with the report
 builder, issues might arise when changing the sequence of lines (using the drag and drop feature).
 Combined with the enterprise PR, this commit solves the issue by returning the lines ordered by sequence.

 Enterprise PR: https://github.com/odoo/odoo/pull/187907#pullrequestreview-2581564549

task-4328098
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196081
Forward-Port-Of: odoo/odoo#187907",fw-bot,2025-02-04 09:47:05+00:00,[],2025-02-05 01:08:43+00:00,2025-02-05 01:08:43+00:00,https://github.com/odoo/odoo/pull/196380,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633384760, 'issue_id': 2829638399, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196380.png)](https://mergebot.odoo.com/odoo/odoo/pull/196380)', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633384811, 'issue_id': 2829638399, 'author': 'fw-bot', 'body': '@hupo-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634440399, 'issue_id': 2829638399, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 16, 13, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:47:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196380.png)](https://mergebot.odoo.com/odoo/odoo/pull/196380)

fw-bot (Issue Creator) on (2025-02-04 09:47:21 UTC): @hupo-odoo @oco-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hupo-odoo on (2025-02-04 16:13:11 UTC): @robodoo r+

"
2829637313,pull_request,closed,,[FW][IMP] pos_hr: make edit payment button invisible on receipt print,"Before this commit:
===============
- The 'Edit Payment' button appears even after printing the receipt. (only when pos_hr installed)

After this commit:
===============
- The 'Edit Payment' button will disappear after printing the receipt.

task-4507326


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195883
Forward-Port-Of: odoo/odoo#194999",fw-bot,2025-02-04 09:46:37+00:00,[],2025-02-04 23:35:44+00:00,2025-02-04 23:35:40+00:00,https://github.com/odoo/odoo/pull/196379,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633384695, 'issue_id': 2829637313, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196379.png)](https://mergebot.odoo.com/odoo/odoo/pull/196379)', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633384717, 'issue_id': 2829637313, 'author': 'fw-bot', 'body': '@paso-odoo @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633511652, 'issue_id': 2829637313, 'author': 'paso-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 37, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:47:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196379.png)](https://mergebot.odoo.com/odoo/odoo/pull/196379)

fw-bot (Issue Creator) on (2025-02-04 09:47:19 UTC): @paso-odoo @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paso-odoo on (2025-02-04 10:37:42 UTC): robodoo r+

"
2829636804,pull_request,open,,[POC] web: cache actions and views,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-02-04 09:46:25+00:00,[],2025-02-04 10:00:19+00:00,,https://github.com/odoo/odoo/pull/196378,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633384640, 'issue_id': 2829636804, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196378.png)](https://mergebot.odoo.com/odoo/odoo/pull/196378)', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:47:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196378.png)](https://mergebot.odoo.com/odoo/odoo/pull/196378)

"
2829607364,pull_request,open,,m,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",loukwets,2025-02-04 09:34:05+00:00,[],2025-02-05 15:44:55+00:00,,https://github.com/odoo/odoo/pull/196377,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633350790, 'issue_id': 2829607364, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196377.png)](https://mergebot.odoo.com/odoo/odoo/pull/196377)', 'created_at': datetime.datetime(2025, 2, 4, 9, 34, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:34:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196377.png)](https://mergebot.odoo.com/odoo/odoo/pull/196377)

"
2829591776,pull_request,closed,,[FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-04 09:27:38+00:00,[],2025-02-04 12:21:08+00:00,2025-02-04 12:21:08+00:00,https://github.com/odoo/odoo/pull/196376,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633334606, 'issue_id': 2829591776, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196376.png)](https://mergebot.odoo.com/odoo/odoo/pull/196376)', 'created_at': datetime.datetime(2025, 2, 4, 9, 27, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633392919, 'issue_id': 2829591776, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 50, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:27:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196376.png)](https://mergebot.odoo.com/odoo/odoo/pull/196376)

dmo-odoo on (2025-02-04 09:50:50 UTC): @robodoo r+

"
2829585017,pull_request,closed,,[FW][IMP] hr_recruitment: change some demo emails,"Change questionable emails for 2 users.

Make new demo CV for them as well because we only had the
binary pdfs.
Raw latex can be found at (google drive):
* https://drive.google.com/file/d/1AyRguPcTRrt_7ySXAYE3L9TP4mHnwMNs/view?usp=drive_link
* https://drive.google.com/file/d/1e-2JlO3hEbaf6haFTF5TdCy6kx73xOgX/view?usp=drive_link

task-4507003

Forward-Port-Of: odoo/odoo#194804",fw-bot,2025-02-04 09:24:41+00:00,[],2025-02-04 17:05:08+00:00,2025-02-04 17:05:08+00:00,https://github.com/odoo/odoo/pull/196375,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2633327820, 'issue_id': 2829585017, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196375.png)](https://mergebot.odoo.com/odoo/odoo/pull/196375)', 'created_at': datetime.datetime(2025, 2, 4, 9, 24, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633327898, 'issue_id': 2829585017, 'author': 'fw-bot', 'body': '@naja628 @tivisse cherrypicking of pull request odoo/odoo#194804 failed.\n\nstdout:\n```\nAuto-merging addons/hr_recruitment/data/hr_recruitment_demo.xml\nCONFLICT (content): Merge conflict in addons/hr_recruitment/data/hr_recruitment_demo.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 24, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633397438, 'issue_id': 2829585017, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 52, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:24:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196375.png)](https://mergebot.odoo.com/odoo/odoo/pull/196375)

fw-bot (Issue Creator) on (2025-02-04 09:24:45 UTC): @naja628 @tivisse cherrypicking of pull request odoo/odoo#194804 failed.

stdout:
```
Auto-merging addons/hr_recruitment/data/hr_recruitment_demo.xml
CONFLICT (content): Merge conflict in addons/hr_recruitment/data/hr_recruitment_demo.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-04 09:52:48 UTC): @robodoo r+

"
2829582021,pull_request,open,,Deferred @api.constrains,,ryv-odoo,2025-02-04 09:23:20+00:00,[],2025-02-04 14:08:50+00:00,,https://github.com/odoo/odoo/pull/196374,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633324619, 'issue_id': 2829582021, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196374.png)](https://mergebot.odoo.com/odoo/odoo/pull/196374)', 'created_at': datetime.datetime(2025, 2, 4, 9, 23, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:23:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196374.png)](https://mergebot.odoo.com/odoo/odoo/pull/196374)

"
2829548011,pull_request,open,,WIP Dun and Bradstreet,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",RicGR98,2025-02-04 09:07:50+00:00,[],2025-02-07 14:44:16+00:00,,https://github.com/odoo/odoo/pull/196373,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633289129, 'issue_id': 2829548011, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196373.png)](https://mergebot.odoo.com/odoo/odoo/pull/196373)', 'created_at': datetime.datetime(2025, 2, 4, 9, 7, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:07:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196373.png)](https://mergebot.odoo.com/odoo/odoo/pull/196373)

"
2829534412,pull_request,closed,,[FW][FIX] l10n_hu_edi: price include tax,"[FIX] l10n_hu_edi: price include tax

Price unit was not properly calculated:
* Didn't remove the discount.
* Didn't take into account price included taxes.

We also removed a test use case that didn't make sense.

Task-id: 4236755

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195326
Forward-Port-Of: odoo/odoo#190095",fw-bot,2025-02-04 09:01:25+00:00,[],2025-02-04 16:43:02+00:00,2025-02-04 16:43:02+00:00,https://github.com/odoo/odoo/pull/196372,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633274509, 'issue_id': 2829534412, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196372.png)](https://mergebot.odoo.com/odoo/odoo/pull/196372)', 'created_at': datetime.datetime(2025, 2, 4, 9, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633274528, 'issue_id': 2829534412, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196322\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 1, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633707551, 'issue_id': 2829534412, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 5, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 09:01:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196372.png)](https://mergebot.odoo.com/odoo/odoo/pull/196372)

fw-bot (Issue Creator) on (2025-02-04 09:01:27 UTC): @rugo-odoo @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196322

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

rugo-odoo on (2025-02-04 12:05:36 UTC): @robodoo r+

"
2829518585,pull_request,closed,,[WIP][FIX] l10n_at: correct the sign of some tax tags,"Description of the issue this commit addresses:

The current behavior of the tax_negate makes it so that some values in the tax report present the right value but the wrong sign. This can be corrected by changing the sign of said values' tags in the mapping of the repartition lines.

---

Desired behavior after this commit is merged:

The according signs in the repartition_line_ids's tags have been reversed to match the sign they should have in the tax report.

---

task-4344653

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Megaaaaaa,2025-02-04 08:54:05+00:00,[],2025-02-05 09:21:50+00:00,2025-02-05 09:21:49+00:00,https://github.com/odoo/odoo/pull/196371,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633257953, 'issue_id': 2829518585, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196371.png)](https://mergebot.odoo.com/odoo/odoo/pull/196371)', 'created_at': datetime.datetime(2025, 2, 4, 8, 54, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636174516, 'issue_id': 2829518585, 'author': 'Megaaaaaa', 'body': 'Task taken over by someone else', 'created_at': datetime.datetime(2025, 2, 5, 9, 21, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:54:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196371.png)](https://mergebot.odoo.com/odoo/odoo/pull/196371)

Megaaaaaa (Issue Creator) on (2025-02-05 09:21:49 UTC): Task taken over by someone else

"
2829516323,pull_request,open,,Master test auto tags wbr,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Williambraecky,2025-02-04 08:52:59+00:00,[],2025-02-04 09:59:06+00:00,,https://github.com/odoo/odoo/pull/196370,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633255279, 'issue_id': 2829516323, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196370.png)](https://mergebot.odoo.com/odoo/odoo/pull/196370)', 'created_at': datetime.datetime(2025, 2, 4, 8, 53, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:53:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196370.png)](https://mergebot.odoo.com/odoo/odoo/pull/196370)

"
2829509077,pull_request,closed,,[FW][FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445

Forward-Port-Of: odoo/odoo#195826",fw-bot,2025-02-04 08:49:27+00:00,[],2025-02-04 23:34:38+00:00,2025-02-04 23:34:38+00:00,https://github.com/odoo/odoo/pull/196369,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633247564, 'issue_id': 2829509077, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196369.png)](https://mergebot.odoo.com/odoo/odoo/pull/196369)', 'created_at': datetime.datetime(2025, 2, 4, 8, 49, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633247595, 'issue_id': 2829509077, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 8, 49, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633332993, 'issue_id': 2829509077, 'author': 'fw-bot', 'body': '@hubvd @Julien00859 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 9, 26, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633735882, 'issue_id': 2829509077, 'author': 'fw-bot', 'body': ""@hubvd @Julien00859 child PR odoo/odoo#196393 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 4, 12, 17, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634285629, 'issue_id': 2829509077, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 17, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:49:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196369.png)](https://mergebot.odoo.com/odoo/odoo/pull/196369)

fw-bot (Issue Creator) on (2025-02-04 08:49:29 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 09:26:57 UTC): @hubvd @Julien00859 ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-04 12:17:01 UTC): @hubvd @Julien00859 child PR odoo/odoo#196393 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

hubvd on (2025-02-04 15:17:42 UTC): @robodoo r+

"
2829509019,pull_request,closed,,[FIX] point_of_sale: fix error on Arabic language setting,"When the Arabic language was selected, the PoS Restaurant module would error due to date formatting using Arabic numerals. This commit forces Latin digits in the date format to prevent the error.

opw-4544010

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-02-04 08:49:26+00:00,[],2025-02-05 02:45:44+00:00,2025-02-05 02:45:44+00:00,https://github.com/odoo/odoo/pull/196368,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2633247634, 'issue_id': 2829509019, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196368.png)](https://mergebot.odoo.com/odoo/odoo/pull/196368)', 'created_at': datetime.datetime(2025, 2, 4, 8, 49, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:49:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196368.png)](https://mergebot.odoo.com/odoo/odoo/pull/196368)

"
2829506787,pull_request,open,,[FIX] core: add update_module for load_module_graph,"[FIX] core: add update_module for load_module_graph

Before this commit
``load_module_graph`` didn't use ``update_module`` as a parameter. As a result
when loading registry in ``update_module=False`` mode, ``load_module_graph`` may
still update 'to update' modules in graph.

This could happen in multi-processes mode when
1. process 1 marks module A 'to upgrade' and is reloading the registry with
   ``update_module=True``, which will upgrade module A during loading modules.
2. process 2 is reloading the registry with ``update_module=False`` (e.g. the
   registry was invalidated before and has to be reloaded for the new request).
   During loading the registry, all 'installed', 'to remove', 'to upgrade' but
   not 'to install' modules will be loaded. And since module A is 'to upgrade',
   ``load_module_graph`` will also upgrade it.
The concurrent module upgrades will bring unexpected results.

After this commit
The `load_module_graph`` won't update modules when ``update_module=False``

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",HydrionBurst,2025-02-04 08:48:20+00:00,[],2025-02-07 14:00:47+00:00,,https://github.com/odoo/odoo/pull/196367,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633245261, 'issue_id': 2829506787, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196367.png)](https://mergebot.odoo.com/odoo/odoo/pull/196367)', 'created_at': datetime.datetime(2025, 2, 4, 8, 48, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:48:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196367.png)](https://mergebot.odoo.com/odoo/odoo/pull/196367)

"
2829491076,pull_request,closed,,[FW][FIX] mass_mailing: make unsubcription page work in website,"A recent change modified the unsubscription flow to make it more resilient to automated security agents. Unfortunately, the implementation of this change breaks if the Website module is installed, and the flow becomes unusable.

This commit makes it so that the unsubscription flow works once more, without compromising on resilience to security agents.

task-4364446

Forward-Port-Of: odoo/odoo#196187
Forward-Port-Of: odoo/odoo#196154",fw-bot,2025-02-04 08:40:28+00:00,[],2025-02-05 09:43:58+00:00,2025-02-05 09:43:58+00:00,https://github.com/odoo/odoo/pull/196366,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633228490, 'issue_id': 2829491076, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196366.png)](https://mergebot.odoo.com/odoo/odoo/pull/196366)', 'created_at': datetime.datetime(2025, 2, 4, 8, 40, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633228518, 'issue_id': 2829491076, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo this PR targets 18.0 and is the last of the forward-port chain containing:\n* odoo/odoo#196358\n* odoo/odoo#196290\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 8, 40, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633251019, 'issue_id': 2829491076, 'author': 'std-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 51, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633301258, 'issue_id': 2829491076, 'author': 'robodoo', 'body': ""@creaturemusings @std-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 4, 9, 13, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633692786, 'issue_id': 2829491076, 'author': 'creaturemusings', 'body': ""@std-odoo Should I rebase?\r\nedit: reading into it I think it's two different tests that non-deterministically failed each time, I'll rebuild again"", 'created_at': datetime.datetime(2025, 2, 4, 11, 58, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633753064, 'issue_id': 2829491076, 'author': 'std-odoo', 'body': '@creaturemusings Yes you can', 'created_at': datetime.datetime(2025, 2, 4, 12, 24, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633814277, 'issue_id': 2829491076, 'author': 'creaturemusings', 'body': '@robodoo check', 'created_at': datetime.datetime(2025, 2, 4, 12, 50, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633814397, 'issue_id': 2829491076, 'author': 'robodoo', 'body': ""@creaturemusings you can't check."", 'created_at': datetime.datetime(2025, 2, 4, 12, 50, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633817824, 'issue_id': 2829491076, 'author': 'std-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 12, 51, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633817930, 'issue_id': 2829491076, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 2, 4, 12, 51, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:40:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196366.png)](https://mergebot.odoo.com/odoo/odoo/pull/196366)

fw-bot (Issue Creator) on (2025-02-04 08:40:30 UTC): @creaturemusings @std-odoo this PR targets 18.0 and is the last of the forward-port chain containing:
* odoo/odoo#196358
* odoo/odoo#196290

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

std-odoo on (2025-02-04 08:51:06 UTC): @robodoo r+

robodoo on (2025-02-04 09:13:02 UTC): @creaturemusings @std-odoo 'ci/runbot' failed on this reviewed PR.

creaturemusings on (2025-02-04 11:58:44 UTC): @std-odoo Should I rebase?
edit: reading into it I think it's two different tests that non-deterministically failed each time, I'll rebuild again

std-odoo on (2025-02-04 12:24:48 UTC): @creaturemusings Yes you can

creaturemusings on (2025-02-04 12:50:02 UTC): @robodoo check

robodoo on (2025-02-04 12:50:05 UTC): @creaturemusings you can't check.

std-odoo on (2025-02-04 12:51:37 UTC): @robodoo r+

robodoo on (2025-02-04 12:51:40 UTC): This PR is already reviewed, reviewing it again is useless.

"
2829484956,pull_request,open,,"[MERGE] mail, various: remove automatic subscribe",,tde-banana-odoo,2025-02-04 08:37:20+00:00,[],2025-02-04 09:00:17+00:00,,https://github.com/odoo/odoo/pull/196365,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633222347, 'issue_id': 2829484956, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196365.png)](https://mergebot.odoo.com/odoo/odoo/pull/196365)', 'created_at': datetime.datetime(2025, 2, 4, 8, 37, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:37:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196365.png)](https://mergebot.odoo.com/odoo/odoo/pull/196365)

"
2829484048,pull_request,closed,,[FW][FIX] spreadsheet_dashboard: Graphs in Mobile view aren't showed correctly,"When we display more than one chart in the mobile view, the height of the elements is being adjusted to fill 100%, which in some cases causes a size that makes it impossible to view the chart.

![image](https://github.com/user-attachments/assets/68ff7a94-dc92-484b-a96f-f843c00f6449)

To solve this, we have added a div that will encompass the chart and set a minimum height as defined in the spreadsheets, ensuring that the elements are always displayed correctly.

![image](https://github.com/user-attachments/assets/ed1fa34a-7d23-4853-b449-dcc0f95c78bd)

cc @Tecnativa TT50972

ping @chienandalu  @pedrobaeza 

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#181335",fw-bot,2025-02-04 08:36:51+00:00,[],2025-02-04 20:40:44+00:00,2025-02-04 20:40:44+00:00,https://github.com/odoo/odoo/pull/196364,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2633221233, 'issue_id': 2829484048, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196364.png)](https://mergebot.odoo.com/odoo/odoo/pull/196364)', 'created_at': datetime.datetime(2025, 2, 4, 8, 36, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633221254, 'issue_id': 2829484048, 'author': 'fw-bot', 'body': '@CarlosRoca13 @LucasLefevre cherrypicking of pull request odoo/odoo#181335 failed.\n\nstdout:\n```\nAuto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.js\nAuto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml\nCONFLICT (content): Merge conflict in addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 8, 36, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633324211, 'issue_id': 2829484048, 'author': 'LucasLefevre', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 23, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:36:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196364.png)](https://mergebot.odoo.com/odoo/odoo/pull/196364)

fw-bot (Issue Creator) on (2025-02-04 08:36:53 UTC): @CarlosRoca13 @LucasLefevre cherrypicking of pull request odoo/odoo#181335 failed.

stdout:
```
Auto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.js
Auto-merging addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml
CONFLICT (content): Merge conflict in addons/spreadsheet_dashboard/static/src/bundle/dashboard_action/mobile_figure_container/mobile_figure_container.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LucasLefevre on (2025-02-04 09:23:12 UTC): robodoo r+

"
2829462016,pull_request,closed,,[FW][FIX] point_of_sale: prevent loading empty categories,"Before this commit:
====
- All POS categories were being loaded, even if they had no associated products.

After this commit:
====
- Only categories linked to products are loaded.


Task-4517979

Forward-Port-Of: odoo/odoo#196307
Forward-Port-Of: odoo/odoo#195377",fw-bot,2025-02-04 08:25:26+00:00,[],2025-02-04 13:26:50+00:00,2025-02-04 13:26:50+00:00,https://github.com/odoo/odoo/pull/196363,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633197605, 'issue_id': 2829462016, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196363.png)](https://mergebot.odoo.com/odoo/odoo/pull/196363)', 'created_at': datetime.datetime(2025, 2, 4, 8, 25, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633197626, 'issue_id': 2829462016, 'author': 'fw-bot', 'body': '@parp-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 8, 25, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633384501, 'issue_id': 2829462016, 'author': 'parp-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 47, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:25:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196363.png)](https://mergebot.odoo.com/odoo/odoo/pull/196363)

fw-bot (Issue Creator) on (2025-02-04 08:25:32 UTC): @parp-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

parp-odoo on (2025-02-04 09:47:13 UTC): robodoo r+

"
2829461329,pull_request,closed,,[FW][IMP] base: cron fields should not always aggregate,"Description of the issue/feature this PR addresses:
Add aggregators on the ir.cron model


task-4544612


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196250",fw-bot,2025-02-04 08:25:06+00:00,[],2025-02-04 13:33:19+00:00,2025-02-04 13:26:45+00:00,https://github.com/odoo/odoo/pull/196362,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633197553, 'issue_id': 2829461329, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196362.png)](https://mergebot.odoo.com/odoo/odoo/pull/196362)', 'created_at': datetime.datetime(2025, 2, 4, 8, 25, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633197579, 'issue_id': 2829461329, 'author': 'fw-bot', 'body': '@kmagusiak @ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 8, 25, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633279877, 'issue_id': 2829461329, 'author': 'kmagusiak', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 3, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 08:25:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196362.png)](https://mergebot.odoo.com/odoo/odoo/pull/196362)

fw-bot (Issue Creator) on (2025-02-04 08:25:30 UTC): @kmagusiak @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kmagusiak on (2025-02-04 09:03:51 UTC): @robodoo r+

"
2829394836,pull_request,closed,,[FW][FIX] web: action service: soft_reload: reload correct record,"From a list or kanban view with several records, open a record in form view. Then use the pager to navigate to another record. From this point, execute the `soft_reload` client action (e.g. call a python method from a view button, which returns that client action). This client action is supposed to reload the current controller (the form view in this case), without reloading the whole webclient.

Before this commit, the form was indeed reloaded, but the reloaded record was the one we opened first, not the one we reached after navigating with the pager. With this commit, the correct record is reloaded.

Issue spotted for task-3935688

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195907",fw-bot,2025-02-04 07:51:00+00:00,[],2025-02-04 13:26:19+00:00,2025-02-04 13:26:19+00:00,https://github.com/odoo/odoo/pull/196361,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2633134505, 'issue_id': 2829394836, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196361.png)](https://mergebot.odoo.com/odoo/odoo/pull/196361)', 'created_at': datetime.datetime(2025, 2, 4, 7, 51, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633134522, 'issue_id': 2829394836, 'author': 'fw-bot', 'body': '@aab-odoo @jpp-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196237\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 7, 51, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633136816, 'issue_id': 2829394836, 'author': 'aab-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 52, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 07:51:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196361.png)](https://mergebot.odoo.com/odoo/odoo/pull/196361)

fw-bot (Issue Creator) on (2025-02-04 07:51:02 UTC): @aab-odoo @jpp-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196237

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aab-odoo on (2025-02-04 07:52:21 UTC): @robodoo r+

"
2829382885,pull_request,closed,,[FIX] l10n_es_edi_facturae: fix update from 16,"Tax account_tax_template_s_iva0_g_i was added in 17.0.
Init hook will load the data from account.tax-es_common.csv (_l10n_es_edi_facturae_post_init_hook) when upgrading from 16.0 and fail because account_tax_template_s_iva0_g_i does not exists yet.
Removing account_tax_template_s_iva0_g_i from account.tax-es_common.csv prevent the bug and l10n_es_edi_facturae_tax_type will still be set to 1 as it is the default value.

Runbot error: https://runbot.odoo.com/odoo/runbot.build.error/114680",jbw-odoo,2025-02-04 07:44:29+00:00,[],2025-02-04 20:41:22+00:00,2025-02-04 20:41:22+00:00,https://github.com/odoo/odoo/pull/196360,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633123059, 'issue_id': 2829382885, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196360.png)](https://mergebot.odoo.com/odoo/odoo/pull/196360)', 'created_at': datetime.datetime(2025, 2, 4, 7, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633811455, 'issue_id': 2829382885, 'author': 'jbw-odoo', 'body': 'Ci is green, @h4818 \r\nThank you and @jjmaksoud !', 'created_at': datetime.datetime(2025, 2, 4, 12, 49, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634312585, 'issue_id': 2829382885, 'author': 'pedrobaeza', 'body': 'Please don\'t forget to reactivate ""IVA 21% (servicios)"".', 'created_at': datetime.datetime(2025, 2, 4, 15, 27, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 07:44:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196360.png)](https://mergebot.odoo.com/odoo/odoo/pull/196360)

jbw-odoo (Issue Creator) on (2025-02-04 12:49:02 UTC): Ci is green, @h4818 
Thank you and @jjmaksoud !

pedrobaeza on (2025-02-04 15:27:28 UTC): Please don't forget to reactivate ""IVA 21% (servicios)"".

"
2829376618,pull_request,closed,,[FIX] account: Chart Templates translations,"Fixes a small issue when loading translations of
multiple chart templates at once.
An update to that method added a parameter with
the same name as a local variable, and the way
it has been done means that the template_data
used in each subsequent loop will always be
the ones from the first loop only, effectively
ignoring the other chart templates.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vin-odoo,2025-02-04 07:41:50+00:00,[],2025-02-04 18:35:58+00:00,2025-02-04 18:35:58+00:00,https://github.com/odoo/odoo/pull/196359,"[('RD', 'research & development, internal work')]","[{'comment_id': 2633117046, 'issue_id': 2829376618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196359.png)](https://mergebot.odoo.com/odoo/odoo/pull/196359)', 'created_at': datetime.datetime(2025, 2, 4, 7, 41, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 07:41:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196359.png)](https://mergebot.odoo.com/odoo/odoo/pull/196359)

"
2829355276,pull_request,closed,,[FW][FIX] mass_mailing: make unsubcription page work in website,"A recent change modified the unsubscription flow to make it more resilient to automated security agents. Unfortunately, the implementation of this change breaks if the Website module is installed, and the flow becomes unusable.

This commit makes it so that the unsubscription flow works once more, without compromising on resilience to security agents.

task-4364446

Forward-Port-Of: odoo/odoo#196187
Forward-Port-Of: odoo/odoo#196154",fw-bot,2025-02-04 07:30:36+00:00,[],2025-02-05 11:09:28+00:00,2025-02-05 11:09:28+00:00,https://github.com/odoo/odoo/pull/196358,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2633090851, 'issue_id': 2829355276, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196358.png)](https://mergebot.odoo.com/odoo/odoo/pull/196358)', 'created_at': datetime.datetime(2025, 2, 4, 7, 30, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633090867, 'issue_id': 2829355276, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 7, 30, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634139952, 'issue_id': 2829355276, 'author': 'robodoo', 'body': '@creaturemusings @std-odoo staging failed: ci/l10n on 2f86b6533ff6872e3f2100774e93ef4bae3c3fd6 (view more at https://runbot.odoo.com/runbot/build/74470655)', 'created_at': datetime.datetime(2025, 2, 4, 14, 31, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636138860, 'issue_id': 2829355276, 'author': 'creaturemusings', 'body': '@robodoo help', 'created_at': datetime.datetime(2025, 2, 5, 9, 7, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636138967, 'issue_id': 2829355276, 'author': 'robodoo', 'body': 'Currently available commands for @creaturemusings:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|\n|`retry`|re-tries staging a PR in the ""error"" state|\n|`close`|closes this forward-port|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n\nNote: this help text is dynamic and will change with the state of the PR.', 'created_at': datetime.datetime(2025, 2, 5, 9, 7, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636140465, 'issue_id': 2829355276, 'author': 'creaturemusings', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 5, 9, 8, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 07:30:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196358.png)](https://mergebot.odoo.com/odoo/odoo/pull/196358)

fw-bot (Issue Creator) on (2025-02-04 07:30:37 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-04 14:31:35 UTC): @creaturemusings @std-odoo staging failed: ci/l10n on 2f86b6533ff6872e3f2100774e93ef4bae3c3fd6 (view more at https://runbot.odoo.com/runbot/build/74470655)

creaturemusings on (2025-02-05 09:07:29 UTC): @robodoo help

robodoo on (2025-02-05 09:07:32 UTC): Currently available commands for @creaturemusings:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)-`|removes approval of a previously approved PR, if the PR is staged the staging will be cancelled|
|`retry`|re-tries staging a PR in the ""error"" state|
|`close`|closes this forward-port|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|

Note: this help text is dynamic and will change with the state of the PR.

creaturemusings on (2025-02-05 09:08:04 UTC): @robodoo retry

"
2829263124,pull_request,closed,,[FW][FIX] hr: fixed the plan smart button,"In this PR,
- Set the default department for the Plans smart button.
- If there is no plan, it will open the form view.

Task-4356557

Forward-Port-Of: odoo/odoo#190938",fw-bot,2025-02-04 06:33:39+00:00,[],2025-02-04 13:09:48+00:00,2025-02-04 13:09:48+00:00,https://github.com/odoo/odoo/pull/196357,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2633000158, 'issue_id': 2829263124, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196357.png)](https://mergebot.odoo.com/odoo/odoo/pull/196357)', 'created_at': datetime.datetime(2025, 2, 4, 6, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633000172, 'issue_id': 2829263124, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse cherrypicking of pull request odoo/odoo#190938 failed.\n\nstdout:\n```\nAuto-merging addons/hr/models/hr_department.py\nAuto-merging addons/hr/views/mail_activity_plan_views.xml\nCONFLICT (content): Merge conflict in addons/hr/views/mail_activity_plan_views.xml\nAuto-merging addons/mail/views/mail_activity_plan_views.xml\nCONFLICT (content): Merge conflict in addons/mail/views/mail_activity_plan_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 6, 33, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633306245, 'issue_id': 2829263124, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 15, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 06:33:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196357.png)](https://mergebot.odoo.com/odoo/odoo/pull/196357)

fw-bot (Issue Creator) on (2025-02-04 06:33:41 UTC): @yava-odoo @tivisse cherrypicking of pull request odoo/odoo#190938 failed.

stdout:
```
Auto-merging addons/hr/models/hr_department.py
Auto-merging addons/hr/views/mail_activity_plan_views.xml
CONFLICT (content): Merge conflict in addons/hr/views/mail_activity_plan_views.xml
Auto-merging addons/mail/views/mail_activity_plan_views.xml
CONFLICT (content): Merge conflict in addons/mail/views/mail_activity_plan_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-04 09:15:16 UTC): @robodoo r+

"
2829255609,pull_request,closed,,[FIX] mrp: prevent typeerror when an mo is overviewed,"Currently a `TypeError` appears when the user opens 'Overview' of an 'Manufacturing Order'.

### Error: 
```TypeError: can't compare datetime.datetime to datetime.date```

The error occurs because when 'Overview' is opened of an MO, a comparison is made between `Datetime & Date`,i.e `mo_planned_start` and `receipt['date'],` which raises the above error.

This commit resolves the issue by keeping date format same of both the fields.

sentry-6250719075",ayve-odoo,2025-02-04 06:28:04+00:00,[],2025-02-06 05:58:32+00:00,2025-02-06 05:58:32+00:00,https://github.com/odoo/odoo/pull/196356,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632993626, 'issue_id': 2829255609, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196356.png)](https://mergebot.odoo.com/odoo/odoo/pull/196356)', 'created_at': datetime.datetime(2025, 2, 4, 6, 28, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638911144, 'issue_id': 2829255609, 'author': 'maan-odoo', 'body': 'Already fixed', 'created_at': datetime.datetime(2025, 2, 6, 5, 58, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 06:28:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196356.png)](https://mergebot.odoo.com/odoo/odoo/pull/196356)

maan-odoo on (2025-02-06 05:58:32 UTC): Already fixed

"
2829211432,pull_request,closed,,[FIX] spreadsheet_dashboard_account: Fix format on measure,"Some pivots were defined with a wrong format on their measure, namely a display of percentage on the subtotal of account reports which makes no sense.

task -4546273

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rrahir,2025-02-04 05:58:43+00:00,[],2025-02-04 09:55:51+00:00,2025-02-04 09:55:51+00:00,https://github.com/odoo/odoo/pull/196355,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632947463, 'issue_id': 2829211432, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196355.png)](https://mergebot.odoo.com/odoo/odoo/pull/196355)', 'created_at': datetime.datetime(2025, 2, 4, 5, 58, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 05:58:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196355.png)](https://mergebot.odoo.com/odoo/odoo/pull/196355)

"
2829185129,pull_request,closed,,"[FW][FIX] base,web: save update_related_model_id","Before this commit, the resource_ref field of a server action can disappear when the action is saved.

This is due to the following:
- the update_related_model_id is a computed stored READONLY field which leads to it not being included in the web_save rpc and is therefore not saved on the record

The fix consists to ensure the update_related_model_id is saved by making it readonly=False, which is usually what we want when we have a computed stored field.

Task: opw-4513803

Forward-Port-Of: odoo/odoo#196094
Forward-Port-Of: odoo/odoo#195124",fw-bot,2025-02-04 05:37:03+00:00,[],2025-02-04 13:26:07+00:00,2025-02-04 13:26:07+00:00,https://github.com/odoo/odoo/pull/196354,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2632923588, 'issue_id': 2829185129, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196354.png)](https://mergebot.odoo.com/odoo/odoo/pull/196354)', 'created_at': datetime.datetime(2025, 2, 4, 5, 37, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632923594, 'issue_id': 2829185129, 'author': 'fw-bot', 'body': '@brboi @ryv-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 5, 37, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633222376, 'issue_id': 2829185129, 'author': 'brboi', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 37, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 05:37:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196354.png)](https://mergebot.odoo.com/odoo/odoo/pull/196354)

fw-bot (Issue Creator) on (2025-02-04 05:37:08 UTC): @brboi @ryv-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

brboi on (2025-02-04 08:37:24 UTC): @robodoo r+

"
2829181458,pull_request,open,,[IMP] mail: Hide mentioned conversations from 'Recent' in command palette,"**Current behavior before PR:**

Same conversations appeared in both 'recent' and 'mentions', causing redundancy.

**Desired behavior after PR is merged:**

now 'Recent' no longer shows conversations already in 'mentions' in command palette.

task-4510209

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-02-04 05:33:59+00:00,[],2025-02-04 06:00:13+00:00,,https://github.com/odoo/odoo/pull/196353,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632920329, 'issue_id': 2829181458, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196353.png)](https://mergebot.odoo.com/odoo/odoo/pull/196353)', 'created_at': datetime.datetime(2025, 2, 4, 5, 34, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 05:34:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196353.png)](https://mergebot.odoo.com/odoo/odoo/pull/196353)

"
2829170486,pull_request,open,,[IMP] l10n_my_*: merge modules,"In 4424a0f, we added a new module for the Malaysian EDI in order to bring some missing features to the EDI.
This commit will merge that new module with the
original one, keeping all the features in a single place.

task-4516544

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vin-odoo,2025-02-04 05:25:48+00:00,[],2025-02-04 06:00:14+00:00,,https://github.com/odoo/odoo/pull/196352,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632911035, 'issue_id': 2829170486, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196352.png)](https://mergebot.odoo.com/odoo/odoo/pull/196352)', 'created_at': datetime.datetime(2025, 2, 4, 5, 25, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 05:25:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196352.png)](https://mergebot.odoo.com/odoo/odoo/pull/196352)

"
2829159308,pull_request,open,,[IMP] website_sale_comparison: adjust compare button position relative to cookie bar,"This PR addresses the positioning of the compare button in relation to the cookie bar to ensure proper visibility and functionality.
Key changes include:
    
Ensure the compare button is positioned above the cookie bar modal (for both discrete and classic) on large size / full size.
- Maintain the visibility of the hidden bottom fixed element during scroll events.
- Reposition the compare button to the bottom of the screen upon acceptance of cookie bar.

Additionally, refactor calls to _updateContent to display the popover when the product limit is reached.
task-3877807
",paru-odoo,2025-02-04 05:15:49+00:00,[],2025-02-07 11:43:40+00:00,,https://github.com/odoo/odoo/pull/196351,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632900248, 'issue_id': 2829159308, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196351.png)](https://mergebot.odoo.com/odoo/odoo/pull/196351)', 'created_at': datetime.datetime(2025, 2, 4, 5, 15, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 05:15:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196351.png)](https://mergebot.odoo.com/odoo/odoo/pull/196351)

"
2829139562,pull_request,closed,,[FW][FIX] html_editor: traceback when removing styles from links,"**Current behavior before PR:**

- Clicking the Remove Format button to remove the style from an anchor tag
  caused a traceback error.

**Desired behavior after PR is merged:**

- Clicking the Remove Format button now successfully removes any applied styles
  from the selected text.

task: 4427649

Forward-Port-Of: odoo/odoo#191739",fw-bot,2025-02-04 04:59:26+00:00,[],2025-02-04 11:59:19+00:00,2025-02-04 11:59:19+00:00,https://github.com/odoo/odoo/pull/196350,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2632881809, 'issue_id': 2829139562, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196350.png)](https://mergebot.odoo.com/odoo/odoo/pull/196350)', 'created_at': datetime.datetime(2025, 2, 4, 4, 59, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632881820, 'issue_id': 2829139562, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196306\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 4, 59, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633066495, 'issue_id': 2829139562, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 16, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 04:59:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196350.png)](https://mergebot.odoo.com/odoo/odoo/pull/196350)

fw-bot (Issue Creator) on (2025-02-04 04:59:27 UTC): @dhba-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196306

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-02-04 07:16:41 UTC): @robodoo r+

"
2829076985,pull_request,closed,,"[FW][FIX] digest, various: fix URLs to new format","Some URLs in the digest emails are currently broken due to an outdated URL format.

### Steps to reproduce

* Install `digest` and `crm` modules
* Go to Settings > Technical > Digest Emails
* Select the ""Your Odoo Periodic Digest"" digest and send it
* Check the sent email and click on any of the ""Open Email"" links

You should encounter an error indicating that the action does not exist.

Although the reproduction steps use the `crm` module as an example, this issue occurs with all the modules listed in the title.

### Cause

The ""Open Report"" URLs were not updated to account for the new URL format.

opw-4405288
opw-4502625

Forward-Port-Of: odoo/odoo#196214
Forward-Port-Of: odoo/odoo#193997",fw-bot,2025-02-04 04:10:14+00:00,[],2025-02-05 13:54:19+00:00,2025-02-05 13:54:19+00:00,https://github.com/odoo/odoo/pull/196349,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2632774263, 'issue_id': 2829076985, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196349.png)](https://mergebot.odoo.com/odoo/odoo/pull/196349)', 'created_at': datetime.datetime(2025, 2, 4, 4, 10, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632774272, 'issue_id': 2829076985, 'author': 'fw-bot', 'body': '@ushyme @epictete this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 4, 10, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636505735, 'issue_id': 2829076985, 'author': 'ushyme', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 11, 46, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 04:10:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196349.png)](https://mergebot.odoo.com/odoo/odoo/pull/196349)

fw-bot (Issue Creator) on (2025-02-04 04:10:59 UTC): @ushyme @epictete this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ushyme on (2025-02-05 11:46:17 UTC): @robodoo r+

"
2828982529,pull_request,open,,[IMP] stock: improvements in product form and purchase rfq,"With this Commit:
--------------------------
1.Removed the ""No On-time Delivery Data"" message from RFQs when purchasing a
  product from a vendor for the first time.
2.In the Product Form, the confirmation dialog for the ""Valuation by Lot/SN""
  checkbox will now only appear if a stock valuation layer exists for the
  product.
3.The ""Update Quantity"" and ""Replenish"" header buttons are now hidden when the
  product is archived.
4.The ""On Hand"" quantity in the Product Form will now display the total
  qty_available instead of 0 when the product is archived.

task-4417432",chha-odoo,2025-02-04 02:37:37+00:00,[],2025-02-04 09:35:33+00:00,,https://github.com/odoo/odoo/pull/196348,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632683329, 'issue_id': 2828982529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196348.png)](https://mergebot.odoo.com/odoo/odoo/pull/196348)', 'created_at': datetime.datetime(2025, 2, 4, 2, 37, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 02:37:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196348.png)](https://mergebot.odoo.com/odoo/odoo/pull/196348)

"
2828931630,pull_request,open,,"[ADD] base,account,l10n_jp: placeholders","Add a reference VAT number for Japan using the format of a ""Qualified Invoice Issuer
Registration Number"".
This will appear as placeholder for the VAT field on the company and partner settings.

Also implement the dynamic placeholder system for
the company registry field in order to allow filling in placeholders for countries in which it would make sense to do so.

Finally, add a placeholder for the company registry for japanese companies and partners.

task-4366584

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",vin-odoo,2025-02-04 01:54:03+00:00,[],2025-02-04 02:00:11+00:00,,https://github.com/odoo/odoo/pull/196347,"[('RD', 'research & development, internal work')]","[{'comment_id': 2632580140, 'issue_id': 2828931630, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196347.png)](https://mergebot.odoo.com/odoo/odoo/pull/196347)', 'created_at': datetime.datetime(2025, 2, 4, 1, 54, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 01:54:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196347.png)](https://mergebot.odoo.com/odoo/odoo/pull/196347)

"
2828878064,pull_request,closed,,[FW][FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445

Forward-Port-Of: odoo/odoo#195826",fw-bot,2025-02-04 00:59:45+00:00,[],2025-02-05 02:45:45+00:00,2025-02-05 02:45:45+00:00,https://github.com/odoo/odoo/pull/196346,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632521621, 'issue_id': 2828878064, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196346.png)](https://mergebot.odoo.com/odoo/odoo/pull/196346)', 'created_at': datetime.datetime(2025, 2, 4, 0, 59, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632521626, 'issue_id': 2828878064, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 0, 59, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632563470, 'issue_id': 2828878064, 'author': 'fw-bot', 'body': '@hubvd @Julien00859 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 4, 1, 36, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 00:59:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196346.png)](https://mergebot.odoo.com/odoo/odoo/pull/196346)

fw-bot (Issue Creator) on (2025-02-04 00:59:46 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-04 01:36:54 UTC): @hubvd @Julien00859 ci/runbot failed on this forward-port PR

"
2828858721,pull_request,closed,,[FW][FIX] point_of_sale: enable import of orders with missing relations,"Before this commit, importing an exported order through the PoS UI failed due to missing relations in the imported order data.

opw-4237952

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#183379",fw-bot,2025-02-04 00:39:47+00:00,[],2025-02-04 13:25:51+00:00,2025-02-04 13:25:51+00:00,https://github.com/odoo/odoo/pull/196345,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2632499214, 'issue_id': 2828858721, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196345.png)](https://mergebot.odoo.com/odoo/odoo/pull/196345)', 'created_at': datetime.datetime(2025, 2, 4, 0, 39, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632499224, 'issue_id': 2828858721, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196342\n* odoo/odoo#196099\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 0, 39, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633172591, 'issue_id': 2828858721, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 12, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 00:39:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196345.png)](https://mergebot.odoo.com/odoo/odoo/pull/196345)

fw-bot (Issue Creator) on (2025-02-04 00:39:48 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196342
* odoo/odoo#196099

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-04 08:12:33 UTC): @robodoo r+

"
2828817872,pull_request,open,,[FIX][IMP] l10n_bo: Refactor chart of accounts and tax setup for Bolivia,"Description of the issue/feature this PR addresses:

The previous implementation of the Bolivian localization was based on Peruvian accounting standards, making it incompatible with local regulations. This PR refactors the module to align with Bolivian accounting and tax requirements.

Current behavior before PR:

- The module was developed by a Peruvian company, which did not meet Bolivian legal and fiscal requirements.
- The chart of accounts lacked key accounts needed for local compliance.
- Tax configurations and reports were not aligned with Bolivian tax regulations.
- Banks, states, and language formats were not properly adapted for Bolivia.

Desired behavior after PR is merged:

1. The Chart of Accounts now includes 661 accounts, ensuring compliance with Bolivian standards.
2. 67 tax configurations have been added to support local tax regulations.
3. 9 current tax reports are included for accurate fiscal reporting.
4. Bolivian banks information has been integrated.
5. The 9 states of Bolivia have been added.
6. Language formatting has been improved for better localization.

This update ensures the module is fully adapted to Bolivian requirements, improving accuracy and usability for businesses operating in Bolivia.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",SimonCapriles,2025-02-04 00:04:12+00:00,[],2025-02-05 01:39:33+00:00,,https://github.com/odoo/odoo/pull/196344,[],"[{'comment_id': 2632452464, 'issue_id': 2828817872, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196344.png)](https://mergebot.odoo.com/odoo/odoo/pull/196344)', 'created_at': datetime.datetime(2025, 2, 4, 0, 4, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-04 00:04:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196344.png)](https://mergebot.odoo.com/odoo/odoo/pull/196344)

"
2828791518,pull_request,closed,,[FW][FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445

Forward-Port-Of: odoo/odoo#195826",fw-bot,2025-02-03 23:40:27+00:00,[],2025-02-04 17:07:40+00:00,2025-02-04 17:07:40+00:00,https://github.com/odoo/odoo/pull/196343,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632423727, 'issue_id': 2828791518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196343.png)](https://mergebot.odoo.com/odoo/odoo/pull/196343)', 'created_at': datetime.datetime(2025, 2, 3, 23, 40, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632423738, 'issue_id': 2828791518, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 23, 40, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 23:40:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196343.png)](https://mergebot.odoo.com/odoo/odoo/pull/196343)

fw-bot (Issue Creator) on (2025-02-03 23:40:29 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828762031,pull_request,closed,,[FW][FIX] point_of_sale: enable import of orders with missing relations,"Before this commit, importing an exported order through the PoS UI failed due to missing relations in the imported order data.

opw-4237952

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#183379",fw-bot,2025-02-03 23:15:59+00:00,[],2025-02-04 09:47:03+00:00,2025-02-04 09:47:03+00:00,https://github.com/odoo/odoo/pull/196342,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632392180, 'issue_id': 2828762031, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196342.png)](https://mergebot.odoo.com/odoo/odoo/pull/196342)', 'created_at': datetime.datetime(2025, 2, 3, 23, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632392191, 'issue_id': 2828762031, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 23, 16, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 23:16:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196342.png)](https://mergebot.odoo.com/odoo/odoo/pull/196342)

fw-bot (Issue Creator) on (2025-02-03 23:16:01 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828757931,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when loading product suppliers,"Previously, opening the product info popup would fail if a product had multiple sellers with the same name but different prices and delays.

opw-4472861

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195682
Forward-Port-Of: odoo/odoo#195617",fw-bot,2025-02-03 23:12:32+00:00,[],2025-02-07 01:45:44+00:00,2025-02-07 01:45:44+00:00,https://github.com/odoo/odoo/pull/196341,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2632387758, 'issue_id': 2828757931, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196341.png)](https://mergebot.odoo.com/odoo/odoo/pull/196341)', 'created_at': datetime.datetime(2025, 2, 3, 23, 12, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632387796, 'issue_id': 2828757931, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo cherrypicking of pull request odoo/odoo#195617 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/point_of_sale/models/product.py deleted in 09b96f2c9c1e2c3ff6e34612438dd0273d408b03 and modified in bee70dc9ebb6d2c507aa2c3a4387e2927b24e477.  Version bee70dc9ebb6d2c507aa2c3a4387e2927b24e477 of addons/point_of_sale/models/product.py left in tree.\nCONFLICT (modify/delete): addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml deleted in 09b96f2c9c1e2c3ff6e34612438dd0273d408b03 and modified in bee70dc9ebb6d2c507aa2c3a4387e2927b24e477.  Version bee70dc9ebb6d2c507aa2c3a4387e2927b24e477 of addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 23, 12, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641265009, 'issue_id': 2828757931, 'author': 'pedrambiria', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 22, 27, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 23:12:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196341.png)](https://mergebot.odoo.com/odoo/odoo/pull/196341)

fw-bot (Issue Creator) on (2025-02-03 23:12:35 UTC): @pedrambiria @vlst-odoo cherrypicking of pull request odoo/odoo#195617 failed.

stdout:
```
CONFLICT (modify/delete): addons/point_of_sale/models/product.py deleted in 09b96f2c9c1e2c3ff6e34612438dd0273d408b03 and modified in bee70dc9ebb6d2c507aa2c3a4387e2927b24e477.  Version bee70dc9ebb6d2c507aa2c3a4387e2927b24e477 of addons/point_of_sale/models/product.py left in tree.
CONFLICT (modify/delete): addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml deleted in 09b96f2c9c1e2c3ff6e34612438dd0273d408b03 and modified in bee70dc9ebb6d2c507aa2c3a4387e2927b24e477.  Version bee70dc9ebb6d2c507aa2c3a4387e2927b24e477 of addons/point_of_sale/static/src/app/screens/product_screen/product_info_popup/product_info_popup.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-06 22:27:42 UTC): robodoo r+

"
2828703786,pull_request,closed,,[FW][FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195569",fw-bot,2025-02-03 22:32:39+00:00,[],2025-02-04 11:58:55+00:00,2025-02-04 11:58:55+00:00,https://github.com/odoo/odoo/pull/196340,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2632322808, 'issue_id': 2828703786, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196340.png)](https://mergebot.odoo.com/odoo/odoo/pull/196340)', 'created_at': datetime.datetime(2025, 2, 3, 22, 32, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632322843, 'issue_id': 2828703786, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196335\n* odoo/odoo#196328\n* odoo/odoo#196316\n* odoo/odoo#196302\n* odoo/odoo#196281\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 22, 32, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632415397, 'issue_id': 2828703786, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 23, 33, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633005859, 'issue_id': 2828703786, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 37, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633005904, 'issue_id': 2828703786, 'author': 'robodoo', 'body': '@walidsahli you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 4, 6, 37, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 22:32:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196340.png)](https://mergebot.odoo.com/odoo/odoo/pull/196340)

fw-bot (Issue Creator) on (2025-02-03 22:32:40 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196335
* odoo/odoo#196328
* odoo/odoo#196316
* odoo/odoo#196302
* odoo/odoo#196281

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 23:33:47 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

walidsahli on (2025-02-04 06:37:13 UTC): @robodoo r+

robodoo on (2025-02-04 06:37:16 UTC): @walidsahli you may want to rebuild or fix this PR as it has failed CI.

"
2828687048,pull_request,closed,,[FW][FIX] hr_*: allow editing unapproved allocation requests,"The base.group_user did not have the access right to read overtime_id, which is necessary for filtering allocations that do not have a null overtime_id. The access right was granted to base.group_user only when the allocation state is either draft or confirm.

task-4452360

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193797",fw-bot,2025-02-03 22:25:14+00:00,[],2025-02-04 20:40:49+00:00,2025-02-04 20:40:49+00:00,https://github.com/odoo/odoo/pull/196339,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2632292067, 'issue_id': 2828687048, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196339.png)](https://mergebot.odoo.com/odoo/odoo/pull/196339)', 'created_at': datetime.datetime(2025, 2, 3, 22, 25, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632292108, 'issue_id': 2828687048, 'author': 'fw-bot', 'body': '@ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml\nCONFLICT (content): Merge conflict in addons/hr_holidays/views/hr_leave_allocation_views.xml\nAuto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nCONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nAuto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 22, 25, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633298763, 'issue_id': 2828687048, 'author': 'tivisse', 'body': '@ataha1 Could you please solve conflicts ? \r\n\r\nThanks.', 'created_at': datetime.datetime(2025, 2, 4, 9, 11, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633501890, 'issue_id': 2828687048, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 33, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 22:25:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196339.png)](https://mergebot.odoo.com/odoo/odoo/pull/196339)

fw-bot (Issue Creator) on (2025-02-03 22:25:16 UTC): @ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.

stdout:
```
Auto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml
CONFLICT (content): Merge conflict in addons/hr_holidays/views/hr_leave_allocation_views.xml
Auto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
CONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
Auto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-04 09:11:57 UTC): @ataha1 Could you please solve conflicts ? 

Thanks.

tivisse on (2025-02-04 10:33:48 UTC): @robodoo r+

"
2828684582,pull_request,closed,,[FW][FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445

Forward-Port-Of: odoo/odoo#195826",fw-bot,2025-02-03 22:24:11+00:00,[],2025-02-04 16:37:09+00:00,2025-02-04 16:37:09+00:00,https://github.com/odoo/odoo/pull/196338,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632287744, 'issue_id': 2828684582, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196338.png)](https://mergebot.odoo.com/odoo/odoo/pull/196338)', 'created_at': datetime.datetime(2025, 2, 3, 22, 24, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632287786, 'issue_id': 2828684582, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 22, 24, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 22:24:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196338.png)](https://mergebot.odoo.com/odoo/odoo/pull/196338)

fw-bot (Issue Creator) on (2025-02-03 22:24:13 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828678474,pull_request,closed,,[FW][FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040

Forward-Port-Of: odoo/odoo#194541",fw-bot,2025-02-03 22:21:35+00:00,[],2025-02-04 12:55:32+00:00,2025-02-04 12:55:32+00:00,https://github.com/odoo/odoo/pull/196337,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632279387, 'issue_id': 2828678474, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196337.png)](https://mergebot.odoo.com/odoo/odoo/pull/196337)', 'created_at': datetime.datetime(2025, 2, 3, 22, 21, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632279425, 'issue_id': 2828678474, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 22, 21, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632377670, 'issue_id': 2828678474, 'author': 'fw-bot', 'body': '@aaha-odoo @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 23, 4, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 22:21:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196337.png)](https://mergebot.odoo.com/odoo/odoo/pull/196337)

fw-bot (Issue Creator) on (2025-02-03 22:21:37 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 23:04:50 UTC): @aaha-odoo @h4818 ci/runbot failed on this forward-port PR

"
2828572050,pull_request,closed,,[FW][FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357

Forward-Port-Of: odoo/odoo#195777",fw-bot,2025-02-03 21:33:00+00:00,[],2025-02-04 10:32:36+00:00,2025-02-04 10:32:36+00:00,https://github.com/odoo/odoo/pull/196336,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2632124014, 'issue_id': 2828572050, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196336.png)](https://mergebot.odoo.com/odoo/odoo/pull/196336)', 'created_at': datetime.datetime(2025, 2, 3, 21, 33, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632124036, 'issue_id': 2828572050, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196331\n* odoo/odoo#196320\n* odoo/odoo#196304\n* odoo/odoo#196285\n* odoo/odoo#196254\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 21, 33, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632979721, 'issue_id': 2828572050, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 19, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 21:33:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196336.png)](https://mergebot.odoo.com/odoo/odoo/pull/196336)

fw-bot (Issue Creator) on (2025-02-03 21:33:02 UTC): @SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196331
* odoo/odoo#196320
* odoo/odoo#196304
* odoo/odoo#196285
* odoo/odoo#196254

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-02-04 06:19:28 UTC): @robodoo r+

"
2828531222,pull_request,closed,,[FW][FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195569",fw-bot,2025-02-03 21:08:41+00:00,[],2025-02-04 08:25:20+00:00,2025-02-04 08:25:20+00:00,https://github.com/odoo/odoo/pull/196335,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632080599, 'issue_id': 2828531222, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196335.png)](https://mergebot.odoo.com/odoo/odoo/pull/196335)', 'created_at': datetime.datetime(2025, 2, 3, 21, 8, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632080614, 'issue_id': 2828531222, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 21, 8, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 21:08:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196335.png)](https://mergebot.odoo.com/odoo/odoo/pull/196335)

fw-bot (Issue Creator) on (2025-02-03 21:08:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828508845,pull_request,closed,,[FW][FIX] http: remove cache headers in static files for wkhtmltopdf,"Steps to reproduce
==================

- Activate the assets debug mode
- Print a report => The footer is missing

Cause of the issue
==================

The sames fonts are used in the header and footer.

A first request is made


```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Accept: */*
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
Accept-Language: en-US,*
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34

HTTP/1.0 200 OK
Server: Werkzeug/2.0.2 Python/3.11.11
Etag: ""1710849406-32964-706485214""
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Content-Type: application/font-woff
Date: Tue, 28 Jan 2025 13:18:36 GMT
Last-Modified: Tue, 19 Mar 2024 11:56:46 GMT
Content-Length: 32964
Cache-Control: no-cache, max-age=0
Accept-Ranges: bytes
```

The second request from the footer is

```http
GET /web/static/fonts/lato/Lato-Reg-webfont.woff HTTP/1.1
Cache-Control: no-cache
Pragma: no-cache
If-Modified-Since: Tue, 19 Mar 2024 11:56:46 GMT
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.34 (KHTML, like Gecko) wkhtmltopdf Safari/534.34
Cookie: REDACTED
Connection: Keep-Alive
Accept-Encoding: gzip
If-None-Match: ""1710849406-32964-706485214""
Accept: */*
Accept-Language: en-US,*

HTTP/1.0 304 NOT MODIFIED
Server: Werkzeug/2.0.2 Python/3.11.11
Date: Tue, 28 Jan 2025 13:18:36 GMT
Accept-Ranges: bytes
Content-Disposition: inline; filename=Lato-Bla-webfont.woff
Cache-Control: no-cache, max-age=0
Expires: Tue, 28 Jan 2025 13:18:36 GMT
Etag: ""1710849406-32964-706485214""
```
When running wkhtmltopdf manually, we obtain the following output:

```
Warning: Received createRequest signal on a disposed ResourceObject's NetworkAccessManager.
This might be an indication of an iframe taking too long to load.
```

This indicates that wkhtmltopdf is not handling the cache headers
correctly and fails to recognize the fact that it should reuse the
previously received version of the file.

Solution
========

In production, odoo should run behind a reverse proxy that handles
static files, and the debug assets mode should not be used.

Nevertheless, since wkhtmltopdf misinterprets cache headers, we simply
remove them in case

opw-4413445

Forward-Port-Of: odoo/odoo#195826",fw-bot,2025-02-03 20:56:10+00:00,[],2025-02-04 20:41:35+00:00,2025-02-04 20:41:35+00:00,https://github.com/odoo/odoo/pull/196334,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2632055943, 'issue_id': 2828508845, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196334.png)](https://mergebot.odoo.com/odoo/odoo/pull/196334)', 'created_at': datetime.datetime(2025, 2, 3, 20, 56, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632055959, 'issue_id': 2828508845, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 20, 56, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 20:56:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196334.png)](https://mergebot.odoo.com/odoo/odoo/pull/196334)

fw-bot (Issue Creator) on (2025-02-03 20:56:11 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828478398,pull_request,closed,,[FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994
",DjamelTouati,2025-02-03 20:38:35+00:00,[],2025-02-04 17:24:56+00:00,2025-02-04 17:24:56+00:00,https://github.com/odoo/odoo/pull/196333,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2632024151, 'issue_id': 2828478398, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196333.png)](https://mergebot.odoo.com/odoo/odoo/pull/196333)', 'created_at': datetime.datetime(2025, 2, 3, 20, 38, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634345337, 'issue_id': 2828478398, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 38, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634345461, 'issue_id': 2828478398, 'author': 'robodoo', 'body': ""@DjamelTouati you can't review+."", 'created_at': datetime.datetime(2025, 2, 4, 15, 38, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634347241, 'issue_id': 2828478398, 'author': 'DjamelTouati', 'body': 'my bad, wrong PR!', 'created_at': datetime.datetime(2025, 2, 4, 15, 39, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634374418, 'issue_id': 2828478398, 'author': 'Whenrow', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 15, 49, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 20:38:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196333.png)](https://mergebot.odoo.com/odoo/odoo/pull/196333)

DjamelTouati (Issue Creator) on (2025-02-04 15:38:22 UTC): robodoo r+

robodoo on (2025-02-04 15:38:26 UTC): @DjamelTouati you can't review+.

DjamelTouati (Issue Creator) on (2025-02-04 15:39:06 UTC): my bad, wrong PR!

Whenrow on (2025-02-04 15:49:20 UTC): robodoo r+

"
2828438359,pull_request,closed,,[FW][FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292

Forward-Port-Of: odoo/odoo#195852
Forward-Port-Of: odoo/odoo#195645",fw-bot,2025-02-03 20:16:48+00:00,[],2025-02-06 15:22:38+00:00,2025-02-06 15:22:38+00:00,https://github.com/odoo/odoo/pull/196332,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631982410, 'issue_id': 2828438359, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196332.png)](https://mergebot.odoo.com/odoo/odoo/pull/196332)', 'created_at': datetime.datetime(2025, 2, 3, 20, 16, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631982480, 'issue_id': 2828438359, 'author': 'fw-bot', 'body': '@agr-odoo cherrypicking of pull request odoo/odoo#195645 failed.\n\nstdout:\n```\nAuto-merging addons/sale/models/account_move.py\nCONFLICT (content): Merge conflict in addons/sale/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 20, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639528784, 'issue_id': 2828438359, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 11, 13, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 20:16:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196332.png)](https://mergebot.odoo.com/odoo/odoo/pull/196332)

fw-bot (Issue Creator) on (2025-02-03 20:16:51 UTC): @agr-odoo cherrypicking of pull request odoo/odoo#195645 failed.

stdout:
```
Auto-merging addons/sale/models/account_move.py
CONFLICT (content): Merge conflict in addons/sale/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-02-06 11:13:21 UTC): @robodoo r+

"
2828429175,pull_request,closed,,[FW][FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357

Forward-Port-Of: odoo/odoo#195777",fw-bot,2025-02-03 20:12:48+00:00,[],2025-02-04 08:25:02+00:00,2025-02-04 08:25:02+00:00,https://github.com/odoo/odoo/pull/196331,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631973349, 'issue_id': 2828429175, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196331.png)](https://mergebot.odoo.com/odoo/odoo/pull/196331)', 'created_at': datetime.datetime(2025, 2, 3, 20, 12, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631973358, 'issue_id': 2828429175, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 20, 12, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 20:12:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196331.png)](https://mergebot.odoo.com/odoo/odoo/pull/196331)

fw-bot (Issue Creator) on (2025-02-03 20:12:50 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828427397,pull_request,closed,,[FW][FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648

Forward-Port-Of: odoo/odoo#196159
Forward-Port-Of: odoo/odoo#193239",fw-bot,2025-02-03 20:11:51+00:00,[],2025-02-05 10:56:06+00:00,2025-02-05 10:56:06+00:00,https://github.com/odoo/odoo/pull/196330,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631971218, 'issue_id': 2828427397, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196330.png)](https://mergebot.odoo.com/odoo/odoo/pull/196330)', 'created_at': datetime.datetime(2025, 2, 3, 20, 11, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631971246, 'issue_id': 2828427397, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196325\n* odoo/odoo#196313\n* odoo/odoo#196288\n* odoo/odoo#196258\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 20, 11, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634028165, 'issue_id': 2828427397, 'author': 'bvr-odoo', 'body': '@shsa-odoo It seems no longer needed in master (maybe before ?)\r\ncould you investigate please ?', 'created_at': datetime.datetime(2025, 2, 4, 13, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635869002, 'issue_id': 2828427397, 'author': 'shsa-odoo', 'body': '> @shsa-odoo It seems no longer needed in master (maybe before ?) could you investigate please ?\r\n\r\nHello @bvr-odoo It is needed, because when we place cursor at the end of the text it will spilt into 2 `li` and we need to prevent that.\r\nSee : https://www.awesomescreenshot.com/video/36256248?key=36091a0ae3ea70aa5695fbe3e1c437e2', 'created_at': datetime.datetime(2025, 2, 5, 7, 14, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636061288, 'issue_id': 2828427397, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 8, 31, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 20:11:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196330.png)](https://mergebot.odoo.com/odoo/odoo/pull/196330)

fw-bot (Issue Creator) on (2025-02-03 20:11:52 UTC): @shsa-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196325
* odoo/odoo#196313
* odoo/odoo#196288
* odoo/odoo#196258

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-04 13:50:10 UTC): @shsa-odoo It seems no longer needed in master (maybe before ?)
could you investigate please ?

shsa-odoo on (2025-02-05 07:14:59 UTC): Hello @bvr-odoo It is needed, because when we place cursor at the end of the text it will spilt into 2 `li` and we need to prevent that.
See : https://www.awesomescreenshot.com/video/36256248?key=36091a0ae3ea70aa5695fbe3e1c437e2

bvr-odoo on (2025-02-05 08:31:07 UTC): @robodoo r+

"
2828411840,pull_request,closed,,[FW][FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040

Forward-Port-Of: odoo/odoo#194541",fw-bot,2025-02-03 20:03:34+00:00,[],2025-02-04 15:09:47+00:00,2025-02-04 15:09:47+00:00,https://github.com/odoo/odoo/pull/196329,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631954887, 'issue_id': 2828411840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196329.png)](https://mergebot.odoo.com/odoo/odoo/pull/196329)', 'created_at': datetime.datetime(2025, 2, 3, 20, 3, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631954907, 'issue_id': 2828411840, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 20, 3, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632020607, 'issue_id': 2828411840, 'author': 'fw-bot', 'body': '@aaha-odoo @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 20, 36, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 20:03:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196329.png)](https://mergebot.odoo.com/odoo/odoo/pull/196329)

fw-bot (Issue Creator) on (2025-02-03 20:03:36 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 20:36:41 UTC): @aaha-odoo @h4818 ci/runbot failed on this forward-port PR

"
2828402569,pull_request,closed,,[FW][FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195569",fw-bot,2025-02-03 19:58:27+00:00,[],2025-02-04 08:32:56+00:00,2025-02-04 08:32:55+00:00,https://github.com/odoo/odoo/pull/196328,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631944810, 'issue_id': 2828402569, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196328.png)](https://mergebot.odoo.com/odoo/odoo/pull/196328)', 'created_at': datetime.datetime(2025, 2, 3, 19, 58, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631944834, 'issue_id': 2828402569, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 58, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:58:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196328.png)](https://mergebot.odoo.com/odoo/odoo/pull/196328)

fw-bot (Issue Creator) on (2025-02-03 19:58:29 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828379658,pull_request,closed,,"[FW][IMP] point_of_sale, pos_restaurant: tour for testing synchronisation","Before we had no solution to test the synchronisation of the pos. In classic tours websocket are not supported. And we cannot launch two tours in parallel.

This commit add the possibility to load test assets in the PoS during our development. That's allow us to launch tour in loop in two different browser and test the synchronisation by creating orders, payment etc.

Tour assets are only added by adding `&tours=True` in the URL of the PoS interface.

Forward-Port-Of: odoo/odoo#196095
Forward-Port-Of: odoo/odoo#195344",fw-bot,2025-02-03 19:46:00+00:00,[],2025-02-04 10:31:53+00:00,2025-02-04 10:31:47+00:00,https://github.com/odoo/odoo/pull/196327,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631920111, 'issue_id': 2828379658, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196327.png)](https://mergebot.odoo.com/odoo/odoo/pull/196327)', 'created_at': datetime.datetime(2025, 2, 3, 19, 46, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631920133, 'issue_id': 2828379658, 'author': 'fw-bot', 'body': '@davidmonnom @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 46, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632162314, 'issue_id': 2828379658, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 21, 52, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:46:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196327.png)](https://mergebot.odoo.com/odoo/odoo/pull/196327)

fw-bot (Issue Creator) on (2025-02-03 19:46:02 UTC): @davidmonnom @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-03 21:52:29 UTC): @robodoo r+

"
2828341759,pull_request,closed,,[FIX] rating: Extra border line on the rating image,"Description of the issue/feature this PR addresses:

Related ticket: https://www.odoo.com/odoo/my-tasks/4482430

The 'btn' class was incorrectly applied to the rating label in rating_templates.xml, which affected the styling, making extra border line displaying on the rating image. Removing this class restores the expected appearance.

Current behavior before PR: there will be weird border on the rating page

![image](https://github.com/user-attachments/assets/0b8fa198-1995-40d0-b95e-c0de555af47c)

Desired behavior after PR is merged:

The border will be invisible and everything else still functional without any influence


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",fame-odoo,2025-02-03 19:24:40+00:00,[],2025-02-04 20:58:47+00:00,2025-02-04 20:58:47+00:00,https://github.com/odoo/odoo/pull/196326,[],"[{'comment_id': 2631878258, 'issue_id': 2828341759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196326.png)](https://mergebot.odoo.com/odoo/odoo/pull/196326)', 'created_at': datetime.datetime(2025, 2, 3, 19, 24, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634562066, 'issue_id': 2828341759, 'author': 'fame-odoo', 'body': 'Hi @Guillaume-gdi , will this be better? By doing CSS change the user does not need to upgrade the module but refresh the page now', 'created_at': datetime.datetime(2025, 2, 4, 17, 2, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635062078, 'issue_id': 2828341759, 'author': 'fame-odoo', 'body': 'sorry my bad, I will close the PR and resubmit from odoo-dev', 'created_at': datetime.datetime(2025, 2, 4, 20, 58, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:24:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196326.png)](https://mergebot.odoo.com/odoo/odoo/pull/196326)

fame-odoo (Issue Creator) on (2025-02-04 17:02:43 UTC): Hi @Guillaume-gdi , will this be better? By doing CSS change the user does not need to upgrade the module but refresh the page now

fame-odoo (Issue Creator) on (2025-02-04 20:58:42 UTC): sorry my bad, I will close the PR and resubmit from odoo-dev

"
2828302008,pull_request,closed,,[FW][FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648

Forward-Port-Of: odoo/odoo#196159
Forward-Port-Of: odoo/odoo#193239",fw-bot,2025-02-03 19:04:32+00:00,[],2025-02-05 10:16:13+00:00,2025-02-05 10:16:13+00:00,https://github.com/odoo/odoo/pull/196325,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631831804, 'issue_id': 2828302008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196325.png)](https://mergebot.odoo.com/odoo/odoo/pull/196325)', 'created_at': datetime.datetime(2025, 2, 3, 19, 4, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631831824, 'issue_id': 2828302008, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 4, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:04:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196325.png)](https://mergebot.odoo.com/odoo/odoo/pull/196325)

fw-bot (Issue Creator) on (2025-02-03 19:04:34 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828299478,pull_request,closed,,[FW][FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292

Forward-Port-Of: odoo/odoo#195852
Forward-Port-Of: odoo/odoo#195645",fw-bot,2025-02-03 19:03:09+00:00,[],2025-02-04 09:15:40+00:00,2025-02-04 09:15:40+00:00,https://github.com/odoo/odoo/pull/196324,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631828837, 'issue_id': 2828299478, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196324.png)](https://mergebot.odoo.com/odoo/odoo/pull/196324)', 'created_at': datetime.datetime(2025, 2, 3, 19, 3, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631828875, 'issue_id': 2828299478, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 3, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631982432, 'issue_id': 2828299478, 'author': 'fw-bot', 'body': '@agr-odoo the next pull request (odoo/odoo#196332) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 20, 16, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633114550, 'issue_id': 2828299478, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 40, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:03:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196324.png)](https://mergebot.odoo.com/odoo/odoo/pull/196324)

fw-bot (Issue Creator) on (2025-02-03 19:03:11 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 20:16:49 UTC): @agr-odoo the next pull request (odoo/odoo#196332) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-02-04 07:40:25 UTC): @robodoo r+

"
2828297731,pull_request,closed,,[FW][FIX] portal: prevent unintended scrolling behavior in Chatter,"Since [1] ensures that the Chatter is positioned under the page header, the introduction of the new ""sidebar"" header template caused misplacement when scrolling.

This commit adds a check to avoid applying padding when the header is a sidebar (o_header_sidebar), preventing unintended scrolling behavior in the sidebar layout.

Steps to reproduce:

- Install the Sales module.
- On a sales order, add some comments in the Chatter.
- Click on Preview.
- Edit the header template and select the last option, ""Sidebar"".
- Save the changes.
- Scroll down and observe that the Chatter disappears.

opw-4515419

[1]: https://github.com/odoo/odoo/commit/368eb78a9cedfce0802b64fd2782e1c018541e40

Forward-Port-Of: odoo/odoo#196115",fw-bot,2025-02-03 19:02:14+00:00,[],2025-02-04 09:05:26+00:00,2025-02-04 09:05:26+00:00,https://github.com/odoo/odoo/pull/196323,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631826580, 'issue_id': 2828297731, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196323.png)](https://mergebot.odoo.com/odoo/odoo/pull/196323)', 'created_at': datetime.datetime(2025, 2, 3, 19, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631826626, 'issue_id': 2828297731, 'author': 'fw-bot', 'body': '@SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196310\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 2, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631896177, 'issue_id': 2828297731, 'author': 'SergeBayet', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 19, 33, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:02:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196323.png)](https://mergebot.odoo.com/odoo/odoo/pull/196323)

fw-bot (Issue Creator) on (2025-02-03 19:02:16 UTC): @SergeBayet @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196310

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

SergeBayet on (2025-02-03 19:33:37 UTC): @robodoo r+

"
2828294702,pull_request,closed,,[FW][FIX] l10n_hu_edi: price include tax,"[FIX] l10n_hu_edi: price include tax

Price unit was not properly calculated:
* Didn't remove the discount.
* Didn't take into account price included taxes.

We also removed a test use case that didn't make sense.

Task-id: 4236755

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195326
Forward-Port-Of: odoo/odoo#190095",fw-bot,2025-02-03 19:00:59+00:00,[],2025-02-04 11:32:39+00:00,2025-02-04 11:32:39+00:00,https://github.com/odoo/odoo/pull/196322,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631819105, 'issue_id': 2828294702, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196322.png)](https://mergebot.odoo.com/odoo/odoo/pull/196322)', 'created_at': datetime.datetime(2025, 2, 3, 19, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631819126, 'issue_id': 2828294702, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631877937, 'issue_id': 2828294702, 'author': 'fw-bot', 'body': '@rugo-odoo @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 19, 24, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633302188, 'issue_id': 2828294702, 'author': 'rugo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 13, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:01:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196322.png)](https://mergebot.odoo.com/odoo/odoo/pull/196322)

fw-bot (Issue Creator) on (2025-02-03 19:01:02 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 19:24:34 UTC): @rugo-odoo @smetl ci/runbot failed on this forward-port PR

rugo-odoo on (2025-02-04 09:13:25 UTC): @robodoo r+

"
2828294025,pull_request,closed,,[FW][FIX] account: Add context key to prevent exchange diff but not recur…,"…sively

The 'no_exchange_difference' is used to prevent exchange diff in the whole reconciliation. However, the reconciliation is recursive when dealing with CABA entries. From the bank reconciliation widget, we want to prevent the exchange diff only for the top reconciliation but not recursively. Otherwise, the CABA entry ends up with a residual amount but considered as fully reconciled.

Instead, this commit introduces a new context key: 'no_exchange_difference_no_recursive'.

task-id: 4531511

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196074
Forward-Port-Of: odoo/odoo#195814",fw-bot,2025-02-03 19:00:40+00:00,[],2025-02-04 15:54:20+00:00,2025-02-04 15:54:20+00:00,https://github.com/odoo/odoo/pull/196321,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631818405, 'issue_id': 2828294025, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196321.png)](https://mergebot.odoo.com/odoo/odoo/pull/196321)', 'created_at': datetime.datetime(2025, 2, 3, 19, 0, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631818456, 'issue_id': 2828294025, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 19, 0, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631898137, 'issue_id': 2828294025, 'author': 'fw-bot', 'body': '@smetl @oco-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 19, 34, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633125285, 'issue_id': 2828294025, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 45, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633125341, 'issue_id': 2828294025, 'author': 'robodoo', 'body': '@smetl you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 4, 7, 45, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 19:00:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196321.png)](https://mergebot.odoo.com/odoo/odoo/pull/196321)

fw-bot (Issue Creator) on (2025-02-03 19:00:44 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 19:34:36 UTC): @smetl @oco-odoo ci/runbot failed on this forward-port PR

smetl on (2025-02-04 07:45:33 UTC): @robodoo r+

robodoo on (2025-02-04 07:45:35 UTC): @smetl you may want to rebuild or fix this PR as it has failed CI.

"
2828291942,pull_request,closed,,[FW][FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357

Forward-Port-Of: odoo/odoo#195777",fw-bot,2025-02-03 18:59:42+00:00,[],2025-02-04 08:32:55+00:00,2025-02-04 08:32:55+00:00,https://github.com/odoo/odoo/pull/196320,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631816429, 'issue_id': 2828291942, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196320.png)](https://mergebot.odoo.com/odoo/odoo/pull/196320)', 'created_at': datetime.datetime(2025, 2, 3, 18, 59, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631816452, 'issue_id': 2828291942, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 18, 59, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:59:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196320.png)](https://mergebot.odoo.com/odoo/odoo/pull/196320)

fw-bot (Issue Creator) on (2025-02-03 18:59:44 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828291271,pull_request,closed,,[FW][FIX] web_editor: extract link from HTML,"**Problem**:
When a link is copied with HTML content, `handlePasteText` is called after `handlePasteHtml`, and the content type is `text/html`.

**Solution**:
Extract the pasted content as text inside `handlePasteHtml` and check if it is a single valid link. If so, skip further processing.

**Steps to Reproduce**:
1. Copy a link from Visual Studio Code.
2. Paste the link into the editor.
3. Observe that the link is not created.

opw-4460599

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192931",fw-bot,2025-02-03 18:59:22+00:00,[],2025-02-04 11:58:48+00:00,2025-02-04 11:58:42+00:00,https://github.com/odoo/odoo/pull/196319,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631815774, 'issue_id': 2828291271, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196319.png)](https://mergebot.odoo.com/odoo/odoo/pull/196319)', 'created_at': datetime.datetime(2025, 2, 3, 18, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631815800, 'issue_id': 2828291271, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196308\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 18, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633006375, 'issue_id': 2828291271, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 37, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:59:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196319.png)](https://mergebot.odoo.com/odoo/odoo/pull/196319)

fw-bot (Issue Creator) on (2025-02-03 18:59:24 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196308

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-02-04 06:37:42 UTC): @robodoo r+

"
2828288712,pull_request,closed,,[FW][FIX] point_of_sale: prevent error with 0 decimal places,"Before this commit, if a currency had zero decimal places, it would cause an error when selling products.

opw-4543742

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196223",fw-bot,2025-02-03 18:58:13+00:00,[],2025-02-04 10:31:54+00:00,2025-02-04 10:31:54+00:00,https://github.com/odoo/odoo/pull/196318,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631813505, 'issue_id': 2828288712, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196318.png)](https://mergebot.odoo.com/odoo/odoo/pull/196318)', 'created_at': datetime.datetime(2025, 2, 3, 18, 58, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631813536, 'issue_id': 2828288712, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196309\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 18, 58, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632336238, 'issue_id': 2828288712, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 3, 22, 36, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:58:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196318.png)](https://mergebot.odoo.com/odoo/odoo/pull/196318)

fw-bot (Issue Creator) on (2025-02-03 18:58:15 UTC): @pedrambiria @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196309

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-03 22:36:18 UTC): @robodoo r+

"
2828274900,pull_request,closed,,[FW][FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040

Forward-Port-Of: odoo/odoo#194541",fw-bot,2025-02-03 18:51:26+00:00,[],2025-02-04 15:54:04+00:00,2025-02-04 15:54:04+00:00,https://github.com/odoo/odoo/pull/196317,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631799820, 'issue_id': 2828274900, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196317.png)](https://mergebot.odoo.com/odoo/odoo/pull/196317)', 'created_at': datetime.datetime(2025, 2, 3, 18, 51, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631799843, 'issue_id': 2828274900, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 18, 51, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:51:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196317.png)](https://mergebot.odoo.com/odoo/odoo/pull/196317)

fw-bot (Issue Creator) on (2025-02-03 18:51:28 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828251116,pull_request,closed,,[FW][FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195569",fw-bot,2025-02-03 18:40:17+00:00,[],2025-02-04 08:36:32+00:00,2025-02-04 08:36:32+00:00,https://github.com/odoo/odoo/pull/196316,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631777883, 'issue_id': 2828251116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196316.png)](https://mergebot.odoo.com/odoo/odoo/pull/196316)', 'created_at': datetime.datetime(2025, 2, 3, 18, 40, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631777903, 'issue_id': 2828251116, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 18, 40, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:40:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196316.png)](https://mergebot.odoo.com/odoo/odoo/pull/196316)

fw-bot (Issue Creator) on (2025-02-03 18:40:19 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828212964,pull_request,open,,Update report_stock_rule.py,"grouping the RR by location_id to avoid a filtered at each loop

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",0xDS,2025-02-03 18:20:31+00:00,[],2025-02-03 19:00:17+00:00,,https://github.com/odoo/odoo/pull/196315,"[('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2631738910, 'issue_id': 2828212964, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196315.png)](https://mergebot.odoo.com/odoo/odoo/pull/196315)', 'created_at': datetime.datetime(2025, 2, 3, 18, 20, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:20:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196315.png)](https://mergebot.odoo.com/odoo/odoo/pull/196315)

"
2828183000,pull_request,closed,,[FW][FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193255",fw-bot,2025-02-03 18:04:59+00:00,[],2025-02-04 11:58:47+00:00,2025-02-04 11:58:46+00:00,https://github.com/odoo/odoo/pull/196314,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631706383, 'issue_id': 2828183000, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196314.png)](https://mergebot.odoo.com/odoo/odoo/pull/196314)', 'created_at': datetime.datetime(2025, 2, 3, 18, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631706410, 'issue_id': 2828183000, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196294\n* odoo/odoo#196262\n* odoo/odoo#196228\n* odoo/odoo#196191\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 18, 5, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633006674, 'issue_id': 2828183000, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 37, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 18:05:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196314.png)](https://mergebot.odoo.com/odoo/odoo/pull/196314)

fw-bot (Issue Creator) on (2025-02-03 18:05:01 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196294
* odoo/odoo#196262
* odoo/odoo#196228
* odoo/odoo#196191

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-02-04 06:37:57 UTC): @robodoo r+

"
2828164542,pull_request,closed,,[FW][FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648

Forward-Port-Of: odoo/odoo#196159
Forward-Port-Of: odoo/odoo#193239",fw-bot,2025-02-03 17:55:07+00:00,[],2025-02-05 14:26:54+00:00,2025-02-05 14:26:54+00:00,https://github.com/odoo/odoo/pull/196313,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631685826, 'issue_id': 2828164542, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196313.png)](https://mergebot.odoo.com/odoo/odoo/pull/196313)', 'created_at': datetime.datetime(2025, 2, 3, 17, 55, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631685853, 'issue_id': 2828164542, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 55, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:55:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196313.png)](https://mergebot.odoo.com/odoo/odoo/pull/196313)

fw-bot (Issue Creator) on (2025-02-03 17:55:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828158442,pull_request,closed,,[FIX] rating: Extra border line on the rating image,"Related Ticket: https://www.odoo.com/odoo/my-tasks/4482430

Signing up the CLA

[FIX] rating: Extra border line on the rating image

The 'btn' class was incorrectly applied to the rating label in
`rating_templates.xml`, which affected the styling, making extra
border line displaying on the rating image. Removing this class
restores the expected appearance.

![image](https://github.com/user-attachments/assets/120a252a-7ba3-4e6c-8064-6c9a160c4ba6)

",MFYDev,2025-02-03 17:51:49+00:00,[],2025-02-03 18:56:46+00:00,2025-02-03 18:56:46+00:00,https://github.com/odoo/odoo/pull/196312,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2631679063, 'issue_id': 2828158442, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196312.png)](https://mergebot.odoo.com/odoo/odoo/pull/196312)', 'created_at': datetime.datetime(2025, 2, 3, 17, 51, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:51:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196312.png)](https://mergebot.odoo.com/odoo/odoo/pull/196312)

"
2828155640,pull_request,closed,,[FW][FIX] account: Add context key to prevent exchange diff but not recur…,"…sively

The 'no_exchange_difference' is used to prevent exchange diff in the whole reconciliation. However, the reconciliation is recursive when dealing with CABA entries. From the bank reconciliation widget, we want to prevent the exchange diff only for the top reconciliation but not recursively. Otherwise, the CABA entry ends up with a residual amount but considered as fully reconciled.

Instead, this commit introduces a new context key: 'no_exchange_difference_no_recursive'.

task-id: 4531511

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196074
Forward-Port-Of: odoo/odoo#195814",fw-bot,2025-02-03 17:50:20+00:00,[],2025-02-04 09:15:33+00:00,2025-02-04 09:15:33+00:00,https://github.com/odoo/odoo/pull/196311,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631675819, 'issue_id': 2828155640, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196311.png)](https://mergebot.odoo.com/odoo/odoo/pull/196311)', 'created_at': datetime.datetime(2025, 2, 3, 17, 50, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631675878, 'issue_id': 2828155640, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 50, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633091778, 'issue_id': 2828155640, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 7, 31, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:50:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196311.png)](https://mergebot.odoo.com/odoo/odoo/pull/196311)

fw-bot (Issue Creator) on (2025-02-03 17:50:24 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-02-04 07:31:14 UTC): @robodoo r+

"
2828150870,pull_request,closed,,[FW][FIX] portal: prevent unintended scrolling behavior in Chatter,"Since [1] ensures that the Chatter is positioned under the page header, the introduction of the new ""sidebar"" header template caused misplacement when scrolling.

This commit adds a check to avoid applying padding when the header is a sidebar (o_header_sidebar), preventing unintended scrolling behavior in the sidebar layout.

Steps to reproduce:

- Install the Sales module.
- On a sales order, add some comments in the Chatter.
- Click on Preview.
- Edit the header template and select the last option, ""Sidebar"".
- Save the changes.
- Scroll down and observe that the Chatter disappears.

opw-4515419

[1]: https://github.com/odoo/odoo/commit/368eb78a9cedfce0802b64fd2782e1c018541e40

Forward-Port-Of: odoo/odoo#196115",fw-bot,2025-02-03 17:47:50+00:00,[],2025-02-04 05:36:49+00:00,2025-02-04 05:36:49+00:00,https://github.com/odoo/odoo/pull/196310,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631670557, 'issue_id': 2828150870, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196310.png)](https://mergebot.odoo.com/odoo/odoo/pull/196310)', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631670581, 'issue_id': 2828150870, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:47:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196310.png)](https://mergebot.odoo.com/odoo/odoo/pull/196310)

fw-bot (Issue Creator) on (2025-02-03 17:47:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828150346,pull_request,closed,,[FW][FIX] point_of_sale: prevent error with 0 decimal places,"Before this commit, if a currency had zero decimal places, it would cause an error when selling products.

opw-4543742

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196223",fw-bot,2025-02-03 17:47:32+00:00,[],2025-02-04 05:37:07+00:00,2025-02-04 05:37:07+00:00,https://github.com/odoo/odoo/pull/196309,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631669917, 'issue_id': 2828150346, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196309.png)](https://mergebot.odoo.com/odoo/odoo/pull/196309)', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631669948, 'issue_id': 2828150346, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:47:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196309.png)](https://mergebot.odoo.com/odoo/odoo/pull/196309)

fw-bot (Issue Creator) on (2025-02-03 17:47:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828149763,pull_request,closed,,[FW][FIX] web_editor: extract link from HTML,"**Problem**:
When a link is copied with HTML content, `handlePasteText` is called after `handlePasteHtml`, and the content type is `text/html`.

**Solution**:
Extract the pasted content as text inside `handlePasteHtml` and check if it is a single valid link. If so, skip further processing.

**Steps to Reproduce**:
1. Copy a link from Visual Studio Code.
2. Paste the link into the editor.
3. Observe that the link is not created.

opw-4460599

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192931",fw-bot,2025-02-03 17:47:13+00:00,[],2025-02-04 08:25:24+00:00,2025-02-04 08:25:24+00:00,https://github.com/odoo/odoo/pull/196308,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631669211, 'issue_id': 2828149763, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196308.png)](https://mergebot.odoo.com/odoo/odoo/pull/196308)', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631669244, 'issue_id': 2828149763, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:47:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196308.png)](https://mergebot.odoo.com/odoo/odoo/pull/196308)

fw-bot (Issue Creator) on (2025-02-03 17:47:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828149218,pull_request,closed,,[FW][FIX] point_of_sale: prevent loading empty categories,"Before this commit:
====
- All POS categories were being loaded, even if they had no associated products.

After this commit:
====
- Only categories linked to products are loaded.


Task-4517979

Forward-Port-Of: odoo/odoo#195377",fw-bot,2025-02-03 17:46:55+00:00,[],2025-02-04 08:25:15+00:00,2025-02-04 08:25:15+00:00,https://github.com/odoo/odoo/pull/196307,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631668686, 'issue_id': 2828149218, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196307.png)](https://mergebot.odoo.com/odoo/odoo/pull/196307)', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631668712, 'issue_id': 2828149218, 'author': 'fw-bot', 'body': '@parp-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#195377 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_category.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_category.py\nAuto-merging addons/point_of_sale/models/pos_session.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py\nAuto-merging addons/point_of_sale/static/tests/pos/tours/product_screen_tour.js\nAuto-merging addons/point_of_sale/tests/test_frontend.py\nAuto-merging addons/pos_self_order/models/pos_config.py\nCONFLICT (content): Merge conflict in addons/pos_self_order/models/pos_config.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632997476, 'issue_id': 2828149218, 'author': 'parp-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 6, 31, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:47:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196307.png)](https://mergebot.odoo.com/odoo/odoo/pull/196307)

fw-bot (Issue Creator) on (2025-02-03 17:47:01 UTC): @parp-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#195377 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_category.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_category.py
Auto-merging addons/point_of_sale/models/pos_session.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py
Auto-merging addons/point_of_sale/static/tests/pos/tours/product_screen_tour.js
Auto-merging addons/point_of_sale/tests/test_frontend.py
Auto-merging addons/pos_self_order/models/pos_config.py
CONFLICT (content): Merge conflict in addons/pos_self_order/models/pos_config.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

parp-odoo on (2025-02-04 06:31:21 UTC): robodoo r+

"
2828148620,pull_request,closed,,[FW][FIX] html_editor: traceback when removing styles from links,"**Current behavior before PR:**

- Clicking the Remove Format button to remove the style from an anchor tag
  caused a traceback error.

**Desired behavior after PR is merged:**

- Clicking the Remove Format button now successfully removes any applied styles
  from the selected text.

task: 4427649

Forward-Port-Of: odoo/odoo#191739",fw-bot,2025-02-03 17:46:36+00:00,[],2025-02-04 09:46:34+00:00,2025-02-04 09:46:34+00:00,https://github.com/odoo/odoo/pull/196306,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631668633, 'issue_id': 2828148620, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196306.png)](https://mergebot.odoo.com/odoo/odoo/pull/196306)', 'created_at': datetime.datetime(2025, 2, 3, 17, 46, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631668659, 'issue_id': 2828148620, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631767082, 'issue_id': 2828148620, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 18, 34, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:46:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196306.png)](https://mergebot.odoo.com/odoo/odoo/pull/196306)

fw-bot (Issue Creator) on (2025-02-03 17:47:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 18:34:53 UTC): @dhba-odoo @dmo-odoo ci/runbot failed on this forward-port PR

"
2828144904,pull_request,closed,,[FW][FIX] web_editor: add small font sizes to the font size dropdown,"### Description of the issue/feature this PR addresses:

- Small font sizes (""8"", ""10"", ""12"") were unavailable in the font size dropdown. These options were only required in the backend and not where custom input for font sizes is provided.

### Desired behavior after PR is merged:

- The font size options ""8"", ""10"", and ""12"" are now included in the dropdown. The `d-none` class is conditionally applied to these options based on the value of `showResponsiveFontSizesBadges`.

task-3829323

Forward-Port-Of: odoo/odoo#194365",fw-bot,2025-02-03 17:44:36+00:00,[],2025-02-04 13:18:37+00:00,2025-02-04 13:18:37+00:00,https://github.com/odoo/odoo/pull/196305,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631663791, 'issue_id': 2828144904, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196305.png)](https://mergebot.odoo.com/odoo/odoo/pull/196305)', 'created_at': datetime.datetime(2025, 2, 3, 17, 44, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631663823, 'issue_id': 2828144904, 'author': 'fw-bot', 'body': '@adch-odoo @dmo-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#196289\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631724320, 'issue_id': 2828144904, 'author': 'fw-bot', 'body': '@adch-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 18, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633311448, 'issue_id': 2828144904, 'author': 'adch-odoo', 'body': '@dmo-odoo runbot is now green.', 'created_at': datetime.datetime(2025, 2, 4, 9, 17, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633338533, 'issue_id': 2828144904, 'author': 'dmo-odoo', 'body': '@adch-odoo Thanks!\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 29, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:44:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196305.png)](https://mergebot.odoo.com/odoo/odoo/pull/196305)

fw-bot (Issue Creator) on (2025-02-03 17:44:38 UTC): @adch-odoo @dmo-odoo this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#196289

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 18:13:38 UTC): @adch-odoo @dmo-odoo ci/runbot failed on this forward-port PR

adch-odoo on (2025-02-04 09:17:36 UTC): @dmo-odoo runbot is now green.

dmo-odoo on (2025-02-04 09:29:18 UTC): @adch-odoo Thanks!
@robodoo r+

"
2828139278,pull_request,closed,,[FW][FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357

Forward-Port-Of: odoo/odoo#195777",fw-bot,2025-02-03 17:41:36+00:00,[],2025-02-04 08:36:28+00:00,2025-02-04 08:36:28+00:00,https://github.com/odoo/odoo/pull/196304,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631657327, 'issue_id': 2828139278, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196304.png)](https://mergebot.odoo.com/odoo/odoo/pull/196304)', 'created_at': datetime.datetime(2025, 2, 3, 17, 41, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631657348, 'issue_id': 2828139278, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 41, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:41:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196304.png)](https://mergebot.odoo.com/odoo/odoo/pull/196304)

fw-bot (Issue Creator) on (2025-02-03 17:41:38 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828135219,pull_request,closed,,[FW][FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040

Forward-Port-Of: odoo/odoo#194541",fw-bot,2025-02-03 17:39:27+00:00,[],2025-02-04 11:50:24+00:00,2025-02-04 11:50:24+00:00,https://github.com/odoo/odoo/pull/196303,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631652973, 'issue_id': 2828135219, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196303.png)](https://mergebot.odoo.com/odoo/odoo/pull/196303)', 'created_at': datetime.datetime(2025, 2, 3, 17, 39, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631652985, 'issue_id': 2828135219, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 39, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:39:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196303.png)](https://mergebot.odoo.com/odoo/odoo/pull/196303)

fw-bot (Issue Creator) on (2025-02-03 17:39:29 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828132041,pull_request,closed,,[FW][FIX] web_editor: apply `font-size` on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195569",fw-bot,2025-02-03 17:37:51+00:00,[],2025-02-04 08:05:59+00:00,2025-02-04 08:05:59+00:00,https://github.com/odoo/odoo/pull/196302,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631649585, 'issue_id': 2828132041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196302.png)](https://mergebot.odoo.com/odoo/odoo/pull/196302)', 'created_at': datetime.datetime(2025, 2, 3, 17, 37, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631649603, 'issue_id': 2828132041, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 37, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:37:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196302.png)](https://mergebot.odoo.com/odoo/odoo/pull/196302)

fw-bot (Issue Creator) on (2025-02-03 17:37:53 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828126755,pull_request,open,,[FIX] crm_livechat: properly handle multi-company when creating lead,"If the current user and the selected sales team have different company, an error is raised when attempting to create the lead.

- If both partner and sales team have company, they must match or the team can't be assigned (it is more important to create the lead, which must be with the company of the partner, implying with no team which is fine as auto-assignation will take care of it).
- If one or the other has company, the lead must have this company.
- When both have no company, the lead can have no company.",seb-odoo,2025-02-03 17:35:04+00:00,['seb-odoo'],2025-02-07 11:44:11+00:00,,https://github.com/odoo/odoo/pull/196301,"[('RD', 'research & development, internal work'), ('Discuss', 'channels, livechat, chatter')]","[{'comment_id': 2631643562, 'issue_id': 2828126755, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196301.png)](https://mergebot.odoo.com/odoo/odoo/pull/196301)', 'created_at': datetime.datetime(2025, 2, 3, 17, 35, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636068732, 'issue_id': 2828126755, 'author': 'tde-banana-odoo', 'body': 'Globally, everything should be removed / simplified to use most of standard model compute methods. Lead model should handle it cleanly, if not, please give me real use cases. We tailored various compute fields to avoid issues like that, so you should not have to write so much layers of self rewriting code.\r\n\r\nCheers,', 'created_at': datetime.datetime(2025, 2, 5, 8, 34, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642703575, 'issue_id': 2828126755, 'author': 'tde-banana-odoo', 'body': ""@seb-odoo Too much comments :sweat_smile:  concerning having a partner with a company and a team with another company: indeed you are in troubles, that is notably why we try to remove as much company-based partners flows as possible (aka: don't create partners with company by default, ...). But here you have no choice as it is basically impossible, so yes I suppose the partner wins over the team."", 'created_at': datetime.datetime(2025, 2, 7, 11, 44, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:35:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196301.png)](https://mergebot.odoo.com/odoo/odoo/pull/196301)

tde-banana-odoo on (2025-02-05 08:34:50 UTC): Globally, everything should be removed / simplified to use most of standard model compute methods. Lead model should handle it cleanly, if not, please give me real use cases. We tailored various compute fields to avoid issues like that, so you should not have to write so much layers of self rewriting code.

Cheers,

tde-banana-odoo on (2025-02-07 11:44:10 UTC): @seb-odoo Too much comments :sweat_smile:  concerning having a partner with a company and a team with another company: indeed you are in troubles, that is notably why we try to remove as much company-based partners flows as possible (aka: don't create partners with company by default, ...). But here you have no choice as it is basically impossible, so yes I suppose the partner wins over the team.

"
2828125674,pull_request,closed,,[FW][FIX] account: improve help attribute on credit limit,"Having a credit limit set to 0 means 'no limit', user
has to set it to 0.01 to have a minimum limit.
This can be confusing for the user, so add a little
help message to the fields in both partner and settings views.

A better solution should be to use the `ResPartner.use_partner_credit_limit`
field to be able to set 0$ limit to specifics partner, but this can't
be done in stable (computed, non stored field).

opw-4479163

Forward-Port-Of: odoo/odoo#194886",fw-bot,2025-02-03 17:34:31+00:00,[],2025-02-04 13:24:50+00:00,2025-02-04 13:24:50+00:00,https://github.com/odoo/odoo/pull/196300,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631642371, 'issue_id': 2828125674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196300.png)](https://mergebot.odoo.com/odoo/odoo/pull/196300)', 'created_at': datetime.datetime(2025, 2, 3, 17, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631642393, 'issue_id': 2828125674, 'author': 'fw-bot', 'body': '@guva-odoo @h4818 cherrypicking of pull request odoo/odoo#194886 failed.\n\nstdout:\n```\nAuto-merging addons/account/i18n/account.pot\nAuto-merging addons/account/models/partner.py\nAuto-merging addons/account/views/res_config_settings_views.xml\nCONFLICT (content): Merge conflict in addons/account/views/res_config_settings_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633193436, 'issue_id': 2828125674, 'author': 'guva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 8, 23, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:34:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196300.png)](https://mergebot.odoo.com/odoo/odoo/pull/196300)

fw-bot (Issue Creator) on (2025-02-03 17:34:33 UTC): @guva-odoo @h4818 cherrypicking of pull request odoo/odoo#194886 failed.

stdout:
```
Auto-merging addons/account/i18n/account.pot
Auto-merging addons/account/models/partner.py
Auto-merging addons/account/views/res_config_settings_views.xml
CONFLICT (content): Merge conflict in addons/account/views/res_config_settings_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

guva-odoo on (2025-02-04 08:23:21 UTC): @robodoo r+

"
2828118678,pull_request,closed,,[FW][FIX] website: fix drag inner snippet in snippets_all_drag_and_drop test,"Since commit [1], the test ""snippets_all_drag_and_drop"" is failing randomly on the runbot. This is due to the fact that it is now possible to drop an ""inner snippet"" next to the ""phone number"" in the ""header"". Since the ""phone number"" is in the middle of the ""header"" (horizontally), its drop zone overlaps with the one of the ""#wrap"" during the test. As a result, ""inner snippet"" is being dropped in the ""header"" instead of the ""#wrap"". This happens because the ""drag_and_drop"" function in the test by default drops at the middle and top of the drop zones.

To avoid this kind of situation, in this commit, we add a step at the beginning of the test to hide the header.

[1]: https://github.com/odoo/odoo/commit/e0c16bb9a90dfb378b75e0de059e71f0aebd84fb

opw-4494945

Forward-Port-Of: odoo/odoo#196173
Forward-Port-Of: odoo/odoo#195554",fw-bot,2025-02-03 17:31:03+00:00,[],2025-02-04 13:26:24+00:00,2025-02-04 13:26:24+00:00,https://github.com/odoo/odoo/pull/196299,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631634757, 'issue_id': 2828118678, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196299.png)](https://mergebot.odoo.com/odoo/odoo/pull/196299)', 'created_at': datetime.datetime(2025, 2, 3, 17, 31, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631634779, 'issue_id': 2828118678, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196277\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 31, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633293047, 'issue_id': 2828118678, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 9, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:31:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196299.png)](https://mergebot.odoo.com/odoo/odoo/pull/196299)

fw-bot (Issue Creator) on (2025-02-03 17:31:05 UTC): @bvr-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196277

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-04 09:09:31 UTC): @robodoo r+

"
2828117586,pull_request,closed,,[FW][FIX] html_editor: preserve p tag inside li when changing tag,"Description of the issue this PR addresses:

Current behavior before PR:

When converting paragraph related elements (other than the `<p>` tag itself) to a `<p>` tag, the tag would be unwrapped.

Desired behavior after PR is merged:

The tag is now converted directly to a `<p>` tag without unwrapping it.

task-4488784

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194146",fw-bot,2025-02-03 17:30:30+00:00,[],2025-02-04 10:32:06+00:00,2025-02-04 10:32:06+00:00,https://github.com/odoo/odoo/pull/196298,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2631633520, 'issue_id': 2828117586, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196298.png)](https://mergebot.odoo.com/odoo/odoo/pull/196298)', 'created_at': datetime.datetime(2025, 2, 3, 17, 30, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631633539, 'issue_id': 2828117586, 'author': 'fw-bot', 'body': '@deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196275\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 30, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632865943, 'issue_id': 2828117586, 'author': 'deso-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 4, 45, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:30:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196298.png)](https://mergebot.odoo.com/odoo/odoo/pull/196298)

fw-bot (Issue Creator) on (2025-02-03 17:30:32 UTC): @deso-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196275

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

deso-odoo on (2025-02-04 04:45:09 UTC): @robodoo r+

"
2828104673,pull_request,open,,[FW][IMP] l10n_es_edi_tbai: Batuz modelo 140,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192240",fw-bot,2025-02-03 17:23:59+00:00,[],2025-02-03 18:00:32+00:00,,https://github.com/odoo/odoo/pull/196297,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631619213, 'issue_id': 2828104673, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196297.png)](https://mergebot.odoo.com/odoo/odoo/pull/196297)', 'created_at': datetime.datetime(2025, 2, 3, 17, 24, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631619234, 'issue_id': 2828104673, 'author': 'fw-bot', 'body': '@jco-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196278\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 17, 24, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:24:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196297.png)](https://mergebot.odoo.com/odoo/odoo/pull/196297)

fw-bot (Issue Creator) on (2025-02-03 17:24:01 UTC): @jco-odoo @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196278

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828097482,pull_request,open,,"[IMP] sale, stock: Suggest new Envia delivery provider in settings","
Linked to https://github.com/odoo/enterprise/pull/67131 which was FW to master without the settings.
",andg-odoo,2025-02-03 17:20:24+00:00,[],2025-02-06 15:12:54+00:00,,https://github.com/odoo/odoo/pull/196296,"[('RD', 'research & development, internal work')]","[{'comment_id': 2631611556, 'issue_id': 2828097482, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196296.png)](https://mergebot.odoo.com/odoo/odoo/pull/196296)', 'created_at': datetime.datetime(2025, 2, 3, 17, 20, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:20:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196296.png)](https://mergebot.odoo.com/odoo/odoo/pull/196296)

"
2828061034,pull_request,open,,[FIX] account: limit the number of outstanding credits displayed,"Currently, there is no mechanism to limit the number of outstanding credits displayed on an invoice. This can cause the page to crash if there are too many outstanding credits.

**Steps to reproduce:**
1. Create an invoice
2. Create a large number of payments for the customer linked to the invoice
3. Try to load the invoice

This fix aims to limit the number of outstanding credits displayed. A “Load more” button is available to load more payments (40 by 40).

**Benchmark:**

| Number of outstanding credits | Server response duration | Display duration (without the fix) - LCP | Display duration (with the fix) - LCP |
 | ------------------------------- | ------------------------ | ---------------------------------------- | ------------------------------------- |
| 1,000                           | 0,5s                     | 1,67s                                    | 1,7s                                  |
| 60 000                          | 0,8s                     | +-30s                                    | 2,8s                                  |
| 120 000                         | 1,23s                    | crash                                    | 3,91s                                 |
| 300,000                         | 3,29s                    | Crash                                    | 8,36s                                 |

opw-4522683
",LouisGobert,2025-02-03 17:02:47+00:00,[],2025-02-03 18:00:34+00:00,,https://github.com/odoo/odoo/pull/196295,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631570545, 'issue_id': 2828061034, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196295.png)](https://mergebot.odoo.com/odoo/odoo/pull/196295)', 'created_at': datetime.datetime(2025, 2, 3, 17, 2, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 17:02:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196295.png)](https://mergebot.odoo.com/odoo/odoo/pull/196295)

"
2828039896,pull_request,closed,,[FW][FIX] web_editor: call _applyColspan with a valid element,"**Problem**:
The function `_getColumnSize` returns the size of the columns. When `gridIndex = columnSize;` is assigned and `columnSize` equals 12, it causes an overflow in the `grid` array. This leads to invalid elements being passed to `_applyColspan`.

**Solution**:
Ensure `_applyColspan` is only called when `gridIndex` is within valid bounds.

**Steps to reproduce**:
1. Open an email marketing template.
2. Extend the ""Centered Logo"" snippet to the maximum size (`col-12`).
3. Observe a traceback error.

opw-4381159

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193255",fw-bot,2025-02-03 16:53:15+00:00,[],2025-02-04 08:25:28+00:00,2025-02-04 08:25:28+00:00,https://github.com/odoo/odoo/pull/196294,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631547308, 'issue_id': 2828039896, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196294.png)](https://mergebot.odoo.com/odoo/odoo/pull/196294)', 'created_at': datetime.datetime(2025, 2, 3, 16, 53, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631547324, 'issue_id': 2828039896, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 53, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:53:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196294.png)](https://mergebot.odoo.com/odoo/odoo/pull/196294)

fw-bot (Issue Creator) on (2025-02-03 16:53:17 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828011034,pull_request,open,,[FIX] payment_worldline: show error codes in chatter,"Versions
--------
- 18.0+

Steps
-----
1. Go to eCommerce;
2. add items to cart;
3. go to checkout;
4. pay with Worldline;
5. on Worldline's site, cancel transaction;
6. open order in the backend.

Issue
-----
Chatter displays:
> Error: Worldline: Received invalid transaction status CANCELLED

Cause
-----
The cancel & declined statuses aren't handled when processing Worldline's response, leading to them being displayed as invalid.

Solution
--------
Handle the `cancel` and `declined` statuses and display the given error code.

Also, when canceled, call `_set_canceled` instead of `_set_error`.

opw-4481602",lvsz,2025-02-03 16:39:45+00:00,[],2025-02-08 07:33:27+00:00,,https://github.com/odoo/odoo/pull/196293,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631514855, 'issue_id': 2828011034, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196293.png)](https://mergebot.odoo.com/odoo/odoo/pull/196293)', 'created_at': datetime.datetime(2025, 2, 3, 16, 39, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639810601, 'issue_id': 2828011034, 'author': 'lvsz', 'body': '> LGTM, can I also ask you to add a test for this?\r\n\r\nAye, done. Turns adding an extra assert on `tx.state_message` in an existing test was an even easier option :smiley:', 'created_at': datetime.datetime(2025, 2, 6, 13, 19, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643484091, 'issue_id': 2828011034, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 16, 58, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644564349, 'issue_id': 2828011034, 'author': 'robodoo', 'body': '@lvsz staging failed: ci/runbot on 768a4868a4ca1d456f73fe576dddd2732c07135a (view more at https://runbot.odoo.com/runbot/build/74720974)', 'created_at': datetime.datetime(2025, 2, 8, 7, 33, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:39:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196293.png)](https://mergebot.odoo.com/odoo/odoo/pull/196293)

lvsz (Issue Creator) on (2025-02-06 13:19:45 UTC): Aye, done. Turns adding an extra assert on `tx.state_message` in an existing test was an even easier option :smiley:

lvsz (Issue Creator) on (2025-02-07 16:58:55 UTC): robodoo r+

robodoo on (2025-02-08 07:33:26 UTC): @lvsz staging failed: ci/runbot on 768a4868a4ca1d456f73fe576dddd2732c07135a (view more at https://runbot.odoo.com/runbot/build/74720974)

"
2828010477,pull_request,closed,,[FW][FIX] point_of_sale: not use SEPA CT on outgoing pos payments,"Currently, when closing the session, you would encounter an issue if the a refund payment was done using bank payment method and on the journal, the SEPA Credit Transfer is positionned first in the sequence.

Steps to reproduce:
-------------------
* Install `l10n_fr`, `point_of_sale`, and `account_sepa`
* Switch to the `FR Company`
* In the **Invoicing** app, select **Configuration** > **Journals**
* Select the `Bank` journal
* Set proper IBAN account
* In **Outgoing Payments**, move `SEPA Credit Transfer` to the top
* In **Point of sale**, open pos shop
* Select any product, change the price or qty to be negative (or make a refund for an order with no customer)
* Select `Bank` payment method
* Validate
* Try closing session
> Observation: Closing session error: An error has occurred when trying to
close the sesion. You will be redirected to the back-end to manually close the session.
* In the backend, try to close the session
> Observation: To record payments with False, the recipient bank account
must be manually validated. You should go on the partner bank account in order to validate it.

Why the fix:
------------
The first payment_method_line will be used among the available payment method lines:
https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L461-L465 https://github.com/odoo/odoo/blob/ae4c01ea7c9a5709a5f5ebcaded06fd91bdabae3/addons/account/models/account_payment.py#L470-L475

In the context of the point of sale, using SEPA CT in the context of refunds does not make too much sense. Indeed, in the pos a refund can be done on an order which is not related to a client. By definition, when using SEPA your are supposed to know the client and it bank account number.

We exclude the possibility of using SEPA CT when creating refund account payments coming from the Pos.

opw-4310781

Forward-Port-Of: odoo/odoo#195784",fw-bot,2025-02-03 16:39:30+00:00,[],2025-02-05 09:16:48+00:00,2025-02-05 09:16:48+00:00,https://github.com/odoo/odoo/pull/196292,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631514149, 'issue_id': 2828010477, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196292.png)](https://mergebot.odoo.com/odoo/odoo/pull/196292)', 'created_at': datetime.datetime(2025, 2, 3, 16, 39, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631514183, 'issue_id': 2828010477, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 39, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631582023, 'issue_id': 2828010477, 'author': 'fw-bot', 'body': '@sbel-odoo @vlst-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 17, 7, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633840116, 'issue_id': 2828010477, 'author': 'fw-bot', 'body': '@sbel-odoo @vlst-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 4, 13, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636002319, 'issue_id': 2828010477, 'author': 'sbel-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 7, 59, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:39:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196292.png)](https://mergebot.odoo.com/odoo/odoo/pull/196292)

fw-bot (Issue Creator) on (2025-02-03 16:39:32 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 17:07:27 UTC): @sbel-odoo @vlst-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-04 13:01:20 UTC): @sbel-odoo @vlst-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

sbel-odoo on (2025-02-05 07:59:39 UTC): @robodoo r+

"
2828009749,pull_request,closed,,[FW][FIX] mrp: correct color logic for consumed quantities' display,"**Steps to reproduce:**
- Create a storable product `P1` with the following BoM:
    - Qty: 1 unit
    - Components:
        - C1, C2, C3: 3 units
- Create a MO to produce one unit of `P1`;
  - Confirm the order;
  - Update the product's `Quantity` to 1 at least;
    *The quantities of `To Consume` and `Quantity` columns in the `Components` tab of the notebook are automatically set to 3.*
- Update the field `Quantity` of components to:
    - **C1**: 1 unit
    - **C2**: 3 units
    - **C3**: 4 units

___
**Issue:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less than the <ins>total needed</ins> value &rarr; highlights in green;
- **C2**: equal to the value &rarr; highlights in black;
- **C3**: higher than the value &rarr; highlights in orange.

![Capture d’écran 2024-12-30 à 17 49 56](https://github.com/user-attachments/assets/e4fe7488-de04-4749-9930-85f11f71532a)

___
**Expected:**
On a Manufacturing Order, if a component's quantity is:
- **C1**: less -> black;
- **C2**: equal -> green;
- **C3**: higher -> orange.

___
**Cause:**
Text decorations are based on a wrong logic by getting the quantities from wrong field. This field has been changed during an apocalypse.
https://github.com/odoo/odoo/blob/c43297435cfcaf560d5c952ac3c4a383a6f1dc28/addons/mrp/views/mrp_production_views.xml#L405-L406

___
**Fix:**
Reset good field to check quantities, inspired by Odoo 16 using the computed `should_consume_qty` value to check the consumption status:
https://github.com/odoo/odoo/blob/67c78b38e794333eae55758ad4610515df5c49d2/addons/mrp/views/mrp_production_views.xml#L342-L343

![Capture d’écran 2024-12-30 à 17 49 26](https://github.com/user-attachments/assets/f30bd7fc-0140-4c16-abaf-540f4c1bc12d)

___
**Forward:**
To forward up to master.
Odoo 17 :
```
<field name=""quantity"" string=""Quantity""
    decoration-success=""product_uom_qty - quantity &gt; -0.0001 and product_uom_qty - quantity &lt; 0.0001""
    decoration-warning=""quantity - product_uom_qty &gt; 0.0001""

```

___
opw-4393156
opw-4391582
opw-4391600

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190162",fw-bot,2025-02-03 16:39:11+00:00,[],2025-02-04 11:50:29+00:00,2025-02-04 11:50:29+00:00,https://github.com/odoo/odoo/pull/196291,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631513376, 'issue_id': 2828009749, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196291.png)](https://mergebot.odoo.com/odoo/odoo/pull/196291)', 'created_at': datetime.datetime(2025, 2, 3, 16, 39, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631513406, 'issue_id': 2828009749, 'author': 'fw-bot', 'body': '@barracudapps @clesgow cherrypicking of pull request odoo/odoo#190162 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/views/mrp_production_views.xml\nCONFLICT (content): Merge conflict in addons/mrp/views/mrp_production_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 39, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633440793, 'issue_id': 2828009749, 'author': 'barracudapps', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 10, 10, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:39:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196291.png)](https://mergebot.odoo.com/odoo/odoo/pull/196291)

fw-bot (Issue Creator) on (2025-02-03 16:39:13 UTC): @barracudapps @clesgow cherrypicking of pull request odoo/odoo#190162 failed.

stdout:
```
Auto-merging addons/mrp/views/mrp_production_views.xml
CONFLICT (content): Merge conflict in addons/mrp/views/mrp_production_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

barracudapps on (2025-02-04 10:10:48 UTC): @robodoo r+

"
2828009078,pull_request,closed,,[FW][FIX] mass_mailing: make unsubcription page work in website,"A recent change modified the unsubscription flow to make it more resilient to automated security agents. Unfortunately, the implementation of this change breaks if the Website module is installed, and the flow becomes unusable.

This commit makes it so that the unsubscription flow works once more, without compromising on resilience to security agents.

task-4364446

Forward-Port-Of: odoo/odoo#196187
Forward-Port-Of: odoo/odoo#196154",fw-bot,2025-02-03 16:38:52+00:00,[],2025-02-04 10:30:37+00:00,2025-02-04 10:30:37+00:00,https://github.com/odoo/odoo/pull/196290,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631512573, 'issue_id': 2828009078, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196290.png)](https://mergebot.odoo.com/odoo/odoo/pull/196290)', 'created_at': datetime.datetime(2025, 2, 3, 16, 38, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631512601, 'issue_id': 2828009078, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 38, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631607640, 'issue_id': 2828009078, 'author': 'fw-bot', 'body': '@creaturemusings @std-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 17, 18, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:38:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196290.png)](https://mergebot.odoo.com/odoo/odoo/pull/196290)

fw-bot (Issue Creator) on (2025-02-03 16:38:54 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 17:18:38 UTC): @creaturemusings @std-odoo ci/runbot failed on this forward-port PR

"
2828008387,pull_request,closed,,[FW][FIX] web_editor: add small font sizes to the font size dropdown,"### Description of the issue/feature this PR addresses:

- Small font sizes (""8"", ""10"", ""12"") were unavailable in the font size dropdown. These options were only required in the backend and not where custom input for font sizes is provided.

### Desired behavior after PR is merged:

- The font size options ""8"", ""10"", and ""12"" are now included in the dropdown. The `d-none` class is conditionally applied to these options based on the value of `showResponsiveFontSizesBadges`.

task-3829323

Forward-Port-Of: odoo/odoo#194365",fw-bot,2025-02-03 16:38:34+00:00,[],2025-02-04 11:50:16+00:00,2025-02-04 11:50:16+00:00,https://github.com/odoo/odoo/pull/196289,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631512130, 'issue_id': 2828008387, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196289.png)](https://mergebot.odoo.com/odoo/odoo/pull/196289)', 'created_at': datetime.datetime(2025, 2, 3, 16, 38, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631512150, 'issue_id': 2828008387, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 38, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:38:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196289.png)](https://mergebot.odoo.com/odoo/odoo/pull/196289)

fw-bot (Issue Creator) on (2025-02-03 16:38:43 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2828005756,pull_request,closed,,[FW][FIX] web_editor: prevent tab duplication on enter,"Steps to Reproduce:
1. Enter Edit mode.
2. Drag and drop the Tabs snippet into the editor.
3. Click at the end of the text within a tab or select the entire text
and press Enter.
4. Observe that the tab splits, creating a new tab.

Issue:
When pressing the Enter key within a tab element, the tab fails the
`isUnbreakable()` check during the Keydown event, causing it to split
and create a new tab. This behavior is unintended and disrupts the user
experience.

Solution:
The `isUnbreakable()` function has been updated to ensure that nav
items (tabs) are treated as non-splittable elements. This prevents the
tab from being split when the Enter key is pressed.
Additionally, a test case has been added to cover the scenarios outlined in [commit]( https://github.com/odoo/odoo/commit/439e491608bab07f3f001d38b7774040a4b18980) as well to ensure the fix is effective.

task-4316648

Forward-Port-Of: odoo/odoo#196159
Forward-Port-Of: odoo/odoo#193239",fw-bot,2025-02-03 16:37:18+00:00,[],2025-02-07 09:28:42+00:00,2025-02-05 09:48:22+00:00,https://github.com/odoo/odoo/pull/196288,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631508715, 'issue_id': 2828005756, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196288.png)](https://mergebot.odoo.com/odoo/odoo/pull/196288)', 'created_at': datetime.datetime(2025, 2, 3, 16, 37, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631508729, 'issue_id': 2828005756, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 37, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642404741, 'issue_id': 2828005756, 'author': 'fw-bot', 'body': ""@shsa-odoo @bvr-odoo ancestor PR odoo/odoo#196258 has been updated but this PR is merged and can't be updated to match.\n\nYou may want or need to manually update any followup PR."", 'created_at': datetime.datetime(2025, 2, 7, 9, 28, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:37:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196288.png)](https://mergebot.odoo.com/odoo/odoo/pull/196288)

fw-bot (Issue Creator) on (2025-02-03 16:37:20 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 09:28:41 UTC): @shsa-odoo @bvr-odoo ancestor PR odoo/odoo#196258 has been updated but this PR is merged and can't be updated to match.

You may want or need to manually update any followup PR.

"
2828002091,pull_request,closed,,[FW][IMP] hr_recruitment: change some demo emails,"Change questionable emails for 2 users.

Make new demo CV for them as well because we only had the
binary pdfs.
Raw latex can be found at (google drive):
* https://drive.google.com/file/d/1AyRguPcTRrt_7ySXAYE3L9TP4mHnwMNs/view?usp=drive_link
* https://drive.google.com/file/d/1e-2JlO3hEbaf6haFTF5TdCy6kx73xOgX/view?usp=drive_link

task-4507003

Forward-Port-Of: odoo/odoo#194804",fw-bot,2025-02-03 16:35:40+00:00,[],2025-02-04 13:18:42+00:00,2025-02-04 13:18:42+00:00,https://github.com/odoo/odoo/pull/196287,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631504729, 'issue_id': 2828002091, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196287.png)](https://mergebot.odoo.com/odoo/odoo/pull/196287)', 'created_at': datetime.datetime(2025, 2, 3, 16, 35, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631504757, 'issue_id': 2828002091, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 35, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631606567, 'issue_id': 2828002091, 'author': 'fw-bot', 'body': '@naja628 @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 3, 17, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633327846, 'issue_id': 2828002091, 'author': 'fw-bot', 'body': '@naja628 @tivisse the next pull request (odoo/odoo#196375) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 4, 9, 24, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633387080, 'issue_id': 2828002091, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 9, 48, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:35:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196287.png)](https://mergebot.odoo.com/odoo/odoo/pull/196287)

fw-bot (Issue Creator) on (2025-02-03 16:35:42 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-03 17:18:09 UTC): @naja628 @tivisse ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-04 09:24:43 UTC): @naja628 @tivisse the next pull request (odoo/odoo#196375) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-04 09:48:15 UTC): @robodoo r+

"
2827994585,pull_request,closed,,[FW] 16.0 fix cannot drop search block in dutch bvr,"Since the class `s_searchbar_input` was translated into Dutch by a
translator on Transifex.
<sub>See screenshot of the Website `nl.po` file </sub>↓
<kbd>![image](https://github.com/user-attachments/assets/053f084b-30cf-42d3-9c13-7387b777b88f)</kbd>

It is no longer possible to drop the searchbar
block onto a webpage when Odoo's language is set to Dutch.

In this PR, we add `t-translation=""off""` in the xpath that adds
this class to the list of droppable element selectors, so it won't be
translated anymore. We also do the same for other xpath-ed classes that
don’t have `t-translation=""off""`, to prevent the same issue elsewhere.

Since the class is already translated in the existing databases, in
stable versions, we add the class a second time to the list of droppable
element selectors. This second class won't be translated, which will fix
the issue for Dutch users.

[opw-4461785](https://www.odoo.com/web#id=4461785&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

-----------
Note: This PR also fix 2 minor bugs:
- The text on the button to install a block overflows when translated into certain languages that make it longer.
<kbd>![image](https://github.com/user-attachments/assets/0532c186-c081-4e95-a853-1873e50005ff)</kbd>
- The `Embed code` block ""Click on Edit..."" message is not visible on dark background.
<kbd>![image](https://github.com/user-attachments/assets/16510ffb-7a2e-4eaa-b5f7-40f0e9d9a943)</kbd>

Forward-Port-Of: odoo/odoo#196065
Forward-Port-Of: odoo/odoo#193819",fw-bot,2025-02-03 16:32:14+00:00,[],2025-02-04 21:11:43+00:00,2025-02-04 21:11:43+00:00,https://github.com/odoo/odoo/pull/196286,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631496311, 'issue_id': 2827994585, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196286.png)](https://mergebot.odoo.com/odoo/odoo/pull/196286)', 'created_at': datetime.datetime(2025, 2, 3, 16, 32, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631496329, 'issue_id': 2827994585, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.\n\n* ee5fee974a9e980d9bc4a9cafe5f89dc31c7f1b8\n* 151c46c7a049027a66477b80f31fa881ff0e0f22\n* 77db0c4b3d456e8cbee5f866f004a007202ebcfe <- on this commit\n\nstdout:\n```\nAuto-merging addons/website/i18n/nl.po\nCONFLICT (content): Merge conflict in addons/website/i18n/nl.po\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\nAuto-merging addons/website/static/src/js/editor/snippets.editor.js\nCONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js\nAuto-merging addons/website/views/snippets/s_searchbar.xml\nAuto-merging addons/website/views/snippets/s_website_form.xml\nAuto-merging addons/website_mass_mailing/views/snippets_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 32, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633582176, 'issue_id': 2827994585, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 4, 11, 7, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:32:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196286.png)](https://mergebot.odoo.com/odoo/odoo/pull/196286)

fw-bot (Issue Creator) on (2025-02-03 16:32:16 UTC): @bvr-odoo @qsm-odoo cherrypicking of pull request odoo/odoo#193819 failed.

* ee5fee974a9e980d9bc4a9cafe5f89dc31c7f1b8
* 151c46c7a049027a66477b80f31fa881ff0e0f22
* 77db0c4b3d456e8cbee5f866f004a007202ebcfe <- on this commit

stdout:
```
Auto-merging addons/website/i18n/nl.po
CONFLICT (content): Merge conflict in addons/website/i18n/nl.po
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot
Auto-merging addons/website/static/src/js/editor/snippets.editor.js
CONFLICT (content): Merge conflict in addons/website/static/src/js/editor/snippets.editor.js
Auto-merging addons/website/views/snippets/s_searchbar.xml
Auto-merging addons/website/views/snippets/s_website_form.xml
Auto-merging addons/website_mass_mailing/views/snippets_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-04 11:07:38 UTC): @robodoo r+

"
2827990845,pull_request,closed,,[FW][FIX] gamification: fix motivational description field,"For the same reason as [1], this commit adds the parameter ""sanitize_overridable=True"" to the ""description_motivational"" field of ""gamification"" model. This ensures that users with sufficient rights can properly edit the motivational description.

This issue is difficult to reproduce in 16.0, as no blocks contain `<button>` elements. However, in 18.0, some snippets—such as `accordion` or the new `image gallery`—include button elements, making the issue more apparent.

Steps to reproduce (in 18.0):

- Open website module
- Go to /slides
- Add a carousel snippet to the side panel > Save
- Traceback

[1]: https://github.com/odoo/odoo/commit/0cd42f8b55e2ab8f214653556b5bde4b54281972

opw-4272357

Forward-Port-Of: odoo/odoo#195777",fw-bot,2025-02-03 16:30:36+00:00,[],2025-02-04 08:05:55+00:00,2025-02-04 08:05:55+00:00,https://github.com/odoo/odoo/pull/196285,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631492020, 'issue_id': 2827990845, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196285.png)](https://mergebot.odoo.com/odoo/odoo/pull/196285)', 'created_at': datetime.datetime(2025, 2, 3, 16, 30, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631492049, 'issue_id': 2827990845, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 30, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:30:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196285.png)](https://mergebot.odoo.com/odoo/odoo/pull/196285)

fw-bot (Issue Creator) on (2025-02-03 16:30:38 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2827970820,pull_request,open,,[FIX] hr_recruitment_survey: Show recruitment-type surveys in Participations section,"**Issue**
Recruitment-type surveys do not appear in the Participations section, even when participants have completed the survey.

Steps to Reproduce:
1. Install hr_recruitment_survey module 
2. Open the Surveys app.
3. Create a new survey or open an existing one.
4. Set the survey type to Recruitment.
5. Click on the Participations smart button.

Expected behavior: Participants who completed the survey should be listed.
Actual behavior: No participants are shown.

**Root Cause**

https://github.com/odoo/odoo/blob/de935a1b3ad96e24b5fd1bd317c73c12e9b3a08f/addons/survey/models/survey_survey.py#L1090-L1096

Once the smart button is clicked, the action variable is populated through the following record

https://github.com/odoo/odoo/blob/de935a1b3ad96e24b5fd1bd317c73c12e9b3a08f/addons/survey/views/survey_user_views.xml#L153-L168

The record includes a domain filter that restricts the displayed results to specific survey types. Since ""recruitment"" is not listed among the accepted survey types, it fails the check and is excluded from the results.

**Fix**
Overriding the action_survey_user_input action template in XML to extend the domain was impractical because it replaced the existing domain rather than extending it. This prevented seamless integration with other modules, limiting flexibility. Instead, we opted to extend the domain within the action's returned values, ensuring better modularity and maintainability.

opw-4516112



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",csan-odoo,2025-02-03 16:21:44+00:00,[],2025-02-06 10:44:38+00:00,,https://github.com/odoo/odoo/pull/196284,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2631469629, 'issue_id': 2827970820, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196284.png)](https://mergebot.odoo.com/odoo/odoo/pull/196284)', 'created_at': datetime.datetime(2025, 2, 3, 16, 21, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:21:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196284.png)](https://mergebot.odoo.com/odoo/odoo/pull/196284)

"
2827964563,pull_request,closed,,[FW][FIX] crm: expected revenues not properly displayed in mobile view,"**Steps to reproduce**:
- Activate recurring revenues and open the form in mobile
- The expected revenue, duration and probability is not properly displayed, it's gets out of the container.

**After this PR:**
- they will displayed currently, plus we'll not show `at` in mobile view.

Task-4438997

Forward-Port-Of: odoo/odoo#193060",fw-bot,2025-02-03 16:18:58+00:00,[],2025-02-05 06:55:37+00:00,2025-02-05 06:55:37+00:00,https://github.com/odoo/odoo/pull/196283,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2631462825, 'issue_id': 2827964563, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196283.png)](https://mergebot.odoo.com/odoo/odoo/pull/196283)', 'created_at': datetime.datetime(2025, 2, 3, 16, 18, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631462853, 'issue_id': 2827964563, 'author': 'fw-bot', 'body': '@yagp-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#193060 failed.\n\nstdout:\n```\nAuto-merging addons/crm/views/crm_lead_views.xml\nCONFLICT (content): Merge conflict in addons/crm/views/crm_lead_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635750616, 'issue_id': 2827964563, 'author': 'yagp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 5, 5, 40, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:18:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196283.png)](https://mergebot.odoo.com/odoo/odoo/pull/196283)

fw-bot (Issue Creator) on (2025-02-03 16:19:00 UTC): @yagp-odoo @tde-banana-odoo cherrypicking of pull request odoo/odoo#193060 failed.

stdout:
```
Auto-merging addons/crm/views/crm_lead_views.xml
CONFLICT (content): Merge conflict in addons/crm/views/crm_lead_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

yagp-odoo on (2025-02-05 05:40:46 UTC): @robodoo r+

"
2827963759,pull_request,closed,,[FW][FIX] account: ignore canceled statement lines in statement assignment,"Before this commit:
Steps
1) Create 3 statement lines in bank journal
2) Cancel the journal entry of the middle one
3) Try to add the first and third lines to a statement

=> It shows an `Invalid Operation: Unable to create a statement due to missing transactions. You may want to reorder the transactions before proceeding` This happens because the lines are considered non-contiguous due to the canceled middle line.

After this commit:
This operation can be performed as the missing line is canceled, and it shouldn’t be counted for the contiguity check. Also, it should be considered in the statement assignment, similar to how the statement button works in the widget/kanban view.

Recording of reproducing the issue: 
https://drive.google.com/file/d/1I5xwNie1HL9ifuK0z21a6yWDdqI_xbTU/view?usp=sharing 

Discussion with OLMA: https://discord.com/channels/678381219515465750/1099994955830796348/1330856829638545429

opw-4385040

Forward-Port-Of: odoo/odoo#194541",fw-bot,2025-02-03 16:18:39+00:00,[],2025-02-07 17:01:16+00:00,2025-02-07 17:01:16+00:00,https://github.com/odoo/odoo/pull/196282,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2631462046, 'issue_id': 2827963759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196282.png)](https://mergebot.odoo.com/odoo/odoo/pull/196282)', 'created_at': datetime.datetime(2025, 2, 3, 16, 18, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631462065, 'issue_id': 2827963759, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 3, 16, 18, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634881173, 'issue_id': 2827963759, 'author': 'robodoo', 'body': '@aaha-odoo @h4818 staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74482877)', 'created_at': datetime.datetime(2025, 2, 4, 19, 29, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642391825, 'issue_id': 2827963759, 'author': 'aaha-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 23, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642391928, 'issue_id': 2827963759, 'author': 'robodoo', 'body': ""This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate)."", 'created_at': datetime.datetime(2025, 2, 7, 9, 23, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642394005, 'issue_id': 2827963759, 'author': 'aaha-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 7, 9, 24, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-03 16:18:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196282.png)](https://mergebot.odoo.com/odoo/odoo/pull/196282)

fw-bot (Issue Creator) on (2025-02-03 16:18:41 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-04 19:29:30 UTC): @aaha-odoo @h4818 staging failed: ci/runbot (view more at https://runbot.odoo.com/runbot/build/74482877)

aaha-odoo on (2025-02-07 09:23:06 UTC): @robodoo r+

robodoo on (2025-02-07 09:23:09 UTC): This PR is already reviewed, it's in error, you might want to `retry` it instead (if you have already confirmed the error is not legitimate).

aaha-odoo on (2025-02-07 09:24:04 UTC): @robodoo retry

"
