id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2839748054,pull_request,closed,,[FW][FIX] base: prevent error on duplicating multiple records,"This error occurs when attempting to duplicate two actions in ``Server Actions``.

Steps to reproduce:
---
- Search ``Server Actions``
- Select any two Actions and ``Duplicate``

Traceback:
---
``ValueError: Expected singleton: ir.actions.server(606, 701)``

After this commit:
---
We are now able to duplicate multiple records.

sentry-6218495006

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194118",fw-bot,2025-02-08 09:50:06+00:00,[],2025-02-08 13:08:30+00:00,2025-02-08 13:08:30+00:00,https://github.com/odoo/odoo/pull/197088,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2644789891, 'issue_id': 2839748054, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197088.png)](https://mergebot.odoo.com/odoo/odoo/pull/197088)', 'created_at': datetime.datetime(2025, 2, 8, 9, 50, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644789892, 'issue_id': 2839748054, 'author': 'fw-bot', 'body': '@aamo-odoo @rco-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197087\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 9, 50, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644791864, 'issue_id': 2839748054, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 8, 9, 51, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 09:50:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197088.png)](https://mergebot.odoo.com/odoo/odoo/pull/197088)

fw-bot (Issue Creator) on (2025-02-08 09:50:08 UTC): @aamo-odoo @rco-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197087

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-02-08 09:51:40 UTC): @robodoo r+

"
2839719338,pull_request,open,,[FW][FIX] base: prevent error on duplicating multiple records,"This error occurs when attempting to duplicate two actions in ``Server Actions``.

Steps to reproduce:
---
- Search ``Server Actions``
- Select any two Actions and ``Duplicate``

Traceback:
---
``ValueError: Expected singleton: ir.actions.server(606, 701)``

After this commit:
---
We are now able to duplicate multiple records.

sentry-6218495006

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194118",fw-bot,2025-02-08 08:46:13+00:00,[],2025-02-08 13:20:08+00:00,,https://github.com/odoo/odoo/pull/197087,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644727039, 'issue_id': 2839719338, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197087.png)](https://mergebot.odoo.com/odoo/odoo/pull/197087)', 'created_at': datetime.datetime(2025, 2, 8, 8, 46, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644727041, 'issue_id': 2839719338, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 8, 46, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645575213, 'issue_id': 2839719338, 'author': 'robodoo', 'body': '@aamo-odoo @rco-odoo staging failed: ci/runbot on de6a6ee0f51f4f820b16ba43a8c2297cc03cce27 (view more at https://runbot.odoo.com/runbot/build/74723030)', 'created_at': datetime.datetime(2025, 2, 8, 13, 20, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 08:46:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197087.png)](https://mergebot.odoo.com/odoo/odoo/pull/197087)

fw-bot (Issue Creator) on (2025-02-08 08:46:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-08 13:20:06 UTC): @aamo-odoo @rco-odoo staging failed: ci/runbot on de6a6ee0f51f4f820b16ba43a8c2297cc03cce27 (view more at https://runbot.odoo.com/runbot/build/74723030)

"
2839580189,pull_request,open,,[FW][FIX] point_of_sale: lot-serial dialog in small ui,"Before this commit:
==
- Lot-serial dropdown not visible in the small UI.

After this commit:
==
- Displayed the lot-serial dropdown in the small UI.

opw-4551161


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196957",fw-bot,2025-02-08 05:03:50+00:00,[],2025-02-08 07:58:17+00:00,,https://github.com/odoo/odoo/pull/197086,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644507265, 'issue_id': 2839580189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197086.png)](https://mergebot.odoo.com/odoo/odoo/pull/197086)', 'created_at': datetime.datetime(2025, 2, 8, 5, 3, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644507271, 'issue_id': 2839580189, 'author': 'fw-bot', 'body': '@paso-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197085\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 5, 3, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644560817, 'issue_id': 2839580189, 'author': 'paso-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 8, 7, 24, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644670772, 'issue_id': 2839580189, 'author': 'robodoo', 'body': '@paso-odoo @vlst-odoo staging failed: ci/runbot on 9a7a79dd95143444fe69f0e50edba74121635bb9 (view more at https://runbot.odoo.com/runbot/build/74721059)', 'created_at': datetime.datetime(2025, 2, 8, 7, 58, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 05:03:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197086.png)](https://mergebot.odoo.com/odoo/odoo/pull/197086)

fw-bot (Issue Creator) on (2025-02-08 05:03:52 UTC): @paso-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197085

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paso-odoo on (2025-02-08 07:24:08 UTC): robodoo r+

robodoo on (2025-02-08 07:58:16 UTC): @paso-odoo @vlst-odoo staging failed: ci/runbot on 9a7a79dd95143444fe69f0e50edba74121635bb9 (view more at https://runbot.odoo.com/runbot/build/74721059)

"
2839466947,pull_request,closed,,[FW][FIX] point_of_sale: lot-serial dialog in small ui,"Before this commit:
==
- Lot-serial dropdown not visible in the small UI.

After this commit:
==
- Displayed the lot-serial dropdown in the small UI.

opw-4551161


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196957",fw-bot,2025-02-08 03:52:23+00:00,[],2025-02-08 08:31:42+00:00,2025-02-08 08:31:42+00:00,https://github.com/odoo/odoo/pull/197085,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644481384, 'issue_id': 2839466947, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197085.png)](https://mergebot.odoo.com/odoo/odoo/pull/197085)', 'created_at': datetime.datetime(2025, 2, 8, 3, 52, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644481385, 'issue_id': 2839466947, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 3, 52, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 03:52:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197085.png)](https://mergebot.odoo.com/odoo/odoo/pull/197085)

fw-bot (Issue Creator) on (2025-02-08 03:52:25 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839466843,pull_request,open,,[FW][FIX] point_of_sale: correctly connect loaded many2one fields,"Before this commit, if a many2one field was loaded with its data, it would not get connected. For example, in the Chilean localization, the account_move is loaded when capturing an order, but it would not get linked, causing an error.

opw-4479284

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196994
Forward-Port-Of: odoo/odoo#193616",fw-bot,2025-02-08 03:52:03+00:00,[],2025-02-08 04:00:12+00:00,,https://github.com/odoo/odoo/pull/197084,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644481284, 'issue_id': 2839466843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197084.png)](https://mergebot.odoo.com/odoo/odoo/pull/197084)', 'created_at': datetime.datetime(2025, 2, 8, 3, 52, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644481287, 'issue_id': 2839466843, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#193616 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_online_payment/static/src/overrides/pos_overrides/components/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 3, 52, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 03:52:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197084.png)](https://mergebot.odoo.com/odoo/odoo/pull/197084)

fw-bot (Issue Creator) on (2025-02-08 03:52:05 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#193616 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_online_payment/static/src/overrides/pos_overrides/components/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839429808,pull_request,open,,[FIX] mrp: prevent selecting UoM from different categories in BOM / BOM lines,"Add validation in BOM to ensure that the selected UoM of BOM/components belongs to the same category as the product's UoM.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",royle-vietnam,2025-02-08 03:02:21+00:00,[],2025-02-08 04:00:13+00:00,,https://github.com/odoo/odoo/pull/197083,"[('Logistics', 'about stock, mrp, delivery, purchase')]","[{'comment_id': 2644453683, 'issue_id': 2839429808, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197083.png)](https://mergebot.odoo.com/odoo/odoo/pull/197083)', 'created_at': datetime.datetime(2025, 2, 8, 3, 2, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644454567, 'issue_id': 2839429808, 'author': 'royle-vietnam', 'body': 'Hi @Whenrow, can you review this pr, thanks', 'created_at': datetime.datetime(2025, 2, 8, 3, 4, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 03:02:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197083.png)](https://mergebot.odoo.com/odoo/odoo/pull/197083)

royle-vietnam (Issue Creator) on (2025-02-08 03:04:05 UTC): Hi @Whenrow, can you review this pr, thanks

"
2839422760,pull_request,open,,[FW][FIX] account: CABA on payment with credit note,"Before this commit, the credit note's tax lines were causing an issue during reconciliation because they were reconciled with both the invoice and with the cash basis entry.

Reproduce:
* Enable cash basis accounting.
* On the tax that will be used, set: Tax Exigibility: Based on Payment.
* Allow reconciliation on the associated account.
* Add a product without tax and save.
* Then, add a tax.
* Try to create and post a credit note for this invoice

Forward-Port-Of: odoo/odoo#196933
Forward-Port-Of: odoo/odoo#192586",fw-bot,2025-02-08 02:45:46+00:00,[],2025-02-08 03:00:12+00:00,,https://github.com/odoo/odoo/pull/197082,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644446481, 'issue_id': 2839422760, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197082.png)](https://mergebot.odoo.com/odoo/odoo/pull/197082)', 'created_at': datetime.datetime(2025, 2, 8, 2, 45, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644446487, 'issue_id': 2839422760, 'author': 'fw-bot', 'body': '@william-andre @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197078\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 2, 45, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 02:45:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197082.png)](https://mergebot.odoo.com/odoo/odoo/pull/197082)

fw-bot (Issue Creator) on (2025-02-08 02:45:48 UTC): @william-andre @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197078

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839417358,pull_request,open,,[FW][FIX] html_editor: correctly position close icon on file upload notification,"**Problem**:
The close icon on the file upload notification is misplaced, appearing at the top-left instead of the expected position on the right.

Before fix:
![image](https://github.com/user-attachments/assets/206defd6-f7ff-4f17-9816-9c4450827070)

After fix:
![image](https://github.com/user-attachments/assets/fc3d84e1-821c-4c51-906b-55c057bd33ae)

**Solution**:
Adjust the button's position to appear on the right side of the notification.

**Steps to Reproduce**:
1. Open the Editor.
2. Upload a file.
3. Observe that the close button appears on the top-left instead of the right.

opw-4512322

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195209",fw-bot,2025-02-08 02:32:36+00:00,[],2025-02-08 03:00:13+00:00,,https://github.com/odoo/odoo/pull/197081,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644441172, 'issue_id': 2839417358, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197081.png)](https://mergebot.odoo.com/odoo/odoo/pull/197081)', 'created_at': datetime.datetime(2025, 2, 8, 2, 32, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644441179, 'issue_id': 2839417358, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197074\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 2, 32, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 02:32:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197081.png)](https://mergebot.odoo.com/odoo/odoo/pull/197081)

fw-bot (Issue Creator) on (2025-02-08 02:32:38 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197074

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839413625,pull_request,open,,[FIX] point_of_sale: remove raise to continue processing other orders on failure,"Previously, if a PoS order failed during synchronization from the frontend, the entire process stopped due to the raise statement in the except block.
This PR removes raise, allowing the system to continue processing the remaining orders even if some fail.
Failed orders will still be logged and an activity will be created for later handling.
This ensures that valid orders are not affected by individual failures, improving performance and user experience during data synchronization.





---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",royle-vietnam,2025-02-08 02:24:16+00:00,[],2025-02-08 12:51:54+00:00,,https://github.com/odoo/odoo/pull/197080,"[('Point of Sale', '')]","[{'comment_id': 2644437351, 'issue_id': 2839413625, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197080.png)](https://mergebot.odoo.com/odoo/odoo/pull/197080)', 'created_at': datetime.datetime(2025, 2, 8, 2, 24, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644443359, 'issue_id': 2839413625, 'author': 'royle-vietnam', 'body': 'Hi @pebr-odoo, @lse-odoo , can you review this PR, thanks', 'created_at': datetime.datetime(2025, 2, 8, 2, 37, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644751150, 'issue_id': 2839413625, 'author': 'lse-odoo', 'body': '> Hi @pebr-odoo, @lse-odoo , can you review this PR, thanks\n\nIf my memory is correct we thought about that in the past, but conclude it was a bad idea as the POS user would not have any error message on his side so might wrongly think that the full sync was done when it is not in reality and he is likely the one who can solve the issue by modifying the order etc.', 'created_at': datetime.datetime(2025, 2, 8, 9, 43, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645389797, 'issue_id': 2839413625, 'author': 'royle-vietnam', 'body': '> If my memory is correct we thought about that in the past, but conclude it was a bad idea as the POS user would not have any error message on his side so might wrongly think that the full sync was done when it is not in reality and he is likely the one who can solve the issue by modifying the order etc.\r\n\r\n@lse-odoo I understand the concern that PoS users might not realize a sync failure and assume all orders have been processed successfully. However, in this implementation, when an order fails, an activity is created with a JSON attachment containing the error details on the pos session. This ensures that the issue is logged and can be reviewed later by an manager', 'created_at': datetime.datetime(2025, 2, 8, 12, 39, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645452881, 'issue_id': 2839413625, 'author': 'lse-odoo', 'body': ""> > If my memory is correct we thought about that in the past, but conclude it was a bad idea as the POS user would not have any error message on his side so might wrongly think that the full sync was done when it is not in reality and he is likely the one who can solve the issue by modifying the order etc.\n> \n> @lse-odoo I understand the concern that PoS users might not realize a sync failure and assume all orders have been processed successfully. However, in this implementation, when an order fails, an activity is created with a JSON attachment containing the error details on the pos session. This ensures that the issue is logged and can be reviewed later by an manager\n\nNothing would prevent the cashier to close the session in this case. It would then be an issue as he can modify the POS config with pending unsynced order which then will be more complicated to synchronize.\nI understand your idea and find it pretty good, but for me we should prefer another approach. Maybe trying to make 1 order sync = 1 request for instance so that every failing order don't impact correct order"", 'created_at': datetime.datetime(2025, 2, 8, 12, 51, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 02:24:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197080.png)](https://mergebot.odoo.com/odoo/odoo/pull/197080)

royle-vietnam (Issue Creator) on (2025-02-08 02:37:58 UTC): Hi @pebr-odoo, @lse-odoo , can you review this PR, thanks

lse-odoo on (2025-02-08 09:43:52 UTC): If my memory is correct we thought about that in the past, but conclude it was a bad idea as the POS user would not have any error message on his side so might wrongly think that the full sync was done when it is not in reality and he is likely the one who can solve the issue by modifying the order etc.

royle-vietnam (Issue Creator) on (2025-02-08 12:39:59 UTC): @lse-odoo I understand the concern that PoS users might not realize a sync failure and assume all orders have been processed successfully. However, in this implementation, when an order fails, an activity is created with a JSON attachment containing the error details on the pos session. This ensures that the issue is logged and can be reviewed later by an manager

lse-odoo on (2025-02-08 12:51:53 UTC): Nothing would prevent the cashier to close the session in this case. It would then be an issue as he can modify the POS config with pending unsynced order which then will be more complicated to synchronize.
I understand your idea and find it pretty good, but for me we should prefer another approach. Maybe trying to make 1 order sync = 1 request for instance so that every failing order don't impact correct order

"
2839395121,pull_request,open,,"[FW][FIX] account,web: harmonize documents' taxes header display","**Steps to reproduce:**

- In Sales app, create a new invoice with one product;
- Post the invoice without validating it;
- Print invoice without payment from action button.

**Issue:**
The taxes column's header is ""start aligned"" as its content and the other columns are ""end aligned"".

**Expected:**
Column headers should be harmonized and have a consistent display as per :
https://github.com/odoo/odoo/blob/4d9cf2e5103fcdc11be2fd574886afed6f300281/addons/sale/report/ir_actions_report_templates.xml#L79-L88

**Cause:**
The view sets the header alignement on start.


opw-4380680

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193394",fw-bot,2025-02-08 01:47:54+00:00,[],2025-02-08 02:00:12+00:00,,https://github.com/odoo/odoo/pull/197079,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644419427, 'issue_id': 2839395121, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197079.png)](https://mergebot.odoo.com/odoo/odoo/pull/197079)', 'created_at': datetime.datetime(2025, 2, 8, 1, 47, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644419444, 'issue_id': 2839395121, 'author': 'fw-bot', 'body': '@barracudapps @qdp-odoo cherrypicking of pull request odoo/odoo#193394 failed.\n\nstdout:\n```\nAuto-merging addons/account/views/bill_preview_template.xml\nAuto-merging addons/account/views/report_invoice.xml\nAuto-merging addons/web/views/report_templates.xml\nCONFLICT (content): Merge conflict in addons/web/views/report_templates.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 47, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 01:47:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197079.png)](https://mergebot.odoo.com/odoo/odoo/pull/197079)

fw-bot (Issue Creator) on (2025-02-08 01:47:57 UTC): @barracudapps @qdp-odoo cherrypicking of pull request odoo/odoo#193394 failed.

stdout:
```
Auto-merging addons/account/views/bill_preview_template.xml
Auto-merging addons/account/views/report_invoice.xml
Auto-merging addons/web/views/report_templates.xml
CONFLICT (content): Merge conflict in addons/web/views/report_templates.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839380389,pull_request,open,,[FW][FIX] account: CABA on payment with credit note,"Before this commit, the credit note's tax lines were causing an issue during reconciliation because they were reconciled with both the invoice and with the cash basis entry.

Reproduce:
* Enable cash basis accounting.
* On the tax that will be used, set: Tax Exigibility: Based on Payment.
* Allow reconciliation on the associated account.
* Add a product without tax and save.
* Then, add a tax.
* Try to create and post a credit note for this invoice

Forward-Port-Of: odoo/odoo#196933
Forward-Port-Of: odoo/odoo#192586",fw-bot,2025-02-08 01:22:46+00:00,[],2025-02-08 02:00:13+00:00,,https://github.com/odoo/odoo/pull/197078,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644406948, 'issue_id': 2839380389, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197078.png)](https://mergebot.odoo.com/odoo/odoo/pull/197078)', 'created_at': datetime.datetime(2025, 2, 8, 1, 22, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644406954, 'issue_id': 2839380389, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 22, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 01:22:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197078.png)](https://mergebot.odoo.com/odoo/odoo/pull/197078)

fw-bot (Issue Creator) on (2025-02-08 01:22:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839371681,pull_request,open,,[FW][FIX] pos_restaurant:fix empty preparation receipt,"When creating multiple preparation printers for different pos categories you could have a case where an empty receipt is printed.

Steps to reproduce:
-------------------
* Create 2 PoS categories CAT 1 and CAT 2
* Create a first preparation printer for CAT 2
* Create a second preparation printer for CAT 1
* Create a product P1 for CAT 1
* Assign the two printers to a PoS
* Open PoS and add the P1 to your order
* Send the order in preparation
> Observation: Two receipts are printed and one of them is empty

Why the fix:
------------
When going over each printer to print the relevant changes, if the first printer in the list has no changes it would always print an empty receipt because `last_preparation_change` would always be empty. To fix this we rely on `changes` to check if there are any changes to print on this printer

opw-4462586

Forward-Port-Of: odoo/odoo#196808",fw-bot,2025-02-08 01:06:30+00:00,[],2025-02-08 02:00:14+00:00,,https://github.com/odoo/odoo/pull/197077,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644398498, 'issue_id': 2839371681, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197077.png)](https://mergebot.odoo.com/odoo/odoo/pull/197077)', 'created_at': datetime.datetime(2025, 2, 8, 1, 6, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644398503, 'issue_id': 2839371681, 'author': 'fw-bot', 'body': '@robinengels @davidmonnom cherrypicking of pull request odoo/odoo#196808 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\nAuto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js\nAuto-merging addons/pos_restaurant/tests/test_frontend.py\nCONFLICT (content): Merge conflict in addons/pos_restaurant/tests/test_frontend.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 6, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 01:06:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197077.png)](https://mergebot.odoo.com/odoo/odoo/pull/197077)

fw-bot (Issue Creator) on (2025-02-08 01:06:32 UTC): @robinengels @davidmonnom cherrypicking of pull request odoo/odoo#196808 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js
Auto-merging addons/pos_restaurant/static/tests/tours/pos_restaurant_tour.js
Auto-merging addons/pos_restaurant/tests/test_frontend.py
CONFLICT (content): Merge conflict in addons/pos_restaurant/tests/test_frontend.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839371505,pull_request,open,,[FW][FIX] hr_*: allow editing unapproved allocation requests,"The base.group_user did not have the access right to read overtime_id, which is necessary for filtering allocations that do not have a null overtime_id. The access right was granted to base.group_user only when the allocation state is either draft or confirm.

task-4452360

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196815
Forward-Port-Of: odoo/odoo#193797",fw-bot,2025-02-08 01:06:11+00:00,[],2025-02-08 02:00:15+00:00,,https://github.com/odoo/odoo/pull/197076,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644398337, 'issue_id': 2839371505, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197076.png)](https://mergebot.odoo.com/odoo/odoo/pull/197076)', 'created_at': datetime.datetime(2025, 2, 8, 1, 6, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644398342, 'issue_id': 2839371505, 'author': 'fw-bot', 'body': '@ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml\nAuto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nCONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nAuto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 6, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 01:06:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197076.png)](https://mergebot.odoo.com/odoo/odoo/pull/197076)

fw-bot (Issue Creator) on (2025-02-08 01:06:12 UTC): @ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.

stdout:
```
Auto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml
Auto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
CONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
Auto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839371325,pull_request,open,,[FW][IMP] account: Secured group usability,"**Current behavior:**
As of now, whenever a journal is set to ""Hash on Post"", the user is granted the secured group rights. This allows the user to see the lock icon in the status bar, the extra default filters in the list views of Journal Entries and Journal Items, and access to the Secure Entries wizard.

However, if only entries from journals with ""Hash on Post"" are secured, these features are not necessary. The user trusts Odoo to hash any and all entries that are posted in that specific journal.

**Expected behavior:**
When ""Hash on Post"" is active, the user does not need any additional user group. However, if even one entry is secured and does not belong to a journal with the ""hash on post"" feature, the user will then need access to the new features, such as the lock icon, default filters, and the Secure Entries wizard.

**Approach:**
This commit removes the calls to _activate_group_account_secured() when setting a journal to ""Hash on Post"". It also removes it from the Secure Entries wizard. Instead, we add the key 'journal_restrict_mode' to the chains_to_hash, which indicates the value of the journal's restrict_mode_hash_table field. If at least one chain with moves does not have 'journal_restrict_mode', only then we call _activate_group_account_secured()  from _hash_moves(). This will only happen when the Secure Entries wizard is used, hashing entries from all journals.

task-4348380

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196748",fw-bot,2025-02-08 01:05:50+00:00,[],2025-02-08 02:00:16+00:00,,https://github.com/odoo/odoo/pull/197075,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644398140, 'issue_id': 2839371325, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197075.png)](https://mergebot.odoo.com/odoo/odoo/pull/197075)', 'created_at': datetime.datetime(2025, 2, 8, 1, 5, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644398150, 'issue_id': 2839371325, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 5, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644405623, 'issue_id': 2839371325, 'author': 'fw-bot', 'body': '@mairasalazar @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 8, 1, 20, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 01:05:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197075.png)](https://mergebot.odoo.com/odoo/odoo/pull/197075)

fw-bot (Issue Creator) on (2025-02-08 01:05:52 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-08 01:20:02 UTC): @mairasalazar @william-andre ci/runbot failed on this forward-port PR

"
2839370682,pull_request,open,,[FW][FIX] html_editor: correctly position close icon on file upload notification,"**Problem**:
The close icon on the file upload notification is misplaced, appearing at the top-left instead of the expected position on the right.

Before fix:
![image](https://github.com/user-attachments/assets/206defd6-f7ff-4f17-9816-9c4450827070)

After fix:
![image](https://github.com/user-attachments/assets/fc3d84e1-821c-4c51-906b-55c057bd33ae)

**Solution**:
Adjust the button's position to appear on the right side of the notification.

**Steps to Reproduce**:
1. Open the Editor.
2. Upload a file.
3. Observe that the close button appears on the top-left instead of the right.

opw-4512322

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195209",fw-bot,2025-02-08 01:04:44+00:00,[],2025-02-08 02:00:17+00:00,,https://github.com/odoo/odoo/pull/197074,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644397888, 'issue_id': 2839370682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197074.png)](https://mergebot.odoo.com/odoo/odoo/pull/197074)', 'created_at': datetime.datetime(2025, 2, 8, 1, 5, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644397892, 'issue_id': 2839370682, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 5, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 01:05:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197074.png)](https://mergebot.odoo.com/odoo/odoo/pull/197074)

fw-bot (Issue Creator) on (2025-02-08 01:05:26 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839334970,pull_request,open,,"[FW][FIX] website_sale{,_delivery}: ensure state is in the correct country","Versions
--------
- 16.0+

Steps
-----
1. Enable Stripe Express Checkout;
2. go to eCommerce as Public User;
3. pay via express checkout for a deliverable item;
4. in Stripe, set shipping address to somewhere in California;
5. finish payment.

Issue
-----
The new partner is created with its state set to Cadiz instead of California.

Cause
-----
When searching for a state using its code, it fetches the first matching item. The problem is that unlike country codes, state codes aren't unique, e.g. there are 4 states that match the 'CA' code (only one of them being in the United States).

Solution
--------
Add `country_id` to the search domain to ensure the fetched state belongs to the relevant country.

opw-4396024

Forward-Port-Of: odoo/odoo#197055
Forward-Port-Of: odoo/odoo#196428",fw-bot,2025-02-08 00:24:28+00:00,[],2025-02-08 01:00:10+00:00,,https://github.com/odoo/odoo/pull/197073,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644367585, 'issue_id': 2839334970, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197073.png)](https://mergebot.odoo.com/odoo/odoo/pull/197073)', 'created_at': datetime.datetime(2025, 2, 8, 0, 24, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644367596, 'issue_id': 2839334970, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#196428 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale/controllers/main.py\nAuto-merging addons/website_sale/tests/test_delivery_express_checkout_flows.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 0, 24, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 00:24:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197073.png)](https://mergebot.odoo.com/odoo/odoo/pull/197073)

fw-bot (Issue Creator) on (2025-02-08 00:24:30 UTC): @lvsz cherrypicking of pull request odoo/odoo#196428 failed.

stdout:
```
Auto-merging addons/website_sale/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale/controllers/main.py
Auto-merging addons/website_sale/tests/test_delivery_express_checkout_flows.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839329139,pull_request,open,,"[FW][FIX] account,web: harmonize documents' taxes header display","**Steps to reproduce:**

- In Sales app, create a new invoice with one product;
- Post the invoice without validating it;
- Print invoice without payment from action button.

**Issue:**
The taxes column's header is ""start aligned"" as its content and the other columns are ""end aligned"".

**Expected:**
Column headers should be harmonized and have a consistent display as per :
https://github.com/odoo/odoo/blob/4d9cf2e5103fcdc11be2fd574886afed6f300281/addons/sale/report/ir_actions_report_templates.xml#L79-L88

**Cause:**
The view sets the header alignement on start.


opw-4380680

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193394",fw-bot,2025-02-08 00:17:15+00:00,[],2025-02-08 01:47:56+00:00,,https://github.com/odoo/odoo/pull/197072,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644361778, 'issue_id': 2839329139, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197072.png)](https://mergebot.odoo.com/odoo/odoo/pull/197072)', 'created_at': datetime.datetime(2025, 2, 8, 0, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644361788, 'issue_id': 2839329139, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 0, 17, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644419434, 'issue_id': 2839329139, 'author': 'fw-bot', 'body': '@barracudapps @qdp-odoo the next pull request (odoo/odoo#197079) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 8, 1, 47, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-08 00:17:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197072.png)](https://mergebot.odoo.com/odoo/odoo/pull/197072)

fw-bot (Issue Creator) on (2025-02-08 00:17:17 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-08 01:47:55 UTC): @barracudapps @qdp-odoo the next pull request (odoo/odoo#197079) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839244957,pull_request,open,,"[FW][FIX] account,web: harmonize documents' taxes header display","**Steps to reproduce:**

- In Sales app, create a new invoice with one product;
- Post the invoice without validating it;
- Print invoice without payment from action button.

**Issue:**
The taxes column's header is ""start aligned"" as its content and the other columns are ""end aligned"".

**Expected:**
Column headers should be harmonized and have a consistent display as per :
https://github.com/odoo/odoo/blob/4d9cf2e5103fcdc11be2fd574886afed6f300281/addons/sale/report/ir_actions_report_templates.xml#L79-L88

**Cause:**
The view sets the header alignement on start.


opw-4380680

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193394",fw-bot,2025-02-07 22:59:34+00:00,[],2025-02-07 23:00:11+00:00,,https://github.com/odoo/odoo/pull/197071,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644281353, 'issue_id': 2839244957, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197071.png)](https://mergebot.odoo.com/odoo/odoo/pull/197071)', 'created_at': datetime.datetime(2025, 2, 7, 22, 59, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644281364, 'issue_id': 2839244957, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 22, 59, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 22:59:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197071.png)](https://mergebot.odoo.com/odoo/odoo/pull/197071)

fw-bot (Issue Creator) on (2025-02-07 22:59:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839244647,pull_request,open,,[FW][IMP] l10n_dk: remove bank and cash account protection,"This commit will add a protection for the removal of bank and cash accounts.

task: 4392444




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190529",fw-bot,2025-02-07 22:59:15+00:00,[],2025-02-07 23:53:13+00:00,,https://github.com/odoo/odoo/pull/197070,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644281158, 'issue_id': 2839244647, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197070.png)](https://mergebot.odoo.com/odoo/odoo/pull/197070)', 'created_at': datetime.datetime(2025, 2, 7, 22, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644281164, 'issue_id': 2839244647, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 22, 59, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644340913, 'issue_id': 2839244647, 'author': 'fw-bot', 'body': '@malb-odoo @FlorianGilbert ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 23, 53, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 22:59:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197070.png)](https://mergebot.odoo.com/odoo/odoo/pull/197070)

fw-bot (Issue Creator) on (2025-02-07 22:59:24 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 23:53:12 UTC): @malb-odoo @FlorianGilbert ci/runbot failed on this forward-port PR

"
2839228488,pull_request,open,,[FIX] hr_holidays: accrual plans access rights,"Accrual plans are not readable for regular users, so once a user has an accrual plan set on one of their allocations, they cannot open their time off dashboard. Access rights error gets thrown.

The bug was supposedly fixed in commit: https://github.com/odoo/odoo/commit/30f7fe62ef2579ed0a0c3ad9dbec5edf2ca60b18 but it did not consider adding the sudo() for the condition based on the carryover_policy.

Steps to Reproduce on Runbot:
As Mitchell Admin:
1. Install Time Off app
2. Create a time off type (show in dashboard,requires allocation)
3. Create an accrual plan (accrued_gain_time: end, carryover_date: year_start)
4. Create a rule for the accrual plan (Accumulate 0.5 days, month at the 1st of the month, carryover policy is either none or maximum)
5. Create an allocation for Marc Demo,who has no time off rights, for the time off type. Set to accrual allocation and link to the accrual plan.Then, set the start date to the 1st of the month and run until some future date.

As Marc Demo:
1. Attempt to click into the Time Off app
2. Observe Access Right error

opw-4551392

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",myhy-odoo,2025-02-07 22:43:47+00:00,[],2025-02-07 23:00:13+00:00,,https://github.com/odoo/odoo/pull/197069,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2644264516, 'issue_id': 2839228488, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197069.png)](https://mergebot.odoo.com/odoo/odoo/pull/197069)', 'created_at': datetime.datetime(2025, 2, 7, 22, 43, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 22:43:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197069.png)](https://mergebot.odoo.com/odoo/odoo/pull/197069)

"
2839198663,pull_request,open,,[FW][FIX] pos_self_order: allow disabling of preparation display option,"Issue: In the POS settings, even after disabling the preparation display option, it remains enabled after saving.

Steps to reproduce:
-In POS configuration
-Ensure the Pay after option is set to each order.
-Disable self ordering and uncheck the preparation display option, save.

Explanation: In res_config_settings.py of pos_self_order, https://github.com/odoo/odoo/commit/8ee8010cf67f20c4eb28a334cc943bfedf2dd0d1 added a check to ensure that the preparation display is enabled if self-ordering is active. However, it was still automatically enabling the preparation display even when self-ordering was disabled.

opw-4225668

(This pr was merged but introduced an error with the test which was fixed in a separate pr: https://github.com/odoo/odoo/pull/186539)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192869
Forward-Port-Of: odoo/odoo#183601",fw-bot,2025-02-07 22:21:56+00:00,[],2025-02-07 23:32:09+00:00,,https://github.com/odoo/odoo/pull/197068,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644235645, 'issue_id': 2839198663, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197068.png)](https://mergebot.odoo.com/odoo/odoo/pull/197068)', 'created_at': datetime.datetime(2025, 2, 7, 22, 22, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644235674, 'issue_id': 2839198663, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197060\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 22, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644322535, 'issue_id': 2839198663, 'author': 'fw-bot', 'body': '@gteboul @adgu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 23, 32, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 22:22:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197068.png)](https://mergebot.odoo.com/odoo/odoo/pull/197068)

fw-bot (Issue Creator) on (2025-02-07 22:22:02 UTC): @gteboul @adgu-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197060

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 23:32:07 UTC): @gteboul @adgu-odoo ci/runbot failed on this forward-port PR

"
2839196606,pull_request,open,,[FW][FIX] account: on posted invoice it's change sequence number if journal_id key in write vals,"if they use import export or any automated action that write same journal then it's take new number. here assume that journal_id is only change on draft and if posted then it's raise error but not consider what is same journal_id come to write.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196777",fw-bot,2025-02-07 22:20:17+00:00,[],2025-02-07 23:00:45+00:00,,https://github.com/odoo/odoo/pull/197067,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644233309, 'issue_id': 2839196606, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197067.png)](https://mergebot.odoo.com/odoo/odoo/pull/197067)', 'created_at': datetime.datetime(2025, 2, 7, 22, 20, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644233327, 'issue_id': 2839196606, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 22, 20, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644282610, 'issue_id': 2839196606, 'author': 'fw-bot', 'body': '@jva-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 23, 0, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 22:20:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197067.png)](https://mergebot.odoo.com/odoo/odoo/pull/197067)

fw-bot (Issue Creator) on (2025-02-07 22:20:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 23:00:44 UTC): @jva-odoo @william-andre ci/runbot failed on this forward-port PR

"
2839179620,pull_request,open,,[FW][FIX] html_editor: programmatically add space on automatic link creation,"**Problem**:
In Safari, relying on the browser to add a space after automatic link creation causes the cursor to be incorrectly positioned. This issue arises due to DOM manipulations (adding and removing nodes) during the process.

**Solution**:
To ensure proper link insertion and cursor positioning, explicitly add the space after the link and set the selection programmatically.

**Steps to Reproduce**:
1. Open the Editor on Safari.
2. Add the text ""test.com"".
3. Press the space key.
4. Observe that the link is created, but the cursor moves to the start of the paragraph.

opw-4441817
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194989",fw-bot,2025-02-07 22:08:06+00:00,[],2025-02-07 23:00:16+00:00,,https://github.com/odoo/odoo/pull/197066,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644217765, 'issue_id': 2839179620, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197066.png)](https://mergebot.odoo.com/odoo/odoo/pull/197066)', 'created_at': datetime.datetime(2025, 2, 7, 22, 8, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644217809, 'issue_id': 2839179620, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo cherrypicking of pull request odoo/odoo#194989 failed.\n\nstdout:\n```\nAuto-merging addons/html_editor/static/src/main/link/link_plugin.js\nAuto-merging addons/html_editor/static/tests/_helpers/user_actions.js\nAuto-merging addons/html_editor/static/tests/link/popover.test.js\nAuto-merging addons/html_editor/static/tests/link/transform.test.js\nCONFLICT (content): Merge conflict in addons/html_editor/static/tests/link/transform.test.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 22, 8, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 22:08:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197066.png)](https://mergebot.odoo.com/odoo/odoo/pull/197066)

fw-bot (Issue Creator) on (2025-02-07 22:08:10 UTC): @walidsahli @dmo-odoo cherrypicking of pull request odoo/odoo#194989 failed.

stdout:
```
Auto-merging addons/html_editor/static/src/main/link/link_plugin.js
Auto-merging addons/html_editor/static/tests/_helpers/user_actions.js
Auto-merging addons/html_editor/static/tests/link/popover.test.js
Auto-merging addons/html_editor/static/tests/link/transform.test.js
CONFLICT (content): Merge conflict in addons/html_editor/static/tests/link/transform.test.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839138843,pull_request,open,,[FW][IMP] l10n_dk: remove bank and cash account protection,"This commit will add a protection for the removal of bank and cash accounts.

task: 4392444




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190529",fw-bot,2025-02-07 21:39:18+00:00,[],2025-02-07 22:00:11+00:00,,https://github.com/odoo/odoo/pull/197065,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644178211, 'issue_id': 2839138843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197065.png)](https://mergebot.odoo.com/odoo/odoo/pull/197065)', 'created_at': datetime.datetime(2025, 2, 7, 21, 39, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644178237, 'issue_id': 2839138843, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 21, 39, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 21:39:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197065.png)](https://mergebot.odoo.com/odoo/odoo/pull/197065)

fw-bot (Issue Creator) on (2025-02-07 21:39:20 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839132116,pull_request,open,,[FW][FIX] sale_project: exclude recurring services from SOLs,"When creating a SOL on the fly from a project or a ticket, we try to match an existing product from what was typed in the field. However, we should be excluding recurring services

Task-4354482

Forward-Port-Of: odoo/odoo#188309",fw-bot,2025-02-07 21:34:03+00:00,[],2025-02-07 22:15:15+00:00,,https://github.com/odoo/odoo/pull/197064,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644170228, 'issue_id': 2839132116, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197064.png)](https://mergebot.odoo.com/odoo/odoo/pull/197064)', 'created_at': datetime.datetime(2025, 2, 7, 21, 34, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644170259, 'issue_id': 2839132116, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 21, 34, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644226913, 'issue_id': 2839132116, 'author': 'fw-bot', 'body': '@MissingNoShiny @xavierbol ci/upgrade_enterprise failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 22, 15, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 21:34:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197064.png)](https://mergebot.odoo.com/odoo/odoo/pull/197064)

fw-bot (Issue Creator) on (2025-02-07 21:34:07 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 22:15:14 UTC): @MissingNoShiny @xavierbol ci/upgrade_enterprise failed on this forward-port PR

"
2839125374,pull_request,open,,[FW][FIX] account_payment: display refundable amount correctly for all users,"## Versions:
17.0+
No fix needed in 16.0 as the field was not computed and this changes with https://github.com/odoo/odoo/commit/7e012dd5441e87ce3c2688f9280381b041b00b0d

## Issue:
A payment to be refunded is displayed as already refunded in the wizard for some users.

## Steps to reproduce:
Ensure the `Demo` payment provider is enabled in `Test Mode`. Ensure you are logged in as Admin user.
- Navigate to the `Invoicing` app:
    - Create a new customer invoice and confirm it;
- Navigate to the Portal using the invoice's `Preview` button:
    - Pay the invoice with the `Demo` provider with a `Successful` Payment status;
- Come back to edit mode:
    - At the bottom of the form, click the information icon in the totalization section;
    - Click the `View` button of the popover;
    - Click the `Refund` button and remember the data;
- Copy the URL;
- Log out and log back in as Demo user;
- Paste the URL to come back to the payment:
    - Click the `Refund` button: - See the `Refunded Amount` value equal to the `Payment Amount`; - See the `Maximum Refund Allowed` value set to 0;

## Cause:
The maximal refundable amount can't be computed for users who don't have `Payment Provider` model access rights.

## Fix:
Compute the amount in `sudo` mode to bypass user's `Payment Provider` model access rights.


opw-4396372

Forward-Port-Of: odoo/odoo#194871",fw-bot,2025-02-07 21:29:32+00:00,[],2025-02-07 22:00:13+00:00,,https://github.com/odoo/odoo/pull/197063,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644163470, 'issue_id': 2839125374, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197063.png)](https://mergebot.odoo.com/odoo/odoo/pull/197063)', 'created_at': datetime.datetime(2025, 2, 7, 21, 29, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644163521, 'issue_id': 2839125374, 'author': 'fw-bot', 'body': '@barracudapps cherrypicking of pull request odoo/odoo#194871 failed.\n\nstdout:\n```\nAuto-merging addons/account_payment/wizards/payment_refund_wizard.py\nCONFLICT (content): Merge conflict in addons/account_payment/wizards/payment_refund_wizard.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 21, 29, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 21:29:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197063.png)](https://mergebot.odoo.com/odoo/odoo/pull/197063)

fw-bot (Issue Creator) on (2025-02-07 21:29:35 UTC): @barracudapps cherrypicking of pull request odoo/odoo#194871 failed.

stdout:
```
Auto-merging addons/account_payment/wizards/payment_refund_wizard.py
CONFLICT (content): Merge conflict in addons/account_payment/wizards/payment_refund_wizard.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839084067,pull_request,open,,[FW][FIX] account: on posted invoice it's change sequence number if journal_id key in write vals,"if they use import export or any automated action that write same journal then it's take new number. here assume that journal_id is only change on draft and if posted then it's raise error but not consider what is same journal_id come to write.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196777",fw-bot,2025-02-07 21:03:42+00:00,[],2025-02-08 09:48:40+00:00,,https://github.com/odoo/odoo/pull/197062,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644124233, 'issue_id': 2839084067, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197062.png)](https://mergebot.odoo.com/odoo/odoo/pull/197062)', 'created_at': datetime.datetime(2025, 2, 7, 21, 3, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644124256, 'issue_id': 2839084067, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 21, 3, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644736793, 'issue_id': 2839084067, 'author': 'jva-odoo', 'body': '@robodoo r+\nMerging until this because in 18.0 there is conflict and the users will get this fix on the Monday update.', 'created_at': datetime.datetime(2025, 2, 8, 9, 11, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644784565, 'issue_id': 2839084067, 'author': 'robodoo', 'body': '@jva-odoo @william-andre staging failed: ci/runbot on 295f13c6394aecf9c32850fc8370431be94c0ef9 (view more at https://runbot.odoo.com/runbot/build/74721521)', 'created_at': datetime.datetime(2025, 2, 8, 9, 48, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 21:03:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197062.png)](https://mergebot.odoo.com/odoo/odoo/pull/197062)

fw-bot (Issue Creator) on (2025-02-07 21:03:44 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jva-odoo on (2025-02-08 09:11:17 UTC): @robodoo r+
Merging until this because in 18.0 there is conflict and the users will get this fix on the Monday update.

robodoo on (2025-02-08 09:48:39 UTC): @jva-odoo @william-andre staging failed: ci/runbot on 295f13c6394aecf9c32850fc8370431be94c0ef9 (view more at https://runbot.odoo.com/runbot/build/74721521)

"
2839063119,pull_request,open,,[FIX] sale_timesheet: check if analytic account exists before use,"## Issue:
When duplicating a sale order with a service product that creates tasks, adding a timesheet entry to the task from the duplicate sale order fails if the original task and project were deleted before duplication.

## Steps to reproduce:
- disable Analytic Accounting.
- Create a service product that create a test, keep project empty.
- create a project.
- create a sale order with the service product and the project.
- confirm the sale order.
- remove the task that was created by the service product and delete the project.
- duplicate the sale order.
- confirm the duplicate sale order.
- open the task created by the sale order.
- try adding a timesheet to the task.
- an error is raised saying that the analytic account doesn't exist.

## Root cause:
- When we delete a project, it's linked analytic account is removed automatically by the `project_project` override of the `unlink` method, but it might be still referred in the analytic distribution of sale order line, so when we try fetching it in `_timesheet_preprocess_get_accounts` it gives the ""Missing Record"" error.

## Fix:
- make sure the analytic account exists when brosing to it in `_timesheet_preprocess_get_accounts`.

OPW-4474903

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kawkb,2025-02-07 20:49:37+00:00,[],2025-02-07 21:00:11+00:00,,https://github.com/odoo/odoo/pull/197061,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2644101535, 'issue_id': 2839063119, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197061.png)](https://mergebot.odoo.com/odoo/odoo/pull/197061)', 'created_at': datetime.datetime(2025, 2, 7, 20, 49, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:49:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197061.png)](https://mergebot.odoo.com/odoo/odoo/pull/197061)

"
2839059497,pull_request,open,,[FW][FIX] pos_self_order: allow disabling of preparation display option,"Issue: In the POS settings, even after disabling the preparation display option, it remains enabled after saving.

Steps to reproduce:
-In POS configuration
-Ensure the Pay after option is set to each order.
-Disable self ordering and uncheck the preparation display option, save.

Explanation: In res_config_settings.py of pos_self_order, https://github.com/odoo/odoo/commit/8ee8010cf67f20c4eb28a334cc943bfedf2dd0d1 added a check to ensure that the preparation display is enabled if self-ordering is active. However, it was still automatically enabling the preparation display even when self-ordering was disabled.

opw-4225668

(This pr was merged but introduced an error with the test which was fixed in a separate pr: https://github.com/odoo/odoo/pull/186539)


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192869
Forward-Port-Of: odoo/odoo#183601",fw-bot,2025-02-07 20:47:27+00:00,[],2025-02-07 21:00:12+00:00,,https://github.com/odoo/odoo/pull/197060,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644097110, 'issue_id': 2839059497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197060.png)](https://mergebot.odoo.com/odoo/odoo/pull/197060)', 'created_at': datetime.datetime(2025, 2, 7, 20, 47, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644097168, 'issue_id': 2839059497, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 47, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:47:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197060.png)](https://mergebot.odoo.com/odoo/odoo/pull/197060)

fw-bot (Issue Creator) on (2025-02-07 20:47:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839058576,pull_request,open,,[FW][FIX] html_editor: programmatically add space on automatic link creation,"**Problem**:
In Safari, relying on the browser to add a space after automatic link creation causes the cursor to be incorrectly positioned. This issue arises due to DOM manipulations (adding and removing nodes) during the process.

**Solution**:
To ensure proper link insertion and cursor positioning, explicitly add the space after the link and set the selection programmatically.

**Steps to Reproduce**:
1. Open the Editor on Safari.
2. Add the text ""test.com"".
3. Press the space key.
4. Observe that the link is created, but the cursor moves to the start of the paragraph.

opw-4441817
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194989",fw-bot,2025-02-07 20:46:58+00:00,[],2025-02-07 22:08:10+00:00,,https://github.com/odoo/odoo/pull/197059,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644096213, 'issue_id': 2839058576, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197059.png)](https://mergebot.odoo.com/odoo/odoo/pull/197059)', 'created_at': datetime.datetime(2025, 2, 7, 20, 46, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644096222, 'issue_id': 2839058576, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644217779, 'issue_id': 2839058576, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo the next pull request (odoo/odoo#197066) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 22, 8, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:46:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197059.png)](https://mergebot.odoo.com/odoo/odoo/pull/197059)

fw-bot (Issue Creator) on (2025-02-07 20:47:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 22:08:08 UTC): @walidsahli @dmo-odoo the next pull request (odoo/odoo#197066) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839019026,pull_request,open,,[FW][FIX] sale_project: exclude recurring services from SOLs,"When creating a SOL on the fly from a project or a ticket, we try to match an existing product from what was typed in the field. However, we should be excluding recurring services

Task-4354482

Forward-Port-Of: odoo/odoo#188309",fw-bot,2025-02-07 20:20:30+00:00,[],2025-02-07 21:00:14+00:00,,https://github.com/odoo/odoo/pull/197058,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644049483, 'issue_id': 2839019026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197058.png)](https://mergebot.odoo.com/odoo/odoo/pull/197058)', 'created_at': datetime.datetime(2025, 2, 7, 20, 20, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644049506, 'issue_id': 2839019026, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 20, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:20:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197058.png)](https://mergebot.odoo.com/odoo/odoo/pull/197058)

fw-bot (Issue Creator) on (2025-02-07 20:20:34 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839018304,pull_request,open,,[FW][IMP] l10n_dk: remove bank and cash account protection,"This commit will add a protection for the removal of bank and cash accounts.

task: 4392444




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190529",fw-bot,2025-02-07 20:19:59+00:00,[],2025-02-07 21:00:15+00:00,,https://github.com/odoo/odoo/pull/197057,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644048440, 'issue_id': 2839018304, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197057.png)](https://mergebot.odoo.com/odoo/odoo/pull/197057)', 'created_at': datetime.datetime(2025, 2, 7, 20, 20, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644048471, 'issue_id': 2839018304, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 20, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:20:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197057.png)](https://mergebot.odoo.com/odoo/odoo/pull/197057)

fw-bot (Issue Creator) on (2025-02-07 20:20:02 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839017861,pull_request,open,,[FW][FIX] hr_attendance: geolocate check in/out in kiosk mode,"This is a backport of 183741 which missed earlier versions where attendance geolocation is available.

Forward-Port-Of: odoo/odoo#193393",fw-bot,2025-02-07 20:19:40+00:00,[],2025-02-07 21:00:16+00:00,,https://github.com/odoo/odoo/pull/197056,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644047741, 'issue_id': 2839017861, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197056.png)](https://mergebot.odoo.com/odoo/odoo/pull/197056)', 'created_at': datetime.datetime(2025, 2, 7, 20, 19, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644047759, 'issue_id': 2839017861, 'author': 'fw-bot', 'body': '@taqu-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#193393 failed.\n\nstdout:\n```\nAuto-merging addons/hr_attendance/controllers/main.py\nAuto-merging addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js\nCONFLICT (content): Merge conflict in addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 19, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:19:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197056.png)](https://mergebot.odoo.com/odoo/odoo/pull/197056)

fw-bot (Issue Creator) on (2025-02-07 20:19:41 UTC): @taqu-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#193393 failed.

stdout:
```
Auto-merging addons/hr_attendance/controllers/main.py
Auto-merging addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js
CONFLICT (content): Merge conflict in addons/hr_attendance/static/src/public_kiosk/public_kiosk_app.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839017403,pull_request,closed,,"[FW][FIX] website_sale{,_delivery}: ensure state is in the correct country","Versions
--------
- 16.0+

Steps
-----
1. Enable Stripe Express Checkout;
2. go to eCommerce as Public User;
3. pay via express checkout for a deliverable item;
4. in Stripe, set shipping address to somewhere in California;
5. finish payment.

Issue
-----
The new partner is created with its state set to Cadiz instead of California.

Cause
-----
When searching for a state using its code, it fetches the first matching item. The problem is that unlike country codes, state codes aren't unique, e.g. there are 4 states that match the 'CA' code (only one of them being in the United States).

Solution
--------
Add `country_id` to the search domain to ensure the fetched state belongs to the relevant country.

opw-4396024

Forward-Port-Of: odoo/odoo#196763
Forward-Port-Of: odoo/odoo#196428",fw-bot,2025-02-07 20:19:19+00:00,[],2025-02-08 00:24:15+00:00,2025-02-08 00:24:15+00:00,https://github.com/odoo/odoo/pull/197055,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644047021, 'issue_id': 2839017403, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197055.png)](https://mergebot.odoo.com/odoo/odoo/pull/197055)', 'created_at': datetime.datetime(2025, 2, 7, 20, 19, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644047042, 'issue_id': 2839017403, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 19, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644111138, 'issue_id': 2839017403, 'author': 'fw-bot', 'body': '@lvsz ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 20, 55, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644182931, 'issue_id': 2839017403, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 21, 42, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644182948, 'issue_id': 2839017403, 'author': 'fw-bot', 'body': '@lvsz this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 21, 42, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:19:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197055.png)](https://mergebot.odoo.com/odoo/odoo/pull/197055)

fw-bot (Issue Creator) on (2025-02-07 20:19:21 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 20:55:33 UTC): @lvsz ci/runbot failed on this forward-port PR

lvsz on (2025-02-07 21:42:28 UTC): robodoo r+

fw-bot (Issue Creator) on (2025-02-07 21:42:29 UTC): @lvsz this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2839016909,pull_request,open,,[FW][FIX] account: avoid ORM hacks,"Forward-Port-Of: odoo/odoo#196826
Forward-Port-Of: odoo/odoo#193528",fw-bot,2025-02-07 20:18:59+00:00,[],2025-02-08 08:09:14+00:00,,https://github.com/odoo/odoo/pull/197054,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2644046328, 'issue_id': 2839016909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197054.png)](https://mergebot.odoo.com/odoo/odoo/pull/197054)', 'created_at': datetime.datetime(2025, 2, 7, 20, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644046347, 'issue_id': 2839016909, 'author': 'fw-bot', 'body': '@william-andre @rco-odoo cherrypicking of pull request odoo/odoo#193528 failed.\n\n* 3312d73f04936014d880b0307b6c8f04f9ce4fc3\n* 45fdfaa88a2d8005365d7bfbe29ee80741888dfc <- on this commit\n\nstdout:\n```\nAuto-merging addons/account/models/account_move.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:19:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197054.png)](https://mergebot.odoo.com/odoo/odoo/pull/197054)

fw-bot (Issue Creator) on (2025-02-07 20:19:00 UTC): @william-andre @rco-odoo cherrypicking of pull request odoo/odoo#193528 failed.

* 3312d73f04936014d880b0307b6c8f04f9ce4fc3
* 45fdfaa88a2d8005365d7bfbe29ee80741888dfc <- on this commit

stdout:
```
Auto-merging addons/account/models/account_move.py
CONFLICT (content): Merge conflict in addons/account/models/account_move.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2839009033,pull_request,open,,[FW][FIX] account_payment: display refundable amount correctly for all users,"## Versions:
17.0+
No fix needed in 16.0 as the field was not computed and this changes with https://github.com/odoo/odoo/commit/7e012dd5441e87ce3c2688f9280381b041b00b0d

## Issue:
A payment to be refunded is displayed as already refunded in the wizard for some users.

## Steps to reproduce:
Ensure the `Demo` payment provider is enabled in `Test Mode`. Ensure you are logged in as Admin user.
- Navigate to the `Invoicing` app:
    - Create a new customer invoice and confirm it;
- Navigate to the Portal using the invoice's `Preview` button:
    - Pay the invoice with the `Demo` provider with a `Successful` Payment status;
- Come back to edit mode:
    - At the bottom of the form, click the information icon in the totalization section;
    - Click the `View` button of the popover;
    - Click the `Refund` button and remember the data;
- Copy the URL;
- Log out and log back in as Demo user;
- Paste the URL to come back to the payment:
    - Click the `Refund` button: - See the `Refunded Amount` value equal to the `Payment Amount`; - See the `Maximum Refund Allowed` value set to 0;

## Cause:
The maximal refundable amount can't be computed for users who don't have `Payment Provider` model access rights.

## Fix:
Compute the amount in `sudo` mode to bypass user's `Payment Provider` model access rights.


opw-4396372

Forward-Port-Of: odoo/odoo#194871",fw-bot,2025-02-07 20:13:22+00:00,[],2025-02-07 21:29:35+00:00,,https://github.com/odoo/odoo/pull/197053,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644036495, 'issue_id': 2839009033, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197053.png)](https://mergebot.odoo.com/odoo/odoo/pull/197053)', 'created_at': datetime.datetime(2025, 2, 7, 20, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644036518, 'issue_id': 2839009033, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644163487, 'issue_id': 2839009033, 'author': 'fw-bot', 'body': '@barracudapps the next pull request (odoo/odoo#197063) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 21, 29, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:13:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197053.png)](https://mergebot.odoo.com/odoo/odoo/pull/197053)

fw-bot (Issue Creator) on (2025-02-07 20:13:24 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 21:29:34 UTC): @barracudapps the next pull request (odoo/odoo#197063) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838999090,pull_request,open,,[FW][FIX] account: fix access error for `tax_string` field in `product.template` model,"Repro steps:
- Add `Tax String` to `Product Page Extra Fields` for one of your websites
- Add taxes from a company that isn't linked to that website for one of your products
- Open that product's product page in eCommerce
- You get an access error

The issue is that we try to read the taxes for all companies when opening the product page. Instead, we should only read the taxes for the current company.

opw-4435721

Forward-Port-Of: odoo/odoo#194881",fw-bot,2025-02-07 20:06:30+00:00,[],2025-02-07 21:14:44+00:00,,https://github.com/odoo/odoo/pull/197052,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2644023844, 'issue_id': 2838999090, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197052.png)](https://mergebot.odoo.com/odoo/odoo/pull/197052)', 'created_at': datetime.datetime(2025, 2, 7, 20, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644023859, 'issue_id': 2838999090, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 20, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644141280, 'issue_id': 2838999090, 'author': 'fw-bot', 'body': '@ltinel @Feyensv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 21, 14, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 20:06:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197052.png)](https://mergebot.odoo.com/odoo/odoo/pull/197052)

fw-bot (Issue Creator) on (2025-02-07 20:06:32 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 21:14:42 UTC): @ltinel @Feyensv ci/runbot failed on this forward-port PR

"
2838980598,pull_request,open,,[FW][FIX] account: on posted invoice it's change sequence number if journal_id key in write vals,"if they use import export or any automated action that write same journal then it's take new number. here assume that journal_id is only change on draft and if posted then it's raise error but not consider what is same journal_id come to write.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196777",fw-bot,2025-02-07 19:53:52+00:00,[],2025-02-08 09:32:16+00:00,,https://github.com/odoo/odoo/pull/197051,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643967899, 'issue_id': 2838980598, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197051.png)](https://mergebot.odoo.com/odoo/odoo/pull/197051)', 'created_at': datetime.datetime(2025, 2, 7, 19, 53, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643968108, 'issue_id': 2838980598, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 53, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644747084, 'issue_id': 2838980598, 'author': 'robodoo', 'body': '@jva-odoo @william-andre staging failed: ci/runbot on 558c5ae97e6462eddfb2d88676daebacf7918c4f (view more at https://runbot.odoo.com/runbot/build/74721541)', 'created_at': datetime.datetime(2025, 2, 8, 9, 32, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:53:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197051.png)](https://mergebot.odoo.com/odoo/odoo/pull/197051)

fw-bot (Issue Creator) on (2025-02-07 19:53:54 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-08 09:32:15 UTC): @jva-odoo @william-andre staging failed: ci/runbot on 558c5ae97e6462eddfb2d88676daebacf7918c4f (view more at https://runbot.odoo.com/runbot/build/74721541)

"
2838959748,pull_request,open,,[FW][FIX] hr_attendance: correctly declare props,"## Description of the issue/feature this PR addresses
Unable to reach Kiosk mode while in debug mode due to props validation
```
Error: Invalid props for component 'kioskAttendanceApp': unknown key 'token', unknown key 'companyId', unknown key 'companyName', unknown key 'employees', unknown key 'departments', unknown key 'kioskMode', unknown key 'barcodeSource'
```

### Steps to reproduce 
- Install `hr_attendance`
- Open Kiosk Mode
- Enable debug mode
=> Blank screen


## Current behavior before PR
Before this commit, when we were in debug mode, we couldn't access Kiosk mode (white screen with message in console). This was because the props were not fully declared, and, in debug mode, we validated the props here : https://github.com/odoo/odoo/blob/c3e7ee585a58fc07c11d07677d1d64dbd357d6b7/addons/web/static/lib/owl/owl.js#L5715-L5717 As the components are only used in one place each, I've updated the props declaration to match the usage.

Forward-Port-Of: odoo/odoo#195831
Forward-Port-Of: odoo/odoo#189412",fw-bot,2025-02-07 19:40:52+00:00,[],2025-02-07 20:00:13+00:00,,https://github.com/odoo/odoo/pull/197050,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643913798, 'issue_id': 2838959748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197050.png)](https://mergebot.odoo.com/odoo/odoo/pull/197050)', 'created_at': datetime.datetime(2025, 2, 7, 19, 40, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643913818, 'issue_id': 2838959748, 'author': 'fw-bot', 'body': '@thcl-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197041\n* odoo/odoo#197028\n* odoo/odoo#197012\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 40, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:40:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197050.png)](https://mergebot.odoo.com/odoo/odoo/pull/197050)

fw-bot (Issue Creator) on (2025-02-07 19:40:54 UTC): @thcl-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197041
* odoo/odoo#197028
* odoo/odoo#197012

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838930219,pull_request,open,,[FW][IMP] account - imported line shouldn't change tax,"[IMP] account - imported line shouldn't change tax

Foward-port https://github.com/odoo/odoo/pull/193483 messed up and
removed important code of https://github.com/odoo/odoo/pull/172787.

This commit adds it back.

task-4547597

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196801",fw-bot,2025-02-07 19:27:54+00:00,[],2025-02-07 20:00:14+00:00,,https://github.com/odoo/odoo/pull/197049,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643847123, 'issue_id': 2838930219, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197049.png)](https://mergebot.odoo.com/odoo/odoo/pull/197049)', 'created_at': datetime.datetime(2025, 2, 7, 19, 27, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643847143, 'issue_id': 2838930219, 'author': 'fw-bot', 'body': '@rugo-odoo @FlorianGilbert this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197039\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 27, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:27:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197049.png)](https://mergebot.odoo.com/odoo/odoo/pull/197049)

fw-bot (Issue Creator) on (2025-02-07 19:27:56 UTC): @rugo-odoo @FlorianGilbert this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197039

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838911103,pull_request,open,,[FW][FIX] html_editor: apply font-size on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196943",fw-bot,2025-02-07 19:17:59+00:00,[],2025-02-07 20:00:15+00:00,,https://github.com/odoo/odoo/pull/197048,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643818730, 'issue_id': 2838911103, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197048.png)](https://mergebot.odoo.com/odoo/odoo/pull/197048)', 'created_at': datetime.datetime(2025, 2, 7, 19, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643818741, 'issue_id': 2838911103, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197037\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 18, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:18:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197048.png)](https://mergebot.odoo.com/odoo/odoo/pull/197048)

fw-bot (Issue Creator) on (2025-02-07 19:18:01 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197037

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838881160,pull_request,open,,[FW][FIX] sale_project: exclude recurring services from SOLs,"When creating a SOL on the fly from a project or a ticket, we try to match an existing product from what was typed in the field. However, we should be excluding recurring services

Task-4354482

Forward-Port-Of: odoo/odoo#188309",fw-bot,2025-02-07 19:02:24+00:00,[],2025-02-07 20:00:16+00:00,,https://github.com/odoo/odoo/pull/197047,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643760564, 'issue_id': 2838881160, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197047.png)](https://mergebot.odoo.com/odoo/odoo/pull/197047)', 'created_at': datetime.datetime(2025, 2, 7, 19, 2, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643760614, 'issue_id': 2838881160, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 2, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:02:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197047.png)](https://mergebot.odoo.com/odoo/odoo/pull/197047)

fw-bot (Issue Creator) on (2025-02-07 19:02:28 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838879740,pull_request,open,,[FW][FIX] account_payment: display refundable amount correctly for all users,"## Versions:
17.0+
No fix needed in 16.0 as the field was not computed and this changes with https://github.com/odoo/odoo/commit/7e012dd5441e87ce3c2688f9280381b041b00b0d

## Issue:
A payment to be refunded is displayed as already refunded in the wizard for some users.

## Steps to reproduce:
Ensure the `Demo` payment provider is enabled in `Test Mode`. Ensure you are logged in as Admin user.
- Navigate to the `Invoicing` app:
    - Create a new customer invoice and confirm it;
- Navigate to the Portal using the invoice's `Preview` button:
    - Pay the invoice with the `Demo` provider with a `Successful` Payment status;
- Come back to edit mode:
    - At the bottom of the form, click the information icon in the totalization section;
    - Click the `View` button of the popover;
    - Click the `Refund` button and remember the data;
- Copy the URL;
- Log out and log back in as Demo user;
- Paste the URL to come back to the payment:
    - Click the `Refund` button: - See the `Refunded Amount` value equal to the `Payment Amount`; - See the `Maximum Refund Allowed` value set to 0;

## Cause:
The maximal refundable amount can't be computed for users who don't have `Payment Provider` model access rights.

## Fix:
Compute the amount in `sudo` mode to bypass user's `Payment Provider` model access rights.


opw-4396372

Forward-Port-Of: odoo/odoo#194871",fw-bot,2025-02-07 19:01:53+00:00,[],2025-02-07 20:00:17+00:00,,https://github.com/odoo/odoo/pull/197046,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643759214, 'issue_id': 2838879740, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197046.png)](https://mergebot.odoo.com/odoo/odoo/pull/197046)', 'created_at': datetime.datetime(2025, 2, 7, 19, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643759233, 'issue_id': 2838879740, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 1, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:01:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197046.png)](https://mergebot.odoo.com/odoo/odoo/pull/197046)

fw-bot (Issue Creator) on (2025-02-07 19:01:55 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838878832,pull_request,open,,"[FW][IMP] l10n_pk, l10n_ae, l10n_eg, l10n_sa, *: Improve Module Descriptions","Description of the issue/feature this PR addresses:
ticket id: https://www.odoo.com/odoo/my-tasks/4179478

Current behavior before PR:
- MENA l10n module descriptions were uncomplete or unconsistent

Desired behavior after PR is merged:
- improve l10n module description for MENA



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196401
Forward-Port-Of: odoo/odoo#190703",fw-bot,2025-02-07 19:01:31+00:00,[],2025-02-07 20:00:19+00:00,,https://github.com/odoo/odoo/pull/197045,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643757755, 'issue_id': 2838878832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197045.png)](https://mergebot.odoo.com/odoo/odoo/pull/197045)', 'created_at': datetime.datetime(2025, 2, 7, 19, 1, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643757792, 'issue_id': 2838878832, 'author': 'fw-bot', 'body': '@alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190703 failed.\n\n* 796b434dbd7b862dde1a69b1f526972853077f60 <- on this commit\n* 66cbe90cfab43163ab51b3a79eeefe8e40202720\n* f0e3abeabb3cbdb93a559e84a5883e4033b6277d\n* a5c4643dc81b7dccdf2bf32bd82233edc664585e\n\nstdout:\n```\nAuto-merging addons/l10n_sa/__manifest__.py\nCONFLICT (content): Merge conflict in addons/l10n_sa/__manifest__.py\nAuto-merging addons/l10n_sa_pos/__manifest__.py\nAuto-merging odoo/addons/base/i18n/base.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 19, 1, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 19:01:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197045.png)](https://mergebot.odoo.com/odoo/odoo/pull/197045)

fw-bot (Issue Creator) on (2025-02-07 19:01:35 UTC): @alny-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#190703 failed.

* 796b434dbd7b862dde1a69b1f526972853077f60 <- on this commit
* 66cbe90cfab43163ab51b3a79eeefe8e40202720
* f0e3abeabb3cbdb93a559e84a5883e4033b6277d
* a5c4643dc81b7dccdf2bf32bd82233edc664585e

stdout:
```
Auto-merging addons/l10n_sa/__manifest__.py
CONFLICT (content): Merge conflict in addons/l10n_sa/__manifest__.py
Auto-merging addons/l10n_sa_pos/__manifest__.py
Auto-merging odoo/addons/base/i18n/base.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838860281,pull_request,open,,[FW][FIX] account: fix access error for `tax_string` field in `product.template` model,"Repro steps:
- Add `Tax String` to `Product Page Extra Fields` for one of your websites
- Add taxes from a company that isn't linked to that website for one of your products
- Open that product's product page in eCommerce
- You get an access error

The issue is that we try to read the taxes for all companies when opening the product page. Instead, we should only read the taxes for the current company.

opw-4435721

Forward-Port-Of: odoo/odoo#194881",fw-bot,2025-02-07 18:53:33+00:00,[],2025-02-07 19:00:11+00:00,,https://github.com/odoo/odoo/pull/197044,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643732538, 'issue_id': 2838860281, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197044.png)](https://mergebot.odoo.com/odoo/odoo/pull/197044)', 'created_at': datetime.datetime(2025, 2, 7, 18, 53, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643732548, 'issue_id': 2838860281, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 53, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:53:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197044.png)](https://mergebot.odoo.com/odoo/odoo/pull/197044)

fw-bot (Issue Creator) on (2025-02-07 18:53:35 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838855413,pull_request,open,,[FW][ADD] l10n_ch_hr_payroll_elm_account: Add accounting rules for Swissdec Payrol,"Related Enterprise PR : https://github.com/odoo/enterprise/pull/64454

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196891
Forward-Port-Of: odoo/odoo#194627",fw-bot,2025-02-07 18:50:18+00:00,[],2025-02-07 19:00:12+00:00,,https://github.com/odoo/odoo/pull/197043,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643727568, 'issue_id': 2838855413, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197043.png)](https://mergebot.odoo.com/odoo/odoo/pull/197043)', 'created_at': datetime.datetime(2025, 2, 7, 18, 50, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643727592, 'issue_id': 2838855413, 'author': 'fw-bot', 'body': '@jugj-odoo @tivisse while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78885) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 50, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:50:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197043.png)](https://mergebot.odoo.com/odoo/odoo/pull/197043)

fw-bot (Issue Creator) on (2025-02-07 18:50:24 UTC): @jugj-odoo @tivisse while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78885) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838831008,pull_request,open,,[FW][FIX] hr_recruitment: click on applicant_char widget,"Scenario:

- install hr_recruitment but not documents (to have the right view)
- go to Employee > Configuration > Recruitment | Job Positions
- choose a job positions with documents and click on Documents
- click on Applicant column on one of the rows

=> traceback shown:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean
  at Object.validateProps

Reason:

In saas-17.2 with a7586fdb4123481fd8794ef99fdc372e95de7459 merged in february 2024, many2one_reference was changed from a simple integer to either 0 if unset, or a object containing resId and displayName keys.

Fix:

Get the id with .resId and this should not happen, but test if the record is set with ""if(res_id && ...)"" in case res_id was 0.

Note: without the fix, the added test fails by opening the view if res_id was 0, and if not the next click would fail with:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean

opw-4384139

PR note: the test could be run without mails models, but then we would need to mock a lot of models for services (like `mail.ChatHub`) or a method like `prepareRegistry` [from studio](https://github.com/odoo/enterprise/blob/f5b7b53963829b351446e9b6f71e00f21291bc58/web_studio/static/tests/view_editor_tests_utils.js#L123-L153) that would remove all unnecessary services for the test.

Forward-Port-Of: odoo/odoo#191510",fw-bot,2025-02-07 18:37:01+00:00,[],2025-02-07 19:00:13+00:00,,https://github.com/odoo/odoo/pull/197042,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643706122, 'issue_id': 2838831008, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197042.png)](https://mergebot.odoo.com/odoo/odoo/pull/197042)', 'created_at': datetime.datetime(2025, 2, 7, 18, 37, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643706148, 'issue_id': 2838831008, 'author': 'fw-bot', 'body': '@nle-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197029\n* odoo/odoo#197011\n* odoo/odoo#196992\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 37, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:37:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197042.png)](https://mergebot.odoo.com/odoo/odoo/pull/197042)

fw-bot (Issue Creator) on (2025-02-07 18:37:03 UTC): @nle-odoo @Bertrand2 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197029
* odoo/odoo#197011
* odoo/odoo#196992

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838822582,pull_request,open,,[FW][FIX] hr_attendance: correctly declare props,"## Description of the issue/feature this PR addresses
Unable to reach Kiosk mode while in debug mode due to props validation
```
Error: Invalid props for component 'kioskAttendanceApp': unknown key 'token', unknown key 'companyId', unknown key 'companyName', unknown key 'employees', unknown key 'departments', unknown key 'kioskMode', unknown key 'barcodeSource'
```

### Steps to reproduce 
- Install `hr_attendance`
- Open Kiosk Mode
- Enable debug mode
=> Blank screen


## Current behavior before PR
Before this commit, when we were in debug mode, we couldn't access Kiosk mode (white screen with message in console). This was because the props were not fully declared, and, in debug mode, we validated the props here : https://github.com/odoo/odoo/blob/c3e7ee585a58fc07c11d07677d1d64dbd357d6b7/addons/web/static/lib/owl/owl.js#L5715-L5717 As the components are only used in one place each, I've updated the props declaration to match the usage.

Forward-Port-Of: odoo/odoo#195831
Forward-Port-Of: odoo/odoo#189412",fw-bot,2025-02-07 18:31:42+00:00,[],2025-02-07 19:00:14+00:00,,https://github.com/odoo/odoo/pull/197041,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643697302, 'issue_id': 2838822582, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197041.png)](https://mergebot.odoo.com/odoo/odoo/pull/197041)', 'created_at': datetime.datetime(2025, 2, 7, 18, 31, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643697318, 'issue_id': 2838822582, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 31, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:31:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197041.png)](https://mergebot.odoo.com/odoo/odoo/pull/197041)

fw-bot (Issue Creator) on (2025-02-07 18:31:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838804962,pull_request,closed,,[FW][FIX] website_sale: allow browser history navigation on product pages,"Versions
--------
- saas-17.4+

Steps
-----
1. Go eCommerce products page;
2. click on a product;
3. use browser's ""Go back"" button to go back.

Issue
-----
There's no going back.

Cause
-----
PR https://github.com/odoo/odoo/pull/157412 modified the `_setUrlHash` method used to manage product attributes. One of the changes it made is modified the current URL using `window.location.hash` instead of `window.location.replace`.

While both methods can make identical changes to the URL, a key side-effect of `Location:replace()` is that the URL being replaced won't get saved in the session's `History`[^1].

As this method is called the moment the page loads, modifying the URL via `location.hash` will store the initial product page URL without attribute hashes in the session history. Then when trying to navigate back, the method will be called again immediately to apply attribute hashes, again modifying the session history, making it virtually impossible to leave the page without clicking a new URL.

Solution
--------
Use `history.replaceState`[^2] to update the current state, and not create any new entries.

Also re-introduce early return when there are no product attributes to avoid polluting URLs, originally added in https://github.com/odoo/odoo/pull/159474 but removed via https://github.com/odoo/odoo/pull/157412.

opw-4416701

[^1]: https://developer.mozilla.org/en-US/docs/Web/API/Location/replace
[^2]: https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState

Forward-Port-Of: odoo/odoo#196858
Forward-Port-Of: odoo/odoo#194712",fw-bot,2025-02-07 18:20:43+00:00,[],2025-02-08 06:14:55+00:00,2025-02-08 06:14:54+00:00,https://github.com/odoo/odoo/pull/197040,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2643679869, 'issue_id': 2838804962, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197040.png)](https://mergebot.odoo.com/odoo/odoo/pull/197040)', 'created_at': datetime.datetime(2025, 2, 7, 18, 20, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643679879, 'issue_id': 2838804962, 'author': 'fw-bot', 'body': '@lvsz this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197020\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 20, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644085092, 'issue_id': 2838804962, 'author': 'lvsz', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 20, 41, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:20:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197040.png)](https://mergebot.odoo.com/odoo/odoo/pull/197040)

fw-bot (Issue Creator) on (2025-02-07 18:20:45 UTC): @lvsz this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197020

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-02-07 20:41:46 UTC): @robodoo r+

"
2838792994,pull_request,open,,[FW][IMP] account - imported line shouldn't change tax,"[IMP] account - imported line shouldn't change tax

Foward-port https://github.com/odoo/odoo/pull/193483 messed up and
removed important code of https://github.com/odoo/odoo/pull/172787.

This commit adds it back.

task-4547597

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196801",fw-bot,2025-02-07 18:13:45+00:00,[],2025-02-07 19:00:17+00:00,,https://github.com/odoo/odoo/pull/197039,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643667717, 'issue_id': 2838792994, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197039.png)](https://mergebot.odoo.com/odoo/odoo/pull/197039)', 'created_at': datetime.datetime(2025, 2, 7, 18, 13, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643667734, 'issue_id': 2838792994, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 13, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:13:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197039.png)](https://mergebot.odoo.com/odoo/odoo/pull/197039)

fw-bot (Issue Creator) on (2025-02-07 18:13:46 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838792418,pull_request,open,,[FW][FIX] account: basic user report rights,"With the introduction of Invoicing Enterprise (access to bank recon etc) a new user group was created ""Invoicing & Banks"" (`group_account_basic`) This group should also be able to access the customer statement / partner ledger (from the partner smart button)

Task-4465208

Forward-Port-Of: odoo/odoo#196936",fw-bot,2025-02-07 18:13:22+00:00,[],2025-02-07 19:00:18+00:00,,https://github.com/odoo/odoo/pull/197038,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643667191, 'issue_id': 2838792418, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197038.png)](https://mergebot.odoo.com/odoo/odoo/pull/197038)', 'created_at': datetime.datetime(2025, 2, 7, 18, 13, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643667237, 'issue_id': 2838792418, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 13, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643743146, 'issue_id': 2838792418, 'author': 'fw-bot', 'body': '@h4818 @jbw-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 18, 57, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:13:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197038.png)](https://mergebot.odoo.com/odoo/odoo/pull/197038)

fw-bot (Issue Creator) on (2025-02-07 18:13:27 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 18:57:48 UTC): @h4818 @jbw-odoo ci/runbot failed on this forward-port PR

"
2838791323,pull_request,open,,[FW][FIX] html_editor: apply font-size on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196943",fw-bot,2025-02-07 18:12:42+00:00,[],2025-02-07 19:00:19+00:00,,https://github.com/odoo/odoo/pull/197037,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643666037, 'issue_id': 2838791323, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197037.png)](https://mergebot.odoo.com/odoo/odoo/pull/197037)', 'created_at': datetime.datetime(2025, 2, 7, 18, 12, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643666054, 'issue_id': 2838791323, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 12, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:12:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197037.png)](https://mergebot.odoo.com/odoo/odoo/pull/197037)

fw-bot (Issue Creator) on (2025-02-07 18:12:44 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838787564,pull_request,open,,[FW][FIX] point_of_sale: prevent screensaver from updating  previousScreen,"Before this commit, when the login screen was left idle using an employee login, the screensaver would appear as expected. However, upon user interaction (e.g., moving the mouse), the system would update the previous screen to the screen saver. This causing issues during login where the screensaver would be displayed.

opw-4494087


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196472",fw-bot,2025-02-07 18:10:24+00:00,[],2025-02-07 19:00:20+00:00,,https://github.com/odoo/odoo/pull/197036,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643661808, 'issue_id': 2838787564, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197036.png)](https://mergebot.odoo.com/odoo/odoo/pull/197036)', 'created_at': datetime.datetime(2025, 2, 7, 18, 10, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643661844, 'issue_id': 2838787564, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197022\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 10, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:10:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197036.png)](https://mergebot.odoo.com/odoo/odoo/pull/197036)

fw-bot (Issue Creator) on (2025-02-07 18:10:26 UTC): @pedrambiria @davidmonnom this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197022

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838778120,pull_request,open,,[FW][IMP] l10n_sk: new VAT rates for 2025,"Since 1 January 2025, the VAT rates in Slovakia have increased from 20% to 23% and from 10% to 19%. This commit adds the new taxes and updates the fiscal position accordingly.

task-4502344

Forward-Port-Of: odoo/odoo#194686",fw-bot,2025-02-07 18:04:36+00:00,[],2025-02-07 19:00:21+00:00,,https://github.com/odoo/odoo/pull/197035,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643646037, 'issue_id': 2838778120, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197035.png)](https://mergebot.odoo.com/odoo/odoo/pull/197035)', 'created_at': datetime.datetime(2025, 2, 7, 18, 4, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643646055, 'issue_id': 2838778120, 'author': 'fw-bot', 'body': '@alialfie @gawa-odoo cherrypicking of pull request odoo/odoo#194686 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_eu_oss/models/eu_tax_map.py\nCONFLICT (content): Merge conflict in addons/l10n_eu_oss/models/eu_tax_map.py\nAuto-merging addons/l10n_sk/__manifest__.py\nCONFLICT (content): Merge conflict in addons/l10n_sk/__manifest__.py\nCONFLICT (modify/delete): addons/l10n_sk/data/account_fiscal_position_data.xml deleted in 41b901e7b15fc031904b0c2e300e99d86388f66f and modified in 72bb45ee630bb12132a211a20cffd80c8a2078a5.  Version 72bb45ee630bb12132a211a20cffd80c8a2078a5 of addons/l10n_sk/data/account_fiscal_position_data.xml left in tree.\nCONFLICT (modify/delete): addons/l10n_sk/data/account_tax_data.xml deleted in 41b901e7b15fc031904b0c2e300e99d86388f66f and modified in 72bb45ee630bb12132a211a20cffd80c8a2078a5.  Version 72bb45ee630bb12132a211a20cffd80c8a2078a5 of addons/l10n_sk/data/account_tax_data.xml left in tree.\nCONFLICT (modify/delete): addons/l10n_sk/data/account_tax_group_data.xml deleted in 41b901e7b15fc031904b0c2e300e99d86388f66f and modified in 72bb45ee630bb12132a211a20cffd80c8a2078a5.  Version 72bb45ee630bb12132a211a20cffd80c8a2078a5 of addons/l10n_sk/data/account_tax_group_data.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 4, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:04:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197035.png)](https://mergebot.odoo.com/odoo/odoo/pull/197035)

fw-bot (Issue Creator) on (2025-02-07 18:04:38 UTC): @alialfie @gawa-odoo cherrypicking of pull request odoo/odoo#194686 failed.

stdout:
```
Auto-merging addons/l10n_eu_oss/models/eu_tax_map.py
CONFLICT (content): Merge conflict in addons/l10n_eu_oss/models/eu_tax_map.py
Auto-merging addons/l10n_sk/__manifest__.py
CONFLICT (content): Merge conflict in addons/l10n_sk/__manifest__.py
CONFLICT (modify/delete): addons/l10n_sk/data/account_fiscal_position_data.xml deleted in 41b901e7b15fc031904b0c2e300e99d86388f66f and modified in 72bb45ee630bb12132a211a20cffd80c8a2078a5.  Version 72bb45ee630bb12132a211a20cffd80c8a2078a5 of addons/l10n_sk/data/account_fiscal_position_data.xml left in tree.
CONFLICT (modify/delete): addons/l10n_sk/data/account_tax_data.xml deleted in 41b901e7b15fc031904b0c2e300e99d86388f66f and modified in 72bb45ee630bb12132a211a20cffd80c8a2078a5.  Version 72bb45ee630bb12132a211a20cffd80c8a2078a5 of addons/l10n_sk/data/account_tax_data.xml left in tree.
CONFLICT (modify/delete): addons/l10n_sk/data/account_tax_group_data.xml deleted in 41b901e7b15fc031904b0c2e300e99d86388f66f and modified in 72bb45ee630bb12132a211a20cffd80c8a2078a5.  Version 72bb45ee630bb12132a211a20cffd80c8a2078a5 of addons/l10n_sk/data/account_tax_group_data.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838777107,pull_request,open,,[FW][FIX] stock: Prevent Draft moves on Done picking,"## How to Reproduce:
- Create products P1 & P2, storable
- Create receipt picking for 1 unit of P1 -> Confirm
- Open receipt in 2 browser tabs.
- In Tab 1, add a new operation line for 1 unit of P2. !Do Not Save!
- In Tab 2, validate the receipt.
- In Tab 1, save. => Picking went from Ready -> Done -> Ready. Move P1 state = 'done' while move P2 state ='assigned'

## Solution:
When a move is added to a Done picking, we change the state of the move to done, and the move is treated like it was added to a Done unlocked picking.

OPW-3919976

Forward-Port-Of: odoo/odoo#196161",fw-bot,2025-02-07 18:04:08+00:00,[],2025-02-07 19:00:22+00:00,,https://github.com/odoo/odoo/pull/197034,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643644962, 'issue_id': 2838777107, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197034.png)](https://mergebot.odoo.com/odoo/odoo/pull/197034)', 'created_at': datetime.datetime(2025, 2, 7, 18, 4, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643644988, 'issue_id': 2838777107, 'author': 'fw-bot', 'body': '@DavidFesquet @ticodoo cherrypicking of pull request odoo/odoo#196161 failed.\n\nstdout:\n```\nAuto-merging addons/stock/models/stock_move.py\nCONFLICT (content): Merge conflict in addons/stock/models/stock_move.py\nAuto-merging addons/stock/tests/test_robustness.py\nCONFLICT (content): Merge conflict in addons/stock/tests/test_robustness.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 4, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:04:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197034.png)](https://mergebot.odoo.com/odoo/odoo/pull/197034)

fw-bot (Issue Creator) on (2025-02-07 18:04:10 UTC): @DavidFesquet @ticodoo cherrypicking of pull request odoo/odoo#196161 failed.

stdout:
```
Auto-merging addons/stock/models/stock_move.py
CONFLICT (content): Merge conflict in addons/stock/models/stock_move.py
Auto-merging addons/stock/tests/test_robustness.py
CONFLICT (content): Merge conflict in addons/stock/tests/test_robustness.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838776549,pull_request,open,,[FW][FIX] account - profit and loss account domain,"The domain on the view overrides the domain on the model.

As both domains are correct, this commit moves the partial domain on the view and adds it to the partial domain on the model.

task-4514485

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196851",fw-bot,2025-02-07 18:03:46+00:00,[],2025-02-07 19:00:23+00:00,,https://github.com/odoo/odoo/pull/197033,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643643553, 'issue_id': 2838776549, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197033.png)](https://mergebot.odoo.com/odoo/odoo/pull/197033)', 'created_at': datetime.datetime(2025, 2, 7, 18, 3, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643643668, 'issue_id': 2838776549, 'author': 'fw-bot', 'body': '@rugo-odoo @jbw-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#197021\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 18, 3, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:03:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197033.png)](https://mergebot.odoo.com/odoo/odoo/pull/197033)

fw-bot (Issue Creator) on (2025-02-07 18:03:48 UTC): @rugo-odoo @jbw-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#197021

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838771846,pull_request,open,,[FIX] website_sale_loyalty: Cart Update Inheritance,"When having other modules that depend on the module, if they make an inheritance of the method `_cart_update` like it is on the original method from module `website_sale` (with parameters and then `kwargs`) the inheritance of this module fails, because neither `product_id` nor `set_qty` came on the `kwargs` values instead they came in the `args`.

![Website Loyalty error](https://github.com/user-attachments/assets/ebe7a8dc-7b7c-4f11-8064-bcc7c24218bf)

![Website Loyalty error with PDB](https://github.com/user-attachments/assets/2bf85807-f230-4e65-9090-b6c1e390682e)


By inheriting the way the original method is set, it will avoid having to check on the `args` or `kwargs` for the `product_id` and `set_qty` values and use the parameters instead.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",CarmenMiranda,2025-02-07 18:00:50+00:00,[],2025-02-07 19:00:25+00:00,,https://github.com/odoo/odoo/pull/197032,"[('Website', '')]","[{'comment_id': 2643625501, 'issue_id': 2838771846, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197032.png)](https://mergebot.odoo.com/odoo/odoo/pull/197032)', 'created_at': datetime.datetime(2025, 2, 7, 18, 0, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 18:00:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197032.png)](https://mergebot.odoo.com/odoo/odoo/pull/197032)

"
2838734615,pull_request,open,,[FIX] pos_sale: ,"[WIP]

Steps to reproduce:
-

Why that happens:
....

The fix:
...

opw-4375941
opw-4457592
opw-4490398
",hadielyakhni,2025-02-07 17:38:01+00:00,[],2025-02-08 07:20:28+00:00,,https://github.com/odoo/odoo/pull/197031,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2643575270, 'issue_id': 2838734615, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197031.png)](https://mergebot.odoo.com/odoo/odoo/pull/197031)', 'created_at': datetime.datetime(2025, 2, 7, 17, 38, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:38:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197031.png)](https://mergebot.odoo.com/odoo/odoo/pull/197031)

"
2838722989,pull_request,open,,[FW] 17.0 recaptcha signup brvg,"Continuation of https://github.com/odoo/odoo/pull/185073

Forward-Port-Of: odoo/odoo#196811
Forward-Port-Of: odoo/odoo#190196",fw-bot,2025-02-07 17:32:58+00:00,[],2025-02-07 18:00:11+00:00,,https://github.com/odoo/odoo/pull/197030,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643563617, 'issue_id': 2838722989, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197030.png)](https://mergebot.odoo.com/odoo/odoo/pull/197030)', 'created_at': datetime.datetime(2025, 2, 7, 17, 32, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643563635, 'issue_id': 2838722989, 'author': 'fw-bot', 'body': '@bram1000 @beledouxdenis cherrypicking of pull request odoo/odoo#190196 failed.\n\nstdout:\n```\nAuto-merging addons/auth_signup/i18n/auth_signup.pot\nAuto-merging addons/website_cf_turnstile/static/src/js/turnstile.js\nCONFLICT (content): Merge conflict in addons/website_cf_turnstile/static/src/js/turnstile.js\nAuto-merging odoo/addons/base/models/ir_http.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:32:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197030.png)](https://mergebot.odoo.com/odoo/odoo/pull/197030)

fw-bot (Issue Creator) on (2025-02-07 17:33:00 UTC): @bram1000 @beledouxdenis cherrypicking of pull request odoo/odoo#190196 failed.

stdout:
```
Auto-merging addons/auth_signup/i18n/auth_signup.pot
Auto-merging addons/website_cf_turnstile/static/src/js/turnstile.js
CONFLICT (content): Merge conflict in addons/website_cf_turnstile/static/src/js/turnstile.js
Auto-merging odoo/addons/base/models/ir_http.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838715683,pull_request,open,,[FW][FIX] hr_recruitment: click on applicant_char widget,"Scenario:

- install hr_recruitment but not documents (to have the right view)
- go to Employee > Configuration > Recruitment | Job Positions
- choose a job positions with documents and click on Documents
- click on Applicant column on one of the rows

=> traceback shown:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean
  at Object.validateProps

Reason:

In saas-17.2 with a7586fdb4123481fd8794ef99fdc372e95de7459 merged in february 2024, many2one_reference was changed from a simple integer to either 0 if unset, or a object containing resId and displayName keys.

Fix:

Get the id with .resId and this should not happen, but test if the record is set with ""if(res_id && ...)"" in case res_id was 0.

Note: without the fix, the added test fails by opening the view if res_id was 0, and if not the next click would fail with:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean

opw-4384139

PR note: the test could be run without mails models, but then we would need to mock a lot of models for services (like `mail.ChatHub`) or a method like `prepareRegistry` [from studio](https://github.com/odoo/enterprise/blob/f5b7b53963829b351446e9b6f71e00f21291bc58/web_studio/static/tests/view_editor_tests_utils.js#L123-L153) that would remove all unnecessary services for the test.

Forward-Port-Of: odoo/odoo#191510",fw-bot,2025-02-07 17:29:17+00:00,[],2025-02-07 18:00:12+00:00,,https://github.com/odoo/odoo/pull/197029,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643556143, 'issue_id': 2838715683, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197029.png)](https://mergebot.odoo.com/odoo/odoo/pull/197029)', 'created_at': datetime.datetime(2025, 2, 7, 17, 29, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643556187, 'issue_id': 2838715683, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 29, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:29:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197029.png)](https://mergebot.odoo.com/odoo/odoo/pull/197029)

fw-bot (Issue Creator) on (2025-02-07 17:29:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838713924,pull_request,open,,[FW][FIX] hr_attendance: correctly declare props,"## Description of the issue/feature this PR addresses
Unable to reach Kiosk mode while in debug mode due to props validation
```
Error: Invalid props for component 'kioskAttendanceApp': unknown key 'token', unknown key 'companyId', unknown key 'companyName', unknown key 'employees', unknown key 'departments', unknown key 'kioskMode', unknown key 'barcodeSource'
```

### Steps to reproduce 
- Install `hr_attendance`
- Open Kiosk Mode
- Enable debug mode
=> Blank screen


## Current behavior before PR
Before this commit, when we were in debug mode, we couldn't access Kiosk mode (white screen with message in console). This was because the props were not fully declared, and, in debug mode, we validated the props here : https://github.com/odoo/odoo/blob/c3e7ee585a58fc07c11d07677d1d64dbd357d6b7/addons/web/static/lib/owl/owl.js#L5715-L5717 As the components are only used in one place each, I've updated the props declaration to match the usage.

Forward-Port-Of: odoo/odoo#195831
Forward-Port-Of: odoo/odoo#189412",fw-bot,2025-02-07 17:28:17+00:00,[],2025-02-07 18:00:14+00:00,,https://github.com/odoo/odoo/pull/197028,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643554013, 'issue_id': 2838713924, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197028.png)](https://mergebot.odoo.com/odoo/odoo/pull/197028)', 'created_at': datetime.datetime(2025, 2, 7, 17, 28, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643554036, 'issue_id': 2838713924, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 28, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:28:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197028.png)](https://mergebot.odoo.com/odoo/odoo/pull/197028)

fw-bot (Issue Creator) on (2025-02-07 17:28:19 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838712610,pull_request,open,,[FW][ADD] sale_gelato: integrate with Gelato for Print-On-Demand,"This commit adds the possibility to fetch attributes of a template
configured on Gelato to automatically create the corresponding variants
in Odoo. When such variant is included in a sales order, the order is
forwarded to Gelato to trigger the printing and dropshipping of the
product.

task-3935688

See also:
- https://github.com/odoo/enterprise/pull/77839
- https://github.com/odoo/documentation/pull/11823

Forward-Port-Of: odoo/odoo#196897
Forward-Port-Of: odoo/odoo#193457",fw-bot,2025-02-07 17:27:31+00:00,[],2025-02-07 18:00:15+00:00,,https://github.com/odoo/odoo/pull/197027,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643552343, 'issue_id': 2838712610, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197027.png)](https://mergebot.odoo.com/odoo/odoo/pull/197027)', 'created_at': datetime.datetime(2025, 2, 7, 17, 27, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643552384, 'issue_id': 2838712610, 'author': 'fw-bot', 'body': '@anko-odoo @AntoineVDV cherrypicking of pull request odoo/odoo#193457 failed.\n\n* 03abac18f865d0335cd54e8c6c19401b3432f7f4 <- on this commit\n* 5a846056f928d5181e248edbf0b491ab7457e5e5\n\nstdout:\n```\nAuto-merging .tx/config\nAuto-merging addons/product/models/product_template.py\nCONFLICT (content): Merge conflict in addons/product/models/product_template.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 27, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:27:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197027.png)](https://mergebot.odoo.com/odoo/odoo/pull/197027)

fw-bot (Issue Creator) on (2025-02-07 17:27:37 UTC): @anko-odoo @AntoineVDV cherrypicking of pull request odoo/odoo#193457 failed.

* 03abac18f865d0335cd54e8c6c19401b3432f7f4 <- on this commit
* 5a846056f928d5181e248edbf0b491ab7457e5e5

stdout:
```
Auto-merging .tx/config
Auto-merging addons/product/models/product_template.py
CONFLICT (content): Merge conflict in addons/product/models/product_template.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838711651,pull_request,open,,[FW][FIX] point_of_sale: loading ticket screen,"This fix prevent blank screen (when offline) & inifinte loop (when in 3G or other low connection) on order screen.

- **Offline Mode:** When accessing the order screen offline, now the screen loads previously fetched orders and displays a ""Limited Functionality"" popup.
- **Slow Connection (3G):** Infinite loop (caused by repeated call to  `await this.pos.getServerOrders()`)  is fixed by ensuring orders load only once, even on slow connections using the flag `loadingOrderState`

task-id: 4550978

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196971
Forward-Port-Of: odoo/odoo#196810",fw-bot,2025-02-07 17:26:58+00:00,[],2025-02-07 18:00:16+00:00,,https://github.com/odoo/odoo/pull/197026,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643551226, 'issue_id': 2838711651, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197026.png)](https://mergebot.odoo.com/odoo/odoo/pull/197026)', 'created_at': datetime.datetime(2025, 2, 7, 17, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643551243, 'issue_id': 2838711651, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:27:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197026.png)](https://mergebot.odoo.com/odoo/odoo/pull/197026)

fw-bot (Issue Creator) on (2025-02-07 17:27:00 UTC): @manv-afk @adgu-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838711092,pull_request,open,,[FW][FIX] mrp: fix test_workcenter_with_resource_calendar_from_another_compa,"Running the “test_workcenter_with_resource_calendar_from_another_company”
without demo data occurs an error because the resource calendar.

Forward-Port-Of: odoo/odoo#196768
Forward-Port-Of: odoo/odoo#196656",fw-bot,2025-02-07 17:26:38+00:00,[],2025-02-07 18:00:17+00:00,,https://github.com/odoo/odoo/pull/197025,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643551051, 'issue_id': 2838711092, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197025.png)](https://mergebot.odoo.com/odoo/odoo/pull/197025)', 'created_at': datetime.datetime(2025, 2, 7, 17, 26, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643551075, 'issue_id': 2838711092, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 26, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:26:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197025.png)](https://mergebot.odoo.com/odoo/odoo/pull/197025)

fw-bot (Issue Creator) on (2025-02-07 17:26:54 UTC): @DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838662949,pull_request,closed,,[FW][FIX] website_sale_stock: Don't cache user_email,"`#wsale_user_email` is used to prefill the email when the product is out of stock and the user wants to receive restock notifications. When different users access the same product, the email ends up being reused which is not desirable.

Task ID: [#4471810](https://www.odoo.com/odoo/my-tasks/4471810) (vdin)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196496",fw-bot,2025-02-07 17:04:32+00:00,[],2025-02-07 21:41:00+00:00,2025-02-07 21:41:00+00:00,https://github.com/odoo/odoo/pull/197024,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643496509, 'issue_id': 2838662949, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197024.png)](https://mergebot.odoo.com/odoo/odoo/pull/197024)', 'created_at': datetime.datetime(2025, 2, 7, 17, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643496527, 'issue_id': 2838662949, 'author': 'fw-bot', 'body': '@vdin-odoo @Feyensv this PR targets 17.0 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643684464, 'issue_id': 2838662949, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 18, 23, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:04:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197024.png)](https://mergebot.odoo.com/odoo/odoo/pull/197024)

fw-bot (Issue Creator) on (2025-02-07 17:04:34 UTC): @vdin-odoo @Feyensv this PR targets 17.0 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-02-07 18:23:38 UTC): @robodoo r+

"
2838662302,pull_request,closed,,[FW][FIX] account: on posted invoice it's change sequence number if journal_id key in write vals,"if they use import export or any automated action that write same journal then it's take new number. here assume that journal_id is only change on draft and if posted then it's raise error but not consider what is same journal_id come to write.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196777",fw-bot,2025-02-07 17:04:11+00:00,[],2025-02-08 10:27:45+00:00,2025-02-08 10:27:45+00:00,https://github.com/odoo/odoo/pull/197023,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643495766, 'issue_id': 2838662302, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197023.png)](https://mergebot.odoo.com/odoo/odoo/pull/197023)', 'created_at': datetime.datetime(2025, 2, 7, 17, 4, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643495790, 'issue_id': 2838662302, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 17, 4, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643654519, 'issue_id': 2838662302, 'author': 'fw-bot', 'body': '@jva-odoo @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 18, 6, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 17:04:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197023.png)](https://mergebot.odoo.com/odoo/odoo/pull/197023)

fw-bot (Issue Creator) on (2025-02-07 17:04:13 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 18:06:55 UTC): @jva-odoo @william-andre ci/runbot failed on this forward-port PR

"
2838641919,pull_request,open,,[FW][FIX] point_of_sale: prevent screensaver from updating  previousScreen,"Before this commit, when the login screen was left idle using an employee login, the screensaver would appear as expected. However, upon user interaction (e.g., moving the mouse), the system would update the previous screen to the screen saver. This causing issues during login where the screensaver would be displayed.

opw-4494087


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196472",fw-bot,2025-02-07 16:55:22+00:00,[],2025-02-07 17:00:11+00:00,,https://github.com/odoo/odoo/pull/197022,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643476454, 'issue_id': 2838641919, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197022.png)](https://mergebot.odoo.com/odoo/odoo/pull/197022)', 'created_at': datetime.datetime(2025, 2, 7, 16, 55, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643476484, 'issue_id': 2838641919, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 55, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:55:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197022.png)](https://mergebot.odoo.com/odoo/odoo/pull/197022)

fw-bot (Issue Creator) on (2025-02-07 16:55:24 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838640682,pull_request,open,,[FW][FIX] account - profit and loss account domain,"The domain on the view overrides the domain on the model.

As both domains are correct, this commit moves the partial domain on the view and adds it to the partial domain on the model.

task-4514485

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196851",fw-bot,2025-02-07 16:55:01+00:00,[],2025-02-07 17:00:13+00:00,,https://github.com/odoo/odoo/pull/197021,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643475743, 'issue_id': 2838640682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197021.png)](https://mergebot.odoo.com/odoo/odoo/pull/197021)', 'created_at': datetime.datetime(2025, 2, 7, 16, 55, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643475771, 'issue_id': 2838640682, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 55, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:55:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197021.png)](https://mergebot.odoo.com/odoo/odoo/pull/197021)

fw-bot (Issue Creator) on (2025-02-07 16:55:03 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838639435,pull_request,closed,,[FW][FIX] website_sale: allow browser history navigation on product pages,"Versions
--------
- saas-17.4+

Steps
-----
1. Go eCommerce products page;
2. click on a product;
3. use browser's ""Go back"" button to go back.

Issue
-----
There's no going back.

Cause
-----
PR https://github.com/odoo/odoo/pull/157412 modified the `_setUrlHash` method used to manage product attributes. One of the changes it made is modified the current URL using `window.location.hash` instead of `window.location.replace`.

While both methods can make identical changes to the URL, a key side-effect of `Location:replace()` is that the URL being replaced won't get saved in the session's `History`[^1].

As this method is called the moment the page loads, modifying the URL via `location.hash` will store the initial product page URL without attribute hashes in the session history. Then when trying to navigate back, the method will be called again immediately to apply attribute hashes, again modifying the session history, making it virtually impossible to leave the page without clicking a new URL.

Solution
--------
Use `history.replaceState`[^2] to update the current state, and not create any new entries.

Also re-introduce early return when there are no product attributes to avoid polluting URLs, originally added in https://github.com/odoo/odoo/pull/159474 but removed via https://github.com/odoo/odoo/pull/157412.

opw-4416701

[^1]: https://developer.mozilla.org/en-US/docs/Web/API/Location/replace
[^2]: https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState

Forward-Port-Of: odoo/odoo#196858
Forward-Port-Of: odoo/odoo#194712",fw-bot,2025-02-07 16:54:40+00:00,[],2025-02-07 20:42:20+00:00,2025-02-07 19:55:45+00:00,https://github.com/odoo/odoo/pull/197020,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643474982, 'issue_id': 2838639435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197020.png)](https://mergebot.odoo.com/odoo/odoo/pull/197020)', 'created_at': datetime.datetime(2025, 2, 7, 16, 54, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643474998, 'issue_id': 2838639435, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 54, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643482898, 'issue_id': 2838639435, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 16, 58, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643574556, 'issue_id': 2838639435, 'author': 'robodoo', 'body': ""@lvsz 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 7, 17, 37, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:54:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197020.png)](https://mergebot.odoo.com/odoo/odoo/pull/197020)

fw-bot (Issue Creator) on (2025-02-07 16:54:48 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-02-07 16:58:20 UTC): robodoo r+

robodoo on (2025-02-07 17:37:51 UTC): @lvsz 'ci/runbot' failed on this reviewed PR.

"
2838596600,pull_request,open,,[FIX] stock_landed_cost: update the lot standard price correctly,"opw-4509006

",DjamelTouati,2025-02-07 16:37:40+00:00,[],2025-02-07 17:00:15+00:00,,https://github.com/odoo/odoo/pull/197019,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2643431757, 'issue_id': 2838596600, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197019.png)](https://mergebot.odoo.com/odoo/odoo/pull/197019)', 'created_at': datetime.datetime(2025, 2, 7, 16, 37, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:37:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197019.png)](https://mergebot.odoo.com/odoo/odoo/pull/197019)

"
2838587928,pull_request,open,,[IMP] point_of_sale: serial-lot number dialog title,"In this commit:
----
- Improved the dialog title for better clarity.
- Product name separated in title.

task-4551282


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",paso-odoo,2025-02-07 16:33:50+00:00,[],2025-02-07 17:00:16+00:00,,https://github.com/odoo/odoo/pull/197018,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643421822, 'issue_id': 2838587928, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197018.png)](https://mergebot.odoo.com/odoo/odoo/pull/197018)', 'created_at': datetime.datetime(2025, 2, 7, 16, 33, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:33:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197018.png)](https://mergebot.odoo.com/odoo/odoo/pull/197018)

"
2838584258,pull_request,open,,[FIX] account: invoice product name in both languages,"When an invoice is created, the system will automatically translate the strings into the customer language. In the printed pdf the customer will see just the translated terms. However, in the backend the user will see the original product name and the translated name + description.

Steps to reproduce:
- Have a user using a language [LANG1]
- Have a customer using a language [LANG2]
- Make an invoice to the customer, add a product with both name and description with translation available

Issue: The name of the product is duplicated, it appears in user language and customer language

opw-4444773

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",agr-odoo,2025-02-07 16:32:04+00:00,[],2025-02-07 17:00:17+00:00,,https://github.com/odoo/odoo/pull/197017,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2643417623, 'issue_id': 2838584258, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197017.png)](https://mergebot.odoo.com/odoo/odoo/pull/197017)', 'created_at': datetime.datetime(2025, 2, 7, 16, 32, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:32:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197017.png)](https://mergebot.odoo.com/odoo/odoo/pull/197017)

"
2838572141,pull_request,open,,[FW][FIX] account: fix access error for `tax_string` field in `product.template` model,"Repro steps:
- Add `Tax String` to `Product Page Extra Fields` for one of your websites
- Add taxes from a company that isn't linked to that website for one of your products
- Open that product's product page in eCommerce
- You get an access error

The issue is that we try to read the taxes for all companies when opening the product page. Instead, we should only read the taxes for the current company.

opw-4435721

Forward-Port-Of: odoo/odoo#194881",fw-bot,2025-02-07 16:27:35+00:00,[],2025-02-07 17:06:16+00:00,,https://github.com/odoo/odoo/pull/197016,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643404209, 'issue_id': 2838572141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197016.png)](https://mergebot.odoo.com/odoo/odoo/pull/197016)', 'created_at': datetime.datetime(2025, 2, 7, 16, 27, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643404224, 'issue_id': 2838572141, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 27, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643500440, 'issue_id': 2838572141, 'author': 'fw-bot', 'body': '@ltinel @Feyensv ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 17, 6, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:27:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197016.png)](https://mergebot.odoo.com/odoo/odoo/pull/197016)

fw-bot (Issue Creator) on (2025-02-07 16:27:37 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 17:06:14 UTC): @ltinel @Feyensv ci/runbot failed on this forward-port PR

"
2838567524,pull_request,open,,"[IMP] typing: orm.models, orm.fields","Typing update for models and fields methods. Not yet complete, but a step towards it.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-07 16:25:23+00:00,[],2025-02-07 17:00:20+00:00,,https://github.com/odoo/odoo/pull/197015,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643399356, 'issue_id': 2838567524, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197015.png)](https://mergebot.odoo.com/odoo/odoo/pull/197015)', 'created_at': datetime.datetime(2025, 2, 7, 16, 25, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:25:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197015.png)](https://mergebot.odoo.com/odoo/odoo/pull/197015)

"
2838565286,pull_request,open,,"[IMP] test, iap: remove low-level cache method usage","

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-07 16:24:14+00:00,[],2025-02-07 17:00:21+00:00,,https://github.com/odoo/odoo/pull/197014,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643397045, 'issue_id': 2838565286, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197014.png)](https://mergebot.odoo.com/odoo/odoo/pull/197014)', 'created_at': datetime.datetime(2025, 2, 7, 16, 24, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:24:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197014.png)](https://mergebot.odoo.com/odoo/odoo/pull/197014)

"
2838552101,pull_request,open,,LABISO GmbH CLA Sign,"This pull request includes an update to the `doc/cla/corporate/labiso.md` file. The change adds a new corporate contributor license agreement for LABISO GmbH, including the list of contributors.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",llabusch93,2025-02-07 16:17:33+00:00,[],2025-02-07 17:00:22+00:00,,https://github.com/odoo/odoo/pull/197013,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2643379949, 'issue_id': 2838552101, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197013.png)](https://mergebot.odoo.com/odoo/odoo/pull/197013)', 'created_at': datetime.datetime(2025, 2, 7, 16, 17, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:17:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197013.png)](https://mergebot.odoo.com/odoo/odoo/pull/197013)

"
2838546741,pull_request,open,,[FW][FIX] hr_attendance: correctly declare props,"## Description of the issue/feature this PR addresses
Unable to reach Kiosk mode while in debug mode due to props validation
```
Error: Invalid props for component 'kioskAttendanceApp': unknown key 'token', unknown key 'companyId', unknown key 'companyName', unknown key 'employees', unknown key 'departments', unknown key 'kioskMode', unknown key 'barcodeSource'
```

### Steps to reproduce 
- Install `hr_attendance`
- Open Kiosk Mode
- Enable debug mode
=> Blank screen


## Current behavior before PR
Before this commit, when we were in debug mode, we couldn't access Kiosk mode (white screen with message in console). This was because the props were not fully declared, and, in debug mode, we validated the props here : https://github.com/odoo/odoo/blob/c3e7ee585a58fc07c11d07677d1d64dbd357d6b7/addons/web/static/lib/owl/owl.js#L5715-L5717 As the components are only used in one place each, I've updated the props declaration to match the usage.

Forward-Port-Of: odoo/odoo#195831
Forward-Port-Of: odoo/odoo#189412",fw-bot,2025-02-07 16:14:49+00:00,[],2025-02-07 17:00:23+00:00,,https://github.com/odoo/odoo/pull/197012,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643368157, 'issue_id': 2838546741, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197012.png)](https://mergebot.odoo.com/odoo/odoo/pull/197012)', 'created_at': datetime.datetime(2025, 2, 7, 16, 14, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643368179, 'issue_id': 2838546741, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 14, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:14:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197012.png)](https://mergebot.odoo.com/odoo/odoo/pull/197012)

fw-bot (Issue Creator) on (2025-02-07 16:14:51 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838542778,pull_request,open,,[FW][FIX] hr_recruitment: click on applicant_char widget,"Scenario:

- install hr_recruitment but not documents (to have the right view)
- go to Employee > Configuration > Recruitment | Job Positions
- choose a job positions with documents and click on Documents
- click on Applicant column on one of the rows

=> traceback shown:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean
  at Object.validateProps

Reason:

In saas-17.2 with a7586fdb4123481fd8794ef99fdc372e95de7459 merged in february 2024, many2one_reference was changed from a simple integer to either 0 if unset, or a object containing resId and displayName keys.

Fix:

Get the id with .resId and this should not happen, but test if the record is set with ""if(res_id && ...)"" in case res_id was 0.

Note: without the fix, the added test fails by opening the view if res_id was 0, and if not the next click would fail with:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean

opw-4384139

PR note: the test could be run without mails models, but then we would need to mock a lot of models for services (like `mail.ChatHub`) or a method like `prepareRegistry` [from studio](https://github.com/odoo/enterprise/blob/f5b7b53963829b351446e9b6f71e00f21291bc58/web_studio/static/tests/view_editor_tests_utils.js#L123-L153) that would remove all unnecessary services for the test.

Forward-Port-Of: odoo/odoo#191510",fw-bot,2025-02-07 16:12:50+00:00,[],2025-02-07 17:00:25+00:00,,https://github.com/odoo/odoo/pull/197011,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643361867, 'issue_id': 2838542778, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197011.png)](https://mergebot.odoo.com/odoo/odoo/pull/197011)', 'created_at': datetime.datetime(2025, 2, 7, 16, 12, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643361889, 'issue_id': 2838542778, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 12, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:12:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197011.png)](https://mergebot.odoo.com/odoo/odoo/pull/197011)

fw-bot (Issue Creator) on (2025-02-07 16:12:51 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838517731,pull_request,open,,[FW][FIX] web_editor: website editor unresponsive issue,"Steps to Reproduce:

* Go to Website --> Edit Mode.
* Drag and drop the form snippet.
* Click inside the submit button such that the entire label ""Submit"" is
  selected.
* Press the right arrow key.
* The website will become unresponsive.


**Changes made:**

Assign `previousSelection` with the following properties:
 `anchorNode: selection.anchorNode`
 `anchorOffset: selection.anchorOffset`
 `focusNode: selection.focusNode`
 `focusOffset: selection.focusOffset`

**Reason:**

The original code attempted to spread the Selection object into previousSelection using **{...selection}**, which is incorrect since **the Selection object is not iterable**. As a result, `previousSelection` was never updated correctly, potentially causing the while loop to run indefinitely.

This fix manually extracts key properties—anchorNode, anchorOffset, focusNode, and focusOffset—from the Selection object and stores them in a plain object. This ensures that previousSelection updates properly, allowing the `hasSelectionChanged` function to function as expected.

By implementing this change, we prevent infinite loops and ensure accurate selection tracking, improving the stability and functionality of the text editor.

task-4471656

Forward-Port-Of: odoo/odoo#194061",fw-bot,2025-02-07 16:01:36+00:00,[],2025-02-07 17:00:26+00:00,,https://github.com/odoo/odoo/pull/197010,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643335068, 'issue_id': 2838517731, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197010.png)](https://mergebot.odoo.com/odoo/odoo/pull/197010)', 'created_at': datetime.datetime(2025, 2, 7, 16, 1, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643335081, 'issue_id': 2838517731, 'author': 'fw-bot', 'body': '@shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194061 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 1, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:01:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197010.png)](https://mergebot.odoo.com/odoo/odoo/pull/197010)

fw-bot (Issue Creator) on (2025-02-07 16:01:38 UTC): @shsa-odoo @bvr-odoo cherrypicking of pull request odoo/odoo#194061 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838516647,pull_request,open,,[FW][FIX] purchase_stock: respect manual valuation,"**Current behavior:**
Invoicing some product at a price unit different from that at reception (with the product having manual valuation and non-standard costing) will create pdiff account move lines on the invoice.

**Expected behavior:**
With manual valuation, there should not be pdiff AMLs.

**Steps to reproduce:**
1. Create a product with average costing and manual valuation

2. Receive 10 units @ $100 to establish some std price

3. Consume the 10 product qty (scrap, sale, ...)

4. Create the invoice on the purchase order

5. Change the price unit on the bill to $120 per product -> post

6. In the journal items tab on the invoice, see the pdiff AMLs

**Cause of the issue:**
No consideration for valuation when creating the AMLs for pdiff.

**Fix:**
Check that valuation is not manual prior to creating the AMLs.

opw-4492217

Forward-Port-Of: odoo/odoo#196786",fw-bot,2025-02-07 16:01:15+00:00,[],2025-02-07 17:00:27+00:00,,https://github.com/odoo/odoo/pull/197009,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643334309, 'issue_id': 2838516647, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197009.png)](https://mergebot.odoo.com/odoo/odoo/pull/197009)', 'created_at': datetime.datetime(2025, 2, 7, 16, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643334336, 'issue_id': 2838516647, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 16, 1, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643481067, 'issue_id': 2838516647, 'author': 'fw-bot', 'body': '@ethanrobv @adwid ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 16, 57, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:01:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197009.png)](https://mergebot.odoo.com/odoo/odoo/pull/197009)

fw-bot (Issue Creator) on (2025-02-07 16:01:17 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 16:57:28 UTC): @ethanrobv @adwid ci/runbot failed on this forward-port PR

"
2838513843,pull_request,open,,[FIX] payment: prevent outdated link from being copied in payment wizard,"Steps to reproduce
==================

- Install account
- Open an invoice
- Click on the cog
- Click on ""Generate a Payment Link""
- Open the browser devtools and add a delay in the network tab to simulate a slow network
- Edit the amount
- Click on the Copy button

=> The copied URL is not up to date and contains the previous amount

Cause of the issue
==================

The copy button is actually a field named `link`
Changing the `amount` causes an onchange that updates the `link` value. When the button is clicked, the amount field is blurred, and this starts the onchange. The link is then immediately copied without waiting for the new value.

Solution
========

There is no mechanism in the framework made for this purpose, but what we can do, is wait for the model mutex to be unlocked. The lock is held during the onchange, so it is guaranteed that the up to date link is copied.

opw-4358629",hubvd,2025-02-07 16:00:03+00:00,[],2025-02-07 16:00:11+00:00,,https://github.com/odoo/odoo/pull/197008,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2643331820, 'issue_id': 2838513843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197008.png)](https://mergebot.odoo.com/odoo/odoo/pull/197008)', 'created_at': datetime.datetime(2025, 2, 7, 16, 0, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 16:00:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197008.png)](https://mergebot.odoo.com/odoo/odoo/pull/197008)

"
2838508494,pull_request,open,,[IMP] tests: allow browser CPU throttling,"Certain nondeterministic JS tests can be more easily reproducible if the browser CPU is throttled.
For example: rd-112019
https://github.com/odoo/odoo/pull/196980

Chrome does allow CPU throttling using the command: https://chromedevtools.github.io/devtools-protocol/tot/Emulation/#method-setCPUThrottlingRate

An environment variable can also be used to ease the usage in a given dedicated environment.

task-4559442
",lse-odoo,2025-02-07 15:57:46+00:00,[],2025-02-07 16:28:50+00:00,,https://github.com/odoo/odoo/pull/197007,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643326921, 'issue_id': 2838508494, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197007.png)](https://mergebot.odoo.com/odoo/odoo/pull/197007)', 'created_at': datetime.datetime(2025, 2, 7, 15, 57, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:57:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197007.png)](https://mergebot.odoo.com/odoo/odoo/pull/197007)

"
2838501994,pull_request,open,,[FIX] l10n_de: allow deleting attachments for non DE companies,"In 50c62eab72678d51fb88c88fbeb81da2decca6f2, an override was done to attachments to disable deleting them, detaching them instead. As this is only required for German companies, a check can be added in the override to allow non-German companies to be able to delete their attachments. Also, another restriction was added for changing the fiscal country to make sure the flow for deleting German attachments cannot be bypassed.

task-4500319
",alialfie,2025-02-07 15:54:45+00:00,[],2025-02-07 16:27:17+00:00,,https://github.com/odoo/odoo/pull/197006,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643320373, 'issue_id': 2838501994, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197006.png)](https://mergebot.odoo.com/odoo/odoo/pull/197006)', 'created_at': datetime.datetime(2025, 2, 7, 15, 54, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:54:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197006.png)](https://mergebot.odoo.com/odoo/odoo/pull/197006)

"
2838490523,pull_request,open,,[FW][FIX] l10n_in_pos: correctly fetch company from backend,"Before this commit:
===
- If the company had no state set, attempting to close the POS session would trigger a company state dialog, redirecting to the company settings page.
- After adding the state and reopening the session, the same dialog would appear again, despite the state being present.

After this commit:
===
- The system correctly fetches the company state from the backend, preventing unnecessary redirections.

related-https://github.com/odoo/enterprise/pull/78507
task-4517944

Forward-Port-Of: odoo/odoo#195378",fw-bot,2025-02-07 15:49:05+00:00,[],2025-02-07 16:32:49+00:00,,https://github.com/odoo/odoo/pull/197005,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643296899, 'issue_id': 2838490523, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197005.png)](https://mergebot.odoo.com/odoo/odoo/pull/197005)', 'created_at': datetime.datetime(2025, 2, 7, 15, 49, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643297021, 'issue_id': 2838490523, 'author': 'fw-bot', 'body': '@meji-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 15, 49, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643418959, 'issue_id': 2838490523, 'author': 'fw-bot', 'body': '@meji-odoo @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 16, 32, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:49:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197005.png)](https://mergebot.odoo.com/odoo/odoo/pull/197005)

fw-bot (Issue Creator) on (2025-02-07 15:49:09 UTC): @meji-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 16:32:48 UTC): @meji-odoo @davidmonnom ci/runbot failed on this forward-port PR

"
2838489417,pull_request,open,,"[FW][FIX] point_of_sale, pos_settle_due: prevent creation of empty orders","Before this commit, depositing money for a customer with a zero balance could result in the creation of an empty order upon refreshing the browser. This issue arose because empty orders without payments were being synchronized, leading to unintended empty orders in the system.

This commit addresses the problem by ensuring that empty orders without payments are not synchronized and prevents the creation of such empty orders during the deposit process.

opw-4483049

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196276
Forward-Port-Of: odoo/odoo#195468",fw-bot,2025-02-07 15:48:34+00:00,[],2025-02-07 16:00:16+00:00,,https://github.com/odoo/odoo/pull/197004,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643295315, 'issue_id': 2838489417, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197004.png)](https://mergebot.odoo.com/odoo/odoo/pull/197004)', 'created_at': datetime.datetime(2025, 2, 7, 15, 48, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643295478, 'issue_id': 2838489417, 'author': 'fw-bot', 'body': '@pedrambiria @caburj cherrypicking of pull request odoo/odoo#195468 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/pos_order.js\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 15, 48, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:48:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197004.png)](https://mergebot.odoo.com/odoo/odoo/pull/197004)

fw-bot (Issue Creator) on (2025-02-07 15:48:38 UTC): @pedrambiria @caburj cherrypicking of pull request odoo/odoo#195468 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/pos_order.js
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838487938,pull_request,open,,[FW][FIX] point_of_sale: add product to order when barcode scanned,"Currently, when scanning a product barcode, the barcode is entered in the search bar instead of the product being added to the order.

Steps to reproduce:
-------------------
* Select a product and enter a barcode
* Open pos shop
* Scan the barcode. **Warning** this needs to be done with a real scanner and not the debug window
> Observation: barcode is entered in the search bar and the product is not
added to the order.

Why the fix:
------------
This behavior was introduced after the addition of the auto focus on the search input when typing:
https://github.com/odoo/odoo/commit/39ee805ac4ea75b55de0efd76fb5cd5fdae11b50

A barcode is a succession of event (ex; (shift, 0, shift, 9, ...), (0, 9, ...), ...) that depends of the language used. They still have in common the number being pressed. The first time a number is pressed, the following condition is `true` making the overall condition true as well:
https://github.com/odoo/odoo/blob/9a6c0bcbb3d028a678a3162af8208b474e01dc29/addons/point_of_sale/static/src/app/components/navbar/navbar.js#L64 
And now the focus element is put on the search bar which explains why the barcode is added there.

We now use the same setup as the barcode service
https://github.com/odoo/odoo/blob/db47f0e04fd8df276e93e19f27fa6bc655e609c6/addons/barcodes/static/src/barcode_service.js#L100-L105 We add the timeout on event. Each key is added to a buffer. Once the timeout is over, if the buffer has at least 2 character we consider it is a barcode and don't focus on the search bar. We stay consistent with the barcode service
https://github.com/odoo/odoo/blob/db47f0e04fd8df276e93e19f27fa6bc655e609c6/addons/barcodes/static/src/barcode_service.js#L55

We slightly modify the barcode service code so that, if we are already focused on the search bar we don't need to start the timeout. This allows people who type really fast to have all events registered directly.

opw-4511255

Forward-Port-Of: odoo/odoo#196421",fw-bot,2025-02-07 15:47:51+00:00,[],2025-02-07 16:00:17+00:00,,https://github.com/odoo/odoo/pull/197003,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643293426, 'issue_id': 2838487938, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197003.png)](https://mergebot.odoo.com/odoo/odoo/pull/197003)', 'created_at': datetime.datetime(2025, 2, 7, 15, 48, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643293450, 'issue_id': 2838487938, 'author': 'fw-bot', 'body': '@sbel-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 15, 48, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:48:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197003.png)](https://mergebot.odoo.com/odoo/odoo/pull/197003)

fw-bot (Issue Creator) on (2025-02-07 15:48:03 UTC): @sbel-odoo @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838480335,pull_request,open,,[FW][FIX] point_of_sale: add to context without override,"Fixup for this commit https://github.com/odoo/odoo/commit/c9cefd88bb6f38f8fd504b7c4a8abf263aa1aa4b

A test in 17.4 highlighted a issue with the use of with_context which was overriding it completely instead of adding to it.

opw-4310781

Forward-Port-Of: odoo/odoo#196901",fw-bot,2025-02-07 15:44:19+00:00,[],2025-02-07 16:00:18+00:00,,https://github.com/odoo/odoo/pull/197002,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643284669, 'issue_id': 2838480335, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197002.png)](https://mergebot.odoo.com/odoo/odoo/pull/197002)', 'created_at': datetime.datetime(2025, 2, 7, 15, 44, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643284693, 'issue_id': 2838480335, 'author': 'fw-bot', 'body': '@sbel-odoo @adgu-odoo this PR targets saas-17.2 and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 15, 44, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:44:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197002.png)](https://mergebot.odoo.com/odoo/odoo/pull/197002)

fw-bot (Issue Creator) on (2025-02-07 15:44:21 UTC): @sbel-odoo @adgu-odoo this PR targets saas-17.2 and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838478545,pull_request,open,,[IMP]l10n_uy: use es_419.po for spanish translation,"Description of the issue/feature this PR addresses:
Spanish translation has been modified by commit
https://github.com/odoo/odoo/commit/bf81596aa7b36a9a08b9701a9fcdab3e30902349

This behavior makes spanish variant (maxico, uruguay, columbia, etc.) use the es_419.po instead of es.po.

This commit renames the po files for the uruguayan localization so that translations work as expected.

Current behavior before PR:

Desired behavior after PR is merged:


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jue-adhoc,2025-02-07 15:43:30+00:00,[],2025-02-07 16:46:00+00:00,,https://github.com/odoo/odoo/pull/197001,"[('Internationalization', 'about translations')]","[{'comment_id': 2643282914, 'issue_id': 2838478545, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197001.png)](https://mergebot.odoo.com/odoo/odoo/pull/197001)', 'created_at': datetime.datetime(2025, 2, 7, 15, 43, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:43:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197001.png)](https://mergebot.odoo.com/odoo/odoo/pull/197001)

"
2838454097,pull_request,open,,[FIX] hw_drivers: no pairing code on boot,"This PR contains 2 commits:

- [FIX] hw_drivers: pairing code cleared on time change

  Before this commit, if the system time was changed
  while the connection manager was running, it could
  immediately finish waiting and clear the pairing
  code. This happens quite easily due to the
  system time being set via NTP just after boot.

  After this commit, the 5 minute wait uses
  `time.monotonic()`, which is not affected by
  system clock changes. This ensures the pairing
  code can stay visible for the full 5 minutes.


- [FIX] hw_drivers: is_access_point false positive

  Before this commit, `is_access_point` was using
  the loopback interface `lo` to determine if the
  access point was up. If it was the only interface
  present, it returned true. However, what this
  actually represented was whether no network
  connection was present. At boot, while waiting for
  an IP, the access point is not up but
  `is_access_point` was returning true. A
  side-effect of this was the `ConnectionManager`
  never starting, and therefore no pairing code
  appearing for the user.

  After this commit, `is_access_point` uses the
  status of the `hostapd` service to check if the
  access point is up. This in turn fixes the pairing
  code issue.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",MaxTheWhale,2025-02-07 15:31:54+00:00,[],2025-02-07 16:00:21+00:00,,https://github.com/odoo/odoo/pull/197000,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643256781, 'issue_id': 2838454097, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197000.png)](https://mergebot.odoo.com/odoo/odoo/pull/197000)', 'created_at': datetime.datetime(2025, 2, 7, 15, 31, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:31:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/197000.png)](https://mergebot.odoo.com/odoo/odoo/pull/197000)

"
2838446846,pull_request,open,,[IMP] mrp{_workorder}: b2b improvements,"1) Workcenter Chatter Note

When a workcenter is blocked, a note is added to
its chatter to notify users about its availability. To use this feature, follow these steps:
* Activate debug mode
* Install the 'Time Off' and 'MRP' apps
* Configure the workcenter to be blocked
* Open the workcenter form view
* Navigate to the 'Working Hours' internal link
* Click on the 'Time off' smart button
* Create a new leave and assign the workcenter as a resource

After completing these steps, a note will be created in the workcenter's chatter with details about the unavailability, including the reason, time type, and period.

2) Product Attributes in QC Wizard

The quality check wizard within purchase orders does not display sufficient information when dealing with product variants.
For example, if a company purchases tables in two
colors -white and black- and needs to perform a quality check upon receipt, the wizard currently does not indicate which variant is being checked, as both products share the same name.
This commits resolves this ambiguity by displaying the product's full display name instead of just its name.

3) Work order: Quantity Field

In the tablet view of work orders, the quantity field previously represented 'quantity remaining'. However, after completing the operation, users need to see the total number of products produced.
This commits updates the field to display 'quantity produced' instead.

4) Quality Points: Search by Title

Previously, when searching for a QP by title in the search view, the system relied on the reference column internally. For improved clarity, this has been changed to a 'title' filter.

5) Forecast Widget in Sales

This commit enhancesthe forecast widget in the sales form view for better clarity.
To test the update, create a quotation for a stocked product and check the forecasted availability.

task: 4277084

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kinhosz,2025-02-07 15:28:28+00:00,['kinhosz'],2025-02-07 16:00:22+00:00,,https://github.com/odoo/odoo/pull/196999,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643248869, 'issue_id': 2838446846, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196999.png)](https://mergebot.odoo.com/odoo/odoo/pull/196999)', 'created_at': datetime.datetime(2025, 2, 7, 15, 28, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:28:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196999.png)](https://mergebot.odoo.com/odoo/odoo/pull/196999)

"
2838446749,pull_request,open,,[IMP] hr_fleet: enable Driver assignment logs delete,"- add the delete menuitem to the attachment kanban view inside the driver assignment logs

Task: 4559047



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-02-07 15:28:25+00:00,[],2025-02-07 16:00:23+00:00,,https://github.com/odoo/odoo/pull/196998,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643248750, 'issue_id': 2838446749, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196998.png)](https://mergebot.odoo.com/odoo/odoo/pull/196998)', 'created_at': datetime.datetime(2025, 2, 7, 15, 28, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:28:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196998.png)](https://mergebot.odoo.com/odoo/odoo/pull/196998)

"
2838432498,pull_request,closed,,[IMP] hr_fleet: enable Driver assignment logs delete,"- add the delete menuitem to the attachment kanban view inside the driver assignment logs

Task: 4559047


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-02-07 15:22:22+00:00,[],2025-02-07 15:26:36+00:00,2025-02-07 15:23:37+00:00,https://github.com/odoo/odoo/pull/196997,[],"[{'comment_id': 2643234828, 'issue_id': 2838432498, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196997.png)](https://mergebot.odoo.com/odoo/odoo/pull/196997)', 'created_at': datetime.datetime(2025, 2, 7, 15, 22, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:22:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196997.png)](https://mergebot.odoo.com/odoo/odoo/pull/196997)

"
2838424736,pull_request,open,,[FIX] l10n_fr_account: Auto install problem,"This commit:https://github.com/odoo/odoo/commit/134324c5cf0e2e62f02d212ac27a9442e1f7a824 removed the auto-install for l10n_fr. Which has the consequence of not having l10n_fr_account installed when we have account and l10n_fr. This commit will reintroduce that but also removing the countries since it depends on l10n_fr that already has the country set up.

task: 4296946




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-02-07 15:18:51+00:00,[],2025-02-07 16:00:24+00:00,,https://github.com/odoo/odoo/pull/196996,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643227027, 'issue_id': 2838424736, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196996.png)](https://mergebot.odoo.com/odoo/odoo/pull/196996)', 'created_at': datetime.datetime(2025, 2, 7, 15, 18, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:18:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196996.png)](https://mergebot.odoo.com/odoo/odoo/pull/196996)

"
2838405479,pull_request,open,,[FW][FIX] point_of_sale: fix view field attribute invisible,"Steps to reproduce :

-open settings/technical/views
-search ""product.template.form.inherit""
-select the view with external id ""point_of_sale.product_template_form_inherit""
-A Yellow Warning Message should appear indicating an Access Rights Inconsistency

Problem:
In the product_view.xml file of the point_of_sale module, in the view named product.template.form.inherit for the field ""color"", the invisible condition was invisible=""true"". This caused an accessed right inconsistency because the python code did not recognize true as a Boolean but looked for a field named ""true"" in the product.template model and didn't find any.

https://github.com/odoo/odoo/blob/abf0b5f102a0bad3ed0feb8b8e967f5e3c8d2288/addons/point_of_sale/views/product_view.xml#L69

opw-4520474

Forward-Port-Of: odoo/odoo#196807",fw-bot,2025-02-07 15:10:51+00:00,[],2025-02-07 16:00:25+00:00,,https://github.com/odoo/odoo/pull/196995,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643208272, 'issue_id': 2838405479, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196995.png)](https://mergebot.odoo.com/odoo/odoo/pull/196995)', 'created_at': datetime.datetime(2025, 2, 7, 15, 10, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643208292, 'issue_id': 2838405479, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 15, 10, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643321946, 'issue_id': 2838405479, 'author': 'fw-bot', 'body': '@plha-odoo @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 15, 55, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:10:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196995.png)](https://mergebot.odoo.com/odoo/odoo/pull/196995)

fw-bot (Issue Creator) on (2025-02-07 15:10:53 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 15:55:33 UTC): @plha-odoo @davidmonnom ci/runbot failed on this forward-port PR

"
2838404724,pull_request,closed,,[FW][FIX] point_of_sale: correctly connect loaded many2one fields,"Before this commit, if a many2one field was loaded with its data, it would not get connected. For example, in the Chilean localization, the account_move is loaded when capturing an order, but it would not get linked, causing an error.

opw-4479284

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193616",fw-bot,2025-02-07 15:10:30+00:00,[],2025-02-08 03:51:41+00:00,2025-02-08 03:51:41+00:00,https://github.com/odoo/odoo/pull/196994,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643207433, 'issue_id': 2838404724, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196994.png)](https://mergebot.odoo.com/odoo/odoo/pull/196994)', 'created_at': datetime.datetime(2025, 2, 7, 15, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643207464, 'issue_id': 2838404724, 'author': 'fw-bot', 'body': '@pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#193616 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/models/related_models.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js\nAuto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js\nAuto-merging addons/point_of_sale/static/src/app/store/pos_store.js\nAuto-merging addons/pos_online_payment/static/src/overrides/pos_overrides/components/payment_screen/payment_screen.js\nCONFLICT (content): Merge conflict in addons/pos_online_payment/static/src/overrides/pos_overrides/components/payment_screen/payment_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 15, 10, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644129979, 'issue_id': 2838404724, 'author': 'agr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 21, 7, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 15:10:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196994.png)](https://mergebot.odoo.com/odoo/odoo/pull/196994)

fw-bot (Issue Creator) on (2025-02-07 15:10:32 UTC): @pedrambiria @davidmonnom cherrypicking of pull request odoo/odoo#193616 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/models/related_models.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/models/related_models.js
Auto-merging addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/payment_screen/payment_screen.js
Auto-merging addons/point_of_sale/static/src/app/store/pos_store.js
Auto-merging addons/pos_online_payment/static/src/overrides/pos_overrides/components/payment_screen/payment_screen.js
CONFLICT (content): Merge conflict in addons/pos_online_payment/static/src/overrides/pos_overrides/components/payment_screen/payment_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

agr-odoo on (2025-02-07 21:07:25 UTC): @robodoo r+

"
2838378779,pull_request,open,,[FW][FIX] account: fix access error for `tax_string` field in `product.template` model,"Repro steps:
- Add `Tax String` to `Product Page Extra Fields` for one of your websites
- Add taxes from a company that isn't linked to that website for one of your products
- Open that product's product page in eCommerce
- You get an access error

The issue is that we try to read the taxes for all companies when opening the product page. Instead, we should only read the taxes for the current company.

opw-4435721

Forward-Port-Of: odoo/odoo#194881",fw-bot,2025-02-07 14:59:22+00:00,[],2025-02-07 15:00:11+00:00,,https://github.com/odoo/odoo/pull/196993,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643180035, 'issue_id': 2838378779, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196993.png)](https://mergebot.odoo.com/odoo/odoo/pull/196993)', 'created_at': datetime.datetime(2025, 2, 7, 14, 59, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643180063, 'issue_id': 2838378779, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 59, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:59:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196993.png)](https://mergebot.odoo.com/odoo/odoo/pull/196993)

fw-bot (Issue Creator) on (2025-02-07 14:59:24 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838366759,pull_request,open,,[FW][FIX] hr_recruitment: click on applicant_char widget,"Scenario:

- install hr_recruitment but not documents (to have the right view)
- go to Employee > Configuration > Recruitment | Job Positions
- choose a job positions with documents and click on Documents
- click on Applicant column on one of the rows

=> traceback shown:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean
  at Object.validateProps

Reason:

In saas-17.2 with a7586fdb4123481fd8794ef99fdc372e95de7459 merged in february 2024, many2one_reference was changed from a simple integer to either 0 if unset, or a object containing resId and displayName keys.

Fix:

Get the id with .resId and this should not happen, but test if the record is set with ""if(res_id && ...)"" in case res_id was 0.

Note: without the fix, the added test fails by opening the view if res_id was 0, and if not the next click would fail with:

OwlError: Invalid props for component 'FormController': 'resId' is not a number or boolean

opw-4384139

PR note: the test could be run without mails models, but then we would need to mock a lot of models for services (like `mail.ChatHub`) or a method like `prepareRegistry` [from studio](https://github.com/odoo/enterprise/blob/f5b7b53963829b351446e9b6f71e00f21291bc58/web_studio/static/tests/view_editor_tests_utils.js#L123-L153) that would remove all unnecessary services for the test.

Forward-Port-Of: odoo/odoo#191510",fw-bot,2025-02-07 14:54:41+00:00,[],2025-02-07 15:00:12+00:00,,https://github.com/odoo/odoo/pull/196992,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643167982, 'issue_id': 2838366759, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196992.png)](https://mergebot.odoo.com/odoo/odoo/pull/196992)', 'created_at': datetime.datetime(2025, 2, 7, 14, 54, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643168006, 'issue_id': 2838366759, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 54, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:54:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196992.png)](https://mergebot.odoo.com/odoo/odoo/pull/196992)

fw-bot (Issue Creator) on (2025-02-07 14:54:43 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838342350,pull_request,open,,[FIX] the bug that can not apply half day off,"Description of the issue/feature this PR addresses:
It allows employees to apply half day off.

Current behavior before PR:
When I apply half day off, it always take 1 day from my available holidays.

Desired behavior after PR is merged:
Be able to apply half day off, and only deduct 0.5 days from the pool.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",bennfocus,2025-02-07 14:44:51+00:00,[],2025-02-07 16:13:10+00:00,,https://github.com/odoo/odoo/pull/196991,"[('CLA', 'Contributor License Agreement'), ('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2643136459, 'issue_id': 2838342350, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196991.png)](https://mergebot.odoo.com/odoo/odoo/pull/196991)', 'created_at': datetime.datetime(2025, 2, 7, 14, 44, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:44:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196991.png)](https://mergebot.odoo.com/odoo/odoo/pull/196991)

"
2838336246,pull_request,open,,[FIX] point_of_sale: adopt the search result without fuzzy search,"Since the fuzzy search has been removed, it is no longer necessary to exclusively display only exact match results. This commit updates the search functionality to adopt and return all relevant search results, ensuring consistency with the new behavior.

opw-4535250

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",pedrambiria,2025-02-07 14:42:32+00:00,[],2025-02-07 16:16:06+00:00,,https://github.com/odoo/odoo/pull/196990,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2643130577, 'issue_id': 2838336246, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196990.png)](https://mergebot.odoo.com/odoo/odoo/pull/196990)', 'created_at': datetime.datetime(2025, 2, 7, 14, 42, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:42:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196990.png)](https://mergebot.odoo.com/odoo/odoo/pull/196990)

"
2838328693,pull_request,open,,[IMP] release: specify min postgres version,"Indicate which version of PostgreSQL is supported. Warn when connecting to an unsupported version.
Mostly for documentation purposes.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-07 14:39:23+00:00,[],2025-02-07 15:00:16+00:00,,https://github.com/odoo/odoo/pull/196989,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643123293, 'issue_id': 2838328693, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196989.png)](https://mergebot.odoo.com/odoo/odoo/pull/196989)', 'created_at': datetime.datetime(2025, 2, 7, 14, 39, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:39:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196989.png)](https://mergebot.odoo.com/odoo/odoo/pull/196989)

"
2838314676,pull_request,open,,[IMP] point_of_sale: display free_qty instead of qty_available,"This commit changes the product information display in POS to show the free quantity (qty_available - reserved_qty) instead of just qty_available. This gives a more accurate representation of the actual stock that can be sold, as it accounts for reserved quantities.

Task ID: 4556306



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",nesma-neha,2025-02-07 14:33:15+00:00,[],2025-02-07 15:00:17+00:00,,https://github.com/odoo/odoo/pull/196988,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643109935, 'issue_id': 2838314676, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196988.png)](https://mergebot.odoo.com/odoo/odoo/pull/196988)', 'created_at': datetime.datetime(2025, 2, 7, 14, 33, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:33:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196988.png)](https://mergebot.odoo.com/odoo/odoo/pull/196988)

"
2838313486,pull_request,open,,[FIX] account_audit_trail: improve audit trail deletion error message,"**issue:**

When ""Audit Trail"" is activated and a user creates an incorrect payment, deleting the payment is not possible.
The error message suggests archiving the payment; however, there is no option to archive it.

A more flexible error message should be used instead.

opw-4494820
",st-yes,2025-02-07 14:32:40+00:00,[],2025-02-07 15:00:18+00:00,,https://github.com/odoo/odoo/pull/196987,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2643108432, 'issue_id': 2838313486, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196987.png)](https://mergebot.odoo.com/odoo/odoo/pull/196987)', 'created_at': datetime.datetime(2025, 2, 7, 14, 32, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:32:44 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196987.png)](https://mergebot.odoo.com/odoo/odoo/pull/196987)

"
2838303184,pull_request,open,,[FIX] web_editor: fix non-deterministic test timeouts,"Those tests were too long and sometimes triggered a timeout when the runbot happened to be too slow.

This commit separates each test into its own async function so that the timeout is applied on each test separately, thus significantly decreasing the likelihood of a timeout to occur in any of them.

runbot-112694
runbot-112819
",dmo-odoo,2025-02-07 14:27:54+00:00,[],2025-02-07 15:31:25+00:00,,https://github.com/odoo/odoo/pull/196986,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643089410, 'issue_id': 2838303184, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196986.png)](https://mergebot.odoo.com/odoo/odoo/pull/196986)', 'created_at': datetime.datetime(2025, 2, 7, 14, 27, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:27:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196986.png)](https://mergebot.odoo.com/odoo/odoo/pull/196986)

"
2838295570,pull_request,open,,[IMP] orm: remove ignore_duplicates from _load_records,"the return value of _load_records is defined as

    :return: the records corresponding to ``data_list``

which implies the guarantee:

    ``len(_load_records(data_list, ..)) == len(data_list)``

However, ``ignore_duplicates`` introduced in odoo#160203 violated this rule. Specifically, ``_load_records(data_list, update=False, ignore_duplicates=True)`` only returns newly created records.
And ``_load_records(data_list, update=True, ignore_duplicates=True)``, returns newly created records and pre-existing noupdate records. It is hard to define the method's feature.

This commit uses one extra query per model in ``_load_data`` for account to filter out data for pre-existing records before calling ``_load_records`` to avoid introducing ``ignore_duplicates``

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",HydrionBurst,2025-02-07 14:25:01+00:00,[],2025-02-07 21:52:27+00:00,,https://github.com/odoo/odoo/pull/196985,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643077632, 'issue_id': 2838295570, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196985.png)](https://mergebot.odoo.com/odoo/odoo/pull/196985)', 'created_at': datetime.datetime(2025, 2, 7, 14, 25, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:25:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196985.png)](https://mergebot.odoo.com/odoo/odoo/pull/196985)

"
2838291636,pull_request,open,,[FW][FIX] payment_razorpay: prevent error when webhook secret  is not provided,"This error occurs when a user does not enter a Webhook Secret. As a result, when processing the payment, the missing secret causes the verification to fail, leading to a payment failure.

- Install the `eCommerce` module without demo data and with Indian localization.
- Install `Razorpay payment provider` and activate `developer mode`.
- Add `Key ID` and `Key Secret` in Razorpay payment `provider`.
- Set up webhook in Razorpay dashboard with a random `Webhook Secret`.
- Go to the `website`, add the product to the cart, and proceed to payment using
 `UPI`.`

`Error: 'bool' object has no attribute 'encode'`

This issue occurs because the Webhook Secret is missing, returning False and causing payment verification to fail.

This commit solves the error by handling missing `Webhook Secret` values by
logging a warning and skipping the signature check instead of returning a False.

Sentry: 6208134651

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196125",fw-bot,2025-02-07 14:23:47+00:00,[],2025-02-07 15:00:21+00:00,,https://github.com/odoo/odoo/pull/196984,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643074119, 'issue_id': 2838291636, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196984.png)](https://mergebot.odoo.com/odoo/odoo/pull/196984)', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643074133, 'issue_id': 2838291636, 'author': 'fw-bot', 'body': '@shka-odoo @AntoineVDV cherrypicking of pull request odoo/odoo#196125 failed.\n\nstdout:\n```\nAuto-merging addons/payment_razorpay/controllers/main.py\nCONFLICT (content): Merge conflict in addons/payment_razorpay/controllers/main.py\nAuto-merging addons/payment_razorpay/models/payment_provider.py\nCONFLICT (content): Merge conflict in addons/payment_razorpay/models/payment_provider.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:23:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196984.png)](https://mergebot.odoo.com/odoo/odoo/pull/196984)

fw-bot (Issue Creator) on (2025-02-07 14:23:49 UTC): @shka-odoo @AntoineVDV cherrypicking of pull request odoo/odoo#196125 failed.

stdout:
```
Auto-merging addons/payment_razorpay/controllers/main.py
CONFLICT (content): Merge conflict in addons/payment_razorpay/controllers/main.py
Auto-merging addons/payment_razorpay/models/payment_provider.py
CONFLICT (content): Merge conflict in addons/payment_razorpay/models/payment_provider.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838290937,pull_request,open,,[FW][FIX] mail: defensively add message_id in references,"hen email provider rewrites message_id of odoo generated emails
we lose trace of original message and/or trace in Odoo. Crafting
references as already containing the original message_id ensure to
keep a trace even if message_id is rewritten.

Continuation of https://github.com/odoo/odoo/pull/81901 but this time for mailing generated
mail records.

Task-3927616

Forward-Port-Of: odoo/odoo#196764
Forward-Port-Of: odoo/odoo#189195",fw-bot,2025-02-07 14:23:27+00:00,[],2025-02-07 15:00:23+00:00,,https://github.com/odoo/odoo/pull/196983,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2643073453, 'issue_id': 2838290937, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196983.png)](https://mergebot.odoo.com/odoo/odoo/pull/196983)', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643073477, 'issue_id': 2838290937, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643100595, 'issue_id': 2838290937, 'author': 'fw-bot', 'body': '@tde-banana-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 14, 30, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:23:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196983.png)](https://mergebot.odoo.com/odoo/odoo/pull/196983)

fw-bot (Issue Creator) on (2025-02-07 14:23:29 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 14:30:19 UTC): @tde-banana-odoo ci/runbot failed on this forward-port PR

"
2838290206,pull_request,open,,"[FW][FIX] survey: make ""Votes"" translatable","In the survey stats, the number of votes for a multiple choice answer displayed the label ""Votes"" without it being translatable.

This commit makes it translatable.

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#196856
Forward-Port-Of: odoo/odoo#196704",fw-bot,2025-02-07 14:23:06+00:00,[],2025-02-07 15:00:24+00:00,,https://github.com/odoo/odoo/pull/196982,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643072698, 'issue_id': 2838290206, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196982.png)](https://mergebot.odoo.com/odoo/odoo/pull/196982)', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643072725, 'issue_id': 2838290206, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta cherrypicking of pull request odoo/odoo#196704 failed.\n\nstdout:\n```\nAuto-merging addons/survey/i18n/survey.pot\nCONFLICT (content): Merge conflict in addons/survey/i18n/survey.pot\nAuto-merging addons/survey/models/survey_question.py\nCONFLICT (content): Merge conflict in addons/survey/models/survey_question.py\nAuto-merging addons/survey/views/survey_templates_statistics.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 23, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:23:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196982.png)](https://mergebot.odoo.com/odoo/odoo/pull/196982)

fw-bot (Issue Creator) on (2025-02-07 14:23:08 UTC): @dylankiss @oomsveta cherrypicking of pull request odoo/odoo#196704 failed.

stdout:
```
Auto-merging addons/survey/i18n/survey.pot
CONFLICT (content): Merge conflict in addons/survey/i18n/survey.pot
Auto-merging addons/survey/models/survey_question.py
CONFLICT (content): Merge conflict in addons/survey/models/survey_question.py
Auto-merging addons/survey/views/survey_templates_statistics.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838251548,pull_request,open,,[IMP] web: list: force column widths computation on dblclick,"This commit allows to force the a column widths recomputation by dblclicking on the resize handle, in the list view header. This helps for x2many lists, when the user just created a record which doesn't fit well with default widths initially computed, or when browsing to the next page.

Task-4555667

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-02-07 14:05:22+00:00,[],2025-02-07 15:07:56+00:00,,https://github.com/odoo/odoo/pull/196981,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643034954, 'issue_id': 2838251548, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196981.png)](https://mergebot.odoo.com/odoo/odoo/pull/196981)', 'created_at': datetime.datetime(2025, 2, 7, 14, 5, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:05:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196981.png)](https://mergebot.odoo.com/odoo/odoo/pull/196981)

"
2838251476,pull_request,open,,"[FIX] auth_totp, test_apikeys: fix nondeterministic tab visibility","Fix nondeterministic JS errors of button trying to be clicked while detected as not visible (while being there).

HOOT rely on DOM mutation to check if elements visible state change or not. We suspect if the tab load fast enough the button will be considered invisible as the fading didn't started yet.

The issue is nondeterministic but fail more consistently by toggling Chrome CPU to 10x, it will then fail 3/4 of the times

rb-112019",lse-odoo,2025-02-07 14:05:21+00:00,[],2025-02-07 15:00:27+00:00,,https://github.com/odoo/odoo/pull/196980,"[('RD', 'research & development, internal work')]","[{'comment_id': 2643034905, 'issue_id': 2838251476, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196980.png)](https://mergebot.odoo.com/odoo/odoo/pull/196980)', 'created_at': datetime.datetime(2025, 2, 7, 14, 5, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:05:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196980.png)](https://mergebot.odoo.com/odoo/odoo/pull/196980)

"
2838246153,pull_request,open,,[FW][FIX] pos_restaurant: set tab floating order,"Fix issue generating traceback where when merging floating orders together. As `mergeOrders` can be used with floating orders, it doesn't necessarily contain a table. A check has been added to handle this case properly. After selecting an order to merge with, we now also redirect to this order.

Steps to reproduce:
- Create new floating order
- Add items to the cart
- Click ""Set Tab""
- Select existing floating orders

task-id: 4551788

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196744",fw-bot,2025-02-07 14:03:08+00:00,[],2025-02-07 15:00:27+00:00,,https://github.com/odoo/odoo/pull/196979,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643029886, 'issue_id': 2838246153, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196979.png)](https://mergebot.odoo.com/odoo/odoo/pull/196979)', 'created_at': datetime.datetime(2025, 2, 7, 14, 3, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643029912, 'issue_id': 2838246153, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom cherrypicking of pull request odoo/odoo#196744 failed.\n\nstdout:\n```\nAuto-merging addons/pos_restaurant/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 3, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:03:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196979.png)](https://mergebot.odoo.com/odoo/odoo/pull/196979)

fw-bot (Issue Creator) on (2025-02-07 14:03:10 UTC): @manv-afk @davidmonnom cherrypicking of pull request odoo/odoo#196744 failed.

stdout:
```
Auto-merging addons/pos_restaurant/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838244579,pull_request,closed,,"[FW][FIX] point_of_sale, pos_self_order: undefined channel name","Prevent subscription to undefined channel name in Self Order.

Forward-Port-Of: odoo/odoo#196723
Forward-Port-Of: odoo/odoo#196637",fw-bot,2025-02-07 14:02:33+00:00,[],2025-02-07 14:40:38+00:00,2025-02-07 14:40:38+00:00,https://github.com/odoo/odoo/pull/196978,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643028579, 'issue_id': 2838244579, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196978.png)](https://mergebot.odoo.com/odoo/odoo/pull/196978)', 'created_at': datetime.datetime(2025, 2, 7, 14, 2, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643028598, 'issue_id': 2838244579, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#196637 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/utils.js\nAuto-merging addons/pos_self_order/static/src/app/services/data_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 2, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:02:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196978.png)](https://mergebot.odoo.com/odoo/odoo/pull/196978)

fw-bot (Issue Creator) on (2025-02-07 14:02:35 UTC): @davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#196637 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/utils.js
Auto-merging addons/pos_self_order/static/src/app/services/data_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838243833,pull_request,closed,,[FW][FIX] pos_restaurant: fix error runbot 111972,"Error runbot: 111972

Forward-Port-Of: odoo/odoo#196780
Forward-Port-Of: odoo/odoo#196617",fw-bot,2025-02-07 14:02:12+00:00,[],2025-02-07 20:41:24+00:00,2025-02-07 20:41:24+00:00,https://github.com/odoo/odoo/pull/196977,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2643028045, 'issue_id': 2838243833, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196977.png)](https://mergebot.odoo.com/odoo/odoo/pull/196977)', 'created_at': datetime.datetime(2025, 2, 7, 14, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643028066, 'issue_id': 2838243833, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 14, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643267720, 'issue_id': 2838243833, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 36, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 14:02:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196977.png)](https://mergebot.odoo.com/odoo/odoo/pull/196977)

fw-bot (Issue Creator) on (2025-02-07 14:02:20 UTC): @davidmonnom @adgu-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-07 15:36:56 UTC): @robodoo r+

"
2838232666,pull_request,open,,[FW][FIX] l10n_sa_edi: InvoiceTypeCode for Individuals Exports,"When doing an export, a lot of information are computed depending on the
partner, the company and the transaction.
This commit will modify the field Invoice Type Transaction which is defined in a
structure of 7-digit code: Standard Invoice must have 01 as the first 2 digits
and 02 for simplified tax invoice.
Other 5 digits depend on nature of the transaction.

Before this commit we used to send for Individual contacts, 0200000 for all
invoices, where the country of the Customer is not Saudi Arabia. But it's
actually wrong and we should send 0100100 which is a simple export invoice.

To fix that issues we added a condition for an invoice to be simplified that the
partner need to be an individual from Saudi Arabia.

task-4504987




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195216",fw-bot,2025-02-07 13:57:17+00:00,[],2025-02-07 15:23:44+00:00,,https://github.com/odoo/odoo/pull/196976,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2643016419, 'issue_id': 2838232666, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196976.png)](https://mergebot.odoo.com/odoo/odoo/pull/196976)', 'created_at': datetime.datetime(2025, 2, 7, 13, 57, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643016460, 'issue_id': 2838232666, 'author': 'fw-bot', 'body': '@malb-odoo @FlorianGilbert cherrypicking of pull request odoo/odoo#195216 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_sa_edi/tests/test_edi_zatca.py\nCONFLICT (content): Merge conflict in addons/l10n_sa_edi/tests/test_edi_zatca.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 13, 57, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 13:57:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196976.png)](https://mergebot.odoo.com/odoo/odoo/pull/196976)

fw-bot (Issue Creator) on (2025-02-07 13:57:19 UTC): @malb-odoo @FlorianGilbert cherrypicking of pull request odoo/odoo#195216 failed.

stdout:
```
Auto-merging addons/l10n_sa_edi/tests/test_edi_zatca.py
CONFLICT (content): Merge conflict in addons/l10n_sa_edi/tests/test_edi_zatca.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838186296,pull_request,open,,[FIX] account: invoice report average price,"Steps:

- Create and confirm an invoice with 3 lines for the same product P:
    1 - 10 quantity, 10$
    2 -  5 quantity,  5$
    3 - 20 quantity,  2$
- Go to invoice analysis, pivot view
- Filter to see only product P
- Measure Untaxed Amount, Product Quantity and Average Price
-> The average price is 5.67 instead of 4.71

This is because the SQL query calculates the average of each line before
calculating the average of the 3 lines instead of calculating the global
average.

With this commit, we override the `read_group` method to make the
correct calcultaion of the average price.

opw-4503562
",guva-odoo,2025-02-07 13:37:58+00:00,[],2025-02-07 14:00:13+00:00,,https://github.com/odoo/odoo/pull/196975,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642973266, 'issue_id': 2838186296, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196975.png)](https://mergebot.odoo.com/odoo/odoo/pull/196975)', 'created_at': datetime.datetime(2025, 2, 7, 13, 38, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 13:38:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196975.png)](https://mergebot.odoo.com/odoo/odoo/pull/196975)

"
2838121058,pull_request,open,,[IMP] hr_holidays: improve mandatory day functionality with job position,"This PR improves the mandatory day functionality by introducing a job position field. Mandatory days can now be defined based on specific job positions within a department.

task-4018949
",ravb-odoo,2025-02-07 13:07:29+00:00,[],2025-02-07 14:00:14+00:00,,https://github.com/odoo/odoo/pull/196974,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642862322, 'issue_id': 2838121058, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196974.png)](https://mergebot.odoo.com/odoo/odoo/pull/196974)', 'created_at': datetime.datetime(2025, 2, 7, 13, 7, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 13:07:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196974.png)](https://mergebot.odoo.com/odoo/odoo/pull/196974)

"
2838086048,pull_request,open,,[FW][FIX] mrp: shop floor component manual consumption,"With this Commit :
----------------------------------------------------------
- In the previous implementation, components marked for manual consumption were automatically consumed, like auto-consumed components, when starting production on a manufacturing order (MO). This occurred due to missing logic and conditions in the code that failed to differentiate between manual and automatic component consumption, and it only affected the shop floor operations.

- This update corrects the components' consumption process and enhances production tracking's reliability, ensuring that manual components are managed according to their intended usage.

Task id: 4096514

Enterprise PR: odoo/enterprise#77831

Forward-Port-Of: odoo/odoo#175816",fw-bot,2025-02-07 12:49:39+00:00,[],2025-02-07 13:16:00+00:00,,https://github.com/odoo/odoo/pull/196973,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642828022, 'issue_id': 2838086048, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196973.png)](https://mergebot.odoo.com/odoo/odoo/pull/196973)', 'created_at': datetime.datetime(2025, 2, 7, 12, 49, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642828052, 'issue_id': 2838086048, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 49, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642878275, 'issue_id': 2838086048, 'author': 'fw-bot', 'body': '@sako-odoo @svs-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 13, 15, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:49:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196973.png)](https://mergebot.odoo.com/odoo/odoo/pull/196973)

fw-bot (Issue Creator) on (2025-02-07 12:49:42 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 13:15:59 UTC): @sako-odoo @svs-odoo ci/runbot failed on this forward-port PR

"
2838085055,pull_request,open,,[FW][FIX] calendar: fix issue with start and stop date,"Version:
- 17.0

Steps to Reproduce:
- Install the Calendar app.
- Create an event and enable the ""All Day"" option.
- Duplicate the event.

Issue:
- When duplicating an All Day event, a traceback error occurs because the start_date and stop_date values are missing.

Solution:
- The start_date and stop_date are now properly set when duplicating an event resolving the traceback error.

task-4353039

Forward-Port-Of: odoo/odoo#196884
Forward-Port-Of: odoo/odoo#188171",fw-bot,2025-02-07 12:49:08+00:00,[],2025-02-07 13:13:18+00:00,,https://github.com/odoo/odoo/pull/196972,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642827862, 'issue_id': 2838085055, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196972.png)](https://mergebot.odoo.com/odoo/odoo/pull/196972)', 'created_at': datetime.datetime(2025, 2, 7, 12, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642827878, 'issue_id': 2838085055, 'author': 'fw-bot', 'body': '@nikj-odoo @arj-odoo cherrypicking of pull request odoo/odoo#188171 failed.\n\nstdout:\n```\nAuto-merging addons/calendar/models/calendar_event.py\nAuto-merging addons/calendar/tests/test_calendar.py\nAuto-merging addons/google_calendar/tests/test_sync_common.py\nAuto-merging addons/google_calendar/tests/test_sync_odoo2google.py\nCONFLICT (content): Merge conflict in addons/google_calendar/tests/test_sync_odoo2google.py\nAuto-merging addons/microsoft_calendar/tests/test_create_events.py\nCONFLICT (content): Merge conflict in addons/microsoft_calendar/tests/test_create_events.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 49, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:49:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196972.png)](https://mergebot.odoo.com/odoo/odoo/pull/196972)

fw-bot (Issue Creator) on (2025-02-07 12:49:36 UTC): @nikj-odoo @arj-odoo cherrypicking of pull request odoo/odoo#188171 failed.

stdout:
```
Auto-merging addons/calendar/models/calendar_event.py
Auto-merging addons/calendar/tests/test_calendar.py
Auto-merging addons/google_calendar/tests/test_sync_common.py
Auto-merging addons/google_calendar/tests/test_sync_odoo2google.py
CONFLICT (content): Merge conflict in addons/google_calendar/tests/test_sync_odoo2google.py
Auto-merging addons/microsoft_calendar/tests/test_create_events.py
CONFLICT (content): Merge conflict in addons/microsoft_calendar/tests/test_create_events.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838069430,pull_request,closed,,[FW][FIX] point_of_sale: loading ticket screen,"This fix prevent blank screen (when offline) & inifinte loop (when in 3G or other low connection) on order screen.

- **Offline Mode:** When accessing the order screen offline, now the screen loads previously fetched orders and displays a ""Limited Functionality"" popup.
- **Slow Connection (3G):** Infinite loop (caused by repeated call to  `await this.pos.getServerOrders()`)  is fixed by ensuring orders load only once, even on slow connections using the flag `loadingOrderState`

task-id: 4550978

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196810",fw-bot,2025-02-07 12:41:20+00:00,[],2025-02-07 17:26:35+00:00,2025-02-07 17:26:35+00:00,https://github.com/odoo/odoo/pull/196971,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642813117, 'issue_id': 2838069430, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196971.png)](https://mergebot.odoo.com/odoo/odoo/pull/196971)', 'created_at': datetime.datetime(2025, 2, 7, 12, 41, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642813146, 'issue_id': 2838069430, 'author': 'fw-bot', 'body': '@manv-afk @adgu-odoo cherrypicking of pull request odoo/odoo#196810 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 41, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643193969, 'issue_id': 2838069430, 'author': 'manv-afk', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 4, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:41:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196971.png)](https://mergebot.odoo.com/odoo/odoo/pull/196971)

fw-bot (Issue Creator) on (2025-02-07 12:41:28 UTC): @manv-afk @adgu-odoo cherrypicking of pull request odoo/odoo#196810 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/ticket_screen/ticket_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

manv-afk on (2025-02-07 15:04:56 UTC): @robodoo r+

"
2838066113,pull_request,open,,[FW][IMP] html_editor: move existing text inside banner,"**Current behavior before PR:**

- Creating a banner besides existing text will creates the banner after the current text block.

**Desired behavior after PR is merged:**

- Now, creating a banner besides existing text will move the current text block inside the newly created banner.

task: 4214029

Forward-Port-Of: odoo/odoo#182360",fw-bot,2025-02-07 12:39:45+00:00,[],2025-02-07 14:00:17+00:00,,https://github.com/odoo/odoo/pull/196970,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642810117, 'issue_id': 2838066113, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196970.png)](https://mergebot.odoo.com/odoo/odoo/pull/196970)', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642810139, 'issue_id': 2838066113, 'author': 'fw-bot', 'body': '@dhba-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:39:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196970.png)](https://mergebot.odoo.com/odoo/odoo/pull/196970)

fw-bot (Issue Creator) on (2025-02-07 12:39:47 UTC): @dhba-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838065405,pull_request,closed,,[FW][IMP] delivery: update `hs_code` field help text and pot files,"Since HS Code field is now also used in USPS connector, the help text of `hs_code` field on `product_template` needs to be updated. Also the POT file containing module titles and descriptions is updated.

Task-3759325

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196802
Forward-Port-Of: odoo/odoo#187405",fw-bot,2025-02-07 12:39:24+00:00,[],2025-02-07 20:40:48+00:00,2025-02-07 20:40:40+00:00,https://github.com/odoo/odoo/pull/196969,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2642809646, 'issue_id': 2838065405, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196969.png)](https://mergebot.odoo.com/odoo/odoo/pull/196969)', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642809687, 'issue_id': 2838065405, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642869038, 'issue_id': 2838065405, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 11, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:39:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196969.png)](https://mergebot.odoo.com/odoo/odoo/pull/196969)

fw-bot (Issue Creator) on (2025-02-07 12:39:33 UTC): @mohammadhossam @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohammadhossam on (2025-02-07 13:11:01 UTC): robodoo r+

"
2838064391,pull_request,closed,,[FW][FIX] account: prevent syntax error on receivable  and payable account type,"This error occurs when the user tries to create a new vendor bill
with a `Chart of Account` having type as `receivable` or `payable`
`when Allow Reconciliation` enabled.

Steps to reproduce:

- Install the `accountant` module.
- Create a new vendor bill record from accounting/vendor
- Create a new journal item with the type of `asset_receivable` or 
 `liability_payable`.
- Check that `Allow Reconciliation` must be enabled.
---
Error:
`SyntaxError:  WHERE part.debit_move_id IN ()`

This error occurs because code refactors with commit [1] allow compute to 
reconcile the bank account in a draft move but since the move/line is not saved
it returns as virtual_id and it causes an error.

This commit will fix the above issue by checking whether the reconciled contains
ids or not, if it does not contain an ids it returns an empty dictionary.

[1] - https://github.com/odoo/odoo/commit/52903687e136bd3327409aedbda568b60b3428c3

Sentry - 6250883109

Forward-Port-Of: odoo/odoo#195551",fw-bot,2025-02-07 12:38:53+00:00,[],2025-02-07 20:40:46+00:00,2025-02-07 20:40:46+00:00,https://github.com/odoo/odoo/pull/196968,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2642809609, 'issue_id': 2838064391, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196968.png)](https://mergebot.odoo.com/odoo/odoo/pull/196968)', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642809625, 'issue_id': 2838064391, 'author': 'fw-bot', 'body': '@shka-odoo @FlorianGilbert this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:39:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196968.png)](https://mergebot.odoo.com/odoo/odoo/pull/196968)

fw-bot (Issue Creator) on (2025-02-07 12:39:31 UTC): @shka-odoo @FlorianGilbert this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838050996,pull_request,open,,[FIX] hr_recruitment : Allow Interviewer to search with applicant name,"### Steps to reproduce:
	- Create a user with 'Interviewer' group
	- Assign that user as interviewer to few applications
	- Log in as this user
	- Go to All applications list view in Recruitment module
	- Search on 'Applicant'

### Cause:
In https://github.com/odoo-dev/odoo/commit/de79f671150ba29737ffc92d22687463b561524d#diff-3a7fc7935e58656320cc3e13fe8311415c847ae6a4273d87ef606ed520f83754 after introducing the hr_candidate we added an access rule for interviewer group to access this class but he can only write on it and can't search on it.

### Fix:
We updated the access rule of the interviewer group so hec an be able to search on Applicant name.

opw-4501932",yoba-odoo,2025-02-07 12:32:02+00:00,[],2025-02-07 14:00:20+00:00,,https://github.com/odoo/odoo/pull/196967,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642796191, 'issue_id': 2838050996, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196967.png)](https://mergebot.odoo.com/odoo/odoo/pull/196967)', 'created_at': datetime.datetime(2025, 2, 7, 12, 32, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:32:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196967.png)](https://mergebot.odoo.com/odoo/odoo/pull/196967)

"
2838037905,pull_request,open,,[REF] html_editor: remove unused parameter in `pasteText`,"**Reason**:
After PR https://github.com/odoo/odoo/pull/196130, we discovered that the `selection` parameter of `pasteText` was unnecessary. It was not used before calling `insert`, and after that, the selection is outdated. The current selection should instead be retrieved from the selection plugin.

**Change**:
Remove the unused `selection` parameter from `pasteText`.

opw-4558222

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-07 12:25:20+00:00,[],2025-02-07 14:00:21+00:00,,https://github.com/odoo/odoo/pull/196966,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642784207, 'issue_id': 2838037905, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196966.png)](https://mergebot.odoo.com/odoo/odoo/pull/196966)', 'created_at': datetime.datetime(2025, 2, 7, 12, 25, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:25:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196966.png)](https://mergebot.odoo.com/odoo/odoo/pull/196966)

"
2838030682,pull_request,open,,[FW][IMP] l10n_br_website_sale: always display b2b for Brazil,"This commit make brazilen fields always display in address
form even though b2b fields settings disabled from edition
because in LATAM country `ID Type` and `ID Number` field
are required for billing.

Also revert wrong fixed PR https://github.com/odoo/odoo/pull/194110

task-3628329

Forward-Port-Of: odoo/odoo#196925
Forward-Port-Of: odoo/odoo#196182",fw-bot,2025-02-07 12:21:30+00:00,[],2025-02-08 08:35:38+00:00,,https://github.com/odoo/odoo/pull/196965,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642777172, 'issue_id': 2838030682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196965.png)](https://mergebot.odoo.com/odoo/odoo/pull/196965)', 'created_at': datetime.datetime(2025, 2, 7, 12, 21, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642777190, 'issue_id': 2838030682, 'author': 'fw-bot', 'body': '@kcv-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#196182 failed.\n\n* 69fa253e8a2783112494e8dd391ed829a0d5f9e5 <- on this commit\n* fc47572c07866fdd7cdf2f36486e5b53eb430210\n\nstdout:\n```\nAuto-merging addons/l10n_br_website_sale/controllers/main.py\nCONFLICT (content): Merge conflict in addons/l10n_br_website_sale/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 21, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:21:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196965.png)](https://mergebot.odoo.com/odoo/odoo/pull/196965)

fw-bot (Issue Creator) on (2025-02-07 12:21:32 UTC): @kcv-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#196182 failed.

* 69fa253e8a2783112494e8dd391ed829a0d5f9e5 <- on this commit
* fc47572c07866fdd7cdf2f36486e5b53eb430210

stdout:
```
Auto-merging addons/l10n_br_website_sale/controllers/main.py
CONFLICT (content): Merge conflict in addons/l10n_br_website_sale/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2838013819,pull_request,closed,,[FIX] website: fix display options of searchbar,"Since [1] when the searchbar was converted from public widgets to interactions, the display options are only stored inside the `options` field of the interaction, while they were also available in the public widget itself.
Because of this, the icons did not appear anymore when displaying the search results.

This commit fixes this by providing the options to the QWeb context instead of the interaction instance.

Steps to reproduce:
- Install website.
- Click on the search icon.
- Type 'a'.

=> Icons were not displayed in front of the results anymore.

[1]: https://github.com/odoo/odoo/commit/b9b3a605e0f4c5da3a258c980107d6162da7f44f#diff-c4ffbfa5c52a0766010068916597a5e8cb2ea25a7e3b9bf73ef8601108ccb221L43-L46

task-4367641
",bso-odoo,2025-02-07 12:13:19+00:00,[],2025-02-07 16:48:02+00:00,2025-02-07 16:47:45+00:00,https://github.com/odoo/odoo/pull/196964,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2642758177, 'issue_id': 2838013819, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196964.png)](https://mergebot.odoo.com/odoo/odoo/pull/196964)', 'created_at': datetime.datetime(2025, 2, 7, 12, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642840320, 'issue_id': 2838013819, 'author': 'ged-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 12, 56, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:13:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196964.png)](https://mergebot.odoo.com/odoo/odoo/pull/196964)

ged-odoo on (2025-02-07 12:56:18 UTC): robodoo r+

"
2838013071,pull_request,closed,,[REF] html_editor: remove unused parameter in `pasteText`,"**Reason**:
After PR https://github.com/odoo/odoo/pull/196130, we discovered that the `selection` parameter of `pasteText` was unnecessary. It was not used before calling `insert`, and after that, the selection is outdated. The current selection should instead be retrieved from the selection plugin.

**Change**:
Remove the unused `selection` parameter from `pasteText`.

opw-4558222

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-07 12:12:57+00:00,[],2025-02-07 12:27:55+00:00,2025-02-07 12:27:52+00:00,https://github.com/odoo/odoo/pull/196963,[],"[{'comment_id': 2642757515, 'issue_id': 2838013071, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196963.png)](https://mergebot.odoo.com/odoo/odoo/pull/196963)', 'created_at': datetime.datetime(2025, 2, 7, 12, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:13:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196963.png)](https://mergebot.odoo.com/odoo/odoo/pull/196963)

"
2838005794,pull_request,open,,[FW][FIX] stock: correct inventory nocontent message,"The nocontent message for inventory counts was still referring to old concepts from before the 17.0 Milk redesign (like the ""CREATE"" button or the Import action in the Favorites menu).

This commit updates the message to correctly reference the new design actions, corrects the English and escapes translations inserted into HTML.

[task-4550935](https://www.odoo.com/odoo/project.task/4550935)

Forward-Port-Of: odoo/odoo#196908
Forward-Port-Of: odoo/odoo#196835",fw-bot,2025-02-07 12:09:11+00:00,[],2025-02-07 14:00:25+00:00,,https://github.com/odoo/odoo/pull/196962,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642750367, 'issue_id': 2838005794, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196962.png)](https://mergebot.odoo.com/odoo/odoo/pull/196962)', 'created_at': datetime.datetime(2025, 2, 7, 12, 9, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642750384, 'issue_id': 2838005794, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196946\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 12, 9, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:09:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196962.png)](https://mergebot.odoo.com/odoo/odoo/pull/196962)

fw-bot (Issue Creator) on (2025-02-07 12:09:13 UTC): @dylankiss @ticodoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196946

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837999677,pull_request,open,,[IMP] html_editor: add custom font size input in toolbar using iframe,"### Description of the issue/feature this PR addresses:

- The editor only provided a font size dropdown with predefined options, preventing the selection of a custom font size.

### Desired behavior after PR is merged:

- A font size input field is added to toolbar using an _`iframe`_, ensuring the selection remains intact in editable area.
- Clicking the font size input selects the text, and the predefined font size dropdown is displayed. The desired font
size can be entered, and pressing _`Enter`_ applies the value.
- Pressing Enter applies the selected font size to the highlighted text, removes focus from the input box, and
closes the font size dropdown.
- The font size can also be selected from the dropdown.

task-4488396

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adch-odoo,2025-02-07 12:06:00+00:00,[],2025-02-07 14:00:26+00:00,,https://github.com/odoo/odoo/pull/196961,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642744520, 'issue_id': 2837999677, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196961.png)](https://mergebot.odoo.com/odoo/odoo/pull/196961)', 'created_at': datetime.datetime(2025, 2, 7, 12, 6, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 12:06:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196961.png)](https://mergebot.odoo.com/odoo/odoo/pull/196961)

"
2837955083,pull_request,open,,[IMP] web: call on change at init,"TODO: check with aab as a wierd hack

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-02-07 11:42:54+00:00,[],2025-02-07 14:41:21+00:00,,https://github.com/odoo/odoo/pull/196960,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642701321, 'issue_id': 2837955083, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196960.png)](https://mergebot.odoo.com/odoo/odoo/pull/196960)', 'created_at': datetime.datetime(2025, 2, 7, 11, 42, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:42:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196960.png)](https://mergebot.odoo.com/odoo/odoo/pull/196960)

"
2837953713,pull_request,open,,[FIX] purchase_stock: prevent error when opening replenish wizard,"Currently, an error occurs when the replenish wizard is unable to find the default 'Buy' route, which the user may have deleted.

Steps to produce:
- Install the `purchase_stock` module.
- Activate `Multi-Step Routes` from Settings.
- Navigate to `Inventory > Configuration > Warehouse Management > Routes (list)`.
- Delete the `Buy` route record.
- Create a new product without adding vendors or defining routes.
- Click on the `Replenish` button.
- Observe the error.

`AttributeError: 'NoneType' object has no attribute 'id'`

The issue occurs when attempting to access the `id` of the 'Buy' route `purchase_stock.route_warehouse0_buy` - [1], without verifying if it exists. If this route is missing, `self.env.ref(...)` returns `None` which leads to an `AttributeError`.

This commit resolves the issue by checking whether the `purchase_stock.route_warehouse0_buy` route exists before attempting to access its `id`. This prevents errors when the route is missing.

[1] - https://github.com/odoo/odoo/blob/58f4b01dda6ba2e67c21663399aab1c189f4a312/addons/purchase_stock/wizard/product_replenish.py#L108

Sentry-6275025957

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adip-odoo,2025-02-07 11:42:11+00:00,[],2025-02-07 12:00:13+00:00,,https://github.com/odoo/odoo/pull/196959,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642700124, 'issue_id': 2837953713, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196959.png)](https://mergebot.odoo.com/odoo/odoo/pull/196959)', 'created_at': datetime.datetime(2025, 2, 7, 11, 42, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:42:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196959.png)](https://mergebot.odoo.com/odoo/odoo/pull/196959)

"
2837932286,pull_request,open,,[FIX] mrp: add MO lines for kit variant components when BoM update,"Issue
-----
When using the ""Update BOM"" button for a confirmed manufacturing order, components used to produce a specific variant of a kit product are not added to the MO consumables.

Steps to reproduce
-----
- Install Manufacturing app
- Create a BoM for the ""T-Shirt"" product
    - Add a ""Logo"" product as a consumable
- Create a ""Fabric"" product, with ""Material"" Attribute with values ""P"" & ""C""
- Create a BoM for the ""Fabric"" product
    - Set Bom Type to ""Kit""
    - Add a ""Thread"" product as a consumable
    - Add a ""Polyester"" product as a consumable for variant ""P""
    - Add a ""Coton"" product as a consumable for variant ""C""
- Create a Manufacturing Order for ""T-Shirt""
- Confirm the MO
- Open the BoM (click the link in the form)
- Add ""Fabric (C)"" as a component to the BoM
- Go back to the MO and click ""Udate BoM""

-> There is no line for the consumption of ""Coton"" from the ""Fabric"" BoM

Cause
-----
The _link_bom method filters the bom_lines to keep based on the attributes of the final product only, instead of the bom_line's intermediate product.

-----
Ticket:
opw-4480039
",vandroogenbd,2025-02-07 11:31:09+00:00,[],2025-02-07 12:00:14+00:00,,https://github.com/odoo/odoo/pull/196958,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642671342, 'issue_id': 2837932286, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196958.png)](https://mergebot.odoo.com/odoo/odoo/pull/196958)', 'created_at': datetime.datetime(2025, 2, 7, 11, 31, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:31:12 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196958.png)](https://mergebot.odoo.com/odoo/odoo/pull/196958)

"
2837913639,pull_request,closed,,[FIX] point_of_sale: lot-serial dialog in small ui,"Before this commit:
==
- Lot-serial dropdown not visible in the small UI.

After this commit:
==
- Displayed the lot-serial dropdown in the small UI.

opw-4551161


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",paso-odoo,2025-02-07 11:21:48+00:00,[],2025-02-08 03:51:41+00:00,2025-02-08 03:51:41+00:00,https://github.com/odoo/odoo/pull/196957,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642636259, 'issue_id': 2837913639, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196957.png)](https://mergebot.odoo.com/odoo/odoo/pull/196957)', 'created_at': datetime.datetime(2025, 2, 7, 11, 21, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642888093, 'issue_id': 2837913639, 'author': 'vlst-odoo', 'body': 'in master we should use the `dropdown` component from `web` instead. That component is well tested and will help us not run into this type of issues', 'created_at': datetime.datetime(2025, 2, 7, 13, 18, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643236547, 'issue_id': 2837913639, 'author': 'davidmonnom', 'body': '@robodoo r-', 'created_at': datetime.datetime(2025, 2, 7, 15, 23, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643237174, 'issue_id': 2837913639, 'author': 'davidmonnom', 'body': 'Not ready on odoo task and request changes asked by mobt', 'created_at': datetime.datetime(2025, 2, 7, 15, 23, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643275833, 'issue_id': 2837913639, 'author': 'paso-odoo', 'body': '> Not ready on odoo task and request changes asked by mobt\r\n\r\n@davidmonnom \r\n- Now it is not related to the **odoo task**!\r\n- You can move forward with this **opw ticket fix**!\r\n\r\nAlso, the task tag is `saas-18.1` and this fix is in `18.0`!\r\n\r\nThanks\r\n\r\ncc - @vlst-odoo @adgu-odoo', 'created_at': datetime.datetime(2025, 2, 7, 15, 40, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643279399, 'issue_id': 2837913639, 'author': 'davidmonnom', 'body': 'Ok the message was wrong also fix it on commit message', 'created_at': datetime.datetime(2025, 2, 7, 15, 42, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643308746, 'issue_id': 2837913639, 'author': 'paso-odoo', 'body': '> Ok the message was wrong also fix it on commit message\r\n\r\nUpdated thank you!', 'created_at': datetime.datetime(2025, 2, 7, 15, 51, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644153626, 'issue_id': 2837913639, 'author': 'vlst-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 21, 23, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:21:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196957.png)](https://mergebot.odoo.com/odoo/odoo/pull/196957)

vlst-odoo on (2025-02-07 13:18:25 UTC): in master we should use the `dropdown` component from `web` instead. That component is well tested and will help us not run into this type of issues

davidmonnom on (2025-02-07 15:23:10 UTC): @robodoo r-

davidmonnom on (2025-02-07 15:23:24 UTC): Not ready on odoo task and request changes asked by mobt

paso-odoo (Issue Creator) on (2025-02-07 15:40:27 UTC): @davidmonnom 
- Now it is not related to the **odoo task**!
- You can move forward with this **opw ticket fix**!

Also, the task tag is `saas-18.1` and this fix is in `18.0`!

Thanks

cc - @vlst-odoo @adgu-odoo

davidmonnom on (2025-02-07 15:42:01 UTC): Ok the message was wrong also fix it on commit message

paso-odoo (Issue Creator) on (2025-02-07 15:51:11 UTC): Updated thank you!

vlst-odoo on (2025-02-07 21:23:12 UTC): robodoo r+

"
2837895527,pull_request,open,,Master profile test xdo,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",Xavier-Do,2025-02-07 11:12:51+00:00,[],2025-02-07 13:12:07+00:00,,https://github.com/odoo/odoo/pull/196956,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642619579, 'issue_id': 2837895527, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196956.png)](https://mergebot.odoo.com/odoo/odoo/pull/196956)', 'created_at': datetime.datetime(2025, 2, 7, 11, 12, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:12:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196956.png)](https://mergebot.odoo.com/odoo/odoo/pull/196956)

"
2837894063,pull_request,open,,[IMP] stock: add path in URL for the actions in Inventory,"Added path in URL for the main actions of Inventory.

task - 4555119",chha-odoo,2025-02-07 11:12:07+00:00,[],2025-02-07 12:00:17+00:00,,https://github.com/odoo/odoo/pull/196955,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642618248, 'issue_id': 2837894063, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196955.png)](https://mergebot.odoo.com/odoo/odoo/pull/196955)', 'created_at': datetime.datetime(2025, 2, 7, 11, 12, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:12:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196955.png)](https://mergebot.odoo.com/odoo/odoo/pull/196955)

"
2837878073,pull_request,open,,[FIX] loyalty: preventing errors when  product category is missing,"Currently, an exception is generated when a user tries to find the 'Services' product category after it has been deleted.

Steps to reproduce:

1. Install the sale_management module.
2. Navigate to Sales -> Configuration -> Product Categories.
3. Delete the 'Services' category.
4. Go to Sales Settings.
5. Enable 'Promotions, Loyalty & Gift Cards'.
6. Click Save -> An error occurs.

Error:
```ParseError
while parsing /home/odoo/src/odoo/saas-18.1/addons/loyalty/data/loyalty
_data.xml:4, somewhere inside
```

This issue[1] occurs because when the system tries to reference the missing
'Services' product category, it results in a ParseError due to a missing
required record.

[1] -
https://github.com/odoo/odoo/blob/4d9984d0b5f5a856104d11261fecd27ddc2e5466/addons/loyalty/data/loyalty_data.xml#L4-L11

This fix resolves the issue by providing a False value when the 'Services'
product category is missing.

sentry-6243406444

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kkuj-odoo,2025-02-07 11:04:33+00:00,[],2025-02-07 12:00:18+00:00,,https://github.com/odoo/odoo/pull/196954,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642604308, 'issue_id': 2837878073, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196954.png)](https://mergebot.odoo.com/odoo/odoo/pull/196954)', 'created_at': datetime.datetime(2025, 2, 7, 11, 4, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:04:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196954.png)](https://mergebot.odoo.com/odoo/odoo/pull/196954)

"
2837870525,pull_request,closed,,[IMP] web: add context props to Record component,"Before this commit, it was not possible to specify a custom context when using the Record component. Now it is. It is especially useful to set `default_*` keys, s.t. some fields get the proper default value.

Part of task-4510549

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-02-07 11:00:42+00:00,[],2025-02-07 20:41:09+00:00,2025-02-07 20:41:09+00:00,https://github.com/odoo/odoo/pull/196953,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2642596702, 'issue_id': 2837870525, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196953.png)](https://mergebot.odoo.com/odoo/odoo/pull/196953)', 'created_at': datetime.datetime(2025, 2, 7, 11, 0, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 11:00:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196953.png)](https://mergebot.odoo.com/odoo/odoo/pull/196953)

"
2837861953,pull_request,closed,,[I18N] *: re-export pot files,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ticodoo,2025-02-07 10:56:31+00:00,[],2025-02-07 14:02:09+00:00,2025-02-07 14:02:09+00:00,https://github.com/odoo/odoo/pull/196952,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642588425, 'issue_id': 2837861953, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196952.png)](https://mergebot.odoo.com/odoo/odoo/pull/196952)', 'created_at': datetime.datetime(2025, 2, 7, 10, 56, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642590462, 'issue_id': 2837861953, 'author': 'ticodoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 57, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642832269, 'issue_id': 2837861953, 'author': 'ticodoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 7, 12, 51, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642832395, 'issue_id': 2837861953, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 7, 12, 52, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:56:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196952.png)](https://mergebot.odoo.com/odoo/odoo/pull/196952)

ticodoo (Issue Creator) on (2025-02-07 10:57:41 UTC): @robodoo r+

ticodoo (Issue Creator) on (2025-02-07 12:51:58 UTC): @robodoo fw=no

robodoo on (2025-02-07 12:52:01 UTC): Disabled forward-porting.

"
2837857578,pull_request,open,,[FIX] stock_account: added read access right to the stock valuation layer to inv/user group,"
steps to reproduce the bug:
 - install inventory and invoicing app
 - change the user access right of the inventory app to `User`
 - access any of the serial number you have in any of the apps having it

Problem:
Error is raised because no access right for the `stock.valuation.layer` model to the user group. new attribute `stock_valuation_layer_ids` was added to the `stock.lot`model on the stock_account module, and hence no access right for that model for the user group so now anyone with user access to inventory app won't be able to access the serial numbers or edit them

opw-4466042
opw-4551745

Description of the issue/feature this PR addresses:

Current behavior before PR: users with `user access right to inventory app` can't access the serial numbers

Desired behavior after PR is merged: users with `user access right to inventory app` can access the serial numbers


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hyhevic,2025-02-07 10:54:27+00:00,[],2025-02-07 11:00:11+00:00,,https://github.com/odoo/odoo/pull/196951,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642584250, 'issue_id': 2837857578, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196951.png)](https://mergebot.odoo.com/odoo/odoo/pull/196951)', 'created_at': datetime.datetime(2025, 2, 7, 10, 54, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:54:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196951.png)](https://mergebot.odoo.com/odoo/odoo/pull/196951)

"
2837851978,pull_request,open,,[FW][FIX] l10n_sa: Fix CoA Data,"Set the correct accounts for expense & income currency exchange accounts

Description of the issue/feature this PR addresses:
task: https://www.odoo.com/odoo/my-tasks/4179478
swap Exchange Difference Gain & Exchange Difference Loss

Current behavior before PR:
- The exchange difference accounts were wrongly assigned
Desired behavior after PR is merged:
- Fix issue by swapping them



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#190704",fw-bot,2025-02-07 10:51:42+00:00,[],2025-02-07 11:00:13+00:00,,https://github.com/odoo/odoo/pull/196950,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642578764, 'issue_id': 2837851978, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196950.png)](https://mergebot.odoo.com/odoo/odoo/pull/196950)', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642578785, 'issue_id': 2837851978, 'author': 'fw-bot', 'body': '@alny-odoo @FlorianGilbert cherrypicking of pull request odoo/odoo#190704 failed.\n\nstdout:\n```\nCONFLICT (modify/delete): addons/l10n_sa/data/l10n_sa_chart_data.xml deleted in 994c50671e6dc694d869fe27b385002634432dcd and modified in fb2445b0fb065f4706f643c36f755fa6345501a3.  Version fb2445b0fb065f4706f643c36f755fa6345501a3 of addons/l10n_sa/data/l10n_sa_chart_data.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:51:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196950.png)](https://mergebot.odoo.com/odoo/odoo/pull/196950)

fw-bot (Issue Creator) on (2025-02-07 10:51:44 UTC): @alny-odoo @FlorianGilbert cherrypicking of pull request odoo/odoo#190704 failed.

stdout:
```
CONFLICT (modify/delete): addons/l10n_sa/data/l10n_sa_chart_data.xml deleted in 994c50671e6dc694d869fe27b385002634432dcd and modified in fb2445b0fb065f4706f643c36f755fa6345501a3.  Version fb2445b0fb065f4706f643c36f755fa6345501a3 of addons/l10n_sa/data/l10n_sa_chart_data.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837851244,pull_request,open,,[FW][FIX] hr_skills: fix non-derministic error in skills tour,"Before this commit, `hr_skills_tour` used to randomly break in the runbot. The main issue is that it doesn't wait for the new skill to be added before trying to save the form.

This commit adds an extra trigger to make sure the skill is added before attempting to save.

Runbot Error: https://runbot.odoo.com/odoo/action-573/64575



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195860",fw-bot,2025-02-07 10:51:19+00:00,[],2025-02-07 11:00:14+00:00,,https://github.com/odoo/odoo/pull/196949,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642578049, 'issue_id': 2837851244, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196949.png)](https://mergebot.odoo.com/odoo/odoo/pull/196949)', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642578070, 'issue_id': 2837851244, 'author': 'fw-bot', 'body': '@khah-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#195860 failed.\n\nstdout:\n```\nAuto-merging addons/hr_skills/static/tests/tours/skills_tour.js\nCONFLICT (content): Merge conflict in addons/hr_skills/static/tests/tours/skills_tour.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:51:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196949.png)](https://mergebot.odoo.com/odoo/odoo/pull/196949)

fw-bot (Issue Creator) on (2025-02-07 10:51:21 UTC): @khah-odoo @Bertrand2 cherrypicking of pull request odoo/odoo#195860 failed.

stdout:
```
Auto-merging addons/hr_skills/static/tests/tours/skills_tour.js
CONFLICT (content): Merge conflict in addons/hr_skills/static/tests/tours/skills_tour.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837850466,pull_request,open,,[IMP] pos*: adapt for belgian restaurant certification,"Adaptation in various modules and files for belgian restaurant certification

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adgu-odoo,2025-02-07 10:50:56+00:00,[],2025-02-07 11:00:15+00:00,,https://github.com/odoo/odoo/pull/196948,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642577582, 'issue_id': 2837850466, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196948.png)](https://mergebot.odoo.com/odoo/odoo/pull/196948)', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:51:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196948.png)](https://mergebot.odoo.com/odoo/odoo/pull/196948)

"
2837847592,pull_request,open,,[FIX] *sale: fix visibility of quantity buttons in product configurator,"Before this fix, the quantity buttons were always visible in eCommerce, even if the website didn't allow changing the quantity.",ltinel,2025-02-07 10:49:30+00:00,[],2025-02-07 11:56:40+00:00,,https://github.com/odoo/odoo/pull/196947,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642574735, 'issue_id': 2837847592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196947.png)](https://mergebot.odoo.com/odoo/odoo/pull/196947)', 'created_at': datetime.datetime(2025, 2, 7, 10, 49, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642578327, 'issue_id': 2837847592, 'author': 'ltinel', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642578424, 'issue_id': 2837847592, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 7, 10, 51, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:49:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196947.png)](https://mergebot.odoo.com/odoo/odoo/pull/196947)

ltinel (Issue Creator) on (2025-02-07 10:51:29 UTC): @robodoo fw=no

robodoo on (2025-02-07 10:51:32 UTC): Disabled forward-porting.

"
2837838253,pull_request,open,,[FW][FIX] stock: correct inventory nocontent message,"The nocontent message for inventory counts was still referring to old concepts from before the 17.0 Milk redesign (like the ""CREATE"" button or the Import action in the Favorites menu).

This commit updates the message to correctly reference the new design actions, corrects the English and escapes translations inserted into HTML.

[task-4550935](https://www.odoo.com/odoo/project.task/4550935)

Forward-Port-Of: odoo/odoo#196908
Forward-Port-Of: odoo/odoo#196835",fw-bot,2025-02-07 10:44:58+00:00,[],2025-02-07 11:00:17+00:00,,https://github.com/odoo/odoo/pull/196946,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642565770, 'issue_id': 2837838253, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196946.png)](https://mergebot.odoo.com/odoo/odoo/pull/196946)', 'created_at': datetime.datetime(2025, 2, 7, 10, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642565793, 'issue_id': 2837838253, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 10, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:45:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196946.png)](https://mergebot.odoo.com/odoo/odoo/pull/196946)

fw-bot (Issue Creator) on (2025-02-07 10:45:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837835044,pull_request,closed,,"[IMP] web,hr_holidays: calendar: add show_date_picker option","This new option allows, by setting it to a falsy value, to get rid of the mini calendar displayed on the right sidepanel of calendar views.

We use this option in hr_holidays views, which allows to remove a customization.

Part of task-4510549

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aab-odoo,2025-02-07 10:43:23+00:00,[],2025-02-07 22:35:46+00:00,2025-02-07 22:35:46+00:00,https://github.com/odoo/odoo/pull/196945,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2642562571, 'issue_id': 2837835044, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196945.png)](https://mergebot.odoo.com/odoo/odoo/pull/196945)', 'created_at': datetime.datetime(2025, 2, 7, 10, 43, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:43:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196945.png)](https://mergebot.odoo.com/odoo/odoo/pull/196945)

"
2837832015,pull_request,open,,[IMP] micro-optimizations on model,"Small optimizations of core functions.

## iteration
We can prevent allocation when iterating over a single element (common case) and resolve variables only once.
```python
def test(n):
  model = self.browse(range(n))
  %timeit list(model)

# BEFORE and AFTER times
In [5]: test(0)
148 ns ± 0.266 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)
143 ns ± 1.78 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)
In [4]: test(1)
282 ns ± 2.93 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
161 ns ± 2.96 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)
In [6]: test(5)
761 ns ± 3.29 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
714 ns ± 1.96 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
In [7]: test(50)
6.19 μs ± 17.7 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
5.66 μs ± 22.7 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
In [9]: test(5500)
719 μs ± 1.59 μs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
664 μs ± 6.36 μs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
```

## browse
Don't allocate a list if not needed.

## with_context
Simplify the signature of the function and make the first positional parameter explicit.
```python
%timeit self.with_context()
%timeit self.with_context(a='test')
%timeit self.with_context({""a"": ""ok""})
%timeit self.with_context({""a"": ""ok""}, b=1, a=5)
1.85 μs ± 5.93 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
2.36 μs ± 22.4 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
2.16 μs ± 19.8 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
2.31 μs ± 66.3 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
AFTER
1.86 μs ± 21.6 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
2.28 μs ± 27.1 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
2.08 μs ± 18.3 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
2.17 μs ± 23.9 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
```

## field get ensure one
Strip 10ns of ~400 just by removing a function call.
```python
In [2]: %timeit self.name
392 ns ± 3.16 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
In [7]: %timeit len(self._ids) == 1
16.9 ns ± 0.0621 ns per loop (mean ± std. dev. of 7 runs, 100,000,000 loops each)
In [8]: %timeit self.ensure_one()
24.9 ns ± 0.255 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)
```

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-07 10:41:56+00:00,[],2025-02-07 11:00:19+00:00,,https://github.com/odoo/odoo/pull/196944,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642559552, 'issue_id': 2837832015, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196944.png)](https://mergebot.odoo.com/odoo/odoo/pull/196944)', 'created_at': datetime.datetime(2025, 2, 7, 10, 41, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:41:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196944.png)](https://mergebot.odoo.com/odoo/odoo/pull/196944)

"
2837816036,pull_request,closed,,[FIX] html_editor: apply font-size on highest non-block ancestor,"**Problem**:
When `u` or `s` tags are applied, changing the `font-size` wraps the text inside these tags instead of applying it to the tags themselves. For example,
`a<u>b</u>c` → `a<u><font>b</font></u>c`,
which results in an inconsistent appearance.

**Solution**:
Ensure that the `span` for font size is applied to the highest non-block ancestor to maintain proper styling.

**Steps to Reproduce**:
1. Add text.
2. Apply underline.
3. Increase font size.
4. Observe that the underline remains the original size instead of scaling with the text.

opw-3086072

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-07 10:34:31+00:00,[],2025-02-07 18:12:21+00:00,2025-02-07 18:12:21+00:00,https://github.com/odoo/odoo/pull/196943,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642543957, 'issue_id': 2837816036, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196943.png)](https://mergebot.odoo.com/odoo/odoo/pull/196943)', 'created_at': datetime.datetime(2025, 2, 7, 10, 34, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642552292, 'issue_id': 2837816036, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 38, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:34:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196943.png)](https://mergebot.odoo.com/odoo/odoo/pull/196943)

dmo-odoo on (2025-02-07 10:38:27 UTC): @robodoo r+

"
2837811942,pull_request,open,,[IMP] base: Remove non-model class for configuration,"Description of the issue/feature this PR addresses:
Remove classes that are not models from models' inheritance. All inherited classes of a model should be an instance of the MetaModel.
It most cases, it makes no sense to have a separate class for behaviour of a model.


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-07 10:32:34+00:00,[],2025-02-07 11:00:21+00:00,,https://github.com/odoo/odoo/pull/196942,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642539785, 'issue_id': 2837811942, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196942.png)](https://mergebot.odoo.com/odoo/odoo/pull/196942)', 'created_at': datetime.datetime(2025, 2, 7, 10, 32, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:32:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196942.png)](https://mergebot.odoo.com/odoo/odoo/pull/196942)

"
2837800407,pull_request,closed,,[FW][CLA] Sign for letzdoo,"Sign the CLA in name of Letzdoo https://www.letzdoo.com



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196914",fw-bot,2025-02-07 10:27:23+00:00,[],2025-02-07 13:42:23+00:00,2025-02-07 13:42:23+00:00,https://github.com/odoo/odoo/pull/196941,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2642528713, 'issue_id': 2837800407, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196941.png)](https://mergebot.odoo.com/odoo/odoo/pull/196941)', 'created_at': datetime.datetime(2025, 2, 7, 10, 27, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642528727, 'issue_id': 2837800407, 'author': 'fw-bot', 'body': '@letzdoo-js @mart-e this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196929\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 10, 27, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642588783, 'issue_id': 2837800407, 'author': 'mart-e', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 56, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:27:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196941.png)](https://mergebot.odoo.com/odoo/odoo/pull/196941)

fw-bot (Issue Creator) on (2025-02-07 10:27:25 UTC): @letzdoo-js @mart-e this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196929

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mart-e on (2025-02-07 10:56:48 UTC): @robodoo r+

"
2837796980,pull_request,open,,[FIX] wesite_sale: display fiscal information in the correct group,"**Issue**
BR fiscal product fields are displayed inside Ecommerce Shop group instead of Extra Info group

Steps to Reproduce:

1. Install Accounting, Sales, eCommerce, and l10n_br_avatax modules. 
2. Switch company settings from YourCompany to BR Company. 
3. Navigate to Products > Sales Tab.
4. Observe that the fiscal information fields appear under the Ecommerce Shop group instead of Extra Info. 

Expected Behavior: BR fiscal product fields should be displayed inside the Extra Info group. 
Actual Behavior: BR fiscal product fields are incorrectly placed in the Ecommerce Shop group.

**Root Cause**

The issue occurs because the code mistakenly modifies the Extra Info group, adds eCommerce-related fields inside it, and then renames it to Ecommerce Shop. This causes the Extra Info group to disappear, leading to fiscal information being displayed incorrectly.

**Fix**
Instead of modifying the existing Extra Info group, a new separate group is created specifically for eCommerce-related fields. This ensures that fiscal information remains inside the Extra Info group and that eCommerce fields are properly placed next to Ecommerce Media, maintaining UI consistency.

opw-4533760


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",csan-odoo,2025-02-07 10:25:53+00:00,[],2025-02-07 11:00:23+00:00,,https://github.com/odoo/odoo/pull/196940,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642525721, 'issue_id': 2837796980, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196940.png)](https://mergebot.odoo.com/odoo/odoo/pull/196940)', 'created_at': datetime.datetime(2025, 2, 7, 10, 25, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:25:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196940.png)](https://mergebot.odoo.com/odoo/odoo/pull/196940)

"
2837788748,pull_request,open,,[IMP] purchase: add path in URL for the actions in Purchase,"Added path in URL for the main actions of Purchase.

task - 4555069",chha-odoo,2025-02-07 10:21:55+00:00,[],2025-02-07 11:00:25+00:00,,https://github.com/odoo/odoo/pull/196939,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642517869, 'issue_id': 2837788748, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196939.png)](https://mergebot.odoo.com/odoo/odoo/pull/196939)', 'created_at': datetime.datetime(2025, 2, 7, 10, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:22:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196939.png)](https://mergebot.odoo.com/odoo/odoo/pull/196939)

"
2837768167,pull_request,open,,Master fix uom widget abdu,"Some other fixes for UoMs refactoring. Follow-up of #184131.

Task-4471379


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mohammadhossam,2025-02-07 10:12:12+00:00,[],2025-02-07 14:50:33+00:00,,https://github.com/odoo/odoo/pull/196938,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642498027, 'issue_id': 2837768167, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196938.png)](https://mergebot.odoo.com/odoo/odoo/pull/196938)', 'created_at': datetime.datetime(2025, 2, 7, 10, 12, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:12:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196938.png)](https://mergebot.odoo.com/odoo/odoo/pull/196938)

"
2837756410,pull_request,open,,[FIX] web: detect googlebot to avoid redirects,"Those redirects can kill how the site is fetched. If a website has its default language different to english and english is available as a secondary one, the crawler bot will be always redirected to the english version. For example: mysite.info/en_US.

The effect of that is that crawlers like the Googlebot-image aren't able to validate the site icon, as they don't use any site subfolder.

This is the relevant part where the redirection should be avoided

https://github.com/odoo/odoo/blob/cce0b490090580be51fdf5a40fad2ec2b9a49401/addons/http_routing/models/ir_http.py#L452-L455

cc @Tecnativa TT48630


Set to draft for the moment to test on customer


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",chienandalu,2025-02-07 10:07:39+00:00,[],2025-02-07 10:11:29+00:00,,https://github.com/odoo/odoo/pull/196937,[],"[{'comment_id': 2642488589, 'issue_id': 2837756410, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196937.png)](https://mergebot.odoo.com/odoo/odoo/pull/196937)', 'created_at': datetime.datetime(2025, 2, 7, 10, 7, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:07:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196937.png)](https://mergebot.odoo.com/odoo/odoo/pull/196937)

"
2837739822,pull_request,closed,,[FIX] account: basic user report rights,"With the introduction of Invoicing Enterprise (access to bank recon etc) a new user group was created ""Invoicing & Banks"" (`group_account_basic`) This group should also be able to access the customer statement / partner ledger (from the partner smart button)

Task-4465208
",h4818,2025-02-07 10:00:31+00:00,[],2025-02-07 18:12:22+00:00,2025-02-07 18:12:22+00:00,https://github.com/odoo/odoo/pull/196936,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642473038, 'issue_id': 2837739822, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196936.png)](https://mergebot.odoo.com/odoo/odoo/pull/196936)', 'created_at': datetime.datetime(2025, 2, 7, 10, 0, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642535585, 'issue_id': 2837739822, 'author': 'jbw-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 30, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 10:00:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196936.png)](https://mergebot.odoo.com/odoo/odoo/pull/196936)

jbw-odoo on (2025-02-07 10:30:42 UTC): robodoo r+

"
2837706560,pull_request,closed,,[FW][REF] web_editor: split emptying list item with links tests,"Backport of the commit from 17.0 that fixes https://runbot.odoo.com/odoo/runbot.build.error/62208.

Forward-Port-Of: odoo/odoo#196854",fw-bot,2025-02-07 09:44:37+00:00,[],2025-02-07 09:54:46+00:00,2025-02-07 09:54:46+00:00,https://github.com/odoo/odoo/pull/196935,"[('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642439231, 'issue_id': 2837706560, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196935.png)](https://mergebot.odoo.com/odoo/odoo/pull/196935)', 'created_at': datetime.datetime(2025, 2, 7, 9, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642439255, 'issue_id': 2837706560, 'author': 'fw-bot', 'body': '@dmo-odoo cherrypicking of pull request odoo/odoo#196854 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit 2015fb39aeac5b22f31c34cf217cfff8c76204bb.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 9, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642460965, 'issue_id': 2837706560, 'author': 'dmo-odoo', 'body': 'The commit is already in 17.0.', 'created_at': datetime.datetime(2025, 2, 7, 9, 54, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:44:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196935.png)](https://mergebot.odoo.com/odoo/odoo/pull/196935)

fw-bot (Issue Creator) on (2025-02-07 09:44:38 UTC): @dmo-odoo cherrypicking of pull request odoo/odoo#196854 failed.

stdout:
```
You are currently cherry-picking commit 2015fb39aeac5b22f31c34cf217cfff8c76204bb.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dmo-odoo on (2025-02-07 09:54:46 UTC): The commit is already in 17.0.

"
2837694722,pull_request,open,,[FIX] point_of_sale: search product by variant internal reference,"Fix issue where product variants could not be searched in POS using their internal reference (default_code) or name (value).

Steps to Reproduce:
- Create a product with a POS category.
- Create variants and assign internal references.
- Open POS and try searching for a variant using its internal reference.
- No results were found.

Fix:
- Added `default_code` to `_load_pos_data_fields` to ensure it’s available in POS data.
- Updated `exactMatch` function to check variants `default_code` & `name` when searching.
- Remove function `addMainProductsToDisplay` and variable `mainProductVariant` as they were previously used when we were searching into `product.product`. Now that we use `product.template` we don't need this anymore.

task-id: 4552450

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-02-07 09:39:00+00:00,[],2025-02-07 14:41:52+00:00,,https://github.com/odoo/odoo/pull/196934,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642427628, 'issue_id': 2837694722, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196934.png)](https://mergebot.odoo.com/odoo/odoo/pull/196934)', 'created_at': datetime.datetime(2025, 2, 7, 9, 39, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:39:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196934.png)](https://mergebot.odoo.com/odoo/odoo/pull/196934)

"
2837686747,pull_request,closed,,[FW][FIX] account: CABA on payment with credit note,"Before this commit, the credit note's tax lines were causing an issue during reconciliation because they were reconciled with both the invoice and with the cash basis entry.

Reproduce:
* Enable cash basis accounting.
* On the tax that will be used, set: Tax Exigibility: Based on Payment.
* Allow reconciliation on the associated account.
* Add a product without tax and save.
* Then, add a tax.
* Try to create and post a credit note for this invoice

Forward-Port-Of: odoo/odoo#192586",fw-bot,2025-02-07 09:35:07+00:00,[],2025-02-08 01:04:25+00:00,2025-02-08 01:04:25+00:00,https://github.com/odoo/odoo/pull/196933,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642419227, 'issue_id': 2837686747, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196933.png)](https://mergebot.odoo.com/odoo/odoo/pull/196933)', 'created_at': datetime.datetime(2025, 2, 7, 9, 35, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642419244, 'issue_id': 2837686747, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 9, 35, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642479001, 'issue_id': 2837686747, 'author': 'fw-bot', 'body': '@william-andre @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 10, 3, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643200174, 'issue_id': 2837686747, 'author': 'fw-bot', 'body': '@william-andre @smetl this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 15, 7, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643200658, 'issue_id': 2837686747, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 7, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:35:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196933.png)](https://mergebot.odoo.com/odoo/odoo/pull/196933)

fw-bot (Issue Creator) on (2025-02-07 09:35:09 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 10:03:20 UTC): @william-andre @smetl ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-07 15:07:21 UTC): @william-andre @smetl this PR was modified / updated and has become a normal PR. It must be merged directly.

william-andre on (2025-02-07 15:07:34 UTC): @robodoo r+

"
2837674544,pull_request,closed,,[FW][FIX] html_editor: convert xml self-closing elements to html,"HTML content is often saved as XML (i.e. through templates) and saved as such in the database. This introduces issues when elements are written under their `self-closing` format (i.e. `<a/>` or `<br/>`) as browsers will incorrectly parse these values as HTML by adding a closing tag at an arbitrary position which may modify the initial nodes configuration. This can be prevented by post-processing untrusted content before the html parsing.

This commit is an overhaul of:
https://github.com/odoo/odoo/commit/26b922ef5cad42da7e188195e919e54878d472fc https://github.com/odoo/odoo/commit/1a8a943d8373864165cb513b3767b866d626fad8 https://github.com/odoo/odoo/commit/4e547b24a323f8e59a11c5b78cbea38effc37938

in order to apply the conversion at critical entry points for editor assets:
- HtmlField is an entry point for data coming from the server, stored on the record. Every access of the record data should not be trusted and go through the post-processing.

- HtmlViewer is an entry point as it can be used as a standalone (see `website_knowledge`, or the HistoryDialog) for data coming from the server.

- Editor is an entry point as it was developed to be useable as a standalone.

task-4547973

Forward-Port-Of: odoo/odoo#196442",fw-bot,2025-02-07 09:29:15+00:00,[],2025-02-08 06:14:59+00:00,2025-02-08 06:14:59+00:00,https://github.com/odoo/odoo/pull/196932,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2642406154, 'issue_id': 2837674544, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196932.png)](https://mergebot.odoo.com/odoo/odoo/pull/196932)', 'created_at': datetime.datetime(2025, 2, 7, 9, 29, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642406206, 'issue_id': 2837674544, 'author': 'fw-bot', 'body': '@abd-msyukyu-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196864\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 9, 29, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644116695, 'issue_id': 2837674544, 'author': 'abd-msyukyu-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 20, 59, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:29:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196932.png)](https://mergebot.odoo.com/odoo/odoo/pull/196932)

fw-bot (Issue Creator) on (2025-02-07 09:29:18 UTC): @abd-msyukyu-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196864

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

abd-msyukyu-odoo on (2025-02-07 20:59:01 UTC): @robodoo r+

"
2837637896,pull_request,open,,[FIX] pos_loyalty: prevent deletion of mail template if in use,"Currently a `ParseError` is arising when the user upgrades the `pos_loyalty` module after deleting the `Gift Card: Gift Card Information` template in the mail template.

Steps to reproduce:
---
- Install the `pos_loyalty` module
- Delete `Gift Card: Gift Card Information` from `Email Templates`
- Now upgrade `pos_loyalty` module

Traceback:
---
```
UserError: You must set 'Email template' before setting 'Print Report'.

ParseError: while parsing /home/odoo/src/odoo/saas-18.1/addons/pos_loyalty/data/gift_card_data.xml:12, somewhere inside <record id=""loyalty.gift_card_program"" model=""loyalty.program"">
        <field name=""pos_report_print_id"" ref=""loyalty.report_gift_card""/>
    </record>
```

This commit resolves the issue by preventing the deletion of mail template if it is used by `Gift Cards`

sentry-6267881886

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-02-07 09:11:01+00:00,[],2025-02-07 10:00:14+00:00,,https://github.com/odoo/odoo/pull/196931,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642358464, 'issue_id': 2837637896, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196931.png)](https://mergebot.odoo.com/odoo/odoo/pull/196931)', 'created_at': datetime.datetime(2025, 2, 7, 9, 11, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:11:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196931.png)](https://mergebot.odoo.com/odoo/odoo/pull/196931)

"
2837634203,pull_request,open,,[IMP] mrp: added pretty URLs for useful actions,"Enabled pretty URLs for key actions, making navigation clearer.

task-4555148",srap-odoo,2025-02-07 09:09:13+00:00,[],2025-02-07 10:00:15+00:00,,https://github.com/odoo/odoo/pull/196930,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642353492, 'issue_id': 2837634203, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196930.png)](https://mergebot.odoo.com/odoo/odoo/pull/196930)', 'created_at': datetime.datetime(2025, 2, 7, 9, 9, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:09:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196930.png)](https://mergebot.odoo.com/odoo/odoo/pull/196930)

"
2837623755,pull_request,closed,,[FW][CLA] Sign for letzdoo,"Sign the CLA in name of Letzdoo https://www.letzdoo.com



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196914",fw-bot,2025-02-07 09:04:02+00:00,[],2025-02-07 12:39:26+00:00,2025-02-07 12:39:26+00:00,https://github.com/odoo/odoo/pull/196929,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642329350, 'issue_id': 2837623755, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196929.png)](https://mergebot.odoo.com/odoo/odoo/pull/196929)', 'created_at': datetime.datetime(2025, 2, 7, 9, 4, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642329371, 'issue_id': 2837623755, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 9, 4, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 09:04:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196929.png)](https://mergebot.odoo.com/odoo/odoo/pull/196929)

fw-bot (Issue Creator) on (2025-02-07 09:04:04 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837572616,pull_request,closed,,[FW][FIX] l10n_fr_account: exclude custom bics from getting xmlid,"The upgrade script is supposed to create xmlids for french banks that were already created from csv, if it matches custom records that have unusual bic, it is better to skip the whole record. Standard BIC format is a capital alphanumeric only. Replacing the spaces or unsupported characters in the xmlid will result in custom records looking like they come from standard module.

alternate fix for https://github.com/odoo/odoo/pull/191970



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195740",fw-bot,2025-02-07 08:41:27+00:00,[],2025-02-07 13:41:48+00:00,2025-02-07 13:41:48+00:00,https://github.com/odoo/odoo/pull/196928,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2642266484, 'issue_id': 2837572616, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196928.png)](https://mergebot.odoo.com/odoo/odoo/pull/196928)', 'created_at': datetime.datetime(2025, 2, 7, 8, 41, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642266506, 'issue_id': 2837572616, 'author': 'fw-bot', 'body': '@jjmaksoud @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196880\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 8, 41, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:41:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196928.png)](https://mergebot.odoo.com/odoo/odoo/pull/196928)

fw-bot (Issue Creator) on (2025-02-07 08:41:29 UTC): @jjmaksoud @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196880

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837568676,pull_request,open,,[IMP] l10n_in_hr_holiday: added exceptional days,"In this commit,

we are introducing a feature for managing exceptional working days for employees If an employee is required to work on a non-working day, we will utilize this newly created exceptional day

- This model includes a calendar field, allowing you to set exceptional days for specific calendars. If not specified, it will apply to all employees.
- The model also has a company field to ensure it only applies to the selected company.
- Additionally, a color field indicates how the calendar will display these exceptional days.
- In the calendar's filter area, you will find a section for exceptional days, which lists all the defined exceptional days.
- Exceptional days should be created on non-working days, as this is their intended purpose.
- Do not create an exceptional day on a public holiday, as this will trigger a user error.
- If an employee takes leave on an exceptional day, it will be treated as a normal leave day, similar to a working day,
and it will be deducted from their leave allocation

Task - 4222822

",yava-odoo,2025-02-07 08:39:25+00:00,[],2025-02-07 09:00:12+00:00,,https://github.com/odoo/odoo/pull/196927,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642262567, 'issue_id': 2837568676, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196927.png)](https://mergebot.odoo.com/odoo/odoo/pull/196927)', 'created_at': datetime.datetime(2025, 2, 7, 8, 39, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:39:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196927.png)](https://mergebot.odoo.com/odoo/odoo/pull/196927)

"
2837553850,pull_request,open,,[FIX] pos_restaurant: prevent error when archiving floor plan,"This error occurs when we attempt to archive the floor plan.

Steps to reproduce:
---
- Install the ``pos_restaurant`` module
- POS > Configuration > Floor Plan
- Select all > Archive

Traceback : 
---
``ValueError: Expected singleton: restaurant.floor(2, 3, 4, 5)``

At [1], this error occurs because we are retrieving the ``floor_prefix`` data from self, which returns all records instead of a single record.

This commit will resolve the above error by using ``floor`` in place of ``self`` in the for loop.

[1]- https://github.com/odoo/odoo/blob/4d9984d0b5f5a856104d11261fecd27ddc2e5466/addons/pos_restaurant/models/pos_restaurant.py#L58-L60

sentry-6275463514

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",aamo-odoo,2025-02-07 08:31:36+00:00,[],2025-02-07 13:26:11+00:00,,https://github.com/odoo/odoo/pull/196926,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642248018, 'issue_id': 2837553850, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196926.png)](https://mergebot.odoo.com/odoo/odoo/pull/196926)', 'created_at': datetime.datetime(2025, 2, 7, 8, 31, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642370733, 'issue_id': 2837553850, 'author': 'aamo-odoo', 'body': 'Hello @odoo/sentry_reviewers\r\n\r\nPlease review this PR.\r\n\r\nThanks! :)', 'created_at': datetime.datetime(2025, 2, 7, 9, 13, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642920508, 'issue_id': 2837553850, 'author': 'adwid', 'body': 'Hey\r\nThx\r\nCan you add a test please ?\r\nrobodoo delegate=@sbel-odoo', 'created_at': datetime.datetime(2025, 2, 7, 13, 26, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:31:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196926.png)](https://mergebot.odoo.com/odoo/odoo/pull/196926)

aamo-odoo (Issue Creator) on (2025-02-07 09:13:22 UTC): Hello @odoo/sentry_reviewers

Please review this PR.

Thanks! :)

adwid on (2025-02-07 13:26:10 UTC): Hey
Thx
Can you add a test please ?
robodoo delegate=@sbel-odoo

"
2837536675,pull_request,closed,,[FW][IMP] l10n_br_website_sale: always display b2b for Brazil,"This commit make brazilen fields always display in address
form even though b2b fields settings disabled from edition
because in LATAM country `ID Type` and `ID Number` field
are required for billing.

Also revert wrong fixed PR https://github.com/odoo/odoo/pull/194110

task-3628329

Forward-Port-Of: odoo/odoo#196741
Forward-Port-Of: odoo/odoo#196182",fw-bot,2025-02-07 08:21:54+00:00,[],2025-02-07 12:21:05+00:00,2025-02-07 12:21:04+00:00,https://github.com/odoo/odoo/pull/196925,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2642230141, 'issue_id': 2837536675, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196925.png)](https://mergebot.odoo.com/odoo/odoo/pull/196925)', 'created_at': datetime.datetime(2025, 2, 7, 8, 21, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642230157, 'issue_id': 2837536675, 'author': 'fw-bot', 'body': '@kcv-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#196182 failed.\n\n* 98211e95165eb247da7bc8edf5a24fa02635525e <- on this commit\n* c36964d6ab63c1e3610d53d125b0b454980464cf\n\nstdout:\n```\nAuto-merging addons/l10n_br_website_sale/controllers/main.py\nCONFLICT (content): Merge conflict in addons/l10n_br_website_sale/controllers/main.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 8, 21, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642270686, 'issue_id': 2837536675, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 8, 43, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:21:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196925.png)](https://mergebot.odoo.com/odoo/odoo/pull/196925)

fw-bot (Issue Creator) on (2025-02-07 08:21:56 UTC): @kcv-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#196182 failed.

* 98211e95165eb247da7bc8edf5a24fa02635525e <- on this commit
* c36964d6ab63c1e3610d53d125b0b454980464cf

stdout:
```
Auto-merging addons/l10n_br_website_sale/controllers/main.py
CONFLICT (content): Merge conflict in addons/l10n_br_website_sale/controllers/main.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-02-07 08:43:34 UTC): @robodoo r+

"
2837535041,pull_request,closed,,[FW][FIX] account: CABA on payment with credit note,"Before this commit, the credit note's tax lines were causing an issue during reconciliation because they were reconciled with both the invoice and with the cash basis entry.

Reproduce:
* Enable cash basis accounting.
* On the tax that will be used, set: Tax Exigibility: Based on Payment.
* Allow reconciliation on the associated account.
* Add a product without tax and save.
* Then, add a tax.
* Try to create and post a credit note for this invoice

Forward-Port-Of: odoo/odoo#192586",fw-bot,2025-02-07 08:21:00+00:00,[],2025-02-07 16:18:35+00:00,2025-02-07 16:18:35+00:00,https://github.com/odoo/odoo/pull/196924,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642228216, 'issue_id': 2837535041, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196924.png)](https://mergebot.odoo.com/odoo/odoo/pull/196924)', 'created_at': datetime.datetime(2025, 2, 7, 8, 21, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642228246, 'issue_id': 2837535041, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 8, 21, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643195626, 'issue_id': 2837535041, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 5, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643200228, 'issue_id': 2837535041, 'author': 'fw-bot', 'body': ""@william-andre @smetl child PR odoo/odoo#196933 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 7, 15, 7, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:21:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196924.png)](https://mergebot.odoo.com/odoo/odoo/pull/196924)

fw-bot (Issue Creator) on (2025-02-07 08:21:02 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-02-07 15:05:36 UTC): @robodoo r+

fw-bot (Issue Creator) on (2025-02-07 15:07:23 UTC): @william-andre @smetl child PR odoo/odoo#196933 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2837533424,pull_request,open,,[IMP] orm: check decorators in overrides,"Description of the issue/feature this PR addresses:
When overwriting methods, most decorators are not automatically propagated. Most of the time this is on purpose, but sometimes we should have the same attribute set.

The main example is @api.model: it is a kind of classmethod and an override should be as well.
This prevents forgetting to add @api.model and break RPC calls.

Current behavior before PR:
If you forget to add @api.model on the overwrite, the RPC calls will fail at it will try to set the ids for the recordset.

Desired behavior after PR is merged:
Keep behaviour when overriding. Avoids issues like #195268


odoo/enterprise#78798

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",kmagusiak,2025-02-07 08:20:03+00:00,[],2025-02-07 10:33:32+00:00,,https://github.com/odoo/odoo/pull/196923,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642226528, 'issue_id': 2837533424, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196923.png)](https://mergebot.odoo.com/odoo/odoo/pull/196923)', 'created_at': datetime.datetime(2025, 2, 7, 8, 20, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:20:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196923.png)](https://mergebot.odoo.com/odoo/odoo/pull/196923)

"
2837520312,pull_request,closed,,[FW][FIX] l10n_es*: fix taxes,"This commit :
- adds missing VAT 0% export (goods) tax
- correct erroneous fiscal position
- reactivate taxes that were deactivated with https://github.com/odoo/odoo/commit/401a961258e991151370899d4b61809879d5a5a8 after reconsideration

Task: 4453629

Forward-Port-Of: odoo/odoo#196738",fw-bot,2025-02-07 08:12:57+00:00,[],2025-02-07 11:09:44+00:00,2025-02-07 11:09:44+00:00,https://github.com/odoo/odoo/pull/196922,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642211979, 'issue_id': 2837520312, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196922.png)](https://mergebot.odoo.com/odoo/odoo/pull/196922)', 'created_at': datetime.datetime(2025, 2, 7, 8, 12, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642212023, 'issue_id': 2837520312, 'author': 'fw-bot', 'body': '@jbw-odoo @h4818 this PR targets saas-17.4 and is the last of the forward-port chain containing:\n* odoo/odoo#196917\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 8, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 08:12:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196922.png)](https://mergebot.odoo.com/odoo/odoo/pull/196922)

fw-bot (Issue Creator) on (2025-02-07 08:13:00 UTC): @jbw-odoo @h4818 this PR targets saas-17.4 and is the last of the forward-port chain containing:
* odoo/odoo#196917

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837480607,pull_request,open,,[FIX] hr_attendance: kiosk mode lang,"Issue: When you try to acssess the kiosk mode for a company which has no lang set on its partner, a blocking error is raised

solve: add the env.lang as a default lang if the partner lang return false

Task: 4465594


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",amah-odoo,2025-02-07 07:52:15+00:00,[],2025-02-07 08:23:49+00:00,,https://github.com/odoo/odoo/pull/196921,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642173472, 'issue_id': 2837480607, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196921.png)](https://mergebot.odoo.com/odoo/odoo/pull/196921)', 'created_at': datetime.datetime(2025, 2, 7, 7, 52, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 07:52:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196921.png)](https://mergebot.odoo.com/odoo/odoo/pull/196921)

"
2837450250,pull_request,open,,[FIX] im_livechat: composer inactive when chatbot expects inputs,"Prior to this commit:
During step processing in a chatbot, the composer would become inactive even when the step required user input. This commit resolves the issue by removing the check for step completion check, as the step remains pending until the user provides input.

task-4509416
",maad-odoo,2025-02-07 07:35:59+00:00,[],2025-02-07 08:00:11+00:00,,https://github.com/odoo/odoo/pull/196920,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642141119, 'issue_id': 2837450250, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196920.png)](https://mergebot.odoo.com/odoo/odoo/pull/196920)', 'created_at': datetime.datetime(2025, 2, 7, 7, 36, 2, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 07:36:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196920.png)](https://mergebot.odoo.com/odoo/odoo/pull/196920)

"
2837450174,pull_request,open,,[FIX] base: embedded action default domain,"Steps:
- Set domain of an embedded action to false
    - this override the default value
- Try to use the embedded action

Actual result:
- Error due to invalid domain

Expected result:
- Embedded action work and use empty domain as default

opw-4529210",GaetanVandenBergh,2025-02-07 07:35:56+00:00,[],2025-02-07 08:25:06+00:00,,https://github.com/odoo/odoo/pull/196919,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2642141056, 'issue_id': 2837450174, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196919.png)](https://mergebot.odoo.com/odoo/odoo/pull/196919)', 'created_at': datetime.datetime(2025, 2, 7, 7, 35, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 07:35:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196919.png)](https://mergebot.odoo.com/odoo/odoo/pull/196919)

"
2837437616,pull_request,open,,"[IMP] base, website: ensure public user exists and prevent deletion","Steps to Reproduce:
1. Create a database without installing the Website module.
2. Navigate to archived users and delete the ""Public User.""
3. Attempt to log in to the database from another browser or incognito mode.
4. An internal server error occurs because the public user does not exist, making the login page inaccessible.

Issue:
Previously, it was possible to delete the public user, leading to an internal server error due to its absence, which prevented public access to the login page.

Solution:
- Implemented a restriction to prevent the deletion of the public user, similar to portal and default users.
- Introduced a **pre_init_hook** to verify the existence of the public user in existing databases. If missing, the user is recreated during the Website module installation.
- The **pre_init_hook** ensures the public user is created with the necessary details and linked to the `base.public_user` external ID.
- Added a test case to validate this functionality and ensure the public user cannot be deleted.

task-4423568",shsa-odoo,2025-02-07 07:27:55+00:00,[],2025-02-07 08:00:14+00:00,,https://github.com/odoo/odoo/pull/196918,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642129310, 'issue_id': 2837437616, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196918.png)](https://mergebot.odoo.com/odoo/odoo/pull/196918)', 'created_at': datetime.datetime(2025, 2, 7, 7, 27, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 07:27:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196918.png)](https://mergebot.odoo.com/odoo/odoo/pull/196918)

"
2837412023,pull_request,closed,,[FW][FIX] l10n_es*: fix taxes,"This commit :
- adds missing VAT 0% export (goods) tax
- correct erroneous fiscal position
- reactivate taxes that were deactivated with https://github.com/odoo/odoo/commit/401a961258e991151370899d4b61809879d5a5a8 after reconsideration

Task: 4453629

Forward-Port-Of: odoo/odoo#196738",fw-bot,2025-02-07 07:11:05+00:00,[],2025-02-07 12:49:03+00:00,2025-02-07 12:49:03+00:00,https://github.com/odoo/odoo/pull/196917,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642106415, 'issue_id': 2837412023, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196917.png)](https://mergebot.odoo.com/odoo/odoo/pull/196917)', 'created_at': datetime.datetime(2025, 2, 7, 7, 11, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642106432, 'issue_id': 2837412023, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 7, 11, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 07:11:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196917.png)](https://mergebot.odoo.com/odoo/odoo/pull/196917)

fw-bot (Issue Creator) on (2025-02-07 07:11:07 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837411557,pull_request,closed,,[FW][FIX] account: CABA on payment with credit note,"Before this commit, the credit note's tax lines were causing an issue during reconciliation because they were reconciled with both the invoice and with the cash basis entry.

Reproduce:
* Enable cash basis accounting.
* On the tax that will be used, set: Tax Exigibility: Based on Payment.
* Allow reconciliation on the associated account.
* Add a product without tax and save.
* Then, add a tax.
* Try to create and post a credit note for this invoice

Forward-Port-Of: odoo/odoo#192586",fw-bot,2025-02-07 07:10:45+00:00,[],2025-02-07 17:27:14+00:00,2025-02-07 17:27:14+00:00,https://github.com/odoo/odoo/pull/196916,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2642105925, 'issue_id': 2837411557, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196916.png)](https://mergebot.odoo.com/odoo/odoo/pull/196916)', 'created_at': datetime.datetime(2025, 2, 7, 7, 10, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642105944, 'issue_id': 2837411557, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 7, 10, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 07:10:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196916.png)](https://mergebot.odoo.com/odoo/odoo/pull/196916)

fw-bot (Issue Creator) on (2025-02-07 07:10:47 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837374667,pull_request,open,,[FIX] point_of_sale: ensure `pos-receipt-order-data` xpath always exists,"Before this commit:
===
- The `pos-receipt-order-data` class was used as an XPath reference in multiple
modules (l10n_fr_pos_cert, l10n_co_pos, pos_mercury, and pos_restaurant).
- In point_of_sale, first of this class was used to add a QR code (pos_qr_code)
to the receipt, but it was wrapped in a t-if=""pos_qr_code"" condition.
- Due to this, the XPath content from other modules was only visible when
pos_qr_code was present.

After this commit:
===
- Added an empty <div class=""pos-receipt-order-data"" /> outside the conditional
block.
- This ensures that the XPath reference is always available.


task-4552477",meji-odoo,2025-02-07 06:46:42+00:00,[],2025-02-07 10:06:27+00:00,,https://github.com/odoo/odoo/pull/196915,"[('RD', 'research & development, internal work')]","[{'comment_id': 2642074829, 'issue_id': 2837374667, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196915.png)](https://mergebot.odoo.com/odoo/odoo/pull/196915)', 'created_at': datetime.datetime(2025, 2, 7, 6, 46, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 06:46:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196915.png)](https://mergebot.odoo.com/odoo/odoo/pull/196915)

"
2837256324,pull_request,closed,,[CLA] Sign for letzdoo,"Sign the CLA in name of Letzdoo https://www.letzdoo.com



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",letzdoo-js,2025-02-07 05:14:29+00:00,[],2025-02-07 09:03:29+00:00,2025-02-07 09:03:29+00:00,https://github.com/odoo/odoo/pull/196914,"[('CLA', 'Contributor License Agreement')]","[{'comment_id': 2641965407, 'issue_id': 2837256324, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196914.png)](https://mergebot.odoo.com/odoo/odoo/pull/196914)', 'created_at': datetime.datetime(2025, 2, 7, 5, 14, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642083277, 'issue_id': 2837256324, 'author': 'mart-e', 'body': ""Hello,\r\n\r\nThank you for the signature, it will soon be integrated into Odoo.\r\nFuture pull requests made on odoo will be validated by the runbot.\r\nIf you have existing PRs that are awaiting for CLA validation, don't forget to rebase your code as soon as this is merged.\r\n\r\nRegards\r\n\r\n@robodoo review+"", 'created_at': datetime.datetime(2025, 2, 7, 6, 53, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 05:14:32 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196914.png)](https://mergebot.odoo.com/odoo/odoo/pull/196914)

mart-e on (2025-02-07 06:53:37 UTC): Hello,

Thank you for the signature, it will soon be integrated into Odoo.
Future pull requests made on odoo will be validated by the runbot.
If you have existing PRs that are awaiting for CLA validation, don't forget to rebase your code as soon as this is merged.

Regards

@robodoo review+

"
2837252713,pull_request,open,,[IMP] hr_leave: Skip date constraint check for 'Other' leave type,"Description of the issue/feature this PR addresses:

This commit modifies the `_check_date` method in the `HrLeave` model to skip the date constraint check when the leave type is set to 'Other'.

- Updated `_check_date` method to bypass the standard date validation if `leave_type_time_type` is 'other'.

- This allows for more flexible date configurations for specific leave types.

Current behavior before PR:

The _check_date method always enforces date constraints, regardless of the leave type. This prevents the use of ""leave"" types that do not require strict date validation as they are worked time.

Desired behavior after PR is merged:

The _check_date method will skip date validation when the leave_type_time_type is set to 'other', allowing for more flexible leave configurations.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",letzdoo-js,2025-02-07 05:10:55+00:00,[],2025-02-07 06:00:13+00:00,,https://github.com/odoo/odoo/pull/196913,"[('HR', 'Related to Human Resources Applications')]","[{'comment_id': 2641961859, 'issue_id': 2837252713, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196913.png)](https://mergebot.odoo.com/odoo/odoo/pull/196913)', 'created_at': datetime.datetime(2025, 2, 7, 5, 10, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 05:10:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196913.png)](https://mergebot.odoo.com/odoo/odoo/pull/196913)

"
2837216795,pull_request,open,,[FIX] point_of_sale: fix traceback on userlabel,"Steps to Reproduce:
- Log in with a user having no special access right in Employees.
- Install point_of_sale and hr modules.
- Try to download the ""User Labels"" from the ""My Profile"" section.

Cause:
- In the report barcode field has been used which is accessible only to users having ""group_hr_user"" group.

Fix:
- Added a check before accessing the barcode field, to ensure the user has the appropriate access right.

task-4497441

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rmun-odoo,2025-02-07 04:35:37+00:00,[],2025-02-07 05:00:11+00:00,,https://github.com/odoo/odoo/pull/196912,"[('RD', 'research & development, internal work')]","[{'comment_id': 2641927868, 'issue_id': 2837216795, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196912.png)](https://mergebot.odoo.com/odoo/odoo/pull/196912)', 'created_at': datetime.datetime(2025, 2, 7, 4, 35, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 04:35:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196912.png)](https://mergebot.odoo.com/odoo/odoo/pull/196912)

"
2837182834,pull_request,closed,,[FW][FIX] account: validate entire structured reference,"In SEPA payment files, when a structured reference is used, it is put in the section `RmtInf/Strd/CdtrRefInf/Ref`. This section has a maximum length of 35 characters. Since we only use structured references that are always less that 35 characters, this should not be a problem.

However, the way we validated the structured reference was by performing a `re.match()`, which only matches from the beginning of the string. So if more characters would be after the structured reference, it would still match and it would be possible to go beyond 35 characters.

In this commit, we fix this by using a full match instead of a match from the beginning.

[opw-4357554](https://www.odoo.com/odoo/project.task/4357554)

Forward-Port-Of: odoo/odoo#196841
Forward-Port-Of: odoo/odoo#194583",fw-bot,2025-02-07 04:01:34+00:00,[],2025-02-07 10:55:55+00:00,2025-02-07 10:55:52+00:00,https://github.com/odoo/odoo/pull/196911,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2641893562, 'issue_id': 2837182834, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196911.png)](https://mergebot.odoo.com/odoo/odoo/pull/196911)', 'created_at': datetime.datetime(2025, 2, 7, 4, 1, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641893572, 'issue_id': 2837182834, 'author': 'fw-bot', 'body': '@dylankiss @hupo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196909\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 4, 1, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642178133, 'issue_id': 2837182834, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 54, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 04:01:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196911.png)](https://mergebot.odoo.com/odoo/odoo/pull/196911)

fw-bot (Issue Creator) on (2025-02-07 04:01:36 UTC): @dylankiss @hupo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196909

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-07 07:54:59 UTC): @robodoo r+

"
2837176523,pull_request,closed,,Sale order quotation customization,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",nomadmotion,2025-02-07 03:55:02+00:00,[],2025-02-07 04:02:20+00:00,2025-02-07 03:55:17+00:00,https://github.com/odoo/odoo/pull/196910,[],"[{'comment_id': 2641887752, 'issue_id': 2837176523, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196910.png)](https://mergebot.odoo.com/odoo/odoo/pull/196910)', 'created_at': datetime.datetime(2025, 2, 7, 3, 55, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 03:55:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196910.png)](https://mergebot.odoo.com/odoo/odoo/pull/196910)

"
2837110761,pull_request,closed,,[FW][FIX] account: validate entire structured reference,"In SEPA payment files, when a structured reference is used, it is put in the section `RmtInf/Strd/CdtrRefInf/Ref`. This section has a maximum length of 35 characters. Since we only use structured references that are always less that 35 characters, this should not be a problem.

However, the way we validated the structured reference was by performing a `re.match()`, which only matches from the beginning of the string. So if more characters would be after the structured reference, it would still match and it would be possible to go beyond 35 characters.

In this commit, we fix this by using a full match instead of a match from the beginning.

[opw-4357554](https://www.odoo.com/odoo/project.task/4357554)

Forward-Port-Of: odoo/odoo#196841
Forward-Port-Of: odoo/odoo#194583",fw-bot,2025-02-07 02:49:13+00:00,[],2025-02-07 11:10:22+00:00,2025-02-07 11:10:22+00:00,https://github.com/odoo/odoo/pull/196909,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2641808920, 'issue_id': 2837110761, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196909.png)](https://mergebot.odoo.com/odoo/odoo/pull/196909)', 'created_at': datetime.datetime(2025, 2, 7, 2, 49, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641808929, 'issue_id': 2837110761, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 2, 49, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 02:49:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196909.png)](https://mergebot.odoo.com/odoo/odoo/pull/196909)

fw-bot (Issue Creator) on (2025-02-07 02:49:15 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2837093188,pull_request,closed,,[FW][FIX] stock: correct inventory nocontent message,"The nocontent message for inventory counts was still referring to old concepts from before the 17.0 Milk redesign (like the ""CREATE"" button or the Import action in the Favorites menu).

This commit updates the message to correctly reference the new design actions, corrects the English and escapes translations inserted into HTML.

[task-4550935](https://www.odoo.com/odoo/project.task/4550935)

Forward-Port-Of: odoo/odoo#196886
Forward-Port-Of: odoo/odoo#196835",fw-bot,2025-02-07 02:32:16+00:00,[],2025-02-07 10:44:26+00:00,2025-02-07 10:44:26+00:00,https://github.com/odoo/odoo/pull/196908,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2641783507, 'issue_id': 2837093188, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196908.png)](https://mergebot.odoo.com/odoo/odoo/pull/196908)', 'created_at': datetime.datetime(2025, 2, 7, 2, 32, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641783544, 'issue_id': 2837093188, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo cherrypicking of pull request odoo/odoo#196835 failed.\n\nstdout:\n```\nAuto-merging addons/stock/i18n/stock.pot\nCONFLICT (content): Merge conflict in addons/stock/i18n/stock.pot\nAuto-merging addons/stock/models/stock_quant.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 2, 32, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642177273, 'issue_id': 2837093188, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 54, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 02:32:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196908.png)](https://mergebot.odoo.com/odoo/odoo/pull/196908)

fw-bot (Issue Creator) on (2025-02-07 02:32:20 UTC): @dylankiss @ticodoo cherrypicking of pull request odoo/odoo#196835 failed.

stdout:
```
Auto-merging addons/stock/i18n/stock.pot
CONFLICT (content): Merge conflict in addons/stock/i18n/stock.pot
Auto-merging addons/stock/models/stock_quant.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-07 07:54:31 UTC): @robodoo r+

"
2837048962,pull_request,closed,,[FW][FIX] point_of_sale: debounce product stock fetch,"Before this commit, multiple requests were sent when the user changed options in the product configuration.

Additionally, the on-hand quantity was displayed incorrectly when opening the product configuration. When opening the configuration popup, the product was initially set. However, once the configuration was mounted, the selected attributes could result in a different product variant. We call `computeProductProduct` to update the product. The issue occurred because, while the first request was still in progress, a second request was triggered to fetch the correct product information. Since the first request was not yet finished, the second request was ignored, causing the configuration to display an incorrect on-hand quantity for the selected product variant.

opw-4385171

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195599
Forward-Port-Of: odoo/odoo#190469",fw-bot,2025-02-07 01:46:18+00:00,[],2025-02-07 16:48:00+00:00,2025-02-07 16:47:52+00:00,https://github.com/odoo/odoo/pull/196907,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2641732790, 'issue_id': 2837048962, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196907.png)](https://mergebot.odoo.com/odoo/odoo/pull/196907)', 'created_at': datetime.datetime(2025, 2, 7, 1, 46, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641732797, 'issue_id': 2837048962, 'author': 'fw-bot', 'body': '@pedrambiria @caburj this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 1, 46, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642971002, 'issue_id': 2837048962, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 36, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 01:46:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196907.png)](https://mergebot.odoo.com/odoo/odoo/pull/196907)

fw-bot (Issue Creator) on (2025-02-07 01:46:20 UTC): @pedrambiria @caburj this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-07 13:36:52 UTC): @robodoo r+

"
2837048642,pull_request,closed,,[FW][FIX] point_of_sale: prevent error when loading product suppliers,"Previously, opening the product info popup would fail if a product had multiple sellers with the same name but different prices and delays.

opw-4472861

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196341
Forward-Port-Of: odoo/odoo#195617",fw-bot,2025-02-07 01:45:59+00:00,[],2025-02-07 20:41:05+00:00,2025-02-07 20:41:05+00:00,https://github.com/odoo/odoo/pull/196906,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2641732463, 'issue_id': 2837048642, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196906.png)](https://mergebot.odoo.com/odoo/odoo/pull/196906)', 'created_at': datetime.datetime(2025, 2, 7, 1, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641732473, 'issue_id': 2837048642, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 1, 46, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641781090, 'issue_id': 2837048642, 'author': 'fw-bot', 'body': '@pedrambiria @vlst-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 7, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643119598, 'issue_id': 2837048642, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 14, 37, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 01:46:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196906.png)](https://mergebot.odoo.com/odoo/odoo/pull/196906)

fw-bot (Issue Creator) on (2025-02-07 01:46:01 UTC): @pedrambiria @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 02:30:00 UTC): @pedrambiria @vlst-odoo ci/runbot failed on this forward-port PR

pedrambiria on (2025-02-07 14:37:45 UTC): @robodoo r+

"
2836995161,pull_request,closed,,[FW][FIX] stock: correct inventory nocontent message,"The nocontent message for inventory counts was still referring to old concepts from before the 17.0 Milk redesign (like the ""CREATE"" button or the Import action in the Favorites menu).

This commit updates the message to correctly reference the new design actions, corrects the English and escapes translations inserted into HTML.

[task-4550935](https://www.odoo.com/odoo/project.task/4550935)

Forward-Port-Of: odoo/odoo#196886
Forward-Port-Of: odoo/odoo#196835",fw-bot,2025-02-07 01:12:54+00:00,[],2025-02-07 11:09:08+00:00,2025-02-07 11:09:08+00:00,https://github.com/odoo/odoo/pull/196905,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2641581222, 'issue_id': 2836995161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196905.png)](https://mergebot.odoo.com/odoo/odoo/pull/196905)', 'created_at': datetime.datetime(2025, 2, 7, 1, 12, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641581233, 'issue_id': 2836995161, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 1, 12, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641783517, 'issue_id': 2836995161, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo the next pull request (odoo/odoo#196908) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 2, 32, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642157143, 'issue_id': 2836995161, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 44, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 01:12:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196905.png)](https://mergebot.odoo.com/odoo/odoo/pull/196905)

fw-bot (Issue Creator) on (2025-02-07 01:12:55 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-07 02:32:18 UTC): @dylankiss @ticodoo the next pull request (odoo/odoo#196908) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-07 07:44:31 UTC): @robodoo r+

"
2836966085,pull_request,closed,,[FW][FIX] l10n_latam_invoice_document: allow user to create a CN in a journal different than the move,"Description of the issue/feature this PR addresses:
This PR aims to allow the user to create a CN in a different journal than the one the invoice has.

Current behavior before PR:
When a user tries to create a CN from a E-invoice with a manual journal, and then changes the journal on the CN wizard, the field ""Document number"" that is required for manual journals is still visible and required so the wizard can not be confirmed. 

Desired behavior after PR is merged:
When the user creates a CN and then change the journal on the CN wizard, the visibility and requirement of the fields should be adjusted as expected for the journal type selected.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192728",fw-bot,2025-02-07 00:52:30+00:00,[],2025-02-07 12:20:25+00:00,2025-02-07 12:20:25+00:00,https://github.com/odoo/odoo/pull/196904,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2641540421, 'issue_id': 2836966085, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196904.png)](https://mergebot.odoo.com/odoo/odoo/pull/196904)', 'created_at': datetime.datetime(2025, 2, 7, 0, 52, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641540430, 'issue_id': 2836966085, 'author': 'fw-bot', 'body': '@jue-adhoc @antoine162 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196902\n* odoo/odoo#196899\n* odoo/odoo#196894\n* odoo/odoo#196888\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 7, 0, 52, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642347618, 'issue_id': 2836966085, 'author': 'antoine162', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 7, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-07 00:52:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196904.png)](https://mergebot.odoo.com/odoo/odoo/pull/196904)

fw-bot (Issue Creator) on (2025-02-07 00:52:31 UTC): @jue-adhoc @antoine162 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196902
* odoo/odoo#196899
* odoo/odoo#196894
* odoo/odoo#196888

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

antoine162 on (2025-02-07 09:07:11 UTC): @robodoo r+

"
2836847189,pull_request,closed,,[FW][FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194358",fw-bot,2025-02-06 23:37:09+00:00,[],2025-02-07 10:55:56+00:00,2025-02-07 10:55:56+00:00,https://github.com/odoo/odoo/pull/196903,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2641355942, 'issue_id': 2836847189, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196903.png)](https://mergebot.odoo.com/odoo/odoo/pull/196903)', 'created_at': datetime.datetime(2025, 2, 6, 23, 37, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641355961, 'issue_id': 2836847189, 'author': 'fw-bot', 'body': '@arih-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196898\n* odoo/odoo#196893\n* odoo/odoo#196882\n* odoo/odoo#196870\n* odoo/odoo#196855\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 23, 37, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 23:37:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196903.png)](https://mergebot.odoo.com/odoo/odoo/pull/196903)

fw-bot (Issue Creator) on (2025-02-06 23:37:10 UTC): @arih-odoo @h4818 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196898
* odoo/odoo#196893
* odoo/odoo#196882
* odoo/odoo#196870
* odoo/odoo#196855

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836839384,pull_request,closed,,[FW][FIX] l10n_latam_invoice_document: allow user to create a CN in a journal different than the move,"Description of the issue/feature this PR addresses:
This PR aims to allow the user to create a CN in a different journal than the one the invoice has.

Current behavior before PR:
When a user tries to create a CN from a E-invoice with a manual journal, and then changes the journal on the CN wizard, the field ""Document number"" that is required for manual journals is still visible and required so the wizard can not be confirmed. 

Desired behavior after PR is merged:
When the user creates a CN and then change the journal on the CN wizard, the visibility and requirement of the fields should be adjusted as expected for the journal type selected.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192728",fw-bot,2025-02-06 23:31:33+00:00,[],2025-02-07 11:10:45+00:00,2025-02-07 11:10:45+00:00,https://github.com/odoo/odoo/pull/196902,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2641348981, 'issue_id': 2836839384, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196902.png)](https://mergebot.odoo.com/odoo/odoo/pull/196902)', 'created_at': datetime.datetime(2025, 2, 6, 23, 31, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641348993, 'issue_id': 2836839384, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 23, 31, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 23:31:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196902.png)](https://mergebot.odoo.com/odoo/odoo/pull/196902)

fw-bot (Issue Creator) on (2025-02-06 23:31:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836761682,pull_request,closed,,[FIX] point_of_sale: add to context without override,"Fixup for this commit https://github.com/odoo/odoo/commit/c9cefd88bb6f38f8fd504b7c4a8abf263aa1aa4b

A test in 17.4 highlighted a issue with the use of with_context which was overriding it completely instead of adding to it.

opw-4310781",sbel-odoo,2025-02-06 22:29:11+00:00,[],2025-02-07 15:44:16+00:00,2025-02-07 15:44:16+00:00,https://github.com/odoo/odoo/pull/196901,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2641268443, 'issue_id': 2836761682, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196901.png)](https://mergebot.odoo.com/odoo/odoo/pull/196901)', 'created_at': datetime.datetime(2025, 2, 6, 22, 29, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641269230, 'issue_id': 2836761682, 'author': 'sbel-odoo', 'body': '@robodoo up to saas-17.2', 'created_at': datetime.datetime(2025, 2, 6, 22, 29, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641269310, 'issue_id': 2836761682, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.2'."", 'created_at': datetime.datetime(2025, 2, 6, 22, 29, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642419097, 'issue_id': 2836761682, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 35, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 22:29:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196901.png)](https://mergebot.odoo.com/odoo/odoo/pull/196901)

sbel-odoo (Issue Creator) on (2025-02-06 22:29:31 UTC): @robodoo up to saas-17.2

robodoo on (2025-02-06 22:29:34 UTC): Forward-porting to 'saas-17.2'.

adgu-odoo on (2025-02-07 09:35:04 UTC): robodoo r+

"
2836754263,pull_request,open,,[FW][FIX] point_of_sale: only display payments for paid and invoiced orders,"Before this commit, the payment smart button included payments for cancelled orders, even though those payments were not captured. This caused discrepancies as it inaccurately reflected payments for orders that were not finalized.

opw-4487386

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194191",fw-bot,2025-02-06 22:24:23+00:00,[],2025-02-06 23:00:12+00:00,,https://github.com/odoo/odoo/pull/196900,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2641247532, 'issue_id': 2836754263, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196900.png)](https://mergebot.odoo.com/odoo/odoo/pull/196900)', 'created_at': datetime.datetime(2025, 2, 6, 22, 24, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641247582, 'issue_id': 2836754263, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#194191 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/models/pos_session.py\nCONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 22, 24, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 22:24:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196900.png)](https://mergebot.odoo.com/odoo/odoo/pull/196900)

fw-bot (Issue Creator) on (2025-02-06 22:24:26 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#194191 failed.

stdout:
```
Auto-merging addons/point_of_sale/models/pos_session.py
CONFLICT (content): Merge conflict in addons/point_of_sale/models/pos_session.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836737380,pull_request,closed,,[FW][FIX] l10n_latam_invoice_document: allow user to create a CN in a journal different than the move,"Description of the issue/feature this PR addresses:
This PR aims to allow the user to create a CN in a different journal than the one the invoice has.

Current behavior before PR:
When a user tries to create a CN from a E-invoice with a manual journal, and then changes the journal on the CN wizard, the field ""Document number"" that is required for manual journals is still visible and required so the wizard can not be confirmed. 

Desired behavior after PR is merged:
When the user creates a CN and then change the journal on the CN wizard, the visibility and requirement of the fields should be adjusted as expected for the journal type selected.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192728",fw-bot,2025-02-06 22:15:50+00:00,[],2025-02-07 12:40:55+00:00,2025-02-07 12:40:55+00:00,https://github.com/odoo/odoo/pull/196899,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2641185554, 'issue_id': 2836737380, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196899.png)](https://mergebot.odoo.com/odoo/odoo/pull/196899)', 'created_at': datetime.datetime(2025, 2, 6, 22, 15, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641185576, 'issue_id': 2836737380, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 22, 15, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 22:15:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196899.png)](https://mergebot.odoo.com/odoo/odoo/pull/196899)

fw-bot (Issue Creator) on (2025-02-06 22:15:52 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836705323,pull_request,closed,,[FW][FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194358",fw-bot,2025-02-06 21:56:27+00:00,[],2025-02-07 11:10:26+00:00,2025-02-07 11:10:26+00:00,https://github.com/odoo/odoo/pull/196898,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2641149237, 'issue_id': 2836705323, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196898.png)](https://mergebot.odoo.com/odoo/odoo/pull/196898)', 'created_at': datetime.datetime(2025, 2, 6, 21, 56, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641149255, 'issue_id': 2836705323, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 21, 56, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 21:56:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196898.png)](https://mergebot.odoo.com/odoo/odoo/pull/196898)

fw-bot (Issue Creator) on (2025-02-06 21:56:29 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836607332,pull_request,closed,,[FW][ADD] sale_gelato: integrate with Gelato for Print-On-Demand,"This commit adds the possibility to fetch attributes of a template
configured on Gelato to automatically create the corresponding variants
in Odoo. When such variant is included in a sales order, the order is
forwarded to Gelato to trigger the printing and dropshipping of the
product.

task-3935688

See also:
- https://github.com/odoo/enterprise/pull/77839
- https://github.com/odoo/documentation/pull/11823

Forward-Port-Of: odoo/odoo#193457",fw-bot,2025-02-06 21:12:53+00:00,[],2025-02-07 17:26:42+00:00,2025-02-07 17:26:42+00:00,https://github.com/odoo/odoo/pull/196897,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2641042368, 'issue_id': 2836607332, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196897.png)](https://mergebot.odoo.com/odoo/odoo/pull/196897)', 'created_at': datetime.datetime(2025, 2, 6, 21, 12, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641042423, 'issue_id': 2836607332, 'author': 'fw-bot', 'body': '@anko-odoo @AntoineVDV cherrypicking of pull request odoo/odoo#193457 failed.\n\n* 8a9469d17549d0c0e09968145eb1cbe6010d49bb <- on this commit\n* 1cb0911a80294a60619f5d36f855843d4bb82143\n\nstdout:\n```\nAuto-merging .tx/config\nCONFLICT (content): Merge conflict in .tx/config\nAuto-merging addons/product/models/product_template.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 21, 12, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642973280, 'issue_id': 2836607332, 'author': 'anko-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642973363, 'issue_id': 2836607332, 'author': 'robodoo', 'body': '@anko-odoo @AntoineVDV because this PR has multiple commits, I need to know how to merge it:\n\n* `merge` to merge directly, using the PR as merge commit message\n* `rebase-merge` to rebase and merge, using the PR as merge commit message\n* `rebase-ff` to rebase and fast-forward', 'created_at': datetime.datetime(2025, 2, 7, 13, 38, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642996370, 'issue_id': 2836607332, 'author': 'anko-odoo', 'body': '@robodoo rebase-ff', 'created_at': datetime.datetime(2025, 2, 7, 13, 48, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642996469, 'issue_id': 2836607332, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 7, 13, 48, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643023673, 'issue_id': 2836607332, 'author': 'robodoo', 'body': '@anko-odoo @AntoineVDV linked pull request(s) odoo/documentation#11982, odoo/enterprise#78786 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 7, 14, 0, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 21:12:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196897.png)](https://mergebot.odoo.com/odoo/odoo/pull/196897)

fw-bot (Issue Creator) on (2025-02-06 21:12:58 UTC): @anko-odoo @AntoineVDV cherrypicking of pull request odoo/odoo#193457 failed.

* 8a9469d17549d0c0e09968145eb1cbe6010d49bb <- on this commit
* 1cb0911a80294a60619f5d36f855843d4bb82143

stdout:
```
Auto-merging .tx/config
CONFLICT (content): Merge conflict in .tx/config
Auto-merging addons/product/models/product_template.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

anko-odoo on (2025-02-07 13:38:02 UTC): @robodoo r+

robodoo on (2025-02-07 13:38:05 UTC): @anko-odoo @AntoineVDV because this PR has multiple commits, I need to know how to merge it:

* `merge` to merge directly, using the PR as merge commit message
* `rebase-merge` to rebase and merge, using the PR as merge commit message
* `rebase-ff` to rebase and fast-forward

anko-odoo on (2025-02-07 13:48:03 UTC): @robodoo rebase-ff

robodoo on (2025-02-07 13:48:06 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-02-07 14:00:07 UTC): @anko-odoo @AntoineVDV linked pull request(s) odoo/documentation#11982, odoo/enterprise#78786 not ready. Linked PRs are not staged until all of them are ready.

"
2836584433,pull_request,closed,,[FW][FIX] point_of_sale: only display payments for paid and invoiced orders,"Before this commit, the payment smart button included payments for cancelled orders, even though those payments were not captured. This caused discrepancies as it inaccurately reflected payments for orders that were not finalized.

opw-4487386

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194191",fw-bot,2025-02-06 21:01:30+00:00,[],2025-02-07 15:10:19+00:00,2025-02-07 15:10:19+00:00,https://github.com/odoo/odoo/pull/196896,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2641011810, 'issue_id': 2836584433, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196896.png)](https://mergebot.odoo.com/odoo/odoo/pull/196896)', 'created_at': datetime.datetime(2025, 2, 6, 21, 1, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641011826, 'issue_id': 2836584433, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 21, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641247542, 'issue_id': 2836584433, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo the next pull request (odoo/odoo#196900) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 22, 24, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642955377, 'issue_id': 2836584433, 'author': 'pedrambiria', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 33, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 21:01:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196896.png)](https://mergebot.odoo.com/odoo/odoo/pull/196896)

fw-bot (Issue Creator) on (2025-02-06 21:01:32 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 22:24:25 UTC): @pedrambiria @adgu-odoo the next pull request (odoo/odoo#196900) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

pedrambiria on (2025-02-07 13:33:11 UTC): @robodoo r+

"
2836575542,pull_request,open,,"[FW][FIX] {,sale_purchase_}stock: update replenishment quantities","**Current behavior:**
Changing the `delay` field on a `product.supplierinfo` then
looking at the replenishment report will not have updated the
qty fields of the orderpoint which were affected by the increase
in delay (delivery lead time in the 'Purchase' tab on Product
form).

**Expected behavior:**
The `qty_forecast` and `qty_to_order` fields update to reflect
moves which should be captured according to JiT forecasting.

**Steps to reproduce:**
1. Create some productA with a vendor that has some lead time

2. Create a sale order for that product, edit the sale order
`commitment_date` field
(Sale Order -> Other Info -> Delivery Date)
to some future date such that the delay would not necessitate
any replenishment at the current date
(i.e., today + delay + 1 day)

3. Create an orderpoint for the productA, see that the
`qty_to_order` is 0 -> this makes sense

4. Increase the delay for the vendor on productA enough that a
purchase order would be required to fulfill the sale order on
time

5. Go back to the replenishment report -> qty to order still 0

**Cause of the issue:**
`qty_to_order` is stored and computed, in this sequence none of
its dependencies are modified and so it remains 0 after `delay`
on the supplier info record is changed.

**Fix:**
Add `product_id.seller_ids.delay` to the dependency list of
`_compute_qty` (From 17.4+ `_compute_qty_to_order()` is OK)

opw-4333016

Forward-Port-Of: odoo/odoo#195657
Forward-Port-Of: odoo/odoo#189427",fw-bot,2025-02-06 20:56:46+00:00,[],2025-02-07 10:26:16+00:00,,https://github.com/odoo/odoo/pull/196895,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2641003077, 'issue_id': 2836575542, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196895.png)](https://mergebot.odoo.com/odoo/odoo/pull/196895)', 'created_at': datetime.datetime(2025, 2, 6, 20, 56, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641003171, 'issue_id': 2836575542, 'author': 'fw-bot', 'body': '@ethanrobv @ticodoo cherrypicking of pull request odoo/odoo#189427 failed.\n\nstdout:\n```\nAuto-merging addons/sale_purchase_stock/tests/test_lead_time.py\nAuto-merging addons/stock/models/stock_orderpoint.py\nCONFLICT (content): Merge conflict in addons/stock/models/stock_orderpoint.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 56, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 20:56:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196895.png)](https://mergebot.odoo.com/odoo/odoo/pull/196895)

fw-bot (Issue Creator) on (2025-02-06 20:56:49 UTC): @ethanrobv @ticodoo cherrypicking of pull request odoo/odoo#189427 failed.

stdout:
```
Auto-merging addons/sale_purchase_stock/tests/test_lead_time.py
Auto-merging addons/stock/models/stock_orderpoint.py
CONFLICT (content): Merge conflict in addons/stock/models/stock_orderpoint.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836557565,pull_request,closed,,[FW][FIX] l10n_latam_invoice_document: allow user to create a CN in a journal different than the move,"Description of the issue/feature this PR addresses:
This PR aims to allow the user to create a CN in a different journal than the one the invoice has.

Current behavior before PR:
When a user tries to create a CN from a E-invoice with a manual journal, and then changes the journal on the CN wizard, the field ""Document number"" that is required for manual journals is still visible and required so the wizard can not be confirmed. 

Desired behavior after PR is merged:
When the user creates a CN and then change the journal on the CN wizard, the visibility and requirement of the fields should be adjusted as expected for the journal type selected.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192728",fw-bot,2025-02-06 20:48:28+00:00,[],2025-02-07 11:09:40+00:00,2025-02-07 11:09:40+00:00,https://github.com/odoo/odoo/pull/196894,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640980436, 'issue_id': 2836557565, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196894.png)](https://mergebot.odoo.com/odoo/odoo/pull/196894)', 'created_at': datetime.datetime(2025, 2, 6, 20, 48, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640980455, 'issue_id': 2836557565, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 48, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 20:48:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196894.png)](https://mergebot.odoo.com/odoo/odoo/pull/196894)

fw-bot (Issue Creator) on (2025-02-06 20:48:30 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836530465,pull_request,closed,,[FW][FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194358",fw-bot,2025-02-06 20:35:39+00:00,[],2025-02-07 10:44:25+00:00,2025-02-07 10:44:25+00:00,https://github.com/odoo/odoo/pull/196893,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640942613, 'issue_id': 2836530465, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196893.png)](https://mergebot.odoo.com/odoo/odoo/pull/196893)', 'created_at': datetime.datetime(2025, 2, 6, 20, 35, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640942651, 'issue_id': 2836530465, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 35, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 20:35:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196893.png)](https://mergebot.odoo.com/odoo/odoo/pull/196893)

fw-bot (Issue Creator) on (2025-02-06 20:35:41 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836516328,pull_request,closed,,[FW][FIX] partner_autocomplete: fix unreliability with Clearbit Autocomplete,"The Partner Autocomplete service was unreliable when used on a database hosted under a subdomain of odoo.com (i.e. from *.odoo.com).

This was caused by a combination of the CORS policy of the Autocomplete API of Clearbit and the caching of the browser.

If the user performed a first request with search query ""Odoo"" from https://a.odoo.com, the browser would cache the results, including the `Access-Control-Allow-Origin` header set to `https://a.odoo.com`.

The same request performed from https://b.odoo.com would lead to a CORS policy error as the browser would use the cached response from earlier request.

This commit addresses the issue by disabling the caching of the requests made to the Clearbit Autocomplete API.

Forward-Port-Of: odoo/odoo#196480",fw-bot,2025-02-06 20:28:10+00:00,[],2025-02-07 13:42:02+00:00,2025-02-07 13:42:02+00:00,https://github.com/odoo/odoo/pull/196892,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640927020, 'issue_id': 2836516328, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196892.png)](https://mergebot.odoo.com/odoo/odoo/pull/196892)', 'created_at': datetime.datetime(2025, 2, 6, 20, 28, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640927042, 'issue_id': 2836516328, 'author': 'fw-bot', 'body': '@lobaudoux @RicGR98 this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196879\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640929550, 'issue_id': 2836516328, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 20, 29, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641001099, 'issue_id': 2836516328, 'author': 'robodoo', 'body': ""@lobaudoux @RicGR98 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 20, 55, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642587224, 'issue_id': 2836516328, 'author': 'lobaudoux', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 56, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642587492, 'issue_id': 2836516328, 'author': 'robodoo', 'body': 'This PR is already reviewed, reviewing it again is useless.', 'created_at': datetime.datetime(2025, 2, 7, 10, 56, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642589522, 'issue_id': 2836516328, 'author': 'lobaudoux', 'body': '@robodoo retry\r\n\r\nWhy are you so mean robodoo :sob:', 'created_at': datetime.datetime(2025, 2, 7, 10, 57, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642589632, 'issue_id': 2836516328, 'author': 'robodoo', 'body': '@lobaudoux retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 2, 7, 10, 57, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642590056, 'issue_id': 2836516328, 'author': 'lobaudoux', 'body': 'I hate you', 'created_at': datetime.datetime(2025, 2, 7, 10, 57, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642590952, 'issue_id': 2836516328, 'author': 'RicGR98', 'body': ""HAHAHA\r\n\r\n@lobaudoux  it's in the queue, no worries :p \r\n\r\nhttps://mergebot.odoo.com/runbot_merge\r\n\r\n![image](https://github.com/user-attachments/assets/6fea4c33-1dd6-4c1c-b9f3-3343d9955792)"", 'created_at': datetime.datetime(2025, 2, 7, 10, 57, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 20:28:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196892.png)](https://mergebot.odoo.com/odoo/odoo/pull/196892)

fw-bot (Issue Creator) on (2025-02-06 20:28:12 UTC): @lobaudoux @RicGR98 this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196879

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-02-06 20:29:01 UTC): @robodoo r+

robodoo on (2025-02-06 20:55:45 UTC): @lobaudoux @RicGR98 'ci/runbot' failed on this reviewed PR.

lobaudoux on (2025-02-07 10:56:02 UTC): @robodoo r+

robodoo on (2025-02-07 10:56:10 UTC): This PR is already reviewed, reviewing it again is useless.

lobaudoux on (2025-02-07 10:57:11 UTC): @robodoo retry

Why are you so mean robodoo :sob:

robodoo on (2025-02-07 10:57:14 UTC): @lobaudoux retry makes no sense when the PR is not in error.

lobaudoux on (2025-02-07 10:57:28 UTC): I hate you

RicGR98 on (2025-02-07 10:57:54 UTC): HAHAHA

@lobaudoux  it's in the queue, no worries :p 

https://mergebot.odoo.com/runbot_merge

![image](https://github.com/user-attachments/assets/6fea4c33-1dd6-4c1c-b9f3-3343d9955792)

"
2836482292,pull_request,closed,,[FW][ADD] l10n_ch_hr_payroll_elm_account: Add accounting rules for Swissdec Payrol,"Related Enterprise PR : https://github.com/odoo/enterprise/pull/64454

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196804
Forward-Port-Of: odoo/odoo#194627",fw-bot,2025-02-06 20:09:13+00:00,[],2025-02-07 18:49:47+00:00,2025-02-07 18:49:47+00:00,https://github.com/odoo/odoo/pull/196891,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640892066, 'issue_id': 2836482292, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196891.png)](https://mergebot.odoo.com/odoo/odoo/pull/196891)', 'created_at': datetime.datetime(2025, 2, 6, 20, 9, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640892099, 'issue_id': 2836482292, 'author': 'fw-bot', 'body': '@jugj-odoo @tivisse while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78783) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 9, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643445274, 'issue_id': 2836482292, 'author': 'jugj-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 16, 42, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 20:09:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196891.png)](https://mergebot.odoo.com/odoo/odoo/pull/196891)

fw-bot (Issue Creator) on (2025-02-06 20:09:17 UTC): @jugj-odoo @tivisse while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78783) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jugj-odoo on (2025-02-07 16:42:25 UTC): @robodoo r+

"
2836474674,pull_request,closed,,[FW][FIX] account: fix propagation of tax tags,"**Steps to reproduce:**
- Install Accounting
- Create a tax with the following configuration:
  * Tax Type: Purchases (also reproducible with Sales)
  * Included in Price: [any]
  * Affect Base of Subsequent Taxes (include_base_amount): [checked]
  * Base Affected by Previous Taxes (is_base_affected): [checked]
  * Distribution:
      |  %   | Based On |  Account  |   Tax Grids |
      | ------ | ------------- | ------------ | -------------- |
      |      |   Base   |           | +Tag_1  +Tag_2 |
     | 100.00 |  of tax  | Account X | +Tag_3 |
     | -100.00 |  of tax  | Account Y | -Tag_4 |

(Or FR localization and ""20% EU G"" purchase tax can be used)
- Create a bill
- Add a line with the created tax
- Check journal items

**Issue:**
The tax tags of the base line are also added to first tax line.

**Cause:**
When a tax is ""include_base_amount"", the tags of its base line is propagated to the tax lines of the following taxes. However in this case, as there are several tax lines for the same tax, the system propagate the tags to the second one as if it was coming from another tax.

**Solution:**
Check if the tags are coming from another tax before adding them.


opw-4510882




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195837",fw-bot,2025-02-06 20:06:28+00:00,[],2025-02-07 01:03:32+00:00,2025-02-07 01:03:31+00:00,https://github.com/odoo/odoo/pull/196890,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640885312, 'issue_id': 2836474674, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196890.png)](https://mergebot.odoo.com/odoo/odoo/pull/196890)', 'created_at': datetime.datetime(2025, 2, 6, 20, 6, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640885337, 'issue_id': 2836474674, 'author': 'fw-bot', 'body': '@kitan191 @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196866\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 6, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640916842, 'issue_id': 2836474674, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 20, 22, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 20:06:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196890.png)](https://mergebot.odoo.com/odoo/odoo/pull/196890)

fw-bot (Issue Creator) on (2025-02-06 20:06:30 UTC): @kitan191 @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196866

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-02-06 20:22:46 UTC): @robodoo r+

"
2836437967,pull_request,closed,,[FW][FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no

Forward-Port-Of: odoo/odoo#196765",fw-bot,2025-02-06 19:50:41+00:00,[],2025-02-07 07:02:36+00:00,2025-02-07 07:02:34+00:00,https://github.com/odoo/odoo/pull/196889,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640848365, 'issue_id': 2836437967, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196889.png)](https://mergebot.odoo.com/odoo/odoo/pull/196889)', 'created_at': datetime.datetime(2025, 2, 6, 19, 50, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640848381, 'issue_id': 2836437967, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196874\n* odoo/odoo#196863\n* odoo/odoo#196853\n* odoo/odoo#196831\n* odoo/odoo#196803\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 50, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641943883, 'issue_id': 2836437967, 'author': 'smetl', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 4, 52, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:50:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196889.png)](https://mergebot.odoo.com/odoo/odoo/pull/196889)

fw-bot (Issue Creator) on (2025-02-06 19:50:43 UTC): @clbr-odoo @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196874
* odoo/odoo#196863
* odoo/odoo#196853
* odoo/odoo#196831
* odoo/odoo#196803

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

smetl on (2025-02-07 04:52:57 UTC): @robodoo r+

"
2836419125,pull_request,closed,,[FW][FIX] l10n_latam_invoice_document: allow user to create a CN in a journal different than the move,"Description of the issue/feature this PR addresses:
This PR aims to allow the user to create a CN in a different journal than the one the invoice has.

Current behavior before PR:
When a user tries to create a CN from a E-invoice with a manual journal, and then changes the journal on the CN wizard, the field ""Document number"" that is required for manual journals is still visible and required so the wizard can not be confirmed. 

Desired behavior after PR is merged:
When the user creates a CN and then change the journal on the CN wizard, the visibility and requirement of the fields should be adjusted as expected for the journal type selected.



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192728",fw-bot,2025-02-06 19:39:58+00:00,[],2025-02-07 12:49:15+00:00,2025-02-07 12:49:15+00:00,https://github.com/odoo/odoo/pull/196888,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640828160, 'issue_id': 2836419125, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196888.png)](https://mergebot.odoo.com/odoo/odoo/pull/196888)', 'created_at': datetime.datetime(2025, 2, 6, 19, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640828179, 'issue_id': 2836419125, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:40:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196888.png)](https://mergebot.odoo.com/odoo/odoo/pull/196888)

fw-bot (Issue Creator) on (2025-02-06 19:40:00 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836418567,pull_request,closed,,[FW][FIX] mail: restore Mail Failure icon JPG,"A recent commit [1] removed the Mail Failure .JPG in favor of an .SVG for transparency.

This commit restores the .JPG file alongside the .SVG to prevent potential issues.

[1]: odoo/odoo@08f1a78f154d3bf80123b91a1deb0980b95c1ca3

task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196784",fw-bot,2025-02-06 19:39:38+00:00,[],2025-02-06 21:27:51+00:00,2025-02-06 21:27:43+00:00,https://github.com/odoo/odoo/pull/196887,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640827580, 'issue_id': 2836418567, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196887.png)](https://mergebot.odoo.com/odoo/odoo/pull/196887)', 'created_at': datetime.datetime(2025, 2, 6, 19, 39, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640827600, 'issue_id': 2836418567, 'author': 'fw-bot', 'body': '@xlu-odoo @seb-odoo cherrypicking of pull request odoo/odoo#196784 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit b657e5d67acbddba194b52b7ded255ec5303a6ee.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 39, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:39:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196887.png)](https://mergebot.odoo.com/odoo/odoo/pull/196887)

fw-bot (Issue Creator) on (2025-02-06 19:39:40 UTC): @xlu-odoo @seb-odoo cherrypicking of pull request odoo/odoo#196784 failed.

stdout:
```
You are currently cherry-picking commit b657e5d67acbddba194b52b7ded255ec5303a6ee.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836417959,pull_request,closed,,[FW][FIX] stock: correct inventory nocontent message,"The nocontent message for inventory counts was still referring to old concepts from before the 17.0 Milk redesign (like the ""CREATE"" button or the Import action in the Favorites menu).

This commit updates the message to correctly reference the new design actions, corrects the English and escapes translations inserted into HTML.

[task-4550935](https://www.odoo.com/odoo/project.task/4550935)

Forward-Port-Of: odoo/odoo#196835",fw-bot,2025-02-06 19:39:18+00:00,[],2025-02-07 01:12:40+00:00,2025-02-07 01:12:40+00:00,https://github.com/odoo/odoo/pull/196886,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640826975, 'issue_id': 2836417959, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196886.png)](https://mergebot.odoo.com/odoo/odoo/pull/196886)', 'created_at': datetime.datetime(2025, 2, 6, 19, 39, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640826999, 'issue_id': 2836417959, 'author': 'fw-bot', 'body': '@dylankiss @ticodoo cherrypicking of pull request odoo/odoo#196835 failed.\n\nstdout:\n```\nAuto-merging addons/stock/i18n/stock.pot\nCONFLICT (content): Merge conflict in addons/stock/i18n/stock.pot\nAuto-merging addons/stock/models/stock_quant.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 39, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641146603, 'issue_id': 2836417959, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 21, 55, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:39:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196886.png)](https://mergebot.odoo.com/odoo/odoo/pull/196886)

fw-bot (Issue Creator) on (2025-02-06 19:39:20 UTC): @dylankiss @ticodoo cherrypicking of pull request odoo/odoo#196835 failed.

stdout:
```
Auto-merging addons/stock/i18n/stock.pot
CONFLICT (content): Merge conflict in addons/stock/i18n/stock.pot
Auto-merging addons/stock/models/stock_quant.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-06 21:55:06 UTC): @robodoo r+

"
2836416756,pull_request,closed,,[FW][FIX] point_of_sale: only display payments for paid and invoiced orders,"Before this commit, the payment smart button included payments for cancelled orders, even though those payments were not captured. This caused discrepancies as it inaccurately reflected payments for orders that were not finalized.

opw-4487386

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194191",fw-bot,2025-02-06 19:38:35+00:00,[],2025-02-07 16:14:39+00:00,2025-02-07 16:14:39+00:00,https://github.com/odoo/odoo/pull/196885,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640826251, 'issue_id': 2836416756, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196885.png)](https://mergebot.odoo.com/odoo/odoo/pull/196885)', 'created_at': datetime.datetime(2025, 2, 6, 19, 38, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640826272, 'issue_id': 2836416756, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 38, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:38:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196885.png)](https://mergebot.odoo.com/odoo/odoo/pull/196885)

fw-bot (Issue Creator) on (2025-02-06 19:38:57 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836415853,pull_request,closed,,[FW][FIX] calendar: fix issue with start and stop date,"Version:
- 17.0

Steps to Reproduce:
- Install the Calendar app.
- Create an event and enable the ""All Day"" option.
- Duplicate the event.

Issue:
- When duplicating an All Day event, a traceback error occurs because the start_date and stop_date values are missing.

Solution:
- The start_date and stop_date are now properly set when duplicating an event resolving the traceback error.

task-4353039

Forward-Port-Of: odoo/odoo#188171",fw-bot,2025-02-06 19:38:05+00:00,[],2025-02-07 12:49:22+00:00,2025-02-07 12:49:22+00:00,https://github.com/odoo/odoo/pull/196884,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640824758, 'issue_id': 2836415853, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196884.png)](https://mergebot.odoo.com/odoo/odoo/pull/196884)', 'created_at': datetime.datetime(2025, 2, 6, 19, 38, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640824783, 'issue_id': 2836415853, 'author': 'fw-bot', 'body': '@nikj-odoo @arj-odoo cherrypicking of pull request odoo/odoo#188171 failed.\n\n* b60ba0ecfa06234b4ca9a062bc2bee677c467560 <- on this commit\n* 75e4d4b4e3d82a35af15600f9a7f050e466cb7d6\n\nstdout:\n```\nAuto-merging addons/calendar/models/calendar_event.py\nAuto-merging addons/calendar/tests/test_calendar.py\nCONFLICT (content): Merge conflict in addons/calendar/tests/test_calendar.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 38, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642503726, 'issue_id': 2836415853, 'author': 'nikj-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:38:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196884.png)](https://mergebot.odoo.com/odoo/odoo/pull/196884)

fw-bot (Issue Creator) on (2025-02-06 19:38:09 UTC): @nikj-odoo @arj-odoo cherrypicking of pull request odoo/odoo#188171 failed.

* b60ba0ecfa06234b4ca9a062bc2bee677c467560 <- on this commit
* 75e4d4b4e3d82a35af15600f9a7f050e466cb7d6

stdout:
```
Auto-merging addons/calendar/models/calendar_event.py
Auto-merging addons/calendar/tests/test_calendar.py
CONFLICT (content): Merge conflict in addons/calendar/tests/test_calendar.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nikj-odoo on (2025-02-07 10:15:00 UTC): @robodoo r+

"
2836415281,pull_request,closed,,"[FW][FIX] {,sale_purchase_}stock: update replenishment quantities","**Current behavior:**
Changing the `delay` field on a `product.supplierinfo` then
looking at the replenishment report will not have updated the
qty fields of the orderpoint which were affected by the increase
in delay (delivery lead time in the 'Purchase' tab on Product
form).

**Expected behavior:**
The `qty_forecast` and `qty_to_order` fields update to reflect
moves which should be captured according to JiT forecasting.

**Steps to reproduce:**
1. Create some productA with a vendor that has some lead time

2. Create a sale order for that product, edit the sale order
`commitment_date` field
(Sale Order -> Other Info -> Delivery Date)
to some future date such that the delay would not necessitate
any replenishment at the current date
(i.e., today + delay + 1 day)

3. Create an orderpoint for the productA, see that the
`qty_to_order` is 0 -> this makes sense

4. Increase the delay for the vendor on productA enough that a
purchase order would be required to fulfill the sale order on
time

5. Go back to the replenishment report -> qty to order still 0

**Cause of the issue:**
`qty_to_order` is stored and computed, in this sequence none of
its dependencies are modified and so it remains 0 after `delay`
on the supplier info record is changed.

**Fix:**
Add `product_id.seller_ids.delay` to the dependency list of
`_compute_qty` and `_compute_qty_to_order`.

opw-4333016

Forward-Port-Of: odoo/odoo#195657
Forward-Port-Of: odoo/odoo#189427",fw-bot,2025-02-06 19:37:44+00:00,[],2025-02-07 10:08:02+00:00,2025-02-07 10:08:02+00:00,https://github.com/odoo/odoo/pull/196883,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640824716, 'issue_id': 2836415281, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196883.png)](https://mergebot.odoo.com/odoo/odoo/pull/196883)', 'created_at': datetime.datetime(2025, 2, 6, 19, 38, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640824733, 'issue_id': 2836415281, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 38, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641003098, 'issue_id': 2836415281, 'author': 'fw-bot', 'body': '@ethanrobv @ticodoo the next pull request (odoo/odoo#196895) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 20, 56, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642146507, 'issue_id': 2836415281, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 39, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:38:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196883.png)](https://mergebot.odoo.com/odoo/odoo/pull/196883)

fw-bot (Issue Creator) on (2025-02-06 19:38:07 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 20:56:48 UTC): @ethanrobv @ticodoo the next pull request (odoo/odoo#196895) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-02-07 07:39:33 UTC): @robodoo r+

"
2836391144,pull_request,closed,,[FW][FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194358",fw-bot,2025-02-06 19:26:19+00:00,[],2025-02-07 11:09:13+00:00,2025-02-07 11:09:12+00:00,https://github.com/odoo/odoo/pull/196882,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640798775, 'issue_id': 2836391144, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196882.png)](https://mergebot.odoo.com/odoo/odoo/pull/196882)', 'created_at': datetime.datetime(2025, 2, 6, 19, 26, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640798798, 'issue_id': 2836391144, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 26, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:26:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196882.png)](https://mergebot.odoo.com/odoo/odoo/pull/196882)

fw-bot (Issue Creator) on (2025-02-06 19:26:21 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836376431,pull_request,open,,[FW][FIX] point_of_sale: restore category filtering when searching,"Before this commit, it wasn't possible to filter products by category when searching. This functionality was available in previous versions but was removed during refactoring.

opw-4439314

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193503",fw-bot,2025-02-06 19:18:32+00:00,[],2025-02-06 20:00:20+00:00,,https://github.com/odoo/odoo/pull/196881,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640780829, 'issue_id': 2836376431, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196881.png)](https://mergebot.odoo.com/odoo/odoo/pull/196881)', 'created_at': datetime.datetime(2025, 2, 6, 19, 18, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640780850, 'issue_id': 2836376431, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#193503 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 18, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:18:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196881.png)](https://mergebot.odoo.com/odoo/odoo/pull/196881)

fw-bot (Issue Creator) on (2025-02-06 19:18:34 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#193503 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/product_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836375622,pull_request,closed,,[FW][FIX] l10n_fr_account: exclude custom bics from getting xmlid,"The upgrade script is supposed to create xmlids for french banks that were already created from csv, if it matches custom records that have unusual bic, it is better to skip the whole record. Standard BIC format is a capital alphanumeric only. Replacing the spaces or unsupported characters in the xmlid will result in custom records looking like they come from standard module.

alternate fix for https://github.com/odoo/odoo/pull/191970



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195740",fw-bot,2025-02-06 19:18:06+00:00,[],2025-02-07 11:10:38+00:00,2025-02-07 11:10:37+00:00,https://github.com/odoo/odoo/pull/196880,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640780010, 'issue_id': 2836375622, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196880.png)](https://mergebot.odoo.com/odoo/odoo/pull/196880)', 'created_at': datetime.datetime(2025, 2, 6, 19, 18, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640780027, 'issue_id': 2836375622, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 18, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640883817, 'issue_id': 2836375622, 'author': 'fw-bot', 'body': '@jjmaksoud @h4818 ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 20, 5, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:18:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196880.png)](https://mergebot.odoo.com/odoo/odoo/pull/196880)

fw-bot (Issue Creator) on (2025-02-06 19:18:08 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 20:05:57 UTC): @jjmaksoud @h4818 ci/runbot failed on this forward-port PR

"
2836375018,pull_request,closed,,[FW][FIX] partner_autocomplete: fix unreliability with Clearbit Autocomplete,"The Partner Autocomplete service was unreliable when used on a database hosted under a subdomain of odoo.com (i.e. from *.odoo.com).

This was caused by a combination of the CORS policy of the Autocomplete API of Clearbit and the caching of the browser.

If the user performed a first request with search query ""Odoo"" from https://a.odoo.com, the browser would cache the results, including the `Access-Control-Allow-Origin` header set to `https://a.odoo.com`.

The same request performed from https://b.odoo.com would lead to a CORS policy error as the browser would use the cached response from earlier request.

This commit addresses the issue by disabling the caching of the requests made to the Clearbit Autocomplete API.

Forward-Port-Of: odoo/odoo#196480",fw-bot,2025-02-06 19:17:46+00:00,[],2025-02-06 22:30:35+00:00,2025-02-06 22:30:35+00:00,https://github.com/odoo/odoo/pull/196879,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640779688, 'issue_id': 2836375018, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196879.png)](https://mergebot.odoo.com/odoo/odoo/pull/196879)', 'created_at': datetime.datetime(2025, 2, 6, 19, 17, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640779720, 'issue_id': 2836375018, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 17, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:17:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196879.png)](https://mergebot.odoo.com/odoo/odoo/pull/196879)

fw-bot (Issue Creator) on (2025-02-06 19:17:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836372769,pull_request,closed,,[FW][FIX] sale_stock: use only SOL linked COGS lines to get price unit,"**Current behavior:**
With a FIFO + real-time product, `ProductA`:
Creating a sale order with multiple order lines for ProductA,
processing the resulting delivery in 2 separate pickings via
backorder (1st delivery for the 1st line, 2nd delivery for the
2nd line), then invoicing the delivered product separately
result in an invoice with invoice lines which do not reflect the
value of the product at delivery time.

**Expected behavior:**
The SVLs generated from the deliveries should inform the
generated AccountMoves.

**Steps to reproduce:**
1. `FIFO-prod`: FIFO and real-time valuation & costing

2. Receive 12 units of `FIFO-prod` @ $100 per

3. Create a sale order with order lines:
* `FIFO-prod` `10 units` `price_unit=$100`
* `FIFO-prod` `2 units` `price_unit=$100`

4. Confirm the sale order, on the delivery, only receive the
first move for the 10 qty, backorder the other 2 qty

5. Receive the backorder, create an invoice- edit the invoice
lines so that 5/10 of line 1 and 2/2 of line 2 are invoiced,
then post/confirm

6. Edit the `standard_price` of `FIFO-prod` (e.g., $100 -> $50)

7. Create another invoice for the remaining quantity and post

8. Observe that the COGs lines on the invoice have been
calculated with a different price unit than the other invoice &
unit_price for the out SVLs

**Cause of the issue:**
When getting the price unit of a given anglo saxon invoice line,
there is no check that all the collected COGS lines are linked
to the sale order line which corresponds to the product and
product_qty that we are attempting to value.

This creates an imbalance in the qty calculation later here:
https://github.com/odoo/odoo/blob/f2728b2fe13a355ecb301a3714639b8a07f418b4/addons/stock_account/models/stock_valuation_layer.py#L202-L211
when the valuation is actually performed.

**Fix:**
Only consider posted COGS lines for the sale order line with the
product qty that is getting valued when calculating
`qty_invoiced`.

opw-4321363

Forward-Port-Of: odoo/odoo#196067
Forward-Port-Of: odoo/odoo#195046",fw-bot,2025-02-06 19:16:27+00:00,[],2025-02-07 10:56:01+00:00,2025-02-07 10:56:01+00:00,https://github.com/odoo/odoo/pull/196878,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640776945, 'issue_id': 2836372769, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196878.png)](https://mergebot.odoo.com/odoo/odoo/pull/196878)', 'created_at': datetime.datetime(2025, 2, 6, 19, 16, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640776957, 'issue_id': 2836372769, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196868\n* odoo/odoo#196859\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 16, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642146070, 'issue_id': 2836372769, 'author': 'ethanrobv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 7, 39, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:16:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196878.png)](https://mergebot.odoo.com/odoo/odoo/pull/196878)

fw-bot (Issue Creator) on (2025-02-06 19:16:29 UTC): @ethanrobv @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196868
* odoo/odoo#196859

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ethanrobv on (2025-02-07 07:39:20 UTC): @robodoo r+

"
2836361567,pull_request,open,,[FW][ADD] l10n_ro_edi_etransport: send transport data to eTransport platform,"Romania requires its companies to send information of all transports of goods on Romanian territory to a specific web service on their eTransport platform.

This commit implements a way to gather all the necessary data needed to send the eTransport document and the actual sending of this document to the eTransport platform.

Authentication:
the authentication needed to interact with the eTransport platform is the same as (and was already implemented in) the l10n_ro_efactura module. see [eFactura PR](https://github.com/odoo/odoo/pull/144061)

eTransport flow:
- Add the necessary eTransport data to a delivery
- send the eTransport document to ANAF
- the document gets processed by ANAF
- Fetch the status of the document:
    - which can result in an error, in which case the flow starts again from the beginning with the corrected data
    - or in a success

 task-id: 3810735

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196201
Forward-Port-Of: odoo/odoo#170080",fw-bot,2025-02-06 19:10:04+00:00,[],2025-02-06 20:00:24+00:00,,https://github.com/odoo/odoo/pull/196877,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640764926, 'issue_id': 2836361567, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196877.png)](https://mergebot.odoo.com/odoo/odoo/pull/196877)', 'created_at': datetime.datetime(2025, 2, 6, 19, 10, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640764947, 'issue_id': 2836361567, 'author': 'fw-bot', 'body': '@AllePilli @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196865\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 10, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:10:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196877.png)](https://mergebot.odoo.com/odoo/odoo/pull/196877)

fw-bot (Issue Creator) on (2025-02-06 19:10:06 UTC): @AllePilli @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196865

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836352039,pull_request,closed,,[FW][FIX] l10n_it_edi: post invoice w/ multiple downpayments,"- Create a sale order and confirm it
- Create two partial down payments for that sale order and confirm them
- Create a invoice for the remaining amount and confirm it
- Send and print the invoice (with Send to Tax Agency selected)
- Traceback  
<a/>

     File ""addons/account/models/account_tax.py"", line 2475, in _dispatch_negative_lines
         line.setdefault('discount_amount', line['discount_amount_before_dispatching'])
     KeyError: 'discount_amount_before_dispatching'

bbe04fb62916ae326c830e89b2664dfd32b62b75 removes elements from base_list while looping over it.

In `17.0` this doesn't cause this error because we have two loops; one that sets 'discount_amount_before_dispatching' and after that one that remove downpayment from base_lines. But the fix should still be backported because it works by chance.

Ticket [link](https://www.odoo.com/odoo/project/967/tasks/4496310)
opw-4496310

Forward-Port-Of: odoo/odoo#194949",fw-bot,2025-02-06 19:04:32+00:00,[],2025-02-06 22:42:36+00:00,2025-02-06 22:42:36+00:00,https://github.com/odoo/odoo/pull/196876,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640754522, 'issue_id': 2836352039, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196876.png)](https://mergebot.odoo.com/odoo/odoo/pull/196876)', 'created_at': datetime.datetime(2025, 2, 6, 19, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640754542, 'issue_id': 2836352039, 'author': 'fw-bot', 'body': '@nle-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196867\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 19, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640762268, 'issue_id': 2836352039, 'author': 'nle-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 19, 8, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 19:04:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196876.png)](https://mergebot.odoo.com/odoo/odoo/pull/196876)

fw-bot (Issue Creator) on (2025-02-06 19:04:34 UTC): @nle-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196867

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

nle-odoo on (2025-02-06 19:08:38 UTC): robodoo r+

"
2836329491,pull_request,open,,[FIX] pos_loyalty: pass the record instead of the record id in the delete function,"Problem: When there is a loyalty program with a reward on specific products and there is an error in the discount product domain or the domain is incompatible with the pos client, the pos session is unable to open and keeps loading with an error visible on the console. This is because when the session tries to open, the compute_discount_product_ids method is called which runs into an error because it cannot use the domain. Ideally, the pos screen should still load and give an alert message saying “The reward ""xxx” contains an error in its domain, your domain must be compatible with the PoS client” and after closing the popup, the pos shop can be used however this does not happen as the code line for deleting the erroneous loyalty reward runs into an error because the delete method expects a record but receives an id. The alert message written before never appears because this delete statement runs into an error.

Purpose: Passing the correct argument to the delete function so that the loyalty program with issues in domain can be properly deleted from loaded models. After this correction, the pos session will load and there will be an alert warning the user of the reward error.

Steps to Reproduce on Runbot:
1. Choose any discount program for the pos shop. Open the reward pop up and choose to put the discount on specific products.
2. Edit domain in the “Discount Product Domain” and put <Products> <contains> <screen> in the rule. We can see 3 records here on the reward.
3. Save and close the program screen. Open the pos shop and check the console. The screen keeps loading and there is a traceback error in the console.

opw-4350676
opw-4352567
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",deni-odoo,2025-02-06 18:51:34+00:00,[],2025-02-06 22:56:26+00:00,,https://github.com/odoo/odoo/pull/196875,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640729818, 'issue_id': 2836329491, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196875.png)](https://mergebot.odoo.com/odoo/odoo/pull/196875)', 'created_at': datetime.datetime(2025, 2, 6, 18, 51, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:51:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196875.png)](https://mergebot.odoo.com/odoo/odoo/pull/196875)

"
2836304569,pull_request,closed,,[FW][FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no

Forward-Port-Of: odoo/odoo#196765",fw-bot,2025-02-06 18:37:26+00:00,[],2025-02-07 06:15:50+00:00,2025-02-07 06:15:50+00:00,https://github.com/odoo/odoo/pull/196874,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640702712, 'issue_id': 2836304569, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196874.png)](https://mergebot.odoo.com/odoo/odoo/pull/196874)', 'created_at': datetime.datetime(2025, 2, 6, 18, 37, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640702736, 'issue_id': 2836304569, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 37, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:37:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196874.png)](https://mergebot.odoo.com/odoo/odoo/pull/196874)

fw-bot (Issue Creator) on (2025-02-06 18:37:28 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836285924,pull_request,closed,,[FW][FIX] mail: fix scheduled message cron infinitely failing,"Purpose:
--------
Currently, when posting a scheduled message failed due to an error,
the cron interrupts and will attempt to resend the message on each of its
subsequent runs and fail again, preventing any scheduled message to be
posted.

This commit changes the cron behavior to catch any exceptions raised during
message posting, notify the author of the message about the failure, and
delete the failed scheduled message. This prevents infinite retry attempts.

The notification to the author of the scheduled message contains the content
of the scheduled message. The rationale is that the posting might fail
because the user does not have access to the record it will be posted on
anymore, and won't be able to see the scheduled message again.

The scheduled messages will now be unlinked when unlinking the record on
which they are scheduled.

Task-4531402

Forward-Port-Of: odoo/odoo#196713
Forward-Port-Of: odoo/odoo#195964",fw-bot,2025-02-06 18:26:45+00:00,[],2025-02-07 13:41:38+00:00,2025-02-07 13:41:36+00:00,https://github.com/odoo/odoo/pull/196873,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640683005, 'issue_id': 2836285924, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196873.png)](https://mergebot.odoo.com/odoo/odoo/pull/196873)', 'created_at': datetime.datetime(2025, 2, 6, 18, 26, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640683020, 'issue_id': 2836285924, 'author': 'fw-bot', 'body': '@schoffeniels @tde-banana-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 26, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640733677, 'issue_id': 2836285924, 'author': 'fw-bot', 'body': '@schoffeniels @tde-banana-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 18, 53, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642169570, 'issue_id': 2836285924, 'author': 'fw-bot', 'body': '@schoffeniels @tde-banana-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 7, 51, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642419664, 'issue_id': 2836285924, 'author': 'schoffeniels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 35, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:26:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196873.png)](https://mergebot.odoo.com/odoo/odoo/pull/196873)

fw-bot (Issue Creator) on (2025-02-06 18:26:47 UTC): @schoffeniels @tde-banana-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 18:53:41 UTC): @schoffeniels @tde-banana-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-07 07:51:13 UTC): @schoffeniels @tde-banana-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

schoffeniels on (2025-02-07 09:35:21 UTC): @robodoo r+

"
2836285318,pull_request,closed,,[FW][FIX] mail: non-accessible member's shouldn't displayed on ctrl+k by guest,"**Current behavior before PR:**

when we are in public channel by guest and hit ctrl+k then click on partners which are not accessible by guest it shows access error.

**Desired behavior after PR is merged:**

now we are not displaying partners which removes the access error.

task-4518228

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195566",fw-bot,2025-02-06 18:26:24+00:00,[],2025-02-07 12:20:41+00:00,2025-02-07 12:20:41+00:00,https://github.com/odoo/odoo/pull/196872,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640682354, 'issue_id': 2836285318, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196872.png)](https://mergebot.odoo.com/odoo/odoo/pull/196872)', 'created_at': datetime.datetime(2025, 2, 6, 18, 26, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640682371, 'issue_id': 2836285318, 'author': 'fw-bot', 'body': '@jayp-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 26, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642381634, 'issue_id': 2836285318, 'author': 'jayp-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 18, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:26:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196872.png)](https://mergebot.odoo.com/odoo/odoo/pull/196872)

fw-bot (Issue Creator) on (2025-02-06 18:26:26 UTC): @jayp-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jayp-odoo on (2025-02-07 09:18:23 UTC): @robodoo r+

"
2836276863,pull_request,open,,[FW][FIX] point_of_sale: print suggested tips in early receipt printed,"Before this commit, when tips were enabled after payment and early receipt printing was enabled, clicking on Bill would show the suggested tips on the Bill screen, but they were not included when printing the receipt.

opw-4455884

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192726",fw-bot,2025-02-06 18:21:52+00:00,[],2025-02-06 19:00:15+00:00,,https://github.com/odoo/odoo/pull/196871,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640672695, 'issue_id': 2836276863, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196871.png)](https://mergebot.odoo.com/odoo/odoo/pull/196871)', 'created_at': datetime.datetime(2025, 2, 6, 18, 21, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640672764, 'issue_id': 2836276863, 'author': 'fw-bot', 'body': '@pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#192726 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 21, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:21:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196871.png)](https://mergebot.odoo.com/odoo/odoo/pull/196871)

fw-bot (Issue Creator) on (2025-02-06 18:21:54 UTC): @pedrambiria @adgu-odoo cherrypicking of pull request odoo/odoo#192726 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/receipt_screen/receipt_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836250507,pull_request,closed,,[FW][FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194358",fw-bot,2025-02-06 18:10:34+00:00,[],2025-02-07 11:40:32+00:00,2025-02-07 11:40:32+00:00,https://github.com/odoo/odoo/pull/196870,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640632284, 'issue_id': 2836250507, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196870.png)](https://mergebot.odoo.com/odoo/odoo/pull/196870)', 'created_at': datetime.datetime(2025, 2, 6, 18, 10, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640632307, 'issue_id': 2836250507, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 10, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:10:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196870.png)](https://mergebot.odoo.com/odoo/odoo/pull/196870)

fw-bot (Issue Creator) on (2025-02-06 18:10:36 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836249886,pull_request,open,,[FW][FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292

Forward-Port-Of: odoo/odoo#196332
Forward-Port-Of: odoo/odoo#195645",fw-bot,2025-02-06 18:10:13+00:00,[],2025-02-06 19:00:17+00:00,,https://github.com/odoo/odoo/pull/196869,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640631551, 'issue_id': 2836249886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196869.png)](https://mergebot.odoo.com/odoo/odoo/pull/196869)', 'created_at': datetime.datetime(2025, 2, 6, 18, 10, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640631588, 'issue_id': 2836249886, 'author': 'fw-bot', 'body': '@agr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196857\n* odoo/odoo#196839\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 10, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:10:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196869.png)](https://mergebot.odoo.com/odoo/odoo/pull/196869)

fw-bot (Issue Creator) on (2025-02-06 18:10:15 UTC): @agr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196857
* odoo/odoo#196839

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836247289,pull_request,closed,,[FW][FIX] sale_stock: use only SOL linked COGS lines to get price unit,"**Current behavior:**
With a FIFO + real-time product, `ProductA`:
Creating a sale order with multiple order lines for ProductA,
processing the resulting delivery in 2 separate pickings via
backorder (1st delivery for the 1st line, 2nd delivery for the
2nd line), then invoicing the delivered product separately
result in an invoice with invoice lines which do not reflect the
value of the product at delivery time.

**Expected behavior:**
The SVLs generated from the deliveries should inform the
generated AccountMoves.

**Steps to reproduce:**
1. `FIFO-prod`: FIFO and real-time valuation & costing

2. Receive 12 units of `FIFO-prod` @ $100 per

3. Create a sale order with order lines:
* `FIFO-prod` `10 units` `price_unit=$100`
* `FIFO-prod` `2 units` `price_unit=$100`

4. Confirm the sale order, on the delivery, only receive the
first move for the 10 qty, backorder the other 2 qty

5. Receive the backorder, create an invoice- edit the invoice
lines so that 5/10 of line 1 and 2/2 of line 2 are invoiced,
then post/confirm

6. Edit the `standard_price` of `FIFO-prod` (e.g., $100 -> $50)

7. Create another invoice for the remaining quantity and post

8. Observe that the COGs lines on the invoice have been
calculated with a different price unit than the other invoice &
unit_price for the out SVLs

**Cause of the issue:**
When getting the price unit of a given anglo saxon invoice line,
there is no check that all the collected COGS lines are linked
to the sale order line which corresponds to the product and
product_qty that we are attempting to value.

This creates an imbalance in the qty calculation later here:
https://github.com/odoo/odoo/blob/f2728b2fe13a355ecb301a3714639b8a07f418b4/addons/stock_account/models/stock_valuation_layer.py#L202-L211
when the valuation is actually performed.

**Fix:**
Only consider posted COGS lines for the sale order line with the
product qty that is getting valued when calculating
`qty_invoiced`.

opw-4321363

Forward-Port-Of: odoo/odoo#196067
Forward-Port-Of: odoo/odoo#195046",fw-bot,2025-02-06 18:08:51+00:00,[],2025-02-07 11:10:10+00:00,2025-02-07 11:10:10+00:00,https://github.com/odoo/odoo/pull/196868,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640628674, 'issue_id': 2836247289, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196868.png)](https://mergebot.odoo.com/odoo/odoo/pull/196868)', 'created_at': datetime.datetime(2025, 2, 6, 18, 8, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640628699, 'issue_id': 2836247289, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 8, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:08:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196868.png)](https://mergebot.odoo.com/odoo/odoo/pull/196868)

fw-bot (Issue Creator) on (2025-02-06 18:08:53 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836230787,pull_request,closed,,[FW][FIX] l10n_it_edi: post invoice w/ multiple downpayments,"- Create a sale order and confirm it
- Create two partial down payments for that sale order and confirm them
- Create a invoice for the remaining amount and confirm it
- Send and print the invoice (with Send to Tax Agency selected)
- Traceback  
<a/>

     File ""addons/account/models/account_tax.py"", line 2475, in _dispatch_negative_lines
         line.setdefault('discount_amount', line['discount_amount_before_dispatching'])
     KeyError: 'discount_amount_before_dispatching'

bbe04fb62916ae326c830e89b2664dfd32b62b75 removes elements from base_list while looping over it.

In `17.0` this doesn't cause this error because we have two loops; one that sets 'discount_amount_before_dispatching' and after that one that remove downpayment from base_lines. But the fix should still be backported because it works by chance.

Ticket [link](https://www.odoo.com/odoo/project/967/tasks/4496310)
opw-4496310

Forward-Port-Of: odoo/odoo#194949",fw-bot,2025-02-06 18:00:56+00:00,[],2025-02-06 21:02:30+00:00,2025-02-06 21:02:29+00:00,https://github.com/odoo/odoo/pull/196867,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640610612, 'issue_id': 2836230787, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196867.png)](https://mergebot.odoo.com/odoo/odoo/pull/196867)', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640610630, 'issue_id': 2836230787, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:00:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196867.png)](https://mergebot.odoo.com/odoo/odoo/pull/196867)

fw-bot (Issue Creator) on (2025-02-06 18:00:58 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836229878,pull_request,closed,,[FW][FIX] account: fix propagation of tax tags,"**Steps to reproduce:**
- Install Accounting
- Create a tax with the following configuration:
  * Tax Type: Purchases (also reproducible with Sales)
  * Included in Price: [any]
  * Affect Base of Subsequent Taxes (include_base_amount): [checked]
  * Base Affected by Previous Taxes (is_base_affected): [checked]
  * Distribution:
      |  %   | Based On |  Account  |   Tax Grids |
      | ------ | ------------- | ------------ | -------------- |
      |      |   Base   |           | +Tag_1  +Tag_2 |
     | 100.00 |  of tax  | Account X | +Tag_3 |
     | -100.00 |  of tax  | Account Y | -Tag_4 |

(Or FR localization and ""20% EU G"" purchase tax can be used)
- Create a bill
- Add a line with the created tax
- Check journal items

**Issue:**
The tax tags of the base line are also added to first tax line.

**Cause:**
When a tax is ""include_base_amount"", the tags of its base line is propagated to the tax lines of the following taxes. However in this case, as there are several tax lines for the same tax, the system propagate the tags to the second one as if it was coming from another tax.

**Solution:**
Check if the tags are coming from another tax before adding them.


opw-4510882




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195837",fw-bot,2025-02-06 18:00:36+00:00,[],2025-02-06 22:30:31+00:00,2025-02-06 22:30:31+00:00,https://github.com/odoo/odoo/pull/196866,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640608735, 'issue_id': 2836229878, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196866.png)](https://mergebot.odoo.com/odoo/odoo/pull/196866)', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640608831, 'issue_id': 2836229878, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640678148, 'issue_id': 2836229878, 'author': 'fw-bot', 'body': '@kitan191 @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 18, 24, 26, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:00:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196866.png)](https://mergebot.odoo.com/odoo/odoo/pull/196866)

fw-bot (Issue Creator) on (2025-02-06 18:00:38 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 18:24:26 UTC): @kitan191 @smetl ci/runbot failed on this forward-port PR

"
2836228973,pull_request,open,,[FW][ADD] l10n_ro_edi_etransport: send transport data to eTransport platform,"Romania requires its companies to send information of all transports of goods on Romanian territory to a specific web service on their eTransport platform.

This commit implements a way to gather all the necessary data needed to send the eTransport document and the actual sending of this document to the eTransport platform.

Authentication:
the authentication needed to interact with the eTransport platform is the same as (and was already implemented in) the l10n_ro_efactura module. see [eFactura PR](https://github.com/odoo/odoo/pull/144061)

eTransport flow:
- Add the necessary eTransport data to a delivery
- send the eTransport document to ANAF
- the document gets processed by ANAF
- Fetch the status of the document:
    - which can result in an error, in which case the flow starts again from the beginning with the corrected data
    - or in a success

 task-id: 3810735

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196201
Forward-Port-Of: odoo/odoo#170080",fw-bot,2025-02-06 18:00:16+00:00,[],2025-02-06 19:00:21+00:00,,https://github.com/odoo/odoo/pull/196865,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640607932, 'issue_id': 2836228973, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196865.png)](https://mergebot.odoo.com/odoo/odoo/pull/196865)', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640607951, 'issue_id': 2836228973, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:00:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196865.png)](https://mergebot.odoo.com/odoo/odoo/pull/196865)

fw-bot (Issue Creator) on (2025-02-06 18:00:18 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836227959,pull_request,closed,,[FW][FIX] html_editor: convert xml self-closing elements to html,"HTML content is often saved as XML (i.e. through templates) and saved as such in the database. This introduces issues when elements are written under their `self-closing` format (i.e. `<a/>` or `<br/>`) as browsers will incorrectly parse these values as HTML by adding a closing tag at an arbitrary position which may modify the initial nodes configuration. This can be prevented by post-processing untrusted content before the html parsing.

This commit is an overhaul of:
https://github.com/odoo/odoo/commit/26b922ef5cad42da7e188195e919e54878d472fc https://github.com/odoo/odoo/commit/1a8a943d8373864165cb513b3767b866d626fad8 https://github.com/odoo/odoo/commit/4e547b24a323f8e59a11c5b78cbea38effc37938

in order to apply the conversion at critical entry points for editor assets:
- HtmlField is an entry point for data coming from the server, stored on the record. Every access of the record data should not be trusted and go through the post-processing.

- HtmlViewer is an entry point as it can be used as a standalone (see `website_knowledge`, or the HistoryDialog) for data coming from the server.

- Editor is an entry point as it was developed to be useable as a standalone.

task-4547973

Forward-Port-Of: odoo/odoo#196442",fw-bot,2025-02-06 17:59:51+00:00,[],2025-02-07 22:40:32+00:00,2025-02-07 22:40:32+00:00,https://github.com/odoo/odoo/pull/196864,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640607521, 'issue_id': 2836227959, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196864.png)](https://mergebot.odoo.com/odoo/odoo/pull/196864)', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640607563, 'issue_id': 2836227959, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640707068, 'issue_id': 2836227959, 'author': 'fw-bot', 'body': '@abd-msyukyu-odoo @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 18, 39, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 18:00:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196864.png)](https://mergebot.odoo.com/odoo/odoo/pull/196864)

fw-bot (Issue Creator) on (2025-02-06 18:00:07 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 18:39:49 UTC): @abd-msyukyu-odoo @dmo-odoo ci/runbot failed on this forward-port PR

"
2836172470,pull_request,closed,,[FW][FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no

Forward-Port-Of: odoo/odoo#196765",fw-bot,2025-02-06 17:32:29+00:00,[],2025-02-07 07:44:54+00:00,2025-02-07 07:44:54+00:00,https://github.com/odoo/odoo/pull/196863,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640548095, 'issue_id': 2836172470, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196863.png)](https://mergebot.odoo.com/odoo/odoo/pull/196863)', 'created_at': datetime.datetime(2025, 2, 6, 17, 32, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640548120, 'issue_id': 2836172470, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 17, 32, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 17:32:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196863.png)](https://mergebot.odoo.com/odoo/odoo/pull/196863)

fw-bot (Issue Creator) on (2025-02-06 17:32:31 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836154464,pull_request,closed,,[FW][IMP] payment: disable post-processing cron when no provider enabled,"The payment post-processing cron is run every 10 minutes to ensure smooth operations, but waking up crons incurs a non-negligible performance cost.

Since the `payment` module is automatically installed with the `account` module, most databases have the `payment` module installed with its cron, even if they didn't enable any provider.

This commit disables the cron until a provider is enabled.

task-4467217

Forward-Port-Of: odoo/odoo#196702
Forward-Port-Of: odoo/odoo#195482",fw-bot,2025-02-06 17:23:16+00:00,[],2025-02-07 13:41:43+00:00,2025-02-07 13:41:43+00:00,https://github.com/odoo/odoo/pull/196862,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640527996, 'issue_id': 2836154464, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196862.png)](https://mergebot.odoo.com/odoo/odoo/pull/196862)', 'created_at': datetime.datetime(2025, 2, 6, 17, 23, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640528029, 'issue_id': 2836154464, 'author': 'fw-bot', 'body': '@Feyensv @AntoineVDV this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196838\n* odoo/odoo#196814\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 17, 23, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642452878, 'issue_id': 2836154464, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 50, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 17:23:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196862.png)](https://mergebot.odoo.com/odoo/odoo/pull/196862)

fw-bot (Issue Creator) on (2025-02-06 17:23:20 UTC): @Feyensv @AntoineVDV this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196838
* odoo/odoo#196814

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-02-07 09:50:59 UTC): @robodoo r+

"
2836128080,pull_request,closed,,[FW][FIX] mail: chat/channel action menu position,"Purpose of this Commit:
This commit resolves the issue of the action menu popover and the notification settings popover overflowing off the screen. Previously, before this PR, the popovers could flip to all four directions, but now they are restricted to only two directions. However, in some cases, the correct position is not among these two directions. This commit addresses and fixes this behavior.

task-4454161

Forward-Port-Of: odoo/odoo#193050",fw-bot,2025-02-06 17:10:12+00:00,[],2025-02-07 06:08:10+00:00,2025-02-06 21:02:26+00:00,https://github.com/odoo/odoo/pull/196861,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640498586, 'issue_id': 2836128080, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196861.png)](https://mergebot.odoo.com/odoo/odoo/pull/196861)', 'created_at': datetime.datetime(2025, 2, 6, 17, 10, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640498615, 'issue_id': 2836128080, 'author': 'fw-bot', 'body': '@maad-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 17, 10, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640727114, 'issue_id': 2836128080, 'author': 'maad-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 18, 50, 7, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 17:10:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196861.png)](https://mergebot.odoo.com/odoo/odoo/pull/196861)

fw-bot (Issue Creator) on (2025-02-06 17:10:13 UTC): @maad-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

maad-odoo on (2025-02-06 18:50:07 UTC): @robodoo r+

"
2836126366,pull_request,closed,,[FW][FIX] l10n_in_gstin_status: restrict GSTIN update to IN companies,"This commit fixes a few issues in multi-company context:

- only show the GSTIN status/update button when user has at least one IN companies selected

- only allow the update when user's active company is an IN company (to ensure we correctly determine the EDI test/production status)

opw-4367302

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196761
Forward-Port-Of: odoo/odoo#194978",fw-bot,2025-02-06 17:09:39+00:00,[],2025-02-07 20:41:00+00:00,2025-02-07 20:41:00+00:00,https://github.com/odoo/odoo/pull/196860,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2640498043, 'issue_id': 2836126366, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196860.png)](https://mergebot.odoo.com/odoo/odoo/pull/196860)', 'created_at': datetime.datetime(2025, 2, 6, 17, 9, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640498064, 'issue_id': 2836126366, 'author': 'fw-bot', 'body': '@xavieralt @rugo-odoo cherrypicking of pull request odoo/odoo#194978 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_in/tests/test_check_status.py\nCONFLICT (content): Merge conflict in addons/l10n_in/tests/test_check_status.py\nCONFLICT (modify/delete): addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot deleted in 0767017f1f00e6755c9b3d1415c671e2ea2d1609 and modified in 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c.  Version 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c of addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot left in tree.\nCONFLICT (modify/delete): addons/l10n_in_gstin_status/models/res_partner.py deleted in 0767017f1f00e6755c9b3d1415c671e2ea2d1609 and modified in 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c.  Version 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c of addons/l10n_in_gstin_status/models/res_partner.py left in tree.\nCONFLICT (modify/delete): addons/l10n_in_gstin_status/views/res_partner_views.xml deleted in 0767017f1f00e6755c9b3d1415c671e2ea2d1609 and modified in 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c.  Version 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c of addons/l10n_in_gstin_status/views/res_partner_views.xml left in tree.\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 17, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643119274, 'issue_id': 2836126366, 'author': 'xavieralt', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 14, 37, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 17:09:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196860.png)](https://mergebot.odoo.com/odoo/odoo/pull/196860)

fw-bot (Issue Creator) on (2025-02-06 17:10:00 UTC): @xavieralt @rugo-odoo cherrypicking of pull request odoo/odoo#194978 failed.

stdout:
```
Auto-merging addons/l10n_in/tests/test_check_status.py
CONFLICT (content): Merge conflict in addons/l10n_in/tests/test_check_status.py
CONFLICT (modify/delete): addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot deleted in 0767017f1f00e6755c9b3d1415c671e2ea2d1609 and modified in 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c.  Version 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c of addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot left in tree.
CONFLICT (modify/delete): addons/l10n_in_gstin_status/models/res_partner.py deleted in 0767017f1f00e6755c9b3d1415c671e2ea2d1609 and modified in 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c.  Version 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c of addons/l10n_in_gstin_status/models/res_partner.py left in tree.
CONFLICT (modify/delete): addons/l10n_in_gstin_status/views/res_partner_views.xml deleted in 0767017f1f00e6755c9b3d1415c671e2ea2d1609 and modified in 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c.  Version 2d121b23fd8ab61c153be580aa4c8bbadaea1b0c of addons/l10n_in_gstin_status/views/res_partner_views.xml left in tree.

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavieralt on (2025-02-07 14:37:35 UTC): @robodoo r+

"
2836082742,pull_request,closed,,[FW][FIX] sale_stock: use only SOL linked COGS lines to get price unit,"**Current behavior:**
With a FIFO + real-time product, `ProductA`:
Creating a sale order with multiple order lines for ProductA,
processing the resulting delivery in 2 separate pickings via
backorder (1st delivery for the 1st line, 2nd delivery for the
2nd line), then invoicing the delivered product separately
result in an invoice with invoice lines which do not reflect the
value of the product at delivery time.

**Expected behavior:**
The SVLs generated from the deliveries should inform the
generated AccountMoves.

**Steps to reproduce:**
1. `FIFO-prod`: FIFO and real-time valuation & costing

2. Receive 12 units of `FIFO-prod` @ $100 per

3. Create a sale order with order lines:
* `FIFO-prod` `10 units` `price_unit=$100`
* `FIFO-prod` `2 units` `price_unit=$100`

4. Confirm the sale order, on the delivery, only receive the
first move for the 10 qty, backorder the other 2 qty

5. Receive the backorder, create an invoice- edit the invoice
lines so that 5/10 of line 1 and 2/2 of line 2 are invoiced,
then post/confirm

6. Edit the `standard_price` of `FIFO-prod` (e.g., $100 -> $50)

7. Create another invoice for the remaining quantity and post

8. Observe that the COGs lines on the invoice have been
calculated with a different price unit than the other invoice &
unit_price for the out SVLs

**Cause of the issue:**
When getting the price unit of a given anglo saxon invoice line,
there is no check that all the collected COGS lines are linked
to the sale order line which corresponds to the product and
product_qty that we are attempting to value.

This creates an imbalance in the qty calculation later here:
https://github.com/odoo/odoo/blob/f2728b2fe13a355ecb301a3714639b8a07f418b4/addons/stock_account/models/stock_valuation_layer.py#L202-L211
when the valuation is actually performed.

**Fix:**
Only consider posted COGS lines for the sale order line with the
product qty that is getting valued when calculating
`qty_invoiced`.

opw-4321363

Forward-Port-Of: odoo/odoo#196067
Forward-Port-Of: odoo/odoo#195046",fw-bot,2025-02-06 16:52:28+00:00,[],2025-02-07 09:03:30+00:00,2025-02-07 09:03:30+00:00,https://github.com/odoo/odoo/pull/196859,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640455829, 'issue_id': 2836082742, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196859.png)](https://mergebot.odoo.com/odoo/odoo/pull/196859)', 'created_at': datetime.datetime(2025, 2, 6, 16, 52, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640455852, 'issue_id': 2836082742, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 16, 52, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:52:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196859.png)](https://mergebot.odoo.com/odoo/odoo/pull/196859)

fw-bot (Issue Creator) on (2025-02-06 16:52:30 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836082014,pull_request,closed,,[FW][FIX] website_sale: allow browser history navigation on product pages,"Versions
--------
- saas-17.4+

Steps
-----
1. Go eCommerce products page;
2. click on a product;
3. use browser's ""Go back"" button to go back.

Issue
-----
There's no going back.

Cause
-----
PR https://github.com/odoo/odoo/pull/157412 modified the `_setUrlHash` method used to manage product attributes. One of the changes it made is modified the current URL using `window.location.hash` instead of `window.location.replace`.

While both methods can make identical changes to the URL, a key side-effect of `Location:replace()` is that the URL being replaced won't get saved in the session's `History`[^1].

As this method is called the moment the page loads, modifying the URL via `location.hash` will store the initial product page URL without attribute hashes in the session history. Then when trying to navigate back, the method will be called again immediately to apply attribute hashes, again modifying the session history, making it virtually impossible to leave the page without clicking a new URL.

Solution
--------
Use `history.replaceState`[^2] to update the current state, and not create any new entries.

opw-4416701

[^1]: https://developer.mozilla.org/en-US/docs/Web/API/Location/replace
[^2]: https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState

Forward-Port-Of: odoo/odoo#194712",fw-bot,2025-02-06 16:52:08+00:00,[],2025-02-07 16:54:16+00:00,2025-02-07 16:54:16+00:00,https://github.com/odoo/odoo/pull/196858,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640455298, 'issue_id': 2836082014, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196858.png)](https://mergebot.odoo.com/odoo/odoo/pull/196858)', 'created_at': datetime.datetime(2025, 2, 6, 16, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640455318, 'issue_id': 2836082014, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#194712 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale/static/src/js/website_sale.js\nCONFLICT (content): Merge conflict in addons/website_sale/static/src/js/website_sale.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 16, 52, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642786184, 'issue_id': 2836082014, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 12, 26, 32, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:52:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196858.png)](https://mergebot.odoo.com/odoo/odoo/pull/196858)

fw-bot (Issue Creator) on (2025-02-06 16:52:16 UTC): @lvsz cherrypicking of pull request odoo/odoo#194712 failed.

stdout:
```
Auto-merging addons/website_sale/static/src/js/website_sale.js
CONFLICT (content): Merge conflict in addons/website_sale/static/src/js/website_sale.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-02-07 12:26:32 UTC): robodoo r+

"
2836075349,pull_request,open,,[FW][FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292

Forward-Port-Of: odoo/odoo#196332
Forward-Port-Of: odoo/odoo#195645",fw-bot,2025-02-06 16:50:01+00:00,[],2025-02-06 17:00:12+00:00,,https://github.com/odoo/odoo/pull/196857,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640443359, 'issue_id': 2836075349, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196857.png)](https://mergebot.odoo.com/odoo/odoo/pull/196857)', 'created_at': datetime.datetime(2025, 2, 6, 16, 50, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640443383, 'issue_id': 2836075349, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 16, 50, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:50:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196857.png)](https://mergebot.odoo.com/odoo/odoo/pull/196857)

fw-bot (Issue Creator) on (2025-02-06 16:50:03 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836073329,pull_request,closed,,"[FW][FIX] survey: make ""Votes"" translatable","In the survey stats, the number of votes for a multiple choice answer displayed the label ""Votes"" without it being translatable.

This commit makes it translatable.

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#196704",fw-bot,2025-02-06 16:49:12+00:00,[],2025-02-07 14:22:52+00:00,2025-02-07 14:22:52+00:00,https://github.com/odoo/odoo/pull/196856,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640436485, 'issue_id': 2836073329, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196856.png)](https://mergebot.odoo.com/odoo/odoo/pull/196856)', 'created_at': datetime.datetime(2025, 2, 6, 16, 49, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640436580, 'issue_id': 2836073329, 'author': 'fw-bot', 'body': '@dylankiss @oomsveta cherrypicking of pull request odoo/odoo#196704 failed.\n\nstdout:\n```\nAuto-merging addons/survey/i18n/survey.pot\nCONFLICT (content): Merge conflict in addons/survey/i18n/survey.pot\nAuto-merging addons/survey/models/survey_question.py\nAuto-merging addons/survey/views/survey_templates_statistics.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 16, 49, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641111501, 'issue_id': 2836073329, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 21, 39, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641188448, 'issue_id': 2836073329, 'author': 'robodoo', 'body': ""@dylankiss @oomsveta 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 22, 16, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:49:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196856.png)](https://mergebot.odoo.com/odoo/odoo/pull/196856)

fw-bot (Issue Creator) on (2025-02-06 16:49:14 UTC): @dylankiss @oomsveta cherrypicking of pull request odoo/odoo#196704 failed.

stdout:
```
Auto-merging addons/survey/i18n/survey.pot
CONFLICT (content): Merge conflict in addons/survey/i18n/survey.pot
Auto-merging addons/survey/models/survey_question.py
Auto-merging addons/survey/views/survey_templates_statistics.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-06 21:39:44 UTC): @robodoo r+

robodoo on (2025-02-06 22:16:43 UTC): @dylankiss @oomsveta 'ci/runbot' failed on this reviewed PR.

"
2836070631,pull_request,closed,,[FW][FIX] accounting: Setting reconcile false for Bank and Cash type accounts explicitly.,"Behavior Before the Commit:
Whenever you change the account type of a Cash and Bank account to a different type,
please ensure that the Reconcile option is set to True. However, if you later switch
the account type back to Cash and Bank, the Reconcile option will remain True and
will not automatically revert to False.
    
Fix: explicitly set reconcile to False for account_type 'Cash and Bank' in compute_reconcile
method.

Behavior After the commit:
Reconcile will be changed to false on changing the account type to Cash and Bank.

opw-4450088: https://www.odoo.com/odoo/my-support-tasks/4450088
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194358",fw-bot,2025-02-06 16:48:33+00:00,[],2025-02-07 09:06:18+00:00,2025-02-07 09:06:18+00:00,https://github.com/odoo/odoo/pull/196855,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640431966, 'issue_id': 2836070631, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196855.png)](https://mergebot.odoo.com/odoo/odoo/pull/196855)', 'created_at': datetime.datetime(2025, 2, 6, 16, 48, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640432007, 'issue_id': 2836070631, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 16, 48, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:48:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196855.png)](https://mergebot.odoo.com/odoo/odoo/pull/196855)

fw-bot (Issue Creator) on (2025-02-06 16:48:36 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2836015556,pull_request,closed,,[REF] web_editor: split emptying list item with links tests,Backport of the commit from 17.0 that fixes https://runbot.odoo.com/odoo/runbot.build.error/62208.,dmo-odoo,2025-02-06 16:28:02+00:00,[],2025-02-07 09:44:22+00:00,2025-02-07 09:44:22+00:00,https://github.com/odoo/odoo/pull/196854,"[('RD', 'research & development, internal work')]","[{'comment_id': 2640334992, 'issue_id': 2836015556, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196854.png)](https://mergebot.odoo.com/odoo/odoo/pull/196854)', 'created_at': datetime.datetime(2025, 2, 6, 16, 28, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642217412, 'issue_id': 2836015556, 'author': 'dmo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 8, 15, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:28:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196854.png)](https://mergebot.odoo.com/odoo/odoo/pull/196854)

dmo-odoo (Issue Creator) on (2025-02-07 08:15:31 UTC): @robodoo r+

"
2835979000,pull_request,closed,,[FW][FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no

Forward-Port-Of: odoo/odoo#196765",fw-bot,2025-02-06 16:16:50+00:00,[],2025-02-07 06:03:42+00:00,2025-02-07 06:03:42+00:00,https://github.com/odoo/odoo/pull/196853,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640293060, 'issue_id': 2835979000, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196853.png)](https://mergebot.odoo.com/odoo/odoo/pull/196853)', 'created_at': datetime.datetime(2025, 2, 6, 16, 16, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640293090, 'issue_id': 2835979000, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 16, 16, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:16:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196853.png)](https://mergebot.odoo.com/odoo/odoo/pull/196853)

fw-bot (Issue Creator) on (2025-02-06 16:16:52 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835976233,pull_request,open,,[FIX] l10n_mx: Code of standard accounts following SAT prefixes,"## Background

In Mexico, all accounts need to follow a pattern XXX.XX.XX or XXX.XX.XXX where additionally the first five digits must belong to a list of prefixes published by the SAT.

At the moment, several accounts created by default don't match the CoA pattern:

- 999000001 Cash Difference Gain
- 999000002 Cash Difference Loss.
- 999300000 Cash Discount Loss
-  999400000 Cash Discount Gain
-  999999 Undistributed Profits/Losses

## Fix

Given correct codes to the existing accounts and modifying data for some records:.

| Account                             | New code  | New name                                                                     | New Account type |
|-------------------------------------|-----------|------------------------------------------------------------------------------|------------------|
| 999000001 Cash Difference Gain      | 403.01.01 | Other Income                                                                 |  ~               |
| 999000002 Cash Difference Loss      | 601.84.02 |  ~                                                                           |  ~               |
| 999300000 Cash Discount Loss        | 402.01.01 | Returns, discounts or bonuses over sales and/or services at the general rate | other income     |
| 999400000 Cash Discount Gain        | 503.01.01 | Returns, discounts or bonuses over purchases                                 |  ~               |
| 999999 Undistributed Profits/Losses | 305.01.01 | Uncut Result                                                                 |  ~               |

---

opw-4088080

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",levm-odoo,2025-02-06 16:15:53+00:00,[],2025-02-07 10:06:16+00:00,,https://github.com/odoo/odoo/pull/196852,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640290562, 'issue_id': 2835976233, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196852.png)](https://mergebot.odoo.com/odoo/odoo/pull/196852)', 'created_at': datetime.datetime(2025, 2, 6, 16, 15, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:15:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196852.png)](https://mergebot.odoo.com/odoo/odoo/pull/196852)

"
2835951948,pull_request,closed,,[FIX] account - profit and loss account domain,"The domain on the view overrides the domain on the model.

As both domains are correct, this commit moves the partial domain on the view and adds it to the partial domain on the model.

task-4514485

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rugo-odoo,2025-02-06 16:06:13+00:00,[],2025-02-07 16:54:17+00:00,2025-02-07 16:54:17+00:00,https://github.com/odoo/odoo/pull/196851,"[('RD', 'research & development, internal work')]","[{'comment_id': 2640264631, 'issue_id': 2835951948, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196851.png)](https://mergebot.odoo.com/odoo/odoo/pull/196851)', 'created_at': datetime.datetime(2025, 2, 6, 16, 6, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:06:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196851.png)](https://mergebot.odoo.com/odoo/odoo/pull/196851)

"
2835950460,pull_request,open,,[FIX] pos_restaurant: show correct time in receipt,"When printing a preparation receipt the correct time was not shown (It was always UTC time). Also when the order was not sent to the server the time was not shown at all.

Steps to reproduce:
-------------------
* Setup a kitchen printer for a PoS
* Open PoS go on a table and add some products
* Click on the Order button
> Observation: The time is not shown in the receipt
* Leave the table and come back to it to make sure order is sent to the server
* Add another product and send the order to the kitchen
> Observation: The time is in UTC

Why the fix:
------------
Instead of relying on the write date of the order we now rely on the current time of the client to show the time in the receipt. This time will always correspond to the time the order was sent to the kitchen.

opw-4454102",robinengels,2025-02-06 16:05:39+00:00,[],2025-02-07 12:30:53+00:00,,https://github.com/odoo/odoo/pull/196850,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640262372, 'issue_id': 2835950460, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196850.png)](https://mergebot.odoo.com/odoo/odoo/pull/196850)', 'created_at': datetime.datetime(2025, 2, 6, 16, 5, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:05:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196850.png)](https://mergebot.odoo.com/odoo/odoo/pull/196850)

"
2835939528,pull_request,closed,,[IMP] l10n_cz: add tax offices,"CZ Tax offices were added in 17.0, in odoo/enterprise#56896 In master, the tax office model and related fields are moved to community, allowing the use of these fields in the future, if needed.

Documentation: https://adisspr.mfcr.cz/dpr/adis/idpr_pub/epo2_info/popis_struktury_detail.faces?zkratka=DPHDP3

task-3698642
task-3762956
task-4087283

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mairasalazar,2025-02-06 16:02:09+00:00,[],2025-02-07 16:47:58+00:00,2025-02-07 16:47:56+00:00,https://github.com/odoo/odoo/pull/196849,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2640244542, 'issue_id': 2835939528, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196849.png)](https://mergebot.odoo.com/odoo/odoo/pull/196849)', 'created_at': datetime.datetime(2025, 2, 6, 16, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642947707, 'issue_id': 2835939528, 'author': 'hupo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 31, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:02:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196849.png)](https://mergebot.odoo.com/odoo/odoo/pull/196849)

hupo-odoo on (2025-02-07 13:31:28 UTC): @robodoo r+

"
2835935919,pull_request,open,,[FIX] event_crm: allow syncing of multi-event leads,"It is possible to have a lead linked to registration from different events by using the merge method on the leads.

Currently once they are merged it becomes impossible to update any field that is synced as syncing expects we will only encounter one event.

We just default to the first event for the name.

Additionally the test revealed that if the lead doesn't have a description and a partner is added, the update mechanism crashes.

task-4531433",reth-odoo,2025-02-06 16:00:57+00:00,[],2025-02-06 17:00:22+00:00,,https://github.com/odoo/odoo/pull/196848,"[('RD', 'research & development, internal work')]","[{'comment_id': 2640238858, 'issue_id': 2835935919, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196848.png)](https://mergebot.odoo.com/odoo/odoo/pull/196848)', 'created_at': datetime.datetime(2025, 2, 6, 16, 1, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 16:01:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196848.png)](https://mergebot.odoo.com/odoo/odoo/pull/196848)

"
2835890506,pull_request,closed,,[FW][FIX] sale_pdf_quote_builder: prevent error when uploading document,"When attempting to upload a file in the ``Quotation Templates`` without saving the template first, an error occurs in the terminal.

Steps to reproduce:
---
- Install the ``sale_management`` module
- Sales > Configuration > Sales Order > Quotation Templates
- Create New > Add a name(Don't save)> Quote Builder > Click on Upload
- Try to upload a file

Traceback:
---
``ValueError: invalid literal for int() with base 10: 'false'``

Previous Behaviour:
---
When entering the name of ``Quotation Templates`` (Don't Save), the Notebook page of ``Quote Builder`` appears, and an error occurs upon uploading the document.

Solution:
---
Initially, we were checking for invisibility based on the name. However, we now display the view when an ID is retrieved, ensuring the page remains hidden until it is saved.

sentry-5963406254

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196217",fw-bot,2025-02-06 15:44:25+00:00,[],2025-02-06 19:39:08+00:00,2025-02-06 19:38:40+00:00,https://github.com/odoo/odoo/pull/196847,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640191016, 'issue_id': 2835890506, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196847.png)](https://mergebot.odoo.com/odoo/odoo/pull/196847)', 'created_at': datetime.datetime(2025, 2, 6, 15, 44, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640191063, 'issue_id': 2835890506, 'author': 'fw-bot', 'body': '@aamo-odoo @Demesmaeker this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 44, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640214224, 'issue_id': 2835890506, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 52, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:44:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196847.png)](https://mergebot.odoo.com/odoo/odoo/pull/196847)

fw-bot (Issue Creator) on (2025-02-06 15:44:27 UTC): @aamo-odoo @Demesmaeker this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-02-06 15:52:20 UTC): @robodoo r+

"
2835888435,pull_request,open,,[FW][FIX] point_of_sale: adjust config name size on preparation ticket,"This commit ensures that the config name is printed with the correct size on the preparation ticket.

Forward-Port-Of: odoo/odoo#196743",fw-bot,2025-02-06 15:43:54+00:00,[],2025-02-06 16:00:12+00:00,,https://github.com/odoo/odoo/pull/196846,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640189377, 'issue_id': 2835888435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196846.png)](https://mergebot.odoo.com/odoo/odoo/pull/196846)', 'created_at': datetime.datetime(2025, 2, 6, 15, 43, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640189429, 'issue_id': 2835888435, 'author': 'fw-bot', 'body': '@stva-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#196743 failed.\n\nstdout:\n```\nYou are currently cherry-picking commit a8a03cfa363d569ca7714d6be59e0670d7d02b13.\n```\n\nstderr:\n```\nThe previous cherry-pick is now empty, possibly due to conflict resolution.\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 43, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:43:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196846.png)](https://mergebot.odoo.com/odoo/odoo/pull/196846)

fw-bot (Issue Creator) on (2025-02-06 15:43:56 UTC): @stva-odoo @vlst-odoo cherrypicking of pull request odoo/odoo#196743 failed.

stdout:
```
You are currently cherry-picking commit a8a03cfa363d569ca7714d6be59e0670d7d02b13.
```

stderr:
```
The previous cherry-pick is now empty, possibly due to conflict resolution.
```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835886995,pull_request,closed,,[FW][FIX] ressource: move @mail dependency in ressource_mail module,"Before this commit:
 1. Install `ressource` module
 2. In debug, open ""Run unit tests"" debug menu
 3. Error pop-up: 
```js
Global Error: stack trace available in the console
Missing dependencies: @mail/../tests/mail_test_helpers
```

After this commit:
 No error and units tests can proceed

Related runbot task: https://runbot.odoo.com/odoo/runbot.build.error/72187

Forward-Port-Of: odoo/odoo#196646
Forward-Port-Of: odoo/odoo#195824",fw-bot,2025-02-06 15:43:34+00:00,[],2025-02-06 19:39:03+00:00,2025-02-06 19:38:35+00:00,https://github.com/odoo/odoo/pull/196845,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2640189012, 'issue_id': 2835886995, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196845.png)](https://mergebot.odoo.com/odoo/odoo/pull/196845)', 'created_at': datetime.datetime(2025, 2, 6, 15, 43, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640189037, 'issue_id': 2835886995, 'author': 'fw-bot', 'body': '@lse-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 43, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640338658, 'issue_id': 2835886995, 'author': 'robodoo', 'body': ""@lse-odoo @seb-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 16, 29, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:43:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196845.png)](https://mergebot.odoo.com/odoo/odoo/pull/196845)

fw-bot (Issue Creator) on (2025-02-06 15:43:50 UTC): @lse-odoo @seb-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-06 16:29:22 UTC): @lse-odoo @seb-odoo 'ci/runbot' failed on this reviewed PR.

"
2835874183,pull_request,open,,[FW][FIX] mail : Correct Usability Of User Settings,"Issue:
------
Case:  User Settings menu is basically used to handle created users but when clicking on the `New` button within the User Settings the form view corresponding to that model i.e; `res.users.settings` will be opened which is an inappropriate behavior.
Whenever a User is created that user will be reflected within that menu. There's no meaning of having `New` button when no user is created to handle.

Solution:
-----------
Some users do not have a user settings yet, so it is a perfectly valid use case to create one.
We should not artificially prevent acceptable behavior in technical/admin menus.

Steps to reproduce:
------------------------
1. Create a database in version 16.0.
2. Go to `User Settings`.
3. Click On `New` button. Try making changes and save.
4. An Invalid Field `User` error will Occur.

This is because there's a many2One field i.e; `user_id` within the tree and form views which is basically an existing user.
The `New` button will open a form view with no User which is a must. And will cause the Invalid field error when trying to save any change.

Ref:
https://github.com/odoo/odoo/blob/16.0/addons/mail/views/res_users_settings_views.xml#L24

Ref Screenshot:
![image](https://github.com/user-attachments/assets/24373b6e-2d67-42f7-9506-24faa3021e41)


Co-Authored By - @seb-odoo

Forward-Port-Of: odoo/odoo#193400",fw-bot,2025-02-06 15:39:14+00:00,[],2025-02-06 16:00:15+00:00,,https://github.com/odoo/odoo/pull/196844,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640173933, 'issue_id': 2835874183, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196844.png)](https://mergebot.odoo.com/odoo/odoo/pull/196844)', 'created_at': datetime.datetime(2025, 2, 6, 15, 39, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640173967, 'issue_id': 2835874183, 'author': 'fw-bot', 'body': '@syna-odoo @seb-odoo cherrypicking of pull request odoo/odoo#193400 failed.\n\nstdout:\n```\nAuto-merging addons/mail/models/res_users_settings.py\nCONFLICT (content): Merge conflict in addons/mail/models/res_users_settings.py\nAuto-merging addons/mail/views/res_users_settings_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 39, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:39:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196844.png)](https://mergebot.odoo.com/odoo/odoo/pull/196844)

fw-bot (Issue Creator) on (2025-02-06 15:39:16 UTC): @syna-odoo @seb-odoo cherrypicking of pull request odoo/odoo#193400 failed.

stdout:
```
Auto-merging addons/mail/models/res_users_settings.py
CONFLICT (content): Merge conflict in addons/mail/models/res_users_settings.py
Auto-merging addons/mail/views/res_users_settings_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835861771,pull_request,open,,[FW][FIX] web: don't use last record update as unique for related images,"Steps to reproduce
==================

- Install web_studio,mrp
- Go to Manufacturing > Operations > Manufacturing Orders
- Open studio
- Add a related field
- Select Product > Image
- Change the widget to the ImageField
- Exit studio
- Open any record
- Go to the product
- Edit the image
- Go back to the list view => The old image is still displayed

Cause of the issue
==================

We add a unique parameter in the image url with the last record update. In the case of a related field, the record has not been updated even if the image has changed.

Solution
========

We still need to pass a unique value in the URL because browser will not fetch twice the same URL in the same session. In that case, we can simply pass a random value

opw-4378605

Forward-Port-Of: odoo/odoo#196752
Forward-Port-Of: odoo/odoo#192036",fw-bot,2025-02-06 15:33:58+00:00,[],2025-02-06 16:00:16+00:00,,https://github.com/odoo/odoo/pull/196843,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640160502, 'issue_id': 2835861771, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196843.png)](https://mergebot.odoo.com/odoo/odoo/pull/196843)', 'created_at': datetime.datetime(2025, 2, 6, 15, 34, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640160535, 'issue_id': 2835861771, 'author': 'fw-bot', 'body': '@hubvd @kebeclibre cherrypicking of pull request odoo/odoo#192036 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/fields/image/image_field.js\nCONFLICT (content): Merge conflict in addons/web/static/src/views/fields/image/image_field.js\nAuto-merging addons/web/static/tests/legacy/views/fields/image_field_tests.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 34, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:34:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196843.png)](https://mergebot.odoo.com/odoo/odoo/pull/196843)

fw-bot (Issue Creator) on (2025-02-06 15:34:06 UTC): @hubvd @kebeclibre cherrypicking of pull request odoo/odoo#192036 failed.

stdout:
```
Auto-merging addons/web/static/src/views/fields/image/image_field.js
CONFLICT (content): Merge conflict in addons/web/static/src/views/fields/image/image_field.js
Auto-merging addons/web/static/tests/legacy/views/fields/image_field_tests.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835858965,pull_request,open,,[FIX] sale_pdf_quote_builder: provide company_id to quotation documents,"Versions:
---------
18.0+

Issue:
------
When uploading a document using the `Upload` button, the document is always assigned to the user's main company, regardless of the selected company.

Steps to Reproduce:
-------------------
1. Create a secondary company that the current user can access.
2. Navigate to Sales / Configuration / Sales Orders / Headers/Footers.
3. Switch the user's current company to the secondary company.
4. Click the `Upload` button and select any document.
    - Notice that no document is added to the secondary company's scope.
5. Switch back to the primary company.
    - The uploaded document is available under the primary company instead of the secondary one.

Cause:
------
During the upload process, no company-specific information is provided to associate the document with the selected company.

Due to the inheritance of the `ir.attachment` model, it uses `self.env.company` as the default company value for the document[^1]. Because the upload happens via the `HttpDispatcher`, no `allowed_company_ids` context value is provided to the request. Without this context value present, `request.env.company` defaults to the main company of the current user[^2].

Fix:
----
Use the `company_id` associated with the relevant `sale.order.template` (`False` when uploading documents not linked to a template).

opw-4472602

[^1]: https://github.com/odoo/odoo/blob/d99e44f22634ac589a940d85fab84ca2b2e85332/odoo/addons/base/models/ir_attachment.py#L408-L409
[^2]: https://github.com/odoo/odoo/blob/d99e44f22634ac589a940d85fab84ca2b2e85332/odoo/api.py#L680-L681",barracudapps,2025-02-06 15:32:50+00:00,[],2025-02-07 18:03:54+00:00,,https://github.com/odoo/odoo/pull/196842,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640157238, 'issue_id': 2835858965, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196842.png)](https://mergebot.odoo.com/odoo/odoo/pull/196842)', 'created_at': datetime.datetime(2025, 2, 6, 15, 32, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:32:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196842.png)](https://mergebot.odoo.com/odoo/odoo/pull/196842)

"
2835851047,pull_request,closed,,[FW][FIX] account: validate entire structured reference,"In SEPA payment files, when a structured reference is used, it is put in the section `RmtInf/Strd/CdtrRefInf/Ref`. This section has a maximum length of 35 characters. Since we only use structured references that are always less that 35 characters, this should not be a problem.

However, the way we validated the structured reference was by performing a `re.match()`, which only matches from the beginning of the string. So if more characters would be after the structured reference, it would still match and it would be possible to go beyond 35 characters.

In this commit, we fix this by using a full match instead of a match from the beginning.

[opw-4357554](https://www.odoo.com/odoo/project.task/4357554)

Forward-Port-Of: odoo/odoo#194583",fw-bot,2025-02-06 15:29:45+00:00,[],2025-02-07 02:48:53+00:00,2025-02-07 02:48:53+00:00,https://github.com/odoo/odoo/pull/196841,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640148682, 'issue_id': 2835851047, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196841.png)](https://mergebot.odoo.com/odoo/odoo/pull/196841)', 'created_at': datetime.datetime(2025, 2, 6, 15, 29, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640148765, 'issue_id': 2835851047, 'author': 'fw-bot', 'body': '@dylankiss @hupo-odoo cherrypicking of pull request odoo/odoo#194583 failed.\n\nstdout:\n```\nAuto-merging addons/account/tests/test_structured_reference.py\nCONFLICT (content): Merge conflict in addons/account/tests/test_structured_reference.py\nAuto-merging addons/account/tools/structured_reference.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 29, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640971098, 'issue_id': 2835851047, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 20, 44, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641091691, 'issue_id': 2835851047, 'author': 'robodoo', 'body': ""@dylankiss @hupo-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 21, 27, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:29:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196841.png)](https://mergebot.odoo.com/odoo/odoo/pull/196841)

fw-bot (Issue Creator) on (2025-02-06 15:29:48 UTC): @dylankiss @hupo-odoo cherrypicking of pull request odoo/odoo#194583 failed.

stdout:
```
Auto-merging addons/account/tests/test_structured_reference.py
CONFLICT (content): Merge conflict in addons/account/tests/test_structured_reference.py
Auto-merging addons/account/tools/structured_reference.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-06 20:44:59 UTC): @robodoo r+

robodoo on (2025-02-06 21:27:51 UTC): @dylankiss @hupo-odoo 'ci/runbot' failed on this reviewed PR.

"
2835846229,pull_request,closed,,[IMP] web: support negated within/between,"It is sometimes useful to look for every record that was NOT created in a given time period. The same can be said of the ""within"" operator which can effectively be used to find every record ""older than X days""

Although this can be achieved with negative operators, the domain widget currently displays ""between 1 and 2"", even if the result would be ""is not between 1 and 2"".

task-4240689
",Polymorphe57,2025-02-06 15:27:48+00:00,[],2025-02-06 19:39:05+00:00,2025-02-06 19:38:31+00:00,https://github.com/odoo/odoo/pull/196840,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2640143414, 'issue_id': 2835846229, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196840.png)](https://mergebot.odoo.com/odoo/odoo/pull/196840)', 'created_at': datetime.datetime(2025, 2, 6, 15, 27, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640152733, 'issue_id': 2835846229, 'author': 'juliusc2066', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 31, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:27:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196840.png)](https://mergebot.odoo.com/odoo/odoo/pull/196840)

juliusc2066 on (2025-02-06 15:31:15 UTC): @robodoo r+

"
2835833302,pull_request,open,,[FW][FIX] sale: sales team assigned to wrong moves,"A sales team should be assigned only to sales type moves (invoices,
credit notes, ...). Currently, it is possible that some Bills get a
sales team assigned. This is not ok as it will distort the reports
if users analyze by sales team.

It occurs when `_compute_team_id` is called on a recordset containing
sales moves and other moves.
Even if sales moves are correctly filtered a `self.concat` is used to
set the `team_id` and it will return the concatenation of `self` with
the arguments, so also the non sales moves will have the team assigned

opw-4422292

Forward-Port-Of: odoo/odoo#196332
Forward-Port-Of: odoo/odoo#195645",fw-bot,2025-02-06 15:22:50+00:00,[],2025-02-06 16:00:20+00:00,,https://github.com/odoo/odoo/pull/196839,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640129656, 'issue_id': 2835833302, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196839.png)](https://mergebot.odoo.com/odoo/odoo/pull/196839)', 'created_at': datetime.datetime(2025, 2, 6, 15, 22, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640129694, 'issue_id': 2835833302, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 22, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:22:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196839.png)](https://mergebot.odoo.com/odoo/odoo/pull/196839)

fw-bot (Issue Creator) on (2025-02-06 15:22:52 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835820238,pull_request,closed,,[FW][IMP] payment: disable post-processing cron when no provider enabled,"The payment post-processing cron is run every 10 minutes to ensure smooth operations, but waking up crons incurs a non-negligible performance cost.

Since the `payment` module is automatically installed with the `account` module, most databases have the `payment` module installed with its cron, even if they didn't enable any provider.

This commit disables the cron until a provider is enabled.

task-4467217

Forward-Port-Of: odoo/odoo#196702
Forward-Port-Of: odoo/odoo#195482",fw-bot,2025-02-06 15:17:29+00:00,[],2025-02-07 12:39:10+00:00,2025-02-07 12:39:10+00:00,https://github.com/odoo/odoo/pull/196838,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640115395, 'issue_id': 2835820238, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196838.png)](https://mergebot.odoo.com/odoo/odoo/pull/196838)', 'created_at': datetime.datetime(2025, 2, 6, 15, 17, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640115431, 'issue_id': 2835820238, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 17, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640295959, 'issue_id': 2835820238, 'author': 'fw-bot', 'body': '@Feyensv @AntoineVDV ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 16, 17, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:17:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196838.png)](https://mergebot.odoo.com/odoo/odoo/pull/196838)

fw-bot (Issue Creator) on (2025-02-06 15:17:31 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 16:17:35 UTC): @Feyensv @AntoineVDV ci/runbot failed on this forward-port PR

"
2835816770,pull_request,closed,,[FIX] account: improve audit trail deletion error message,"**issue:**
When ""Audit Trail"" is activated and a user creates an incorrect payment, deleting the payment is not possible. 
The error message suggests archiving the payment; however, there is no option to archive it.

A more flexible error message should be used instead.

opw-4494820
",st-yes,2025-02-06 15:16:10+00:00,[],2025-02-07 09:37:15+00:00,2025-02-07 09:37:15+00:00,https://github.com/odoo/odoo/pull/196837,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640111894, 'issue_id': 2835816770, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196837.png)](https://mergebot.odoo.com/odoo/odoo/pull/196837)', 'created_at': datetime.datetime(2025, 2, 6, 15, 16, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640154539, 'issue_id': 2835816770, 'author': 'agr-odoo', 'body': 'Ok but it seems we have a similar behavior in 17 too', 'created_at': datetime.datetime(2025, 2, 6, 15, 31, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:16:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196837.png)](https://mergebot.odoo.com/odoo/odoo/pull/196837)

agr-odoo on (2025-02-06 15:31:52 UTC): Ok but it seems we have a similar behavior in 17 too

"
2835810529,pull_request,open,,[FIX] account: raise UserError on reset period mismatch,"Current behavior before commit:
    
    creating cut-off journal entries for a vendor bill in a previous year using a new
    sequence reset period in the current year will raise an error due to the accrual move
    date mismatch with the destination move fetched from the move in _get_accounting_date
    
    Reason:
    due to the accrual move
    date mismatch with the destination move fetched from the move in _get_accounting_date
    
    Fix:
    Added an error message to inform the user of this discrepancy
    
    Steps to reproduce on runbot:
    
    1. ensure the sequence for the Miscellaneous
    Operations journal
    (l10n_fr for example) resets yearly for the
    previous year (ex 2024)
    
    2. create a new journal entry in the
    Miscellaneous Operations journal in the current year and rename it
    to ""Name 3000""
    
    3. Create a vendor bill and set the date field to be 12/12/2024 for example
    and post it
    
    4. Create cut-off journal entries with a recognition date set as today and the same journal
    ""Miscellaneous Operations"" and observe the traceback.
    
    opw-4507925
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",ezza-odoo,2025-02-06 15:13:43+00:00,[],2025-02-06 16:00:23+00:00,,https://github.com/odoo/odoo/pull/196836,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640104908, 'issue_id': 2835810529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196836.png)](https://mergebot.odoo.com/odoo/odoo/pull/196836)', 'created_at': datetime.datetime(2025, 2, 6, 15, 13, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:13:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196836.png)](https://mergebot.odoo.com/odoo/odoo/pull/196836)

"
2835804886,pull_request,closed,,[FIX] stock: correct inventory nocontent message,"The nocontent message for inventory counts was still referring to old concepts from before the 17.0 Milk redesign (like the ""CREATE"" button or the Import action in the Favorites menu).

This commit updates the message to correctly reference the new design actions, corrects the English and escapes translations inserted into HTML.

[task-4550935](https://www.odoo.com/odoo/project.task/4550935)",dylankiss,2025-02-06 15:11:27+00:00,[],2025-02-06 19:37:57+00:00,2025-02-06 19:37:57+00:00,https://github.com/odoo/odoo/pull/196835,"[('RD', 'research & development, internal work')]","[{'comment_id': 2640098794, 'issue_id': 2835804886, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196835.png)](https://mergebot.odoo.com/odoo/odoo/pull/196835)', 'created_at': datetime.datetime(2025, 2, 6, 15, 11, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640241542, 'issue_id': 2835804886, 'author': 'ticodoo', 'body': 'Yolo\r\n\r\n@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 16, 1, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:11:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196835.png)](https://mergebot.odoo.com/odoo/odoo/pull/196835)

ticodoo on (2025-02-06 16:01:36 UTC): Yolo

@robodoo r+

"
2835802229,pull_request,closed,,[FW][FIX] BillScreen: fix printing receipt when request takes long time,"Before this commit:
when printing request to ePOS printer is in process, if user moves to home screen in POS the currentOrder becomes null and throws exception.

after this commit:
currentOrder is stored before processing the request to avoid the exception.

opw-3859174

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194726
Forward-Port-Of: odoo/odoo#165333",fw-bot,2025-02-06 15:10:24+00:00,[],2025-02-07 08:55:52+00:00,2025-02-07 08:55:52+00:00,https://github.com/odoo/odoo/pull/196834,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640095944, 'issue_id': 2835802229, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196834.png)](https://mergebot.odoo.com/odoo/odoo/pull/196834)', 'created_at': datetime.datetime(2025, 2, 6, 15, 10, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640096060, 'issue_id': 2835802229, 'author': 'fw-bot', 'body': '@baar-odoo @adgu-odoo cherrypicking of pull request odoo/odoo#165333 failed.\n\nstdout:\n```\nAuto-merging addons/pos_restaurant/static/src/app/bill_screen/bill_screen.js\nCONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/bill_screen/bill_screen.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 10, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642297312, 'issue_id': 2835802229, 'author': 'adgu-odoo', 'body': 'This is handled thanks to the addition of [printBillActionTriggered](https://github.com/odoo/odoo/pull/182576)', 'created_at': datetime.datetime(2025, 2, 7, 8, 55, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:10:26 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196834.png)](https://mergebot.odoo.com/odoo/odoo/pull/196834)

fw-bot (Issue Creator) on (2025-02-06 15:10:28 UTC): @baar-odoo @adgu-odoo cherrypicking of pull request odoo/odoo#165333 failed.

stdout:
```
Auto-merging addons/pos_restaurant/static/src/app/bill_screen/bill_screen.js
CONFLICT (content): Merge conflict in addons/pos_restaurant/static/src/app/bill_screen/bill_screen.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adgu-odoo on (2025-02-07 08:55:52 UTC): This is handled thanks to the addition of [printBillActionTriggered](https://github.com/odoo/odoo/pull/182576)

"
2835789840,pull_request,open,,[FW][FIX] mrp: assert time value with a delta,"Comparing times may give false error because of the precision and time to run a test. This commit adds a delta into which two datetime are considered the same in order to not make the test failing by mistake.

runbot : 112119

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196068
Forward-Port-Of: odoo/odoo#195457",fw-bot,2025-02-06 15:05:27+00:00,[],2025-02-06 16:00:26+00:00,,https://github.com/odoo/odoo/pull/196833,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2640083145, 'issue_id': 2835789840, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196833.png)](https://mergebot.odoo.com/odoo/odoo/pull/196833)', 'created_at': datetime.datetime(2025, 2, 6, 15, 5, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640083175, 'issue_id': 2835789840, 'author': 'fw-bot', 'body': '@Whenrow cherrypicking of pull request odoo/odoo#195457 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 5, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:05:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196833.png)](https://mergebot.odoo.com/odoo/odoo/pull/196833)

fw-bot (Issue Creator) on (2025-02-06 15:05:39 UTC): @Whenrow cherrypicking of pull request odoo/odoo#195457 failed.

stdout:
```
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835778947,pull_request,open,,[IMP] hr_work_entry: Improve error message to be more explicit,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",tivisse,2025-02-06 15:01:09+00:00,[],2025-02-07 14:00:07+00:00,,https://github.com/odoo/odoo/pull/196832,"[('RD', 'research & development, internal work')]","[{'comment_id': 2640070837, 'issue_id': 2835778947, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196832.png)](https://mergebot.odoo.com/odoo/odoo/pull/196832)', 'created_at': datetime.datetime(2025, 2, 6, 15, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642810242, 'issue_id': 2835778947, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 12, 39, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643023626, 'issue_id': 2835778947, 'author': 'robodoo', 'body': '@tivisse linked pull request(s) odoo/enterprise#70356 not ready. Linked PRs are not staged until all of them are ready.', 'created_at': datetime.datetime(2025, 2, 7, 14, 0, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 15:01:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196832.png)](https://mergebot.odoo.com/odoo/odoo/pull/196832)

tivisse (Issue Creator) on (2025-02-07 12:39:51 UTC): @robodoo r+

robodoo on (2025-02-07 14:00:06 UTC): @tivisse linked pull request(s) odoo/enterprise#70356 not ready. Linked PRs are not staged until all of them are ready.

"
2835766563,pull_request,closed,,[FW][FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no

Forward-Port-Of: odoo/odoo#196765",fw-bot,2025-02-06 14:56:17+00:00,[],2025-02-07 05:58:43+00:00,2025-02-07 05:58:43+00:00,https://github.com/odoo/odoo/pull/196831,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640057875, 'issue_id': 2835766563, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196831.png)](https://mergebot.odoo.com/odoo/odoo/pull/196831)', 'created_at': datetime.datetime(2025, 2, 6, 14, 56, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640057911, 'issue_id': 2835766563, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 56, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:56:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196831.png)](https://mergebot.odoo.com/odoo/odoo/pull/196831)

fw-bot (Issue Creator) on (2025-02-06 14:56:19 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835743290,pull_request,closed,,[FIX] web: fix formatted_read_group fill_temporal,"Since https://github.com/odoo/odoo/pull/163300, the fill_temporal feature doesn't work properly when we group by multiple fields.
The `_web_read_group_fill_temporal` implementation discards some groups for no reason because it doesn't consider other levels of grouping to recreate the result.

It happens because the line `groups_mapped = {values[0]: values for values in groups}` only takes in account the last group for each date found. The value of the dict should be able to contains several groups.

Fix it",ryv-odoo,2025-02-06 14:47:10+00:00,[],2025-02-06 19:38:59+00:00,2025-02-06 19:38:24+00:00,https://github.com/odoo/odoo/pull/196830,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2640033837, 'issue_id': 2835743290, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196830.png)](https://mergebot.odoo.com/odoo/odoo/pull/196830)', 'created_at': datetime.datetime(2025, 2, 6, 14, 47, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640131248, 'issue_id': 2835743290, 'author': 'ryv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 23, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:47:13 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196830.png)](https://mergebot.odoo.com/odoo/odoo/pull/196830)

ryv-odoo (Issue Creator) on (2025-02-06 15:23:24 UTC): @robodoo r+

"
2835739938,pull_request,open,,[FIX] pos_self_order: load products included in combos,"Currently, if the products included in a combo don't have a pos category included in the pos config, they will not load. Selecting the combo product could result in crashing the page or just no selection showing.

Steps to reproduce:
-------------------
* Change restaurant to **QR menu + Ordering**
* Go to products, select the Burger combo
* Delete Drinks choice
* For the burger choice, delete one of the product and modify the other by removing the pos category.
* Open mobile menu
* Select the burger combo
> Observation: Page crashes

Why the fix:
------------

https://github.com/odoo/odoo/blob/2ab0b63b7042293f8229b29bcea478d37d4c3df5/addons/pos_self_order/static/src/app/pages/combo_page/combo_page.js#L141-L148

The page would crash because `c.product_id` is undefined so you cannot access `attribute_line_ids`. `product_id` is undefined because the products were not loaded.

Currently only the products that have a pos category defined in `iface_available_categ_ids` are loaded. We now load all the products included in the loaded combo. Similarly as done in the shop: https://github.com/odoo/odoo/blob/2ab0b63b7042293f8229b29bcea478d37d4c3df5/addons/point_of_sale/models/pos_config.py#L797-L798

opw-4516061",sbel-odoo,2025-02-06 14:45:56+00:00,[],2025-02-07 09:49:26+00:00,,https://github.com/odoo/odoo/pull/196829,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640030652, 'issue_id': 2835739938, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196829.png)](https://mergebot.odoo.com/odoo/odoo/pull/196829)', 'created_at': datetime.datetime(2025, 2, 6, 14, 46, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:46:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196829.png)](https://mergebot.odoo.com/odoo/odoo/pull/196829)

"
2835719727,pull_request,open,,[FIX] html_editor: properly check formatted nodes,"**Problem**:
When applying formatting (e.g., Bold) to a selection that includes a link, zero-width space (ZWS) characters inside the DOM cause incorrect formatting state detection. ZWS nodes are not formatted, but they are still considered when checking the selection state.

**Solution**:
Modify `isSelectionFormat` to check only visible text nodes. ZWS characters should be ignored as they do not get formatted.

**Steps to Reproduce**:
1. Type a link followed by a space.
2. Select all the text.
3. Apply ""Bold.""
4. The ""Bold"" button in the toolbar remains inactive incorrectly.

opw-4555595

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-06 14:38:14+00:00,[],2025-02-06 15:00:14+00:00,,https://github.com/odoo/odoo/pull/196828,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2640009865, 'issue_id': 2835719727, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196828.png)](https://mergebot.odoo.com/odoo/odoo/pull/196828)', 'created_at': datetime.datetime(2025, 2, 6, 14, 38, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:38:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196828.png)](https://mergebot.odoo.com/odoo/odoo/pull/196828)

"
2835715772,pull_request,open,,[FW][FIX] account: prevent generation of new pdf when existing,"Steps to reproduce:
[l10n_de]
- create an invoice
- confirm the invoice
- send the invoice
- send the invoice again

Issue:
You will get an error ""You cannot remove parts of the audit trail. Archive the record instead.""

Cause:
We don't prevent entering the hook if there is already a generated pdf. During the hook, we want to ""generate a Factur-X and embed it inside the PDF for inter-portability"" https://github.com/odoo/odoo/blob/84a0b81a258262e3bb9dbaa9c9f37796303a9dad/addons/account_edi_ubl_cii/models/account_move_send.py#L124-L128

In the German loca, while trying to write on the attachment, we'll check that the move has not been already posted. In which case it will raise the error https://github.com/odoo/odoo/blob/5215428114842c606202e7b1c69f5f597a977f92/addons/l10n_de/models/ir_attachment.py#L13-L34

solution:
Prevent entering the hook if there is already a pdf as it is done a few lines before https://github.com/odoo/odoo/blob/9f65f1a3b0b6b893f230729c56f287f5aff6af35/addons/account/models/account_move_send.py#L607

opw-4471377

Forward-Port-Of: odoo/odoo#196746",fw-bot,2025-02-06 14:36:41+00:00,[],2025-02-06 15:22:47+00:00,,https://github.com/odoo/odoo/pull/196827,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2640005687, 'issue_id': 2835715772, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196827.png)](https://mergebot.odoo.com/odoo/odoo/pull/196827)', 'created_at': datetime.datetime(2025, 2, 6, 14, 36, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640005719, 'issue_id': 2835715772, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 36, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640129421, 'issue_id': 2835715772, 'author': 'fw-bot', 'body': '@yosa-odoo @clbr-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 15, 22, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:36:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196827.png)](https://mergebot.odoo.com/odoo/odoo/pull/196827)

fw-bot (Issue Creator) on (2025-02-06 14:36:43 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 15:22:45 UTC): @yosa-odoo @clbr-odoo ci/runbot failed on this forward-port PR

"
2835701233,pull_request,closed,,[FW][FIX] account: avoid ORM hacks,Forward-Port-Of: odoo/odoo#193528,fw-bot,2025-02-06 14:31:24+00:00,[],2025-02-07 20:18:39+00:00,2025-02-07 20:18:39+00:00,https://github.com/odoo/odoo/pull/196826,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639990724, 'issue_id': 2835701233, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196826.png)](https://mergebot.odoo.com/odoo/odoo/pull/196826)', 'created_at': datetime.datetime(2025, 2, 6, 14, 31, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639990751, 'issue_id': 2835701233, 'author': 'fw-bot', 'body': '@william-andre @rco-odoo cherrypicking of pull request odoo/odoo#193528 failed.\n\n* 414e21db471d4adf85f1f8b985200aeb793536b8 <- on this commit\n* 535db56a5f230cc4037f2c846fdd5bcb0e5cd58c\n\nstdout:\n```\nAuto-merging addons/account/models/account_move.py\nAuto-merging addons/account/models/account_move_line.py\nCONFLICT (content): Merge conflict in addons/account/models/account_move_line.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 31, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643193491, 'issue_id': 2835701233, 'author': 'william-andre', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 4, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:31:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196826.png)](https://mergebot.odoo.com/odoo/odoo/pull/196826)

fw-bot (Issue Creator) on (2025-02-06 14:31:26 UTC): @william-andre @rco-odoo cherrypicking of pull request odoo/odoo#193528 failed.

* 414e21db471d4adf85f1f8b985200aeb793536b8 <- on this commit
* 535db56a5f230cc4037f2c846fdd5bcb0e5cd58c

stdout:
```
Auto-merging addons/account/models/account_move.py
Auto-merging addons/account/models/account_move_line.py
CONFLICT (content): Merge conflict in addons/account/models/account_move_line.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

william-andre on (2025-02-07 15:04:45 UTC): @robodoo r+

"
2835695844,pull_request,open,,[FIX] website_sale: remove GeoIP restriction on partner prop pricelist,"Versions
--------
- 16.0+

Steps
-----
1. Enable/patch GeoIP functionality;
2. create a pricelist for a country group;
3. make it available on eCommerce;
4. have a portal user located in the country group;
5. assign the pricelist to the portal user;
6. log into eCommerce as portal user outside the country group.

Issue
-----
The pricelist assigned to the partner isn't being used.

Cause
-----
Even when assigned specifically to the user, if they logged in from elsewhere, pricelists restricted to certain country groups wouldn't get applied.

Solution
--------
Remove the restriction.

opw-4359711",lvsz,2025-02-06 14:29:21+00:00,[],2025-02-06 15:38:34+00:00,,https://github.com/odoo/odoo/pull/196825,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639985124, 'issue_id': 2835695844, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196825.png)](https://mergebot.odoo.com/odoo/odoo/pull/196825)', 'created_at': datetime.datetime(2025, 2, 6, 14, 29, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:29:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196825.png)](https://mergebot.odoo.com/odoo/odoo/pull/196825)

"
2835695771,pull_request,closed,,[FW][FIX] point_of_sale: Cash opening not counted expected in column,"Current behavior:
The previous closing amount is used instead of the cash opening when printing the session report so the expected cash amount is wrong.

Steps to reproduce:

Open a PoS session with 100€ in the cash register and close it. Reopen the session and enter 50€ in the cash register. Make a sale for 10€, using cash payment.
Close the session and print the session report.
The expected cash amount will be 110€ when it should be 60€.

Fixes opw-4497263

Forward-Port-Of: odoo/odoo#196395",fw-bot,2025-02-06 14:29:19+00:00,[],2025-02-06 18:08:16+00:00,2025-02-06 18:08:16+00:00,https://github.com/odoo/odoo/pull/196824,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639984936, 'issue_id': 2835695771, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196824.png)](https://mergebot.odoo.com/odoo/odoo/pull/196824)', 'created_at': datetime.datetime(2025, 2, 6, 14, 29, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639984976, 'issue_id': 2835695771, 'author': 'fw-bot', 'body': '@PierreCourt @vlst-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196798\n* odoo/odoo#196771\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 29, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640023137, 'issue_id': 2835695771, 'author': 'PierreCourt', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 14, 43, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:29:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196824.png)](https://mergebot.odoo.com/odoo/odoo/pull/196824)

fw-bot (Issue Creator) on (2025-02-06 14:29:21 UTC): @PierreCourt @vlst-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196798
* odoo/odoo#196771

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

PierreCourt on (2025-02-06 14:43:09 UTC): @robodoo r+

"
2835678761,pull_request,open,,[FIX] POC,,phenix-factory,2025-02-06 14:22:54+00:00,[],2025-02-06 15:00:19+00:00,,https://github.com/odoo/odoo/pull/196823,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639967258, 'issue_id': 2835678761, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196823.png)](https://mergebot.odoo.com/odoo/odoo/pull/196823)', 'created_at': datetime.datetime(2025, 2, 6, 14, 22, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:22:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196823.png)](https://mergebot.odoo.com/odoo/odoo/pull/196823)

"
2835670687,pull_request,open,,[IMP] hr_attendance: auto check-out and absence not for flexible working hours,"If the automatic check out and absence managment settings in attendance are set, it will not take into account the employees that have a flexible working schedule.

These settings were not compatible with the notion of flexibility in hours.

task-4548565
",romaincarlier4,2025-02-06 14:19:45+00:00,[],2025-02-06 15:00:21+00:00,,https://github.com/odoo/odoo/pull/196822,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639959865, 'issue_id': 2835670687, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196822.png)](https://mergebot.odoo.com/odoo/odoo/pull/196822)', 'created_at': datetime.datetime(2025, 2, 6, 14, 19, 48, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:19:48 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196822.png)](https://mergebot.odoo.com/odoo/odoo/pull/196822)

"
2835660288,pull_request,open,,[FIX] base: try/exc attachment b64encode from binascii,"**Current behavior:**
When exporting Binary field types, the underlying `b2a_base64()` implementation in binascii.py/c can return NULL when the input length exceeds https://github.com/python/cpython/blob/63f0406d5ad25a55e49c3903b29407c50a17cfd5/Modules/binascii.c#L102 I.e., when there is not enough memory available.

The resulting error propagated to the User is not clear.

**Expected behavior:**
A clear error/exception message.

**Steps to reproduce:**
1. Make 10,000 products with values for their `image_1920` field

2. Try to export ALL the products in 1 go (with `image_1920` as one of the export fields)

3. Traceback

**Cause of the issue:**
...

**Fix:**
Commit header

opw-4346901",ethanrobv,2025-02-06 14:15:39+00:00,[],2025-02-07 10:29:29+00:00,,https://github.com/odoo/odoo/pull/196821,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639949827, 'issue_id': 2835660288, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196821.png)](https://mergebot.odoo.com/odoo/odoo/pull/196821)', 'created_at': datetime.datetime(2025, 2, 6, 14, 15, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:15:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196821.png)](https://mergebot.odoo.com/odoo/odoo/pull/196821)

"
2835650949,pull_request,open,,[IMP] WIP,"Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",odoo-pda,2025-02-06 14:12:01+00:00,[],2025-02-07 14:26:47+00:00,,https://github.com/odoo/odoo/pull/196820,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639940679, 'issue_id': 2835650949, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196820.png)](https://mergebot.odoo.com/odoo/odoo/pull/196820)', 'created_at': datetime.datetime(2025, 2, 6, 14, 12, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:12:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196820.png)](https://mergebot.odoo.com/odoo/odoo/pull/196820)

"
2835637909,pull_request,open,,"[FW][FIX] web_editor, website_blog: new update translation controller","In the current implementation, updating translations for a `blog.post`
via the route
`/web/dataset/call_kw/blog.post/web_update_field_translations`
fails to apply changes when the post has already been translated once.
This issue is caused by how the system fetches `website.default_lang_id`
from the request.

__Current behavior before commit:__
When editing a previously translated field for `blog.post` or
`product.template`, the system retrieves the website from the request to
determine the `source_lang`. This is used to search for the original
term in the source language and update its translation. However, due to
the `website=True` parameter not being set for the controller,the system
defaults to English (`source_lang = 'en_US'`). As a result:

1. The system searches for the original word in English, even if it
exists in another language.
2. The translation update fails because the original word cannot be
found in English.

__Description of the fix:__
A new controller was introduced to specifically handle translation
updates, ensuring the correct language is fetched and the translation
logic is applied correctly.

__Steps to reproduce the issue:__
1. Add 2 or more languages to the website.
2. Set the default language to any language other than English (US).
3. Create a blog post and write text in the default language.
4. Switch to another language, translate the text and save.
5. Edit the translated text again.
The last edits are not saved.

- bug introduced in: [#06346b0][1]
- opw-4239512

[1]: https://github.com/odoo/odoo/commit/06346b049a3a13a9a8b63a4f60151ec24fabb59e

Forward-Port-Of: odoo/odoo#195794
Forward-Port-Of: odoo/odoo#184415",fw-bot,2025-02-06 14:07:10+00:00,[],2025-02-06 15:00:24+00:00,,https://github.com/odoo/odoo/pull/196819,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639928284, 'issue_id': 2835637909, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196819.png)](https://mergebot.odoo.com/odoo/odoo/pull/196819)', 'created_at': datetime.datetime(2025, 2, 6, 14, 7, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639928310, 'issue_id': 2835637909, 'author': 'fw-bot', 'body': '@vega-odoo @HydrionBurst this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 7, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:07:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196819.png)](https://mergebot.odoo.com/odoo/odoo/pull/196819)

fw-bot (Issue Creator) on (2025-02-06 14:07:12 UTC): @vega-odoo @HydrionBurst this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835636985,pull_request,closed,,[FW][IMP] point_of_sale: align amounts in the payment screen,"In this commit:
==========
- Improved the alignment of the remaining amount, change amount, and payment line amount.
- Ensured all amounts were consistently aligned on the same line for better readability.

task-4517934

Forward-Port-Of: odoo/odoo#195924",fw-bot,2025-02-06 14:06:48+00:00,[],2025-02-07 05:50:53+00:00,2025-02-07 05:50:53+00:00,https://github.com/odoo/odoo/pull/196818,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639927581, 'issue_id': 2835636985, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196818.png)](https://mergebot.odoo.com/odoo/odoo/pull/196818)', 'created_at': datetime.datetime(2025, 2, 6, 14, 6, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639927616, 'issue_id': 2835636985, 'author': 'fw-bot', 'body': '@paan-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 6, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641913873, 'issue_id': 2835636985, 'author': 'paan-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 4, 20, 27, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:06:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196818.png)](https://mergebot.odoo.com/odoo/odoo/pull/196818)

fw-bot (Issue Creator) on (2025-02-06 14:06:56 UTC): @paan-odoo @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

paan-odoo on (2025-02-07 04:20:27 UTC): @robodoo r+

"
2835630435,pull_request,closed,,[FW][FIX] account: validate entire structured reference,"In SEPA payment files, when a structured reference is used, it is put in the section `RmtInf/Strd/CdtrRefInf/Ref`. This section has a maximum length of 35 characters. Since we only use structured references that are always less that 35 characters, this should not be a problem.

However, the way we validated the structured reference was by performing a `re.match()`, which only matches from the beginning of the string. So if more characters would be after the structured reference, it would still match and it would be possible to go beyond 35 characters.

In this commit, we fix this by using a full match instead of a match from the beginning.

[opw-4357554](https://www.odoo.com/odoo/project.task/4357554)

Forward-Port-Of: odoo/odoo#194583",fw-bot,2025-02-06 14:04:21+00:00,[],2025-02-06 23:31:32+00:00,2025-02-06 23:31:32+00:00,https://github.com/odoo/odoo/pull/196817,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639920652, 'issue_id': 2835630435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196817.png)](https://mergebot.odoo.com/odoo/odoo/pull/196817)', 'created_at': datetime.datetime(2025, 2, 6, 14, 4, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639920697, 'issue_id': 2835630435, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 14, 4, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640148702, 'issue_id': 2835630435, 'author': 'fw-bot', 'body': '@dylankiss @hupo-odoo the next pull request (odoo/odoo#196841) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 29, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640941542, 'issue_id': 2835630435, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 20, 35, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641026213, 'issue_id': 2835630435, 'author': 'robodoo', 'body': '@dylankiss @hupo-odoo staging failed: ci/runbot on 365fea4b14c322bc41020631ea7307179b45d68b (view more at https://runbot.odoo.com/runbot/build/74627789)', 'created_at': datetime.datetime(2025, 2, 6, 21, 8, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641156051, 'issue_id': 2835630435, 'author': 'dylankiss', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 6, 22, 0, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 14:04:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196817.png)](https://mergebot.odoo.com/odoo/odoo/pull/196817)

fw-bot (Issue Creator) on (2025-02-06 14:04:23 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 15:29:47 UTC): @dylankiss @hupo-odoo the next pull request (odoo/odoo#196841) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-06 20:35:18 UTC): @robodoo r+

robodoo on (2025-02-06 21:08:43 UTC): @dylankiss @hupo-odoo staging failed: ci/runbot on 365fea4b14c322bc41020631ea7307179b45d68b (view more at https://runbot.odoo.com/runbot/build/74627789)

dylankiss on (2025-02-06 22:00:43 UTC): @robodoo retry

"
2835608357,pull_request,closed,,[FW][FIX] hr_*: allow editing unapproved allocation requests,"The base.group_user did not have the access right to read overtime_id, which is necessary for filtering allocations that do not have a null overtime_id. The access right was granted to base.group_user only when the allocation state is either draft or confirm.

task-4452360

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196650
Forward-Port-Of: odoo/odoo#193797",fw-bot,2025-02-06 13:56:00+00:00,[],2025-02-08 01:04:24+00:00,2025-02-08 01:04:24+00:00,https://github.com/odoo/odoo/pull/196815,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639899373, 'issue_id': 2835608357, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196815.png)](https://mergebot.odoo.com/odoo/odoo/pull/196815)', 'created_at': datetime.datetime(2025, 2, 6, 13, 56, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639899410, 'issue_id': 2835608357, 'author': 'fw-bot', 'body': '@ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.\n\nstdout:\n```\nAuto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml\nAuto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nCONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot\nAuto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 56, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640068769, 'issue_id': 2835608357, 'author': 'ataha1', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 0, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640179218, 'issue_id': 2835608357, 'author': 'robodoo', 'body': ""@ataha1 @tivisse 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 15, 41, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642414064, 'issue_id': 2835608357, 'author': 'tivisse', 'body': '@ataha1 The runbot is red, and the failing test seems related to your development. \r\n\r\nCould you have a look ? \r\n\r\nThanks :)', 'created_at': datetime.datetime(2025, 2, 7, 9, 32, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642856900, 'issue_id': 2835608357, 'author': 'tivisse', 'body': '@ataha1 Seems there was an issue in your rebase, you got new commits in account, etc.', 'created_at': datetime.datetime(2025, 2, 7, 13, 4, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642925237, 'issue_id': 2835608357, 'author': 'ataha1', 'body': '@tivisse the rebase is fixed now.', 'created_at': datetime.datetime(2025, 2, 7, 13, 26, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643096212, 'issue_id': 2835608357, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 14, 28, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643096524, 'issue_id': 2835608357, 'author': 'robodoo', 'body': '@tivisse you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 7, 14, 28, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:56:01 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196815.png)](https://mergebot.odoo.com/odoo/odoo/pull/196815)

fw-bot (Issue Creator) on (2025-02-06 13:56:02 UTC): @ataha1 @tivisse cherrypicking of pull request odoo/odoo#193797 failed.

stdout:
```
Auto-merging addons/hr_holidays/views/hr_leave_allocation_views.xml
Auto-merging addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
CONFLICT (content): Merge conflict in addons/hr_holidays_attendance/i18n/hr_holidays_attendance.pot
Auto-merging addons/hr_holidays_attendance/models/hr_leave_allocation.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

ataha1 on (2025-02-06 15:00:27 UTC): @robodoo r+

robodoo on (2025-02-06 15:41:05 UTC): @ataha1 @tivisse 'ci/runbot' failed on this reviewed PR.

tivisse on (2025-02-07 09:32:58 UTC): @ataha1 The runbot is red, and the failing test seems related to your development. 

Could you have a look ? 

Thanks :)

tivisse on (2025-02-07 13:04:44 UTC): @ataha1 Seems there was an issue in your rebase, you got new commits in account, etc.

ataha1 on (2025-02-07 13:26:53 UTC): @tivisse the rebase is fixed now.

tivisse on (2025-02-07 14:28:56 UTC): @robodoo r+

robodoo on (2025-02-07 14:28:58 UTC): @tivisse you may want to rebuild or fix this PR as it has failed CI.

"
2835607507,pull_request,closed,,[FW][IMP] payment: disable post-processing cron when no provider enabled,"The payment post-processing cron is run every 10 minutes to ensure smooth operations, but waking up crons incurs a non-negligible performance cost.

Since the `payment` module is automatically installed with the `account` module, most databases have the `payment` module installed with its cron, even if they didn't enable any provider.

This commit disables the cron until a provider is enabled.

task-4467217

Forward-Port-Of: odoo/odoo#196702
Forward-Port-Of: odoo/odoo#195482",fw-bot,2025-02-06 13:55:40+00:00,[],2025-02-07 14:12:06+00:00,2025-02-07 14:12:06+00:00,https://github.com/odoo/odoo/pull/196814,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639898751, 'issue_id': 2835607507, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196814.png)](https://mergebot.odoo.com/odoo/odoo/pull/196814)', 'created_at': datetime.datetime(2025, 2, 6, 13, 55, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639898773, 'issue_id': 2835607507, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 55, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:55:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196814.png)](https://mergebot.odoo.com/odoo/odoo/pull/196814)

fw-bot (Issue Creator) on (2025-02-06 13:55:47 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835582338,pull_request,open,,[FW][IMP] point_of_sale: split click on pricelist button,"Splitting the function `click` on the Pricelist Button to make it inheritable, by creating a new function called `getPricelistList` that will allow filtering them whenever needed.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#191686
Forward-Port-Of: odoo/odoo#173010",fw-bot,2025-02-06 13:46:03+00:00,[],2025-02-07 09:17:33+00:00,,https://github.com/odoo/odoo/pull/196813,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639875161, 'issue_id': 2835582338, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196813.png)](https://mergebot.odoo.com/odoo/odoo/pull/196813)', 'created_at': datetime.datetime(2025, 2, 6, 13, 46, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639875191, 'issue_id': 2835582338, 'author': 'fw-bot', 'body': '@CarmenMiranda @adgu-odoo cherrypicking of pull request odoo/odoo#173010 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/screens/product_screen/control_buttons/control_buttons.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/control_buttons/control_buttons.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 46, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:46:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196813.png)](https://mergebot.odoo.com/odoo/odoo/pull/196813)

fw-bot (Issue Creator) on (2025-02-06 13:46:05 UTC): @CarmenMiranda @adgu-odoo cherrypicking of pull request odoo/odoo#173010 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/screens/product_screen/control_buttons/control_buttons.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/screens/product_screen/control_buttons/control_buttons.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835581591,pull_request,closed,,[FW][FIX] BillScreen: fix printing receipt when request takes long time,"Before this commit:
when printing request to ePOS printer is in process, if user moves to home screen in POS the currentOrder becomes null and throws exception.

after this commit:
currentOrder is stored before processing the request to avoid the exception.

opw-3859174

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194726
Forward-Port-Of: odoo/odoo#165333",fw-bot,2025-02-06 13:45:44+00:00,[],2025-02-07 11:09:24+00:00,2025-02-07 11:09:24+00:00,https://github.com/odoo/odoo/pull/196812,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639874375, 'issue_id': 2835581591, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196812.png)](https://mergebot.odoo.com/odoo/odoo/pull/196812)', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639874400, 'issue_id': 2835581591, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640095983, 'issue_id': 2835581591, 'author': 'fw-bot', 'body': '@baar-odoo @adgu-odoo the next pull request (odoo/odoo#196834) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 15, 10, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642281367, 'issue_id': 2835581591, 'author': 'adgu-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 8, 48, 38, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:45:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196812.png)](https://mergebot.odoo.com/odoo/odoo/pull/196812)

fw-bot (Issue Creator) on (2025-02-06 13:45:45 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 15:10:27 UTC): @baar-odoo @adgu-odoo the next pull request (odoo/odoo#196834) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adgu-odoo on (2025-02-07 08:48:38 UTC): robodoo r+

"
2835580712,pull_request,closed,,[FW] 17.0 recaptcha signup brvg,"Continuation of https://github.com/odoo/odoo/pull/185073

Forward-Port-Of: odoo/odoo#196505
Forward-Port-Of: odoo/odoo#190196",fw-bot,2025-02-06 13:45:23+00:00,[],2025-02-07 17:32:41+00:00,2025-02-07 17:32:41+00:00,https://github.com/odoo/odoo/pull/196811,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639873624, 'issue_id': 2835580712, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196811.png)](https://mergebot.odoo.com/odoo/odoo/pull/196811)', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639873650, 'issue_id': 2835580712, 'author': 'fw-bot', 'body': '@bram1000 @beledouxdenis cherrypicking of pull request odoo/odoo#190196 failed.\n\nstdout:\n```\nAuto-merging addons/auth_signup/controllers/main.py\nAuto-merging addons/auth_signup/i18n/auth_signup.pot\nAuto-merging addons/auth_signup/static/src/js/reset_password.js\nAuto-merging addons/website_cf_turnstile/static/src/js/turnstile.js\nCONFLICT (content): Merge conflict in addons/website_cf_turnstile/static/src/js/turnstile.js\nAuto-merging odoo/addons/base/models/ir_http.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643242166, 'issue_id': 2835580712, 'author': 'bram1000', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 25, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:45:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196811.png)](https://mergebot.odoo.com/odoo/odoo/pull/196811)

fw-bot (Issue Creator) on (2025-02-06 13:45:25 UTC): @bram1000 @beledouxdenis cherrypicking of pull request odoo/odoo#190196 failed.

stdout:
```
Auto-merging addons/auth_signup/controllers/main.py
Auto-merging addons/auth_signup/i18n/auth_signup.pot
Auto-merging addons/auth_signup/static/src/js/reset_password.js
Auto-merging addons/website_cf_turnstile/static/src/js/turnstile.js
CONFLICT (content): Merge conflict in addons/website_cf_turnstile/static/src/js/turnstile.js
Auto-merging odoo/addons/base/models/ir_http.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bram1000 on (2025-02-07 15:25:40 UTC): @robodoo r+

"
2835579831,pull_request,closed,,[FIX] point_of_sale: loading ticket screen,"This fix prevent blank screen (when offline) & inifinte loop (when in 3G or other low connection) on order screen.

- **Offline Mode:** When accessing the order screen offline, now the screen loads previously fetched orders and displays a ""Limited Functionality"" popup.
- **Slow Connection (3G):** Infinite loop (caused by repeated call to  `await this.pos.getServerOrders()`)  is fixed by ensuring orders load only once, even on slow connections using the flag `loadingOrderState`

task-id: 4550978

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-02-06 13:45:03+00:00,[],2025-02-07 12:40:55+00:00,2025-02-07 12:40:55+00:00,https://github.com/odoo/odoo/pull/196810,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639873247, 'issue_id': 2835579831, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196810.png)](https://mergebot.odoo.com/odoo/odoo/pull/196810)', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:45:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196810.png)](https://mergebot.odoo.com/odoo/odoo/pull/196810)

"
2835579616,pull_request,open,,"[FW][FIX] mrp{,_subcontracting{,_purchase}}: handle mo date start write","**Current behavior:**
After commit https://github.com/odoo/odoo/commit/7c808beaf36853b4d9171ef0981d1ec9c4b73a44 all writes on `date_start` would silently
alter the written date value (totally unintuiative for a user &
undesired behavior regardless).

**Expected behavior:**
Only when handling indirect writes on `date_start` from a
linked-via-subcontract purchase order should we modify
`date_start` to account for the manufacture delay.

opw-4489485

Forward-Port-Of: odoo/odoo#196664
Forward-Port-Of: odoo/odoo#195742",fw-bot,2025-02-06 13:44:57+00:00,[],2025-02-07 09:40:34+00:00,,https://github.com/odoo/odoo/pull/196809,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639873181, 'issue_id': 2835579616, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196809.png)](https://mergebot.odoo.com/odoo/odoo/pull/196809)', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639873216, 'issue_id': 2835579616, 'author': 'fw-bot', 'body': '@ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#195742 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/models/mrp_production.py\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\nAuto-merging addons/mrp_subcontracting/models/stock_move.py\nAuto-merging addons/mrp_subcontracting_purchase/tests/test_mrp_subcontracting_purchase.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 45, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:45:14 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196809.png)](https://mergebot.odoo.com/odoo/odoo/pull/196809)

fw-bot (Issue Creator) on (2025-02-06 13:45:14 UTC): @ethanrobv @Whenrow cherrypicking of pull request odoo/odoo#195742 failed.

stdout:
```
Auto-merging addons/mrp/models/mrp_production.py
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py
Auto-merging addons/mrp_subcontracting/models/stock_move.py
Auto-merging addons/mrp_subcontracting_purchase/tests/test_mrp_subcontracting_purchase.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835576478,pull_request,closed,,[FIX] pos_restaurant:fix empty preparation receipt,"When creating multiple preparation printers for different pos categories you could have a case where an empty receipt is printed.

Steps to reproduce:
-------------------
* Create 2 PoS categories CAT 1 and CAT 2
* Create a first preparation printer for CAT 2
* Create a second preparation printer for CAT 1
* Create a product P1 for CAT 1
* Assign the two printers to a PoS
* Open PoS and add the P1 to your order
* Send the order in preparation
> Observation: Two receipts are printed and one of them is empty

Why the fix:
------------
When going over each printer to print the relevant changes, if the first printer in the list has no changes it would always print an empty receipt because `last_preparation_change` would always be empty. To fix this we rely on `changes` to check if there are any changes to print on this printer

opw-4462586",robinengels,2025-02-06 13:43:39+00:00,[],2025-02-08 01:04:25+00:00,2025-02-08 01:04:25+00:00,https://github.com/odoo/odoo/pull/196808,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639869553, 'issue_id': 2835576478, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196808.png)](https://mergebot.odoo.com/odoo/odoo/pull/196808)', 'created_at': datetime.datetime(2025, 2, 6, 13, 43, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643224504, 'issue_id': 2835576478, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 17, 47, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:43:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196808.png)](https://mergebot.odoo.com/odoo/odoo/pull/196808)

davidmonnom on (2025-02-07 15:17:47 UTC): @robodoo r+

"
2835572776,pull_request,closed,,[FIX] point_of_sale: fix view field attribute invisible,"Steps to reproduce :

-open settings/technical/views
-search ""product.template.form.inherit""
-select the view with external id ""point_of_sale.product_template_form_inherit""
-A Yellow Warning Message should appear indicating an Access Rights Inconsistency

Problem:
In the product_view.xml file of the point_of_sale module, in the view named product.template.form.inherit for the field ""color"", the invisible condition was invisible=""true"". This caused an accessed right inconsistency because the python code did not recognize true as a Boolean but looked for a field named ""true"" in the product.template model and didn't find any.

https://github.com/odoo/odoo/blob/abf0b5f102a0bad3ed0feb8b8e967f5e3c8d2288/addons/point_of_sale/views/product_view.xml#L69

opw-4520474
",plha-odoo,2025-02-06 13:42:16+00:00,[],2025-02-07 15:10:28+00:00,2025-02-07 15:10:28+00:00,https://github.com/odoo/odoo/pull/196807,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639866047, 'issue_id': 2835572776, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196807.png)](https://mergebot.odoo.com/odoo/odoo/pull/196807)', 'created_at': datetime.datetime(2025, 2, 6, 13, 42, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642971099, 'issue_id': 2835572776, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 13, 36, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:42:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196807.png)](https://mergebot.odoo.com/odoo/odoo/pull/196807)

davidmonnom on (2025-02-07 13:36:56 UTC): @robodoo r+

"
2835551707,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai fix total_amount calculation in TBAI xml.,"Steps to reproduce:
-------------------
- In a Spanish company, make sure l10n_es_edi_tbai is installed.
- Create an invoice with one product and add 2 taxes for that line (for example, the 21% goods and the 5.2 ES tax).
- Confirm and send the invoice with TBAI.
- In the TBAI xml you will find the total amount wrong as the base amount was calculated twice, one time for each tax.

Cause:
-----
Since (#180062), the tax details calculation process was reworked.
the total amount is calculated inside a loop with this formula
```
for values in values_per_grouping_key.values():
	total_amount += values['base_amount'] + values['tax_amount']
```
In case one invoice line has 2 taxes of different tax groups, this code will add the base_amount twice in the total_amount calculation.

Fix
---
Move the base amount addition in a separate loop with a new aggregation (with no grouping) to add the base amount to the total.

opw-4501051

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195561",fw-bot,2025-02-06 13:33:39+00:00,[],2025-02-06 18:07:51+00:00,2025-02-06 18:07:51+00:00,https://github.com/odoo/odoo/pull/196806,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639846743, 'issue_id': 2835551707, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196806.png)](https://mergebot.odoo.com/odoo/odoo/pull/196806)', 'created_at': datetime.datetime(2025, 2, 6, 13, 34, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639846772, 'issue_id': 2835551707, 'author': 'fw-bot', 'body': '@m-gad1 @smetl this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196782\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 34, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639852024, 'issue_id': 2835551707, 'author': 'm-gad1', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 36, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:34:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196806.png)](https://mergebot.odoo.com/odoo/odoo/pull/196806)

fw-bot (Issue Creator) on (2025-02-06 13:34:09 UTC): @m-gad1 @smetl this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196782

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

m-gad1 on (2025-02-06 13:36:19 UTC): @robodoo r+

"
2835547578,pull_request,open,,[IMP] web: escape translated strings that contain markup,"Automatically escape source terms and non-markup values passed to _t if at least one of the inserted values in a markup.

This approach is believed to have the following benefits:

- More XSS-proof
    - Any piece of HTML that needs to be inserted has to be wrapped in a call to markup. This will increase the number of lines requiring special attention that will be caught by the CI/security check.
    - Any part of the translated string that's not markup is escaped.
- Better syntax
    - It eliminates the need for the sprintf function to insert markup into the safely escaped translated string, as well as the need for the escape function to escape the string itself and the interpolated non-markup values.
- API consistency (i.e. it matches the behavior of gettext with markups as it currently exists on the Python side)

```js
return markup(
    sprintf(escape(_t(""Create %(value)s as a new %(field)s?"")), {
        value: `<strong>${escape(this.props.value)}</strong>`,
        field: escape(this.props.name),
    })
);
```
```js
return _t(""Create %(value)s as a new %(field)s?"", {
    value: markup(`<strong>${escape(this.props.value)}</strong>`),
    field: this.props.name,
});
```

Task-4519529

Backport of odoo/odoo#195291
Related to https://github.com/odoo/enterprise/pull/78717",dylankiss,2025-02-06 13:31:52+00:00,[],2025-02-07 09:34:19+00:00,,https://github.com/odoo/odoo/pull/196805,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639841428, 'issue_id': 2835547578, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196805.png)](https://mergebot.odoo.com/odoo/odoo/pull/196805)', 'created_at': datetime.datetime(2025, 2, 6, 13, 31, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639844168, 'issue_id': 2835547578, 'author': 'dylankiss', 'body': '@robodoo up to saas-18.1', 'created_at': datetime.datetime(2025, 2, 6, 13, 33, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639844270, 'issue_id': 2835547578, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 2, 6, 13, 33, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:31:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196805.png)](https://mergebot.odoo.com/odoo/odoo/pull/196805)

dylankiss (Issue Creator) on (2025-02-06 13:33:02 UTC): @robodoo up to saas-18.1

robodoo on (2025-02-06 13:33:05 UTC): Forward-porting to 'saas-18.1'.

"
2835545363,pull_request,closed,,[FW][ADD] l10n_ch_hr_payroll_elm_account: Add accounting rules for Swissdec Payrol,"Related Enterprise PR : https://github.com/odoo/enterprise/pull/64454

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194627",fw-bot,2025-02-06 13:31:00+00:00,[],2025-02-06 20:08:44+00:00,2025-02-06 20:08:44+00:00,https://github.com/odoo/odoo/pull/196804,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639839349, 'issue_id': 2835545363, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196804.png)](https://mergebot.odoo.com/odoo/odoo/pull/196804)', 'created_at': datetime.datetime(2025, 2, 6, 13, 31, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639839395, 'issue_id': 2835545363, 'author': 'fw-bot', 'body': '@jugj-odoo @tivisse while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78714) did not succeed. You will need to fix it before this can be merged.\n\nBoth this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 31, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640607828, 'issue_id': 2835545363, 'author': 'jugj-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 18, 0, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:31:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196804.png)](https://mergebot.odoo.com/odoo/odoo/pull/196804)

fw-bot (Issue Creator) on (2025-02-06 13:31:04 UTC): @jugj-odoo @tivisse while this was properly forward-ported, at least one co-dependent PR (odoo/enterprise#78714) did not succeed. You will need to fix it before this can be merged.

Both this PR and the others will need to be approved via `@robodoo r+` as they are all considered “in conflict”.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

jugj-odoo on (2025-02-06 18:00:14 UTC): @robodoo r+

"
2835535459,pull_request,closed,,[FW][FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no

Forward-Port-Of: odoo/odoo#196765",fw-bot,2025-02-06 13:27:17+00:00,[],2025-02-07 06:05:01+00:00,2025-02-07 06:05:01+00:00,https://github.com/odoo/odoo/pull/196803,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639829993, 'issue_id': 2835535459, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196803.png)](https://mergebot.odoo.com/odoo/odoo/pull/196803)', 'created_at': datetime.datetime(2025, 2, 6, 13, 27, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639830018, 'issue_id': 2835535459, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 27, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639892861, 'issue_id': 2835535459, 'author': 'fw-bot', 'body': '@clbr-odoo @smetl ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 13, 53, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:27:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196803.png)](https://mergebot.odoo.com/odoo/odoo/pull/196803)

fw-bot (Issue Creator) on (2025-02-06 13:27:19 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 13:53:21 UTC): @clbr-odoo @smetl ci/runbot failed on this forward-port PR

"
2835534592,pull_request,closed,,[FW][IMP] delivery: update `hs_code` field help text and pot files,"Since HS Code field is now also used in USPS connector, the help text of `hs_code` field on `product_template` needs to be updated. Also the POT file containing module titles and descriptions is updated.

Task-3759325

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196518
Forward-Port-Of: odoo/odoo#187405",fw-bot,2025-02-06 13:26:55+00:00,[],2025-02-07 12:39:03+00:00,2025-02-07 12:39:03+00:00,https://github.com/odoo/odoo/pull/196802,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639829098, 'issue_id': 2835534592, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196802.png)](https://mergebot.odoo.com/odoo/odoo/pull/196802)', 'created_at': datetime.datetime(2025, 2, 6, 13, 26, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639829166, 'issue_id': 2835534592, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 26, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639968937, 'issue_id': 2835534592, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 14, 23, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640285542, 'issue_id': 2835534592, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 16, 14, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640327779, 'issue_id': 2835534592, 'author': 'fw-bot', 'body': '@mohammadhossam @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 6, 16, 25, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642440375, 'issue_id': 2835534592, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 45, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:26:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196802.png)](https://mergebot.odoo.com/odoo/odoo/pull/196802)

fw-bot (Issue Creator) on (2025-02-06 13:26:59 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 14:23:38 UTC): @mohammadhossam @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 16:14:06 UTC): @mohammadhossam @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 16:25:48 UTC): @mohammadhossam @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

mohammadhossam on (2025-02-07 09:45:12 UTC): robodoo r+

"
2835530076,pull_request,closed,,[IMP] account - imported line shouldn't change tax,"[IMP] account - imported line shouldn't change tax

Foward-port https://github.com/odoo/odoo/pull/193483 messed up and
removed important code of https://github.com/odoo/odoo/pull/172787.

This commit adds it back.

task-4547597

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rugo-odoo,2025-02-06 13:25:06+00:00,[],2025-02-07 18:12:23+00:00,2025-02-07 18:12:23+00:00,https://github.com/odoo/odoo/pull/196801,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639824312, 'issue_id': 2835530076, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196801.png)](https://mergebot.odoo.com/odoo/odoo/pull/196801)', 'created_at': datetime.datetime(2025, 2, 6, 13, 25, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:25:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196801.png)](https://mergebot.odoo.com/odoo/odoo/pull/196801)

"
2835509518,pull_request,open,,"[IMP] pos: presets config, better UX","Before:
===
- The ""Presets"" menu was visible even if no POS used presets.
- The default preset was missing identification presets.
- No shortcut to edit presets from settings.
- Duplicate presets could be selected in ""Default"" and ""Others"" fields.
- Defalut preset can not have identification.
- Some field names were unclear for users.

After:
===
- The ""Presets"" menu is hidden if no POS uses presets.
- The default preset includes all presets.
- A shortcut is added to edit presets from settings.
- ""Default"" and ""Others"" fields prevent duplicate presets.
- Removed restriction for identification.
- Field names are clearer for better usability.

Task: 4523232",djip-odoo,2025-02-06 13:16:41+00:00,[],2025-02-06 14:00:30+00:00,,https://github.com/odoo/odoo/pull/196800,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639803649, 'issue_id': 2835509518, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196800.png)](https://mergebot.odoo.com/odoo/odoo/pull/196800)', 'created_at': datetime.datetime(2025, 2, 6, 13, 16, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:16:45 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196800.png)](https://mergebot.odoo.com/odoo/odoo/pull/196800)

"
2835504573,pull_request,open,,[FIX] web: Ensure dropdown auto-closes in nested DOM environments,"When opening a dropdown inside an `IFrame` or `Shadow DOM`, clicking inside the nested DOM does not trigger auto-close. This happens because the event handler checks whether the clicked element is inside the main document, which is not the case for elements inside an IFrame or Shadow DOM.

This commit fixes the issue by ensuring that, in such scenarios, the correct document context (nested DOM) is used for the click detection instead of the clicked element itself.

Task-4525603

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rapr-odoo,2025-02-06 13:14:36+00:00,[],2025-02-07 10:29:22+00:00,,https://github.com/odoo/odoo/pull/196799,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639798715, 'issue_id': 2835504573, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196799.png)](https://mergebot.odoo.com/odoo/odoo/pull/196799)', 'created_at': datetime.datetime(2025, 2, 6, 13, 14, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:14:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196799.png)](https://mergebot.odoo.com/odoo/odoo/pull/196799)

"
2835487543,pull_request,closed,,[FW][FIX] point_of_sale: Cash opening not counted expected in column,"Current behavior:
The previous closing amount is used instead of the cash opening when printing the session report so the expected cash amount is wrong.

Steps to reproduce:

Open a PoS session with 100€ in the cash register and close it. Reopen the session and enter 50€ in the cash register. Make a sale for 10€, using cash payment.
Close the session and print the session report.
The expected cash amount will be 110€ when it should be 60€.

Fixes opw-4497263

Forward-Port-Of: odoo/odoo#196395",fw-bot,2025-02-06 13:07:31+00:00,[],2025-02-06 17:09:32+00:00,2025-02-06 17:09:32+00:00,https://github.com/odoo/odoo/pull/196798,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639781582, 'issue_id': 2835487543, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196798.png)](https://mergebot.odoo.com/odoo/odoo/pull/196798)', 'created_at': datetime.datetime(2025, 2, 6, 13, 7, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639781601, 'issue_id': 2835487543, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 13, 7, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:07:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196798.png)](https://mergebot.odoo.com/odoo/odoo/pull/196798)

fw-bot (Issue Creator) on (2025-02-06 13:07:33 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835475671,pull_request,open,,"[DRAFT][FIX] account, web: onboarding","Change few ui for mobile purpose :

1 - hide drag & drop button on mobile view and replace it by upload button 2 - Fix an issue with your_pointer, to let him pop on top of nav bar instead of behind 3 - Add a nev div on nav bar list item, to point items more precisely in tours.

task-4497104",igbe-odoo,2025-02-06 13:02:29+00:00,[],2025-02-07 16:28:54+00:00,,https://github.com/odoo/odoo/pull/196797,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639769864, 'issue_id': 2835475671, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196797.png)](https://mergebot.odoo.com/odoo/odoo/pull/196797)', 'created_at': datetime.datetime(2025, 2, 6, 13, 2, 31, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 13:02:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196797.png)](https://mergebot.odoo.com/odoo/odoo/pull/196797)

"
2835429843,pull_request,closed,,[FW][IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb

Forward-Port-Of: odoo/odoo#196645",fw-bot,2025-02-06 12:42:16+00:00,[],2025-02-06 18:07:31+00:00,2025-02-06 18:07:19+00:00,https://github.com/odoo/odoo/pull/196796,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639723610, 'issue_id': 2835429843, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196796.png)](https://mergebot.odoo.com/odoo/odoo/pull/196796)', 'created_at': datetime.datetime(2025, 2, 6, 12, 42, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639723632, 'issue_id': 2835429843, 'author': 'fw-bot', 'body': '@flvr-odoo @mwath this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196795\n* odoo/odoo#196794\n* odoo/odoo#196793\n* odoo/odoo#196792\n* odoo/odoo#196783\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 42, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639724202, 'issue_id': 2835429843, 'author': 'flvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 42, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:42:17 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196796.png)](https://mergebot.odoo.com/odoo/odoo/pull/196796)

fw-bot (Issue Creator) on (2025-02-06 12:42:18 UTC): @flvr-odoo @mwath this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196795
* odoo/odoo#196794
* odoo/odoo#196793
* odoo/odoo#196792
* odoo/odoo#196783

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

flvr-odoo on (2025-02-06 12:42:33 UTC): @robodoo r+

"
2835429105,pull_request,closed,,[FW][IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb

Forward-Port-Of: odoo/odoo#196645",fw-bot,2025-02-06 12:41:56+00:00,[],2025-02-06 15:43:44+00:00,2025-02-06 15:43:44+00:00,https://github.com/odoo/odoo/pull/196795,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639722879, 'issue_id': 2835429105, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196795.png)](https://mergebot.odoo.com/odoo/odoo/pull/196795)', 'created_at': datetime.datetime(2025, 2, 6, 12, 41, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639722897, 'issue_id': 2835429105, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 41, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:41:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196795.png)](https://mergebot.odoo.com/odoo/odoo/pull/196795)

fw-bot (Issue Creator) on (2025-02-06 12:41:58 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835428325,pull_request,closed,,[FW][IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb

Forward-Port-Of: odoo/odoo#196645",fw-bot,2025-02-06 12:41:35+00:00,[],2025-02-06 17:59:18+00:00,2025-02-06 17:59:18+00:00,https://github.com/odoo/odoo/pull/196794,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639722044, 'issue_id': 2835428325, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196794.png)](https://mergebot.odoo.com/odoo/odoo/pull/196794)', 'created_at': datetime.datetime(2025, 2, 6, 12, 41, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639722066, 'issue_id': 2835428325, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 41, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:41:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196794.png)](https://mergebot.odoo.com/odoo/odoo/pull/196794)

fw-bot (Issue Creator) on (2025-02-06 12:41:37 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835427618,pull_request,closed,,[FW][IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb

Forward-Port-Of: odoo/odoo#196645",fw-bot,2025-02-06 12:41:15+00:00,[],2025-02-06 16:52:01+00:00,2025-02-06 16:52:01+00:00,https://github.com/odoo/odoo/pull/196793,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639721213, 'issue_id': 2835427618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196793.png)](https://mergebot.odoo.com/odoo/odoo/pull/196793)', 'created_at': datetime.datetime(2025, 2, 6, 12, 41, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639721229, 'issue_id': 2835427618, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 41, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:41:16 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196793.png)](https://mergebot.odoo.com/odoo/odoo/pull/196793)

fw-bot (Issue Creator) on (2025-02-06 12:41:17 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835426906,pull_request,closed,,[FW][IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb

Forward-Port-Of: odoo/odoo#196645",fw-bot,2025-02-06 12:40:55+00:00,[],2025-02-06 16:31:18+00:00,2025-02-06 16:31:18+00:00,https://github.com/odoo/odoo/pull/196792,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639720512, 'issue_id': 2835426906, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196792.png)](https://mergebot.odoo.com/odoo/odoo/pull/196792)', 'created_at': datetime.datetime(2025, 2, 6, 12, 40, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639720539, 'issue_id': 2835426906, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 40, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:40:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196792.png)](https://mergebot.odoo.com/odoo/odoo/pull/196792)

fw-bot (Issue Creator) on (2025-02-06 12:40:57 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835422491,pull_request,closed,,[FW][FIX] web: add +1 for 👍,"task-4552346

Forward-Port-Of: odoo/odoo#196747",fw-bot,2025-02-06 12:38:54+00:00,[],2025-02-06 18:07:28+00:00,2025-02-06 18:07:28+00:00,https://github.com/odoo/odoo/pull/196791,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639716006, 'issue_id': 2835422491, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196791.png)](https://mergebot.odoo.com/odoo/odoo/pull/196791)', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639716022, 'issue_id': 2835422491, 'author': 'fw-bot', 'body': '@phenix-factory @zel-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639832401, 'issue_id': 2835422491, 'author': 'fw-bot', 'body': '@phenix-factory @zel-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 13, 28, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639842540, 'issue_id': 2835422491, 'author': 'phenix-factory', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 32, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639842676, 'issue_id': 2835422491, 'author': 'robodoo', 'body': '@phenix-factory you may want to rebuild or fix this PR as it has failed CI.', 'created_at': datetime.datetime(2025, 2, 6, 13, 32, 25, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:38:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196791.png)](https://mergebot.odoo.com/odoo/odoo/pull/196791)

fw-bot (Issue Creator) on (2025-02-06 12:38:55 UTC): @phenix-factory @zel-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 13:28:18 UTC): @phenix-factory @zel-odoo ci/runbot failed on this forward-port PR

phenix-factory on (2025-02-06 13:32:22 UTC): @robodoo r+

robodoo on (2025-02-06 13:32:25 UTC): @phenix-factory you may want to rebuild or fix this PR as it has failed CI.

"
2835421832,pull_request,closed,,[FW][FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994

Forward-Port-Of: odoo/odoo#196688
Forward-Port-Of: odoo/odoo#196333",fw-bot,2025-02-06 12:38:34+00:00,[],2025-02-06 18:07:23+00:00,2025-02-06 18:07:23+00:00,https://github.com/odoo/odoo/pull/196790,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639715506, 'issue_id': 2835421832, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196790.png)](https://mergebot.odoo.com/odoo/odoo/pull/196790)', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639715520, 'issue_id': 2835421832, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639917972, 'issue_id': 2835421832, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 14, 3, 17, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:38:40 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196790.png)](https://mergebot.odoo.com/odoo/odoo/pull/196790)

fw-bot (Issue Creator) on (2025-02-06 12:38:41 UTC): @DjamelTouati @Whenrow this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-06 14:03:17 UTC): robodoo r+

"
2835421094,pull_request,closed,,[FW][FIX] account_check_printing: allow printing with non-reconcilable account,"**Steps to reproduce:**
- Install Accounting
- Go to ""Accounting / Configuration / Accounting / Journals""
- Open ""Bank"" Journal
- Go to ""Outgoing Payments"" tab
- Set a check layout
- For ""Checks"" line, set ""101401 Bank"" (i.e. an account that doesn't allow reconciliation) as outstanding payments account
- Create a vendor bill and confirm it
- Pay the bill with ""Checks"" as payment method
=> The bill is directly marked as ""PAID"" and not ""IN PAYMENT"" because the ""Bank"" account doesn't allow reconciliation
- Go the the check payment

**Issue:**
It is not possible to print it.
The same configuration allows to print the check in previous versions.

**Cause:**
As the check payment is using an account that doesn't allow reconciliation, the payment is set in ""Paid"" state directly, but the printing is disabled for checks in that state.

**Solution:**
As it should be harmless to allow to print the check even if it is already paid, we will allow to print it to keep a consistent behavior with previous versions.
Only printing the check will be allowed.
Voiding or rejecting will still be impossible.

opw-4498446




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196730
Forward-Port-Of: odoo/odoo#195722",fw-bot,2025-02-06 12:38:14+00:00,[],2025-02-06 16:55:03+00:00,2025-02-06 16:55:03+00:00,https://github.com/odoo/odoo/pull/196789,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639715461, 'issue_id': 2835421094, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196789.png)](https://mergebot.odoo.com/odoo/odoo/pull/196789)', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639715482, 'issue_id': 2835421094, 'author': 'fw-bot', 'body': '@kitan191 @epictete this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639724120, 'issue_id': 2835421094, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 42, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:38:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196789.png)](https://mergebot.odoo.com/odoo/odoo/pull/196789)

fw-bot (Issue Creator) on (2025-02-06 12:38:40 UTC): @kitan191 @epictete this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-02-06 12:42:30 UTC): @robodoo r+

"
2835410488,pull_request,open,,[IMP] models: Improve create() typing to allow single dict,"As soon as the `model_create_multi` decorator exists, `create()` function arguments can be either a list of dict values or a single dict.

Moreover, make IDE's happy when creating with single dictionary values.

@rco-odoo 



---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",rousseldenis,2025-02-06 12:33:20+00:00,[],2025-02-07 09:08:12+00:00,,https://github.com/odoo/odoo/pull/196788,"[('ORM', 'ORM, python Framework related')]","[{'comment_id': 2639704032, 'issue_id': 2835410488, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196788.png)](https://mergebot.odoo.com/odoo/odoo/pull/196788)', 'created_at': datetime.datetime(2025, 2, 6, 12, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640481023, 'issue_id': 2835410488, 'author': 'rvalyi', 'body': 'approved', 'created_at': datetime.datetime(2025, 2, 6, 17, 2, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:33:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196788.png)](https://mergebot.odoo.com/odoo/odoo/pull/196788)

rvalyi on (2025-02-06 17:02:44 UTC): approved

"
2835397633,pull_request,open,,"[FIX] point_of_sale, pos_sms: change phone_mobile_search in partner list to phone","Steps to reproduce the bug:
 - Install POS, then uninstall the sms gateway
 - Open a shop and then click on customers button
 - write anything in the input field then click on `Search More`

Problem:
Error is raised in the request because the `partner_list.js` screen is passing the field `phone_mobile_search` in the search_fields. The `phone_mobile_search` field is only introduced to the res.partner model in the a PhoneMixin and the inheritence is only applied in the `sms gateway module` so the field will only be available if the `sms gateway is installed`.

Possible Approaches:
- [18.0 fix] added a function in the partner_list.js that tells if the PhoneMixin is applied and it returns false in the pos, and overriden the same function in the pos_sms bridge module that implies that both pos and sms are installed and it returns true there meaning the mixin is applied.
- [16.0, 17.0 fix] changed the search filter to use phone, mobile attributes. this will lose the phone_mixin searching features. we don't have a pos_sms bridge module in these versions so the workaround in 18.0 can't be applied
- [Non Stable, master fix] add the inheritence of the mixin in the pos module, but that will require module upgrade
- [Non Stable] add a whole direct dependency between the pos and the sms gateway

opw-4455381

Description of the issue/feature this PR addresses:

Current behavior before PR: Search More button in the partner list in POS is not working if the sms module is uninstalled

Desired behavior after PR is merged: `Search More` button in partner list in POS is working whatever sms is installed or not




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",hyhevic,2025-02-06 12:27:26+00:00,[],2025-02-07 17:10:45+00:00,,https://github.com/odoo/odoo/pull/196787,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639691255, 'issue_id': 2835397633, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196787.png)](https://mergebot.odoo.com/odoo/odoo/pull/196787)', 'created_at': datetime.datetime(2025, 2, 6, 12, 27, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:27:30 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196787.png)](https://mergebot.odoo.com/odoo/odoo/pull/196787)

"
2835395569,pull_request,closed,,[FIX] purchase_stock: respect manual valuation,"**Current behavior:**
Invoicing some product at a price unit different from that at reception (with the product having manual valuation and non-standard costing) will create pdiff account move lines on the invoice.

**Expected behavior:**
With manual valuation, there should not be pdiff AMLs.

**Steps to reproduce:**
1. Create a product with average costing and manual valuation

2. Receive 10 units @ $100 to establish some std price

3. Consume the 10 product qty (scrap, sale, ...)

4. Create the invoice on the purchase order

5. Change the price unit on the bill to $120 per product -> post

6. In the journal items tab on the invoice, see the pdiff AMLs

**Cause of the issue:**
No consideration for valuation when creating the AMLs for pdiff.

**Fix:**
Check that valuation is not manual prior to creating the AMLs.

opw-4492217",ethanrobv,2025-02-06 12:26:33+00:00,[],2025-02-07 16:00:58+00:00,2025-02-07 16:00:58+00:00,https://github.com/odoo/odoo/pull/196786,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639689123, 'issue_id': 2835395569, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196786.png)](https://mergebot.odoo.com/odoo/odoo/pull/196786)', 'created_at': datetime.datetime(2025, 2, 6, 12, 26, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642874094, 'issue_id': 2835395569, 'author': 'adwid', 'body': ""Let's avoid noisy/useless AMLs\r\nThx\r\nrobodoo r+"", 'created_at': datetime.datetime(2025, 2, 7, 13, 13, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:26:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196786.png)](https://mergebot.odoo.com/odoo/odoo/pull/196786)

adwid on (2025-02-07 13:13:41 UTC): Let's avoid noisy/useless AMLs
Thx
robodoo r+

"
2835388569,pull_request,open,,[IMP] *: refactor many2one field widget,,mcm-odoo,2025-02-06 12:23:19+00:00,[],2025-02-07 16:22:34+00:00,,https://github.com/odoo/odoo/pull/196785,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639681968, 'issue_id': 2835388569, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196785.png)](https://mergebot.odoo.com/odoo/odoo/pull/196785)', 'created_at': datetime.datetime(2025, 2, 6, 12, 23, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:23:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196785.png)](https://mergebot.odoo.com/odoo/odoo/pull/196785)

"
2835383044,pull_request,closed,,[FIX] mail: restore Mail Failure icon JPG,"A recent commit [1] removed the Mail Failure .JPG in favor of an .SVG for transparency.

This commit restores the .JPG file alongside the .SVG to prevent potential issues.

[1]: odoo/odoo@08f1a78f154d3bf80123b91a1deb0980b95c1ca3

task-4531425

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",xlu-odoo,2025-02-06 12:20:50+00:00,[],2025-02-06 19:38:01+00:00,2025-02-06 19:38:01+00:00,https://github.com/odoo/odoo/pull/196784,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639676640, 'issue_id': 2835383044, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196784.png)](https://mergebot.odoo.com/odoo/odoo/pull/196784)', 'created_at': datetime.datetime(2025, 2, 6, 12, 20, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640488960, 'issue_id': 2835383044, 'author': 'robodoo', 'body': '@xlu-odoo @seb-odoo staging failed: ci/runbot on 8ac3c505cf91408579a9e37ba405592176ccbac9 (view more at https://runbot.odoo.com/runbot/build/74607353)', 'created_at': datetime.datetime(2025, 2, 6, 17, 6, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640492001, 'issue_id': 2835383044, 'author': 'seb-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 6, 17, 7, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:20:54 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196784.png)](https://mergebot.odoo.com/odoo/odoo/pull/196784)

robodoo on (2025-02-06 17:06:04 UTC): @xlu-odoo @seb-odoo staging failed: ci/runbot on 8ac3c505cf91408579a9e37ba405592176ccbac9 (view more at https://runbot.odoo.com/runbot/build/74607353)

seb-odoo on (2025-02-06 17:07:20 UTC): @robodoo retry

"
2835382496,pull_request,closed,,[FW][IMP] base: add python 3.13 support for safe_eval,"This commit adds python 3.13 opcodes that would be necessary to use safe_eval and qweb

Forward-Port-Of: odoo/odoo#196645",fw-bot,2025-02-06 12:20:35+00:00,[],2025-02-06 19:37:29+00:00,2025-02-06 19:37:29+00:00,https://github.com/odoo/odoo/pull/196783,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639675951, 'issue_id': 2835382496, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196783.png)](https://mergebot.odoo.com/odoo/odoo/pull/196783)', 'created_at': datetime.datetime(2025, 2, 6, 12, 20, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639675976, 'issue_id': 2835382496, 'author': 'fw-bot', 'body': 'This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 20, 37, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:20:37 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196783.png)](https://mergebot.odoo.com/odoo/odoo/pull/196783)

fw-bot (Issue Creator) on (2025-02-06 12:20:37 UTC): This PR targets 17.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835377497,pull_request,closed,,[FW][FIX] l10n_es_edi_tbai fix total_amount calculation in TBAI xml.,"Steps to reproduce:
-------------------
- In a Spanish company, make sure l10n_es_edi_tbai is installed.
- Create an invoice with one product and add 2 taxes for that line (for example, the 21% goods and the 5.2 ES tax).
- Confirm and send the invoice with TBAI.
- In the TBAI xml you will find the total amount wrong as the base amount was calculated twice, one time for each tax.

Cause:
-----
Since (#180062), the tax details calculation process was reworked.
the total amount is calculated inside a loop with this formula
```
for values in values_per_grouping_key.values():
	total_amount += values['base_amount'] + values['tax_amount']
```
In case one invoice line has 2 taxes of different tax groups, this code will add the base_amount twice in the total_amount calculation.

Fix
---
Move the base amount addition in a separate loop with a new aggregation (with no grouping) to add the base amount to the total.

opw-4501051

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195561",fw-bot,2025-02-06 12:18:19+00:00,[],2025-02-06 15:43:33+00:00,2025-02-06 15:43:33+00:00,https://github.com/odoo/odoo/pull/196782,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639670716, 'issue_id': 2835377497, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196782.png)](https://mergebot.odoo.com/odoo/odoo/pull/196782)', 'created_at': datetime.datetime(2025, 2, 6, 12, 18, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639670751, 'issue_id': 2835377497, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 18, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:18:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196782.png)](https://mergebot.odoo.com/odoo/odoo/pull/196782)

fw-bot (Issue Creator) on (2025-02-06 12:18:21 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835377002,pull_request,open,,[FIX] web_editor: prevent deleting content before buttons,"**Problem**:
When focusing on an empty button (`<a>` tag with `btn` class) and pressing backspace, any visible content before it gets deleted. This happens because buttons are not considered as visible content when handling deletions.

**Solution**:
Modify `oDeleteBackward` to detect elements with the `btn` class. When deleting such an element, update the selection to avoid deleting preceding content.

**Steps to Reproduce**:
1. Open the website builder.
2. Add some content with a button.
3. Insert a form just before the button.
4. Press backspace while focusing on the button.
5. The form gets deleted along with the button.

opw-4280705

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",walidsahli,2025-02-06 12:18:06+00:00,[],2025-02-06 13:00:29+00:00,,https://github.com/odoo/odoo/pull/196781,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639670341, 'issue_id': 2835377002, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196781.png)](https://mergebot.odoo.com/odoo/odoo/pull/196781)', 'created_at': datetime.datetime(2025, 2, 6, 12, 18, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:18:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196781.png)](https://mergebot.odoo.com/odoo/odoo/pull/196781)

"
2835376267,pull_request,closed,,[FW][FIX] pos_restaurant: fix error runbot 111972,"Error runbot: 111972

Forward-Port-Of: odoo/odoo#196617",fw-bot,2025-02-06 12:17:47+00:00,[],2025-02-07 14:01:53+00:00,2025-02-07 14:01:53+00:00,https://github.com/odoo/odoo/pull/196780,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639670154, 'issue_id': 2835376267, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196780.png)](https://mergebot.odoo.com/odoo/odoo/pull/196780)', 'created_at': datetime.datetime(2025, 2, 6, 12, 18, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639670175, 'issue_id': 2835376267, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 18, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639757291, 'issue_id': 2835376267, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 12, 57, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642449159, 'issue_id': 2835376267, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 9, 49, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642710003, 'issue_id': 2835376267, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 11, 47, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:18:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196780.png)](https://mergebot.odoo.com/odoo/odoo/pull/196780)

fw-bot (Issue Creator) on (2025-02-06 12:18:05 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 12:57:12 UTC): @davidmonnom @adgu-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-07 09:49:17 UTC): @davidmonnom @adgu-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

davidmonnom on (2025-02-07 11:47:05 UTC): @robodoo r+

"
2835363976,pull_request,open,,[FIX] sale: Fix wrapping issue,"step to reporduce:
1. createdb with sale and inventory in 18.0 and activate product packaging
2. Create product or demo product can be used add the product packaging in inventory tab.
3. if packaging name is have more text then it description data will auto wrap in small portion which don't look good.

before fix:
![image](https://github.com/user-attachments/assets/df55f4c3-c293-463b-a68f-c701ce880b62)

after fix:
![image](https://github.com/user-attachments/assets/6606dcc7-f9e4-4f24-874c-d0255c2dffdc)


upg-2452360
opw-4527424

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sagu-odoo,2025-02-06 12:13:04+00:00,[],2025-02-06 14:39:08+00:00,,https://github.com/odoo/odoo/pull/196779,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639657459, 'issue_id': 2835363976, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196779.png)](https://mergebot.odoo.com/odoo/odoo/pull/196779)', 'created_at': datetime.datetime(2025, 2, 6, 12, 13, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640011300, 'issue_id': 2835363976, 'author': 'sagu-odoo', 'body': 'Hello @Feyensv i made the suggested changes could you please have a look ? 👀', 'created_at': datetime.datetime(2025, 2, 6, 14, 38, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:13:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196779.png)](https://mergebot.odoo.com/odoo/odoo/pull/196779)

sagu-odoo (Issue Creator) on (2025-02-06 14:38:51 UTC): Hello @Feyensv i made the suggested changes could you please have a look ? 👀

"
2835357101,pull_request,open,,"[FIX] mail, portal: toggle star in the portal","Before this PR, toggling the star on a message (`Mark as Todo`) didn't work for internal users, even though the feature is available to them in the portal environment. This happens because:
- The `starred` value is not sent with the message data when fetching the messages in the portal.
- Sending over the bus is not available in the portal. 

This PR fixes the issue by returning the proper data either when fetching the messages or when toggling the star.

task-4526370

",maki-odoo,2025-02-06 12:10:02+00:00,[],2025-02-07 17:16:50+00:00,,https://github.com/odoo/odoo/pull/196778,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639650738, 'issue_id': 2835357101, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196778.png)](https://mergebot.odoo.com/odoo/odoo/pull/196778)', 'created_at': datetime.datetime(2025, 2, 6, 12, 10, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639654304, 'issue_id': 2835357101, 'author': 'maki-odoo', 'body': 'Note: additional query due to search `mail_message_res_partner_starred_rel`', 'created_at': datetime.datetime(2025, 2, 6, 12, 11, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:10:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196778.png)](https://mergebot.odoo.com/odoo/odoo/pull/196778)

maki-odoo (Issue Creator) on (2025-02-06 12:11:42 UTC): Note: additional query due to search `mail_message_res_partner_starred_rel`

"
2835350547,pull_request,closed,,[FIX] account: on posted invoice it's change sequence number if journal_id key in write vals,"if they use import export or any automated action that write same journal then it's take new number. here assume that journal_id is only change on draft and if posted then it's raise error but not consider what is same journal_id come to write.

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jva-odoo,2025-02-06 12:07:07+00:00,[],2025-02-07 17:03:53+00:00,2025-02-07 17:03:53+00:00,https://github.com/odoo/odoo/pull/196777,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639644084, 'issue_id': 2835350547, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196777.png)](https://mergebot.odoo.com/odoo/odoo/pull/196777)', 'created_at': datetime.datetime(2025, 2, 6, 12, 7, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:07:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196777.png)](https://mergebot.odoo.com/odoo/odoo/pull/196777)

"
2835343026,pull_request,closed,,[FW][FIX] base_setup: remove sms checkbox from settings,"This commit removes the module_sms field from the settings view. When it was present unchecking it could potentially remove all the apps installed on a DB. Depending on what was installed. The main issue was that user misinterpreted the use of this checkbox leading to situation where the DB needed to be restarted from a backup.

To fix this issue it was decided for now to remove the checkbox from the settings view. This will prevent these situations to happen again in the future.

task-4526115

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196449",fw-bot,2025-02-06 12:03:51+00:00,[],2025-02-06 16:54:40+00:00,2025-02-06 16:54:40+00:00,https://github.com/odoo/odoo/pull/196776,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639636971, 'issue_id': 2835343026, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196776.png)](https://mergebot.odoo.com/odoo/odoo/pull/196776)', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639636998, 'issue_id': 2835343026, 'author': 'fw-bot', 'body': '@thjo-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196758\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639819376, 'issue_id': 2835343026, 'author': 'tde-banana-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 13, 23, 13, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:03:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196776.png)](https://mergebot.odoo.com/odoo/odoo/pull/196776)

fw-bot (Issue Creator) on (2025-02-06 12:03:53 UTC): @thjo-odoo @tde-banana-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196758

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-02-06 13:23:13 UTC): @robodoo r+

"
2835341972,pull_request,closed,,[FW][FIX] l10n_eg_edi_eta: correct net/total with multiple taxes,"Currently, when multiple taxes type are applied to the same invoice line, the netAmount and totalAmount fields in the ETA file are incorrectly calculated.

Steps to reproduce:
1.	Install the module l10n_eg_edi_eta.
2.	Create a new invoice with multiple tax types applied to the same product.
3.	Generate the ETA JSON file.

Issue:
The resulting file contains incorrect values for netAmount and totalAmount because these amounts were calculated by summing the base_amount from values_per_grouping_key. However, since grouping is done by tax type, the base_amount is duplicated (once per tax type), leading to incorrect totals.

This fix ensure that base_amount is not counted multiple times.

See official documentation for more details:
https://sdk.invoicing.eta.gov.eg/document-validation-rules/#validation-on-level-of-invoice

opw-4457780

Forward-Port-Of: odoo/odoo#195589",fw-bot,2025-02-06 12:03:26+00:00,[],2025-02-06 16:54:35+00:00,2025-02-06 16:54:35+00:00,https://github.com/odoo/odoo/pull/196775,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639636053, 'issue_id': 2835341972, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196775.png)](https://mergebot.odoo.com/odoo/odoo/pull/196775)', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639636082, 'issue_id': 2835341972, 'author': 'fw-bot', 'body': '@LouisGobert @hupo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196759\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639656142, 'issue_id': 2835341972, 'author': 'LouisGobert', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 12, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:03:27 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196775.png)](https://mergebot.odoo.com/odoo/odoo/pull/196775)

fw-bot (Issue Creator) on (2025-02-06 12:03:28 UTC): @LouisGobert @hupo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196759

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

LouisGobert on (2025-02-06 12:12:35 UTC): @robodoo r+

"
2835340897,pull_request,closed,,[FIX] tests: allow test-file with dashes,"Before this commit a file containing dashes wouldn't work with test-tags
",Xavier-Do,2025-02-06 12:02:57+00:00,[],2025-02-06 16:54:23+00:00,2025-02-06 16:54:23+00:00,https://github.com/odoo/odoo/pull/196774,"[('RD', 'research & development, internal work'), ('18.2', None)]","[{'comment_id': 2639634989, 'issue_id': 2835340897, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196774.png)](https://mergebot.odoo.com/odoo/odoo/pull/196774)', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639637153, 'issue_id': 2835340897, 'author': 'Xavier-Do', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:03:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196774.png)](https://mergebot.odoo.com/odoo/odoo/pull/196774)

Xavier-Do (Issue Creator) on (2025-02-06 12:03:57 UTC): @robodoo r+

"
2835339434,pull_request,closed,,[FW][FIX] html_editior: prevent key error when content-type is missing,"This error occurs when ``content-type`` is not found in the response when attaching any file with the type ``URL``.

Traceback:
---
```
KeyError: 'content-type'
  File ""odoo/http.py"", line 2366, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1894, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1957, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1924, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2171, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 727, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/html_editor/controllers/main.py"", line 355, in add_url
    attachment = self._attachment_create(url=url, res_id=res_id, res_model=res_model)
  File ""addons/html_editor/controllers/main.py"", line 256, in _attachment_create
    mime_type = response.headers['content-type']
  File ""requests/structures.py"", line 52, in __getitem__
    return self._store[key.lower()][1]
```

https://github.com/odoo/odoo/blob/2fe55ae592e5812c5ee5e39ed1e8332bde608cb2/addons/html_editor/controllers/main.py#L257

sentry-6015024235

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192073",fw-bot,2025-02-06 12:02:18+00:00,[],2025-02-06 16:54:57+00:00,2025-02-06 16:54:56+00:00,https://github.com/odoo/odoo/pull/196773,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639633504, 'issue_id': 2835339434, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196773.png)](https://mergebot.odoo.com/odoo/odoo/pull/196773)', 'created_at': datetime.datetime(2025, 2, 6, 12, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639633513, 'issue_id': 2835339434, 'author': 'fw-bot', 'body': '@aamo-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196760\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 2, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639635567, 'issue_id': 2835339434, 'author': 'aamo-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 3, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:02:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196773.png)](https://mergebot.odoo.com/odoo/odoo/pull/196773)

fw-bot (Issue Creator) on (2025-02-06 12:02:20 UTC): @aamo-odoo @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196760

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

aamo-odoo on (2025-02-06 12:03:15 UTC): @robodoo r+

"
2835336568,pull_request,closed,,[FW][FIX] account: validate entire structured reference,"In SEPA payment files, when a structured reference is used, it is put in the section `RmtInf/Strd/CdtrRefInf/Ref`. This section has a maximum length of 35 characters. Since we only use structured references that are always less that 35 characters, this should not be a problem.

However, the way we validated the structured reference was by performing a `re.match()`, which only matches from the beginning of the string. So if more characters would be after the structured reference, it would still match and it would be possible to go beyond 35 characters.

In this commit, we fix this by using a full match instead of a match from the beginning.

[opw-4357554](https://www.odoo.com/odoo/project.task/4357554)

Forward-Port-Of: odoo/odoo#194583",fw-bot,2025-02-06 12:00:59+00:00,[],2025-02-06 21:59:45+00:00,2025-02-06 21:59:44+00:00,https://github.com/odoo/odoo/pull/196772,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639630508, 'issue_id': 2835336568, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196772.png)](https://mergebot.odoo.com/odoo/odoo/pull/196772)', 'created_at': datetime.datetime(2025, 2, 6, 12, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639630535, 'issue_id': 2835336568, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 12, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639728954, 'issue_id': 2835336568, 'author': 'fw-bot', 'body': '@dylankiss @hupo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 12, 44, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 12:01:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196772.png)](https://mergebot.odoo.com/odoo/odoo/pull/196772)

fw-bot (Issue Creator) on (2025-02-06 12:01:01 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 12:44:33 UTC): @dylankiss @hupo-odoo ci/runbot failed on this forward-port PR

"
2835322435,pull_request,closed,,[FW][FIX] point_of_sale: Cash opening not counted expected in column,"Current behavior:
The previous closing amount is used instead of the cash opening when printing the session report so the expected cash amount is wrong.

Steps to reproduce:

Open a PoS session with 100€ in the cash register and close it. Reopen the session and enter 50€ in the cash register. Make a sale for 10€, using cash payment.
Close the session and print the session report.
The expected cash amount will be 110€ when it should be 60€.

Fixes opw-4497263

Forward-Port-Of: odoo/odoo#196395",fw-bot,2025-02-06 11:54:33+00:00,[],2025-02-06 19:17:23+00:00,2025-02-06 19:17:23+00:00,https://github.com/odoo/odoo/pull/196771,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639617098, 'issue_id': 2835322435, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196771.png)](https://mergebot.odoo.com/odoo/odoo/pull/196771)', 'created_at': datetime.datetime(2025, 2, 6, 11, 54, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639617122, 'issue_id': 2835322435, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 54, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639631151, 'issue_id': 2835322435, 'author': 'PierreCourt', 'body': 'robodoo help', 'created_at': datetime.datetime(2025, 2, 6, 12, 1, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639631272, 'issue_id': 2835322435, 'author': 'robodoo', 'body': ""Currently available commands for @PierreCourt:\n\n|command||\n|-|-|\n|`help`|displays this help|\n|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|\n|`r(eview)=<number>`|only approves the specified parents|\n|`close`|closes this forward-port|\n|`merge`|integrate the PR with a simple merge commit, using the PR description as message|\n|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|\n|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|\n|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|\n\nNote: this help text is dynamic and will change with the state of the PR."", 'created_at': datetime.datetime(2025, 2, 6, 12, 1, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:54:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196771.png)](https://mergebot.odoo.com/odoo/odoo/pull/196771)

fw-bot (Issue Creator) on (2025-02-06 11:54:35 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

PierreCourt on (2025-02-06 12:01:16 UTC): robodoo help

robodoo on (2025-02-06 12:01:19 UTC): Currently available commands for @PierreCourt:

|command||
|-|-|
|`help`|displays this help|
|`r(eview)+`|approves the PR, if it's a forwardport also approves all non-detached parents|
|`r(eview)=<number>`|only approves the specified parents|
|`close`|closes this forward-port|
|`merge`|integrate the PR with a simple merge commit, using the PR description as message|
|`rebase-merge`|rebases the PR on top of the target branch the integrates with a merge commit, using the PR description as message|
|`rebase-ff`|rebases the PR on top of the target branch, then fast-forwards|
|`squash`|squashes the PR as a single commit on the target branch, using the PR description as message|

Note: this help text is dynamic and will change with the state of the PR.

"
2835321694,pull_request,closed,,[FW][IMP] delivery: update `hs_code` field help text and pot files,"Since HS Code field is now also used in USPS connector, the help text of `hs_code` field on `product_template` needs to be updated. Also the POT file containing module titles and descriptions is updated.

Task-3759325

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196518
Forward-Port-Of: odoo/odoo#187405",fw-bot,2025-02-06 11:54:13+00:00,[],2025-02-06 19:17:24+00:00,2025-02-06 19:17:24+00:00,https://github.com/odoo/odoo/pull/196770,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639616405, 'issue_id': 2835321694, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196770.png)](https://mergebot.odoo.com/odoo/odoo/pull/196770)', 'created_at': datetime.datetime(2025, 2, 6, 11, 54, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639616448, 'issue_id': 2835321694, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 54, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640118108, 'issue_id': 2835321694, 'author': 'mohammadhossam', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 18, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640327858, 'issue_id': 2835321694, 'author': 'fw-bot', 'body': ""@mohammadhossam @Whenrow child PR odoo/odoo#196802 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross."", 'created_at': datetime.datetime(2025, 2, 6, 16, 25, 50, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:54:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196770.png)](https://mergebot.odoo.com/odoo/odoo/pull/196770)

fw-bot (Issue Creator) on (2025-02-06 11:54:17 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

mohammadhossam on (2025-02-06 15:18:29 UTC): robodoo r+

fw-bot (Issue Creator) on (2025-02-06 16:25:50 UTC): @mohammadhossam @Whenrow child PR odoo/odoo#196802 was modified / updated and has become a normal PR. This PR (and any of its parents) will need to be merged independently as approvals won't cross.

"
2835318802,pull_request,open,,[FIX] sale_project: prevent access error when duplicating a project,"**issue:**

If a user lacks Sales module rights, they are not allowed to duplicate a project.

**steps to reproduce:**

- Settings / Users & Companies / Users
- Remove sales rights from the user while retaining rights in projects
- In the project module, try duplicating a project

An access error is raised because the ```reinvoiced_sale_order_id``` field is attempted to be read during the copy operation

opw-4466519",st-yes,2025-02-06 11:52:53+00:00,[],2025-02-07 16:00:06+00:00,,https://github.com/odoo/odoo/pull/196769,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639613634, 'issue_id': 2835318802, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196769.png)](https://mergebot.odoo.com/odoo/odoo/pull/196769)', 'created_at': datetime.datetime(2025, 2, 6, 11, 52, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:52:56 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196769.png)](https://mergebot.odoo.com/odoo/odoo/pull/196769)

"
2835316854,pull_request,closed,,[FW][FIX] mrp: fix test_workcenter_with_resource_calendar_from_another_compa,"Running the “test_workcenter_with_resource_calendar_from_another_company”
without demo data occurs an error because the resource calendar.

Forward-Port-Of: odoo/odoo#196656",fw-bot,2025-02-06 11:51:57+00:00,[],2025-02-07 17:26:30+00:00,2025-02-07 17:26:30+00:00,https://github.com/odoo/odoo/pull/196768,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639611664, 'issue_id': 2835316854, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196768.png)](https://mergebot.odoo.com/odoo/odoo/pull/196768)', 'created_at': datetime.datetime(2025, 2, 6, 11, 51, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639611730, 'issue_id': 2835316854, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#196656 failed.\n\nstdout:\n```\nAuto-merging addons/mrp/tests/test_order.py\nCONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643193462, 'issue_id': 2835316854, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 15, 4, 44, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:51:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196768.png)](https://mergebot.odoo.com/odoo/odoo/pull/196768)

fw-bot (Issue Creator) on (2025-02-06 11:52:00 UTC): @DjamelTouati @Whenrow cherrypicking of pull request odoo/odoo#196656 failed.

stdout:
```
Auto-merging addons/mrp/tests/test_order.py
CONFLICT (content): Merge conflict in addons/mrp/tests/test_order.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-07 15:04:44 UTC): robodoo r+

"
2835231029,pull_request,closed,,[FW][FIX] point_of_sale: initialize the synchronization class at startup,"Initialize the synchronization class at startup of the PoS before making any request to the server. This will ensure that the synchronization class is ready to handle the requests.

Forward-Port-Of: odoo/odoo#196643
Forward-Port-Of: odoo/odoo#196450",fw-bot,2025-02-06 11:12:02+00:00,[],2025-02-07 09:34:05+00:00,2025-02-07 09:34:05+00:00,https://github.com/odoo/odoo/pull/196767,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639525914, 'issue_id': 2835231029, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196767.png)](https://mergebot.odoo.com/odoo/odoo/pull/196767)', 'created_at': datetime.datetime(2025, 2, 6, 11, 12, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639525962, 'issue_id': 2835231029, 'author': 'fw-bot', 'body': '@davidmonnom cherrypicking of pull request odoo/odoo#196450 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/pos_store.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 12, 6, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:12:05 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196767.png)](https://mergebot.odoo.com/odoo/odoo/pull/196767)

fw-bot (Issue Creator) on (2025-02-06 11:12:06 UTC): @davidmonnom cherrypicking of pull request odoo/odoo#196450 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/pos_store.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/pos_store.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835230048,pull_request,closed,,[FW][IMP] point_of_sale: partner exact match search,"Before this commit, we was using fuzzy search which was creating a score for each partner and then sorting the partners based on that score. This was causing error in search result.

Now we use exact match search which will search for the exact match of the search string in the partner name, phone, mobile, email, street, city, state, country, zip, vat, and barcode.

taskId: 4517586

Forward-Port-Of: odoo/odoo#196533
Forward-Port-Of: odoo/odoo#195971",fw-bot,2025-02-06 11:11:33+00:00,[],2025-02-07 12:20:00+00:00,2025-02-07 12:19:59+00:00,https://github.com/odoo/odoo/pull/196766,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639524979, 'issue_id': 2835230048, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196766.png)](https://mergebot.odoo.com/odoo/odoo/pull/196766)', 'created_at': datetime.datetime(2025, 2, 6, 11, 11, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639525013, 'issue_id': 2835230048, 'author': 'fw-bot', 'body': '@davidmonnom @vlst-odoo this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 11, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642311490, 'issue_id': 2835230048, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 9, 0, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:11:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196766.png)](https://mergebot.odoo.com/odoo/odoo/pull/196766)

fw-bot (Issue Creator) on (2025-02-06 11:11:43 UTC): @davidmonnom @vlst-odoo this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-07 09:00:16 UTC): @robodoo r+

"
2835216053,pull_request,closed,,[FIX] l10n_ar: fix Qweb overrides between AR and AE,"When AE localization extends the default invoice report, they replace the `<th name=""th_taxes""><span>Taxes</span></th>` with `<th name=""th_taxes""><span t-if=""..."">VAT</span><span t-else="""">Taxes</span></th>`. Then when AR localization is installed, it will replace the first div with the t-if. We end up in a situation with a `<span/>` followed by a `<span t-else=""""/>` which raise an error because it is expecting a `t-if`.

task-no
",clbr-odoo,2025-02-06 11:05:22+00:00,['clbr-odoo'],2025-02-06 13:26:47+00:00,2025-02-06 13:26:47+00:00,https://github.com/odoo/odoo/pull/196765,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639510035, 'issue_id': 2835216053, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196765.png)](https://mergebot.odoo.com/odoo/odoo/pull/196765)', 'created_at': datetime.datetime(2025, 2, 6, 11, 5, 24, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:05:24 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196765.png)](https://mergebot.odoo.com/odoo/odoo/pull/196765)

"
2835209493,pull_request,closed,,[FW][FIX] mail: defensively add message_id in references,"hen email provider rewrites message_id of odoo generated emails
we lose trace of original message and/or trace in Odoo. Crafting
references as already containing the original message_id ensure to
keep a trace even if message_id is rewritten.

Continuation of https://github.com/odoo/odoo/pull/81901 but this time for mailing generated
mail records.

Task-3927616

Forward-Port-Of: odoo/odoo#189195",fw-bot,2025-02-06 11:02:22+00:00,[],2025-02-07 14:22:57+00:00,2025-02-07 14:22:57+00:00,https://github.com/odoo/odoo/pull/196764,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639502854, 'issue_id': 2835209493, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196764.png)](https://mergebot.odoo.com/odoo/odoo/pull/196764)', 'created_at': datetime.datetime(2025, 2, 6, 11, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639502874, 'issue_id': 2835209493, 'author': 'fw-bot', 'body': '@tde-banana-odoo cherrypicking of pull request odoo/odoo#189195 failed.\n\nstdout:\n```\nAuto-merging addons/mail/tests/common.py\nCONFLICT (content): Merge conflict in addons/mail/tests/common.py\nAuto-merging addons/mail/wizard/mail_compose_message.py\nCONFLICT (content): Merge conflict in addons/mail/wizard/mail_compose_message.py\nAuto-merging addons/mass_mailing/models/mail_mail.py\nAuto-merging addons/mass_mailing/wizard/mail_compose_message.py\nCONFLICT (content): Merge conflict in addons/mass_mailing/wizard/mail_compose_message.py\nAuto-merging addons/test_mail/tests/test_mail_composer.py\nAuto-merging addons/test_mail/tests/test_mail_gateway.py\nCONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_gateway.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 2, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642204917, 'issue_id': 2835209493, 'author': 'tde-banana-odoo', 'body': '@robodoo r+ rebase-ff', 'created_at': datetime.datetime(2025, 2, 7, 8, 8, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642205010, 'issue_id': 2835209493, 'author': 'robodoo', 'body': 'Merge method set to rebase and fast-forward.', 'created_at': datetime.datetime(2025, 2, 7, 8, 8, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642283771, 'issue_id': 2835209493, 'author': 'robodoo', 'body': ""@tde-banana-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 7, 8, 49, 55, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:02:23 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196764.png)](https://mergebot.odoo.com/odoo/odoo/pull/196764)

fw-bot (Issue Creator) on (2025-02-06 11:02:24 UTC): @tde-banana-odoo cherrypicking of pull request odoo/odoo#189195 failed.

stdout:
```
Auto-merging addons/mail/tests/common.py
CONFLICT (content): Merge conflict in addons/mail/tests/common.py
Auto-merging addons/mail/wizard/mail_compose_message.py
CONFLICT (content): Merge conflict in addons/mail/wizard/mail_compose_message.py
Auto-merging addons/mass_mailing/models/mail_mail.py
Auto-merging addons/mass_mailing/wizard/mail_compose_message.py
CONFLICT (content): Merge conflict in addons/mass_mailing/wizard/mail_compose_message.py
Auto-merging addons/test_mail/tests/test_mail_composer.py
Auto-merging addons/test_mail/tests/test_mail_gateway.py
CONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_gateway.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tde-banana-odoo on (2025-02-07 08:08:47 UTC): @robodoo r+ rebase-ff

robodoo on (2025-02-07 08:08:50 UTC): Merge method set to rebase and fast-forward.

robodoo on (2025-02-07 08:49:55 UTC): @tde-banana-odoo 'ci/runbot' failed on this reviewed PR.

"
2835208766,pull_request,closed,,"[FW][FIX] website_sale{,_delivery}: ensure state is in the correct country","Versions
--------
- 16.0+

Steps
-----
1. Enable Stripe Express Checkout;
2. go to eCommerce as Public User;
3. pay via express checkout for a deliverable item;
4. in Stripe, set shipping address to somewhere in California;
5. finish payment.

Issue
-----
The new partner is created with its state set to Cadiz instead of California.

Cause
-----
When searching for a state using its code, it fetches the first matching item. The problem is that unlike country codes, state codes aren't unique, e.g. there are 4 states that match the 'CA' code (only one of them being in the United States).

Solution
--------
Add `country_id` to the search domain to ensure the fetched state belongs to the relevant country.

opw-4396024

Forward-Port-Of: odoo/odoo#196428",fw-bot,2025-02-06 11:02:02+00:00,[],2025-02-07 20:18:43+00:00,2025-02-07 20:18:43+00:00,https://github.com/odoo/odoo/pull/196763,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639502074, 'issue_id': 2835208766, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196763.png)](https://mergebot.odoo.com/odoo/odoo/pull/196763)', 'created_at': datetime.datetime(2025, 2, 6, 11, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639502095, 'issue_id': 2835208766, 'author': 'fw-bot', 'body': '@lvsz cherrypicking of pull request odoo/odoo#196428 failed.\n\nstdout:\n```\nAuto-merging addons/website_sale/controllers/main.py\nCONFLICT (content): Merge conflict in addons/website_sale/controllers/main.py\nAuto-merging addons/website_sale/tests/test_delivery_express_checkout_flows.py\nCONFLICT (content): Merge conflict in addons/website_sale/tests/test_delivery_express_checkout_flows.py\nAuto-merging addons/website_sale/tests/test_express_checkout_flows.py\nCONFLICT (content): Merge conflict in addons/website_sale/tests/test_express_checkout_flows.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642799137, 'issue_id': 2835208766, 'author': 'lvsz', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 12, 33, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642971246, 'issue_id': 2835208766, 'author': 'robodoo', 'body': ""@lvsz 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 7, 13, 36, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 11:02:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196763.png)](https://mergebot.odoo.com/odoo/odoo/pull/196763)

fw-bot (Issue Creator) on (2025-02-06 11:02:04 UTC): @lvsz cherrypicking of pull request odoo/odoo#196428 failed.

stdout:
```
Auto-merging addons/website_sale/controllers/main.py
CONFLICT (content): Merge conflict in addons/website_sale/controllers/main.py
Auto-merging addons/website_sale/tests/test_delivery_express_checkout_flows.py
CONFLICT (content): Merge conflict in addons/website_sale/tests/test_delivery_express_checkout_flows.py
Auto-merging addons/website_sale/tests/test_express_checkout_flows.py
CONFLICT (content): Merge conflict in addons/website_sale/tests/test_express_checkout_flows.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lvsz on (2025-02-07 12:33:41 UTC): robodoo r+

robodoo on (2025-02-07 13:36:59 UTC): @lvsz 'ci/runbot' failed on this reviewed PR.

"
2835203161,pull_request,open,, [IMP] auth_totp: make totp_secret unreachable,,flvr-odoo,2025-02-06 10:59:33+00:00,[],2025-02-06 13:22:37+00:00,,https://github.com/odoo/odoo/pull/196762,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639495851, 'issue_id': 2835203161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196762.png)](https://mergebot.odoo.com/odoo/odoo/pull/196762)', 'created_at': datetime.datetime(2025, 2, 6, 10, 59, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:59:36 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196762.png)](https://mergebot.odoo.com/odoo/odoo/pull/196762)

"
2835171339,pull_request,closed,,[FW][FIX] l10n_in_gstin_status: restrict GSTIN update to IN companies,"This commit fixes a few issues in multi-company context:

- only show the GSTIN status/update button when user has at least one IN companies selected

- only allow the update when user's active company is an IN company (to ensure we correctly determine the EDI test/production status)

opw-4367302

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#194978",fw-bot,2025-02-06 10:45:19+00:00,[],2025-02-06 17:09:37+00:00,2025-02-06 17:09:37+00:00,https://github.com/odoo/odoo/pull/196761,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639461891, 'issue_id': 2835171339, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196761.png)](https://mergebot.odoo.com/odoo/odoo/pull/196761)', 'created_at': datetime.datetime(2025, 2, 6, 10, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639461919, 'issue_id': 2835171339, 'author': 'fw-bot', 'body': '@xavieralt @rugo-odoo cherrypicking of pull request odoo/odoo#194978 failed.\n\nstdout:\n```\nAuto-merging addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot\nCONFLICT (content): Merge conflict in addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 10, 45, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640048469, 'issue_id': 2835171339, 'author': 'xavieralt', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 14, 52, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:45:20 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196761.png)](https://mergebot.odoo.com/odoo/odoo/pull/196761)

fw-bot (Issue Creator) on (2025-02-06 10:45:21 UTC): @xavieralt @rugo-odoo cherrypicking of pull request odoo/odoo#194978 failed.

stdout:
```
Auto-merging addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot
CONFLICT (content): Merge conflict in addons/l10n_in_gstin_status/i18n/l10n_in_gstin_status.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

xavieralt on (2025-02-06 14:52:41 UTC): @robodoo r+

"
2835170534,pull_request,closed,,[FW][FIX] html_editior: prevent key error when content-type is missing,"This error occurs when ``content-type`` is not found in the response when attaching any file with the type ``URL``.

Traceback:
---
```
KeyError: 'content-type'
  File ""odoo/http.py"", line 2366, in __call__
    response = request._serve_db()
  File ""odoo/http.py"", line 1894, in _serve_db
    return self._transactioning(
  File ""odoo/http.py"", line 1957, in _transactioning
    return service_model.retrying(func, env=self.env)
  File ""odoo/service/model.py"", line 137, in retrying
    result = func()
  File ""odoo/http.py"", line 1924, in _serve_ir_http
    response = self.dispatcher.dispatch(rule.endpoint, args)
  File ""odoo/http.py"", line 2171, in dispatch
    result = self.request.registry['ir.http']._dispatch(endpoint)
  File ""odoo/addons/base/models/ir_http.py"", line 329, in _dispatch
    result = endpoint(**request.params)
  File ""odoo/http.py"", line 727, in route_wrapper
    result = endpoint(self, *args, **params_ok)
  File ""addons/html_editor/controllers/main.py"", line 355, in add_url
    attachment = self._attachment_create(url=url, res_id=res_id, res_model=res_model)
  File ""addons/html_editor/controllers/main.py"", line 256, in _attachment_create
    mime_type = response.headers['content-type']
  File ""requests/structures.py"", line 52, in __getitem__
    return self._store[key.lower()][1]
```

https://github.com/odoo/odoo/blob/2fe55ae592e5812c5ee5e39ed1e8332bde608cb2/addons/html_editor/controllers/main.py#L257

sentry-6015024235

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#192073",fw-bot,2025-02-06 10:44:58+00:00,[],2025-02-06 14:06:42+00:00,2025-02-06 14:06:42+00:00,https://github.com/odoo/odoo/pull/196760,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639461042, 'issue_id': 2835170534, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196760.png)](https://mergebot.odoo.com/odoo/odoo/pull/196760)', 'created_at': datetime.datetime(2025, 2, 6, 10, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639461068, 'issue_id': 2835170534, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 10, 45, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:45:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196760.png)](https://mergebot.odoo.com/odoo/odoo/pull/196760)

fw-bot (Issue Creator) on (2025-02-06 10:45:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835169821,pull_request,closed,,[FW][FIX] l10n_eg_edi_eta: correct net/total with multiple taxes,"Currently, when multiple taxes type are applied to the same invoice line, the netAmount and totalAmount fields in the ETA file are incorrectly calculated.

Steps to reproduce:
1.	Install the module l10n_eg_edi_eta.
2.	Create a new invoice with multiple tax types applied to the same product.
3.	Generate the ETA JSON file.

Issue:
The resulting file contains incorrect values for netAmount and totalAmount because these amounts were calculated by summing the base_amount from values_per_grouping_key. However, since grouping is done by tax type, the base_amount is duplicated (once per tax type), leading to incorrect totals.

This fix ensure that base_amount is not counted multiple times.

See official documentation for more details:
https://sdk.invoicing.eta.gov.eg/document-validation-rules/#validation-on-level-of-invoice

opw-4457780

Forward-Port-Of: odoo/odoo#195589",fw-bot,2025-02-06 10:44:38+00:00,[],2025-02-06 14:06:49+00:00,2025-02-06 14:06:49+00:00,https://github.com/odoo/odoo/pull/196759,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639460156, 'issue_id': 2835169821, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196759.png)](https://mergebot.odoo.com/odoo/odoo/pull/196759)', 'created_at': datetime.datetime(2025, 2, 6, 10, 44, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639460185, 'issue_id': 2835169821, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 10, 44, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:44:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196759.png)](https://mergebot.odoo.com/odoo/odoo/pull/196759)

fw-bot (Issue Creator) on (2025-02-06 10:44:40 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835168857,pull_request,closed,,[FW][FIX] base_setup: remove sms checkbox from settings,"This commit removes the module_sms field from the settings view. When it was present unchecking it could potentially remove all the apps installed on a DB. Depending on what was installed. The main issue was that user misinterpreted the use of this checkbox leading to situation where the DB needed to be restarted from a backup.

To fix this issue it was decided for now to remove the checkbox from the settings view. This will prevent these situations to happen again in the future.

task-4526115

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196449",fw-bot,2025-02-06 10:44:18+00:00,[],2025-02-06 15:43:28+00:00,2025-02-06 15:43:28+00:00,https://github.com/odoo/odoo/pull/196758,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639460097, 'issue_id': 2835168857, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196758.png)](https://mergebot.odoo.com/odoo/odoo/pull/196758)', 'created_at': datetime.datetime(2025, 2, 6, 10, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639460125, 'issue_id': 2835168857, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 10, 44, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:44:38 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196758.png)](https://mergebot.odoo.com/odoo/odoo/pull/196758)

fw-bot (Issue Creator) on (2025-02-06 10:44:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835159728,pull_request,open,,[IMP] l10n_sa_edi: remove company_id from the xml when partner is not SA,"This commit will set the company_id from partner party legal entity when the partner is not from SA

task: 4531706




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",malb-odoo,2025-02-06 10:40:26+00:00,[],2025-02-06 11:00:16+00:00,,https://github.com/odoo/odoo/pull/196757,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639450117, 'issue_id': 2835159728, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196757.png)](https://mergebot.odoo.com/odoo/odoo/pull/196757)', 'created_at': datetime.datetime(2025, 2, 6, 10, 40, 29, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:40:29 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196757.png)](https://mergebot.odoo.com/odoo/odoo/pull/196757)

"
2835141117,pull_request,closed,,[FW][FIX] mrp: fix test_workcenter_with_resource_calendar_from_another_compa,"Running the “test_workcenter_with_resource_calendar_from_another_company”
without demo data occurs an error because the resource calendar.

Forward-Port-Of: odoo/odoo#196656",fw-bot,2025-02-06 10:32:11+00:00,[],2025-02-06 17:59:19+00:00,2025-02-06 17:59:19+00:00,https://github.com/odoo/odoo/pull/196756,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2639433833, 'issue_id': 2835141117, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196756.png)](https://mergebot.odoo.com/odoo/odoo/pull/196756)', 'created_at': datetime.datetime(2025, 2, 6, 10, 32, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639433878, 'issue_id': 2835141117, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 10, 32, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639611690, 'issue_id': 2835141117, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow the next pull request (odoo/odoo#196768) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 11, 51, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639677322, 'issue_id': 2835141117, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 21, 11, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:32:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196756.png)](https://mergebot.odoo.com/odoo/odoo/pull/196756)

fw-bot (Issue Creator) on (2025-02-06 10:32:15 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 11:51:59 UTC): @DjamelTouati @Whenrow the next pull request (odoo/odoo#196768) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

DjamelTouati on (2025-02-06 12:21:11 UTC): robodoo r+

"
2835112097,pull_request,closed,,[FIX] l10n_es*: fix taxes,"This commit :
- adds missing VAT 0% export (goods) tax
- correct erroneous fiscal position
- reactivate taxes that were deactivated with https://github.com/odoo/odoo/commit/401a961258e991151370899d4b61809879d5a5a8 after reconsideration

Task: 4453629",jbw-odoo,2025-02-06 10:20:03+00:00,[],2025-02-07 05:21:53+00:00,2025-02-06 17:09:28+00:00,https://github.com/odoo/odoo/pull/196755,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639400903, 'issue_id': 2835112097, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196755.png)](https://mergebot.odoo.com/odoo/odoo/pull/196755)', 'created_at': datetime.datetime(2025, 2, 6, 10, 20, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639401357, 'issue_id': 2835112097, 'author': 'jbw-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 6, 10, 20, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639401449, 'issue_id': 2835112097, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 6, 10, 20, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640008692, 'issue_id': 2835112097, 'author': 'h4818', 'body': '@robodoo r+\r\n(bring those old taxes back, since @jco-odoo is not here)', 'created_at': datetime.datetime(2025, 2, 6, 14, 37, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640752833, 'issue_id': 2835112097, 'author': 'pedrobaeza', 'body': '@jbw-odoo what happens with 17.0?', 'created_at': datetime.datetime(2025, 2, 6, 19, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641972628, 'issue_id': 2835112097, 'author': 'jbw-odoo', 'body': '> @jbw-odoo what happens with 17.0?\r\n\r\nHello @pedrobaeza , the 17 PR is here https://github.com/odoo/odoo/pull/196738 I made multiple PRs because of changes in the csv (new field in 18 & mod130 tags added in 18.1)', 'created_at': datetime.datetime(2025, 2, 7, 5, 21, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:20:06 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196755.png)](https://mergebot.odoo.com/odoo/odoo/pull/196755)

jbw-odoo (Issue Creator) on (2025-02-06 10:20:17 UTC): robodoo fw=no

robodoo on (2025-02-06 10:20:19 UTC): Disabled forward-porting.

h4818 on (2025-02-06 14:37:50 UTC): @robodoo r+
(bring those old taxes back, since @jco-odoo is not here)

pedrobaeza on (2025-02-06 19:03:38 UTC): @jbw-odoo what happens with 17.0?

jbw-odoo (Issue Creator) on (2025-02-07 05:21:52 UTC): Hello @pedrobaeza , the 17 PR is here https://github.com/odoo/odoo/pull/196738 I made multiple PRs because of changes in the csv (new field in 18 & mod130 tags added in 18.1)

"
2835095908,pull_request,open,,[FIX] account: prevent error when applying sorting on assets list,"Currently, an error occurs when sorting is applied again on a different related field after sorting another related field first.

Steps to produce:
- Install `accountant` module
- Navigate `Accounting > Accounting > Assets (list view)`
- Apply Sorting on column `Fixed Asset Account`
- Try to sort the column `Depreciation Account`
- Observe the error

Error: `AssertionError`

The issue occurs when attempting to add a JOIN on an SQL query without verifying whether it has already been included.  - [1]

This commit resolves the issue by adding a conditional check before adding a join in the query, ensuring that duplicate joins are not added.

[1] - https://github.com/odoo/odoo/blob/b2e564f07f6883111da4581bccfb0f45c7588063/addons/account/models/account_account.py#L150-L152

Sentry-6039417751

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",adip-odoo,2025-02-06 10:12:46+00:00,[],2025-02-07 10:20:27+00:00,,https://github.com/odoo/odoo/pull/196754,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639384734, 'issue_id': 2835095908, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196754.png)](https://mergebot.odoo.com/odoo/odoo/pull/196754)', 'created_at': datetime.datetime(2025, 2, 6, 10, 12, 49, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:12:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196754.png)](https://mergebot.odoo.com/odoo/odoo/pull/196754)

"
2835088739,pull_request,closed,,[FIX] l10n_es*: fix taxes,"This commit :
- adds missing VAT 0% export (goods) tax
- correct erroneous fiscal position
- reactivate taxes that were deactivated with https://github.com/odoo/odoo/commit/401a961258e991151370899d4b61809879d5a5a8 after reconsideration

Task: 4453629",jbw-odoo,2025-02-06 10:09:43+00:00,[],2025-02-06 19:17:24+00:00,2025-02-06 19:17:24+00:00,https://github.com/odoo/odoo/pull/196753,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639376843, 'issue_id': 2835088739, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196753.png)](https://mergebot.odoo.com/odoo/odoo/pull/196753)', 'created_at': datetime.datetime(2025, 2, 6, 10, 9, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639379667, 'issue_id': 2835088739, 'author': 'jbw-odoo', 'body': 'robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 6, 10, 10, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639379769, 'issue_id': 2835088739, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 6, 10, 10, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640006045, 'issue_id': 2835088739, 'author': 'h4818', 'body': '@robodoo r+\r\n(bring those old taxes back, since @jco-odoo is not here)', 'created_at': datetime.datetime(2025, 2, 6, 14, 36, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 10:09:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196753.png)](https://mergebot.odoo.com/odoo/odoo/pull/196753)

jbw-odoo (Issue Creator) on (2025-02-06 10:10:50 UTC): robodoo fw=no

robodoo on (2025-02-06 10:10:53 UTC): Disabled forward-porting.

h4818 on (2025-02-06 14:36:51 UTC): @robodoo r+
(bring those old taxes back, since @jco-odoo is not here)

"
2835050309,pull_request,closed,,[FW][FIX] web: don't use last record update as unique for related images,"Steps to reproduce
==================

- Install web_studio,mrp
- Go to Manufacturing > Operations > Manufacturing Orders
- Open studio
- Add a related field
- Select Product > Image
- Change the widget to the ImageField
- Exit studio
- Open any record
- Go to the product
- Edit the image
- Go back to the list view => The old image is still displayed

Cause of the issue
==================

We add a unique parameter in the image url with the last record update. In the case of a related field, the record has not been updated even if the image has changed.

Solution
========

We still need to pass a unique value in the URL because browser will not fetch twice the same URL in the same session. In that case, we can simply pass a random value

opw-4378605

Forward-Port-Of: odoo/odoo#192036",fw-bot,2025-02-06 09:52:56+00:00,[],2025-02-06 15:34:00+00:00,2025-02-06 15:34:00+00:00,https://github.com/odoo/odoo/pull/196752,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639334649, 'issue_id': 2835050309, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196752.png)](https://mergebot.odoo.com/odoo/odoo/pull/196752)', 'created_at': datetime.datetime(2025, 2, 6, 9, 52, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639334674, 'issue_id': 2835050309, 'author': 'fw-bot', 'body': '@hubvd @kebeclibre cherrypicking of pull request odoo/odoo#192036 failed.\n\nstdout:\n```\nAuto-merging addons/web/static/src/views/fields/image/image_field.js\nCONFLICT (content): Merge conflict in addons/web/static/src/views/fields/image/image_field.js\nAuto-merging addons/web/static/tests/views/fields/image_field_tests.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 9, 52, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639660396, 'issue_id': 2835050309, 'author': 'hubvd', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 12, 14, 10, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:52:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196752.png)](https://mergebot.odoo.com/odoo/odoo/pull/196752)

fw-bot (Issue Creator) on (2025-02-06 09:52:59 UTC): @hubvd @kebeclibre cherrypicking of pull request odoo/odoo#192036 failed.

stdout:
```
Auto-merging addons/web/static/src/views/fields/image/image_field.js
CONFLICT (content): Merge conflict in addons/web/static/src/views/fields/image/image_field.js
Auto-merging addons/web/static/tests/views/fields/image_field_tests.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

hubvd on (2025-02-06 12:14:10 UTC): @robodoo r+

"
2835027952,pull_request,closed,,[FW][FIX] account: add is_invoice_report to account.report_invoice,"### Steps to reproduce:
- Install ""l10n_ch"" and switch to a Swiss company
- Create a new invoice with a Swiss customer
- Confirm
- In the actions, select ""PDF without payments""
- The generated PDF has a blank page at the end

### Cause:
The report ""account.report_invoice"" does not have a field `is_invoice_report` set to `True`. When generating an invoice with Swiss localization. It reads the field `is_invoice_report` to add or not the QR code.

The bug appears after this [commit](https://github.com/odoo/odoo/commit/bb60952c944db27d71d7fe32ead2dff05c3fe922#diff-b6e108b605fbefba066e3b20f8e030ea78881bbed816f8ac5cb38e745c542739R50) which modified the `_is_invoice_report` method to use the field, but only added the field in ""account_invoices"". 

### Solution:
Set the field to True for the report.

opw-4467250

Forward-Port-Of: odoo/odoo#196171
Forward-Port-Of: odoo/odoo#194911",fw-bot,2025-02-06 09:42:48+00:00,[],2025-02-06 15:18:58+00:00,2025-02-06 15:18:58+00:00,https://github.com/odoo/odoo/pull/196751,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639308284, 'issue_id': 2835027952, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196751.png)](https://mergebot.odoo.com/odoo/odoo/pull/196751)', 'created_at': datetime.datetime(2025, 2, 6, 9, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639308306, 'issue_id': 2835027952, 'author': 'fw-bot', 'body': '@mathcoutant @RicGR98 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 9, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639325553, 'issue_id': 2835027952, 'author': 'RicGR98', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 49, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639383606, 'issue_id': 2835027952, 'author': 'robodoo', 'body': ""@mathcoutant @RicGR98 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 10, 12, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:42:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196751.png)](https://mergebot.odoo.com/odoo/odoo/pull/196751)

fw-bot (Issue Creator) on (2025-02-06 09:42:49 UTC): @mathcoutant @RicGR98 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

RicGR98 on (2025-02-06 09:49:43 UTC): @robodoo r+

robodoo on (2025-02-06 10:12:20 UTC): @mathcoutant @RicGR98 'ci/runbot' failed on this reviewed PR.

"
2835027107,pull_request,closed,,[FW][FIX] account: literal_eval cannot have null values,"literal_eval cannot evaluate null values, it will give a `malformed node error` if one is passed.

`ValueError: malformed node or string: False`

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196597",fw-bot,2025-02-06 09:42:25+00:00,[],2025-02-06 18:07:44+00:00,2025-02-06 18:07:44+00:00,https://github.com/odoo/odoo/pull/196750,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639306924, 'issue_id': 2835027107, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196750.png)](https://mergebot.odoo.com/odoo/odoo/pull/196750)', 'created_at': datetime.datetime(2025, 2, 6, 9, 42, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639306965, 'issue_id': 2835027107, 'author': 'fw-bot', 'body': '@asno-odoo @h4818 this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 9, 42, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:42:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196750.png)](https://mergebot.odoo.com/odoo/odoo/pull/196750)

fw-bot (Issue Creator) on (2025-02-06 09:42:28 UTC): @asno-odoo @h4818 this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2835021806,pull_request,open,,[IMP] im_livechat: add end_session step type to chatbot,"Purpose of this PR:

Introduce a new 'end_session' step type to the chatbot. When the chatbot reaches this step, the live chat conversation will terminate, ensuring that any subsequent steps are not executed.

task-id:[4509331](https://www.odoo.com/odoo/my-tasks/4509331)

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",akap-odoo,2025-02-06 09:40:00+00:00,[],2025-02-07 05:58:34+00:00,,https://github.com/odoo/odoo/pull/196749,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639299027, 'issue_id': 2835021806, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196749.png)](https://mergebot.odoo.com/odoo/odoo/pull/196749)', 'created_at': datetime.datetime(2025, 2, 6, 9, 40, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:40:04 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196749.png)](https://mergebot.odoo.com/odoo/odoo/pull/196749)

"
2834997556,pull_request,closed,,[IMP] account: Secured group usability,"**Current behavior:**
As of now, whenever a journal is set to ""Hash on Post"", the user is granted the secured group rights. This allows the user to see the lock icon in the status bar, the extra default filters in the list views of Journal Entries and Journal Items, and access to the Secure Entries wizard.

However, if only entries from journals with ""Hash on Post"" are secured, these features are not necessary. The user trusts Odoo to hash any and all entries that are posted in that specific journal.

**Expected behavior:**
When ""Hash on Post"" is active, the user does not need any additional user group. However, if even one entry is secured and does not belong to a journal with the ""hash on post"" feature, the user will then need access to the new features, such as the lock icon, default filters, and the Secure Entries wizard.

**Approach:**
This commit removes the calls to _activate_group_account_secured() when setting a journal to ""Hash on Post"". It also removes it from the Secure Entries wizard. Instead, we add the key 'journal_restrict_mode' to the chains_to_hash, which indicates the value of the journal's restrict_mode_hash_table field. If at least one chain with moves does not have 'journal_restrict_mode', only then we call _activate_group_account_secured()  from _hash_moves(). This will only happen when the Secure Entries wizard is used, hashing entries from all journals.

task-4348380

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",mairasalazar,2025-02-06 09:29:17+00:00,[],2025-02-08 01:04:24+00:00,2025-02-08 01:04:23+00:00,https://github.com/odoo/odoo/pull/196748,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639268143, 'issue_id': 2834997556, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196748.png)](https://mergebot.odoo.com/odoo/odoo/pull/196748)', 'created_at': datetime.datetime(2025, 2, 6, 9, 29, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639271638, 'issue_id': 2834997556, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196748.png)](https://mergebot.odoo.com/odoo/odoo/pull/196748)', 'created_at': datetime.datetime(2025, 2, 6, 9, 31, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643136032, 'issue_id': 2834997556, 'author': 'mairasalazar', 'body': ""> Is it correct to say that the only way to activate the group is now by using the wizard (on entries in a non hashed journal), and that the wizard is accessible in **debug mode only**?\r\n\r\n@william-andre Yes, that's true. Confirmed that was the inteded behavior with TSB yesterday. The exception is DE, where the group is activated in the _post_init_hook"", 'created_at': datetime.datetime(2025, 2, 7, 14, 44, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:29:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196748.png)](https://mergebot.odoo.com/odoo/odoo/pull/196748)

robodoo on (2025-02-06 09:31:49 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196748.png)](https://mergebot.odoo.com/odoo/odoo/pull/196748)

mairasalazar (Issue Creator) on (2025-02-07 14:44:43 UTC): @william-andre Yes, that's true. Confirmed that was the inteded behavior with TSB yesterday. The exception is DE, where the group is activated in the _post_init_hook

"
2834960943,pull_request,closed,,[FIX] web: add +1 for 👍,"task-4552346
",phenix-factory,2025-02-06 09:12:58+00:00,[],2025-02-06 12:38:22+00:00,2025-02-06 12:38:22+00:00,https://github.com/odoo/odoo/pull/196747,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639233098, 'issue_id': 2834960943, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196747.png)](https://mergebot.odoo.com/odoo/odoo/pull/196747)', 'created_at': datetime.datetime(2025, 2, 6, 9, 13, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639377136, 'issue_id': 2834960943, 'author': 'zel-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 10, 9, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639378337, 'issue_id': 2834960943, 'author': 'zel-odoo', 'body': '~not sure if you need to update `.pot` in stable for emoji~', 'created_at': datetime.datetime(2025, 2, 6, 10, 10, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639387262, 'issue_id': 2834960943, 'author': 'phenix-factory', 'body': '> not sure if you need to update .pot in stable for emoji\r\n\r\nWhat makes you think we need to update a `.pot`?', 'created_at': datetime.datetime(2025, 2, 6, 10, 13, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639393581, 'issue_id': 2834960943, 'author': 'zel-odoo', 'body': '> > not sure if you need to update .pot in stable for emoji\r\n> \r\n> What makes you think we need to update a `.pot`?\r\n\r\nnvm, I am confusing with `keyword` and `shortcode` in emoji\r\n`\r\n    ""keywords"": [\r\n        ""` + _t(""face"") + `"",\r\n        ""` + _t(""grin"") + `"",\r\n        ""` + _t(""grinning face"") + `""\r\n    ],`', 'created_at': datetime.datetime(2025, 2, 6, 10, 16, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:13:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196747.png)](https://mergebot.odoo.com/odoo/odoo/pull/196747)

zel-odoo on (2025-02-06 10:09:54 UTC): robodoo r+

zel-odoo on (2025-02-06 10:10:23 UTC): ~not sure if you need to update `.pot` in stable for emoji~

phenix-factory (Issue Creator) on (2025-02-06 10:13:37 UTC): What makes you think we need to update a `.pot`?

zel-odoo on (2025-02-06 10:16:09 UTC): nvm, I am confusing with `keyword` and `shortcode` in emoji
`
    ""keywords"": [
        ""` + _t(""face"") + `"",
        ""` + _t(""grin"") + `"",
        ""` + _t(""grinning face"") + `""
    ],`

"
2834954866,pull_request,closed,,[FIX] account: prevent generation of new pdf when existing,"Steps to reproduce:
[l10n_de]
- create an invoice
- confirm the invoice
- send the invoice
- send the invoice again

Issue:
You will get an error ""You cannot remove parts of the audit trail. Archive the record instead.""

Cause:
We don't prevent entering the hook if there is already a generated pdf. During the hook, we want to ""generate a Factur-X and embed it inside the PDF for inter-portability"" https://github.com/odoo/odoo/blob/84a0b81a258262e3bb9dbaa9c9f37796303a9dad/addons/account_edi_ubl_cii/models/account_move_send.py#L124-L128

In the German loca, while trying to write on the attachment, we'll check that the move has not been already posted. In which case it will raise the error https://github.com/odoo/odoo/blob/5215428114842c606202e7b1c69f5f597a977f92/addons/l10n_de/models/ir_attachment.py#L13-L34

solution:
Prevent entering the hook if there is already a pdf as it is done a few lines before https://github.com/odoo/odoo/blob/9f65f1a3b0b6b893f230729c56f287f5aff6af35/addons/account/models/account_move_send.py#L607

opw-4471377
",yosa-odoo,2025-02-06 09:09:48+00:00,[],2025-02-06 14:36:20+00:00,2025-02-06 14:36:20+00:00,https://github.com/odoo/odoo/pull/196746,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639227725, 'issue_id': 2834954866, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196746.png)](https://mergebot.odoo.com/odoo/odoo/pull/196746)', 'created_at': datetime.datetime(2025, 2, 6, 9, 9, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:09:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196746.png)](https://mergebot.odoo.com/odoo/odoo/pull/196746)

"
2834934741,pull_request,closed,,[FW][FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

Forward-Port-Of: odoo/odoo#196452
Forward-Port-Of: odoo/odoo#195859",fw-bot,2025-02-06 09:00:18+00:00,[],2025-02-06 18:07:56+00:00,2025-02-06 18:07:55+00:00,https://github.com/odoo/odoo/pull/196745,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639206553, 'issue_id': 2834934741, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196745.png)](https://mergebot.odoo.com/odoo/odoo/pull/196745)', 'created_at': datetime.datetime(2025, 2, 6, 9, 0, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639206581, 'issue_id': 2834934741, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196697\n* odoo/odoo#196684\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 9, 0, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639339482, 'issue_id': 2834934741, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 6, 9, 54, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639831548, 'issue_id': 2834934741, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 6, 13, 27, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640127795, 'issue_id': 2834934741, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 15, 22, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 09:00:19 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196745.png)](https://mergebot.odoo.com/odoo/odoo/pull/196745)

fw-bot (Issue Creator) on (2025-02-06 09:00:20 UTC): @bvr-odoo @qsm-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196697
* odoo/odoo#196684

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 09:54:55 UTC): @bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 13:27:57 UTC): @bvr-odoo @qsm-odoo this PR was modified / updated and has become a normal PR. It must be merged directly.

bvr-odoo on (2025-02-06 15:22:08 UTC): @robodoo r+

"
2834923200,pull_request,closed,,[FIX] pos_restaurant: set tab floating order,"Fix issue generating traceback where when merging floating orders together. As `mergeOrders` can be used with floating orders, it doesn't necessarily contain a table. A check has been added to handle this case properly. After selecting an order to merge with, we now also redirect to this order.

Steps to reproduce:
- Create new floating order
- Add items to the cart
- Click ""Set Tab""
- Select existing floating orders

task-id: 4551788

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",manv-afk,2025-02-06 08:54:28+00:00,[],2025-02-07 14:02:17+00:00,2025-02-07 14:02:17+00:00,https://github.com/odoo/odoo/pull/196744,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639197363, 'issue_id': 2834923200, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196744.png)](https://mergebot.odoo.com/odoo/odoo/pull/196744)', 'created_at': datetime.datetime(2025, 2, 6, 8, 54, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642804522, 'issue_id': 2834923200, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 12, 36, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 08:54:33 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196744.png)](https://mergebot.odoo.com/odoo/odoo/pull/196744)

davidmonnom on (2025-02-07 12:36:36 UTC): @robodoo r+

"
2834912093,pull_request,closed,,[FIX] point_of_sale: adjust config name size on preparation ticket,"This commit ensures that the config name is printed with the correct size on the preparation ticket.

",stva-odoo,2025-02-06 08:49:48+00:00,[],2025-02-06 15:43:23+00:00,2025-02-06 15:43:23+00:00,https://github.com/odoo/odoo/pull/196743,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639185159, 'issue_id': 2834912093, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196743.png)](https://mergebot.odoo.com/odoo/odoo/pull/196743)', 'created_at': datetime.datetime(2025, 2, 6, 8, 49, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 08:49:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196743.png)](https://mergebot.odoo.com/odoo/odoo/pull/196743)

"
2834908760,pull_request,open,,[REM] base_import_module: clean module_uninstall method for assets,"The module_uninstall method was removing `ir.asset` related to the module being uninstalled, but it is already done by the parent method. This commit therefore removes these useless lines.
",vava-odoo,2025-02-06 08:48:11+00:00,[],2025-02-06 09:00:13+00:00,,https://github.com/odoo/odoo/pull/196742,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639182040, 'issue_id': 2834908760, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196742.png)](https://mergebot.odoo.com/odoo/odoo/pull/196742)', 'created_at': datetime.datetime(2025, 2, 6, 8, 48, 15, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 08:48:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196742.png)](https://mergebot.odoo.com/odoo/odoo/pull/196742)

"
2834866746,pull_request,closed,,[FW][IMP] l10n_br_website_sale: always display b2b for Brazil,"This commit make brazilen fields always display in address
form even though b2b fields settings disabled from edition
because in LATAM country `ID Type` and `ID Number` field
are required for billing.

Also revert wrong fixed PR https://github.com/odoo/odoo/pull/194110

task-3628329

Forward-Port-Of: odoo/odoo#196182",fw-bot,2025-02-06 08:26:59+00:00,[],2025-02-07 08:21:38+00:00,2025-02-07 08:21:38+00:00,https://github.com/odoo/odoo/pull/196741,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2639140640, 'issue_id': 2834866746, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196741.png)](https://mergebot.odoo.com/odoo/odoo/pull/196741)', 'created_at': datetime.datetime(2025, 2, 6, 8, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639140661, 'issue_id': 2834866746, 'author': 'fw-bot', 'body': '@kcv-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#196182 failed.\n\n* 1ffaa7d83f5ecf5b44056b0b9bbf5deaf8271054\n* 732695b7977456b65c55e740aabea5a40b733f2e <- on this commit\n\nstdout:\n```\nAuto-merging addons/l10n_br_website_sale/__init__.py\nCONFLICT (content): Merge conflict in addons/l10n_br_website_sale/__init__.py\nAuto-merging addons/l10n_br_website_sale/models/__init__.py\nCONFLICT (add/add): Merge conflict in addons/l10n_br_website_sale/models/__init__.py\nAuto-merging addons/l10n_br_website_sale/models/website.py\nCONFLICT (add/add): Merge conflict in addons/l10n_br_website_sale/models/website.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 8, 27, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639199314, 'issue_id': 2834866746, 'author': 'kcv-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 55, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639254765, 'issue_id': 2834866746, 'author': 'robodoo', 'body': ""@kcv-odoo @clbr-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 9, 22, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641979731, 'issue_id': 2834866746, 'author': 'kcv-odoo', 'body': '@robodoo retry', 'created_at': datetime.datetime(2025, 2, 7, 5, 28, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641979770, 'issue_id': 2834866746, 'author': 'robodoo', 'body': '@kcv-odoo retry makes no sense when the PR is not in error.', 'created_at': datetime.datetime(2025, 2, 7, 5, 28, 57, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 08:27:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196741.png)](https://mergebot.odoo.com/odoo/odoo/pull/196741)

fw-bot (Issue Creator) on (2025-02-06 08:27:01 UTC): @kcv-odoo @clbr-odoo cherrypicking of pull request odoo/odoo#196182 failed.

* 1ffaa7d83f5ecf5b44056b0b9bbf5deaf8271054
* 732695b7977456b65c55e740aabea5a40b733f2e <- on this commit

stdout:
```
Auto-merging addons/l10n_br_website_sale/__init__.py
CONFLICT (content): Merge conflict in addons/l10n_br_website_sale/__init__.py
Auto-merging addons/l10n_br_website_sale/models/__init__.py
CONFLICT (add/add): Merge conflict in addons/l10n_br_website_sale/models/__init__.py
Auto-merging addons/l10n_br_website_sale/models/website.py
CONFLICT (add/add): Merge conflict in addons/l10n_br_website_sale/models/website.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kcv-odoo on (2025-02-06 08:55:40 UTC): @robodoo r+

robodoo on (2025-02-06 09:22:58 UTC): @kcv-odoo @clbr-odoo 'ci/runbot' failed on this reviewed PR.

kcv-odoo on (2025-02-07 05:28:55 UTC): @robodoo retry

robodoo on (2025-02-07 05:28:57 UTC): @kcv-odoo retry makes no sense when the PR is not in error.

"
2834782860,pull_request,open,,[FIX] web: catch ResizeObserver error in chrome 132,"backport of https://github.com/odoo/odoo/pull/194483
Since chrome 132, the shape of error events for the ResizeObserver loop completed with undelivered notifications. error changed: the error key is now set in the event (its value is this specific message, i.e. a string, not an Error instance). As a consequence, those errors are no longer swallowed as they're expected to be, and are thus wrongly identified as CORS errors. Those errors are shown to the user in debug mode.

This happens for instance in the ir.ui.view form view, which contains an AceEditor field. His CodeEditor component listens on the resize event to redrawn itself, which causes this error. This also happens with the website builder, which does not involve the CodeEditor. It probably happens at other places as well. We thus need a global solution, like we had before.

This commit thus fixes the condition in the error service to keep swallowing that error.

opw-4500350
opw-4496862
opw-4496782
opw-4495448
opw-4493209
opw-4495309
opw-4472997
opw-4509070

and backport of https://github.com/odoo/odoo/pull/194795

catch ResizeObserver error in chrome 132

In error_service, event.preventDefault() is required to prevent uncaught error message due to latest Chrome version (132) compatibility.",abz-odoo,2025-02-06 07:41:22+00:00,[],2025-02-06 08:42:07+00:00,,https://github.com/odoo/odoo/pull/196740,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2639054487, 'issue_id': 2834782860, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196740.png)](https://mergebot.odoo.com/odoo/odoo/pull/196740)', 'created_at': datetime.datetime(2025, 2, 6, 7, 41, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639054958, 'issue_id': 2834782860, 'author': 'abz-odoo', 'body': '@robodoo fw=no', 'created_at': datetime.datetime(2025, 2, 6, 7, 41, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639055038, 'issue_id': 2834782860, 'author': 'robodoo', 'body': 'Disabled forward-porting.', 'created_at': datetime.datetime(2025, 2, 6, 7, 41, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639170083, 'issue_id': 2834782860, 'author': 'adwid', 'body': ""@abz-odoo \r\n@aab-odoo \r\nrobodoo r-\r\nWe don't support 15.0 anymore..."", 'created_at': datetime.datetime(2025, 2, 6, 8, 42, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 07:41:25 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196740.png)](https://mergebot.odoo.com/odoo/odoo/pull/196740)

abz-odoo (Issue Creator) on (2025-02-06 07:41:43 UTC): @robodoo fw=no

robodoo on (2025-02-06 07:41:46 UTC): Disabled forward-porting.

adwid on (2025-02-06 08:42:05 UTC): @abz-odoo 
@aab-odoo 
robodoo r-
We don't support 15.0 anymore...

"
2834772964,pull_request,open,,[FIX] l10n_in_hr_holidays: fix sandwich leave option visibility.,"Steps to Reproduce:
- Install the `l10n_in_hr_holidays` module.
- Ensure there is only one company, and its country is set to India.
- Sandwich leave feature is not available for common time-off types like Paid, Sick, etc.

Cause:
- Time off types for common categories (e.g., Paid, Sick) have `company_id` and `country_id` set to False.
- In a single-company setup, users cannot change the country in these time-off types due to the lack of multi-company access.

Fix:
- Adjusted the visibility condition for the sandwich leave feature. If the `country_id` for the time-off type is False and the active company is Indian then the sandwich leave feature will now be available.

task-4430006",rmun-odoo,2025-02-06 07:35:25+00:00,[],2025-02-06 12:32:54+00:00,,https://github.com/odoo/odoo/pull/196739,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639045480, 'issue_id': 2834772964, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196739.png)](https://mergebot.odoo.com/odoo/odoo/pull/196739)', 'created_at': datetime.datetime(2025, 2, 6, 7, 35, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 07:35:28 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196739.png)](https://mergebot.odoo.com/odoo/odoo/pull/196739)

"
2834764857,pull_request,closed,,[FIX] l10n_es*: fix taxes,"This commit :
- adds missing VAT 0% export (goods) tax
- correct erroneous fiscal position
- reactivate taxes that were deactivated with https://github.com/odoo/odoo/commit/401a961258e991151370899d4b61809879d5a5a8 after reconsideration

Task: 4453629",jbw-odoo,2025-02-06 07:30:40+00:00,[],2025-02-07 07:10:31+00:00,2025-02-07 07:10:31+00:00,https://github.com/odoo/odoo/pull/196738,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639037718, 'issue_id': 2834764857, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196738.png)](https://mergebot.odoo.com/odoo/odoo/pull/196738)', 'created_at': datetime.datetime(2025, 2, 6, 7, 30, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639053652, 'issue_id': 2834764857, 'author': 'jbw-odoo', 'body': 'robodoo up to saas-18.1', 'created_at': datetime.datetime(2025, 2, 6, 7, 40, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639053717, 'issue_id': 2834764857, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-18.1'."", 'created_at': datetime.datetime(2025, 2, 6, 7, 40, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639266594, 'issue_id': 2834764857, 'author': 'jbw-odoo', 'body': 'robodoo up to saas-17.4\r\ntaxes : add price_include_override in 18.0 & mod130 tags in saas-18.1', 'created_at': datetime.datetime(2025, 2, 6, 9, 28, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639266823, 'issue_id': 2834764857, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 2, 6, 9, 28, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639267932, 'issue_id': 2834764857, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 2, 6, 9, 29, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639271577, 'issue_id': 2834764857, 'author': 'robodoo', 'body': ""Forward-porting to 'saas-17.4'."", 'created_at': datetime.datetime(2025, 2, 6, 9, 31, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640147962, 'issue_id': 2834764857, 'author': 'robodoo', 'body': ""@jbw-odoo @h4818 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 15, 29, 30, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 07:30:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196738.png)](https://mergebot.odoo.com/odoo/odoo/pull/196738)

jbw-odoo (Issue Creator) on (2025-02-06 07:40:53 UTC): robodoo up to saas-18.1

robodoo on (2025-02-06 07:40:56 UTC): Forward-porting to 'saas-18.1'.

jbw-odoo (Issue Creator) on (2025-02-06 09:28:07 UTC): robodoo up to saas-17.4
taxes : add price_include_override in 18.0 & mod130 tags in saas-18.1

robodoo on (2025-02-06 09:28:21 UTC): Forward-porting to 'saas-17.4'.

robodoo on (2025-02-06 09:29:35 UTC): Forward-porting to 'saas-17.4'.

robodoo on (2025-02-06 09:31:47 UTC): Forward-porting to 'saas-17.4'.

robodoo on (2025-02-06 15:29:30 UTC): @jbw-odoo @h4818 'ci/runbot' failed on this reviewed PR.

"
2834757876,pull_request,open,,[FIX] im_livechat: Hide live chat commands to visitors,"**Current behavior before PR:**

channel commands like `/help ` or `/leave` are visible to visitors even it is not functional for them.

**Desired behavior after PR is merged:**

commands are now hidden from visitors.

task-4552209

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-02-06 07:26:36+00:00,[],2025-02-07 12:19:28+00:00,,https://github.com/odoo/odoo/pull/196737,"[('RD', 'research & development, internal work')]","[{'comment_id': 2639031579, 'issue_id': 2834757876, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196737.png)](https://mergebot.odoo.com/odoo/odoo/pull/196737)', 'created_at': datetime.datetime(2025, 2, 6, 7, 26, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 07:26:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196737.png)](https://mergebot.odoo.com/odoo/odoo/pull/196737)

"
2834725417,pull_request,closed,,[FW][FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196564
Forward-Port-Of: odoo/odoo#196376",fw-bot,2025-02-06 07:07:14+00:00,[],2025-02-06 12:08:53+00:00,2025-02-06 12:08:53+00:00,https://github.com/odoo/odoo/pull/196736,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2639002573, 'issue_id': 2834725417, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196736.png)](https://mergebot.odoo.com/odoo/odoo/pull/196736)', 'created_at': datetime.datetime(2025, 2, 6, 7, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639002591, 'issue_id': 2834725417, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196696\n* odoo/odoo#196683\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 7, 7, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639005253, 'issue_id': 2834725417, 'author': 'walidsahli', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 7, 9, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 07:07:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196736.png)](https://mergebot.odoo.com/odoo/odoo/pull/196736)

fw-bot (Issue Creator) on (2025-02-06 07:07:15 UTC): @walidsahli @dmo-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196696
* odoo/odoo#196683

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

walidsahli on (2025-02-06 07:09:03 UTC): @robodoo r+

"
2834680744,pull_request,closed,,[FIX] stock: correct empty screen message in physical adjustments,"Before:
------------------------------------
When there are no records in Physical Inventory Adjustments, the empty screen incorrectly suggests import data via ""Favorites → Import."" However, from version 17.0 onwards, the import option is now available through the action menu instead , causing confusion for users.

After:
------------------------------------
Replaced ""Favorites → Import"" with the correct message: ""import them from a spreadsheet throughout the action menu,"" and changed the icon from the long right arrow to the configuration icon for clarity.

Task - 4550935",chha-odoo,2025-02-06 06:39:04+00:00,[],2025-02-07 09:03:15+00:00,2025-02-07 09:03:14+00:00,https://github.com/odoo/odoo/pull/196735,"[('RD', 'research & development, internal work')]","[{'comment_id': 2638962659, 'issue_id': 2834680744, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196735.png)](https://mergebot.odoo.com/odoo/odoo/pull/196735)', 'created_at': datetime.datetime(2025, 2, 6, 6, 39, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642326464, 'issue_id': 2834680744, 'author': 'chha-odoo', 'body': 'Solved in this PR: https://github.com/odoo/odoo/pull/196835', 'created_at': datetime.datetime(2025, 2, 7, 9, 3, 14, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 06:39:07 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196735.png)](https://mergebot.odoo.com/odoo/odoo/pull/196735)

chha-odoo (Issue Creator) on (2025-02-07 09:03:14 UTC): Solved in this PR: https://github.com/odoo/odoo/pull/196835

"
2834583166,pull_request,open,,[IMP] crm_livechat: When LC conversation closes we cannot create lead,"**Current behavior before PR:**

When a live chat conversation is closed due to  composer is hidden, we can no longer create leads from the channel commands.

**Desired behavior after PR is merged:**

A new thread action is introduced, allowing lead creation even after the conversation has ended.

task-4528331

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",jayp-odoo,2025-02-06 05:28:38+00:00,[],2025-02-07 13:22:21+00:00,,https://github.com/odoo/odoo/pull/196734,"[('RD', 'research & development, internal work')]","[{'comment_id': 2638872085, 'issue_id': 2834583166, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196734.png)](https://mergebot.odoo.com/odoo/odoo/pull/196734)', 'created_at': datetime.datetime(2025, 2, 6, 5, 28, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 05:28:41 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196734.png)](https://mergebot.odoo.com/odoo/odoo/pull/196734)

"
2834558561,pull_request,closed,,[FW][FIX] hr: fixed the plan smart button,"In this PR,
- Set the default department for the Plans smart button.
- If there is no plan, it will open the form view.

Task-4356557

Forward-Port-Of: odoo/odoo#196602
Forward-Port-Of: odoo/odoo#190938",fw-bot,2025-02-06 05:08:00+00:00,[],2025-02-06 15:18:06+00:00,2025-02-06 15:18:06+00:00,https://github.com/odoo/odoo/pull/196733,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2638843412, 'issue_id': 2834558561, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196733.png)](https://mergebot.odoo.com/odoo/odoo/pull/196733)', 'created_at': datetime.datetime(2025, 2, 6, 5, 8, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638843440, 'issue_id': 2834558561, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse cherrypicking of pull request odoo/odoo#190938 failed.\n\nstdout:\n```\nAuto-merging addons/hr/models/hr_department.py\nAuto-merging addons/mail/views/mail_activity_plan_views.xml\nCONFLICT (content): Merge conflict in addons/mail/views/mail_activity_plan_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 5, 8, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639225813, 'issue_id': 2834558561, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 05:08:02 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196733.png)](https://mergebot.odoo.com/odoo/odoo/pull/196733)

fw-bot (Issue Creator) on (2025-02-06 05:08:04 UTC): @yava-odoo @tivisse cherrypicking of pull request odoo/odoo#190938 failed.

stdout:
```
Auto-merging addons/hr/models/hr_department.py
Auto-merging addons/mail/views/mail_activity_plan_views.xml
CONFLICT (content): Merge conflict in addons/mail/views/mail_activity_plan_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-06 09:09:00 UTC): @robodoo r+

"
2834530154,pull_request,open,,[IMP] point_of_sale: format report date based on user’s language preference,"Before this commit:
==========
- The Point of Sale report date was always formatted as ""%m/%d/%Y,"" ignoring the date format specified by the user's language settings.

After this commit:
==========
- The report date will now be formatted according to the date format defined by the user's language, ensuring consistency and better localization.

task-4523330",paan-odoo,2025-02-06 04:44:56+00:00,[],2025-02-06 05:00:10+00:00,,https://github.com/odoo/odoo/pull/196732,"[('RD', 'research & development, internal work')]","[{'comment_id': 2638812926, 'issue_id': 2834530154, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196732.png)](https://mergebot.odoo.com/odoo/odoo/pull/196732)', 'created_at': datetime.datetime(2025, 2, 6, 4, 44, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 04:44:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196732.png)](https://mergebot.odoo.com/odoo/odoo/pull/196732)

"
2834512483,pull_request,open,,[IMP] website_links: create LinkTracker dialog like pageproperties,"Work In Progress
",visp-odoo,2025-02-06 04:27:40+00:00,[],2025-02-06 14:00:46+00:00,,https://github.com/odoo/odoo/pull/196731,"[('RD', 'research & development, internal work')]","[{'comment_id': 2638795690, 'issue_id': 2834512483, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196731.png)](https://mergebot.odoo.com/odoo/odoo/pull/196731)', 'created_at': datetime.datetime(2025, 2, 6, 4, 27, 43, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 04:27:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196731.png)](https://mergebot.odoo.com/odoo/odoo/pull/196731)

"
2834495390,pull_request,closed,,[FW][FIX] account_check_printing: allow printing with non-reconcilable account,"**Steps to reproduce:**
- Install Accounting
- Go to ""Accounting / Configuration / Accounting / Journals""
- Open ""Bank"" Journal
- Go to ""Outgoing Payments"" tab
- Set a check layout
- For ""Checks"" line, set ""101401 Bank"" (i.e. an account that doesn't allow reconciliation) as outstanding payments account
- Create a vendor bill and confirm it
- Pay the bill with ""Checks"" as payment method
=> The bill is directly marked as ""PAID"" and not ""IN PAYMENT"" because the ""Bank"" account doesn't allow reconciliation
- Go the the check payment

**Issue:**
It is not possible to print it.
The same configuration allows to print the check in previous versions.

**Cause:**
As the check payment is using an account that doesn't allow reconciliation, the payment is set in ""Paid"" state directly, but the printing is disabled for checks in that state.

**Solution:**
As it should be harmless to allow to print the check even if it is already paid, we will allow to print it to keep a consistent behavior with previous versions.
Only printing the check will be allowed.
Voiding or rejecting will still be impossible.

opw-4498446




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#195722",fw-bot,2025-02-06 04:11:56+00:00,[],2025-02-06 12:38:06+00:00,2025-02-06 12:38:06+00:00,https://github.com/odoo/odoo/pull/196730,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2638781645, 'issue_id': 2834495390, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196730.png)](https://mergebot.odoo.com/odoo/odoo/pull/196730)', 'created_at': datetime.datetime(2025, 2, 6, 4, 11, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638781654, 'issue_id': 2834495390, 'author': 'fw-bot', 'body': '@kitan191 @epictete cherrypicking of pull request odoo/odoo#195722 failed.\n\nstdout:\n```\nAuto-merging addons/account_check_printing/models/account_payment.py\nAuto-merging addons/account_check_printing/views/account_payment_views.xml\nCONFLICT (content): Merge conflict in addons/account_check_printing/views/account_payment_views.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 4, 11, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639198981, 'issue_id': 2834495390, 'author': 'kitan191', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 55, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 04:11:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196730.png)](https://mergebot.odoo.com/odoo/odoo/pull/196730)

fw-bot (Issue Creator) on (2025-02-06 04:11:58 UTC): @kitan191 @epictete cherrypicking of pull request odoo/odoo#195722 failed.

stdout:
```
Auto-merging addons/account_check_printing/models/account_payment.py
Auto-merging addons/account_check_printing/views/account_payment_views.xml
CONFLICT (content): Merge conflict in addons/account_check_printing/views/account_payment_views.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

kitan191 on (2025-02-06 08:55:20 UTC): @robodoo r+

"
2834483618,pull_request,closed,,[FW][FIX] l10n_de: correct extension for detached files,"Fixes an issue with the renaming of the attachment after detaching to not change the extension.

task-4500319

Forward-Port-Of: odoo/odoo#196456",fw-bot,2025-02-06 04:04:33+00:00,[],2025-02-06 12:09:00+00:00,2025-02-06 12:09:00+00:00,https://github.com/odoo/odoo/pull/196729,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2638774795, 'issue_id': 2834483618, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196729.png)](https://mergebot.odoo.com/odoo/odoo/pull/196729)', 'created_at': datetime.datetime(2025, 2, 6, 4, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638774814, 'issue_id': 2834483618, 'author': 'fw-bot', 'body': '@alialfie @william-andre this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196728\n* odoo/odoo#196726\n* odoo/odoo#196703\n* odoo/odoo#196692\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 4, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639176347, 'issue_id': 2834483618, 'author': 'alialfie', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 45, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 04:04:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196729.png)](https://mergebot.odoo.com/odoo/odoo/pull/196729)

fw-bot (Issue Creator) on (2025-02-06 04:04:34 UTC): @alialfie @william-andre this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196728
* odoo/odoo#196726
* odoo/odoo#196703
* odoo/odoo#196692

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alialfie on (2025-02-06 08:45:21 UTC): @robodoo r+

"
2834405968,pull_request,closed,,[FW][FIX] l10n_de: correct extension for detached files,"Fixes an issue with the renaming of the attachment after detaching to not change the extension.

task-4500319

Forward-Port-Of: odoo/odoo#196456",fw-bot,2025-02-06 02:55:17+00:00,[],2025-02-06 11:11:01+00:00,2025-02-06 11:11:01+00:00,https://github.com/odoo/odoo/pull/196728,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638710176, 'issue_id': 2834405968, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196728.png)](https://mergebot.odoo.com/odoo/odoo/pull/196728)', 'created_at': datetime.datetime(2025, 2, 6, 2, 55, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638710188, 'issue_id': 2834405968, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 2, 55, 19, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 02:55:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196728.png)](https://mergebot.odoo.com/odoo/odoo/pull/196728)

fw-bot (Issue Creator) on (2025-02-06 02:55:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2834395871,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: Fix some EAS name,"Previous commit ([1]) tried to simplify with less technical names the Peppol EAS but introduced small errors.

[1]: https://github.com/odoo/odoo/commit/5c7eefed412e676c6ddf67f62bce514e5bade44c

task-no

Forward-Port-Of: odoo/odoo#196624",fw-bot,2025-02-06 02:44:50+00:00,[],2025-02-06 13:33:42+00:00,2025-02-06 13:33:41+00:00,https://github.com/odoo/odoo/pull/196727,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2638690476, 'issue_id': 2834395871, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196727.png)](https://mergebot.odoo.com/odoo/odoo/pull/196727)', 'created_at': datetime.datetime(2025, 2, 6, 2, 44, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638690508, 'issue_id': 2834395871, 'author': 'fw-bot', 'body': '@clbr-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#196624 failed.\n\nstdout:\n```\nAuto-merging addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot\nCONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 2, 44, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639033711, 'issue_id': 2834395871, 'author': 'robodoo', 'body': ""@clbr-odoo @gawa-odoo 'ci/runbot' failed on this reviewed PR."", 'created_at': datetime.datetime(2025, 2, 6, 7, 28, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 02:44:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196727.png)](https://mergebot.odoo.com/odoo/odoo/pull/196727)

fw-bot (Issue Creator) on (2025-02-06 02:44:54 UTC): @clbr-odoo @gawa-odoo cherrypicking of pull request odoo/odoo#196624 failed.

stdout:
```
Auto-merging addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot
CONFLICT (content): Merge conflict in addons/account_edi_ubl_cii/i18n/account_edi_ubl_cii.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

robodoo on (2025-02-06 07:28:09 UTC): @clbr-odoo @gawa-odoo 'ci/runbot' failed on this reviewed PR.

"
2834313869,pull_request,closed,,[FW][FIX] l10n_de: correct extension for detached files,"Fixes an issue with the renaming of the attachment after detaching to not change the extension.

task-4500319

Forward-Port-Of: odoo/odoo#196456",fw-bot,2025-02-06 01:42:21+00:00,[],2025-02-06 10:43:50+00:00,2025-02-06 10:43:50+00:00,https://github.com/odoo/odoo/pull/196726,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638452059, 'issue_id': 2834313869, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196726.png)](https://mergebot.odoo.com/odoo/odoo/pull/196726)', 'created_at': datetime.datetime(2025, 2, 6, 1, 42, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638452095, 'issue_id': 2834313869, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 1, 42, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 01:42:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196726.png)](https://mergebot.odoo.com/odoo/odoo/pull/196726)

fw-bot (Issue Creator) on (2025-02-06 01:42:23 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2834291427,pull_request,open,,[FW][FIX] im_livechat: Fix error when opening Messages systray menu,"Description of the issue/feature this PR addresses:
- After an internal user (without Live Chat application access) interacted with chatbot from website, he will not be able to click on the Messages icon on the top-right menu anymore:
![image](https://github.com/user-attachments/assets/a8b96c5f-b409-4a35-8c79-90f7cf97b09c)
- Cause: Internal user without Live Chat application access cannot read on model `chatbot.script.step`, so when system calls `mail_channel.chatbot_current_step_id`, security error occurs.
- Solution: Use `sudo` on `mail_channel` variable to avoid security error.

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196203
Forward-Port-Of: odoo/odoo#174611",fw-bot,2025-02-06 01:31:14+00:00,[],2025-02-06 02:00:11+00:00,,https://github.com/odoo/odoo/pull/196725,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2638403971, 'issue_id': 2834291427, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196725.png)](https://mergebot.odoo.com/odoo/odoo/pull/196725)', 'created_at': datetime.datetime(2025, 2, 6, 1, 31, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638404046, 'issue_id': 2834291427, 'author': 'fw-bot', 'body': '@phamgiang2510 @tsm-odoo cherrypicking of pull request odoo/odoo#174611 failed.\n\nstdout:\n```\nAuto-merging addons/im_livechat/tests/chatbot_common.py\nCONFLICT (content): Merge conflict in addons/im_livechat/tests/chatbot_common.py\nAuto-merging addons/im_livechat/tests/test_message.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 1, 31, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 01:31:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196725.png)](https://mergebot.odoo.com/odoo/odoo/pull/196725)

fw-bot (Issue Creator) on (2025-02-06 01:31:16 UTC): @phamgiang2510 @tsm-odoo cherrypicking of pull request odoo/odoo#174611 failed.

stdout:
```
Auto-merging addons/im_livechat/tests/chatbot_common.py
CONFLICT (content): Merge conflict in addons/im_livechat/tests/chatbot_common.py
Auto-merging addons/im_livechat/tests/test_message.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2834290723,pull_request,closed,,[FW][FIX] account_edi_ubl_cii: Fix some EAS name,"Previous commit ([1]) tried to simplify with less technical names the Peppol EAS but introduced small errors.

[1]: https://github.com/odoo/odoo/commit/5c7eefed412e676c6ddf67f62bce514e5bade44c

task-no

Forward-Port-Of: odoo/odoo#196624",fw-bot,2025-02-06 01:30:56+00:00,[],2025-02-06 12:38:13+00:00,2025-02-06 12:38:13+00:00,https://github.com/odoo/odoo/pull/196724,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638402197, 'issue_id': 2834290723, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196724.png)](https://mergebot.odoo.com/odoo/odoo/pull/196724)', 'created_at': datetime.datetime(2025, 2, 6, 1, 30, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638402265, 'issue_id': 2834290723, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 1, 30, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638690482, 'issue_id': 2834290723, 'author': 'fw-bot', 'body': '@clbr-odoo @gawa-odoo the next pull request (odoo/odoo#196727) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 2, 44, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639379819, 'issue_id': 2834290723, 'author': 'gawa-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 10, 10, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 01:30:57 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196724.png)](https://mergebot.odoo.com/odoo/odoo/pull/196724)

fw-bot (Issue Creator) on (2025-02-06 01:30:58 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-06 02:44:52 UTC): @clbr-odoo @gawa-odoo the next pull request (odoo/odoo#196727) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

gawa-odoo on (2025-02-06 10:10:54 UTC): @robodoo r+

"
2834290101,pull_request,closed,,"[FW][FIX] point_of_sale, pos_self_order: undefined channel name","Prevent subscription to undefined channel name in Self Order.

Forward-Port-Of: odoo/odoo#196637",fw-bot,2025-02-06 01:30:38+00:00,[],2025-02-07 14:01:57+00:00,2025-02-07 14:01:57+00:00,https://github.com/odoo/odoo/pull/196723,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2638401009, 'issue_id': 2834290101, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196723.png)](https://mergebot.odoo.com/odoo/odoo/pull/196723)', 'created_at': datetime.datetime(2025, 2, 6, 1, 30, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638401059, 'issue_id': 2834290101, 'author': 'fw-bot', 'body': '@davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#196637 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js\nAuto-merging addons/point_of_sale/static/src/utils.js\nAuto-merging addons/pos_self_order/static/src/app/services/data_service.js\nCONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/services/data_service.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 1, 30, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642710494, 'issue_id': 2834290101, 'author': 'davidmonnom', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 11, 47, 21, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 01:30:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196723.png)](https://mergebot.odoo.com/odoo/odoo/pull/196723)

fw-bot (Issue Creator) on (2025-02-06 01:30:39 UTC): @davidmonnom @adgu-odoo cherrypicking of pull request odoo/odoo#196637 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/services/data_service.js
Auto-merging addons/point_of_sale/static/src/utils.js
Auto-merging addons/pos_self_order/static/src/app/services/data_service.js
CONFLICT (content): Merge conflict in addons/pos_self_order/static/src/app/services/data_service.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

davidmonnom on (2025-02-07 11:47:21 UTC): @robodoo r+

"
2834262726,pull_request,closed,,[FW][FIX] website: avoid scroll bar flicker when resizing,"Since commit [1], which moved the scroll out of the `#wrapwrap`, when we resize an element, the size of the scroll bar increases suddenly for no apparent reason, creating a flicker effect.

This happens because when we start resizing, a `div` is added at the end of the body, with a `height` set at `100%`. It was added in commit [2], when the website was moved in an iframe, in order for the mouse events to not be absorbed by it.

The scroll bar flicker is therefore due to the addition of this `div` in the body, which makes the page bigger.

Before commit [1], the body had its `overflow` property set to `hidden`, which is why adding the `div` had no visual effect, since it was hidden. (Note that the body has a fixed size, which is the size of the viewport with no overflow.) But with commit [1], this property has been removed, making the `div` appear at the bottom of the page.

To fix this issue, we could simply set this `div` height to `0px` or its `top` position to 0, so it would never overflow the body. But in fact, it appears that this `div` is simply not necessary anymore since commit [3], which restored the overlay computation.

This commit therefore removes the handler in charge of adding this `div` when we start resizing, as it is not needed anymore.

[1]: https://github.com/odoo/odoo/commit/189a7c96e6e26825dc05c0c6466576fe63aa091e
[2]: https://github.com/odoo/odoo/commit/03c552690b15cbf2e7d6b7812386ac64042219af
[3]: https://github.com/odoo/odoo/commit/2ae4e6434112a676c1cfa100e88fd756fe17f000

task-4190506

Forward-Port-Of: odoo/odoo#185163",fw-bot,2025-02-06 01:01:45+00:00,[],2025-02-06 12:09:07+00:00,2025-02-06 12:09:07+00:00,https://github.com/odoo/odoo/pull/196722,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2638371486, 'issue_id': 2834262726, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196722.png)](https://mergebot.odoo.com/odoo/odoo/pull/196722)', 'created_at': datetime.datetime(2025, 2, 6, 1, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638371495, 'issue_id': 2834262726, 'author': 'fw-bot', 'body': '@sobo-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196721\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 1, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639153038, 'issue_id': 2834262726, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 33, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-06 01:01:47 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196722.png)](https://mergebot.odoo.com/odoo/odoo/pull/196722)

fw-bot (Issue Creator) on (2025-02-06 01:01:47 UTC): @sobo-odoo @bvr-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196721

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-06 08:33:16 UTC): @robodoo r+

"
2834181127,pull_request,closed,,[FW][FIX] website: avoid scroll bar flicker when resizing,"Since commit [1], which moved the scroll out of the `#wrapwrap`, when we resize an element, the size of the scroll bar increases suddenly for no apparent reason, creating a flicker effect.

This happens because when we start resizing, a `div` is added at the end of the body, with a `height` set at `100%`. It was added in commit [2], when the website was moved in an iframe, in order for the mouse events to not be absorbed by it.

The scroll bar flicker is therefore due to the addition of this `div` in the body, which makes the page bigger.

Before commit [1], the body had its `overflow` property set to `hidden`, which is why adding the `div` had no visual effect, since it was hidden. (Note that the body has a fixed size, which is the size of the viewport with no overflow.) But with commit [1], this property has been removed, making the `div` appear at the bottom of the page.

To fix this issue, we could simply set this `div` height to `0px` or its `top` position to 0, so it would never overflow the body. But in fact, it appears that this `div` is simply not necessary anymore since commit [3], which restored the overlay computation.

This commit therefore removes the handler in charge of adding this `div` when we start resizing, as it is not needed anymore.

[1]: https://github.com/odoo/odoo/commit/189a7c96e6e26825dc05c0c6466576fe63aa091e
[2]: https://github.com/odoo/odoo/commit/03c552690b15cbf2e7d6b7812386ac64042219af
[3]: https://github.com/odoo/odoo/commit/2ae4e6434112a676c1cfa100e88fd756fe17f000

task-4190506

Forward-Port-Of: odoo/odoo#185163",fw-bot,2025-02-05 23:40:59+00:00,[],2025-02-06 11:10:47+00:00,2025-02-06 11:10:47+00:00,https://github.com/odoo/odoo/pull/196721,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638279916, 'issue_id': 2834181127, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196721.png)](https://mergebot.odoo.com/odoo/odoo/pull/196721)', 'created_at': datetime.datetime(2025, 2, 5, 23, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638280037, 'issue_id': 2834181127, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 23, 41, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 23:41:00 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196721.png)](https://mergebot.odoo.com/odoo/odoo/pull/196721)

fw-bot (Issue Creator) on (2025-02-05 23:41:00 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2834127528,pull_request,closed,,[FW][FIX] project_timesheet_holidays: prevent deletion of public holiday timesheets,"**Issue:**

Users are able to delete timesheets associated with public holidays, unlike regular time off requests

**Steps to Reproduce:**

   - Ensure ""Time Off"" is enabled in the Timesheet settings.
  - Time Off > Configurations > Public Holidays.
  - Create a new public holiday.
  - Timesheet > My Timesheet (list view).
  - Attempt to delete the timesheet entry corresponding to the public holiday.

The entry is deleted without any warning.

opw-4464411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196506
Forward-Port-Of: odoo/odoo#195379",fw-bot,2025-02-05 22:58:08+00:00,[],2025-02-06 13:33:46+00:00,2025-02-06 13:33:46+00:00,https://github.com/odoo/odoo/pull/196720,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2638222508, 'issue_id': 2834127528, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196720.png)](https://mergebot.odoo.com/odoo/odoo/pull/196720)', 'created_at': datetime.datetime(2025, 2, 5, 22, 58, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638222518, 'issue_id': 2834127528, 'author': 'fw-bot', 'body': '@st-yes @xavierbol this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196712\n* odoo/odoo#196708\n* odoo/odoo#196699\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 22, 58, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638281762, 'issue_id': 2834127528, 'author': 'fw-bot', 'body': '@st-yes @xavierbol ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 23, 41, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639271264, 'issue_id': 2834127528, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 31, 40, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 22:58:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196720.png)](https://mergebot.odoo.com/odoo/odoo/pull/196720)

fw-bot (Issue Creator) on (2025-02-05 22:58:10 UTC): @st-yes @xavierbol this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196712
* odoo/odoo#196708
* odoo/odoo#196699

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 23:41:53 UTC): @st-yes @xavierbol ci/runbot failed on this forward-port PR

st-yes on (2025-02-06 09:31:40 UTC): @robodoo r+

"
2834095120,pull_request,open,,[FIX] calendar: correctly create new activities when creating multiple new calendar events from chatter,"To reproduce:
- on a record of a model that inherits mail.activity.mixin, create a new Activity of a 'meeting' type
- open calendar
- create 2 meetings on the calendar
- only the second one is attached to the resource record's chatter

Problem:
When the calendar view is opened, the mail.activity record has already been created, and creating the calendar.event record writes to its calendar_event_id field with the id of the newly created calendar.event. Creating a second calendar.event record in the same view does not create a second mail.activity record, instead it overwrites the calendar_event_id field of the original mail.activity record, overwriting the original calendar.event. This also causes the first calendar.event record to no longer have any associated mail.activity record in its activity_ids field.

Solution:
In the calender.event create() method, modify the condition of whether a new mail.activity record should get created so that it makes a new mail.activity record if the linked mail.activity record already has a calender_event_id

opw-4500292
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",sast-odoo,2025-02-05 22:31:49+00:00,[],2025-02-07 09:47:13+00:00,,https://github.com/odoo/odoo/pull/196719,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2638187273, 'issue_id': 2834095120, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196719.png)](https://mergebot.odoo.com/odoo/odoo/pull/196719)', 'created_at': datetime.datetime(2025, 2, 5, 22, 31, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 22:31:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196719.png)](https://mergebot.odoo.com/odoo/odoo/pull/196719)

"
2834072645,pull_request,open,,[FW][FIX] point_of_sale: customer popup display,"Handle case where customer name is too long causing the customer action buttons inaccessible.

- Put `width` and `text-break` on partner name column.
- Enable overflow-x on the partner modal (so that if the partner infos are too long, its buttons are still accessible).
- Remove weird left/right border on partner line inside customer popup.

task-id: 4547853

Description of the issue/feature this PR addresses:

Current behavior before PR:

Desired behavior after PR is merged:




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196585",fw-bot,2025-02-05 22:17:51+00:00,[],2025-02-07 09:51:18+00:00,,https://github.com/odoo/odoo/pull/196718,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638165840, 'issue_id': 2834072645, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196718.png)](https://mergebot.odoo.com/odoo/odoo/pull/196718)', 'created_at': datetime.datetime(2025, 2, 5, 22, 17, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638165859, 'issue_id': 2834072645, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 22, 17, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638240281, 'issue_id': 2834072645, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 23, 12, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642446529, 'issue_id': 2834072645, 'author': 'fw-bot', 'body': '@manv-afk @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 9, 48, 5, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 22:17:52 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196718.png)](https://mergebot.odoo.com/odoo/odoo/pull/196718)

fw-bot (Issue Creator) on (2025-02-05 22:17:53 UTC): @manv-afk @davidmonnom this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 23:12:05 UTC): @manv-afk @davidmonnom ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-07 09:48:05 UTC): @manv-afk @davidmonnom this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2834072283,pull_request,open,,[FW][FIX] web: disable autocomplete for many2x field input,"Steps:
- Open a task
- Click on ""Tags"" field input

Actual result:
- Autocomplete is there and can hide dropdown (partially or fully)
![image](https://github.com/user-attachments/assets/b72252e5-f276-4571-8c37-970dde7d91b3)

Expected result:
- Autocomplete is really off by default for many2x field
- No autocompletion like before 18.1, we already have one as it's a dropdown

opw-4551051

Caused by: https://github.com/odoo/odoo/commit/9c0f5612e9fab514116e2385338d8fc1ce42b821

Forward-Port-Of: odoo/odoo#196596",fw-bot,2025-02-05 22:17:33+00:00,[],2025-02-07 06:19:33+00:00,,https://github.com/odoo/odoo/pull/196717,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638165375, 'issue_id': 2834072283, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196717.png)](https://mergebot.odoo.com/odoo/odoo/pull/196717)', 'created_at': datetime.datetime(2025, 2, 5, 22, 17, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638165395, 'issue_id': 2834072283, 'author': 'fw-bot', 'body': '@GaetanVandenBergh @kebeclibre this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 22, 17, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638230506, 'issue_id': 2834072283, 'author': 'fw-bot', 'body': '@GaetanVandenBergh @kebeclibre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 23, 4, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642037565, 'issue_id': 2834072283, 'author': 'fw-bot', 'body': '@GaetanVandenBergh @kebeclibre this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 7, 6, 17, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 22:17:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196717.png)](https://mergebot.odoo.com/odoo/odoo/pull/196717)

fw-bot (Issue Creator) on (2025-02-05 22:17:35 UTC): @GaetanVandenBergh @kebeclibre this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 23:04:28 UTC): @GaetanVandenBergh @kebeclibre ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-07 06:17:16 UTC): @GaetanVandenBergh @kebeclibre this PR was modified / updated and has become a normal PR. It must be merged directly.

"
2834071683,pull_request,closed,,[FW][FIX] website: make labels in sidebar translatable,"Some labels in the website editor's sidebar were not translatable, while all the others were.

In this commit we make the following parts translatable:
- The header of the ""Field"" options
- The ""Custom Text"" new field name
- The ""Existing field"" header in the selection list of existing field
- ""Option"", ""Radio"", ""Checkbox"", and ""List"" for list-type fields

[opw-4421055](https://www.odoo.com/odoo/project.task/4421055)

Forward-Port-Of: odoo/odoo#196641
Forward-Port-Of: odoo/odoo#194014",fw-bot,2025-02-05 22:17:04+00:00,[],2025-02-06 15:17:49+00:00,2025-02-06 15:17:45+00:00,https://github.com/odoo/odoo/pull/196716,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2638164902, 'issue_id': 2834071683, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196716.png)](https://mergebot.odoo.com/odoo/odoo/pull/196716)', 'created_at': datetime.datetime(2025, 2, 5, 22, 17, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638164919, 'issue_id': 2834071683, 'author': 'fw-bot', 'body': '@dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.\n\nstdout:\n```\nAuto-merging addons/website/i18n/website.pot\nCONFLICT (content): Merge conflict in addons/website/i18n/website.pot\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 22, 17, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639150375, 'issue_id': 2834071683, 'author': 'dylankiss', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 31, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 22:17:15 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196716.png)](https://mergebot.odoo.com/odoo/odoo/pull/196716)

fw-bot (Issue Creator) on (2025-02-05 22:17:15 UTC): @dylankiss @qsm-odoo cherrypicking of pull request odoo/odoo#194014 failed.

stdout:
```
Auto-merging addons/website/i18n/website.pot
CONFLICT (content): Merge conflict in addons/website/i18n/website.pot

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

dylankiss on (2025-02-06 08:31:56 UTC): @robodoo r+

"
2834070535,pull_request,closed,,[FW][FIX] stock: wrong result_package_id,"When forcefully unreserving then reserving products coming from a same package for multiple pickings, the source package is wrongly propagated as destination package on the multiple pickings.

To reproduce:
 - `-i sale_stock,sale_management`
 - Create a storable product (I) with 30 qty on hand
 - Create and confirm an internal transfer to put the product I in a pack (P)
 - Create and confirm two SO :
   - Sell 10 I
   - Sell 20 I
 - Check the 2 SO delivery pickings (D):
   - Each are reserved from pack P
   - They don't have any 'Destination Package' [Expected]
 - From the picking list view, by selecting the 2 pickings D :
   - 'Unreserve' them both
   - 'Check Availability' them both
 - Check the pickings D:
   - Each are reserved from pack P
   - Each have 'Destination Package' P [Faulty]

opw-4272573
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193745",fw-bot,2025-02-05 22:16:09+00:00,[],2025-02-06 15:18:14+00:00,2025-02-06 15:18:13+00:00,https://github.com/odoo/odoo/pull/196715,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2638163325, 'issue_id': 2834070535, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196715.png)](https://mergebot.odoo.com/odoo/odoo/pull/196715)', 'created_at': datetime.datetime(2025, 2, 5, 22, 16, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638163343, 'issue_id': 2834070535, 'author': 'fw-bot', 'body': '@mama-odoo @svs-odoo this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196711\n* odoo/odoo#196701\n* odoo/odoo#196691\n* odoo/odoo#196681\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 22, 16, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638231583, 'issue_id': 2834070535, 'author': 'fw-bot', 'body': '@mama-odoo @svs-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 23, 5, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639449886, 'issue_id': 2834070535, 'author': 'mama-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 10, 40, 23, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 22:16:10 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196715.png)](https://mergebot.odoo.com/odoo/odoo/pull/196715)

fw-bot (Issue Creator) on (2025-02-05 22:16:10 UTC): @mama-odoo @svs-odoo this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196711
* odoo/odoo#196701
* odoo/odoo#196691
* odoo/odoo#196681

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 23:05:16 UTC): @mama-odoo @svs-odoo ci/runbot failed on this forward-port PR

mama-odoo on (2025-02-06 10:40:23 UTC): @robodoo r+

"
2834040922,pull_request,closed,,[FW][FIX] mail: fix scheduled message cron infinitely failing,"Purpose:
--------
Currently, when posting a scheduled message failed due to an error,
the cron interrupts and will attempt to resend the message on each of its
subsequent runs and fail again, preventing any scheduled message to be
posted.

This commit changes the cron behavior to catch any exceptions raised during
message posting, notify the author of the message about the failure, and
delete the failed scheduled message. This prevents infinite retry attempts.

The notification to the author of the scheduled message contains the content
of the scheduled message. The rationale is that the posting might fail
because the user does not have access to the record it will be posted on
anymore, and won't be able to see the scheduled message again.

The scheduled messages will now be unlinked when unlinking the record on
which they are scheduled.

Task-4531402

Forward-Port-Of: odoo/odoo#195964",fw-bot,2025-02-05 21:57:30+00:00,[],2025-02-06 18:26:22+00:00,2025-02-06 18:26:22+00:00,https://github.com/odoo/odoo/pull/196713,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2638111097, 'issue_id': 2834040922, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196713.png)](https://mergebot.odoo.com/odoo/odoo/pull/196713)', 'created_at': datetime.datetime(2025, 2, 5, 21, 57, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638111108, 'issue_id': 2834040922, 'author': 'fw-bot', 'body': '@schoffeniels @tde-banana-odoo cherrypicking of pull request odoo/odoo#195964 failed.\n\n* 2abc8bee171ea9c9af3244ea75a6be4f97888d8a\n* dc8e6fdb18d6e2011f1333342546c390e629e83e <- on this commit\n\nstdout:\n```\nAuto-merging addons/mail/i18n/mail.pot\nCONFLICT (content): Merge conflict in addons/mail/i18n/mail.pot\nAuto-merging addons/mail/models/mail_scheduled_message.py\nCONFLICT (content): Merge conflict in addons/mail/models/mail_scheduled_message.py\nAuto-merging addons/test_mail/tests/test_mail_scheduled_message.py\nCONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_scheduled_message.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 21, 57, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640362942, 'issue_id': 2834040922, 'author': 'schoffeniels', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 16, 37, 36, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 21:57:31 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196713.png)](https://mergebot.odoo.com/odoo/odoo/pull/196713)

fw-bot (Issue Creator) on (2025-02-05 21:57:31 UTC): @schoffeniels @tde-banana-odoo cherrypicking of pull request odoo/odoo#195964 failed.

* 2abc8bee171ea9c9af3244ea75a6be4f97888d8a
* dc8e6fdb18d6e2011f1333342546c390e629e83e <- on this commit

stdout:
```
Auto-merging addons/mail/i18n/mail.pot
CONFLICT (content): Merge conflict in addons/mail/i18n/mail.pot
Auto-merging addons/mail/models/mail_scheduled_message.py
CONFLICT (content): Merge conflict in addons/mail/models/mail_scheduled_message.py
Auto-merging addons/test_mail/tests/test_mail_scheduled_message.py
CONFLICT (content): Merge conflict in addons/test_mail/tests/test_mail_scheduled_message.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

schoffeniels on (2025-02-06 16:37:36 UTC): @robodoo r+

"
2834007480,pull_request,closed,,[FW][FIX] project_timesheet_holidays: prevent deletion of public holiday timesheets,"**Issue:**

Users are able to delete timesheets associated with public holidays, unlike regular time off requests

**Steps to Reproduce:**

   - Ensure ""Time Off"" is enabled in the Timesheet settings.
  - Time Off > Configurations > Public Holidays.
  - Create a new public holiday.
  - Timesheet > My Timesheet (list view).
  - Attempt to delete the timesheet entry corresponding to the public holiday.

The entry is deleted without any warning.

opw-4464411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196506
Forward-Port-Of: odoo/odoo#195379",fw-bot,2025-02-05 21:35:17+00:00,[],2025-02-06 11:11:05+00:00,2025-02-06 11:11:05+00:00,https://github.com/odoo/odoo/pull/196712,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2638075123, 'issue_id': 2834007480, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196712.png)](https://mergebot.odoo.com/odoo/odoo/pull/196712)', 'created_at': datetime.datetime(2025, 2, 5, 21, 35, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638075143, 'issue_id': 2834007480, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 21, 35, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639195498, 'issue_id': 2834007480, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 54, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 21:35:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196712.png)](https://mergebot.odoo.com/odoo/odoo/pull/196712)

fw-bot (Issue Creator) on (2025-02-05 21:35:19 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-02-06 08:54:00 UTC): @robodoo r+

"
2833935529,pull_request,closed,,[FW][FIX] stock: wrong result_package_id,"When forcefully unreserving then reserving products coming from a same package for multiple pickings, the source package is wrongly propagated as destination package on the multiple pickings.

To reproduce:
 - `-i sale_stock,sale_management`
 - Create a storable product (I) with 30 qty on hand
 - Create and confirm an internal transfer to put the product I in a pack (P)
 - Create and confirm two SO :
   - Sell 10 I
   - Sell 20 I
 - Check the 2 SO delivery pickings (D):
   - Each are reserved from pack P
   - They don't have any 'Destination Package' [Expected]
 - From the picking list view, by selecting the 2 pickings D :
   - 'Unreserve' them both
   - 'Check Availability' them both
 - Check the pickings D:
   - Each are reserved from pack P
   - Each have 'Destination Package' P [Faulty]

opw-4272573
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193745",fw-bot,2025-02-05 20:50:07+00:00,[],2025-02-06 12:38:29+00:00,2025-02-06 12:38:29+00:00,https://github.com/odoo/odoo/pull/196711,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637994287, 'issue_id': 2833935529, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196711.png)](https://mergebot.odoo.com/odoo/odoo/pull/196711)', 'created_at': datetime.datetime(2025, 2, 5, 20, 50, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637994299, 'issue_id': 2833935529, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 20, 50, 9, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 20:50:09 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196711.png)](https://mergebot.odoo.com/odoo/odoo/pull/196711)

fw-bot (Issue Creator) on (2025-02-05 20:50:09 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833915225,pull_request,closed,,[FW][IMP] point_of_sale:  increase preparation ticket text size,"This commit increases the text size of the ordered product and notes on the preparation ticket, ensuring better readability.

task-4535901

Forward-Port-Of: odoo/odoo#196532
Forward-Port-Of: odoo/odoo#196151",fw-bot,2025-02-05 20:37:52+00:00,[],2025-02-06 15:17:56+00:00,2025-02-06 15:17:54+00:00,https://github.com/odoo/odoo/pull/196710,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR'), ('18.2', None)]","[{'comment_id': 2637972600, 'issue_id': 2833915225, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196710.png)](https://mergebot.odoo.com/odoo/odoo/pull/196710)', 'created_at': datetime.datetime(2025, 2, 5, 20, 37, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637972621, 'issue_id': 2833915225, 'author': 'fw-bot', 'body': '@stva-odoo @davidmonnom cherrypicking of pull request odoo/odoo#196151 failed.\n\nstdout:\n```\nAuto-merging addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml\nCONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 20, 37, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639331155, 'issue_id': 2833915225, 'author': 'stva-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 51, 39, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 20:37:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196710.png)](https://mergebot.odoo.com/odoo/odoo/pull/196710)

fw-bot (Issue Creator) on (2025-02-05 20:37:54 UTC): @stva-odoo @davidmonnom cherrypicking of pull request odoo/odoo#196151 failed.

stdout:
```
Auto-merging addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml
CONFLICT (content): Merge conflict in addons/point_of_sale/static/src/app/store/order_change_receipt_template.xml

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

stva-odoo on (2025-02-06 09:51:39 UTC): @robodoo r+

"
2833914796,pull_request,closed,,[FW][FIX] mrp: fix traceback when clicking overview of a MO,"Currently, a traceback appears when the user opens 'Overview' of a canceled 'Manufacturing Order'.

To reproduce this issue:

1) Install MRP
2) Create a new Manufacturing Order record
3) Give a `product` with a `Quantity` more than the `On hand` quantity of that product 
4) Add a product in the Component with the `To consume` value more than
   the On Hand quantity of that product
5) Click on the `Cancel` button then Click the `Overview` button

Error:-
```
TypeError: can't compare datetime.datetime to datetime.date
```

This error is occurring because of the recent changes from the below.

https://github.com/odoo/odoo/pull/184928/files#diff-a889e57d7462d595b2a3e056dc37237c9ab73d43c42458b52288733ae84aca73L609-R609

Initially, it was `datetime.datetime`, But recently it was changed to the `datetime.date`.
This leads to the above traceback when a comparison is made between 
`datetime.datetime` and `datetime.date` from the below lines

https://github.com/odoo/odoo/blob/cb96e9133590e07880f0e98b21486d578caecd3a/addons/mrp/report/mrp_report_mo_overview.py#L583

sentry-6250719075

Forward-Port-Of: odoo/odoo#196566",fw-bot,2025-02-05 20:37:33+00:00,[],2025-02-06 05:40:34+00:00,2025-02-06 05:40:34+00:00,https://github.com/odoo/odoo/pull/196709,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637972080, 'issue_id': 2833914796, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196709.png)](https://mergebot.odoo.com/odoo/odoo/pull/196709)', 'created_at': datetime.datetime(2025, 2, 5, 20, 37, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637972098, 'issue_id': 2833914796, 'author': 'fw-bot', 'body': '@alsh-odoo @adwid this PR targets master and is the last of the forward-port chain.\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 20, 37, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638801671, 'issue_id': 2833914796, 'author': 'alsh-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 4, 34, 16, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 20:37:35 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196709.png)](https://mergebot.odoo.com/odoo/odoo/pull/196709)

fw-bot (Issue Creator) on (2025-02-05 20:37:35 UTC): @alsh-odoo @adwid this PR targets master and is the last of the forward-port chain.

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

alsh-odoo on (2025-02-06 04:34:16 UTC): @robodoo r+

"
2833883383,pull_request,closed,,[FW][FIX] project_timesheet_holidays: prevent deletion of public holiday timesheets,"**Issue:**

Users are able to delete timesheets associated with public holidays, unlike regular time off requests

**Steps to Reproduce:**

   - Ensure ""Time Off"" is enabled in the Timesheet settings.
  - Time Off > Configurations > Public Holidays.
  - Create a new public holiday.
  - Timesheet > My Timesheet (list view).
  - Attempt to delete the timesheet entry corresponding to the public holiday.

The entry is deleted without any warning.

opw-4464411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196506
Forward-Port-Of: odoo/odoo#195379",fw-bot,2025-02-05 20:18:39+00:00,[],2025-02-06 10:43:52+00:00,2025-02-06 10:43:51+00:00,https://github.com/odoo/odoo/pull/196708,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637939187, 'issue_id': 2833883383, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196708.png)](https://mergebot.odoo.com/odoo/odoo/pull/196708)', 'created_at': datetime.datetime(2025, 2, 5, 20, 18, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637939203, 'issue_id': 2833883383, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 20, 18, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639192858, 'issue_id': 2833883383, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 53, 28, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 20:18:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196708.png)](https://mergebot.odoo.com/odoo/odoo/pull/196708)

fw-bot (Issue Creator) on (2025-02-05 20:18:43 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-02-06 08:53:28 UTC): @robodoo r+

"
2833881856,pull_request,closed,,[FW][FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535

Forward-Port-Of: odoo/odoo#196486
Forward-Port-Of: odoo/odoo#196433",fw-bot,2025-02-05 20:17:45+00:00,[],2025-02-06 12:09:11+00:00,2025-02-06 12:09:11+00:00,https://github.com/odoo/odoo/pull/196707,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637937578, 'issue_id': 2833881856, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196707.png)](https://mergebot.odoo.com/odoo/odoo/pull/196707)', 'created_at': datetime.datetime(2025, 2, 5, 20, 17, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637937598, 'issue_id': 2833881856, 'author': 'fw-bot', 'body': '@bvr-odoo @SergeBayet this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196698\n* odoo/odoo#196686\n* odoo/odoo#196675\n* odoo/odoo#196661\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 20, 17, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639160235, 'issue_id': 2833881856, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 36, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 20:17:46 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196707.png)](https://mergebot.odoo.com/odoo/odoo/pull/196707)

fw-bot (Issue Creator) on (2025-02-05 20:17:47 UTC): @bvr-odoo @SergeBayet this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196698
* odoo/odoo#196686
* odoo/odoo#196675
* odoo/odoo#196661

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

bvr-odoo on (2025-02-06 08:36:53 UTC): @robodoo r+

"
2833863033,pull_request,open,,[FIX] hr_recruitment: Reset referral state when restoring applicant.,"Description of the issue/feature this PR addresses:

The `reset_applicant` method previously did not reset the `referral_state` to `'progress'`, causing the referral page to incorrectly display the applicant as ""not hired"" even when their actual state was ongoing.

This commit explicitly sets `referral_state` to `'progress'` to ensure proper state management when an applicant is restored.

opw-4523156

Related commit: f48ae97c2cadcdc085d32be25be365fdbb5605ef

Current behavior before PR:

Refuse an applicant and restore it, go to the referral app, the state will be displayed as not hired instead of ongoing

Desired behavior after PR is merged:

It should display as ongoing


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",fame-odoo,2025-02-05 20:08:59+00:00,[],2025-02-06 01:09:04+00:00,,https://github.com/odoo/odoo/pull/196706,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2637921772, 'issue_id': 2833863033, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196706.png)](https://mergebot.odoo.com/odoo/odoo/pull/196706)', 'created_at': datetime.datetime(2025, 2, 5, 20, 9, 3, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 20:09:03 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196706.png)](https://mergebot.odoo.com/odoo/odoo/pull/196706)

"
2833838278,pull_request,closed,,"[FW][FIX] mrp{,_workorder}: ignore move raws without demand in reservation state","### Issue:

Curently, the reservation state of a production is computed from the status of the move raws that are not picked. This includes moves wihtout demands which should not infer with the reservation state at all.

### Steps to reproduce:

- In the settings, Enable ""Multi-Step Routes""
- Go to Inventory > Configuration > Warehouse Management > Warehouses
- Put your warehouse in 2 steps-manufacturing
- Create a final product (FP) tracked by Serial number, and 2 storable components: COMP1 and COMP2
- Create a BOM for FP:
  - Component lines:
    - 1 x COMP1
    - 0 x COMP2 !!
  - Operations:
    - OP1 with an instruction of type ""register production""
1. Create an MO for 1 x FP > Confirm
2. Validate the pick transfer for 1 unit of COMP1
> Currently OP1 is marked as ready
3. Mark the component line of COMP1 as ""picked""
#### > OP1 is in waiting status
Same result as 3:
3'. Go to the shopfloor > register production from the MO card
#### > This will pick the COMP1 raw move and OP1 will disappear because of the ""ready"" filter

### Cause of the issue:

Since you manufacture in 2 steps, the state of the raw move of COMP2 is waiting even though its demand is 0 (before and after you validated the pick move for COMP1). However, only non picked moves are considered to be relevant in the computation of the reservation state of the MO: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_production.py#L613-L621 Once you pick the COMP1 move which should be the only relevant one the reservation state of the MO becomes computed solely based on the state of the COMP2 raw move and becomes ""waiting"". In turns, this triggers a recomputation of the state of the workorders and flagging it as waiting: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_workorder.py#L148-L165

opw-4383004

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196517
Forward-Port-Of: odoo/odoo#196388",fw-bot,2025-02-05 19:54:50+00:00,[],2025-02-07 13:41:57+00:00,2025-02-07 13:41:57+00:00,https://github.com/odoo/odoo/pull/196705,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637896037, 'issue_id': 2833838278, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196705.png)](https://mergebot.odoo.com/odoo/odoo/pull/196705)', 'created_at': datetime.datetime(2025, 2, 5, 19, 54, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637896114, 'issue_id': 2833838278, 'author': 'fw-bot', 'body': '@lase-odoo @Whenrow this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196695\n* odoo/odoo#196682\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 54, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642511793, 'issue_id': 2833838278, 'author': 'lase-odoo', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 7, 10, 18, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:54:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196705.png)](https://mergebot.odoo.com/odoo/odoo/pull/196705)

fw-bot (Issue Creator) on (2025-02-05 19:54:54 UTC): @lase-odoo @Whenrow this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196695
* odoo/odoo#196682

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

lase-odoo on (2025-02-07 10:18:51 UTC): robodoo r+

"
2833835762,pull_request,closed,,"[FIX] survey: make ""Votes"" translatable","In the survey stats, the number of votes for a multiple choice answer displayed the label ""Votes"" without it being translatable.

This commit makes it translatable.

[task-4421055](https://www.odoo.com/odoo/project.task/4421055)",dylankiss,2025-02-05 19:53:19+00:00,[],2025-02-06 16:48:32+00:00,2025-02-06 16:48:32+00:00,https://github.com/odoo/odoo/pull/196704,"[('RD', 'research & development, internal work')]","[{'comment_id': 2637893274, 'issue_id': 2833835762, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196704.png)](https://mergebot.odoo.com/odoo/odoo/pull/196704)', 'created_at': datetime.datetime(2025, 2, 5, 19, 53, 22, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:53:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196704.png)](https://mergebot.odoo.com/odoo/odoo/pull/196704)

"
2833820357,pull_request,closed,,[FW][FIX] l10n_de: correct extension for detached files,"Fixes an issue with the renaming of the attachment after detaching to not change the extension.

task-4500319

Forward-Port-Of: odoo/odoo#196456",fw-bot,2025-02-05 19:45:20+00:00,[],2025-02-06 10:32:09+00:00,2025-02-06 10:32:09+00:00,https://github.com/odoo/odoo/pull/196703,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637876902, 'issue_id': 2833820357, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196703.png)](https://mergebot.odoo.com/odoo/odoo/pull/196703)', 'created_at': datetime.datetime(2025, 2, 5, 19, 45, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637876919, 'issue_id': 2833820357, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 45, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637956480, 'issue_id': 2833820357, 'author': 'fw-bot', 'body': '@alialfie @william-andre ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 20, 28, 53, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:45:21 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196703.png)](https://mergebot.odoo.com/odoo/odoo/pull/196703)

fw-bot (Issue Creator) on (2025-02-05 19:45:22 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 20:28:53 UTC): @alialfie @william-andre ci/runbot failed on this forward-port PR

"
2833819245,pull_request,closed,,[FW][IMP] payment: disable post-processing cron when no provider enabled,"The payment post-processing cron is run every 10 minutes to ensure smooth operations, but waking up crons incurs a non-negligible performance cost.

Since the `payment` module is automatically installed with the `account` module, most databases have the `payment` module installed with its cron, even if they didn't enable any provider.

This commit disables the cron until a provider is enabled.

task-4467217

Forward-Port-Of: odoo/odoo#195482",fw-bot,2025-02-05 19:44:41+00:00,[],2025-02-06 13:55:36+00:00,2025-02-06 13:55:36+00:00,https://github.com/odoo/odoo/pull/196702,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637875585, 'issue_id': 2833819245, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196702.png)](https://mergebot.odoo.com/odoo/odoo/pull/196702)', 'created_at': datetime.datetime(2025, 2, 5, 19, 44, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637875663, 'issue_id': 2833819245, 'author': 'fw-bot', 'body': '@Feyensv @AntoineVDV cherrypicking of pull request odoo/odoo#195482 failed.\n\nstdout:\n```\nAuto-merging addons/payment/data/payment_cron.xml\nCONFLICT (content): Merge conflict in addons/payment/data/payment_cron.xml\nAuto-merging addons/payment/models/payment_provider.py\nAuto-merging addons/payment/tests/test_payment_provider.py\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 44, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639298816, 'issue_id': 2833819245, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 39, 58, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:44:42 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196702.png)](https://mergebot.odoo.com/odoo/odoo/pull/196702)

fw-bot (Issue Creator) on (2025-02-05 19:44:44 UTC): @Feyensv @AntoineVDV cherrypicking of pull request odoo/odoo#195482 failed.

stdout:
```
Auto-merging addons/payment/data/payment_cron.xml
CONFLICT (content): Merge conflict in addons/payment/data/payment_cron.xml
Auto-merging addons/payment/models/payment_provider.py
Auto-merging addons/payment/tests/test_payment_provider.py

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-02-06 09:39:58 UTC): @robodoo r+

"
2833812141,pull_request,closed,,[FW][FIX] stock: wrong result_package_id,"When forcefully unreserving then reserving products coming from a same package for multiple pickings, the source package is wrongly propagated as destination package on the multiple pickings.

To reproduce:
 - `-i sale_stock,sale_management`
 - Create a storable product (I) with 30 qty on hand
 - Create and confirm an internal transfer to put the product I in a pack (P)
 - Create and confirm two SO :
   - Sell 10 I
   - Sell 20 I
 - Check the 2 SO delivery pickings (D):
   - Each are reserved from pack P
   - They don't have any 'Destination Package' [Expected]
 - From the picking list view, by selecting the 2 pickings D :
   - 'Unreserve' them both
   - 'Check Availability' them both
 - Check the pickings D:
   - Each are reserved from pack P
   - Each have 'Destination Package' P [Faulty]

opw-4272573
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193745",fw-bot,2025-02-05 19:40:50+00:00,[],2025-02-06 12:17:27+00:00,2025-02-06 12:17:27+00:00,https://github.com/odoo/odoo/pull/196701,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637868290, 'issue_id': 2833812141, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196701.png)](https://mergebot.odoo.com/odoo/odoo/pull/196701)', 'created_at': datetime.datetime(2025, 2, 5, 19, 40, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637868314, 'issue_id': 2833812141, 'author': 'fw-bot', 'body': 'This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 40, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:40:51 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196701.png)](https://mergebot.odoo.com/odoo/odoo/pull/196701)

fw-bot (Issue Creator) on (2025-02-05 19:40:52 UTC): This PR targets 18.0 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833792448,pull_request,closed,,[FW][FIX] payment_adyen: log refusal reason for refused payments,"Versions
--------
- 17.0+

Steps
-----
1. Enable Adyen as payment provider in test mode;
2. do an eCommerce checkout;
3. select Adyen as payment option;
4. use the following card details[^1]:
    - card number: 4111111111111111
    - expiry: 03/30
    - cvc: 737
    - name on card: CARD_EXPIRED
5. click Pay Now;
6. check order chatter on the backend.

Issue
-----
> Error: Adyen: Received data with invalid payment state: Refused

Refusal shouldn't be an invalid payment state.

Cause
-----
Commit 04f75728fd3e accidentally removed an `elif` branch that was added by commit 4d340a330462e specifically to handle refused payments.

Solution
--------
Re-add the `elif` branch.

opw-4481602

[^1]: https://docs.adyen.com/development-resources/testing/result-codes#values-for-testing-result-reasons

Forward-Port-Of: odoo/odoo#196394",fw-bot,2025-02-05 19:29:58+00:00,[],2025-02-06 13:33:53+00:00,2025-02-06 13:33:53+00:00,https://github.com/odoo/odoo/pull/196700,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot'), ('18.2', None)]","[{'comment_id': 2637847706, 'issue_id': 2833792448, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196700.png)](https://mergebot.odoo.com/odoo/odoo/pull/196700)', 'created_at': datetime.datetime(2025, 2, 5, 19, 29, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637847720, 'issue_id': 2833792448, 'author': 'fw-bot', 'body': '@lvsz @Demesmaeker this PR targets master and is the last of the forward-port chain containing:\n* odoo/odoo#196689\n* odoo/odoo#196680\n* odoo/odoo#196666\n* odoo/odoo#196636\n\nTo merge the full chain, use\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 29, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639268244, 'issue_id': 2833792448, 'author': 'Demesmaeker', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 29, 56, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:29:59 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196700.png)](https://mergebot.odoo.com/odoo/odoo/pull/196700)

fw-bot (Issue Creator) on (2025-02-05 19:29:59 UTC): @lvsz @Demesmaeker this PR targets master and is the last of the forward-port chain containing:
* odoo/odoo#196689
* odoo/odoo#196680
* odoo/odoo#196666
* odoo/odoo#196636

To merge the full chain, use

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Demesmaeker on (2025-02-06 09:29:56 UTC): @robodoo r+

"
2833760659,pull_request,closed,,[FW][FIX] project_timesheet_holidays: prevent deletion of public holiday timesheets,"**Issue:**

Users are able to delete timesheets associated with public holidays, unlike regular time off requests

**Steps to Reproduce:**

   - Ensure ""Time Off"" is enabled in the Timesheet settings.
  - Time Off > Configurations > Public Holidays.
  - Create a new public holiday.
  - Timesheet > My Timesheet (list view).
  - Attempt to delete the timesheet entry corresponding to the public holiday.

The entry is deleted without any warning.

opw-4464411

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196506
Forward-Port-Of: odoo/odoo#195379",fw-bot,2025-02-05 19:12:52+00:00,[],2025-02-06 10:32:13+00:00,2025-02-06 10:32:13+00:00,https://github.com/odoo/odoo/pull/196699,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637811718, 'issue_id': 2833760659, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196699.png)](https://mergebot.odoo.com/odoo/odoo/pull/196699)', 'created_at': datetime.datetime(2025, 2, 5, 19, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637811733, 'issue_id': 2833760659, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 12, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639190797, 'issue_id': 2833760659, 'author': 'st-yes', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 8, 52, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:12:53 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196699.png)](https://mergebot.odoo.com/odoo/odoo/pull/196699)

fw-bot (Issue Creator) on (2025-02-05 19:12:54 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

st-yes on (2025-02-06 08:52:42 UTC): @robodoo r+

"
2833744161,pull_request,closed,,[FW][FIX] website: disable arrow keys to slide carousel in edit mode,"Steps to reproduce:

- Enter edit mode.
- Drag and drop a carousel into the page.
- Use the arrow keys to slide the carousel.
- Bug: a traceback occurs.

Just like we disabled Bootstrap for sliding the carousel in edit mode and instead handle it manually (see this commit [1]), in this commit, we also disable sliding the carousel by pressing the left and right arrow keys on the keyboard.

[1]: https://github.com/odoo/odoo/commit/93ec3ac285dc9ffd363e185a1dc238c6135d79dd

opw-4373535

Forward-Port-Of: odoo/odoo#196486
Forward-Port-Of: odoo/odoo#196433",fw-bot,2025-02-05 19:04:10+00:00,[],2025-02-06 11:10:54+00:00,2025-02-06 11:10:54+00:00,https://github.com/odoo/odoo/pull/196698,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637790970, 'issue_id': 2833744161, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196698.png)](https://mergebot.odoo.com/odoo/odoo/pull/196698)', 'created_at': datetime.datetime(2025, 2, 5, 19, 4, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637790990, 'issue_id': 2833744161, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 4, 12, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 19:04:11 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196698.png)](https://mergebot.odoo.com/odoo/odoo/pull/196698)

fw-bot (Issue Creator) on (2025-02-05 19:04:12 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833727649,pull_request,closed,,[FW][FIX] website_blog: fix very long list of blogs in navbar,"Steps to reproduce:

- Go to the ""/blog"" page.
- Click on ""Configuration > Blogs"" in the main navbar.
- Create at least 15 new blogs with ""Astronomy"" as the name.
- Go back to the ""/blog"" page.
- Bug: The navbar overflows the page to the right, causing a horizontal
scrollbar to appear.

After this commit, the navbar no longer overflows, and the list items
are displayed on multiple lines.

[opw-4507558](https://www.odoo.com/web#id=4507558&cids=1&menu_id=4720&action=333&active_id=1695&model=project.task&view_type=form)

Forward-Port-Of: odoo/odoo#196452
Forward-Port-Of: odoo/odoo#195859",fw-bot,2025-02-05 18:56:54+00:00,[],2025-02-06 11:11:12+00:00,2025-02-06 11:11:12+00:00,https://github.com/odoo/odoo/pull/196697,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637767564, 'issue_id': 2833727649, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196697.png)](https://mergebot.odoo.com/odoo/odoo/pull/196697)', 'created_at': datetime.datetime(2025, 2, 5, 18, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637767586, 'issue_id': 2833727649, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637885995, 'issue_id': 2833727649, 'author': 'fw-bot', 'body': '@bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 19, 50, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639211934, 'issue_id': 2833727649, 'author': 'bvr-odoo', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 2, 42, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:56:55 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196697.png)](https://mergebot.odoo.com/odoo/odoo/pull/196697)

fw-bot (Issue Creator) on (2025-02-05 18:56:55 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 19:50:04 UTC): @bvr-odoo @qsm-odoo ci/runbot failed on this forward-port PR

bvr-odoo on (2025-02-06 09:02:42 UTC): @robodoo r+

"
2833706601,pull_request,closed,,[FW][FIX] web_editor: preserve spaces in composed CSS values,"**Problem**:
Removing spaces impacts composed values like
(`padding: 10px 20px` → `padding: 10px20px`), making them invalid.

**Solution**:
Replace multiple spaces with a single space instead of removing them, to ensure composed values remain intact.

**Steps to Reproduce**:
1. Open Email Templates > any template.
2. Add `padding: 10px 20px` to a `tr` element.
3. Save the template.
4. Observe that padding is not applied.

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196564
Forward-Port-Of: odoo/odoo#196376",fw-bot,2025-02-05 18:47:37+00:00,[],2025-02-06 09:42:10+00:00,2025-02-06 09:42:10+00:00,https://github.com/odoo/odoo/pull/196696,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637746435, 'issue_id': 2833706601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196696.png)](https://mergebot.odoo.com/odoo/odoo/pull/196696)', 'created_at': datetime.datetime(2025, 2, 5, 18, 47, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637746454, 'issue_id': 2833706601, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 47, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637805786, 'issue_id': 2833706601, 'author': 'fw-bot', 'body': '@walidsahli @dmo-odoo ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 19, 11, 4, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:47:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196696.png)](https://mergebot.odoo.com/odoo/odoo/pull/196696)

fw-bot (Issue Creator) on (2025-02-05 18:47:39 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 19:11:04 UTC): @walidsahli @dmo-odoo ci/runbot failed on this forward-port PR

"
2833699501,pull_request,closed,,"[FW][FIX] mrp{,_workorder}: ignore move raws without demand in reservation state","### Issue:

Curently, the reservation state of a production is computed from the status of the move raws that are not picked. This includes moves wihtout demands which should not infer with the reservation state at all.

### Steps to reproduce:

- In the settings, Enable ""Multi-Step Routes""
- Go to Inventory > Configuration > Warehouse Management > Warehouses
- Put your warehouse in 2 steps-manufacturing
- Create a final product (FP) tracked by Serial number, and 2 storable components: COMP1 and COMP2
- Create a BOM for FP:
  - Component lines:
    - 1 x COMP1
    - 0 x COMP2 !!
  - Operations:
    - OP1 with an instruction of type ""register production""
1. Create an MO for 1 x FP > Confirm
2. Validate the pick transfer for 1 unit of COMP1
> Currently OP1 is marked as ready
3. Mark the component line of COMP1 as ""picked""
#### > OP1 is in waiting status
Same result as 3:
3'. Go to the shopfloor > register production from the MO card
#### > This will pick the COMP1 raw move and OP1 will disappear because of the ""ready"" filter

### Cause of the issue:

Since you manufacture in 2 steps, the state of the raw move of COMP2 is waiting even though its demand is 0 (before and after you validated the pick move for COMP1). However, only non picked moves are considered to be relevant in the computation of the reservation state of the MO: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_production.py#L613-L621 Once you pick the COMP1 move which should be the only relevant one the reservation state of the MO becomes computed solely based on the state of the COMP2 raw move and becomes ""waiting"". In turns, this triggers a recomputation of the state of the workorders and flagging it as waiting: https://github.com/odoo/odoo/blob/d8fc04f5875dbd3098e58f382d0cea3c7c7c38af/addons/mrp/models/mrp_workorder.py#L148-L165

opw-4383004

---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196517
Forward-Port-Of: odoo/odoo#196388",fw-bot,2025-02-05 18:43:49+00:00,[],2025-02-07 12:39:19+00:00,2025-02-07 12:39:19+00:00,https://github.com/odoo/odoo/pull/196695,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637739059, 'issue_id': 2833699501, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196695.png)](https://mergebot.odoo.com/odoo/odoo/pull/196695)', 'created_at': datetime.datetime(2025, 2, 5, 18, 43, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637739079, 'issue_id': 2833699501, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 43, 51, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:43:50 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196695.png)](https://mergebot.odoo.com/odoo/odoo/pull/196695)

fw-bot (Issue Creator) on (2025-02-05 18:43:51 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833682388,pull_request,closed,,[FIX] hr_recruitment: Reset referral state when restoring applicant.,"Description of the issue/feature this PR addresses:

The `reset_applicant` method previously did not reset the `referral_state` to `'progress'`, causing the referral page to incorrectly display the applicant as ""not hired"" even when their actual state was ongoing.

This commit explicitly sets `referral_state` to `'progress'` to ensure proper state management when an applicant is restored.

opw-4523156

Related commit: f48ae97c2cadcdc085d32be25be365fdbb5605ef

Current behavior before PR:

Refuse an applicant and restore it, go to the referral app, the state will be displayed as not hired instead of ongoing

Desired behavior after PR is merged:

It should display as ongoing


---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr
",fame-odoo,2025-02-05 18:35:04+00:00,[],2025-02-05 20:09:43+00:00,2025-02-05 19:45:49+00:00,https://github.com/odoo/odoo/pull/196694,"[('OE', 'the report is linked to a support ticket (opw-...)')]","[{'comment_id': 2637721440, 'issue_id': 2833682388, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196694.png)](https://mergebot.odoo.com/odoo/odoo/pull/196694)', 'created_at': datetime.datetime(2025, 2, 5, 18, 35, 8, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:35:08 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196694.png)](https://mergebot.odoo.com/odoo/odoo/pull/196694)

"
2833665645,pull_request,closed,,[FW][IMP] payment: disable post-processing cron when no provider enabled,"The payment post-processing cron is run every 10 minutes to ensure smooth operations, but waking up crons incurs a non-negligible performance cost.

Since the `payment` module is automatically installed with the `account` module, most databases have the `payment` module installed with its cron, even if they didn't enable any provider.

This commit disables the cron until a provider is enabled.

task-4467217

Forward-Port-Of: odoo/odoo#195482",fw-bot,2025-02-05 18:27:17+00:00,[],2025-02-06 13:44:40+00:00,2025-02-06 13:44:40+00:00,https://github.com/odoo/odoo/pull/196693,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637705554, 'issue_id': 2833665645, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196693.png)](https://mergebot.odoo.com/odoo/odoo/pull/196693)', 'created_at': datetime.datetime(2025, 2, 5, 18, 27, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637705576, 'issue_id': 2833665645, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 27, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637875610, 'issue_id': 2833665645, 'author': 'fw-bot', 'body': '@Feyensv @AntoineVDV the next pull request (odoo/odoo#196702) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 19, 44, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639228849, 'issue_id': 2833665645, 'author': 'Feyensv', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 10, 20, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:27:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196693.png)](https://mergebot.odoo.com/odoo/odoo/pull/196693)

fw-bot (Issue Creator) on (2025-02-05 18:27:18 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 19:44:43 UTC): @Feyensv @AntoineVDV the next pull request (odoo/odoo#196702) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

Feyensv on (2025-02-06 09:10:20 UTC): @robodoo r+

"
2833664611,pull_request,closed,,[FW][FIX] l10n_de: correct extension for detached files,"Fixes an issue with the renaming of the attachment after detaching to not change the extension.

task-4500319

Forward-Port-Of: odoo/odoo#196456",fw-bot,2025-02-05 18:26:57+00:00,[],2025-02-06 12:07:27+00:00,2025-02-06 12:07:27+00:00,https://github.com/odoo/odoo/pull/196692,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637704957, 'issue_id': 2833664611, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196692.png)](https://mergebot.odoo.com/odoo/odoo/pull/196692)', 'created_at': datetime.datetime(2025, 2, 5, 18, 26, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637704966, 'issue_id': 2833664611, 'author': 'fw-bot', 'body': 'This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 26, 59, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:26:58 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196692.png)](https://mergebot.odoo.com/odoo/odoo/pull/196692)

fw-bot (Issue Creator) on (2025-02-05 18:26:59 UTC): This PR targets saas-17.2 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833661449,pull_request,closed,,[FW][FIX] stock: wrong result_package_id,"When forcefully unreserving then reserving products coming from a same package for multiple pickings, the source package is wrongly propagated as destination package on the multiple pickings.

To reproduce:
 - `-i sale_stock,sale_management`
 - Create a storable product (I) with 30 qty on hand
 - Create and confirm an internal transfer to put the product I in a pack (P)
 - Create and confirm two SO :
   - Sell 10 I
   - Sell 20 I
 - Check the 2 SO delivery pickings (D):
   - Each are reserved from pack P
   - They don't have any 'Destination Package' [Expected]
 - From the picking list view, by selecting the 2 pickings D :
   - 'Unreserve' them both
   - 'Check Availability' them both
 - Check the pickings D:
   - Each are reserved from pack P
   - Each have 'Destination Package' P [Faulty]

opw-4272573
---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#193745",fw-bot,2025-02-05 18:25:16+00:00,[],2025-02-06 13:55:40+00:00,2025-02-06 13:55:40+00:00,https://github.com/odoo/odoo/pull/196691,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637701638, 'issue_id': 2833661449, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196691.png)](https://mergebot.odoo.com/odoo/odoo/pull/196691)', 'created_at': datetime.datetime(2025, 2, 5, 18, 25, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637701657, 'issue_id': 2833661449, 'author': 'fw-bot', 'body': 'This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 25, 18, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:25:18 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196691.png)](https://mergebot.odoo.com/odoo/odoo/pull/196691)

fw-bot (Issue Creator) on (2025-02-05 18:25:18 UTC): This PR targets saas-17.4 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833638330,pull_request,open,,[FW][FIX] web_editor: color not getting applied on single selected cell,"**Current behaviour before PR:**

When single cell is selected in a table, trying to apply color closes color palette and color is not getting applied
on it. This happens because applying color on single cell changes selection and cell gets deselected in _onSelectionChange.


**Desired behaviour after PR:**

Now, it is possible to apply color on a single cell.

task-3433784




---
I confirm I have signed the CLA and read the PR guidelines at www.odoo.com/submit-pr

Forward-Port-Of: odoo/odoo#196255
Forward-Port-Of: odoo/odoo#173845",fw-bot,2025-02-05 18:13:42+00:00,[],2025-02-06 09:42:35+00:00,,https://github.com/odoo/odoo/pull/196690,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot'), ('conflict', 'There was an error while creating this forward-port PR')]","[{'comment_id': 2637677444, 'issue_id': 2833638330, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196690.png)](https://mergebot.odoo.com/odoo/odoo/pull/196690)', 'created_at': datetime.datetime(2025, 2, 5, 18, 13, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637677520, 'issue_id': 2833638330, 'author': 'fw-bot', 'body': '@adsa-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#173845 failed.\n\nstdout:\n```\nAuto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nCONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js\nAuto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js\n\n```\n\nEither perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).\n\nIn the former case, you may want to edit this PR message as well.\n\n:warning: after resolving this conflict, you will need to merge it via @robodoo.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 13, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639307310, 'issue_id': 2833638330, 'author': 'adsa-odoo', 'body': '@dmo-odoo Ping!', 'created_at': datetime.datetime(2025, 2, 6, 9, 42, 33, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:13:43 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196690.png)](https://mergebot.odoo.com/odoo/odoo/pull/196690)

fw-bot (Issue Creator) on (2025-02-05 18:13:45 UTC): @adsa-odoo @dmo-odoo cherrypicking of pull request odoo/odoo#173845 failed.

stdout:
```
Auto-merging addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
CONFLICT (content): Merge conflict in addons/web_editor/static/src/js/editor/odoo-editor/src/OdooEditor.js
Auto-merging addons/web_editor/static/src/js/wysiwyg/wysiwyg.js

```

Either perform the forward-port manually (and push to this branch, proceeding as usual) or close this PR (maybe?).

In the former case, you may want to edit this PR message as well.

:warning: after resolving this conflict, you will need to merge it via @robodoo.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

adsa-odoo on (2025-02-06 09:42:33 UTC): @dmo-odoo Ping!

"
2833636192,pull_request,closed,,[FW][FIX] payment_adyen: log refusal reason for refused payments,"Versions
--------
- 17.0+

Steps
-----
1. Enable Adyen as payment provider in test mode;
2. do an eCommerce checkout;
3. select Adyen as payment option;
4. use the following card details[^1]:
    - card number: 4111111111111111
    - expiry: 03/30
    - cvc: 737
    - name on card: CARD_EXPIRED
5. click Pay Now;
6. check order chatter on the backend.

Issue
-----
> Error: Adyen: Received data with invalid payment state: Refused

Refusal shouldn't be an invalid payment state.

Cause
-----
Commit 04f75728fd3e accidentally removed an `elif` branch that was added by commit 4d340a330462e specifically to handle refused payments.

Solution
--------
Re-add the `elif` branch.

opw-4481602

[^1]: https://docs.adyen.com/development-resources/testing/result-codes#values-for-testing-result-reasons

Forward-Port-Of: odoo/odoo#196394",fw-bot,2025-02-05 18:12:32+00:00,[],2025-02-06 11:11:24+00:00,2025-02-06 11:11:24+00:00,https://github.com/odoo/odoo/pull/196689,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637674032, 'issue_id': 2833636192, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196689.png)](https://mergebot.odoo.com/odoo/odoo/pull/196689)', 'created_at': datetime.datetime(2025, 2, 5, 18, 12, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637674103, 'issue_id': 2833636192, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 12, 35, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:12:34 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196689.png)](https://mergebot.odoo.com/odoo/odoo/pull/196689)

fw-bot (Issue Creator) on (2025-02-05 18:12:35 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

"
2833621073,pull_request,closed,,[FW][FIX] stock_picking_batch: remove responsible from all related picking,"Steps to reproduce the bug:
- Create two delivery transfers.
- Add them to a single batch transfer.
- Assign a responsible person to the batch transfer.
- The assigned responsible person will automatically be updated in all related transfers.
- Now, remove the responsible person from the batch transfer.

Problem:
When a responsible person is assigned or modified in a batch transfer, the update is correctly reflected in all related transfers within that batch. However, if the responsible person is removed from the batch transfer, this change is not applied to the individual transfers linked to it.

opw-4519994

Forward-Port-Of: odoo/odoo#196487
Forward-Port-Of: odoo/odoo#196333",fw-bot,2025-02-05 18:05:21+00:00,[],2025-02-06 12:38:37+00:00,2025-02-06 12:38:37+00:00,https://github.com/odoo/odoo/pull/196688,"[('OE', 'the report is linked to a support ticket (opw-...)'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637657988, 'issue_id': 2833621073, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196688.png)](https://mergebot.odoo.com/odoo/odoo/pull/196688)', 'created_at': datetime.datetime(2025, 2, 5, 18, 5, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637658014, 'issue_id': 2833621073, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 5, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637745695, 'issue_id': 2833621073, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 18, 47, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639093011, 'issue_id': 2833621073, 'author': 'fw-bot', 'body': '@DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.', 'created_at': datetime.datetime(2025, 2, 6, 8, 0, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639230988, 'issue_id': 2833621073, 'author': 'DjamelTouati', 'body': 'robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 11, 34, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:05:22 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196688.png)](https://mergebot.odoo.com/odoo/odoo/pull/196688)

fw-bot (Issue Creator) on (2025-02-05 18:05:23 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 18:47:14 UTC): @DjamelTouati @Whenrow ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 08:00:30 UTC): @DjamelTouati @Whenrow this PR was modified / updated and has become a normal PR. It must be merged directly.

DjamelTouati on (2025-02-06 09:11:34 UTC): robodoo r+

"
2833619601,pull_request,closed,,[FW][FIX] hr: fixed the plan smart button,"In this PR,
- Set the default department for the Plans smart button.
- If there is no plan, it will open the form view.

Task-4356557

Forward-Port-Of: odoo/odoo#196602
Forward-Port-Of: odoo/odoo#190938",fw-bot,2025-02-05 18:04:38+00:00,[],2025-02-06 11:11:17+00:00,2025-02-06 11:11:17+00:00,https://github.com/odoo/odoo/pull/196687,"[('RD', 'research & development, internal work'), ('forwardport', 'This PR was created by @fw-bot')]","[{'comment_id': 2637656438, 'issue_id': 2833619601, 'author': 'robodoo', 'body': '[![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196687.png)](https://mergebot.odoo.com/odoo/odoo/pull/196687)', 'created_at': datetime.datetime(2025, 2, 5, 18, 4, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637656459, 'issue_id': 2833619601, 'author': 'fw-bot', 'body': 'This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 5, 18, 4, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637748107, 'issue_id': 2833619601, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse ci/runbot failed on this forward-port PR', 'created_at': datetime.datetime(2025, 2, 5, 18, 48, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638843416, 'issue_id': 2833619601, 'author': 'fw-bot', 'body': '@yava-odoo @tivisse the next pull request (odoo/odoo#196733) is in conflict. You can merge the chain up to here by saying\n> @robodoo r+\n\nMore info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port', 'created_at': datetime.datetime(2025, 2, 6, 5, 8, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639221156, 'issue_id': 2833619601, 'author': 'tivisse', 'body': '@robodoo r+', 'created_at': datetime.datetime(2025, 2, 6, 9, 6, 52, tzinfo=datetime.timezone.utc)}]","robodoo on (2025-02-05 18:04:39 UTC): [![Pull request status dashboard](https://mergebot.odoo.com/odoo/odoo/pull/196687.png)](https://mergebot.odoo.com/odoo/odoo/pull/196687)

fw-bot (Issue Creator) on (2025-02-05 18:04:40 UTC): This PR targets saas-18.1 and is part of the forward-port chain. Further PRs will be created up to master.

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

fw-bot (Issue Creator) on (2025-02-05 18:48:27 UTC): @yava-odoo @tivisse ci/runbot failed on this forward-port PR

fw-bot (Issue Creator) on (2025-02-06 05:08:02 UTC): @yava-odoo @tivisse the next pull request (odoo/odoo#196733) is in conflict. You can merge the chain up to here by saying

More info at https://github.com/odoo/odoo/wiki/Mergebot#forward-port

tivisse on (2025-02-06 09:06:52 UTC): @robodoo r+

"
